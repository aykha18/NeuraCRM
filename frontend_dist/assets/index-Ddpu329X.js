function KH(e,t){for(var r=0;r<t.length;r++){const n=t[r];if(typeof n!="string"&&!Array.isArray(n)){for(const a in n)if(a!=="default"&&!(a in e)){const i=Object.getOwnPropertyDescriptor(n,a);i&&Object.defineProperty(e,a,i.get?i:{enumerable:!0,get:()=>n[a]})}}}return Object.freeze(Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}))}(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const a of document.querySelectorAll('link[rel="modulepreload"]'))n(a);new MutationObserver(a=>{for(const i of a)if(i.type==="childList")for(const l of i.addedNodes)l.tagName==="LINK"&&l.rel==="modulepreload"&&n(l)}).observe(document,{childList:!0,subtree:!0});function r(a){const i={};return a.integrity&&(i.integrity=a.integrity),a.referrerPolicy&&(i.referrerPolicy=a.referrerPolicy),a.crossOrigin==="use-credentials"?i.credentials="include":a.crossOrigin==="anonymous"?i.credentials="omit":i.credentials="same-origin",i}function n(a){if(a.ep)return;a.ep=!0;const i=r(a);fetch(a.href,i)}})();function fs(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}var r1={exports:{}},f0={};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var LT;function YH(){if(LT)return f0;LT=1;var e=Symbol.for("react.transitional.element"),t=Symbol.for("react.fragment");function r(n,a,i){var l=null;if(i!==void 0&&(l=""+i),a.key!==void 0&&(l=""+a.key),"key"in a){i={};for(var c in a)c!=="key"&&(i[c]=a[c])}else i=a;return a=i.ref,{$$typeof:e,type:n,key:l,ref:a!==void 0?a:null,props:i}}return f0.Fragment=t,f0.jsx=r,f0.jsxs=r,f0}var BT;function XH(){return BT||(BT=1,r1.exports=YH()),r1.exports}var s=XH(),n1={exports:{}},bt={};/**
 * @license React
 * react.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var $T;function QH(){if($T)return bt;$T=1;var e=Symbol.for("react.transitional.element"),t=Symbol.for("react.portal"),r=Symbol.for("react.fragment"),n=Symbol.for("react.strict_mode"),a=Symbol.for("react.profiler"),i=Symbol.for("react.consumer"),l=Symbol.for("react.context"),c=Symbol.for("react.forward_ref"),d=Symbol.for("react.suspense"),f=Symbol.for("react.memo"),h=Symbol.for("react.lazy"),p=Symbol.iterator;function g(U){return U===null||typeof U!="object"?null:(U=p&&U[p]||U["@@iterator"],typeof U=="function"?U:null)}var y={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},b=Object.assign,w={};function j(U,ae,D){this.props=U,this.context=ae,this.refs=w,this.updater=D||y}j.prototype.isReactComponent={},j.prototype.setState=function(U,ae){if(typeof U!="object"&&typeof U!="function"&&U!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,U,ae,"setState")},j.prototype.forceUpdate=function(U){this.updater.enqueueForceUpdate(this,U,"forceUpdate")};function S(){}S.prototype=j.prototype;function _(U,ae,D){this.props=U,this.context=ae,this.refs=w,this.updater=D||y}var E=_.prototype=new S;E.constructor=_,b(E,j.prototype),E.isPureReactComponent=!0;var T=Array.isArray,A={H:null,A:null,T:null,S:null,V:null},C=Object.prototype.hasOwnProperty;function O(U,ae,D,H,B,V){return D=V.ref,{$$typeof:e,type:U,key:ae,ref:D!==void 0?D:null,props:V}}function P(U,ae){return O(U.type,ae,void 0,void 0,void 0,U.props)}function F(U){return typeof U=="object"&&U!==null&&U.$$typeof===e}function G(U){var ae={"=":"=0",":":"=2"};return"$"+U.replace(/[=:]/g,function(D){return ae[D]})}var W=/\/+/g;function ee(U,ae){return typeof U=="object"&&U!==null&&U.key!=null?G(""+U.key):ae.toString(36)}function ue(){}function fe(U){switch(U.status){case"fulfilled":return U.value;case"rejected":throw U.reason;default:switch(typeof U.status=="string"?U.then(ue,ue):(U.status="pending",U.then(function(ae){U.status==="pending"&&(U.status="fulfilled",U.value=ae)},function(ae){U.status==="pending"&&(U.status="rejected",U.reason=ae)})),U.status){case"fulfilled":return U.value;case"rejected":throw U.reason}}throw U}function Q(U,ae,D,H,B){var V=typeof U;(V==="undefined"||V==="boolean")&&(U=null);var le=!1;if(U===null)le=!0;else switch(V){case"bigint":case"string":case"number":le=!0;break;case"object":switch(U.$$typeof){case e:case t:le=!0;break;case h:return le=U._init,Q(le(U._payload),ae,D,H,B)}}if(le)return B=B(U),le=H===""?"."+ee(U,0):H,T(B)?(D="",le!=null&&(D=le.replace(W,"$&/")+"/"),Q(B,ae,D,"",function(ie){return ie})):B!=null&&(F(B)&&(B=P(B,D+(B.key==null||U&&U.key===B.key?"":(""+B.key).replace(W,"$&/")+"/")+le)),ae.push(B)),1;le=0;var De=H===""?".":H+":";if(T(U))for(var re=0;re<U.length;re++)H=U[re],V=De+ee(H,re),le+=Q(H,ae,D,V,B);else if(re=g(U),typeof re=="function")for(U=re.call(U),re=0;!(H=U.next()).done;)H=H.value,V=De+ee(H,re++),le+=Q(H,ae,D,V,B);else if(V==="object"){if(typeof U.then=="function")return Q(fe(U),ae,D,H,B);throw ae=String(U),Error("Objects are not valid as a React child (found: "+(ae==="[object Object]"?"object with keys {"+Object.keys(U).join(", ")+"}":ae)+"). If you meant to render a collection of children, use an array instead.")}return le}function K(U,ae,D){if(U==null)return U;var H=[],B=0;return Q(U,H,"","",function(V){return ae.call(D,V,B++)}),H}function J(U){if(U._status===-1){var ae=U._result;ae=ae(),ae.then(function(D){(U._status===0||U._status===-1)&&(U._status=1,U._result=D)},function(D){(U._status===0||U._status===-1)&&(U._status=2,U._result=D)}),U._status===-1&&(U._status=0,U._result=ae)}if(U._status===1)return U._result.default;throw U._result}var se=typeof reportError=="function"?reportError:function(U){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var ae=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof U=="object"&&U!==null&&typeof U.message=="string"?String(U.message):String(U),error:U});if(!window.dispatchEvent(ae))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",U);return}console.error(U)};function xe(){}return bt.Children={map:K,forEach:function(U,ae,D){K(U,function(){ae.apply(this,arguments)},D)},count:function(U){var ae=0;return K(U,function(){ae++}),ae},toArray:function(U){return K(U,function(ae){return ae})||[]},only:function(U){if(!F(U))throw Error("React.Children.only expected to receive a single React element child.");return U}},bt.Component=j,bt.Fragment=r,bt.Profiler=a,bt.PureComponent=_,bt.StrictMode=n,bt.Suspense=d,bt.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=A,bt.__COMPILER_RUNTIME={__proto__:null,c:function(U){return A.H.useMemoCache(U)}},bt.cache=function(U){return function(){return U.apply(null,arguments)}},bt.cloneElement=function(U,ae,D){if(U==null)throw Error("The argument must be a React element, but you passed "+U+".");var H=b({},U.props),B=U.key,V=void 0;if(ae!=null)for(le in ae.ref!==void 0&&(V=void 0),ae.key!==void 0&&(B=""+ae.key),ae)!C.call(ae,le)||le==="key"||le==="__self"||le==="__source"||le==="ref"&&ae.ref===void 0||(H[le]=ae[le]);var le=arguments.length-2;if(le===1)H.children=D;else if(1<le){for(var De=Array(le),re=0;re<le;re++)De[re]=arguments[re+2];H.children=De}return O(U.type,B,void 0,void 0,V,H)},bt.createContext=function(U){return U={$$typeof:l,_currentValue:U,_currentValue2:U,_threadCount:0,Provider:null,Consumer:null},U.Provider=U,U.Consumer={$$typeof:i,_context:U},U},bt.createElement=function(U,ae,D){var H,B={},V=null;if(ae!=null)for(H in ae.key!==void 0&&(V=""+ae.key),ae)C.call(ae,H)&&H!=="key"&&H!=="__self"&&H!=="__source"&&(B[H]=ae[H]);var le=arguments.length-2;if(le===1)B.children=D;else if(1<le){for(var De=Array(le),re=0;re<le;re++)De[re]=arguments[re+2];B.children=De}if(U&&U.defaultProps)for(H in le=U.defaultProps,le)B[H]===void 0&&(B[H]=le[H]);return O(U,V,void 0,void 0,null,B)},bt.createRef=function(){return{current:null}},bt.forwardRef=function(U){return{$$typeof:c,render:U}},bt.isValidElement=F,bt.lazy=function(U){return{$$typeof:h,_payload:{_status:-1,_result:U},_init:J}},bt.memo=function(U,ae){return{$$typeof:f,type:U,compare:ae===void 0?null:ae}},bt.startTransition=function(U){var ae=A.T,D={};A.T=D;try{var H=U(),B=A.S;B!==null&&B(D,H),typeof H=="object"&&H!==null&&typeof H.then=="function"&&H.then(xe,se)}catch(V){se(V)}finally{A.T=ae}},bt.unstable_useCacheRefresh=function(){return A.H.useCacheRefresh()},bt.use=function(U){return A.H.use(U)},bt.useActionState=function(U,ae,D){return A.H.useActionState(U,ae,D)},bt.useCallback=function(U,ae){return A.H.useCallback(U,ae)},bt.useContext=function(U){return A.H.useContext(U)},bt.useDebugValue=function(){},bt.useDeferredValue=function(U,ae){return A.H.useDeferredValue(U,ae)},bt.useEffect=function(U,ae,D){var H=A.H;if(typeof D=="function")throw Error("useEffect CRUD overload is not enabled in this build of React.");return H.useEffect(U,ae)},bt.useId=function(){return A.H.useId()},bt.useImperativeHandle=function(U,ae,D){return A.H.useImperativeHandle(U,ae,D)},bt.useInsertionEffect=function(U,ae){return A.H.useInsertionEffect(U,ae)},bt.useLayoutEffect=function(U,ae){return A.H.useLayoutEffect(U,ae)},bt.useMemo=function(U,ae){return A.H.useMemo(U,ae)},bt.useOptimistic=function(U,ae){return A.H.useOptimistic(U,ae)},bt.useReducer=function(U,ae,D){return A.H.useReducer(U,ae,D)},bt.useRef=function(U){return A.H.useRef(U)},bt.useState=function(U){return A.H.useState(U)},bt.useSyncExternalStore=function(U,ae,D){return A.H.useSyncExternalStore(U,ae,D)},bt.useTransition=function(){return A.H.useTransition()},bt.version="19.1.0",bt}var UT;function Ud(){return UT||(UT=1,n1.exports=QH()),n1.exports}var v=Ud();const Qe=fs(v),zT=KH({__proto__:null,default:Qe},[v]);var a1={exports:{}},h0={},s1={exports:{}},i1={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var HT;function ZH(){return HT||(HT=1,function(e){function t(K,J){var se=K.length;K.push(J);e:for(;0<se;){var xe=se-1>>>1,U=K[xe];if(0<a(U,J))K[xe]=J,K[se]=U,se=xe;else break e}}function r(K){return K.length===0?null:K[0]}function n(K){if(K.length===0)return null;var J=K[0],se=K.pop();if(se!==J){K[0]=se;e:for(var xe=0,U=K.length,ae=U>>>1;xe<ae;){var D=2*(xe+1)-1,H=K[D],B=D+1,V=K[B];if(0>a(H,se))B<U&&0>a(V,H)?(K[xe]=V,K[B]=se,xe=B):(K[xe]=H,K[D]=se,xe=D);else if(B<U&&0>a(V,se))K[xe]=V,K[B]=se,xe=B;else break e}}return J}function a(K,J){var se=K.sortIndex-J.sortIndex;return se!==0?se:K.id-J.id}if(e.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var i=performance;e.unstable_now=function(){return i.now()}}else{var l=Date,c=l.now();e.unstable_now=function(){return l.now()-c}}var d=[],f=[],h=1,p=null,g=3,y=!1,b=!1,w=!1,j=!1,S=typeof setTimeout=="function"?setTimeout:null,_=typeof clearTimeout=="function"?clearTimeout:null,E=typeof setImmediate<"u"?setImmediate:null;function T(K){for(var J=r(f);J!==null;){if(J.callback===null)n(f);else if(J.startTime<=K)n(f),J.sortIndex=J.expirationTime,t(d,J);else break;J=r(f)}}function A(K){if(w=!1,T(K),!b)if(r(d)!==null)b=!0,C||(C=!0,ee());else{var J=r(f);J!==null&&Q(A,J.startTime-K)}}var C=!1,O=-1,P=5,F=-1;function G(){return j?!0:!(e.unstable_now()-F<P)}function W(){if(j=!1,C){var K=e.unstable_now();F=K;var J=!0;try{e:{b=!1,w&&(w=!1,_(O),O=-1),y=!0;var se=g;try{t:{for(T(K),p=r(d);p!==null&&!(p.expirationTime>K&&G());){var xe=p.callback;if(typeof xe=="function"){p.callback=null,g=p.priorityLevel;var U=xe(p.expirationTime<=K);if(K=e.unstable_now(),typeof U=="function"){p.callback=U,T(K),J=!0;break t}p===r(d)&&n(d),T(K)}else n(d);p=r(d)}if(p!==null)J=!0;else{var ae=r(f);ae!==null&&Q(A,ae.startTime-K),J=!1}}break e}finally{p=null,g=se,y=!1}J=void 0}}finally{J?ee():C=!1}}}var ee;if(typeof E=="function")ee=function(){E(W)};else if(typeof MessageChannel<"u"){var ue=new MessageChannel,fe=ue.port2;ue.port1.onmessage=W,ee=function(){fe.postMessage(null)}}else ee=function(){S(W,0)};function Q(K,J){O=S(function(){K(e.unstable_now())},J)}e.unstable_IdlePriority=5,e.unstable_ImmediatePriority=1,e.unstable_LowPriority=4,e.unstable_NormalPriority=3,e.unstable_Profiling=null,e.unstable_UserBlockingPriority=2,e.unstable_cancelCallback=function(K){K.callback=null},e.unstable_forceFrameRate=function(K){0>K||125<K?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):P=0<K?Math.floor(1e3/K):5},e.unstable_getCurrentPriorityLevel=function(){return g},e.unstable_next=function(K){switch(g){case 1:case 2:case 3:var J=3;break;default:J=g}var se=g;g=J;try{return K()}finally{g=se}},e.unstable_requestPaint=function(){j=!0},e.unstable_runWithPriority=function(K,J){switch(K){case 1:case 2:case 3:case 4:case 5:break;default:K=3}var se=g;g=K;try{return J()}finally{g=se}},e.unstable_scheduleCallback=function(K,J,se){var xe=e.unstable_now();switch(typeof se=="object"&&se!==null?(se=se.delay,se=typeof se=="number"&&0<se?xe+se:xe):se=xe,K){case 1:var U=-1;break;case 2:U=250;break;case 5:U=1073741823;break;case 4:U=1e4;break;default:U=5e3}return U=se+U,K={id:h++,callback:J,priorityLevel:K,startTime:se,expirationTime:U,sortIndex:-1},se>xe?(K.sortIndex=se,t(f,K),r(d)===null&&K===r(f)&&(w?(_(O),O=-1):w=!0,Q(A,se-xe))):(K.sortIndex=U,t(d,K),b||y||(b=!0,C||(C=!0,ee()))),K},e.unstable_shouldYield=G,e.unstable_wrapCallback=function(K){var J=g;return function(){var se=g;g=J;try{return K.apply(this,arguments)}finally{g=se}}}}(i1)),i1}var VT;function JH(){return VT||(VT=1,s1.exports=ZH()),s1.exports}var l1={exports:{}},Zn={};/**
 * @license React
 * react-dom.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var qT;function eV(){if(qT)return Zn;qT=1;var e=Ud();function t(d){var f="https://react.dev/errors/"+d;if(1<arguments.length){f+="?args[]="+encodeURIComponent(arguments[1]);for(var h=2;h<arguments.length;h++)f+="&args[]="+encodeURIComponent(arguments[h])}return"Minified React error #"+d+"; visit "+f+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function r(){}var n={d:{f:r,r:function(){throw Error(t(522))},D:r,C:r,L:r,m:r,X:r,S:r,M:r},p:0,findDOMNode:null},a=Symbol.for("react.portal");function i(d,f,h){var p=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:a,key:p==null?null:""+p,children:d,containerInfo:f,implementation:h}}var l=e.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function c(d,f){if(d==="font")return"";if(typeof f=="string")return f==="use-credentials"?f:""}return Zn.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=n,Zn.createPortal=function(d,f){var h=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!f||f.nodeType!==1&&f.nodeType!==9&&f.nodeType!==11)throw Error(t(299));return i(d,f,null,h)},Zn.flushSync=function(d){var f=l.T,h=n.p;try{if(l.T=null,n.p=2,d)return d()}finally{l.T=f,n.p=h,n.d.f()}},Zn.preconnect=function(d,f){typeof d=="string"&&(f?(f=f.crossOrigin,f=typeof f=="string"?f==="use-credentials"?f:"":void 0):f=null,n.d.C(d,f))},Zn.prefetchDNS=function(d){typeof d=="string"&&n.d.D(d)},Zn.preinit=function(d,f){if(typeof d=="string"&&f&&typeof f.as=="string"){var h=f.as,p=c(h,f.crossOrigin),g=typeof f.integrity=="string"?f.integrity:void 0,y=typeof f.fetchPriority=="string"?f.fetchPriority:void 0;h==="style"?n.d.S(d,typeof f.precedence=="string"?f.precedence:void 0,{crossOrigin:p,integrity:g,fetchPriority:y}):h==="script"&&n.d.X(d,{crossOrigin:p,integrity:g,fetchPriority:y,nonce:typeof f.nonce=="string"?f.nonce:void 0})}},Zn.preinitModule=function(d,f){if(typeof d=="string")if(typeof f=="object"&&f!==null){if(f.as==null||f.as==="script"){var h=c(f.as,f.crossOrigin);n.d.M(d,{crossOrigin:h,integrity:typeof f.integrity=="string"?f.integrity:void 0,nonce:typeof f.nonce=="string"?f.nonce:void 0})}}else f==null&&n.d.M(d)},Zn.preload=function(d,f){if(typeof d=="string"&&typeof f=="object"&&f!==null&&typeof f.as=="string"){var h=f.as,p=c(h,f.crossOrigin);n.d.L(d,h,{crossOrigin:p,integrity:typeof f.integrity=="string"?f.integrity:void 0,nonce:typeof f.nonce=="string"?f.nonce:void 0,type:typeof f.type=="string"?f.type:void 0,fetchPriority:typeof f.fetchPriority=="string"?f.fetchPriority:void 0,referrerPolicy:typeof f.referrerPolicy=="string"?f.referrerPolicy:void 0,imageSrcSet:typeof f.imageSrcSet=="string"?f.imageSrcSet:void 0,imageSizes:typeof f.imageSizes=="string"?f.imageSizes:void 0,media:typeof f.media=="string"?f.media:void 0})}},Zn.preloadModule=function(d,f){if(typeof d=="string")if(f){var h=c(f.as,f.crossOrigin);n.d.m(d,{as:typeof f.as=="string"&&f.as!=="script"?f.as:void 0,crossOrigin:h,integrity:typeof f.integrity=="string"?f.integrity:void 0})}else n.d.m(d)},Zn.requestFormReset=function(d){n.d.r(d)},Zn.unstable_batchedUpdates=function(d,f){return d(f)},Zn.useFormState=function(d,f,h){return l.H.useFormState(d,f,h)},Zn.useFormStatus=function(){return l.H.useHostTransitionStatus()},Zn.version="19.1.0",Zn}var WT;function bM(){if(WT)return l1.exports;WT=1;function e(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(e)}catch(t){console.error(t)}}return e(),l1.exports=eV(),l1.exports}/**
 * @license React
 * react-dom-client.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var GT;function tV(){if(GT)return h0;GT=1;var e=JH(),t=Ud(),r=bM();function n(o){var u="https://react.dev/errors/"+o;if(1<arguments.length){u+="?args[]="+encodeURIComponent(arguments[1]);for(var m=2;m<arguments.length;m++)u+="&args[]="+encodeURIComponent(arguments[m])}return"Minified React error #"+o+"; visit "+u+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function a(o){return!(!o||o.nodeType!==1&&o.nodeType!==9&&o.nodeType!==11)}function i(o){var u=o,m=o;if(o.alternate)for(;u.return;)u=u.return;else{o=u;do u=o,(u.flags&4098)!==0&&(m=u.return),o=u.return;while(o)}return u.tag===3?m:null}function l(o){if(o.tag===13){var u=o.memoizedState;if(u===null&&(o=o.alternate,o!==null&&(u=o.memoizedState)),u!==null)return u.dehydrated}return null}function c(o){if(i(o)!==o)throw Error(n(188))}function d(o){var u=o.alternate;if(!u){if(u=i(o),u===null)throw Error(n(188));return u!==o?null:o}for(var m=o,x=u;;){var N=m.return;if(N===null)break;var k=N.alternate;if(k===null){if(x=N.return,x!==null){m=x;continue}break}if(N.child===k.child){for(k=N.child;k;){if(k===m)return c(N),o;if(k===x)return c(N),u;k=k.sibling}throw Error(n(188))}if(m.return!==x.return)m=N,x=k;else{for(var R=!1,z=N.child;z;){if(z===m){R=!0,m=N,x=k;break}if(z===x){R=!0,x=N,m=k;break}z=z.sibling}if(!R){for(z=k.child;z;){if(z===m){R=!0,m=k,x=N;break}if(z===x){R=!0,x=k,m=N;break}z=z.sibling}if(!R)throw Error(n(189))}}if(m.alternate!==x)throw Error(n(190))}if(m.tag!==3)throw Error(n(188));return m.stateNode.current===m?o:u}function f(o){var u=o.tag;if(u===5||u===26||u===27||u===6)return o;for(o=o.child;o!==null;){if(u=f(o),u!==null)return u;o=o.sibling}return null}var h=Object.assign,p=Symbol.for("react.element"),g=Symbol.for("react.transitional.element"),y=Symbol.for("react.portal"),b=Symbol.for("react.fragment"),w=Symbol.for("react.strict_mode"),j=Symbol.for("react.profiler"),S=Symbol.for("react.provider"),_=Symbol.for("react.consumer"),E=Symbol.for("react.context"),T=Symbol.for("react.forward_ref"),A=Symbol.for("react.suspense"),C=Symbol.for("react.suspense_list"),O=Symbol.for("react.memo"),P=Symbol.for("react.lazy"),F=Symbol.for("react.activity"),G=Symbol.for("react.memo_cache_sentinel"),W=Symbol.iterator;function ee(o){return o===null||typeof o!="object"?null:(o=W&&o[W]||o["@@iterator"],typeof o=="function"?o:null)}var ue=Symbol.for("react.client.reference");function fe(o){if(o==null)return null;if(typeof o=="function")return o.$$typeof===ue?null:o.displayName||o.name||null;if(typeof o=="string")return o;switch(o){case b:return"Fragment";case j:return"Profiler";case w:return"StrictMode";case A:return"Suspense";case C:return"SuspenseList";case F:return"Activity"}if(typeof o=="object")switch(o.$$typeof){case y:return"Portal";case E:return(o.displayName||"Context")+".Provider";case _:return(o._context.displayName||"Context")+".Consumer";case T:var u=o.render;return o=o.displayName,o||(o=u.displayName||u.name||"",o=o!==""?"ForwardRef("+o+")":"ForwardRef"),o;case O:return u=o.displayName||null,u!==null?u:fe(o.type)||"Memo";case P:u=o._payload,o=o._init;try{return fe(o(u))}catch{}}return null}var Q=Array.isArray,K=t.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,J=r.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,se={pending:!1,data:null,method:null,action:null},xe=[],U=-1;function ae(o){return{current:o}}function D(o){0>U||(o.current=xe[U],xe[U]=null,U--)}function H(o,u){U++,xe[U]=o.current,o.current=u}var B=ae(null),V=ae(null),le=ae(null),De=ae(null);function re(o,u){switch(H(le,u),H(V,o),H(B,null),u.nodeType){case 9:case 11:o=(o=u.documentElement)&&(o=o.namespaceURI)?fT(o):0;break;default:if(o=u.tagName,u=u.namespaceURI)u=fT(u),o=hT(u,o);else switch(o){case"svg":o=1;break;case"math":o=2;break;default:o=0}}D(B),H(B,o)}function ie(){D(B),D(V),D(le)}function de(o){o.memoizedState!==null&&H(De,o);var u=B.current,m=hT(u,o.type);u!==m&&(H(V,o),H(B,m))}function oe(o){V.current===o&&(D(B),D(V)),De.current===o&&(D(De),l0._currentValue=se)}var me=Object.prototype.hasOwnProperty,Xe=e.unstable_scheduleCallback,Ue=e.unstable_cancelCallback,xt=e.unstable_shouldYield,Ye=e.unstable_requestPaint,Be=e.unstable_now,Dt=e.unstable_getCurrentPriorityLevel,Kt=e.unstable_ImmediatePriority,yt=e.unstable_UserBlockingPriority,Vt=e.unstable_NormalPriority,Rr=e.unstable_LowPriority,Wr=e.unstable_IdlePriority,yr=e.log,Pn=e.unstable_setDisableYieldValue,Mn=null,vt=null;function ur(o){if(typeof yr=="function"&&Pn(o),vt&&typeof vt.setStrictMode=="function")try{vt.setStrictMode(Mn,o)}catch{}}var pt=Math.clz32?Math.clz32:at,qt=Math.log,dn=Math.LN2;function at(o){return o>>>=0,o===0?32:31-(qt(o)/dn|0)|0}var Mt=256,Zr=4194304;function Nr(o){var u=o&42;if(u!==0)return u;switch(o&-o){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return o&4194048;case 4194304:case 8388608:case 16777216:case 33554432:return o&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return o}}function ge(o,u,m){var x=o.pendingLanes;if(x===0)return 0;var N=0,k=o.suspendedLanes,R=o.pingedLanes;o=o.warmLanes;var z=x&134217727;return z!==0?(x=z&~k,x!==0?N=Nr(x):(R&=z,R!==0?N=Nr(R):m||(m=z&~o,m!==0&&(N=Nr(m))))):(z=x&~k,z!==0?N=Nr(z):R!==0?N=Nr(R):m||(m=x&~o,m!==0&&(N=Nr(m)))),N===0?0:u!==0&&u!==N&&(u&k)===0&&(k=N&-N,m=u&-u,k>=m||k===32&&(m&4194048)!==0)?u:N}function ct(o,u){return(o.pendingLanes&~(o.suspendedLanes&~o.pingedLanes)&u)===0}function At(o,u){switch(o){case 1:case 2:case 4:case 8:case 64:return u+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return u+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function te(){var o=Mt;return Mt<<=1,(Mt&4194048)===0&&(Mt=256),o}function Ce(){var o=Zr;return Zr<<=1,(Zr&62914560)===0&&(Zr=4194304),o}function Ae(o){for(var u=[],m=0;31>m;m++)u.push(o);return u}function ut(o,u){o.pendingLanes|=u,u!==268435456&&(o.suspendedLanes=0,o.pingedLanes=0,o.warmLanes=0)}function ot(o,u,m,x,N,k){var R=o.pendingLanes;o.pendingLanes=m,o.suspendedLanes=0,o.pingedLanes=0,o.warmLanes=0,o.expiredLanes&=m,o.entangledLanes&=m,o.errorRecoveryDisabledLanes&=m,o.shellSuspendCounter=0;var z=o.entanglements,ne=o.expirationTimes,ve=o.hiddenUpdates;for(m=R&~m;0<m;){var Oe=31-pt(m),Re=1<<Oe;z[Oe]=0,ne[Oe]=-1;var je=ve[Oe];if(je!==null)for(ve[Oe]=null,Oe=0;Oe<je.length;Oe++){var Se=je[Oe];Se!==null&&(Se.lane&=-536870913)}m&=~Re}x!==0&&Er(o,x,0),k!==0&&N===0&&o.tag!==0&&(o.suspendedLanes|=k&~(R&~u))}function Er(o,u,m){o.pendingLanes|=u,o.suspendedLanes&=~u;var x=31-pt(u);o.entangledLanes|=u,o.entanglements[x]=o.entanglements[x]|1073741824|m&4194090}function vr(o,u){var m=o.entangledLanes|=u;for(o=o.entanglements;m;){var x=31-pt(m),N=1<<x;N&u|o[x]&u&&(o[x]|=u),m&=~N}}function hs(o){switch(o){case 2:o=1;break;case 8:o=4;break;case 32:o=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:o=128;break;case 268435456:o=134217728;break;default:o=0}return o}function Xn(o){return o&=-o,2<o?8<o?(o&134217727)!==0?32:268435456:8:2}function Fl(){var o=J.p;return o!==0?o:(o=window.event,o===void 0?32:DT(o.type))}function xi(o,u){var m=J.p;try{return J.p=o,u()}finally{J.p=m}}var ga=Math.random().toString(36).slice(2),dr="__reactFiber$"+ga,Wt="__reactProps$"+ga,xa="__reactContainer$"+ga,gt="__reactEvents$"+ga,fr="__reactListeners$"+ga,L="__reactHandles$"+ga,Z="__reactResources$"+ga,q="__reactMarker$"+ga;function Y(o){delete o[dr],delete o[Wt],delete o[gt],delete o[fr],delete o[L]}function M(o){var u=o[dr];if(u)return u;for(var m=o.parentNode;m;){if(u=m[xa]||m[dr]){if(m=u.alternate,u.child!==null||m!==null&&m.child!==null)for(o=xT(o);o!==null;){if(m=o[dr])return m;o=xT(o)}return u}o=m,m=o.parentNode}return null}function X(o){if(o=o[dr]||o[xa]){var u=o.tag;if(u===5||u===6||u===13||u===26||u===27||u===3)return o}return null}function be(o){var u=o.tag;if(u===5||u===26||u===27||u===6)return o.stateNode;throw Error(n(33))}function _e(o){var u=o[Z];return u||(u=o[Z]={hoistableStyles:new Map,hoistableScripts:new Map}),u}function pe(o){o[q]=!0}var we=new Set,Ne={};function Fe(o,u){Le(o,u),Le(o+"Capture",u)}function Le(o,u){for(Ne[o]=u,o=0;o<u.length;o++)we.add(u[o])}var Ke=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),Me={},Ve={};function tt(o){return me.call(Ve,o)?!0:me.call(Me,o)?!1:Ke.test(o)?Ve[o]=!0:(Me[o]=!0,!1)}function _t(o,u,m){if(tt(u))if(m===null)o.removeAttribute(u);else{switch(typeof m){case"undefined":case"function":case"symbol":o.removeAttribute(u);return;case"boolean":var x=u.toLowerCase().slice(0,5);if(x!=="data-"&&x!=="aria-"){o.removeAttribute(u);return}}o.setAttribute(u,""+m)}}function Yt(o,u,m){if(m===null)o.removeAttribute(u);else{switch(typeof m){case"undefined":case"function":case"symbol":case"boolean":o.removeAttribute(u);return}o.setAttribute(u,""+m)}}function ar(o,u,m,x){if(x===null)o.removeAttribute(m);else{switch(typeof x){case"undefined":case"function":case"symbol":case"boolean":o.removeAttribute(m);return}o.setAttributeNS(u,m,""+x)}}var Fa,Ys;function ya(o){if(Fa===void 0)try{throw Error()}catch(m){var u=m.stack.trim().match(/\n( *(at )?)/);Fa=u&&u[1]||"",Ys=-1<m.stack.indexOf(`
    at`)?" (<anonymous>)":-1<m.stack.indexOf("@")?"@unknown:0:0":""}return`
`+Fa+o+Ys}var va=!1;function yi(o,u){if(!o||va)return"";va=!0;var m=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var x={DetermineComponentFrameRoot:function(){try{if(u){var Re=function(){throw Error()};if(Object.defineProperty(Re.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(Re,[])}catch(Se){var je=Se}Reflect.construct(o,[],Re)}else{try{Re.call()}catch(Se){je=Se}o.call(Re.prototype)}}else{try{throw Error()}catch(Se){je=Se}(Re=o())&&typeof Re.catch=="function"&&Re.catch(function(){})}}catch(Se){if(Se&&je&&typeof Se.stack=="string")return[Se.stack,je.stack]}return[null,null]}};x.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var N=Object.getOwnPropertyDescriptor(x.DetermineComponentFrameRoot,"name");N&&N.configurable&&Object.defineProperty(x.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var k=x.DetermineComponentFrameRoot(),R=k[0],z=k[1];if(R&&z){var ne=R.split(`
`),ve=z.split(`
`);for(N=x=0;x<ne.length&&!ne[x].includes("DetermineComponentFrameRoot");)x++;for(;N<ve.length&&!ve[N].includes("DetermineComponentFrameRoot");)N++;if(x===ne.length||N===ve.length)for(x=ne.length-1,N=ve.length-1;1<=x&&0<=N&&ne[x]!==ve[N];)N--;for(;1<=x&&0<=N;x--,N--)if(ne[x]!==ve[N]){if(x!==1||N!==1)do if(x--,N--,0>N||ne[x]!==ve[N]){var Oe=`
`+ne[x].replace(" at new "," at ");return o.displayName&&Oe.includes("<anonymous>")&&(Oe=Oe.replace("<anonymous>",o.displayName)),Oe}while(1<=x&&0<=N);break}}}finally{va=!1,Error.prepareStackTrace=m}return(m=o?o.displayName||o.name:"")?ya(m):""}function ba(o){switch(o.tag){case 26:case 27:case 5:return ya(o.type);case 16:return ya("Lazy");case 13:return ya("Suspense");case 19:return ya("SuspenseList");case 0:case 15:return yi(o.type,!1);case 11:return yi(o.type.render,!1);case 1:return yi(o.type,!0);case 31:return ya("Activity");default:return""}}function mf(o){try{var u="";do u+=ba(o),o=o.return;while(o);return u}catch(m){return`
Error generating stack: `+m.message+`
`+m.stack}}function sa(o){switch(typeof o){case"bigint":case"boolean":case"number":case"string":case"undefined":return o;case"object":return o;default:return""}}function Sm(o){var u=o.type;return(o=o.nodeName)&&o.toLowerCase()==="input"&&(u==="checkbox"||u==="radio")}function av(o){var u=Sm(o)?"checked":"value",m=Object.getOwnPropertyDescriptor(o.constructor.prototype,u),x=""+o[u];if(!o.hasOwnProperty(u)&&typeof m<"u"&&typeof m.get=="function"&&typeof m.set=="function"){var N=m.get,k=m.set;return Object.defineProperty(o,u,{configurable:!0,get:function(){return N.call(this)},set:function(R){x=""+R,k.call(this,R)}}),Object.defineProperty(o,u,{enumerable:m.enumerable}),{getValue:function(){return x},setValue:function(R){x=""+R},stopTracking:function(){o._valueTracker=null,delete o[u]}}}}function Xo(o){o._valueTracker||(o._valueTracker=av(o))}function pf(o){if(!o)return!1;var u=o._valueTracker;if(!u)return!0;var m=u.getValue(),x="";return o&&(x=Sm(o)?o.checked?"true":"false":o.value),o=x,o!==m?(u.setValue(o),!0):!1}function bu(o){if(o=o||(typeof document<"u"?document:void 0),typeof o>"u")return null;try{return o.activeElement||o.body}catch{return o.body}}var sv=/[\n"\\]/g;function wa(o){return o.replace(sv,function(u){return"\\"+u.charCodeAt(0).toString(16)+" "})}function gf(o,u,m,x,N,k,R,z){o.name="",R!=null&&typeof R!="function"&&typeof R!="symbol"&&typeof R!="boolean"?o.type=R:o.removeAttribute("type"),u!=null?R==="number"?(u===0&&o.value===""||o.value!=u)&&(o.value=""+sa(u)):o.value!==""+sa(u)&&(o.value=""+sa(u)):R!=="submit"&&R!=="reset"||o.removeAttribute("value"),u!=null?xf(o,R,sa(u)):m!=null?xf(o,R,sa(m)):x!=null&&o.removeAttribute("value"),N==null&&k!=null&&(o.defaultChecked=!!k),N!=null&&(o.checked=N&&typeof N!="function"&&typeof N!="symbol"),z!=null&&typeof z!="function"&&typeof z!="symbol"&&typeof z!="boolean"?o.name=""+sa(z):o.removeAttribute("name")}function km(o,u,m,x,N,k,R,z){if(k!=null&&typeof k!="function"&&typeof k!="symbol"&&typeof k!="boolean"&&(o.type=k),u!=null||m!=null){if(!(k!=="submit"&&k!=="reset"||u!=null))return;m=m!=null?""+sa(m):"",u=u!=null?""+sa(u):m,z||u===o.value||(o.value=u),o.defaultValue=u}x=x??N,x=typeof x!="function"&&typeof x!="symbol"&&!!x,o.checked=z?o.checked:!!x,o.defaultChecked=!!x,R!=null&&typeof R!="function"&&typeof R!="symbol"&&typeof R!="boolean"&&(o.name=R)}function xf(o,u,m){u==="number"&&bu(o.ownerDocument)===o||o.defaultValue===""+m||(o.defaultValue=""+m)}function Ll(o,u,m,x){if(o=o.options,u){u={};for(var N=0;N<m.length;N++)u["$"+m[N]]=!0;for(m=0;m<o.length;m++)N=u.hasOwnProperty("$"+o[m].value),o[m].selected!==N&&(o[m].selected=N),N&&x&&(o[m].defaultSelected=!0)}else{for(m=""+sa(m),u=null,N=0;N<o.length;N++){if(o[N].value===m){o[N].selected=!0,x&&(o[N].defaultSelected=!0);return}u!==null||o[N].disabled||(u=o[N])}u!==null&&(u.selected=!0)}}function _m(o,u,m){if(u!=null&&(u=""+sa(u),u!==o.value&&(o.value=u),m==null)){o.defaultValue!==u&&(o.defaultValue=u);return}o.defaultValue=m!=null?""+sa(m):""}function Qo(o,u,m,x){if(u==null){if(x!=null){if(m!=null)throw Error(n(92));if(Q(x)){if(1<x.length)throw Error(n(93));x=x[0]}m=x}m==null&&(m=""),u=m}m=sa(u),o.defaultValue=m,x=o.textContent,x===m&&x!==""&&x!==null&&(o.value=x)}function Ui(o,u){if(u){var m=o.firstChild;if(m&&m===o.lastChild&&m.nodeType===3){m.nodeValue=u;return}}o.textContent=u}var Em=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function yf(o,u,m){var x=u.indexOf("--")===0;m==null||typeof m=="boolean"||m===""?x?o.setProperty(u,""):u==="float"?o.cssFloat="":o[u]="":x?o.setProperty(u,m):typeof m!="number"||m===0||Em.has(u)?u==="float"?o.cssFloat=m:o[u]=(""+m).trim():o[u]=m+"px"}function Am(o,u,m){if(u!=null&&typeof u!="object")throw Error(n(62));if(o=o.style,m!=null){for(var x in m)!m.hasOwnProperty(x)||u!=null&&u.hasOwnProperty(x)||(x.indexOf("--")===0?o.setProperty(x,""):x==="float"?o.cssFloat="":o[x]="");for(var N in u)x=u[N],u.hasOwnProperty(N)&&m[N]!==x&&yf(o,N,x)}else for(var k in u)u.hasOwnProperty(k)&&yf(o,k,u[k])}function vf(o){if(o.indexOf("-")===-1)return!1;switch(o){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var iv=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),zi=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function Zo(o){return zi.test(""+o)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":o}var bf=null;function wf(o){return o=o.target||o.srcElement||window,o.correspondingUseElement&&(o=o.correspondingUseElement),o.nodeType===3?o.parentNode:o}var Hi=null,ms=null;function Bl(o){var u=X(o);if(u&&(o=u.stateNode)){var m=o[Wt]||null;e:switch(o=u.stateNode,u.type){case"input":if(gf(o,m.value,m.defaultValue,m.defaultValue,m.checked,m.defaultChecked,m.type,m.name),u=m.name,m.type==="radio"&&u!=null){for(m=o;m.parentNode;)m=m.parentNode;for(m=m.querySelectorAll('input[name="'+wa(""+u)+'"][type="radio"]'),u=0;u<m.length;u++){var x=m[u];if(x!==o&&x.form===o.form){var N=x[Wt]||null;if(!N)throw Error(n(90));gf(x,N.value,N.defaultValue,N.defaultValue,N.checked,N.defaultChecked,N.type,N.name)}}for(u=0;u<m.length;u++)x=m[u],x.form===o.form&&pf(x)}break e;case"textarea":_m(o,m.value,m.defaultValue);break e;case"select":u=m.value,u!=null&&Ll(o,!!m.multiple,u,!1)}}}var st=!1;function Xs(o,u,m){if(st)return o(u,m);st=!0;try{var x=o(u);return x}finally{if(st=!1,(Hi!==null||ms!==null)&&(dp(),Hi&&(u=Hi,o=ms,ms=Hi=null,Bl(u),o)))for(u=0;u<o.length;u++)Bl(o[u])}}function Jo(o,u){var m=o.stateNode;if(m===null)return null;var x=m[Wt]||null;if(x===null)return null;m=x[u];e:switch(u){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(x=!x.disabled)||(o=o.type,x=!(o==="button"||o==="input"||o==="select"||o==="textarea")),o=!x;break e;default:o=!1}if(o)return null;if(m&&typeof m!="function")throw Error(n(231,u,typeof m));return m}var I=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),ze=!1;if(I)try{var Ge={};Object.defineProperty(Ge,"passive",{get:function(){ze=!0}}),window.addEventListener("test",Ge,Ge),window.removeEventListener("test",Ge,Ge)}catch{ze=!1}var Pt=null,Tt=null,rt=null;function Rn(){if(rt)return rt;var o,u=Tt,m=u.length,x,N="value"in Pt?Pt.value:Pt.textContent,k=N.length;for(o=0;o<m&&u[o]===N[o];o++);var R=m-o;for(x=1;x<=R&&u[m-x]===N[k-x];x++);return rt=N.slice(o,1<x?1-x:void 0)}function ec(o){var u=o.keyCode;return"charCode"in o?(o=o.charCode,o===0&&u===13&&(o=13)):o=u,o===10&&(o=13),32<=o||o===13?o:0}function Tm(){return!0}function x4(){return!1}function ja(o){function u(m,x,N,k,R){this._reactName=m,this._targetInst=N,this.type=x,this.nativeEvent=k,this.target=R,this.currentTarget=null;for(var z in o)o.hasOwnProperty(z)&&(m=o[z],this[z]=m?m(k):k[z]);return this.isDefaultPrevented=(k.defaultPrevented!=null?k.defaultPrevented:k.returnValue===!1)?Tm:x4,this.isPropagationStopped=x4,this}return h(u.prototype,{preventDefault:function(){this.defaultPrevented=!0;var m=this.nativeEvent;m&&(m.preventDefault?m.preventDefault():typeof m.returnValue!="unknown"&&(m.returnValue=!1),this.isDefaultPrevented=Tm)},stopPropagation:function(){var m=this.nativeEvent;m&&(m.stopPropagation?m.stopPropagation():typeof m.cancelBubble!="unknown"&&(m.cancelBubble=!0),this.isPropagationStopped=Tm)},persist:function(){},isPersistent:Tm}),u}var tc={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(o){return o.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Cm=ja(tc),jf=h({},tc,{view:0,detail:0}),KU=ja(jf),lv,ov,Nf,Om=h({},jf,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:uv,button:0,buttons:0,relatedTarget:function(o){return o.relatedTarget===void 0?o.fromElement===o.srcElement?o.toElement:o.fromElement:o.relatedTarget},movementX:function(o){return"movementX"in o?o.movementX:(o!==Nf&&(Nf&&o.type==="mousemove"?(lv=o.screenX-Nf.screenX,ov=o.screenY-Nf.screenY):ov=lv=0,Nf=o),lv)},movementY:function(o){return"movementY"in o?o.movementY:ov}}),y4=ja(Om),YU=h({},Om,{dataTransfer:0}),XU=ja(YU),QU=h({},jf,{relatedTarget:0}),cv=ja(QU),ZU=h({},tc,{animationName:0,elapsedTime:0,pseudoElement:0}),JU=ja(ZU),ez=h({},tc,{clipboardData:function(o){return"clipboardData"in o?o.clipboardData:window.clipboardData}}),tz=ja(ez),rz=h({},tc,{data:0}),v4=ja(rz),nz={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},az={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},sz={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function iz(o){var u=this.nativeEvent;return u.getModifierState?u.getModifierState(o):(o=sz[o])?!!u[o]:!1}function uv(){return iz}var lz=h({},jf,{key:function(o){if(o.key){var u=nz[o.key]||o.key;if(u!=="Unidentified")return u}return o.type==="keypress"?(o=ec(o),o===13?"Enter":String.fromCharCode(o)):o.type==="keydown"||o.type==="keyup"?az[o.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:uv,charCode:function(o){return o.type==="keypress"?ec(o):0},keyCode:function(o){return o.type==="keydown"||o.type==="keyup"?o.keyCode:0},which:function(o){return o.type==="keypress"?ec(o):o.type==="keydown"||o.type==="keyup"?o.keyCode:0}}),oz=ja(lz),cz=h({},Om,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),b4=ja(cz),uz=h({},jf,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:uv}),dz=ja(uz),fz=h({},tc,{propertyName:0,elapsedTime:0,pseudoElement:0}),hz=ja(fz),mz=h({},Om,{deltaX:function(o){return"deltaX"in o?o.deltaX:"wheelDeltaX"in o?-o.wheelDeltaX:0},deltaY:function(o){return"deltaY"in o?o.deltaY:"wheelDeltaY"in o?-o.wheelDeltaY:"wheelDelta"in o?-o.wheelDelta:0},deltaZ:0,deltaMode:0}),pz=ja(mz),gz=h({},tc,{newState:0,oldState:0}),xz=ja(gz),yz=[9,13,27,32],dv=I&&"CompositionEvent"in window,Sf=null;I&&"documentMode"in document&&(Sf=document.documentMode);var vz=I&&"TextEvent"in window&&!Sf,w4=I&&(!dv||Sf&&8<Sf&&11>=Sf),j4=" ",N4=!1;function S4(o,u){switch(o){case"keyup":return yz.indexOf(u.keyCode)!==-1;case"keydown":return u.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function k4(o){return o=o.detail,typeof o=="object"&&"data"in o?o.data:null}var wu=!1;function bz(o,u){switch(o){case"compositionend":return k4(u);case"keypress":return u.which!==32?null:(N4=!0,j4);case"textInput":return o=u.data,o===j4&&N4?null:o;default:return null}}function wz(o,u){if(wu)return o==="compositionend"||!dv&&S4(o,u)?(o=Rn(),rt=Tt=Pt=null,wu=!1,o):null;switch(o){case"paste":return null;case"keypress":if(!(u.ctrlKey||u.altKey||u.metaKey)||u.ctrlKey&&u.altKey){if(u.char&&1<u.char.length)return u.char;if(u.which)return String.fromCharCode(u.which)}return null;case"compositionend":return w4&&u.locale!=="ko"?null:u.data;default:return null}}var jz={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function _4(o){var u=o&&o.nodeName&&o.nodeName.toLowerCase();return u==="input"?!!jz[o.type]:u==="textarea"}function E4(o,u,m,x){Hi?ms?ms.push(x):ms=[x]:Hi=x,u=xp(u,"onChange"),0<u.length&&(m=new Cm("onChange","change",null,m,x),o.push({event:m,listeners:u}))}var kf=null,_f=null;function Nz(o){lT(o,0)}function Dm(o){var u=be(o);if(pf(u))return o}function A4(o,u){if(o==="change")return u}var T4=!1;if(I){var fv;if(I){var hv="oninput"in document;if(!hv){var C4=document.createElement("div");C4.setAttribute("oninput","return;"),hv=typeof C4.oninput=="function"}fv=hv}else fv=!1;T4=fv&&(!document.documentMode||9<document.documentMode)}function O4(){kf&&(kf.detachEvent("onpropertychange",D4),_f=kf=null)}function D4(o){if(o.propertyName==="value"&&Dm(_f)){var u=[];E4(u,_f,o,wf(o)),Xs(Nz,u)}}function Sz(o,u,m){o==="focusin"?(O4(),kf=u,_f=m,kf.attachEvent("onpropertychange",D4)):o==="focusout"&&O4()}function kz(o){if(o==="selectionchange"||o==="keyup"||o==="keydown")return Dm(_f)}function _z(o,u){if(o==="click")return Dm(u)}function Ez(o,u){if(o==="input"||o==="change")return Dm(u)}function Az(o,u){return o===u&&(o!==0||1/o===1/u)||o!==o&&u!==u}var La=typeof Object.is=="function"?Object.is:Az;function Ef(o,u){if(La(o,u))return!0;if(typeof o!="object"||o===null||typeof u!="object"||u===null)return!1;var m=Object.keys(o),x=Object.keys(u);if(m.length!==x.length)return!1;for(x=0;x<m.length;x++){var N=m[x];if(!me.call(u,N)||!La(o[N],u[N]))return!1}return!0}function P4(o){for(;o&&o.firstChild;)o=o.firstChild;return o}function M4(o,u){var m=P4(o);o=0;for(var x;m;){if(m.nodeType===3){if(x=o+m.textContent.length,o<=u&&x>=u)return{node:m,offset:u-o};o=x}e:{for(;m;){if(m.nextSibling){m=m.nextSibling;break e}m=m.parentNode}m=void 0}m=P4(m)}}function R4(o,u){return o&&u?o===u?!0:o&&o.nodeType===3?!1:u&&u.nodeType===3?R4(o,u.parentNode):"contains"in o?o.contains(u):o.compareDocumentPosition?!!(o.compareDocumentPosition(u)&16):!1:!1}function I4(o){o=o!=null&&o.ownerDocument!=null&&o.ownerDocument.defaultView!=null?o.ownerDocument.defaultView:window;for(var u=bu(o.document);u instanceof o.HTMLIFrameElement;){try{var m=typeof u.contentWindow.location.href=="string"}catch{m=!1}if(m)o=u.contentWindow;else break;u=bu(o.document)}return u}function mv(o){var u=o&&o.nodeName&&o.nodeName.toLowerCase();return u&&(u==="input"&&(o.type==="text"||o.type==="search"||o.type==="tel"||o.type==="url"||o.type==="password")||u==="textarea"||o.contentEditable==="true")}var Tz=I&&"documentMode"in document&&11>=document.documentMode,ju=null,pv=null,Af=null,gv=!1;function F4(o,u,m){var x=m.window===m?m.document:m.nodeType===9?m:m.ownerDocument;gv||ju==null||ju!==bu(x)||(x=ju,"selectionStart"in x&&mv(x)?x={start:x.selectionStart,end:x.selectionEnd}:(x=(x.ownerDocument&&x.ownerDocument.defaultView||window).getSelection(),x={anchorNode:x.anchorNode,anchorOffset:x.anchorOffset,focusNode:x.focusNode,focusOffset:x.focusOffset}),Af&&Ef(Af,x)||(Af=x,x=xp(pv,"onSelect"),0<x.length&&(u=new Cm("onSelect","select",null,u,m),o.push({event:u,listeners:x}),u.target=ju)))}function rc(o,u){var m={};return m[o.toLowerCase()]=u.toLowerCase(),m["Webkit"+o]="webkit"+u,m["Moz"+o]="moz"+u,m}var Nu={animationend:rc("Animation","AnimationEnd"),animationiteration:rc("Animation","AnimationIteration"),animationstart:rc("Animation","AnimationStart"),transitionrun:rc("Transition","TransitionRun"),transitionstart:rc("Transition","TransitionStart"),transitioncancel:rc("Transition","TransitionCancel"),transitionend:rc("Transition","TransitionEnd")},xv={},L4={};I&&(L4=document.createElement("div").style,"AnimationEvent"in window||(delete Nu.animationend.animation,delete Nu.animationiteration.animation,delete Nu.animationstart.animation),"TransitionEvent"in window||delete Nu.transitionend.transition);function nc(o){if(xv[o])return xv[o];if(!Nu[o])return o;var u=Nu[o],m;for(m in u)if(u.hasOwnProperty(m)&&m in L4)return xv[o]=u[m];return o}var B4=nc("animationend"),$4=nc("animationiteration"),U4=nc("animationstart"),Cz=nc("transitionrun"),Oz=nc("transitionstart"),Dz=nc("transitioncancel"),z4=nc("transitionend"),H4=new Map,yv="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");yv.push("scrollEnd");function Qs(o,u){H4.set(o,u),Fe(u,[o])}var V4=new WeakMap;function ps(o,u){if(typeof o=="object"&&o!==null){var m=V4.get(o);return m!==void 0?m:(u={value:o,source:u,stack:mf(u)},V4.set(o,u),u)}return{value:o,source:u,stack:mf(u)}}var gs=[],Su=0,vv=0;function Pm(){for(var o=Su,u=vv=Su=0;u<o;){var m=gs[u];gs[u++]=null;var x=gs[u];gs[u++]=null;var N=gs[u];gs[u++]=null;var k=gs[u];if(gs[u++]=null,x!==null&&N!==null){var R=x.pending;R===null?N.next=N:(N.next=R.next,R.next=N),x.pending=N}k!==0&&q4(m,N,k)}}function Mm(o,u,m,x){gs[Su++]=o,gs[Su++]=u,gs[Su++]=m,gs[Su++]=x,vv|=x,o.lanes|=x,o=o.alternate,o!==null&&(o.lanes|=x)}function bv(o,u,m,x){return Mm(o,u,m,x),Rm(o)}function ku(o,u){return Mm(o,null,null,u),Rm(o)}function q4(o,u,m){o.lanes|=m;var x=o.alternate;x!==null&&(x.lanes|=m);for(var N=!1,k=o.return;k!==null;)k.childLanes|=m,x=k.alternate,x!==null&&(x.childLanes|=m),k.tag===22&&(o=k.stateNode,o===null||o._visibility&1||(N=!0)),o=k,k=k.return;return o.tag===3?(k=o.stateNode,N&&u!==null&&(N=31-pt(m),o=k.hiddenUpdates,x=o[N],x===null?o[N]=[u]:x.push(u),u.lane=m|536870912),k):null}function Rm(o){if(50<Jf)throw Jf=0,_b=null,Error(n(185));for(var u=o.return;u!==null;)o=u,u=o.return;return o.tag===3?o.stateNode:null}var _u={};function Pz(o,u,m,x){this.tag=o,this.key=m,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=u,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=x,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Ba(o,u,m,x){return new Pz(o,u,m,x)}function wv(o){return o=o.prototype,!(!o||!o.isReactComponent)}function Vi(o,u){var m=o.alternate;return m===null?(m=Ba(o.tag,u,o.key,o.mode),m.elementType=o.elementType,m.type=o.type,m.stateNode=o.stateNode,m.alternate=o,o.alternate=m):(m.pendingProps=u,m.type=o.type,m.flags=0,m.subtreeFlags=0,m.deletions=null),m.flags=o.flags&65011712,m.childLanes=o.childLanes,m.lanes=o.lanes,m.child=o.child,m.memoizedProps=o.memoizedProps,m.memoizedState=o.memoizedState,m.updateQueue=o.updateQueue,u=o.dependencies,m.dependencies=u===null?null:{lanes:u.lanes,firstContext:u.firstContext},m.sibling=o.sibling,m.index=o.index,m.ref=o.ref,m.refCleanup=o.refCleanup,m}function W4(o,u){o.flags&=65011714;var m=o.alternate;return m===null?(o.childLanes=0,o.lanes=u,o.child=null,o.subtreeFlags=0,o.memoizedProps=null,o.memoizedState=null,o.updateQueue=null,o.dependencies=null,o.stateNode=null):(o.childLanes=m.childLanes,o.lanes=m.lanes,o.child=m.child,o.subtreeFlags=0,o.deletions=null,o.memoizedProps=m.memoizedProps,o.memoizedState=m.memoizedState,o.updateQueue=m.updateQueue,o.type=m.type,u=m.dependencies,o.dependencies=u===null?null:{lanes:u.lanes,firstContext:u.firstContext}),o}function Im(o,u,m,x,N,k){var R=0;if(x=o,typeof o=="function")wv(o)&&(R=1);else if(typeof o=="string")R=RH(o,m,B.current)?26:o==="html"||o==="head"||o==="body"?27:5;else e:switch(o){case F:return o=Ba(31,m,u,N),o.elementType=F,o.lanes=k,o;case b:return ac(m.children,N,k,u);case w:R=8,N|=24;break;case j:return o=Ba(12,m,u,N|2),o.elementType=j,o.lanes=k,o;case A:return o=Ba(13,m,u,N),o.elementType=A,o.lanes=k,o;case C:return o=Ba(19,m,u,N),o.elementType=C,o.lanes=k,o;default:if(typeof o=="object"&&o!==null)switch(o.$$typeof){case S:case E:R=10;break e;case _:R=9;break e;case T:R=11;break e;case O:R=14;break e;case P:R=16,x=null;break e}R=29,m=Error(n(130,o===null?"null":typeof o,"")),x=null}return u=Ba(R,m,u,N),u.elementType=o,u.type=x,u.lanes=k,u}function ac(o,u,m,x){return o=Ba(7,o,x,u),o.lanes=m,o}function jv(o,u,m){return o=Ba(6,o,null,u),o.lanes=m,o}function Nv(o,u,m){return u=Ba(4,o.children!==null?o.children:[],o.key,u),u.lanes=m,u.stateNode={containerInfo:o.containerInfo,pendingChildren:null,implementation:o.implementation},u}var Eu=[],Au=0,Fm=null,Lm=0,xs=[],ys=0,sc=null,qi=1,Wi="";function ic(o,u){Eu[Au++]=Lm,Eu[Au++]=Fm,Fm=o,Lm=u}function G4(o,u,m){xs[ys++]=qi,xs[ys++]=Wi,xs[ys++]=sc,sc=o;var x=qi;o=Wi;var N=32-pt(x)-1;x&=~(1<<N),m+=1;var k=32-pt(u)+N;if(30<k){var R=N-N%5;k=(x&(1<<R)-1).toString(32),x>>=R,N-=R,qi=1<<32-pt(u)+N|m<<N|x,Wi=k+o}else qi=1<<k|m<<N|x,Wi=o}function Sv(o){o.return!==null&&(ic(o,1),G4(o,1,0))}function kv(o){for(;o===Fm;)Fm=Eu[--Au],Eu[Au]=null,Lm=Eu[--Au],Eu[Au]=null;for(;o===sc;)sc=xs[--ys],xs[ys]=null,Wi=xs[--ys],xs[ys]=null,qi=xs[--ys],xs[ys]=null}var ia=null,Lr=null,Ut=!1,lc=null,vi=!1,_v=Error(n(519));function oc(o){var u=Error(n(418,""));throw Of(ps(u,o)),_v}function K4(o){var u=o.stateNode,m=o.type,x=o.memoizedProps;switch(u[dr]=o,u[Wt]=x,m){case"dialog":kt("cancel",u),kt("close",u);break;case"iframe":case"object":case"embed":kt("load",u);break;case"video":case"audio":for(m=0;m<t0.length;m++)kt(t0[m],u);break;case"source":kt("error",u);break;case"img":case"image":case"link":kt("error",u),kt("load",u);break;case"details":kt("toggle",u);break;case"input":kt("invalid",u),km(u,x.value,x.defaultValue,x.checked,x.defaultChecked,x.type,x.name,!0),Xo(u);break;case"select":kt("invalid",u);break;case"textarea":kt("invalid",u),Qo(u,x.value,x.defaultValue,x.children),Xo(u)}m=x.children,typeof m!="string"&&typeof m!="number"&&typeof m!="bigint"||u.textContent===""+m||x.suppressHydrationWarning===!0||dT(u.textContent,m)?(x.popover!=null&&(kt("beforetoggle",u),kt("toggle",u)),x.onScroll!=null&&kt("scroll",u),x.onScrollEnd!=null&&kt("scrollend",u),x.onClick!=null&&(u.onclick=yp),u=!0):u=!1,u||oc(o)}function Y4(o){for(ia=o.return;ia;)switch(ia.tag){case 5:case 13:vi=!1;return;case 27:case 3:vi=!0;return;default:ia=ia.return}}function Tf(o){if(o!==ia)return!1;if(!Ut)return Y4(o),Ut=!0,!1;var u=o.tag,m;if((m=u!==3&&u!==27)&&((m=u===5)&&(m=o.type,m=!(m!=="form"&&m!=="button")||zb(o.type,o.memoizedProps)),m=!m),m&&Lr&&oc(o),Y4(o),u===13){if(o=o.memoizedState,o=o!==null?o.dehydrated:null,!o)throw Error(n(317));e:{for(o=o.nextSibling,u=0;o;){if(o.nodeType===8)if(m=o.data,m==="/$"){if(u===0){Lr=Js(o.nextSibling);break e}u--}else m!=="$"&&m!=="$!"&&m!=="$?"||u++;o=o.nextSibling}Lr=null}}else u===27?(u=Lr,to(o.type)?(o=Wb,Wb=null,Lr=o):Lr=u):Lr=ia?Js(o.stateNode.nextSibling):null;return!0}function Cf(){Lr=ia=null,Ut=!1}function X4(){var o=lc;return o!==null&&(ka===null?ka=o:ka.push.apply(ka,o),lc=null),o}function Of(o){lc===null?lc=[o]:lc.push(o)}var Ev=ae(null),cc=null,Gi=null;function $l(o,u,m){H(Ev,u._currentValue),u._currentValue=m}function Ki(o){o._currentValue=Ev.current,D(Ev)}function Av(o,u,m){for(;o!==null;){var x=o.alternate;if((o.childLanes&u)!==u?(o.childLanes|=u,x!==null&&(x.childLanes|=u)):x!==null&&(x.childLanes&u)!==u&&(x.childLanes|=u),o===m)break;o=o.return}}function Tv(o,u,m,x){var N=o.child;for(N!==null&&(N.return=o);N!==null;){var k=N.dependencies;if(k!==null){var R=N.child;k=k.firstContext;e:for(;k!==null;){var z=k;k=N;for(var ne=0;ne<u.length;ne++)if(z.context===u[ne]){k.lanes|=m,z=k.alternate,z!==null&&(z.lanes|=m),Av(k.return,m,o),x||(R=null);break e}k=z.next}}else if(N.tag===18){if(R=N.return,R===null)throw Error(n(341));R.lanes|=m,k=R.alternate,k!==null&&(k.lanes|=m),Av(R,m,o),R=null}else R=N.child;if(R!==null)R.return=N;else for(R=N;R!==null;){if(R===o){R=null;break}if(N=R.sibling,N!==null){N.return=R.return,R=N;break}R=R.return}N=R}}function Df(o,u,m,x){o=null;for(var N=u,k=!1;N!==null;){if(!k){if((N.flags&524288)!==0)k=!0;else if((N.flags&262144)!==0)break}if(N.tag===10){var R=N.alternate;if(R===null)throw Error(n(387));if(R=R.memoizedProps,R!==null){var z=N.type;La(N.pendingProps.value,R.value)||(o!==null?o.push(z):o=[z])}}else if(N===De.current){if(R=N.alternate,R===null)throw Error(n(387));R.memoizedState.memoizedState!==N.memoizedState.memoizedState&&(o!==null?o.push(l0):o=[l0])}N=N.return}o!==null&&Tv(u,o,m,x),u.flags|=262144}function Bm(o){for(o=o.firstContext;o!==null;){if(!La(o.context._currentValue,o.memoizedValue))return!0;o=o.next}return!1}function uc(o){cc=o,Gi=null,o=o.dependencies,o!==null&&(o.firstContext=null)}function Qn(o){return Q4(cc,o)}function $m(o,u){return cc===null&&uc(o),Q4(o,u)}function Q4(o,u){var m=u._currentValue;if(u={context:u,memoizedValue:m,next:null},Gi===null){if(o===null)throw Error(n(308));Gi=u,o.dependencies={lanes:0,firstContext:u},o.flags|=524288}else Gi=Gi.next=u;return m}var Mz=typeof AbortController<"u"?AbortController:function(){var o=[],u=this.signal={aborted:!1,addEventListener:function(m,x){o.push(x)}};this.abort=function(){u.aborted=!0,o.forEach(function(m){return m()})}},Rz=e.unstable_scheduleCallback,Iz=e.unstable_NormalPriority,fn={$$typeof:E,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function Cv(){return{controller:new Mz,data:new Map,refCount:0}}function Pf(o){o.refCount--,o.refCount===0&&Rz(Iz,function(){o.controller.abort()})}var Mf=null,Ov=0,Tu=0,Cu=null;function Fz(o,u){if(Mf===null){var m=Mf=[];Ov=0,Tu=Pb(),Cu={status:"pending",value:void 0,then:function(x){m.push(x)}}}return Ov++,u.then(Z4,Z4),u}function Z4(){if(--Ov===0&&Mf!==null){Cu!==null&&(Cu.status="fulfilled");var o=Mf;Mf=null,Tu=0,Cu=null;for(var u=0;u<o.length;u++)(0,o[u])()}}function Lz(o,u){var m=[],x={status:"pending",value:null,reason:null,then:function(N){m.push(N)}};return o.then(function(){x.status="fulfilled",x.value=u;for(var N=0;N<m.length;N++)(0,m[N])(u)},function(N){for(x.status="rejected",x.reason=N,N=0;N<m.length;N++)(0,m[N])(void 0)}),x}var J4=K.S;K.S=function(o,u){typeof u=="object"&&u!==null&&typeof u.then=="function"&&Fz(o,u),J4!==null&&J4(o,u)};var dc=ae(null);function Dv(){var o=dc.current;return o!==null?o:br.pooledCache}function Um(o,u){u===null?H(dc,dc.current):H(dc,u.pool)}function eE(){var o=Dv();return o===null?null:{parent:fn._currentValue,pool:o}}var Rf=Error(n(460)),tE=Error(n(474)),zm=Error(n(542)),Pv={then:function(){}};function rE(o){return o=o.status,o==="fulfilled"||o==="rejected"}function Hm(){}function nE(o,u,m){switch(m=o[m],m===void 0?o.push(u):m!==u&&(u.then(Hm,Hm),u=m),u.status){case"fulfilled":return u.value;case"rejected":throw o=u.reason,sE(o),o;default:if(typeof u.status=="string")u.then(Hm,Hm);else{if(o=br,o!==null&&100<o.shellSuspendCounter)throw Error(n(482));o=u,o.status="pending",o.then(function(x){if(u.status==="pending"){var N=u;N.status="fulfilled",N.value=x}},function(x){if(u.status==="pending"){var N=u;N.status="rejected",N.reason=x}})}switch(u.status){case"fulfilled":return u.value;case"rejected":throw o=u.reason,sE(o),o}throw If=u,Rf}}var If=null;function aE(){if(If===null)throw Error(n(459));var o=If;return If=null,o}function sE(o){if(o===Rf||o===zm)throw Error(n(483))}var Ul=!1;function Mv(o){o.updateQueue={baseState:o.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function Rv(o,u){o=o.updateQueue,u.updateQueue===o&&(u.updateQueue={baseState:o.baseState,firstBaseUpdate:o.firstBaseUpdate,lastBaseUpdate:o.lastBaseUpdate,shared:o.shared,callbacks:null})}function zl(o){return{lane:o,tag:0,payload:null,callback:null,next:null}}function Hl(o,u,m){var x=o.updateQueue;if(x===null)return null;if(x=x.shared,(Xt&2)!==0){var N=x.pending;return N===null?u.next=u:(u.next=N.next,N.next=u),x.pending=u,u=Rm(o),q4(o,null,m),u}return Mm(o,x,u,m),Rm(o)}function Ff(o,u,m){if(u=u.updateQueue,u!==null&&(u=u.shared,(m&4194048)!==0)){var x=u.lanes;x&=o.pendingLanes,m|=x,u.lanes=m,vr(o,m)}}function Iv(o,u){var m=o.updateQueue,x=o.alternate;if(x!==null&&(x=x.updateQueue,m===x)){var N=null,k=null;if(m=m.firstBaseUpdate,m!==null){do{var R={lane:m.lane,tag:m.tag,payload:m.payload,callback:null,next:null};k===null?N=k=R:k=k.next=R,m=m.next}while(m!==null);k===null?N=k=u:k=k.next=u}else N=k=u;m={baseState:x.baseState,firstBaseUpdate:N,lastBaseUpdate:k,shared:x.shared,callbacks:x.callbacks},o.updateQueue=m;return}o=m.lastBaseUpdate,o===null?m.firstBaseUpdate=u:o.next=u,m.lastBaseUpdate=u}var Fv=!1;function Lf(){if(Fv){var o=Cu;if(o!==null)throw o}}function Bf(o,u,m,x){Fv=!1;var N=o.updateQueue;Ul=!1;var k=N.firstBaseUpdate,R=N.lastBaseUpdate,z=N.shared.pending;if(z!==null){N.shared.pending=null;var ne=z,ve=ne.next;ne.next=null,R===null?k=ve:R.next=ve,R=ne;var Oe=o.alternate;Oe!==null&&(Oe=Oe.updateQueue,z=Oe.lastBaseUpdate,z!==R&&(z===null?Oe.firstBaseUpdate=ve:z.next=ve,Oe.lastBaseUpdate=ne))}if(k!==null){var Re=N.baseState;R=0,Oe=ve=ne=null,z=k;do{var je=z.lane&-536870913,Se=je!==z.lane;if(Se?(Ct&je)===je:(x&je)===je){je!==0&&je===Tu&&(Fv=!0),Oe!==null&&(Oe=Oe.next={lane:0,tag:z.tag,payload:z.payload,callback:null,next:null});e:{var ht=o,dt=z;je=u;var lr=m;switch(dt.tag){case 1:if(ht=dt.payload,typeof ht=="function"){Re=ht.call(lr,Re,je);break e}Re=ht;break e;case 3:ht.flags=ht.flags&-65537|128;case 0:if(ht=dt.payload,je=typeof ht=="function"?ht.call(lr,Re,je):ht,je==null)break e;Re=h({},Re,je);break e;case 2:Ul=!0}}je=z.callback,je!==null&&(o.flags|=64,Se&&(o.flags|=8192),Se=N.callbacks,Se===null?N.callbacks=[je]:Se.push(je))}else Se={lane:je,tag:z.tag,payload:z.payload,callback:z.callback,next:null},Oe===null?(ve=Oe=Se,ne=Re):Oe=Oe.next=Se,R|=je;if(z=z.next,z===null){if(z=N.shared.pending,z===null)break;Se=z,z=Se.next,Se.next=null,N.lastBaseUpdate=Se,N.shared.pending=null}}while(!0);Oe===null&&(ne=Re),N.baseState=ne,N.firstBaseUpdate=ve,N.lastBaseUpdate=Oe,k===null&&(N.shared.lanes=0),Ql|=R,o.lanes=R,o.memoizedState=Re}}function iE(o,u){if(typeof o!="function")throw Error(n(191,o));o.call(u)}function lE(o,u){var m=o.callbacks;if(m!==null)for(o.callbacks=null,o=0;o<m.length;o++)iE(m[o],u)}var Ou=ae(null),Vm=ae(0);function oE(o,u){o=tl,H(Vm,o),H(Ou,u),tl=o|u.baseLanes}function Lv(){H(Vm,tl),H(Ou,Ou.current)}function Bv(){tl=Vm.current,D(Ou),D(Vm)}var Vl=0,jt=null,sr=null,Jr=null,qm=!1,Du=!1,fc=!1,Wm=0,$f=0,Pu=null,Bz=0;function Gr(){throw Error(n(321))}function $v(o,u){if(u===null)return!1;for(var m=0;m<u.length&&m<o.length;m++)if(!La(o[m],u[m]))return!1;return!0}function Uv(o,u,m,x,N,k){return Vl=k,jt=u,u.memoizedState=null,u.updateQueue=null,u.lanes=0,K.H=o===null||o.memoizedState===null?qE:WE,fc=!1,k=m(x,N),fc=!1,Du&&(k=uE(u,m,x,N)),cE(o),k}function cE(o){K.H=Zm;var u=sr!==null&&sr.next!==null;if(Vl=0,Jr=sr=jt=null,qm=!1,$f=0,Pu=null,u)throw Error(n(300));o===null||vn||(o=o.dependencies,o!==null&&Bm(o)&&(vn=!0))}function uE(o,u,m,x){jt=o;var N=0;do{if(Du&&(Pu=null),$f=0,Du=!1,25<=N)throw Error(n(301));if(N+=1,Jr=sr=null,o.updateQueue!=null){var k=o.updateQueue;k.lastEffect=null,k.events=null,k.stores=null,k.memoCache!=null&&(k.memoCache.index=0)}K.H=Wz,k=u(m,x)}while(Du);return k}function $z(){var o=K.H,u=o.useState()[0];return u=typeof u.then=="function"?Uf(u):u,o=o.useState()[0],(sr!==null?sr.memoizedState:null)!==o&&(jt.flags|=1024),u}function zv(){var o=Wm!==0;return Wm=0,o}function Hv(o,u,m){u.updateQueue=o.updateQueue,u.flags&=-2053,o.lanes&=~m}function Vv(o){if(qm){for(o=o.memoizedState;o!==null;){var u=o.queue;u!==null&&(u.pending=null),o=o.next}qm=!1}Vl=0,Jr=sr=jt=null,Du=!1,$f=Wm=0,Pu=null}function Na(){var o={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Jr===null?jt.memoizedState=Jr=o:Jr=Jr.next=o,Jr}function en(){if(sr===null){var o=jt.alternate;o=o!==null?o.memoizedState:null}else o=sr.next;var u=Jr===null?jt.memoizedState:Jr.next;if(u!==null)Jr=u,sr=o;else{if(o===null)throw jt.alternate===null?Error(n(467)):Error(n(310));sr=o,o={memoizedState:sr.memoizedState,baseState:sr.baseState,baseQueue:sr.baseQueue,queue:sr.queue,next:null},Jr===null?jt.memoizedState=Jr=o:Jr=Jr.next=o}return Jr}function qv(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function Uf(o){var u=$f;return $f+=1,Pu===null&&(Pu=[]),o=nE(Pu,o,u),u=jt,(Jr===null?u.memoizedState:Jr.next)===null&&(u=u.alternate,K.H=u===null||u.memoizedState===null?qE:WE),o}function Gm(o){if(o!==null&&typeof o=="object"){if(typeof o.then=="function")return Uf(o);if(o.$$typeof===E)return Qn(o)}throw Error(n(438,String(o)))}function Wv(o){var u=null,m=jt.updateQueue;if(m!==null&&(u=m.memoCache),u==null){var x=jt.alternate;x!==null&&(x=x.updateQueue,x!==null&&(x=x.memoCache,x!=null&&(u={data:x.data.map(function(N){return N.slice()}),index:0})))}if(u==null&&(u={data:[],index:0}),m===null&&(m=qv(),jt.updateQueue=m),m.memoCache=u,m=u.data[u.index],m===void 0)for(m=u.data[u.index]=Array(o),x=0;x<o;x++)m[x]=G;return u.index++,m}function Yi(o,u){return typeof u=="function"?u(o):u}function Km(o){var u=en();return Gv(u,sr,o)}function Gv(o,u,m){var x=o.queue;if(x===null)throw Error(n(311));x.lastRenderedReducer=m;var N=o.baseQueue,k=x.pending;if(k!==null){if(N!==null){var R=N.next;N.next=k.next,k.next=R}u.baseQueue=N=k,x.pending=null}if(k=o.baseState,N===null)o.memoizedState=k;else{u=N.next;var z=R=null,ne=null,ve=u,Oe=!1;do{var Re=ve.lane&-536870913;if(Re!==ve.lane?(Ct&Re)===Re:(Vl&Re)===Re){var je=ve.revertLane;if(je===0)ne!==null&&(ne=ne.next={lane:0,revertLane:0,action:ve.action,hasEagerState:ve.hasEagerState,eagerState:ve.eagerState,next:null}),Re===Tu&&(Oe=!0);else if((Vl&je)===je){ve=ve.next,je===Tu&&(Oe=!0);continue}else Re={lane:0,revertLane:ve.revertLane,action:ve.action,hasEagerState:ve.hasEagerState,eagerState:ve.eagerState,next:null},ne===null?(z=ne=Re,R=k):ne=ne.next=Re,jt.lanes|=je,Ql|=je;Re=ve.action,fc&&m(k,Re),k=ve.hasEagerState?ve.eagerState:m(k,Re)}else je={lane:Re,revertLane:ve.revertLane,action:ve.action,hasEagerState:ve.hasEagerState,eagerState:ve.eagerState,next:null},ne===null?(z=ne=je,R=k):ne=ne.next=je,jt.lanes|=Re,Ql|=Re;ve=ve.next}while(ve!==null&&ve!==u);if(ne===null?R=k:ne.next=z,!La(k,o.memoizedState)&&(vn=!0,Oe&&(m=Cu,m!==null)))throw m;o.memoizedState=k,o.baseState=R,o.baseQueue=ne,x.lastRenderedState=k}return N===null&&(x.lanes=0),[o.memoizedState,x.dispatch]}function Kv(o){var u=en(),m=u.queue;if(m===null)throw Error(n(311));m.lastRenderedReducer=o;var x=m.dispatch,N=m.pending,k=u.memoizedState;if(N!==null){m.pending=null;var R=N=N.next;do k=o(k,R.action),R=R.next;while(R!==N);La(k,u.memoizedState)||(vn=!0),u.memoizedState=k,u.baseQueue===null&&(u.baseState=k),m.lastRenderedState=k}return[k,x]}function dE(o,u,m){var x=jt,N=en(),k=Ut;if(k){if(m===void 0)throw Error(n(407));m=m()}else m=u();var R=!La((sr||N).memoizedState,m);R&&(N.memoizedState=m,vn=!0),N=N.queue;var z=mE.bind(null,x,N,o);if(zf(2048,8,z,[o]),N.getSnapshot!==u||R||Jr!==null&&Jr.memoizedState.tag&1){if(x.flags|=2048,Mu(9,Ym(),hE.bind(null,x,N,m,u),null),br===null)throw Error(n(349));k||(Vl&124)!==0||fE(x,u,m)}return m}function fE(o,u,m){o.flags|=16384,o={getSnapshot:u,value:m},u=jt.updateQueue,u===null?(u=qv(),jt.updateQueue=u,u.stores=[o]):(m=u.stores,m===null?u.stores=[o]:m.push(o))}function hE(o,u,m,x){u.value=m,u.getSnapshot=x,pE(u)&&gE(o)}function mE(o,u,m){return m(function(){pE(u)&&gE(o)})}function pE(o){var u=o.getSnapshot;o=o.value;try{var m=u();return!La(o,m)}catch{return!0}}function gE(o){var u=ku(o,2);u!==null&&Va(u,o,2)}function Yv(o){var u=Na();if(typeof o=="function"){var m=o;if(o=m(),fc){ur(!0);try{m()}finally{ur(!1)}}}return u.memoizedState=u.baseState=o,u.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Yi,lastRenderedState:o},u}function xE(o,u,m,x){return o.baseState=m,Gv(o,sr,typeof x=="function"?x:Yi)}function Uz(o,u,m,x,N){if(Qm(o))throw Error(n(485));if(o=u.action,o!==null){var k={payload:N,action:o,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(R){k.listeners.push(R)}};K.T!==null?m(!0):k.isTransition=!1,x(k),m=u.pending,m===null?(k.next=u.pending=k,yE(u,k)):(k.next=m.next,u.pending=m.next=k)}}function yE(o,u){var m=u.action,x=u.payload,N=o.state;if(u.isTransition){var k=K.T,R={};K.T=R;try{var z=m(N,x),ne=K.S;ne!==null&&ne(R,z),vE(o,u,z)}catch(ve){Xv(o,u,ve)}finally{K.T=k}}else try{k=m(N,x),vE(o,u,k)}catch(ve){Xv(o,u,ve)}}function vE(o,u,m){m!==null&&typeof m=="object"&&typeof m.then=="function"?m.then(function(x){bE(o,u,x)},function(x){return Xv(o,u,x)}):bE(o,u,m)}function bE(o,u,m){u.status="fulfilled",u.value=m,wE(u),o.state=m,u=o.pending,u!==null&&(m=u.next,m===u?o.pending=null:(m=m.next,u.next=m,yE(o,m)))}function Xv(o,u,m){var x=o.pending;if(o.pending=null,x!==null){x=x.next;do u.status="rejected",u.reason=m,wE(u),u=u.next;while(u!==x)}o.action=null}function wE(o){o=o.listeners;for(var u=0;u<o.length;u++)(0,o[u])()}function jE(o,u){return u}function NE(o,u){if(Ut){var m=br.formState;if(m!==null){e:{var x=jt;if(Ut){if(Lr){t:{for(var N=Lr,k=vi;N.nodeType!==8;){if(!k){N=null;break t}if(N=Js(N.nextSibling),N===null){N=null;break t}}k=N.data,N=k==="F!"||k==="F"?N:null}if(N){Lr=Js(N.nextSibling),x=N.data==="F!";break e}}oc(x)}x=!1}x&&(u=m[0])}}return m=Na(),m.memoizedState=m.baseState=u,x={pending:null,lanes:0,dispatch:null,lastRenderedReducer:jE,lastRenderedState:u},m.queue=x,m=zE.bind(null,jt,x),x.dispatch=m,x=Yv(!1),k=tb.bind(null,jt,!1,x.queue),x=Na(),N={state:u,dispatch:null,action:o,pending:null},x.queue=N,m=Uz.bind(null,jt,N,k,m),N.dispatch=m,x.memoizedState=o,[u,m,!1]}function SE(o){var u=en();return kE(u,sr,o)}function kE(o,u,m){if(u=Gv(o,u,jE)[0],o=Km(Yi)[0],typeof u=="object"&&u!==null&&typeof u.then=="function")try{var x=Uf(u)}catch(R){throw R===Rf?zm:R}else x=u;u=en();var N=u.queue,k=N.dispatch;return m!==u.memoizedState&&(jt.flags|=2048,Mu(9,Ym(),zz.bind(null,N,m),null)),[x,k,o]}function zz(o,u){o.action=u}function _E(o){var u=en(),m=sr;if(m!==null)return kE(u,m,o);en(),u=u.memoizedState,m=en();var x=m.queue.dispatch;return m.memoizedState=o,[u,x,!1]}function Mu(o,u,m,x){return o={tag:o,create:m,deps:x,inst:u,next:null},u=jt.updateQueue,u===null&&(u=qv(),jt.updateQueue=u),m=u.lastEffect,m===null?u.lastEffect=o.next=o:(x=m.next,m.next=o,o.next=x,u.lastEffect=o),o}function Ym(){return{destroy:void 0,resource:void 0}}function EE(){return en().memoizedState}function Xm(o,u,m,x){var N=Na();x=x===void 0?null:x,jt.flags|=o,N.memoizedState=Mu(1|u,Ym(),m,x)}function zf(o,u,m,x){var N=en();x=x===void 0?null:x;var k=N.memoizedState.inst;sr!==null&&x!==null&&$v(x,sr.memoizedState.deps)?N.memoizedState=Mu(u,k,m,x):(jt.flags|=o,N.memoizedState=Mu(1|u,k,m,x))}function AE(o,u){Xm(8390656,8,o,u)}function TE(o,u){zf(2048,8,o,u)}function CE(o,u){return zf(4,2,o,u)}function OE(o,u){return zf(4,4,o,u)}function DE(o,u){if(typeof u=="function"){o=o();var m=u(o);return function(){typeof m=="function"?m():u(null)}}if(u!=null)return o=o(),u.current=o,function(){u.current=null}}function PE(o,u,m){m=m!=null?m.concat([o]):null,zf(4,4,DE.bind(null,u,o),m)}function Qv(){}function ME(o,u){var m=en();u=u===void 0?null:u;var x=m.memoizedState;return u!==null&&$v(u,x[1])?x[0]:(m.memoizedState=[o,u],o)}function RE(o,u){var m=en();u=u===void 0?null:u;var x=m.memoizedState;if(u!==null&&$v(u,x[1]))return x[0];if(x=o(),fc){ur(!0);try{o()}finally{ur(!1)}}return m.memoizedState=[x,u],x}function Zv(o,u,m){return m===void 0||(Vl&1073741824)!==0?o.memoizedState=u:(o.memoizedState=m,o=LA(),jt.lanes|=o,Ql|=o,m)}function IE(o,u,m,x){return La(m,u)?m:Ou.current!==null?(o=Zv(o,m,x),La(o,u)||(vn=!0),o):(Vl&42)===0?(vn=!0,o.memoizedState=m):(o=LA(),jt.lanes|=o,Ql|=o,u)}function FE(o,u,m,x,N){var k=J.p;J.p=k!==0&&8>k?k:8;var R=K.T,z={};K.T=z,tb(o,!1,u,m);try{var ne=N(),ve=K.S;if(ve!==null&&ve(z,ne),ne!==null&&typeof ne=="object"&&typeof ne.then=="function"){var Oe=Lz(ne,x);Hf(o,u,Oe,Ha(o))}else Hf(o,u,x,Ha(o))}catch(Re){Hf(o,u,{then:function(){},status:"rejected",reason:Re},Ha())}finally{J.p=k,K.T=R}}function Hz(){}function Jv(o,u,m,x){if(o.tag!==5)throw Error(n(476));var N=LE(o).queue;FE(o,N,u,se,m===null?Hz:function(){return BE(o),m(x)})}function LE(o){var u=o.memoizedState;if(u!==null)return u;u={memoizedState:se,baseState:se,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Yi,lastRenderedState:se},next:null};var m={};return u.next={memoizedState:m,baseState:m,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Yi,lastRenderedState:m},next:null},o.memoizedState=u,o=o.alternate,o!==null&&(o.memoizedState=u),u}function BE(o){var u=LE(o).next.queue;Hf(o,u,{},Ha())}function eb(){return Qn(l0)}function $E(){return en().memoizedState}function UE(){return en().memoizedState}function Vz(o){for(var u=o.return;u!==null;){switch(u.tag){case 24:case 3:var m=Ha();o=zl(m);var x=Hl(u,o,m);x!==null&&(Va(x,u,m),Ff(x,u,m)),u={cache:Cv()},o.payload=u;return}u=u.return}}function qz(o,u,m){var x=Ha();m={lane:x,revertLane:0,action:m,hasEagerState:!1,eagerState:null,next:null},Qm(o)?HE(u,m):(m=bv(o,u,m,x),m!==null&&(Va(m,o,x),VE(m,u,x)))}function zE(o,u,m){var x=Ha();Hf(o,u,m,x)}function Hf(o,u,m,x){var N={lane:x,revertLane:0,action:m,hasEagerState:!1,eagerState:null,next:null};if(Qm(o))HE(u,N);else{var k=o.alternate;if(o.lanes===0&&(k===null||k.lanes===0)&&(k=u.lastRenderedReducer,k!==null))try{var R=u.lastRenderedState,z=k(R,m);if(N.hasEagerState=!0,N.eagerState=z,La(z,R))return Mm(o,u,N,0),br===null&&Pm(),!1}catch{}finally{}if(m=bv(o,u,N,x),m!==null)return Va(m,o,x),VE(m,u,x),!0}return!1}function tb(o,u,m,x){if(x={lane:2,revertLane:Pb(),action:x,hasEagerState:!1,eagerState:null,next:null},Qm(o)){if(u)throw Error(n(479))}else u=bv(o,m,x,2),u!==null&&Va(u,o,2)}function Qm(o){var u=o.alternate;return o===jt||u!==null&&u===jt}function HE(o,u){Du=qm=!0;var m=o.pending;m===null?u.next=u:(u.next=m.next,m.next=u),o.pending=u}function VE(o,u,m){if((m&4194048)!==0){var x=u.lanes;x&=o.pendingLanes,m|=x,u.lanes=m,vr(o,m)}}var Zm={readContext:Qn,use:Gm,useCallback:Gr,useContext:Gr,useEffect:Gr,useImperativeHandle:Gr,useLayoutEffect:Gr,useInsertionEffect:Gr,useMemo:Gr,useReducer:Gr,useRef:Gr,useState:Gr,useDebugValue:Gr,useDeferredValue:Gr,useTransition:Gr,useSyncExternalStore:Gr,useId:Gr,useHostTransitionStatus:Gr,useFormState:Gr,useActionState:Gr,useOptimistic:Gr,useMemoCache:Gr,useCacheRefresh:Gr},qE={readContext:Qn,use:Gm,useCallback:function(o,u){return Na().memoizedState=[o,u===void 0?null:u],o},useContext:Qn,useEffect:AE,useImperativeHandle:function(o,u,m){m=m!=null?m.concat([o]):null,Xm(4194308,4,DE.bind(null,u,o),m)},useLayoutEffect:function(o,u){return Xm(4194308,4,o,u)},useInsertionEffect:function(o,u){Xm(4,2,o,u)},useMemo:function(o,u){var m=Na();u=u===void 0?null:u;var x=o();if(fc){ur(!0);try{o()}finally{ur(!1)}}return m.memoizedState=[x,u],x},useReducer:function(o,u,m){var x=Na();if(m!==void 0){var N=m(u);if(fc){ur(!0);try{m(u)}finally{ur(!1)}}}else N=u;return x.memoizedState=x.baseState=N,o={pending:null,lanes:0,dispatch:null,lastRenderedReducer:o,lastRenderedState:N},x.queue=o,o=o.dispatch=qz.bind(null,jt,o),[x.memoizedState,o]},useRef:function(o){var u=Na();return o={current:o},u.memoizedState=o},useState:function(o){o=Yv(o);var u=o.queue,m=zE.bind(null,jt,u);return u.dispatch=m,[o.memoizedState,m]},useDebugValue:Qv,useDeferredValue:function(o,u){var m=Na();return Zv(m,o,u)},useTransition:function(){var o=Yv(!1);return o=FE.bind(null,jt,o.queue,!0,!1),Na().memoizedState=o,[!1,o]},useSyncExternalStore:function(o,u,m){var x=jt,N=Na();if(Ut){if(m===void 0)throw Error(n(407));m=m()}else{if(m=u(),br===null)throw Error(n(349));(Ct&124)!==0||fE(x,u,m)}N.memoizedState=m;var k={value:m,getSnapshot:u};return N.queue=k,AE(mE.bind(null,x,k,o),[o]),x.flags|=2048,Mu(9,Ym(),hE.bind(null,x,k,m,u),null),m},useId:function(){var o=Na(),u=br.identifierPrefix;if(Ut){var m=Wi,x=qi;m=(x&~(1<<32-pt(x)-1)).toString(32)+m,u=""+u+"R"+m,m=Wm++,0<m&&(u+="H"+m.toString(32)),u+=""}else m=Bz++,u=""+u+"r"+m.toString(32)+"";return o.memoizedState=u},useHostTransitionStatus:eb,useFormState:NE,useActionState:NE,useOptimistic:function(o){var u=Na();u.memoizedState=u.baseState=o;var m={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return u.queue=m,u=tb.bind(null,jt,!0,m),m.dispatch=u,[o,u]},useMemoCache:Wv,useCacheRefresh:function(){return Na().memoizedState=Vz.bind(null,jt)}},WE={readContext:Qn,use:Gm,useCallback:ME,useContext:Qn,useEffect:TE,useImperativeHandle:PE,useInsertionEffect:CE,useLayoutEffect:OE,useMemo:RE,useReducer:Km,useRef:EE,useState:function(){return Km(Yi)},useDebugValue:Qv,useDeferredValue:function(o,u){var m=en();return IE(m,sr.memoizedState,o,u)},useTransition:function(){var o=Km(Yi)[0],u=en().memoizedState;return[typeof o=="boolean"?o:Uf(o),u]},useSyncExternalStore:dE,useId:$E,useHostTransitionStatus:eb,useFormState:SE,useActionState:SE,useOptimistic:function(o,u){var m=en();return xE(m,sr,o,u)},useMemoCache:Wv,useCacheRefresh:UE},Wz={readContext:Qn,use:Gm,useCallback:ME,useContext:Qn,useEffect:TE,useImperativeHandle:PE,useInsertionEffect:CE,useLayoutEffect:OE,useMemo:RE,useReducer:Kv,useRef:EE,useState:function(){return Kv(Yi)},useDebugValue:Qv,useDeferredValue:function(o,u){var m=en();return sr===null?Zv(m,o,u):IE(m,sr.memoizedState,o,u)},useTransition:function(){var o=Kv(Yi)[0],u=en().memoizedState;return[typeof o=="boolean"?o:Uf(o),u]},useSyncExternalStore:dE,useId:$E,useHostTransitionStatus:eb,useFormState:_E,useActionState:_E,useOptimistic:function(o,u){var m=en();return sr!==null?xE(m,sr,o,u):(m.baseState=o,[o,m.queue.dispatch])},useMemoCache:Wv,useCacheRefresh:UE},Ru=null,Vf=0;function Jm(o){var u=Vf;return Vf+=1,Ru===null&&(Ru=[]),nE(Ru,o,u)}function qf(o,u){u=u.props.ref,o.ref=u!==void 0?u:null}function ep(o,u){throw u.$$typeof===p?Error(n(525)):(o=Object.prototype.toString.call(u),Error(n(31,o==="[object Object]"?"object with keys {"+Object.keys(u).join(", ")+"}":o)))}function GE(o){var u=o._init;return u(o._payload)}function KE(o){function u(he,ce){if(o){var ye=he.deletions;ye===null?(he.deletions=[ce],he.flags|=16):ye.push(ce)}}function m(he,ce){if(!o)return null;for(;ce!==null;)u(he,ce),ce=ce.sibling;return null}function x(he){for(var ce=new Map;he!==null;)he.key!==null?ce.set(he.key,he):ce.set(he.index,he),he=he.sibling;return ce}function N(he,ce){return he=Vi(he,ce),he.index=0,he.sibling=null,he}function k(he,ce,ye){return he.index=ye,o?(ye=he.alternate,ye!==null?(ye=ye.index,ye<ce?(he.flags|=67108866,ce):ye):(he.flags|=67108866,ce)):(he.flags|=1048576,ce)}function R(he){return o&&he.alternate===null&&(he.flags|=67108866),he}function z(he,ce,ye,Pe){return ce===null||ce.tag!==6?(ce=jv(ye,he.mode,Pe),ce.return=he,ce):(ce=N(ce,ye),ce.return=he,ce)}function ne(he,ce,ye,Pe){var et=ye.type;return et===b?Oe(he,ce,ye.props.children,Pe,ye.key):ce!==null&&(ce.elementType===et||typeof et=="object"&&et!==null&&et.$$typeof===P&&GE(et)===ce.type)?(ce=N(ce,ye.props),qf(ce,ye),ce.return=he,ce):(ce=Im(ye.type,ye.key,ye.props,null,he.mode,Pe),qf(ce,ye),ce.return=he,ce)}function ve(he,ce,ye,Pe){return ce===null||ce.tag!==4||ce.stateNode.containerInfo!==ye.containerInfo||ce.stateNode.implementation!==ye.implementation?(ce=Nv(ye,he.mode,Pe),ce.return=he,ce):(ce=N(ce,ye.children||[]),ce.return=he,ce)}function Oe(he,ce,ye,Pe,et){return ce===null||ce.tag!==7?(ce=ac(ye,he.mode,Pe,et),ce.return=he,ce):(ce=N(ce,ye),ce.return=he,ce)}function Re(he,ce,ye){if(typeof ce=="string"&&ce!==""||typeof ce=="number"||typeof ce=="bigint")return ce=jv(""+ce,he.mode,ye),ce.return=he,ce;if(typeof ce=="object"&&ce!==null){switch(ce.$$typeof){case g:return ye=Im(ce.type,ce.key,ce.props,null,he.mode,ye),qf(ye,ce),ye.return=he,ye;case y:return ce=Nv(ce,he.mode,ye),ce.return=he,ce;case P:var Pe=ce._init;return ce=Pe(ce._payload),Re(he,ce,ye)}if(Q(ce)||ee(ce))return ce=ac(ce,he.mode,ye,null),ce.return=he,ce;if(typeof ce.then=="function")return Re(he,Jm(ce),ye);if(ce.$$typeof===E)return Re(he,$m(he,ce),ye);ep(he,ce)}return null}function je(he,ce,ye,Pe){var et=ce!==null?ce.key:null;if(typeof ye=="string"&&ye!==""||typeof ye=="number"||typeof ye=="bigint")return et!==null?null:z(he,ce,""+ye,Pe);if(typeof ye=="object"&&ye!==null){switch(ye.$$typeof){case g:return ye.key===et?ne(he,ce,ye,Pe):null;case y:return ye.key===et?ve(he,ce,ye,Pe):null;case P:return et=ye._init,ye=et(ye._payload),je(he,ce,ye,Pe)}if(Q(ye)||ee(ye))return et!==null?null:Oe(he,ce,ye,Pe,null);if(typeof ye.then=="function")return je(he,ce,Jm(ye),Pe);if(ye.$$typeof===E)return je(he,ce,$m(he,ye),Pe);ep(he,ye)}return null}function Se(he,ce,ye,Pe,et){if(typeof Pe=="string"&&Pe!==""||typeof Pe=="number"||typeof Pe=="bigint")return he=he.get(ye)||null,z(ce,he,""+Pe,et);if(typeof Pe=="object"&&Pe!==null){switch(Pe.$$typeof){case g:return he=he.get(Pe.key===null?ye:Pe.key)||null,ne(ce,he,Pe,et);case y:return he=he.get(Pe.key===null?ye:Pe.key)||null,ve(ce,he,Pe,et);case P:var Nt=Pe._init;return Pe=Nt(Pe._payload),Se(he,ce,ye,Pe,et)}if(Q(Pe)||ee(Pe))return he=he.get(ye)||null,Oe(ce,he,Pe,et,null);if(typeof Pe.then=="function")return Se(he,ce,ye,Jm(Pe),et);if(Pe.$$typeof===E)return Se(he,ce,ye,$m(ce,Pe),et);ep(ce,Pe)}return null}function ht(he,ce,ye,Pe){for(var et=null,Nt=null,it=ce,ft=ce=0,wn=null;it!==null&&ft<ye.length;ft++){it.index>ft?(wn=it,it=null):wn=it.sibling;var Rt=je(he,it,ye[ft],Pe);if(Rt===null){it===null&&(it=wn);break}o&&it&&Rt.alternate===null&&u(he,it),ce=k(Rt,ce,ft),Nt===null?et=Rt:Nt.sibling=Rt,Nt=Rt,it=wn}if(ft===ye.length)return m(he,it),Ut&&ic(he,ft),et;if(it===null){for(;ft<ye.length;ft++)it=Re(he,ye[ft],Pe),it!==null&&(ce=k(it,ce,ft),Nt===null?et=it:Nt.sibling=it,Nt=it);return Ut&&ic(he,ft),et}for(it=x(it);ft<ye.length;ft++)wn=Se(it,he,ft,ye[ft],Pe),wn!==null&&(o&&wn.alternate!==null&&it.delete(wn.key===null?ft:wn.key),ce=k(wn,ce,ft),Nt===null?et=wn:Nt.sibling=wn,Nt=wn);return o&&it.forEach(function(io){return u(he,io)}),Ut&&ic(he,ft),et}function dt(he,ce,ye,Pe){if(ye==null)throw Error(n(151));for(var et=null,Nt=null,it=ce,ft=ce=0,wn=null,Rt=ye.next();it!==null&&!Rt.done;ft++,Rt=ye.next()){it.index>ft?(wn=it,it=null):wn=it.sibling;var io=je(he,it,Rt.value,Pe);if(io===null){it===null&&(it=wn);break}o&&it&&io.alternate===null&&u(he,it),ce=k(io,ce,ft),Nt===null?et=io:Nt.sibling=io,Nt=io,it=wn}if(Rt.done)return m(he,it),Ut&&ic(he,ft),et;if(it===null){for(;!Rt.done;ft++,Rt=ye.next())Rt=Re(he,Rt.value,Pe),Rt!==null&&(ce=k(Rt,ce,ft),Nt===null?et=Rt:Nt.sibling=Rt,Nt=Rt);return Ut&&ic(he,ft),et}for(it=x(it);!Rt.done;ft++,Rt=ye.next())Rt=Se(it,he,ft,Rt.value,Pe),Rt!==null&&(o&&Rt.alternate!==null&&it.delete(Rt.key===null?ft:Rt.key),ce=k(Rt,ce,ft),Nt===null?et=Rt:Nt.sibling=Rt,Nt=Rt);return o&&it.forEach(function(GH){return u(he,GH)}),Ut&&ic(he,ft),et}function lr(he,ce,ye,Pe){if(typeof ye=="object"&&ye!==null&&ye.type===b&&ye.key===null&&(ye=ye.props.children),typeof ye=="object"&&ye!==null){switch(ye.$$typeof){case g:e:{for(var et=ye.key;ce!==null;){if(ce.key===et){if(et=ye.type,et===b){if(ce.tag===7){m(he,ce.sibling),Pe=N(ce,ye.props.children),Pe.return=he,he=Pe;break e}}else if(ce.elementType===et||typeof et=="object"&&et!==null&&et.$$typeof===P&&GE(et)===ce.type){m(he,ce.sibling),Pe=N(ce,ye.props),qf(Pe,ye),Pe.return=he,he=Pe;break e}m(he,ce);break}else u(he,ce);ce=ce.sibling}ye.type===b?(Pe=ac(ye.props.children,he.mode,Pe,ye.key),Pe.return=he,he=Pe):(Pe=Im(ye.type,ye.key,ye.props,null,he.mode,Pe),qf(Pe,ye),Pe.return=he,he=Pe)}return R(he);case y:e:{for(et=ye.key;ce!==null;){if(ce.key===et)if(ce.tag===4&&ce.stateNode.containerInfo===ye.containerInfo&&ce.stateNode.implementation===ye.implementation){m(he,ce.sibling),Pe=N(ce,ye.children||[]),Pe.return=he,he=Pe;break e}else{m(he,ce);break}else u(he,ce);ce=ce.sibling}Pe=Nv(ye,he.mode,Pe),Pe.return=he,he=Pe}return R(he);case P:return et=ye._init,ye=et(ye._payload),lr(he,ce,ye,Pe)}if(Q(ye))return ht(he,ce,ye,Pe);if(ee(ye)){if(et=ee(ye),typeof et!="function")throw Error(n(150));return ye=et.call(ye),dt(he,ce,ye,Pe)}if(typeof ye.then=="function")return lr(he,ce,Jm(ye),Pe);if(ye.$$typeof===E)return lr(he,ce,$m(he,ye),Pe);ep(he,ye)}return typeof ye=="string"&&ye!==""||typeof ye=="number"||typeof ye=="bigint"?(ye=""+ye,ce!==null&&ce.tag===6?(m(he,ce.sibling),Pe=N(ce,ye),Pe.return=he,he=Pe):(m(he,ce),Pe=jv(ye,he.mode,Pe),Pe.return=he,he=Pe),R(he)):m(he,ce)}return function(he,ce,ye,Pe){try{Vf=0;var et=lr(he,ce,ye,Pe);return Ru=null,et}catch(it){if(it===Rf||it===zm)throw it;var Nt=Ba(29,it,null,he.mode);return Nt.lanes=Pe,Nt.return=he,Nt}finally{}}}var Iu=KE(!0),YE=KE(!1),vs=ae(null),bi=null;function ql(o){var u=o.alternate;H(hn,hn.current&1),H(vs,o),bi===null&&(u===null||Ou.current!==null||u.memoizedState!==null)&&(bi=o)}function XE(o){if(o.tag===22){if(H(hn,hn.current),H(vs,o),bi===null){var u=o.alternate;u!==null&&u.memoizedState!==null&&(bi=o)}}else Wl()}function Wl(){H(hn,hn.current),H(vs,vs.current)}function Xi(o){D(vs),bi===o&&(bi=null),D(hn)}var hn=ae(0);function tp(o){for(var u=o;u!==null;){if(u.tag===13){var m=u.memoizedState;if(m!==null&&(m=m.dehydrated,m===null||m.data==="$?"||qb(m)))return u}else if(u.tag===19&&u.memoizedProps.revealOrder!==void 0){if((u.flags&128)!==0)return u}else if(u.child!==null){u.child.return=u,u=u.child;continue}if(u===o)break;for(;u.sibling===null;){if(u.return===null||u.return===o)return null;u=u.return}u.sibling.return=u.return,u=u.sibling}return null}function rb(o,u,m,x){u=o.memoizedState,m=m(x,u),m=m==null?u:h({},u,m),o.memoizedState=m,o.lanes===0&&(o.updateQueue.baseState=m)}var nb={enqueueSetState:function(o,u,m){o=o._reactInternals;var x=Ha(),N=zl(x);N.payload=u,m!=null&&(N.callback=m),u=Hl(o,N,x),u!==null&&(Va(u,o,x),Ff(u,o,x))},enqueueReplaceState:function(o,u,m){o=o._reactInternals;var x=Ha(),N=zl(x);N.tag=1,N.payload=u,m!=null&&(N.callback=m),u=Hl(o,N,x),u!==null&&(Va(u,o,x),Ff(u,o,x))},enqueueForceUpdate:function(o,u){o=o._reactInternals;var m=Ha(),x=zl(m);x.tag=2,u!=null&&(x.callback=u),u=Hl(o,x,m),u!==null&&(Va(u,o,m),Ff(u,o,m))}};function QE(o,u,m,x,N,k,R){return o=o.stateNode,typeof o.shouldComponentUpdate=="function"?o.shouldComponentUpdate(x,k,R):u.prototype&&u.prototype.isPureReactComponent?!Ef(m,x)||!Ef(N,k):!0}function ZE(o,u,m,x){o=u.state,typeof u.componentWillReceiveProps=="function"&&u.componentWillReceiveProps(m,x),typeof u.UNSAFE_componentWillReceiveProps=="function"&&u.UNSAFE_componentWillReceiveProps(m,x),u.state!==o&&nb.enqueueReplaceState(u,u.state,null)}function hc(o,u){var m=u;if("ref"in u){m={};for(var x in u)x!=="ref"&&(m[x]=u[x])}if(o=o.defaultProps){m===u&&(m=h({},m));for(var N in o)m[N]===void 0&&(m[N]=o[N])}return m}var rp=typeof reportError=="function"?reportError:function(o){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var u=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof o=="object"&&o!==null&&typeof o.message=="string"?String(o.message):String(o),error:o});if(!window.dispatchEvent(u))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",o);return}console.error(o)};function JE(o){rp(o)}function eA(o){console.error(o)}function tA(o){rp(o)}function np(o,u){try{var m=o.onUncaughtError;m(u.value,{componentStack:u.stack})}catch(x){setTimeout(function(){throw x})}}function rA(o,u,m){try{var x=o.onCaughtError;x(m.value,{componentStack:m.stack,errorBoundary:u.tag===1?u.stateNode:null})}catch(N){setTimeout(function(){throw N})}}function ab(o,u,m){return m=zl(m),m.tag=3,m.payload={element:null},m.callback=function(){np(o,u)},m}function nA(o){return o=zl(o),o.tag=3,o}function aA(o,u,m,x){var N=m.type.getDerivedStateFromError;if(typeof N=="function"){var k=x.value;o.payload=function(){return N(k)},o.callback=function(){rA(u,m,x)}}var R=m.stateNode;R!==null&&typeof R.componentDidCatch=="function"&&(o.callback=function(){rA(u,m,x),typeof N!="function"&&(Zl===null?Zl=new Set([this]):Zl.add(this));var z=x.stack;this.componentDidCatch(x.value,{componentStack:z!==null?z:""})})}function Gz(o,u,m,x,N){if(m.flags|=32768,x!==null&&typeof x=="object"&&typeof x.then=="function"){if(u=m.alternate,u!==null&&Df(u,m,N,!0),m=vs.current,m!==null){switch(m.tag){case 13:return bi===null?Ab():m.alternate===null&&Br===0&&(Br=3),m.flags&=-257,m.flags|=65536,m.lanes=N,x===Pv?m.flags|=16384:(u=m.updateQueue,u===null?m.updateQueue=new Set([x]):u.add(x),Cb(o,x,N)),!1;case 22:return m.flags|=65536,x===Pv?m.flags|=16384:(u=m.updateQueue,u===null?(u={transitions:null,markerInstances:null,retryQueue:new Set([x])},m.updateQueue=u):(m=u.retryQueue,m===null?u.retryQueue=new Set([x]):m.add(x)),Cb(o,x,N)),!1}throw Error(n(435,m.tag))}return Cb(o,x,N),Ab(),!1}if(Ut)return u=vs.current,u!==null?((u.flags&65536)===0&&(u.flags|=256),u.flags|=65536,u.lanes=N,x!==_v&&(o=Error(n(422),{cause:x}),Of(ps(o,m)))):(x!==_v&&(u=Error(n(423),{cause:x}),Of(ps(u,m))),o=o.current.alternate,o.flags|=65536,N&=-N,o.lanes|=N,x=ps(x,m),N=ab(o.stateNode,x,N),Iv(o,N),Br!==4&&(Br=2)),!1;var k=Error(n(520),{cause:x});if(k=ps(k,m),Zf===null?Zf=[k]:Zf.push(k),Br!==4&&(Br=2),u===null)return!0;x=ps(x,m),m=u;do{switch(m.tag){case 3:return m.flags|=65536,o=N&-N,m.lanes|=o,o=ab(m.stateNode,x,o),Iv(m,o),!1;case 1:if(u=m.type,k=m.stateNode,(m.flags&128)===0&&(typeof u.getDerivedStateFromError=="function"||k!==null&&typeof k.componentDidCatch=="function"&&(Zl===null||!Zl.has(k))))return m.flags|=65536,N&=-N,m.lanes|=N,N=nA(N),aA(N,o,m,x),Iv(m,N),!1}m=m.return}while(m!==null);return!1}var sA=Error(n(461)),vn=!1;function In(o,u,m,x){u.child=o===null?YE(u,null,m,x):Iu(u,o.child,m,x)}function iA(o,u,m,x,N){m=m.render;var k=u.ref;if("ref"in x){var R={};for(var z in x)z!=="ref"&&(R[z]=x[z])}else R=x;return uc(u),x=Uv(o,u,m,R,k,N),z=zv(),o!==null&&!vn?(Hv(o,u,N),Qi(o,u,N)):(Ut&&z&&Sv(u),u.flags|=1,In(o,u,x,N),u.child)}function lA(o,u,m,x,N){if(o===null){var k=m.type;return typeof k=="function"&&!wv(k)&&k.defaultProps===void 0&&m.compare===null?(u.tag=15,u.type=k,oA(o,u,k,x,N)):(o=Im(m.type,null,x,u,u.mode,N),o.ref=u.ref,o.return=u,u.child=o)}if(k=o.child,!fb(o,N)){var R=k.memoizedProps;if(m=m.compare,m=m!==null?m:Ef,m(R,x)&&o.ref===u.ref)return Qi(o,u,N)}return u.flags|=1,o=Vi(k,x),o.ref=u.ref,o.return=u,u.child=o}function oA(o,u,m,x,N){if(o!==null){var k=o.memoizedProps;if(Ef(k,x)&&o.ref===u.ref)if(vn=!1,u.pendingProps=x=k,fb(o,N))(o.flags&131072)!==0&&(vn=!0);else return u.lanes=o.lanes,Qi(o,u,N)}return sb(o,u,m,x,N)}function cA(o,u,m){var x=u.pendingProps,N=x.children,k=o!==null?o.memoizedState:null;if(x.mode==="hidden"){if((u.flags&128)!==0){if(x=k!==null?k.baseLanes|m:m,o!==null){for(N=u.child=o.child,k=0;N!==null;)k=k|N.lanes|N.childLanes,N=N.sibling;u.childLanes=k&~x}else u.childLanes=0,u.child=null;return uA(o,u,x,m)}if((m&536870912)!==0)u.memoizedState={baseLanes:0,cachePool:null},o!==null&&Um(u,k!==null?k.cachePool:null),k!==null?oE(u,k):Lv(),XE(u);else return u.lanes=u.childLanes=536870912,uA(o,u,k!==null?k.baseLanes|m:m,m)}else k!==null?(Um(u,k.cachePool),oE(u,k),Wl(),u.memoizedState=null):(o!==null&&Um(u,null),Lv(),Wl());return In(o,u,N,m),u.child}function uA(o,u,m,x){var N=Dv();return N=N===null?null:{parent:fn._currentValue,pool:N},u.memoizedState={baseLanes:m,cachePool:N},o!==null&&Um(u,null),Lv(),XE(u),o!==null&&Df(o,u,x,!0),null}function ap(o,u){var m=u.ref;if(m===null)o!==null&&o.ref!==null&&(u.flags|=4194816);else{if(typeof m!="function"&&typeof m!="object")throw Error(n(284));(o===null||o.ref!==m)&&(u.flags|=4194816)}}function sb(o,u,m,x,N){return uc(u),m=Uv(o,u,m,x,void 0,N),x=zv(),o!==null&&!vn?(Hv(o,u,N),Qi(o,u,N)):(Ut&&x&&Sv(u),u.flags|=1,In(o,u,m,N),u.child)}function dA(o,u,m,x,N,k){return uc(u),u.updateQueue=null,m=uE(u,x,m,N),cE(o),x=zv(),o!==null&&!vn?(Hv(o,u,k),Qi(o,u,k)):(Ut&&x&&Sv(u),u.flags|=1,In(o,u,m,k),u.child)}function fA(o,u,m,x,N){if(uc(u),u.stateNode===null){var k=_u,R=m.contextType;typeof R=="object"&&R!==null&&(k=Qn(R)),k=new m(x,k),u.memoizedState=k.state!==null&&k.state!==void 0?k.state:null,k.updater=nb,u.stateNode=k,k._reactInternals=u,k=u.stateNode,k.props=x,k.state=u.memoizedState,k.refs={},Mv(u),R=m.contextType,k.context=typeof R=="object"&&R!==null?Qn(R):_u,k.state=u.memoizedState,R=m.getDerivedStateFromProps,typeof R=="function"&&(rb(u,m,R,x),k.state=u.memoizedState),typeof m.getDerivedStateFromProps=="function"||typeof k.getSnapshotBeforeUpdate=="function"||typeof k.UNSAFE_componentWillMount!="function"&&typeof k.componentWillMount!="function"||(R=k.state,typeof k.componentWillMount=="function"&&k.componentWillMount(),typeof k.UNSAFE_componentWillMount=="function"&&k.UNSAFE_componentWillMount(),R!==k.state&&nb.enqueueReplaceState(k,k.state,null),Bf(u,x,k,N),Lf(),k.state=u.memoizedState),typeof k.componentDidMount=="function"&&(u.flags|=4194308),x=!0}else if(o===null){k=u.stateNode;var z=u.memoizedProps,ne=hc(m,z);k.props=ne;var ve=k.context,Oe=m.contextType;R=_u,typeof Oe=="object"&&Oe!==null&&(R=Qn(Oe));var Re=m.getDerivedStateFromProps;Oe=typeof Re=="function"||typeof k.getSnapshotBeforeUpdate=="function",z=u.pendingProps!==z,Oe||typeof k.UNSAFE_componentWillReceiveProps!="function"&&typeof k.componentWillReceiveProps!="function"||(z||ve!==R)&&ZE(u,k,x,R),Ul=!1;var je=u.memoizedState;k.state=je,Bf(u,x,k,N),Lf(),ve=u.memoizedState,z||je!==ve||Ul?(typeof Re=="function"&&(rb(u,m,Re,x),ve=u.memoizedState),(ne=Ul||QE(u,m,ne,x,je,ve,R))?(Oe||typeof k.UNSAFE_componentWillMount!="function"&&typeof k.componentWillMount!="function"||(typeof k.componentWillMount=="function"&&k.componentWillMount(),typeof k.UNSAFE_componentWillMount=="function"&&k.UNSAFE_componentWillMount()),typeof k.componentDidMount=="function"&&(u.flags|=4194308)):(typeof k.componentDidMount=="function"&&(u.flags|=4194308),u.memoizedProps=x,u.memoizedState=ve),k.props=x,k.state=ve,k.context=R,x=ne):(typeof k.componentDidMount=="function"&&(u.flags|=4194308),x=!1)}else{k=u.stateNode,Rv(o,u),R=u.memoizedProps,Oe=hc(m,R),k.props=Oe,Re=u.pendingProps,je=k.context,ve=m.contextType,ne=_u,typeof ve=="object"&&ve!==null&&(ne=Qn(ve)),z=m.getDerivedStateFromProps,(ve=typeof z=="function"||typeof k.getSnapshotBeforeUpdate=="function")||typeof k.UNSAFE_componentWillReceiveProps!="function"&&typeof k.componentWillReceiveProps!="function"||(R!==Re||je!==ne)&&ZE(u,k,x,ne),Ul=!1,je=u.memoizedState,k.state=je,Bf(u,x,k,N),Lf();var Se=u.memoizedState;R!==Re||je!==Se||Ul||o!==null&&o.dependencies!==null&&Bm(o.dependencies)?(typeof z=="function"&&(rb(u,m,z,x),Se=u.memoizedState),(Oe=Ul||QE(u,m,Oe,x,je,Se,ne)||o!==null&&o.dependencies!==null&&Bm(o.dependencies))?(ve||typeof k.UNSAFE_componentWillUpdate!="function"&&typeof k.componentWillUpdate!="function"||(typeof k.componentWillUpdate=="function"&&k.componentWillUpdate(x,Se,ne),typeof k.UNSAFE_componentWillUpdate=="function"&&k.UNSAFE_componentWillUpdate(x,Se,ne)),typeof k.componentDidUpdate=="function"&&(u.flags|=4),typeof k.getSnapshotBeforeUpdate=="function"&&(u.flags|=1024)):(typeof k.componentDidUpdate!="function"||R===o.memoizedProps&&je===o.memoizedState||(u.flags|=4),typeof k.getSnapshotBeforeUpdate!="function"||R===o.memoizedProps&&je===o.memoizedState||(u.flags|=1024),u.memoizedProps=x,u.memoizedState=Se),k.props=x,k.state=Se,k.context=ne,x=Oe):(typeof k.componentDidUpdate!="function"||R===o.memoizedProps&&je===o.memoizedState||(u.flags|=4),typeof k.getSnapshotBeforeUpdate!="function"||R===o.memoizedProps&&je===o.memoizedState||(u.flags|=1024),x=!1)}return k=x,ap(o,u),x=(u.flags&128)!==0,k||x?(k=u.stateNode,m=x&&typeof m.getDerivedStateFromError!="function"?null:k.render(),u.flags|=1,o!==null&&x?(u.child=Iu(u,o.child,null,N),u.child=Iu(u,null,m,N)):In(o,u,m,N),u.memoizedState=k.state,o=u.child):o=Qi(o,u,N),o}function hA(o,u,m,x){return Cf(),u.flags|=256,In(o,u,m,x),u.child}var ib={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function lb(o){return{baseLanes:o,cachePool:eE()}}function ob(o,u,m){return o=o!==null?o.childLanes&~m:0,u&&(o|=bs),o}function mA(o,u,m){var x=u.pendingProps,N=!1,k=(u.flags&128)!==0,R;if((R=k)||(R=o!==null&&o.memoizedState===null?!1:(hn.current&2)!==0),R&&(N=!0,u.flags&=-129),R=(u.flags&32)!==0,u.flags&=-33,o===null){if(Ut){if(N?ql(u):Wl(),Ut){var z=Lr,ne;if(ne=z){e:{for(ne=z,z=vi;ne.nodeType!==8;){if(!z){z=null;break e}if(ne=Js(ne.nextSibling),ne===null){z=null;break e}}z=ne}z!==null?(u.memoizedState={dehydrated:z,treeContext:sc!==null?{id:qi,overflow:Wi}:null,retryLane:536870912,hydrationErrors:null},ne=Ba(18,null,null,0),ne.stateNode=z,ne.return=u,u.child=ne,ia=u,Lr=null,ne=!0):ne=!1}ne||oc(u)}if(z=u.memoizedState,z!==null&&(z=z.dehydrated,z!==null))return qb(z)?u.lanes=32:u.lanes=536870912,null;Xi(u)}return z=x.children,x=x.fallback,N?(Wl(),N=u.mode,z=sp({mode:"hidden",children:z},N),x=ac(x,N,m,null),z.return=u,x.return=u,z.sibling=x,u.child=z,N=u.child,N.memoizedState=lb(m),N.childLanes=ob(o,R,m),u.memoizedState=ib,x):(ql(u),cb(u,z))}if(ne=o.memoizedState,ne!==null&&(z=ne.dehydrated,z!==null)){if(k)u.flags&256?(ql(u),u.flags&=-257,u=ub(o,u,m)):u.memoizedState!==null?(Wl(),u.child=o.child,u.flags|=128,u=null):(Wl(),N=x.fallback,z=u.mode,x=sp({mode:"visible",children:x.children},z),N=ac(N,z,m,null),N.flags|=2,x.return=u,N.return=u,x.sibling=N,u.child=x,Iu(u,o.child,null,m),x=u.child,x.memoizedState=lb(m),x.childLanes=ob(o,R,m),u.memoizedState=ib,u=N);else if(ql(u),qb(z)){if(R=z.nextSibling&&z.nextSibling.dataset,R)var ve=R.dgst;R=ve,x=Error(n(419)),x.stack="",x.digest=R,Of({value:x,source:null,stack:null}),u=ub(o,u,m)}else if(vn||Df(o,u,m,!1),R=(m&o.childLanes)!==0,vn||R){if(R=br,R!==null&&(x=m&-m,x=(x&42)!==0?1:hs(x),x=(x&(R.suspendedLanes|m))!==0?0:x,x!==0&&x!==ne.retryLane))throw ne.retryLane=x,ku(o,x),Va(R,o,x),sA;z.data==="$?"||Ab(),u=ub(o,u,m)}else z.data==="$?"?(u.flags|=192,u.child=o.child,u=null):(o=ne.treeContext,Lr=Js(z.nextSibling),ia=u,Ut=!0,lc=null,vi=!1,o!==null&&(xs[ys++]=qi,xs[ys++]=Wi,xs[ys++]=sc,qi=o.id,Wi=o.overflow,sc=u),u=cb(u,x.children),u.flags|=4096);return u}return N?(Wl(),N=x.fallback,z=u.mode,ne=o.child,ve=ne.sibling,x=Vi(ne,{mode:"hidden",children:x.children}),x.subtreeFlags=ne.subtreeFlags&65011712,ve!==null?N=Vi(ve,N):(N=ac(N,z,m,null),N.flags|=2),N.return=u,x.return=u,x.sibling=N,u.child=x,x=N,N=u.child,z=o.child.memoizedState,z===null?z=lb(m):(ne=z.cachePool,ne!==null?(ve=fn._currentValue,ne=ne.parent!==ve?{parent:ve,pool:ve}:ne):ne=eE(),z={baseLanes:z.baseLanes|m,cachePool:ne}),N.memoizedState=z,N.childLanes=ob(o,R,m),u.memoizedState=ib,x):(ql(u),m=o.child,o=m.sibling,m=Vi(m,{mode:"visible",children:x.children}),m.return=u,m.sibling=null,o!==null&&(R=u.deletions,R===null?(u.deletions=[o],u.flags|=16):R.push(o)),u.child=m,u.memoizedState=null,m)}function cb(o,u){return u=sp({mode:"visible",children:u},o.mode),u.return=o,o.child=u}function sp(o,u){return o=Ba(22,o,null,u),o.lanes=0,o.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null},o}function ub(o,u,m){return Iu(u,o.child,null,m),o=cb(u,u.pendingProps.children),o.flags|=2,u.memoizedState=null,o}function pA(o,u,m){o.lanes|=u;var x=o.alternate;x!==null&&(x.lanes|=u),Av(o.return,u,m)}function db(o,u,m,x,N){var k=o.memoizedState;k===null?o.memoizedState={isBackwards:u,rendering:null,renderingStartTime:0,last:x,tail:m,tailMode:N}:(k.isBackwards=u,k.rendering=null,k.renderingStartTime=0,k.last=x,k.tail=m,k.tailMode=N)}function gA(o,u,m){var x=u.pendingProps,N=x.revealOrder,k=x.tail;if(In(o,u,x.children,m),x=hn.current,(x&2)!==0)x=x&1|2,u.flags|=128;else{if(o!==null&&(o.flags&128)!==0)e:for(o=u.child;o!==null;){if(o.tag===13)o.memoizedState!==null&&pA(o,m,u);else if(o.tag===19)pA(o,m,u);else if(o.child!==null){o.child.return=o,o=o.child;continue}if(o===u)break e;for(;o.sibling===null;){if(o.return===null||o.return===u)break e;o=o.return}o.sibling.return=o.return,o=o.sibling}x&=1}switch(H(hn,x),N){case"forwards":for(m=u.child,N=null;m!==null;)o=m.alternate,o!==null&&tp(o)===null&&(N=m),m=m.sibling;m=N,m===null?(N=u.child,u.child=null):(N=m.sibling,m.sibling=null),db(u,!1,N,m,k);break;case"backwards":for(m=null,N=u.child,u.child=null;N!==null;){if(o=N.alternate,o!==null&&tp(o)===null){u.child=N;break}o=N.sibling,N.sibling=m,m=N,N=o}db(u,!0,m,null,k);break;case"together":db(u,!1,null,null,void 0);break;default:u.memoizedState=null}return u.child}function Qi(o,u,m){if(o!==null&&(u.dependencies=o.dependencies),Ql|=u.lanes,(m&u.childLanes)===0)if(o!==null){if(Df(o,u,m,!1),(m&u.childLanes)===0)return null}else return null;if(o!==null&&u.child!==o.child)throw Error(n(153));if(u.child!==null){for(o=u.child,m=Vi(o,o.pendingProps),u.child=m,m.return=u;o.sibling!==null;)o=o.sibling,m=m.sibling=Vi(o,o.pendingProps),m.return=u;m.sibling=null}return u.child}function fb(o,u){return(o.lanes&u)!==0?!0:(o=o.dependencies,!!(o!==null&&Bm(o)))}function Kz(o,u,m){switch(u.tag){case 3:re(u,u.stateNode.containerInfo),$l(u,fn,o.memoizedState.cache),Cf();break;case 27:case 5:de(u);break;case 4:re(u,u.stateNode.containerInfo);break;case 10:$l(u,u.type,u.memoizedProps.value);break;case 13:var x=u.memoizedState;if(x!==null)return x.dehydrated!==null?(ql(u),u.flags|=128,null):(m&u.child.childLanes)!==0?mA(o,u,m):(ql(u),o=Qi(o,u,m),o!==null?o.sibling:null);ql(u);break;case 19:var N=(o.flags&128)!==0;if(x=(m&u.childLanes)!==0,x||(Df(o,u,m,!1),x=(m&u.childLanes)!==0),N){if(x)return gA(o,u,m);u.flags|=128}if(N=u.memoizedState,N!==null&&(N.rendering=null,N.tail=null,N.lastEffect=null),H(hn,hn.current),x)break;return null;case 22:case 23:return u.lanes=0,cA(o,u,m);case 24:$l(u,fn,o.memoizedState.cache)}return Qi(o,u,m)}function xA(o,u,m){if(o!==null)if(o.memoizedProps!==u.pendingProps)vn=!0;else{if(!fb(o,m)&&(u.flags&128)===0)return vn=!1,Kz(o,u,m);vn=(o.flags&131072)!==0}else vn=!1,Ut&&(u.flags&1048576)!==0&&G4(u,Lm,u.index);switch(u.lanes=0,u.tag){case 16:e:{o=u.pendingProps;var x=u.elementType,N=x._init;if(x=N(x._payload),u.type=x,typeof x=="function")wv(x)?(o=hc(x,o),u.tag=1,u=fA(null,u,x,o,m)):(u.tag=0,u=sb(null,u,x,o,m));else{if(x!=null){if(N=x.$$typeof,N===T){u.tag=11,u=iA(null,u,x,o,m);break e}else if(N===O){u.tag=14,u=lA(null,u,x,o,m);break e}}throw u=fe(x)||x,Error(n(306,u,""))}}return u;case 0:return sb(o,u,u.type,u.pendingProps,m);case 1:return x=u.type,N=hc(x,u.pendingProps),fA(o,u,x,N,m);case 3:e:{if(re(u,u.stateNode.containerInfo),o===null)throw Error(n(387));x=u.pendingProps;var k=u.memoizedState;N=k.element,Rv(o,u),Bf(u,x,null,m);var R=u.memoizedState;if(x=R.cache,$l(u,fn,x),x!==k.cache&&Tv(u,[fn],m,!0),Lf(),x=R.element,k.isDehydrated)if(k={element:x,isDehydrated:!1,cache:R.cache},u.updateQueue.baseState=k,u.memoizedState=k,u.flags&256){u=hA(o,u,x,m);break e}else if(x!==N){N=ps(Error(n(424)),u),Of(N),u=hA(o,u,x,m);break e}else{switch(o=u.stateNode.containerInfo,o.nodeType){case 9:o=o.body;break;default:o=o.nodeName==="HTML"?o.ownerDocument.body:o}for(Lr=Js(o.firstChild),ia=u,Ut=!0,lc=null,vi=!0,m=YE(u,null,x,m),u.child=m;m;)m.flags=m.flags&-3|4096,m=m.sibling}else{if(Cf(),x===N){u=Qi(o,u,m);break e}In(o,u,x,m)}u=u.child}return u;case 26:return ap(o,u),o===null?(m=wT(u.type,null,u.pendingProps,null))?u.memoizedState=m:Ut||(m=u.type,o=u.pendingProps,x=vp(le.current).createElement(m),x[dr]=u,x[Wt]=o,Ln(x,m,o),pe(x),u.stateNode=x):u.memoizedState=wT(u.type,o.memoizedProps,u.pendingProps,o.memoizedState),null;case 27:return de(u),o===null&&Ut&&(x=u.stateNode=yT(u.type,u.pendingProps,le.current),ia=u,vi=!0,N=Lr,to(u.type)?(Wb=N,Lr=Js(x.firstChild)):Lr=N),In(o,u,u.pendingProps.children,m),ap(o,u),o===null&&(u.flags|=4194304),u.child;case 5:return o===null&&Ut&&((N=x=Lr)&&(x=jH(x,u.type,u.pendingProps,vi),x!==null?(u.stateNode=x,ia=u,Lr=Js(x.firstChild),vi=!1,N=!0):N=!1),N||oc(u)),de(u),N=u.type,k=u.pendingProps,R=o!==null?o.memoizedProps:null,x=k.children,zb(N,k)?x=null:R!==null&&zb(N,R)&&(u.flags|=32),u.memoizedState!==null&&(N=Uv(o,u,$z,null,null,m),l0._currentValue=N),ap(o,u),In(o,u,x,m),u.child;case 6:return o===null&&Ut&&((o=m=Lr)&&(m=NH(m,u.pendingProps,vi),m!==null?(u.stateNode=m,ia=u,Lr=null,o=!0):o=!1),o||oc(u)),null;case 13:return mA(o,u,m);case 4:return re(u,u.stateNode.containerInfo),x=u.pendingProps,o===null?u.child=Iu(u,null,x,m):In(o,u,x,m),u.child;case 11:return iA(o,u,u.type,u.pendingProps,m);case 7:return In(o,u,u.pendingProps,m),u.child;case 8:return In(o,u,u.pendingProps.children,m),u.child;case 12:return In(o,u,u.pendingProps.children,m),u.child;case 10:return x=u.pendingProps,$l(u,u.type,x.value),In(o,u,x.children,m),u.child;case 9:return N=u.type._context,x=u.pendingProps.children,uc(u),N=Qn(N),x=x(N),u.flags|=1,In(o,u,x,m),u.child;case 14:return lA(o,u,u.type,u.pendingProps,m);case 15:return oA(o,u,u.type,u.pendingProps,m);case 19:return gA(o,u,m);case 31:return x=u.pendingProps,m=u.mode,x={mode:x.mode,children:x.children},o===null?(m=sp(x,m),m.ref=u.ref,u.child=m,m.return=u,u=m):(m=Vi(o.child,x),m.ref=u.ref,u.child=m,m.return=u,u=m),u;case 22:return cA(o,u,m);case 24:return uc(u),x=Qn(fn),o===null?(N=Dv(),N===null&&(N=br,k=Cv(),N.pooledCache=k,k.refCount++,k!==null&&(N.pooledCacheLanes|=m),N=k),u.memoizedState={parent:x,cache:N},Mv(u),$l(u,fn,N)):((o.lanes&m)!==0&&(Rv(o,u),Bf(u,null,null,m),Lf()),N=o.memoizedState,k=u.memoizedState,N.parent!==x?(N={parent:x,cache:x},u.memoizedState=N,u.lanes===0&&(u.memoizedState=u.updateQueue.baseState=N),$l(u,fn,x)):(x=k.cache,$l(u,fn,x),x!==N.cache&&Tv(u,[fn],m,!0))),In(o,u,u.pendingProps.children,m),u.child;case 29:throw u.pendingProps}throw Error(n(156,u.tag))}function Zi(o){o.flags|=4}function yA(o,u){if(u.type!=="stylesheet"||(u.state.loading&4)!==0)o.flags&=-16777217;else if(o.flags|=16777216,!_T(u)){if(u=vs.current,u!==null&&((Ct&4194048)===Ct?bi!==null:(Ct&62914560)!==Ct&&(Ct&536870912)===0||u!==bi))throw If=Pv,tE;o.flags|=8192}}function ip(o,u){u!==null&&(o.flags|=4),o.flags&16384&&(u=o.tag!==22?Ce():536870912,o.lanes|=u,$u|=u)}function Wf(o,u){if(!Ut)switch(o.tailMode){case"hidden":u=o.tail;for(var m=null;u!==null;)u.alternate!==null&&(m=u),u=u.sibling;m===null?o.tail=null:m.sibling=null;break;case"collapsed":m=o.tail;for(var x=null;m!==null;)m.alternate!==null&&(x=m),m=m.sibling;x===null?u||o.tail===null?o.tail=null:o.tail.sibling=null:x.sibling=null}}function Ir(o){var u=o.alternate!==null&&o.alternate.child===o.child,m=0,x=0;if(u)for(var N=o.child;N!==null;)m|=N.lanes|N.childLanes,x|=N.subtreeFlags&65011712,x|=N.flags&65011712,N.return=o,N=N.sibling;else for(N=o.child;N!==null;)m|=N.lanes|N.childLanes,x|=N.subtreeFlags,x|=N.flags,N.return=o,N=N.sibling;return o.subtreeFlags|=x,o.childLanes=m,u}function Yz(o,u,m){var x=u.pendingProps;switch(kv(u),u.tag){case 31:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Ir(u),null;case 1:return Ir(u),null;case 3:return m=u.stateNode,x=null,o!==null&&(x=o.memoizedState.cache),u.memoizedState.cache!==x&&(u.flags|=2048),Ki(fn),ie(),m.pendingContext&&(m.context=m.pendingContext,m.pendingContext=null),(o===null||o.child===null)&&(Tf(u)?Zi(u):o===null||o.memoizedState.isDehydrated&&(u.flags&256)===0||(u.flags|=1024,X4())),Ir(u),null;case 26:return m=u.memoizedState,o===null?(Zi(u),m!==null?(Ir(u),yA(u,m)):(Ir(u),u.flags&=-16777217)):m?m!==o.memoizedState?(Zi(u),Ir(u),yA(u,m)):(Ir(u),u.flags&=-16777217):(o.memoizedProps!==x&&Zi(u),Ir(u),u.flags&=-16777217),null;case 27:oe(u),m=le.current;var N=u.type;if(o!==null&&u.stateNode!=null)o.memoizedProps!==x&&Zi(u);else{if(!x){if(u.stateNode===null)throw Error(n(166));return Ir(u),null}o=B.current,Tf(u)?K4(u):(o=yT(N,x,m),u.stateNode=o,Zi(u))}return Ir(u),null;case 5:if(oe(u),m=u.type,o!==null&&u.stateNode!=null)o.memoizedProps!==x&&Zi(u);else{if(!x){if(u.stateNode===null)throw Error(n(166));return Ir(u),null}if(o=B.current,Tf(u))K4(u);else{switch(N=vp(le.current),o){case 1:o=N.createElementNS("http://www.w3.org/2000/svg",m);break;case 2:o=N.createElementNS("http://www.w3.org/1998/Math/MathML",m);break;default:switch(m){case"svg":o=N.createElementNS("http://www.w3.org/2000/svg",m);break;case"math":o=N.createElementNS("http://www.w3.org/1998/Math/MathML",m);break;case"script":o=N.createElement("div"),o.innerHTML="<script><\/script>",o=o.removeChild(o.firstChild);break;case"select":o=typeof x.is=="string"?N.createElement("select",{is:x.is}):N.createElement("select"),x.multiple?o.multiple=!0:x.size&&(o.size=x.size);break;default:o=typeof x.is=="string"?N.createElement(m,{is:x.is}):N.createElement(m)}}o[dr]=u,o[Wt]=x;e:for(N=u.child;N!==null;){if(N.tag===5||N.tag===6)o.appendChild(N.stateNode);else if(N.tag!==4&&N.tag!==27&&N.child!==null){N.child.return=N,N=N.child;continue}if(N===u)break e;for(;N.sibling===null;){if(N.return===null||N.return===u)break e;N=N.return}N.sibling.return=N.return,N=N.sibling}u.stateNode=o;e:switch(Ln(o,m,x),m){case"button":case"input":case"select":case"textarea":o=!!x.autoFocus;break e;case"img":o=!0;break e;default:o=!1}o&&Zi(u)}}return Ir(u),u.flags&=-16777217,null;case 6:if(o&&u.stateNode!=null)o.memoizedProps!==x&&Zi(u);else{if(typeof x!="string"&&u.stateNode===null)throw Error(n(166));if(o=le.current,Tf(u)){if(o=u.stateNode,m=u.memoizedProps,x=null,N=ia,N!==null)switch(N.tag){case 27:case 5:x=N.memoizedProps}o[dr]=u,o=!!(o.nodeValue===m||x!==null&&x.suppressHydrationWarning===!0||dT(o.nodeValue,m)),o||oc(u)}else o=vp(o).createTextNode(x),o[dr]=u,u.stateNode=o}return Ir(u),null;case 13:if(x=u.memoizedState,o===null||o.memoizedState!==null&&o.memoizedState.dehydrated!==null){if(N=Tf(u),x!==null&&x.dehydrated!==null){if(o===null){if(!N)throw Error(n(318));if(N=u.memoizedState,N=N!==null?N.dehydrated:null,!N)throw Error(n(317));N[dr]=u}else Cf(),(u.flags&128)===0&&(u.memoizedState=null),u.flags|=4;Ir(u),N=!1}else N=X4(),o!==null&&o.memoizedState!==null&&(o.memoizedState.hydrationErrors=N),N=!0;if(!N)return u.flags&256?(Xi(u),u):(Xi(u),null)}if(Xi(u),(u.flags&128)!==0)return u.lanes=m,u;if(m=x!==null,o=o!==null&&o.memoizedState!==null,m){x=u.child,N=null,x.alternate!==null&&x.alternate.memoizedState!==null&&x.alternate.memoizedState.cachePool!==null&&(N=x.alternate.memoizedState.cachePool.pool);var k=null;x.memoizedState!==null&&x.memoizedState.cachePool!==null&&(k=x.memoizedState.cachePool.pool),k!==N&&(x.flags|=2048)}return m!==o&&m&&(u.child.flags|=8192),ip(u,u.updateQueue),Ir(u),null;case 4:return ie(),o===null&&Fb(u.stateNode.containerInfo),Ir(u),null;case 10:return Ki(u.type),Ir(u),null;case 19:if(D(hn),N=u.memoizedState,N===null)return Ir(u),null;if(x=(u.flags&128)!==0,k=N.rendering,k===null)if(x)Wf(N,!1);else{if(Br!==0||o!==null&&(o.flags&128)!==0)for(o=u.child;o!==null;){if(k=tp(o),k!==null){for(u.flags|=128,Wf(N,!1),o=k.updateQueue,u.updateQueue=o,ip(u,o),u.subtreeFlags=0,o=m,m=u.child;m!==null;)W4(m,o),m=m.sibling;return H(hn,hn.current&1|2),u.child}o=o.sibling}N.tail!==null&&Be()>cp&&(u.flags|=128,x=!0,Wf(N,!1),u.lanes=4194304)}else{if(!x)if(o=tp(k),o!==null){if(u.flags|=128,x=!0,o=o.updateQueue,u.updateQueue=o,ip(u,o),Wf(N,!0),N.tail===null&&N.tailMode==="hidden"&&!k.alternate&&!Ut)return Ir(u),null}else 2*Be()-N.renderingStartTime>cp&&m!==536870912&&(u.flags|=128,x=!0,Wf(N,!1),u.lanes=4194304);N.isBackwards?(k.sibling=u.child,u.child=k):(o=N.last,o!==null?o.sibling=k:u.child=k,N.last=k)}return N.tail!==null?(u=N.tail,N.rendering=u,N.tail=u.sibling,N.renderingStartTime=Be(),u.sibling=null,o=hn.current,H(hn,x?o&1|2:o&1),u):(Ir(u),null);case 22:case 23:return Xi(u),Bv(),x=u.memoizedState!==null,o!==null?o.memoizedState!==null!==x&&(u.flags|=8192):x&&(u.flags|=8192),x?(m&536870912)!==0&&(u.flags&128)===0&&(Ir(u),u.subtreeFlags&6&&(u.flags|=8192)):Ir(u),m=u.updateQueue,m!==null&&ip(u,m.retryQueue),m=null,o!==null&&o.memoizedState!==null&&o.memoizedState.cachePool!==null&&(m=o.memoizedState.cachePool.pool),x=null,u.memoizedState!==null&&u.memoizedState.cachePool!==null&&(x=u.memoizedState.cachePool.pool),x!==m&&(u.flags|=2048),o!==null&&D(dc),null;case 24:return m=null,o!==null&&(m=o.memoizedState.cache),u.memoizedState.cache!==m&&(u.flags|=2048),Ki(fn),Ir(u),null;case 25:return null;case 30:return null}throw Error(n(156,u.tag))}function Xz(o,u){switch(kv(u),u.tag){case 1:return o=u.flags,o&65536?(u.flags=o&-65537|128,u):null;case 3:return Ki(fn),ie(),o=u.flags,(o&65536)!==0&&(o&128)===0?(u.flags=o&-65537|128,u):null;case 26:case 27:case 5:return oe(u),null;case 13:if(Xi(u),o=u.memoizedState,o!==null&&o.dehydrated!==null){if(u.alternate===null)throw Error(n(340));Cf()}return o=u.flags,o&65536?(u.flags=o&-65537|128,u):null;case 19:return D(hn),null;case 4:return ie(),null;case 10:return Ki(u.type),null;case 22:case 23:return Xi(u),Bv(),o!==null&&D(dc),o=u.flags,o&65536?(u.flags=o&-65537|128,u):null;case 24:return Ki(fn),null;case 25:return null;default:return null}}function vA(o,u){switch(kv(u),u.tag){case 3:Ki(fn),ie();break;case 26:case 27:case 5:oe(u);break;case 4:ie();break;case 13:Xi(u);break;case 19:D(hn);break;case 10:Ki(u.type);break;case 22:case 23:Xi(u),Bv(),o!==null&&D(dc);break;case 24:Ki(fn)}}function Gf(o,u){try{var m=u.updateQueue,x=m!==null?m.lastEffect:null;if(x!==null){var N=x.next;m=N;do{if((m.tag&o)===o){x=void 0;var k=m.create,R=m.inst;x=k(),R.destroy=x}m=m.next}while(m!==N)}}catch(z){hr(u,u.return,z)}}function Gl(o,u,m){try{var x=u.updateQueue,N=x!==null?x.lastEffect:null;if(N!==null){var k=N.next;x=k;do{if((x.tag&o)===o){var R=x.inst,z=R.destroy;if(z!==void 0){R.destroy=void 0,N=u;var ne=m,ve=z;try{ve()}catch(Oe){hr(N,ne,Oe)}}}x=x.next}while(x!==k)}}catch(Oe){hr(u,u.return,Oe)}}function bA(o){var u=o.updateQueue;if(u!==null){var m=o.stateNode;try{lE(u,m)}catch(x){hr(o,o.return,x)}}}function wA(o,u,m){m.props=hc(o.type,o.memoizedProps),m.state=o.memoizedState;try{m.componentWillUnmount()}catch(x){hr(o,u,x)}}function Kf(o,u){try{var m=o.ref;if(m!==null){switch(o.tag){case 26:case 27:case 5:var x=o.stateNode;break;case 30:x=o.stateNode;break;default:x=o.stateNode}typeof m=="function"?o.refCleanup=m(x):m.current=x}}catch(N){hr(o,u,N)}}function wi(o,u){var m=o.ref,x=o.refCleanup;if(m!==null)if(typeof x=="function")try{x()}catch(N){hr(o,u,N)}finally{o.refCleanup=null,o=o.alternate,o!=null&&(o.refCleanup=null)}else if(typeof m=="function")try{m(null)}catch(N){hr(o,u,N)}else m.current=null}function jA(o){var u=o.type,m=o.memoizedProps,x=o.stateNode;try{e:switch(u){case"button":case"input":case"select":case"textarea":m.autoFocus&&x.focus();break e;case"img":m.src?x.src=m.src:m.srcSet&&(x.srcset=m.srcSet)}}catch(N){hr(o,o.return,N)}}function hb(o,u,m){try{var x=o.stateNode;xH(x,o.type,m,u),x[Wt]=u}catch(N){hr(o,o.return,N)}}function NA(o){return o.tag===5||o.tag===3||o.tag===26||o.tag===27&&to(o.type)||o.tag===4}function mb(o){e:for(;;){for(;o.sibling===null;){if(o.return===null||NA(o.return))return null;o=o.return}for(o.sibling.return=o.return,o=o.sibling;o.tag!==5&&o.tag!==6&&o.tag!==18;){if(o.tag===27&&to(o.type)||o.flags&2||o.child===null||o.tag===4)continue e;o.child.return=o,o=o.child}if(!(o.flags&2))return o.stateNode}}function pb(o,u,m){var x=o.tag;if(x===5||x===6)o=o.stateNode,u?(m.nodeType===9?m.body:m.nodeName==="HTML"?m.ownerDocument.body:m).insertBefore(o,u):(u=m.nodeType===9?m.body:m.nodeName==="HTML"?m.ownerDocument.body:m,u.appendChild(o),m=m._reactRootContainer,m!=null||u.onclick!==null||(u.onclick=yp));else if(x!==4&&(x===27&&to(o.type)&&(m=o.stateNode,u=null),o=o.child,o!==null))for(pb(o,u,m),o=o.sibling;o!==null;)pb(o,u,m),o=o.sibling}function lp(o,u,m){var x=o.tag;if(x===5||x===6)o=o.stateNode,u?m.insertBefore(o,u):m.appendChild(o);else if(x!==4&&(x===27&&to(o.type)&&(m=o.stateNode),o=o.child,o!==null))for(lp(o,u,m),o=o.sibling;o!==null;)lp(o,u,m),o=o.sibling}function SA(o){var u=o.stateNode,m=o.memoizedProps;try{for(var x=o.type,N=u.attributes;N.length;)u.removeAttributeNode(N[0]);Ln(u,x,m),u[dr]=o,u[Wt]=m}catch(k){hr(o,o.return,k)}}var Ji=!1,Kr=!1,gb=!1,kA=typeof WeakSet=="function"?WeakSet:Set,bn=null;function Qz(o,u){if(o=o.containerInfo,$b=kp,o=I4(o),mv(o)){if("selectionStart"in o)var m={start:o.selectionStart,end:o.selectionEnd};else e:{m=(m=o.ownerDocument)&&m.defaultView||window;var x=m.getSelection&&m.getSelection();if(x&&x.rangeCount!==0){m=x.anchorNode;var N=x.anchorOffset,k=x.focusNode;x=x.focusOffset;try{m.nodeType,k.nodeType}catch{m=null;break e}var R=0,z=-1,ne=-1,ve=0,Oe=0,Re=o,je=null;t:for(;;){for(var Se;Re!==m||N!==0&&Re.nodeType!==3||(z=R+N),Re!==k||x!==0&&Re.nodeType!==3||(ne=R+x),Re.nodeType===3&&(R+=Re.nodeValue.length),(Se=Re.firstChild)!==null;)je=Re,Re=Se;for(;;){if(Re===o)break t;if(je===m&&++ve===N&&(z=R),je===k&&++Oe===x&&(ne=R),(Se=Re.nextSibling)!==null)break;Re=je,je=Re.parentNode}Re=Se}m=z===-1||ne===-1?null:{start:z,end:ne}}else m=null}m=m||{start:0,end:0}}else m=null;for(Ub={focusedElem:o,selectionRange:m},kp=!1,bn=u;bn!==null;)if(u=bn,o=u.child,(u.subtreeFlags&1024)!==0&&o!==null)o.return=u,bn=o;else for(;bn!==null;){switch(u=bn,k=u.alternate,o=u.flags,u.tag){case 0:break;case 11:case 15:break;case 1:if((o&1024)!==0&&k!==null){o=void 0,m=u,N=k.memoizedProps,k=k.memoizedState,x=m.stateNode;try{var ht=hc(m.type,N,m.elementType===m.type);o=x.getSnapshotBeforeUpdate(ht,k),x.__reactInternalSnapshotBeforeUpdate=o}catch(dt){hr(m,m.return,dt)}}break;case 3:if((o&1024)!==0){if(o=u.stateNode.containerInfo,m=o.nodeType,m===9)Vb(o);else if(m===1)switch(o.nodeName){case"HEAD":case"HTML":case"BODY":Vb(o);break;default:o.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((o&1024)!==0)throw Error(n(163))}if(o=u.sibling,o!==null){o.return=u.return,bn=o;break}bn=u.return}}function _A(o,u,m){var x=m.flags;switch(m.tag){case 0:case 11:case 15:Kl(o,m),x&4&&Gf(5,m);break;case 1:if(Kl(o,m),x&4)if(o=m.stateNode,u===null)try{o.componentDidMount()}catch(R){hr(m,m.return,R)}else{var N=hc(m.type,u.memoizedProps);u=u.memoizedState;try{o.componentDidUpdate(N,u,o.__reactInternalSnapshotBeforeUpdate)}catch(R){hr(m,m.return,R)}}x&64&&bA(m),x&512&&Kf(m,m.return);break;case 3:if(Kl(o,m),x&64&&(o=m.updateQueue,o!==null)){if(u=null,m.child!==null)switch(m.child.tag){case 27:case 5:u=m.child.stateNode;break;case 1:u=m.child.stateNode}try{lE(o,u)}catch(R){hr(m,m.return,R)}}break;case 27:u===null&&x&4&&SA(m);case 26:case 5:Kl(o,m),u===null&&x&4&&jA(m),x&512&&Kf(m,m.return);break;case 12:Kl(o,m);break;case 13:Kl(o,m),x&4&&TA(o,m),x&64&&(o=m.memoizedState,o!==null&&(o=o.dehydrated,o!==null&&(m=iH.bind(null,m),SH(o,m))));break;case 22:if(x=m.memoizedState!==null||Ji,!x){u=u!==null&&u.memoizedState!==null||Kr,N=Ji;var k=Kr;Ji=x,(Kr=u)&&!k?Yl(o,m,(m.subtreeFlags&8772)!==0):Kl(o,m),Ji=N,Kr=k}break;case 30:break;default:Kl(o,m)}}function EA(o){var u=o.alternate;u!==null&&(o.alternate=null,EA(u)),o.child=null,o.deletions=null,o.sibling=null,o.tag===5&&(u=o.stateNode,u!==null&&Y(u)),o.stateNode=null,o.return=null,o.dependencies=null,o.memoizedProps=null,o.memoizedState=null,o.pendingProps=null,o.stateNode=null,o.updateQueue=null}var Ar=null,Sa=!1;function el(o,u,m){for(m=m.child;m!==null;)AA(o,u,m),m=m.sibling}function AA(o,u,m){if(vt&&typeof vt.onCommitFiberUnmount=="function")try{vt.onCommitFiberUnmount(Mn,m)}catch{}switch(m.tag){case 26:Kr||wi(m,u),el(o,u,m),m.memoizedState?m.memoizedState.count--:m.stateNode&&(m=m.stateNode,m.parentNode.removeChild(m));break;case 27:Kr||wi(m,u);var x=Ar,N=Sa;to(m.type)&&(Ar=m.stateNode,Sa=!1),el(o,u,m),n0(m.stateNode),Ar=x,Sa=N;break;case 5:Kr||wi(m,u);case 6:if(x=Ar,N=Sa,Ar=null,el(o,u,m),Ar=x,Sa=N,Ar!==null)if(Sa)try{(Ar.nodeType===9?Ar.body:Ar.nodeName==="HTML"?Ar.ownerDocument.body:Ar).removeChild(m.stateNode)}catch(k){hr(m,u,k)}else try{Ar.removeChild(m.stateNode)}catch(k){hr(m,u,k)}break;case 18:Ar!==null&&(Sa?(o=Ar,gT(o.nodeType===9?o.body:o.nodeName==="HTML"?o.ownerDocument.body:o,m.stateNode),d0(o)):gT(Ar,m.stateNode));break;case 4:x=Ar,N=Sa,Ar=m.stateNode.containerInfo,Sa=!0,el(o,u,m),Ar=x,Sa=N;break;case 0:case 11:case 14:case 15:Kr||Gl(2,m,u),Kr||Gl(4,m,u),el(o,u,m);break;case 1:Kr||(wi(m,u),x=m.stateNode,typeof x.componentWillUnmount=="function"&&wA(m,u,x)),el(o,u,m);break;case 21:el(o,u,m);break;case 22:Kr=(x=Kr)||m.memoizedState!==null,el(o,u,m),Kr=x;break;default:el(o,u,m)}}function TA(o,u){if(u.memoizedState===null&&(o=u.alternate,o!==null&&(o=o.memoizedState,o!==null&&(o=o.dehydrated,o!==null))))try{d0(o)}catch(m){hr(u,u.return,m)}}function Zz(o){switch(o.tag){case 13:case 19:var u=o.stateNode;return u===null&&(u=o.stateNode=new kA),u;case 22:return o=o.stateNode,u=o._retryCache,u===null&&(u=o._retryCache=new kA),u;default:throw Error(n(435,o.tag))}}function xb(o,u){var m=Zz(o);u.forEach(function(x){var N=lH.bind(null,o,x);m.has(x)||(m.add(x),x.then(N,N))})}function $a(o,u){var m=u.deletions;if(m!==null)for(var x=0;x<m.length;x++){var N=m[x],k=o,R=u,z=R;e:for(;z!==null;){switch(z.tag){case 27:if(to(z.type)){Ar=z.stateNode,Sa=!1;break e}break;case 5:Ar=z.stateNode,Sa=!1;break e;case 3:case 4:Ar=z.stateNode.containerInfo,Sa=!0;break e}z=z.return}if(Ar===null)throw Error(n(160));AA(k,R,N),Ar=null,Sa=!1,k=N.alternate,k!==null&&(k.return=null),N.return=null}if(u.subtreeFlags&13878)for(u=u.child;u!==null;)CA(u,o),u=u.sibling}var Zs=null;function CA(o,u){var m=o.alternate,x=o.flags;switch(o.tag){case 0:case 11:case 14:case 15:$a(u,o),Ua(o),x&4&&(Gl(3,o,o.return),Gf(3,o),Gl(5,o,o.return));break;case 1:$a(u,o),Ua(o),x&512&&(Kr||m===null||wi(m,m.return)),x&64&&Ji&&(o=o.updateQueue,o!==null&&(x=o.callbacks,x!==null&&(m=o.shared.hiddenCallbacks,o.shared.hiddenCallbacks=m===null?x:m.concat(x))));break;case 26:var N=Zs;if($a(u,o),Ua(o),x&512&&(Kr||m===null||wi(m,m.return)),x&4){var k=m!==null?m.memoizedState:null;if(x=o.memoizedState,m===null)if(x===null)if(o.stateNode===null){e:{x=o.type,m=o.memoizedProps,N=N.ownerDocument||N;t:switch(x){case"title":k=N.getElementsByTagName("title")[0],(!k||k[q]||k[dr]||k.namespaceURI==="http://www.w3.org/2000/svg"||k.hasAttribute("itemprop"))&&(k=N.createElement(x),N.head.insertBefore(k,N.querySelector("head > title"))),Ln(k,x,m),k[dr]=o,pe(k),x=k;break e;case"link":var R=ST("link","href",N).get(x+(m.href||""));if(R){for(var z=0;z<R.length;z++)if(k=R[z],k.getAttribute("href")===(m.href==null||m.href===""?null:m.href)&&k.getAttribute("rel")===(m.rel==null?null:m.rel)&&k.getAttribute("title")===(m.title==null?null:m.title)&&k.getAttribute("crossorigin")===(m.crossOrigin==null?null:m.crossOrigin)){R.splice(z,1);break t}}k=N.createElement(x),Ln(k,x,m),N.head.appendChild(k);break;case"meta":if(R=ST("meta","content",N).get(x+(m.content||""))){for(z=0;z<R.length;z++)if(k=R[z],k.getAttribute("content")===(m.content==null?null:""+m.content)&&k.getAttribute("name")===(m.name==null?null:m.name)&&k.getAttribute("property")===(m.property==null?null:m.property)&&k.getAttribute("http-equiv")===(m.httpEquiv==null?null:m.httpEquiv)&&k.getAttribute("charset")===(m.charSet==null?null:m.charSet)){R.splice(z,1);break t}}k=N.createElement(x),Ln(k,x,m),N.head.appendChild(k);break;default:throw Error(n(468,x))}k[dr]=o,pe(k),x=k}o.stateNode=x}else kT(N,o.type,o.stateNode);else o.stateNode=NT(N,x,o.memoizedProps);else k!==x?(k===null?m.stateNode!==null&&(m=m.stateNode,m.parentNode.removeChild(m)):k.count--,x===null?kT(N,o.type,o.stateNode):NT(N,x,o.memoizedProps)):x===null&&o.stateNode!==null&&hb(o,o.memoizedProps,m.memoizedProps)}break;case 27:$a(u,o),Ua(o),x&512&&(Kr||m===null||wi(m,m.return)),m!==null&&x&4&&hb(o,o.memoizedProps,m.memoizedProps);break;case 5:if($a(u,o),Ua(o),x&512&&(Kr||m===null||wi(m,m.return)),o.flags&32){N=o.stateNode;try{Ui(N,"")}catch(Se){hr(o,o.return,Se)}}x&4&&o.stateNode!=null&&(N=o.memoizedProps,hb(o,N,m!==null?m.memoizedProps:N)),x&1024&&(gb=!0);break;case 6:if($a(u,o),Ua(o),x&4){if(o.stateNode===null)throw Error(n(162));x=o.memoizedProps,m=o.stateNode;try{m.nodeValue=x}catch(Se){hr(o,o.return,Se)}}break;case 3:if(jp=null,N=Zs,Zs=bp(u.containerInfo),$a(u,o),Zs=N,Ua(o),x&4&&m!==null&&m.memoizedState.isDehydrated)try{d0(u.containerInfo)}catch(Se){hr(o,o.return,Se)}gb&&(gb=!1,OA(o));break;case 4:x=Zs,Zs=bp(o.stateNode.containerInfo),$a(u,o),Ua(o),Zs=x;break;case 12:$a(u,o),Ua(o);break;case 13:$a(u,o),Ua(o),o.child.flags&8192&&o.memoizedState!==null!=(m!==null&&m.memoizedState!==null)&&(Nb=Be()),x&4&&(x=o.updateQueue,x!==null&&(o.updateQueue=null,xb(o,x)));break;case 22:N=o.memoizedState!==null;var ne=m!==null&&m.memoizedState!==null,ve=Ji,Oe=Kr;if(Ji=ve||N,Kr=Oe||ne,$a(u,o),Kr=Oe,Ji=ve,Ua(o),x&8192)e:for(u=o.stateNode,u._visibility=N?u._visibility&-2:u._visibility|1,N&&(m===null||ne||Ji||Kr||mc(o)),m=null,u=o;;){if(u.tag===5||u.tag===26){if(m===null){ne=m=u;try{if(k=ne.stateNode,N)R=k.style,typeof R.setProperty=="function"?R.setProperty("display","none","important"):R.display="none";else{z=ne.stateNode;var Re=ne.memoizedProps.style,je=Re!=null&&Re.hasOwnProperty("display")?Re.display:null;z.style.display=je==null||typeof je=="boolean"?"":(""+je).trim()}}catch(Se){hr(ne,ne.return,Se)}}}else if(u.tag===6){if(m===null){ne=u;try{ne.stateNode.nodeValue=N?"":ne.memoizedProps}catch(Se){hr(ne,ne.return,Se)}}}else if((u.tag!==22&&u.tag!==23||u.memoizedState===null||u===o)&&u.child!==null){u.child.return=u,u=u.child;continue}if(u===o)break e;for(;u.sibling===null;){if(u.return===null||u.return===o)break e;m===u&&(m=null),u=u.return}m===u&&(m=null),u.sibling.return=u.return,u=u.sibling}x&4&&(x=o.updateQueue,x!==null&&(m=x.retryQueue,m!==null&&(x.retryQueue=null,xb(o,m))));break;case 19:$a(u,o),Ua(o),x&4&&(x=o.updateQueue,x!==null&&(o.updateQueue=null,xb(o,x)));break;case 30:break;case 21:break;default:$a(u,o),Ua(o)}}function Ua(o){var u=o.flags;if(u&2){try{for(var m,x=o.return;x!==null;){if(NA(x)){m=x;break}x=x.return}if(m==null)throw Error(n(160));switch(m.tag){case 27:var N=m.stateNode,k=mb(o);lp(o,k,N);break;case 5:var R=m.stateNode;m.flags&32&&(Ui(R,""),m.flags&=-33);var z=mb(o);lp(o,z,R);break;case 3:case 4:var ne=m.stateNode.containerInfo,ve=mb(o);pb(o,ve,ne);break;default:throw Error(n(161))}}catch(Oe){hr(o,o.return,Oe)}o.flags&=-3}u&4096&&(o.flags&=-4097)}function OA(o){if(o.subtreeFlags&1024)for(o=o.child;o!==null;){var u=o;OA(u),u.tag===5&&u.flags&1024&&u.stateNode.reset(),o=o.sibling}}function Kl(o,u){if(u.subtreeFlags&8772)for(u=u.child;u!==null;)_A(o,u.alternate,u),u=u.sibling}function mc(o){for(o=o.child;o!==null;){var u=o;switch(u.tag){case 0:case 11:case 14:case 15:Gl(4,u,u.return),mc(u);break;case 1:wi(u,u.return);var m=u.stateNode;typeof m.componentWillUnmount=="function"&&wA(u,u.return,m),mc(u);break;case 27:n0(u.stateNode);case 26:case 5:wi(u,u.return),mc(u);break;case 22:u.memoizedState===null&&mc(u);break;case 30:mc(u);break;default:mc(u)}o=o.sibling}}function Yl(o,u,m){for(m=m&&(u.subtreeFlags&8772)!==0,u=u.child;u!==null;){var x=u.alternate,N=o,k=u,R=k.flags;switch(k.tag){case 0:case 11:case 15:Yl(N,k,m),Gf(4,k);break;case 1:if(Yl(N,k,m),x=k,N=x.stateNode,typeof N.componentDidMount=="function")try{N.componentDidMount()}catch(ve){hr(x,x.return,ve)}if(x=k,N=x.updateQueue,N!==null){var z=x.stateNode;try{var ne=N.shared.hiddenCallbacks;if(ne!==null)for(N.shared.hiddenCallbacks=null,N=0;N<ne.length;N++)iE(ne[N],z)}catch(ve){hr(x,x.return,ve)}}m&&R&64&&bA(k),Kf(k,k.return);break;case 27:SA(k);case 26:case 5:Yl(N,k,m),m&&x===null&&R&4&&jA(k),Kf(k,k.return);break;case 12:Yl(N,k,m);break;case 13:Yl(N,k,m),m&&R&4&&TA(N,k);break;case 22:k.memoizedState===null&&Yl(N,k,m),Kf(k,k.return);break;case 30:break;default:Yl(N,k,m)}u=u.sibling}}function yb(o,u){var m=null;o!==null&&o.memoizedState!==null&&o.memoizedState.cachePool!==null&&(m=o.memoizedState.cachePool.pool),o=null,u.memoizedState!==null&&u.memoizedState.cachePool!==null&&(o=u.memoizedState.cachePool.pool),o!==m&&(o!=null&&o.refCount++,m!=null&&Pf(m))}function vb(o,u){o=null,u.alternate!==null&&(o=u.alternate.memoizedState.cache),u=u.memoizedState.cache,u!==o&&(u.refCount++,o!=null&&Pf(o))}function ji(o,u,m,x){if(u.subtreeFlags&10256)for(u=u.child;u!==null;)DA(o,u,m,x),u=u.sibling}function DA(o,u,m,x){var N=u.flags;switch(u.tag){case 0:case 11:case 15:ji(o,u,m,x),N&2048&&Gf(9,u);break;case 1:ji(o,u,m,x);break;case 3:ji(o,u,m,x),N&2048&&(o=null,u.alternate!==null&&(o=u.alternate.memoizedState.cache),u=u.memoizedState.cache,u!==o&&(u.refCount++,o!=null&&Pf(o)));break;case 12:if(N&2048){ji(o,u,m,x),o=u.stateNode;try{var k=u.memoizedProps,R=k.id,z=k.onPostCommit;typeof z=="function"&&z(R,u.alternate===null?"mount":"update",o.passiveEffectDuration,-0)}catch(ne){hr(u,u.return,ne)}}else ji(o,u,m,x);break;case 13:ji(o,u,m,x);break;case 23:break;case 22:k=u.stateNode,R=u.alternate,u.memoizedState!==null?k._visibility&2?ji(o,u,m,x):Yf(o,u):k._visibility&2?ji(o,u,m,x):(k._visibility|=2,Fu(o,u,m,x,(u.subtreeFlags&10256)!==0)),N&2048&&yb(R,u);break;case 24:ji(o,u,m,x),N&2048&&vb(u.alternate,u);break;default:ji(o,u,m,x)}}function Fu(o,u,m,x,N){for(N=N&&(u.subtreeFlags&10256)!==0,u=u.child;u!==null;){var k=o,R=u,z=m,ne=x,ve=R.flags;switch(R.tag){case 0:case 11:case 15:Fu(k,R,z,ne,N),Gf(8,R);break;case 23:break;case 22:var Oe=R.stateNode;R.memoizedState!==null?Oe._visibility&2?Fu(k,R,z,ne,N):Yf(k,R):(Oe._visibility|=2,Fu(k,R,z,ne,N)),N&&ve&2048&&yb(R.alternate,R);break;case 24:Fu(k,R,z,ne,N),N&&ve&2048&&vb(R.alternate,R);break;default:Fu(k,R,z,ne,N)}u=u.sibling}}function Yf(o,u){if(u.subtreeFlags&10256)for(u=u.child;u!==null;){var m=o,x=u,N=x.flags;switch(x.tag){case 22:Yf(m,x),N&2048&&yb(x.alternate,x);break;case 24:Yf(m,x),N&2048&&vb(x.alternate,x);break;default:Yf(m,x)}u=u.sibling}}var Xf=8192;function Lu(o){if(o.subtreeFlags&Xf)for(o=o.child;o!==null;)PA(o),o=o.sibling}function PA(o){switch(o.tag){case 26:Lu(o),o.flags&Xf&&o.memoizedState!==null&&FH(Zs,o.memoizedState,o.memoizedProps);break;case 5:Lu(o);break;case 3:case 4:var u=Zs;Zs=bp(o.stateNode.containerInfo),Lu(o),Zs=u;break;case 22:o.memoizedState===null&&(u=o.alternate,u!==null&&u.memoizedState!==null?(u=Xf,Xf=16777216,Lu(o),Xf=u):Lu(o));break;default:Lu(o)}}function MA(o){var u=o.alternate;if(u!==null&&(o=u.child,o!==null)){u.child=null;do u=o.sibling,o.sibling=null,o=u;while(o!==null)}}function Qf(o){var u=o.deletions;if((o.flags&16)!==0){if(u!==null)for(var m=0;m<u.length;m++){var x=u[m];bn=x,IA(x,o)}MA(o)}if(o.subtreeFlags&10256)for(o=o.child;o!==null;)RA(o),o=o.sibling}function RA(o){switch(o.tag){case 0:case 11:case 15:Qf(o),o.flags&2048&&Gl(9,o,o.return);break;case 3:Qf(o);break;case 12:Qf(o);break;case 22:var u=o.stateNode;o.memoizedState!==null&&u._visibility&2&&(o.return===null||o.return.tag!==13)?(u._visibility&=-3,op(o)):Qf(o);break;default:Qf(o)}}function op(o){var u=o.deletions;if((o.flags&16)!==0){if(u!==null)for(var m=0;m<u.length;m++){var x=u[m];bn=x,IA(x,o)}MA(o)}for(o=o.child;o!==null;){switch(u=o,u.tag){case 0:case 11:case 15:Gl(8,u,u.return),op(u);break;case 22:m=u.stateNode,m._visibility&2&&(m._visibility&=-3,op(u));break;default:op(u)}o=o.sibling}}function IA(o,u){for(;bn!==null;){var m=bn;switch(m.tag){case 0:case 11:case 15:Gl(8,m,u);break;case 23:case 22:if(m.memoizedState!==null&&m.memoizedState.cachePool!==null){var x=m.memoizedState.cachePool.pool;x!=null&&x.refCount++}break;case 24:Pf(m.memoizedState.cache)}if(x=m.child,x!==null)x.return=m,bn=x;else e:for(m=o;bn!==null;){x=bn;var N=x.sibling,k=x.return;if(EA(x),x===m){bn=null;break e}if(N!==null){N.return=k,bn=N;break e}bn=k}}}var Jz={getCacheForType:function(o){var u=Qn(fn),m=u.data.get(o);return m===void 0&&(m=o(),u.data.set(o,m)),m}},eH=typeof WeakMap=="function"?WeakMap:Map,Xt=0,br=null,St=null,Ct=0,Qt=0,za=null,Xl=!1,Bu=!1,bb=!1,tl=0,Br=0,Ql=0,pc=0,wb=0,bs=0,$u=0,Zf=null,ka=null,jb=!1,Nb=0,cp=1/0,up=null,Zl=null,Fn=0,Jl=null,Uu=null,zu=0,Sb=0,kb=null,FA=null,Jf=0,_b=null;function Ha(){if((Xt&2)!==0&&Ct!==0)return Ct&-Ct;if(K.T!==null){var o=Tu;return o!==0?o:Pb()}return Fl()}function LA(){bs===0&&(bs=(Ct&536870912)===0||Ut?te():536870912);var o=vs.current;return o!==null&&(o.flags|=32),bs}function Va(o,u,m){(o===br&&(Qt===2||Qt===9)||o.cancelPendingCommit!==null)&&(Hu(o,0),eo(o,Ct,bs,!1)),ut(o,m),((Xt&2)===0||o!==br)&&(o===br&&((Xt&2)===0&&(pc|=m),Br===4&&eo(o,Ct,bs,!1)),Ni(o))}function BA(o,u,m){if((Xt&6)!==0)throw Error(n(327));var x=!m&&(u&124)===0&&(u&o.expiredLanes)===0||ct(o,u),N=x?nH(o,u):Tb(o,u,!0),k=x;do{if(N===0){Bu&&!x&&eo(o,u,0,!1);break}else{if(m=o.current.alternate,k&&!tH(m)){N=Tb(o,u,!1),k=!1;continue}if(N===2){if(k=u,o.errorRecoveryDisabledLanes&k)var R=0;else R=o.pendingLanes&-536870913,R=R!==0?R:R&536870912?536870912:0;if(R!==0){u=R;e:{var z=o;N=Zf;var ne=z.current.memoizedState.isDehydrated;if(ne&&(Hu(z,R).flags|=256),R=Tb(z,R,!1),R!==2){if(bb&&!ne){z.errorRecoveryDisabledLanes|=k,pc|=k,N=4;break e}k=ka,ka=N,k!==null&&(ka===null?ka=k:ka.push.apply(ka,k))}N=R}if(k=!1,N!==2)continue}}if(N===1){Hu(o,0),eo(o,u,0,!0);break}e:{switch(x=o,k=N,k){case 0:case 1:throw Error(n(345));case 4:if((u&4194048)!==u)break;case 6:eo(x,u,bs,!Xl);break e;case 2:ka=null;break;case 3:case 5:break;default:throw Error(n(329))}if((u&62914560)===u&&(N=Nb+300-Be(),10<N)){if(eo(x,u,bs,!Xl),ge(x,0,!0)!==0)break e;x.timeoutHandle=mT($A.bind(null,x,m,ka,up,jb,u,bs,pc,$u,Xl,k,2,-0,0),N);break e}$A(x,m,ka,up,jb,u,bs,pc,$u,Xl,k,0,-0,0)}}break}while(!0);Ni(o)}function $A(o,u,m,x,N,k,R,z,ne,ve,Oe,Re,je,Se){if(o.timeoutHandle=-1,Re=u.subtreeFlags,(Re&8192||(Re&16785408)===16785408)&&(i0={stylesheets:null,count:0,unsuspend:IH},PA(u),Re=LH(),Re!==null)){o.cancelPendingCommit=Re(GA.bind(null,o,u,k,m,x,N,R,z,ne,Oe,1,je,Se)),eo(o,k,R,!ve);return}GA(o,u,k,m,x,N,R,z,ne)}function tH(o){for(var u=o;;){var m=u.tag;if((m===0||m===11||m===15)&&u.flags&16384&&(m=u.updateQueue,m!==null&&(m=m.stores,m!==null)))for(var x=0;x<m.length;x++){var N=m[x],k=N.getSnapshot;N=N.value;try{if(!La(k(),N))return!1}catch{return!1}}if(m=u.child,u.subtreeFlags&16384&&m!==null)m.return=u,u=m;else{if(u===o)break;for(;u.sibling===null;){if(u.return===null||u.return===o)return!0;u=u.return}u.sibling.return=u.return,u=u.sibling}}return!0}function eo(o,u,m,x){u&=~wb,u&=~pc,o.suspendedLanes|=u,o.pingedLanes&=~u,x&&(o.warmLanes|=u),x=o.expirationTimes;for(var N=u;0<N;){var k=31-pt(N),R=1<<k;x[k]=-1,N&=~R}m!==0&&Er(o,m,u)}function dp(){return(Xt&6)===0?(e0(0),!1):!0}function Eb(){if(St!==null){if(Qt===0)var o=St.return;else o=St,Gi=cc=null,Vv(o),Ru=null,Vf=0,o=St;for(;o!==null;)vA(o.alternate,o),o=o.return;St=null}}function Hu(o,u){var m=o.timeoutHandle;m!==-1&&(o.timeoutHandle=-1,vH(m)),m=o.cancelPendingCommit,m!==null&&(o.cancelPendingCommit=null,m()),Eb(),br=o,St=m=Vi(o.current,null),Ct=u,Qt=0,za=null,Xl=!1,Bu=ct(o,u),bb=!1,$u=bs=wb=pc=Ql=Br=0,ka=Zf=null,jb=!1,(u&8)!==0&&(u|=u&32);var x=o.entangledLanes;if(x!==0)for(o=o.entanglements,x&=u;0<x;){var N=31-pt(x),k=1<<N;u|=o[N],x&=~k}return tl=u,Pm(),m}function UA(o,u){jt=null,K.H=Zm,u===Rf||u===zm?(u=aE(),Qt=3):u===tE?(u=aE(),Qt=4):Qt=u===sA?8:u!==null&&typeof u=="object"&&typeof u.then=="function"?6:1,za=u,St===null&&(Br=1,np(o,ps(u,o.current)))}function zA(){var o=K.H;return K.H=Zm,o===null?Zm:o}function HA(){var o=K.A;return K.A=Jz,o}function Ab(){Br=4,Xl||(Ct&4194048)!==Ct&&vs.current!==null||(Bu=!0),(Ql&134217727)===0&&(pc&134217727)===0||br===null||eo(br,Ct,bs,!1)}function Tb(o,u,m){var x=Xt;Xt|=2;var N=zA(),k=HA();(br!==o||Ct!==u)&&(up=null,Hu(o,u)),u=!1;var R=Br;e:do try{if(Qt!==0&&St!==null){var z=St,ne=za;switch(Qt){case 8:Eb(),R=6;break e;case 3:case 2:case 9:case 6:vs.current===null&&(u=!0);var ve=Qt;if(Qt=0,za=null,Vu(o,z,ne,ve),m&&Bu){R=0;break e}break;default:ve=Qt,Qt=0,za=null,Vu(o,z,ne,ve)}}rH(),R=Br;break}catch(Oe){UA(o,Oe)}while(!0);return u&&o.shellSuspendCounter++,Gi=cc=null,Xt=x,K.H=N,K.A=k,St===null&&(br=null,Ct=0,Pm()),R}function rH(){for(;St!==null;)VA(St)}function nH(o,u){var m=Xt;Xt|=2;var x=zA(),N=HA();br!==o||Ct!==u?(up=null,cp=Be()+500,Hu(o,u)):Bu=ct(o,u);e:do try{if(Qt!==0&&St!==null){u=St;var k=za;t:switch(Qt){case 1:Qt=0,za=null,Vu(o,u,k,1);break;case 2:case 9:if(rE(k)){Qt=0,za=null,qA(u);break}u=function(){Qt!==2&&Qt!==9||br!==o||(Qt=7),Ni(o)},k.then(u,u);break e;case 3:Qt=7;break e;case 4:Qt=5;break e;case 7:rE(k)?(Qt=0,za=null,qA(u)):(Qt=0,za=null,Vu(o,u,k,7));break;case 5:var R=null;switch(St.tag){case 26:R=St.memoizedState;case 5:case 27:var z=St;if(!R||_T(R)){Qt=0,za=null;var ne=z.sibling;if(ne!==null)St=ne;else{var ve=z.return;ve!==null?(St=ve,fp(ve)):St=null}break t}}Qt=0,za=null,Vu(o,u,k,5);break;case 6:Qt=0,za=null,Vu(o,u,k,6);break;case 8:Eb(),Br=6;break e;default:throw Error(n(462))}}aH();break}catch(Oe){UA(o,Oe)}while(!0);return Gi=cc=null,K.H=x,K.A=N,Xt=m,St!==null?0:(br=null,Ct=0,Pm(),Br)}function aH(){for(;St!==null&&!xt();)VA(St)}function VA(o){var u=xA(o.alternate,o,tl);o.memoizedProps=o.pendingProps,u===null?fp(o):St=u}function qA(o){var u=o,m=u.alternate;switch(u.tag){case 15:case 0:u=dA(m,u,u.pendingProps,u.type,void 0,Ct);break;case 11:u=dA(m,u,u.pendingProps,u.type.render,u.ref,Ct);break;case 5:Vv(u);default:vA(m,u),u=St=W4(u,tl),u=xA(m,u,tl)}o.memoizedProps=o.pendingProps,u===null?fp(o):St=u}function Vu(o,u,m,x){Gi=cc=null,Vv(u),Ru=null,Vf=0;var N=u.return;try{if(Gz(o,N,u,m,Ct)){Br=1,np(o,ps(m,o.current)),St=null;return}}catch(k){if(N!==null)throw St=N,k;Br=1,np(o,ps(m,o.current)),St=null;return}u.flags&32768?(Ut||x===1?o=!0:Bu||(Ct&536870912)!==0?o=!1:(Xl=o=!0,(x===2||x===9||x===3||x===6)&&(x=vs.current,x!==null&&x.tag===13&&(x.flags|=16384))),WA(u,o)):fp(u)}function fp(o){var u=o;do{if((u.flags&32768)!==0){WA(u,Xl);return}o=u.return;var m=Yz(u.alternate,u,tl);if(m!==null){St=m;return}if(u=u.sibling,u!==null){St=u;return}St=u=o}while(u!==null);Br===0&&(Br=5)}function WA(o,u){do{var m=Xz(o.alternate,o);if(m!==null){m.flags&=32767,St=m;return}if(m=o.return,m!==null&&(m.flags|=32768,m.subtreeFlags=0,m.deletions=null),!u&&(o=o.sibling,o!==null)){St=o;return}St=o=m}while(o!==null);Br=6,St=null}function GA(o,u,m,x,N,k,R,z,ne){o.cancelPendingCommit=null;do hp();while(Fn!==0);if((Xt&6)!==0)throw Error(n(327));if(u!==null){if(u===o.current)throw Error(n(177));if(k=u.lanes|u.childLanes,k|=vv,ot(o,m,k,R,z,ne),o===br&&(St=br=null,Ct=0),Uu=u,Jl=o,zu=m,Sb=k,kb=N,FA=x,(u.subtreeFlags&10256)!==0||(u.flags&10256)!==0?(o.callbackNode=null,o.callbackPriority=0,oH(Vt,function(){return ZA(),null})):(o.callbackNode=null,o.callbackPriority=0),x=(u.flags&13878)!==0,(u.subtreeFlags&13878)!==0||x){x=K.T,K.T=null,N=J.p,J.p=2,R=Xt,Xt|=4;try{Qz(o,u,m)}finally{Xt=R,J.p=N,K.T=x}}Fn=1,KA(),YA(),XA()}}function KA(){if(Fn===1){Fn=0;var o=Jl,u=Uu,m=(u.flags&13878)!==0;if((u.subtreeFlags&13878)!==0||m){m=K.T,K.T=null;var x=J.p;J.p=2;var N=Xt;Xt|=4;try{CA(u,o);var k=Ub,R=I4(o.containerInfo),z=k.focusedElem,ne=k.selectionRange;if(R!==z&&z&&z.ownerDocument&&R4(z.ownerDocument.documentElement,z)){if(ne!==null&&mv(z)){var ve=ne.start,Oe=ne.end;if(Oe===void 0&&(Oe=ve),"selectionStart"in z)z.selectionStart=ve,z.selectionEnd=Math.min(Oe,z.value.length);else{var Re=z.ownerDocument||document,je=Re&&Re.defaultView||window;if(je.getSelection){var Se=je.getSelection(),ht=z.textContent.length,dt=Math.min(ne.start,ht),lr=ne.end===void 0?dt:Math.min(ne.end,ht);!Se.extend&&dt>lr&&(R=lr,lr=dt,dt=R);var he=M4(z,dt),ce=M4(z,lr);if(he&&ce&&(Se.rangeCount!==1||Se.anchorNode!==he.node||Se.anchorOffset!==he.offset||Se.focusNode!==ce.node||Se.focusOffset!==ce.offset)){var ye=Re.createRange();ye.setStart(he.node,he.offset),Se.removeAllRanges(),dt>lr?(Se.addRange(ye),Se.extend(ce.node,ce.offset)):(ye.setEnd(ce.node,ce.offset),Se.addRange(ye))}}}}for(Re=[],Se=z;Se=Se.parentNode;)Se.nodeType===1&&Re.push({element:Se,left:Se.scrollLeft,top:Se.scrollTop});for(typeof z.focus=="function"&&z.focus(),z=0;z<Re.length;z++){var Pe=Re[z];Pe.element.scrollLeft=Pe.left,Pe.element.scrollTop=Pe.top}}kp=!!$b,Ub=$b=null}finally{Xt=N,J.p=x,K.T=m}}o.current=u,Fn=2}}function YA(){if(Fn===2){Fn=0;var o=Jl,u=Uu,m=(u.flags&8772)!==0;if((u.subtreeFlags&8772)!==0||m){m=K.T,K.T=null;var x=J.p;J.p=2;var N=Xt;Xt|=4;try{_A(o,u.alternate,u)}finally{Xt=N,J.p=x,K.T=m}}Fn=3}}function XA(){if(Fn===4||Fn===3){Fn=0,Ye();var o=Jl,u=Uu,m=zu,x=FA;(u.subtreeFlags&10256)!==0||(u.flags&10256)!==0?Fn=5:(Fn=0,Uu=Jl=null,QA(o,o.pendingLanes));var N=o.pendingLanes;if(N===0&&(Zl=null),Xn(m),u=u.stateNode,vt&&typeof vt.onCommitFiberRoot=="function")try{vt.onCommitFiberRoot(Mn,u,void 0,(u.current.flags&128)===128)}catch{}if(x!==null){u=K.T,N=J.p,J.p=2,K.T=null;try{for(var k=o.onRecoverableError,R=0;R<x.length;R++){var z=x[R];k(z.value,{componentStack:z.stack})}}finally{K.T=u,J.p=N}}(zu&3)!==0&&hp(),Ni(o),N=o.pendingLanes,(m&4194090)!==0&&(N&42)!==0?o===_b?Jf++:(Jf=0,_b=o):Jf=0,e0(0)}}function QA(o,u){(o.pooledCacheLanes&=u)===0&&(u=o.pooledCache,u!=null&&(o.pooledCache=null,Pf(u)))}function hp(o){return KA(),YA(),XA(),ZA()}function ZA(){if(Fn!==5)return!1;var o=Jl,u=Sb;Sb=0;var m=Xn(zu),x=K.T,N=J.p;try{J.p=32>m?32:m,K.T=null,m=kb,kb=null;var k=Jl,R=zu;if(Fn=0,Uu=Jl=null,zu=0,(Xt&6)!==0)throw Error(n(331));var z=Xt;if(Xt|=4,RA(k.current),DA(k,k.current,R,m),Xt=z,e0(0,!1),vt&&typeof vt.onPostCommitFiberRoot=="function")try{vt.onPostCommitFiberRoot(Mn,k)}catch{}return!0}finally{J.p=N,K.T=x,QA(o,u)}}function JA(o,u,m){u=ps(m,u),u=ab(o.stateNode,u,2),o=Hl(o,u,2),o!==null&&(ut(o,2),Ni(o))}function hr(o,u,m){if(o.tag===3)JA(o,o,m);else for(;u!==null;){if(u.tag===3){JA(u,o,m);break}else if(u.tag===1){var x=u.stateNode;if(typeof u.type.getDerivedStateFromError=="function"||typeof x.componentDidCatch=="function"&&(Zl===null||!Zl.has(x))){o=ps(m,o),m=nA(2),x=Hl(u,m,2),x!==null&&(aA(m,x,u,o),ut(x,2),Ni(x));break}}u=u.return}}function Cb(o,u,m){var x=o.pingCache;if(x===null){x=o.pingCache=new eH;var N=new Set;x.set(u,N)}else N=x.get(u),N===void 0&&(N=new Set,x.set(u,N));N.has(m)||(bb=!0,N.add(m),o=sH.bind(null,o,u,m),u.then(o,o))}function sH(o,u,m){var x=o.pingCache;x!==null&&x.delete(u),o.pingedLanes|=o.suspendedLanes&m,o.warmLanes&=~m,br===o&&(Ct&m)===m&&(Br===4||Br===3&&(Ct&62914560)===Ct&&300>Be()-Nb?(Xt&2)===0&&Hu(o,0):wb|=m,$u===Ct&&($u=0)),Ni(o)}function eT(o,u){u===0&&(u=Ce()),o=ku(o,u),o!==null&&(ut(o,u),Ni(o))}function iH(o){var u=o.memoizedState,m=0;u!==null&&(m=u.retryLane),eT(o,m)}function lH(o,u){var m=0;switch(o.tag){case 13:var x=o.stateNode,N=o.memoizedState;N!==null&&(m=N.retryLane);break;case 19:x=o.stateNode;break;case 22:x=o.stateNode._retryCache;break;default:throw Error(n(314))}x!==null&&x.delete(u),eT(o,m)}function oH(o,u){return Xe(o,u)}var mp=null,qu=null,Ob=!1,pp=!1,Db=!1,gc=0;function Ni(o){o!==qu&&o.next===null&&(qu===null?mp=qu=o:qu=qu.next=o),pp=!0,Ob||(Ob=!0,uH())}function e0(o,u){if(!Db&&pp){Db=!0;do for(var m=!1,x=mp;x!==null;){if(o!==0){var N=x.pendingLanes;if(N===0)var k=0;else{var R=x.suspendedLanes,z=x.pingedLanes;k=(1<<31-pt(42|o)+1)-1,k&=N&~(R&~z),k=k&201326741?k&201326741|1:k?k|2:0}k!==0&&(m=!0,aT(x,k))}else k=Ct,k=ge(x,x===br?k:0,x.cancelPendingCommit!==null||x.timeoutHandle!==-1),(k&3)===0||ct(x,k)||(m=!0,aT(x,k));x=x.next}while(m);Db=!1}}function cH(){tT()}function tT(){pp=Ob=!1;var o=0;gc!==0&&(yH()&&(o=gc),gc=0);for(var u=Be(),m=null,x=mp;x!==null;){var N=x.next,k=rT(x,u);k===0?(x.next=null,m===null?mp=N:m.next=N,N===null&&(qu=m)):(m=x,(o!==0||(k&3)!==0)&&(pp=!0)),x=N}e0(o)}function rT(o,u){for(var m=o.suspendedLanes,x=o.pingedLanes,N=o.expirationTimes,k=o.pendingLanes&-62914561;0<k;){var R=31-pt(k),z=1<<R,ne=N[R];ne===-1?((z&m)===0||(z&x)!==0)&&(N[R]=At(z,u)):ne<=u&&(o.expiredLanes|=z),k&=~z}if(u=br,m=Ct,m=ge(o,o===u?m:0,o.cancelPendingCommit!==null||o.timeoutHandle!==-1),x=o.callbackNode,m===0||o===u&&(Qt===2||Qt===9)||o.cancelPendingCommit!==null)return x!==null&&x!==null&&Ue(x),o.callbackNode=null,o.callbackPriority=0;if((m&3)===0||ct(o,m)){if(u=m&-m,u===o.callbackPriority)return u;switch(x!==null&&Ue(x),Xn(m)){case 2:case 8:m=yt;break;case 32:m=Vt;break;case 268435456:m=Wr;break;default:m=Vt}return x=nT.bind(null,o),m=Xe(m,x),o.callbackPriority=u,o.callbackNode=m,u}return x!==null&&x!==null&&Ue(x),o.callbackPriority=2,o.callbackNode=null,2}function nT(o,u){if(Fn!==0&&Fn!==5)return o.callbackNode=null,o.callbackPriority=0,null;var m=o.callbackNode;if(hp()&&o.callbackNode!==m)return null;var x=Ct;return x=ge(o,o===br?x:0,o.cancelPendingCommit!==null||o.timeoutHandle!==-1),x===0?null:(BA(o,x,u),rT(o,Be()),o.callbackNode!=null&&o.callbackNode===m?nT.bind(null,o):null)}function aT(o,u){if(hp())return null;BA(o,u,!0)}function uH(){bH(function(){(Xt&6)!==0?Xe(Kt,cH):tT()})}function Pb(){return gc===0&&(gc=te()),gc}function sT(o){return o==null||typeof o=="symbol"||typeof o=="boolean"?null:typeof o=="function"?o:Zo(""+o)}function iT(o,u){var m=u.ownerDocument.createElement("input");return m.name=u.name,m.value=u.value,o.id&&m.setAttribute("form",o.id),u.parentNode.insertBefore(m,u),o=new FormData(o),m.parentNode.removeChild(m),o}function dH(o,u,m,x,N){if(u==="submit"&&m&&m.stateNode===N){var k=sT((N[Wt]||null).action),R=x.submitter;R&&(u=(u=R[Wt]||null)?sT(u.formAction):R.getAttribute("formAction"),u!==null&&(k=u,R=null));var z=new Cm("action","action",null,x,N);o.push({event:z,listeners:[{instance:null,listener:function(){if(x.defaultPrevented){if(gc!==0){var ne=R?iT(N,R):new FormData(N);Jv(m,{pending:!0,data:ne,method:N.method,action:k},null,ne)}}else typeof k=="function"&&(z.preventDefault(),ne=R?iT(N,R):new FormData(N),Jv(m,{pending:!0,data:ne,method:N.method,action:k},k,ne))},currentTarget:N}]})}}for(var Mb=0;Mb<yv.length;Mb++){var Rb=yv[Mb],fH=Rb.toLowerCase(),hH=Rb[0].toUpperCase()+Rb.slice(1);Qs(fH,"on"+hH)}Qs(B4,"onAnimationEnd"),Qs($4,"onAnimationIteration"),Qs(U4,"onAnimationStart"),Qs("dblclick","onDoubleClick"),Qs("focusin","onFocus"),Qs("focusout","onBlur"),Qs(Cz,"onTransitionRun"),Qs(Oz,"onTransitionStart"),Qs(Dz,"onTransitionCancel"),Qs(z4,"onTransitionEnd"),Le("onMouseEnter",["mouseout","mouseover"]),Le("onMouseLeave",["mouseout","mouseover"]),Le("onPointerEnter",["pointerout","pointerover"]),Le("onPointerLeave",["pointerout","pointerover"]),Fe("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),Fe("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),Fe("onBeforeInput",["compositionend","keypress","textInput","paste"]),Fe("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),Fe("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),Fe("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var t0="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),mH=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(t0));function lT(o,u){u=(u&4)!==0;for(var m=0;m<o.length;m++){var x=o[m],N=x.event;x=x.listeners;e:{var k=void 0;if(u)for(var R=x.length-1;0<=R;R--){var z=x[R],ne=z.instance,ve=z.currentTarget;if(z=z.listener,ne!==k&&N.isPropagationStopped())break e;k=z,N.currentTarget=ve;try{k(N)}catch(Oe){rp(Oe)}N.currentTarget=null,k=ne}else for(R=0;R<x.length;R++){if(z=x[R],ne=z.instance,ve=z.currentTarget,z=z.listener,ne!==k&&N.isPropagationStopped())break e;k=z,N.currentTarget=ve;try{k(N)}catch(Oe){rp(Oe)}N.currentTarget=null,k=ne}}}}function kt(o,u){var m=u[gt];m===void 0&&(m=u[gt]=new Set);var x=o+"__bubble";m.has(x)||(oT(u,o,2,!1),m.add(x))}function Ib(o,u,m){var x=0;u&&(x|=4),oT(m,o,x,u)}var gp="_reactListening"+Math.random().toString(36).slice(2);function Fb(o){if(!o[gp]){o[gp]=!0,we.forEach(function(m){m!=="selectionchange"&&(mH.has(m)||Ib(m,!1,o),Ib(m,!0,o))});var u=o.nodeType===9?o:o.ownerDocument;u===null||u[gp]||(u[gp]=!0,Ib("selectionchange",!1,u))}}function oT(o,u,m,x){switch(DT(u)){case 2:var N=UH;break;case 8:N=zH;break;default:N=Qb}m=N.bind(null,u,m,o),N=void 0,!ze||u!=="touchstart"&&u!=="touchmove"&&u!=="wheel"||(N=!0),x?N!==void 0?o.addEventListener(u,m,{capture:!0,passive:N}):o.addEventListener(u,m,!0):N!==void 0?o.addEventListener(u,m,{passive:N}):o.addEventListener(u,m,!1)}function Lb(o,u,m,x,N){var k=x;if((u&1)===0&&(u&2)===0&&x!==null)e:for(;;){if(x===null)return;var R=x.tag;if(R===3||R===4){var z=x.stateNode.containerInfo;if(z===N)break;if(R===4)for(R=x.return;R!==null;){var ne=R.tag;if((ne===3||ne===4)&&R.stateNode.containerInfo===N)return;R=R.return}for(;z!==null;){if(R=M(z),R===null)return;if(ne=R.tag,ne===5||ne===6||ne===26||ne===27){x=k=R;continue e}z=z.parentNode}}x=x.return}Xs(function(){var ve=k,Oe=wf(m),Re=[];e:{var je=H4.get(o);if(je!==void 0){var Se=Cm,ht=o;switch(o){case"keypress":if(ec(m)===0)break e;case"keydown":case"keyup":Se=oz;break;case"focusin":ht="focus",Se=cv;break;case"focusout":ht="blur",Se=cv;break;case"beforeblur":case"afterblur":Se=cv;break;case"click":if(m.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":Se=y4;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":Se=XU;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":Se=dz;break;case B4:case $4:case U4:Se=JU;break;case z4:Se=hz;break;case"scroll":case"scrollend":Se=KU;break;case"wheel":Se=pz;break;case"copy":case"cut":case"paste":Se=tz;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":Se=b4;break;case"toggle":case"beforetoggle":Se=xz}var dt=(u&4)!==0,lr=!dt&&(o==="scroll"||o==="scrollend"),he=dt?je!==null?je+"Capture":null:je;dt=[];for(var ce=ve,ye;ce!==null;){var Pe=ce;if(ye=Pe.stateNode,Pe=Pe.tag,Pe!==5&&Pe!==26&&Pe!==27||ye===null||he===null||(Pe=Jo(ce,he),Pe!=null&&dt.push(r0(ce,Pe,ye))),lr)break;ce=ce.return}0<dt.length&&(je=new Se(je,ht,null,m,Oe),Re.push({event:je,listeners:dt}))}}if((u&7)===0){e:{if(je=o==="mouseover"||o==="pointerover",Se=o==="mouseout"||o==="pointerout",je&&m!==bf&&(ht=m.relatedTarget||m.fromElement)&&(M(ht)||ht[xa]))break e;if((Se||je)&&(je=Oe.window===Oe?Oe:(je=Oe.ownerDocument)?je.defaultView||je.parentWindow:window,Se?(ht=m.relatedTarget||m.toElement,Se=ve,ht=ht?M(ht):null,ht!==null&&(lr=i(ht),dt=ht.tag,ht!==lr||dt!==5&&dt!==27&&dt!==6)&&(ht=null)):(Se=null,ht=ve),Se!==ht)){if(dt=y4,Pe="onMouseLeave",he="onMouseEnter",ce="mouse",(o==="pointerout"||o==="pointerover")&&(dt=b4,Pe="onPointerLeave",he="onPointerEnter",ce="pointer"),lr=Se==null?je:be(Se),ye=ht==null?je:be(ht),je=new dt(Pe,ce+"leave",Se,m,Oe),je.target=lr,je.relatedTarget=ye,Pe=null,M(Oe)===ve&&(dt=new dt(he,ce+"enter",ht,m,Oe),dt.target=ye,dt.relatedTarget=lr,Pe=dt),lr=Pe,Se&&ht)t:{for(dt=Se,he=ht,ce=0,ye=dt;ye;ye=Wu(ye))ce++;for(ye=0,Pe=he;Pe;Pe=Wu(Pe))ye++;for(;0<ce-ye;)dt=Wu(dt),ce--;for(;0<ye-ce;)he=Wu(he),ye--;for(;ce--;){if(dt===he||he!==null&&dt===he.alternate)break t;dt=Wu(dt),he=Wu(he)}dt=null}else dt=null;Se!==null&&cT(Re,je,Se,dt,!1),ht!==null&&lr!==null&&cT(Re,lr,ht,dt,!0)}}e:{if(je=ve?be(ve):window,Se=je.nodeName&&je.nodeName.toLowerCase(),Se==="select"||Se==="input"&&je.type==="file")var et=A4;else if(_4(je))if(T4)et=Ez;else{et=kz;var Nt=Sz}else Se=je.nodeName,!Se||Se.toLowerCase()!=="input"||je.type!=="checkbox"&&je.type!=="radio"?ve&&vf(ve.elementType)&&(et=A4):et=_z;if(et&&(et=et(o,ve))){E4(Re,et,m,Oe);break e}Nt&&Nt(o,je,ve),o==="focusout"&&ve&&je.type==="number"&&ve.memoizedProps.value!=null&&xf(je,"number",je.value)}switch(Nt=ve?be(ve):window,o){case"focusin":(_4(Nt)||Nt.contentEditable==="true")&&(ju=Nt,pv=ve,Af=null);break;case"focusout":Af=pv=ju=null;break;case"mousedown":gv=!0;break;case"contextmenu":case"mouseup":case"dragend":gv=!1,F4(Re,m,Oe);break;case"selectionchange":if(Tz)break;case"keydown":case"keyup":F4(Re,m,Oe)}var it;if(dv)e:{switch(o){case"compositionstart":var ft="onCompositionStart";break e;case"compositionend":ft="onCompositionEnd";break e;case"compositionupdate":ft="onCompositionUpdate";break e}ft=void 0}else wu?S4(o,m)&&(ft="onCompositionEnd"):o==="keydown"&&m.keyCode===229&&(ft="onCompositionStart");ft&&(w4&&m.locale!=="ko"&&(wu||ft!=="onCompositionStart"?ft==="onCompositionEnd"&&wu&&(it=Rn()):(Pt=Oe,Tt="value"in Pt?Pt.value:Pt.textContent,wu=!0)),Nt=xp(ve,ft),0<Nt.length&&(ft=new v4(ft,o,null,m,Oe),Re.push({event:ft,listeners:Nt}),it?ft.data=it:(it=k4(m),it!==null&&(ft.data=it)))),(it=vz?bz(o,m):wz(o,m))&&(ft=xp(ve,"onBeforeInput"),0<ft.length&&(Nt=new v4("onBeforeInput","beforeinput",null,m,Oe),Re.push({event:Nt,listeners:ft}),Nt.data=it)),dH(Re,o,ve,m,Oe)}lT(Re,u)})}function r0(o,u,m){return{instance:o,listener:u,currentTarget:m}}function xp(o,u){for(var m=u+"Capture",x=[];o!==null;){var N=o,k=N.stateNode;if(N=N.tag,N!==5&&N!==26&&N!==27||k===null||(N=Jo(o,m),N!=null&&x.unshift(r0(o,N,k)),N=Jo(o,u),N!=null&&x.push(r0(o,N,k))),o.tag===3)return x;o=o.return}return[]}function Wu(o){if(o===null)return null;do o=o.return;while(o&&o.tag!==5&&o.tag!==27);return o||null}function cT(o,u,m,x,N){for(var k=u._reactName,R=[];m!==null&&m!==x;){var z=m,ne=z.alternate,ve=z.stateNode;if(z=z.tag,ne!==null&&ne===x)break;z!==5&&z!==26&&z!==27||ve===null||(ne=ve,N?(ve=Jo(m,k),ve!=null&&R.unshift(r0(m,ve,ne))):N||(ve=Jo(m,k),ve!=null&&R.push(r0(m,ve,ne)))),m=m.return}R.length!==0&&o.push({event:u,listeners:R})}var pH=/\r\n?/g,gH=/\u0000|\uFFFD/g;function uT(o){return(typeof o=="string"?o:""+o).replace(pH,`
`).replace(gH,"")}function dT(o,u){return u=uT(u),uT(o)===u}function yp(){}function ir(o,u,m,x,N,k){switch(m){case"children":typeof x=="string"?u==="body"||u==="textarea"&&x===""||Ui(o,x):(typeof x=="number"||typeof x=="bigint")&&u!=="body"&&Ui(o,""+x);break;case"className":Yt(o,"class",x);break;case"tabIndex":Yt(o,"tabindex",x);break;case"dir":case"role":case"viewBox":case"width":case"height":Yt(o,m,x);break;case"style":Am(o,x,k);break;case"data":if(u!=="object"){Yt(o,"data",x);break}case"src":case"href":if(x===""&&(u!=="a"||m!=="href")){o.removeAttribute(m);break}if(x==null||typeof x=="function"||typeof x=="symbol"||typeof x=="boolean"){o.removeAttribute(m);break}x=Zo(""+x),o.setAttribute(m,x);break;case"action":case"formAction":if(typeof x=="function"){o.setAttribute(m,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof k=="function"&&(m==="formAction"?(u!=="input"&&ir(o,u,"name",N.name,N,null),ir(o,u,"formEncType",N.formEncType,N,null),ir(o,u,"formMethod",N.formMethod,N,null),ir(o,u,"formTarget",N.formTarget,N,null)):(ir(o,u,"encType",N.encType,N,null),ir(o,u,"method",N.method,N,null),ir(o,u,"target",N.target,N,null)));if(x==null||typeof x=="symbol"||typeof x=="boolean"){o.removeAttribute(m);break}x=Zo(""+x),o.setAttribute(m,x);break;case"onClick":x!=null&&(o.onclick=yp);break;case"onScroll":x!=null&&kt("scroll",o);break;case"onScrollEnd":x!=null&&kt("scrollend",o);break;case"dangerouslySetInnerHTML":if(x!=null){if(typeof x!="object"||!("__html"in x))throw Error(n(61));if(m=x.__html,m!=null){if(N.children!=null)throw Error(n(60));o.innerHTML=m}}break;case"multiple":o.multiple=x&&typeof x!="function"&&typeof x!="symbol";break;case"muted":o.muted=x&&typeof x!="function"&&typeof x!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(x==null||typeof x=="function"||typeof x=="boolean"||typeof x=="symbol"){o.removeAttribute("xlink:href");break}m=Zo(""+x),o.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",m);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":x!=null&&typeof x!="function"&&typeof x!="symbol"?o.setAttribute(m,""+x):o.removeAttribute(m);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":x&&typeof x!="function"&&typeof x!="symbol"?o.setAttribute(m,""):o.removeAttribute(m);break;case"capture":case"download":x===!0?o.setAttribute(m,""):x!==!1&&x!=null&&typeof x!="function"&&typeof x!="symbol"?o.setAttribute(m,x):o.removeAttribute(m);break;case"cols":case"rows":case"size":case"span":x!=null&&typeof x!="function"&&typeof x!="symbol"&&!isNaN(x)&&1<=x?o.setAttribute(m,x):o.removeAttribute(m);break;case"rowSpan":case"start":x==null||typeof x=="function"||typeof x=="symbol"||isNaN(x)?o.removeAttribute(m):o.setAttribute(m,x);break;case"popover":kt("beforetoggle",o),kt("toggle",o),_t(o,"popover",x);break;case"xlinkActuate":ar(o,"http://www.w3.org/1999/xlink","xlink:actuate",x);break;case"xlinkArcrole":ar(o,"http://www.w3.org/1999/xlink","xlink:arcrole",x);break;case"xlinkRole":ar(o,"http://www.w3.org/1999/xlink","xlink:role",x);break;case"xlinkShow":ar(o,"http://www.w3.org/1999/xlink","xlink:show",x);break;case"xlinkTitle":ar(o,"http://www.w3.org/1999/xlink","xlink:title",x);break;case"xlinkType":ar(o,"http://www.w3.org/1999/xlink","xlink:type",x);break;case"xmlBase":ar(o,"http://www.w3.org/XML/1998/namespace","xml:base",x);break;case"xmlLang":ar(o,"http://www.w3.org/XML/1998/namespace","xml:lang",x);break;case"xmlSpace":ar(o,"http://www.w3.org/XML/1998/namespace","xml:space",x);break;case"is":_t(o,"is",x);break;case"innerText":case"textContent":break;default:(!(2<m.length)||m[0]!=="o"&&m[0]!=="O"||m[1]!=="n"&&m[1]!=="N")&&(m=iv.get(m)||m,_t(o,m,x))}}function Bb(o,u,m,x,N,k){switch(m){case"style":Am(o,x,k);break;case"dangerouslySetInnerHTML":if(x!=null){if(typeof x!="object"||!("__html"in x))throw Error(n(61));if(m=x.__html,m!=null){if(N.children!=null)throw Error(n(60));o.innerHTML=m}}break;case"children":typeof x=="string"?Ui(o,x):(typeof x=="number"||typeof x=="bigint")&&Ui(o,""+x);break;case"onScroll":x!=null&&kt("scroll",o);break;case"onScrollEnd":x!=null&&kt("scrollend",o);break;case"onClick":x!=null&&(o.onclick=yp);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!Ne.hasOwnProperty(m))e:{if(m[0]==="o"&&m[1]==="n"&&(N=m.endsWith("Capture"),u=m.slice(2,N?m.length-7:void 0),k=o[Wt]||null,k=k!=null?k[m]:null,typeof k=="function"&&o.removeEventListener(u,k,N),typeof x=="function")){typeof k!="function"&&k!==null&&(m in o?o[m]=null:o.hasAttribute(m)&&o.removeAttribute(m)),o.addEventListener(u,x,N);break e}m in o?o[m]=x:x===!0?o.setAttribute(m,""):_t(o,m,x)}}}function Ln(o,u,m){switch(u){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":kt("error",o),kt("load",o);var x=!1,N=!1,k;for(k in m)if(m.hasOwnProperty(k)){var R=m[k];if(R!=null)switch(k){case"src":x=!0;break;case"srcSet":N=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(n(137,u));default:ir(o,u,k,R,m,null)}}N&&ir(o,u,"srcSet",m.srcSet,m,null),x&&ir(o,u,"src",m.src,m,null);return;case"input":kt("invalid",o);var z=k=R=N=null,ne=null,ve=null;for(x in m)if(m.hasOwnProperty(x)){var Oe=m[x];if(Oe!=null)switch(x){case"name":N=Oe;break;case"type":R=Oe;break;case"checked":ne=Oe;break;case"defaultChecked":ve=Oe;break;case"value":k=Oe;break;case"defaultValue":z=Oe;break;case"children":case"dangerouslySetInnerHTML":if(Oe!=null)throw Error(n(137,u));break;default:ir(o,u,x,Oe,m,null)}}km(o,k,z,ne,ve,R,N,!1),Xo(o);return;case"select":kt("invalid",o),x=R=k=null;for(N in m)if(m.hasOwnProperty(N)&&(z=m[N],z!=null))switch(N){case"value":k=z;break;case"defaultValue":R=z;break;case"multiple":x=z;default:ir(o,u,N,z,m,null)}u=k,m=R,o.multiple=!!x,u!=null?Ll(o,!!x,u,!1):m!=null&&Ll(o,!!x,m,!0);return;case"textarea":kt("invalid",o),k=N=x=null;for(R in m)if(m.hasOwnProperty(R)&&(z=m[R],z!=null))switch(R){case"value":x=z;break;case"defaultValue":N=z;break;case"children":k=z;break;case"dangerouslySetInnerHTML":if(z!=null)throw Error(n(91));break;default:ir(o,u,R,z,m,null)}Qo(o,x,N,k),Xo(o);return;case"option":for(ne in m)if(m.hasOwnProperty(ne)&&(x=m[ne],x!=null))switch(ne){case"selected":o.selected=x&&typeof x!="function"&&typeof x!="symbol";break;default:ir(o,u,ne,x,m,null)}return;case"dialog":kt("beforetoggle",o),kt("toggle",o),kt("cancel",o),kt("close",o);break;case"iframe":case"object":kt("load",o);break;case"video":case"audio":for(x=0;x<t0.length;x++)kt(t0[x],o);break;case"image":kt("error",o),kt("load",o);break;case"details":kt("toggle",o);break;case"embed":case"source":case"link":kt("error",o),kt("load",o);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(ve in m)if(m.hasOwnProperty(ve)&&(x=m[ve],x!=null))switch(ve){case"children":case"dangerouslySetInnerHTML":throw Error(n(137,u));default:ir(o,u,ve,x,m,null)}return;default:if(vf(u)){for(Oe in m)m.hasOwnProperty(Oe)&&(x=m[Oe],x!==void 0&&Bb(o,u,Oe,x,m,void 0));return}}for(z in m)m.hasOwnProperty(z)&&(x=m[z],x!=null&&ir(o,u,z,x,m,null))}function xH(o,u,m,x){switch(u){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var N=null,k=null,R=null,z=null,ne=null,ve=null,Oe=null;for(Se in m){var Re=m[Se];if(m.hasOwnProperty(Se)&&Re!=null)switch(Se){case"checked":break;case"value":break;case"defaultValue":ne=Re;default:x.hasOwnProperty(Se)||ir(o,u,Se,null,x,Re)}}for(var je in x){var Se=x[je];if(Re=m[je],x.hasOwnProperty(je)&&(Se!=null||Re!=null))switch(je){case"type":k=Se;break;case"name":N=Se;break;case"checked":ve=Se;break;case"defaultChecked":Oe=Se;break;case"value":R=Se;break;case"defaultValue":z=Se;break;case"children":case"dangerouslySetInnerHTML":if(Se!=null)throw Error(n(137,u));break;default:Se!==Re&&ir(o,u,je,Se,x,Re)}}gf(o,R,z,ne,ve,Oe,k,N);return;case"select":Se=R=z=je=null;for(k in m)if(ne=m[k],m.hasOwnProperty(k)&&ne!=null)switch(k){case"value":break;case"multiple":Se=ne;default:x.hasOwnProperty(k)||ir(o,u,k,null,x,ne)}for(N in x)if(k=x[N],ne=m[N],x.hasOwnProperty(N)&&(k!=null||ne!=null))switch(N){case"value":je=k;break;case"defaultValue":z=k;break;case"multiple":R=k;default:k!==ne&&ir(o,u,N,k,x,ne)}u=z,m=R,x=Se,je!=null?Ll(o,!!m,je,!1):!!x!=!!m&&(u!=null?Ll(o,!!m,u,!0):Ll(o,!!m,m?[]:"",!1));return;case"textarea":Se=je=null;for(z in m)if(N=m[z],m.hasOwnProperty(z)&&N!=null&&!x.hasOwnProperty(z))switch(z){case"value":break;case"children":break;default:ir(o,u,z,null,x,N)}for(R in x)if(N=x[R],k=m[R],x.hasOwnProperty(R)&&(N!=null||k!=null))switch(R){case"value":je=N;break;case"defaultValue":Se=N;break;case"children":break;case"dangerouslySetInnerHTML":if(N!=null)throw Error(n(91));break;default:N!==k&&ir(o,u,R,N,x,k)}_m(o,je,Se);return;case"option":for(var ht in m)if(je=m[ht],m.hasOwnProperty(ht)&&je!=null&&!x.hasOwnProperty(ht))switch(ht){case"selected":o.selected=!1;break;default:ir(o,u,ht,null,x,je)}for(ne in x)if(je=x[ne],Se=m[ne],x.hasOwnProperty(ne)&&je!==Se&&(je!=null||Se!=null))switch(ne){case"selected":o.selected=je&&typeof je!="function"&&typeof je!="symbol";break;default:ir(o,u,ne,je,x,Se)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var dt in m)je=m[dt],m.hasOwnProperty(dt)&&je!=null&&!x.hasOwnProperty(dt)&&ir(o,u,dt,null,x,je);for(ve in x)if(je=x[ve],Se=m[ve],x.hasOwnProperty(ve)&&je!==Se&&(je!=null||Se!=null))switch(ve){case"children":case"dangerouslySetInnerHTML":if(je!=null)throw Error(n(137,u));break;default:ir(o,u,ve,je,x,Se)}return;default:if(vf(u)){for(var lr in m)je=m[lr],m.hasOwnProperty(lr)&&je!==void 0&&!x.hasOwnProperty(lr)&&Bb(o,u,lr,void 0,x,je);for(Oe in x)je=x[Oe],Se=m[Oe],!x.hasOwnProperty(Oe)||je===Se||je===void 0&&Se===void 0||Bb(o,u,Oe,je,x,Se);return}}for(var he in m)je=m[he],m.hasOwnProperty(he)&&je!=null&&!x.hasOwnProperty(he)&&ir(o,u,he,null,x,je);for(Re in x)je=x[Re],Se=m[Re],!x.hasOwnProperty(Re)||je===Se||je==null&&Se==null||ir(o,u,Re,je,x,Se)}var $b=null,Ub=null;function vp(o){return o.nodeType===9?o:o.ownerDocument}function fT(o){switch(o){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function hT(o,u){if(o===0)switch(u){case"svg":return 1;case"math":return 2;default:return 0}return o===1&&u==="foreignObject"?0:o}function zb(o,u){return o==="textarea"||o==="noscript"||typeof u.children=="string"||typeof u.children=="number"||typeof u.children=="bigint"||typeof u.dangerouslySetInnerHTML=="object"&&u.dangerouslySetInnerHTML!==null&&u.dangerouslySetInnerHTML.__html!=null}var Hb=null;function yH(){var o=window.event;return o&&o.type==="popstate"?o===Hb?!1:(Hb=o,!0):(Hb=null,!1)}var mT=typeof setTimeout=="function"?setTimeout:void 0,vH=typeof clearTimeout=="function"?clearTimeout:void 0,pT=typeof Promise=="function"?Promise:void 0,bH=typeof queueMicrotask=="function"?queueMicrotask:typeof pT<"u"?function(o){return pT.resolve(null).then(o).catch(wH)}:mT;function wH(o){setTimeout(function(){throw o})}function to(o){return o==="head"}function gT(o,u){var m=u,x=0,N=0;do{var k=m.nextSibling;if(o.removeChild(m),k&&k.nodeType===8)if(m=k.data,m==="/$"){if(0<x&&8>x){m=x;var R=o.ownerDocument;if(m&1&&n0(R.documentElement),m&2&&n0(R.body),m&4)for(m=R.head,n0(m),R=m.firstChild;R;){var z=R.nextSibling,ne=R.nodeName;R[q]||ne==="SCRIPT"||ne==="STYLE"||ne==="LINK"&&R.rel.toLowerCase()==="stylesheet"||m.removeChild(R),R=z}}if(N===0){o.removeChild(k),d0(u);return}N--}else m==="$"||m==="$?"||m==="$!"?N++:x=m.charCodeAt(0)-48;else x=0;m=k}while(m);d0(u)}function Vb(o){var u=o.firstChild;for(u&&u.nodeType===10&&(u=u.nextSibling);u;){var m=u;switch(u=u.nextSibling,m.nodeName){case"HTML":case"HEAD":case"BODY":Vb(m),Y(m);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(m.rel.toLowerCase()==="stylesheet")continue}o.removeChild(m)}}function jH(o,u,m,x){for(;o.nodeType===1;){var N=m;if(o.nodeName.toLowerCase()!==u.toLowerCase()){if(!x&&(o.nodeName!=="INPUT"||o.type!=="hidden"))break}else if(x){if(!o[q])switch(u){case"meta":if(!o.hasAttribute("itemprop"))break;return o;case"link":if(k=o.getAttribute("rel"),k==="stylesheet"&&o.hasAttribute("data-precedence"))break;if(k!==N.rel||o.getAttribute("href")!==(N.href==null||N.href===""?null:N.href)||o.getAttribute("crossorigin")!==(N.crossOrigin==null?null:N.crossOrigin)||o.getAttribute("title")!==(N.title==null?null:N.title))break;return o;case"style":if(o.hasAttribute("data-precedence"))break;return o;case"script":if(k=o.getAttribute("src"),(k!==(N.src==null?null:N.src)||o.getAttribute("type")!==(N.type==null?null:N.type)||o.getAttribute("crossorigin")!==(N.crossOrigin==null?null:N.crossOrigin))&&k&&o.hasAttribute("async")&&!o.hasAttribute("itemprop"))break;return o;default:return o}}else if(u==="input"&&o.type==="hidden"){var k=N.name==null?null:""+N.name;if(N.type==="hidden"&&o.getAttribute("name")===k)return o}else return o;if(o=Js(o.nextSibling),o===null)break}return null}function NH(o,u,m){if(u==="")return null;for(;o.nodeType!==3;)if((o.nodeType!==1||o.nodeName!=="INPUT"||o.type!=="hidden")&&!m||(o=Js(o.nextSibling),o===null))return null;return o}function qb(o){return o.data==="$!"||o.data==="$?"&&o.ownerDocument.readyState==="complete"}function SH(o,u){var m=o.ownerDocument;if(o.data!=="$?"||m.readyState==="complete")u();else{var x=function(){u(),m.removeEventListener("DOMContentLoaded",x)};m.addEventListener("DOMContentLoaded",x),o._reactRetry=x}}function Js(o){for(;o!=null;o=o.nextSibling){var u=o.nodeType;if(u===1||u===3)break;if(u===8){if(u=o.data,u==="$"||u==="$!"||u==="$?"||u==="F!"||u==="F")break;if(u==="/$")return null}}return o}var Wb=null;function xT(o){o=o.previousSibling;for(var u=0;o;){if(o.nodeType===8){var m=o.data;if(m==="$"||m==="$!"||m==="$?"){if(u===0)return o;u--}else m==="/$"&&u++}o=o.previousSibling}return null}function yT(o,u,m){switch(u=vp(m),o){case"html":if(o=u.documentElement,!o)throw Error(n(452));return o;case"head":if(o=u.head,!o)throw Error(n(453));return o;case"body":if(o=u.body,!o)throw Error(n(454));return o;default:throw Error(n(451))}}function n0(o){for(var u=o.attributes;u.length;)o.removeAttributeNode(u[0]);Y(o)}var ws=new Map,vT=new Set;function bp(o){return typeof o.getRootNode=="function"?o.getRootNode():o.nodeType===9?o:o.ownerDocument}var rl=J.d;J.d={f:kH,r:_H,D:EH,C:AH,L:TH,m:CH,X:DH,S:OH,M:PH};function kH(){var o=rl.f(),u=dp();return o||u}function _H(o){var u=X(o);u!==null&&u.tag===5&&u.type==="form"?BE(u):rl.r(o)}var Gu=typeof document>"u"?null:document;function bT(o,u,m){var x=Gu;if(x&&typeof u=="string"&&u){var N=wa(u);N='link[rel="'+o+'"][href="'+N+'"]',typeof m=="string"&&(N+='[crossorigin="'+m+'"]'),vT.has(N)||(vT.add(N),o={rel:o,crossOrigin:m,href:u},x.querySelector(N)===null&&(u=x.createElement("link"),Ln(u,"link",o),pe(u),x.head.appendChild(u)))}}function EH(o){rl.D(o),bT("dns-prefetch",o,null)}function AH(o,u){rl.C(o,u),bT("preconnect",o,u)}function TH(o,u,m){rl.L(o,u,m);var x=Gu;if(x&&o&&u){var N='link[rel="preload"][as="'+wa(u)+'"]';u==="image"&&m&&m.imageSrcSet?(N+='[imagesrcset="'+wa(m.imageSrcSet)+'"]',typeof m.imageSizes=="string"&&(N+='[imagesizes="'+wa(m.imageSizes)+'"]')):N+='[href="'+wa(o)+'"]';var k=N;switch(u){case"style":k=Ku(o);break;case"script":k=Yu(o)}ws.has(k)||(o=h({rel:"preload",href:u==="image"&&m&&m.imageSrcSet?void 0:o,as:u},m),ws.set(k,o),x.querySelector(N)!==null||u==="style"&&x.querySelector(a0(k))||u==="script"&&x.querySelector(s0(k))||(u=x.createElement("link"),Ln(u,"link",o),pe(u),x.head.appendChild(u)))}}function CH(o,u){rl.m(o,u);var m=Gu;if(m&&o){var x=u&&typeof u.as=="string"?u.as:"script",N='link[rel="modulepreload"][as="'+wa(x)+'"][href="'+wa(o)+'"]',k=N;switch(x){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":k=Yu(o)}if(!ws.has(k)&&(o=h({rel:"modulepreload",href:o},u),ws.set(k,o),m.querySelector(N)===null)){switch(x){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(m.querySelector(s0(k)))return}x=m.createElement("link"),Ln(x,"link",o),pe(x),m.head.appendChild(x)}}}function OH(o,u,m){rl.S(o,u,m);var x=Gu;if(x&&o){var N=_e(x).hoistableStyles,k=Ku(o);u=u||"default";var R=N.get(k);if(!R){var z={loading:0,preload:null};if(R=x.querySelector(a0(k)))z.loading=5;else{o=h({rel:"stylesheet",href:o,"data-precedence":u},m),(m=ws.get(k))&&Gb(o,m);var ne=R=x.createElement("link");pe(ne),Ln(ne,"link",o),ne._p=new Promise(function(ve,Oe){ne.onload=ve,ne.onerror=Oe}),ne.addEventListener("load",function(){z.loading|=1}),ne.addEventListener("error",function(){z.loading|=2}),z.loading|=4,wp(R,u,x)}R={type:"stylesheet",instance:R,count:1,state:z},N.set(k,R)}}}function DH(o,u){rl.X(o,u);var m=Gu;if(m&&o){var x=_e(m).hoistableScripts,N=Yu(o),k=x.get(N);k||(k=m.querySelector(s0(N)),k||(o=h({src:o,async:!0},u),(u=ws.get(N))&&Kb(o,u),k=m.createElement("script"),pe(k),Ln(k,"link",o),m.head.appendChild(k)),k={type:"script",instance:k,count:1,state:null},x.set(N,k))}}function PH(o,u){rl.M(o,u);var m=Gu;if(m&&o){var x=_e(m).hoistableScripts,N=Yu(o),k=x.get(N);k||(k=m.querySelector(s0(N)),k||(o=h({src:o,async:!0,type:"module"},u),(u=ws.get(N))&&Kb(o,u),k=m.createElement("script"),pe(k),Ln(k,"link",o),m.head.appendChild(k)),k={type:"script",instance:k,count:1,state:null},x.set(N,k))}}function wT(o,u,m,x){var N=(N=le.current)?bp(N):null;if(!N)throw Error(n(446));switch(o){case"meta":case"title":return null;case"style":return typeof m.precedence=="string"&&typeof m.href=="string"?(u=Ku(m.href),m=_e(N).hoistableStyles,x=m.get(u),x||(x={type:"style",instance:null,count:0,state:null},m.set(u,x)),x):{type:"void",instance:null,count:0,state:null};case"link":if(m.rel==="stylesheet"&&typeof m.href=="string"&&typeof m.precedence=="string"){o=Ku(m.href);var k=_e(N).hoistableStyles,R=k.get(o);if(R||(N=N.ownerDocument||N,R={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},k.set(o,R),(k=N.querySelector(a0(o)))&&!k._p&&(R.instance=k,R.state.loading=5),ws.has(o)||(m={rel:"preload",as:"style",href:m.href,crossOrigin:m.crossOrigin,integrity:m.integrity,media:m.media,hrefLang:m.hrefLang,referrerPolicy:m.referrerPolicy},ws.set(o,m),k||MH(N,o,m,R.state))),u&&x===null)throw Error(n(528,""));return R}if(u&&x!==null)throw Error(n(529,""));return null;case"script":return u=m.async,m=m.src,typeof m=="string"&&u&&typeof u!="function"&&typeof u!="symbol"?(u=Yu(m),m=_e(N).hoistableScripts,x=m.get(u),x||(x={type:"script",instance:null,count:0,state:null},m.set(u,x)),x):{type:"void",instance:null,count:0,state:null};default:throw Error(n(444,o))}}function Ku(o){return'href="'+wa(o)+'"'}function a0(o){return'link[rel="stylesheet"]['+o+"]"}function jT(o){return h({},o,{"data-precedence":o.precedence,precedence:null})}function MH(o,u,m,x){o.querySelector('link[rel="preload"][as="style"]['+u+"]")?x.loading=1:(u=o.createElement("link"),x.preload=u,u.addEventListener("load",function(){return x.loading|=1}),u.addEventListener("error",function(){return x.loading|=2}),Ln(u,"link",m),pe(u),o.head.appendChild(u))}function Yu(o){return'[src="'+wa(o)+'"]'}function s0(o){return"script[async]"+o}function NT(o,u,m){if(u.count++,u.instance===null)switch(u.type){case"style":var x=o.querySelector('style[data-href~="'+wa(m.href)+'"]');if(x)return u.instance=x,pe(x),x;var N=h({},m,{"data-href":m.href,"data-precedence":m.precedence,href:null,precedence:null});return x=(o.ownerDocument||o).createElement("style"),pe(x),Ln(x,"style",N),wp(x,m.precedence,o),u.instance=x;case"stylesheet":N=Ku(m.href);var k=o.querySelector(a0(N));if(k)return u.state.loading|=4,u.instance=k,pe(k),k;x=jT(m),(N=ws.get(N))&&Gb(x,N),k=(o.ownerDocument||o).createElement("link"),pe(k);var R=k;return R._p=new Promise(function(z,ne){R.onload=z,R.onerror=ne}),Ln(k,"link",x),u.state.loading|=4,wp(k,m.precedence,o),u.instance=k;case"script":return k=Yu(m.src),(N=o.querySelector(s0(k)))?(u.instance=N,pe(N),N):(x=m,(N=ws.get(k))&&(x=h({},m),Kb(x,N)),o=o.ownerDocument||o,N=o.createElement("script"),pe(N),Ln(N,"link",x),o.head.appendChild(N),u.instance=N);case"void":return null;default:throw Error(n(443,u.type))}else u.type==="stylesheet"&&(u.state.loading&4)===0&&(x=u.instance,u.state.loading|=4,wp(x,m.precedence,o));return u.instance}function wp(o,u,m){for(var x=m.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),N=x.length?x[x.length-1]:null,k=N,R=0;R<x.length;R++){var z=x[R];if(z.dataset.precedence===u)k=z;else if(k!==N)break}k?k.parentNode.insertBefore(o,k.nextSibling):(u=m.nodeType===9?m.head:m,u.insertBefore(o,u.firstChild))}function Gb(o,u){o.crossOrigin==null&&(o.crossOrigin=u.crossOrigin),o.referrerPolicy==null&&(o.referrerPolicy=u.referrerPolicy),o.title==null&&(o.title=u.title)}function Kb(o,u){o.crossOrigin==null&&(o.crossOrigin=u.crossOrigin),o.referrerPolicy==null&&(o.referrerPolicy=u.referrerPolicy),o.integrity==null&&(o.integrity=u.integrity)}var jp=null;function ST(o,u,m){if(jp===null){var x=new Map,N=jp=new Map;N.set(m,x)}else N=jp,x=N.get(m),x||(x=new Map,N.set(m,x));if(x.has(o))return x;for(x.set(o,null),m=m.getElementsByTagName(o),N=0;N<m.length;N++){var k=m[N];if(!(k[q]||k[dr]||o==="link"&&k.getAttribute("rel")==="stylesheet")&&k.namespaceURI!=="http://www.w3.org/2000/svg"){var R=k.getAttribute(u)||"";R=o+R;var z=x.get(R);z?z.push(k):x.set(R,[k])}}return x}function kT(o,u,m){o=o.ownerDocument||o,o.head.insertBefore(m,u==="title"?o.querySelector("head > title"):null)}function RH(o,u,m){if(m===1||u.itemProp!=null)return!1;switch(o){case"meta":case"title":return!0;case"style":if(typeof u.precedence!="string"||typeof u.href!="string"||u.href==="")break;return!0;case"link":if(typeof u.rel!="string"||typeof u.href!="string"||u.href===""||u.onLoad||u.onError)break;switch(u.rel){case"stylesheet":return o=u.disabled,typeof u.precedence=="string"&&o==null;default:return!0}case"script":if(u.async&&typeof u.async!="function"&&typeof u.async!="symbol"&&!u.onLoad&&!u.onError&&u.src&&typeof u.src=="string")return!0}return!1}function _T(o){return!(o.type==="stylesheet"&&(o.state.loading&3)===0)}var i0=null;function IH(){}function FH(o,u,m){if(i0===null)throw Error(n(475));var x=i0;if(u.type==="stylesheet"&&(typeof m.media!="string"||matchMedia(m.media).matches!==!1)&&(u.state.loading&4)===0){if(u.instance===null){var N=Ku(m.href),k=o.querySelector(a0(N));if(k){o=k._p,o!==null&&typeof o=="object"&&typeof o.then=="function"&&(x.count++,x=Np.bind(x),o.then(x,x)),u.state.loading|=4,u.instance=k,pe(k);return}k=o.ownerDocument||o,m=jT(m),(N=ws.get(N))&&Gb(m,N),k=k.createElement("link"),pe(k);var R=k;R._p=new Promise(function(z,ne){R.onload=z,R.onerror=ne}),Ln(k,"link",m),u.instance=k}x.stylesheets===null&&(x.stylesheets=new Map),x.stylesheets.set(u,o),(o=u.state.preload)&&(u.state.loading&3)===0&&(x.count++,u=Np.bind(x),o.addEventListener("load",u),o.addEventListener("error",u))}}function LH(){if(i0===null)throw Error(n(475));var o=i0;return o.stylesheets&&o.count===0&&Yb(o,o.stylesheets),0<o.count?function(u){var m=setTimeout(function(){if(o.stylesheets&&Yb(o,o.stylesheets),o.unsuspend){var x=o.unsuspend;o.unsuspend=null,x()}},6e4);return o.unsuspend=u,function(){o.unsuspend=null,clearTimeout(m)}}:null}function Np(){if(this.count--,this.count===0){if(this.stylesheets)Yb(this,this.stylesheets);else if(this.unsuspend){var o=this.unsuspend;this.unsuspend=null,o()}}}var Sp=null;function Yb(o,u){o.stylesheets=null,o.unsuspend!==null&&(o.count++,Sp=new Map,u.forEach(BH,o),Sp=null,Np.call(o))}function BH(o,u){if(!(u.state.loading&4)){var m=Sp.get(o);if(m)var x=m.get(null);else{m=new Map,Sp.set(o,m);for(var N=o.querySelectorAll("link[data-precedence],style[data-precedence]"),k=0;k<N.length;k++){var R=N[k];(R.nodeName==="LINK"||R.getAttribute("media")!=="not all")&&(m.set(R.dataset.precedence,R),x=R)}x&&m.set(null,x)}N=u.instance,R=N.getAttribute("data-precedence"),k=m.get(R)||x,k===x&&m.set(null,N),m.set(R,N),this.count++,x=Np.bind(this),N.addEventListener("load",x),N.addEventListener("error",x),k?k.parentNode.insertBefore(N,k.nextSibling):(o=o.nodeType===9?o.head:o,o.insertBefore(N,o.firstChild)),u.state.loading|=4}}var l0={$$typeof:E,Provider:null,Consumer:null,_currentValue:se,_currentValue2:se,_threadCount:0};function $H(o,u,m,x,N,k,R,z){this.tag=1,this.containerInfo=o,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=Ae(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Ae(0),this.hiddenUpdates=Ae(null),this.identifierPrefix=x,this.onUncaughtError=N,this.onCaughtError=k,this.onRecoverableError=R,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=z,this.incompleteTransitions=new Map}function ET(o,u,m,x,N,k,R,z,ne,ve,Oe,Re){return o=new $H(o,u,m,R,z,ne,ve,Re),u=1,k===!0&&(u|=24),k=Ba(3,null,null,u),o.current=k,k.stateNode=o,u=Cv(),u.refCount++,o.pooledCache=u,u.refCount++,k.memoizedState={element:x,isDehydrated:m,cache:u},Mv(k),o}function AT(o){return o?(o=_u,o):_u}function TT(o,u,m,x,N,k){N=AT(N),x.context===null?x.context=N:x.pendingContext=N,x=zl(u),x.payload={element:m},k=k===void 0?null:k,k!==null&&(x.callback=k),m=Hl(o,x,u),m!==null&&(Va(m,o,u),Ff(m,o,u))}function CT(o,u){if(o=o.memoizedState,o!==null&&o.dehydrated!==null){var m=o.retryLane;o.retryLane=m!==0&&m<u?m:u}}function Xb(o,u){CT(o,u),(o=o.alternate)&&CT(o,u)}function OT(o){if(o.tag===13){var u=ku(o,67108864);u!==null&&Va(u,o,67108864),Xb(o,67108864)}}var kp=!0;function UH(o,u,m,x){var N=K.T;K.T=null;var k=J.p;try{J.p=2,Qb(o,u,m,x)}finally{J.p=k,K.T=N}}function zH(o,u,m,x){var N=K.T;K.T=null;var k=J.p;try{J.p=8,Qb(o,u,m,x)}finally{J.p=k,K.T=N}}function Qb(o,u,m,x){if(kp){var N=Zb(x);if(N===null)Lb(o,u,x,_p,m),PT(o,x);else if(VH(N,o,u,m,x))x.stopPropagation();else if(PT(o,x),u&4&&-1<HH.indexOf(o)){for(;N!==null;){var k=X(N);if(k!==null)switch(k.tag){case 3:if(k=k.stateNode,k.current.memoizedState.isDehydrated){var R=Nr(k.pendingLanes);if(R!==0){var z=k;for(z.pendingLanes|=2,z.entangledLanes|=2;R;){var ne=1<<31-pt(R);z.entanglements[1]|=ne,R&=~ne}Ni(k),(Xt&6)===0&&(cp=Be()+500,e0(0))}}break;case 13:z=ku(k,2),z!==null&&Va(z,k,2),dp(),Xb(k,2)}if(k=Zb(x),k===null&&Lb(o,u,x,_p,m),k===N)break;N=k}N!==null&&x.stopPropagation()}else Lb(o,u,x,null,m)}}function Zb(o){return o=wf(o),Jb(o)}var _p=null;function Jb(o){if(_p=null,o=M(o),o!==null){var u=i(o);if(u===null)o=null;else{var m=u.tag;if(m===13){if(o=l(u),o!==null)return o;o=null}else if(m===3){if(u.stateNode.current.memoizedState.isDehydrated)return u.tag===3?u.stateNode.containerInfo:null;o=null}else u!==o&&(o=null)}}return _p=o,null}function DT(o){switch(o){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(Dt()){case Kt:return 2;case yt:return 8;case Vt:case Rr:return 32;case Wr:return 268435456;default:return 32}default:return 32}}var e1=!1,ro=null,no=null,ao=null,o0=new Map,c0=new Map,so=[],HH="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function PT(o,u){switch(o){case"focusin":case"focusout":ro=null;break;case"dragenter":case"dragleave":no=null;break;case"mouseover":case"mouseout":ao=null;break;case"pointerover":case"pointerout":o0.delete(u.pointerId);break;case"gotpointercapture":case"lostpointercapture":c0.delete(u.pointerId)}}function u0(o,u,m,x,N,k){return o===null||o.nativeEvent!==k?(o={blockedOn:u,domEventName:m,eventSystemFlags:x,nativeEvent:k,targetContainers:[N]},u!==null&&(u=X(u),u!==null&&OT(u)),o):(o.eventSystemFlags|=x,u=o.targetContainers,N!==null&&u.indexOf(N)===-1&&u.push(N),o)}function VH(o,u,m,x,N){switch(u){case"focusin":return ro=u0(ro,o,u,m,x,N),!0;case"dragenter":return no=u0(no,o,u,m,x,N),!0;case"mouseover":return ao=u0(ao,o,u,m,x,N),!0;case"pointerover":var k=N.pointerId;return o0.set(k,u0(o0.get(k)||null,o,u,m,x,N)),!0;case"gotpointercapture":return k=N.pointerId,c0.set(k,u0(c0.get(k)||null,o,u,m,x,N)),!0}return!1}function MT(o){var u=M(o.target);if(u!==null){var m=i(u);if(m!==null){if(u=m.tag,u===13){if(u=l(m),u!==null){o.blockedOn=u,xi(o.priority,function(){if(m.tag===13){var x=Ha();x=hs(x);var N=ku(m,x);N!==null&&Va(N,m,x),Xb(m,x)}});return}}else if(u===3&&m.stateNode.current.memoizedState.isDehydrated){o.blockedOn=m.tag===3?m.stateNode.containerInfo:null;return}}}o.blockedOn=null}function Ep(o){if(o.blockedOn!==null)return!1;for(var u=o.targetContainers;0<u.length;){var m=Zb(o.nativeEvent);if(m===null){m=o.nativeEvent;var x=new m.constructor(m.type,m);bf=x,m.target.dispatchEvent(x),bf=null}else return u=X(m),u!==null&&OT(u),o.blockedOn=m,!1;u.shift()}return!0}function RT(o,u,m){Ep(o)&&m.delete(u)}function qH(){e1=!1,ro!==null&&Ep(ro)&&(ro=null),no!==null&&Ep(no)&&(no=null),ao!==null&&Ep(ao)&&(ao=null),o0.forEach(RT),c0.forEach(RT)}function Ap(o,u){o.blockedOn===u&&(o.blockedOn=null,e1||(e1=!0,e.unstable_scheduleCallback(e.unstable_NormalPriority,qH)))}var Tp=null;function IT(o){Tp!==o&&(Tp=o,e.unstable_scheduleCallback(e.unstable_NormalPriority,function(){Tp===o&&(Tp=null);for(var u=0;u<o.length;u+=3){var m=o[u],x=o[u+1],N=o[u+2];if(typeof x!="function"){if(Jb(x||m)===null)continue;break}var k=X(m);k!==null&&(o.splice(u,3),u-=3,Jv(k,{pending:!0,data:N,method:m.method,action:x},x,N))}}))}function d0(o){function u(ne){return Ap(ne,o)}ro!==null&&Ap(ro,o),no!==null&&Ap(no,o),ao!==null&&Ap(ao,o),o0.forEach(u),c0.forEach(u);for(var m=0;m<so.length;m++){var x=so[m];x.blockedOn===o&&(x.blockedOn=null)}for(;0<so.length&&(m=so[0],m.blockedOn===null);)MT(m),m.blockedOn===null&&so.shift();if(m=(o.ownerDocument||o).$$reactFormReplay,m!=null)for(x=0;x<m.length;x+=3){var N=m[x],k=m[x+1],R=N[Wt]||null;if(typeof k=="function")R||IT(m);else if(R){var z=null;if(k&&k.hasAttribute("formAction")){if(N=k,R=k[Wt]||null)z=R.formAction;else if(Jb(N)!==null)continue}else z=R.action;typeof z=="function"?m[x+1]=z:(m.splice(x,3),x-=3),IT(m)}}}function t1(o){this._internalRoot=o}Cp.prototype.render=t1.prototype.render=function(o){var u=this._internalRoot;if(u===null)throw Error(n(409));var m=u.current,x=Ha();TT(m,x,o,u,null,null)},Cp.prototype.unmount=t1.prototype.unmount=function(){var o=this._internalRoot;if(o!==null){this._internalRoot=null;var u=o.containerInfo;TT(o.current,2,null,o,null,null),dp(),u[xa]=null}};function Cp(o){this._internalRoot=o}Cp.prototype.unstable_scheduleHydration=function(o){if(o){var u=Fl();o={blockedOn:null,target:o,priority:u};for(var m=0;m<so.length&&u!==0&&u<so[m].priority;m++);so.splice(m,0,o),m===0&&MT(o)}};var FT=t.version;if(FT!=="19.1.0")throw Error(n(527,FT,"19.1.0"));J.findDOMNode=function(o){var u=o._reactInternals;if(u===void 0)throw typeof o.render=="function"?Error(n(188)):(o=Object.keys(o).join(","),Error(n(268,o)));return o=d(u),o=o!==null?f(o):null,o=o===null?null:o.stateNode,o};var WH={bundleType:0,version:"19.1.0",rendererPackageName:"react-dom",currentDispatcherRef:K,reconcilerVersion:"19.1.0"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Op=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Op.isDisabled&&Op.supportsFiber)try{Mn=Op.inject(WH),vt=Op}catch{}}return h0.createRoot=function(o,u){if(!a(o))throw Error(n(299));var m=!1,x="",N=JE,k=eA,R=tA,z=null;return u!=null&&(u.unstable_strictMode===!0&&(m=!0),u.identifierPrefix!==void 0&&(x=u.identifierPrefix),u.onUncaughtError!==void 0&&(N=u.onUncaughtError),u.onCaughtError!==void 0&&(k=u.onCaughtError),u.onRecoverableError!==void 0&&(R=u.onRecoverableError),u.unstable_transitionCallbacks!==void 0&&(z=u.unstable_transitionCallbacks)),u=ET(o,1,!1,null,null,m,x,N,k,R,z,null),o[xa]=u.current,Fb(o),new t1(u)},h0.hydrateRoot=function(o,u,m){if(!a(o))throw Error(n(299));var x=!1,N="",k=JE,R=eA,z=tA,ne=null,ve=null;return m!=null&&(m.unstable_strictMode===!0&&(x=!0),m.identifierPrefix!==void 0&&(N=m.identifierPrefix),m.onUncaughtError!==void 0&&(k=m.onUncaughtError),m.onCaughtError!==void 0&&(R=m.onCaughtError),m.onRecoverableError!==void 0&&(z=m.onRecoverableError),m.unstable_transitionCallbacks!==void 0&&(ne=m.unstable_transitionCallbacks),m.formState!==void 0&&(ve=m.formState)),u=ET(o,1,!0,u,m??null,x,N,k,R,z,ne,ve),u.context=AT(null),m=u.current,x=Ha(),x=hs(x),N=zl(x),N.callback=null,Hl(m,N,x),m=x,u.current.lanes=m,ut(u,m),Ni(u),o[xa]=u.current,Fb(o),new Cp(u)},h0.version="19.1.0",h0}var KT;function rV(){if(KT)return a1.exports;KT=1;function e(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(e)}catch(t){console.error(t)}}return e(),a1.exports=tV(),a1.exports}var nV=rV(),Gh=class{constructor(){this.listeners=new Set,this.subscribe=this.subscribe.bind(this)}subscribe(e){return this.listeners.add(e),this.onSubscribe(),()=>{this.listeners.delete(e),this.onUnsubscribe()}}hasListeners(){return this.listeners.size>0}onSubscribe(){}onUnsubscribe(){}},Gc=typeof window>"u"||"Deno"in globalThis;function Ea(){}function aV(e,t){return typeof e=="function"?e(t):e}function M2(e){return typeof e=="number"&&e>=0&&e!==1/0}function wM(e,t){return Math.max(e+(t||0)-Date.now(),0)}function jo(e,t){return typeof e=="function"?e(t):e}function Ms(e,t){return typeof e=="function"?e(t):e}function YT(e,t){const{type:r="all",exact:n,fetchStatus:a,predicate:i,queryKey:l,stale:c}=e;if(l){if(n){if(t.queryHash!==AN(l,t.options))return!1}else if(!lh(t.queryKey,l))return!1}if(r!=="all"){const d=t.isActive();if(r==="active"&&!d||r==="inactive"&&d)return!1}return!(typeof c=="boolean"&&t.isStale()!==c||a&&a!==t.state.fetchStatus||i&&!i(t))}function XT(e,t){const{exact:r,status:n,predicate:a,mutationKey:i}=e;if(i){if(!t.options.mutationKey)return!1;if(r){if(ih(t.options.mutationKey)!==ih(i))return!1}else if(!lh(t.options.mutationKey,i))return!1}return!(n&&t.state.status!==n||a&&!a(t))}function AN(e,t){return(t?.queryKeyHashFn||ih)(e)}function ih(e){return JSON.stringify(e,(t,r)=>I2(r)?Object.keys(r).sort().reduce((n,a)=>(n[a]=r[a],n),{}):r)}function lh(e,t){return e===t?!0:typeof e!=typeof t?!1:e&&t&&typeof e=="object"&&typeof t=="object"?Object.keys(t).every(r=>lh(e[r],t[r])):!1}function jM(e,t){if(e===t)return e;const r=QT(e)&&QT(t);if(r||I2(e)&&I2(t)){const n=r?e:Object.keys(e),a=n.length,i=r?t:Object.keys(t),l=i.length,c=r?[]:{},d=new Set(n);let f=0;for(let h=0;h<l;h++){const p=r?h:i[h];(!r&&d.has(p)||r)&&e[p]===void 0&&t[p]===void 0?(c[p]=void 0,f++):(c[p]=jM(e[p],t[p]),c[p]===e[p]&&e[p]!==void 0&&f++)}return a===l&&f===a?e:c}return t}function R2(e,t){if(!t||Object.keys(e).length!==Object.keys(t).length)return!1;for(const r in e)if(e[r]!==t[r])return!1;return!0}function QT(e){return Array.isArray(e)&&e.length===Object.keys(e).length}function I2(e){if(!ZT(e))return!1;const t=e.constructor;if(t===void 0)return!0;const r=t.prototype;return!(!ZT(r)||!r.hasOwnProperty("isPrototypeOf")||Object.getPrototypeOf(e)!==Object.prototype)}function ZT(e){return Object.prototype.toString.call(e)==="[object Object]"}function sV(e){return new Promise(t=>{setTimeout(t,e)})}function F2(e,t,r){return typeof r.structuralSharing=="function"?r.structuralSharing(e,t):r.structuralSharing!==!1?jM(e,t):t}function iV(e,t,r=0){const n=[...e,t];return r&&n.length>r?n.slice(1):n}function lV(e,t,r=0){const n=[t,...e];return r&&n.length>r?n.slice(0,-1):n}var TN=Symbol();function NM(e,t){return!e.queryFn&&t?.initialPromise?()=>t.initialPromise:!e.queryFn||e.queryFn===TN?()=>Promise.reject(new Error(`Missing queryFn: '${e.queryHash}'`)):e.queryFn}function oV(e,t){return typeof e=="function"?e(...t):!!e}var cV=class extends Gh{#t;#e;#r;constructor(){super(),this.#r=e=>{if(!Gc&&window.addEventListener){const t=()=>e();return window.addEventListener("visibilitychange",t,!1),()=>{window.removeEventListener("visibilitychange",t)}}}}onSubscribe(){this.#e||this.setEventListener(this.#r)}onUnsubscribe(){this.hasListeners()||(this.#e?.(),this.#e=void 0)}setEventListener(e){this.#r=e,this.#e?.(),this.#e=e(t=>{typeof t=="boolean"?this.setFocused(t):this.onFocus()})}setFocused(e){this.#t!==e&&(this.#t=e,this.onFocus())}onFocus(){const e=this.isFocused();this.listeners.forEach(t=>{t(e)})}isFocused(){return typeof this.#t=="boolean"?this.#t:globalThis.document?.visibilityState!=="hidden"}},CN=new cV,uV=class extends Gh{#t=!0;#e;#r;constructor(){super(),this.#r=e=>{if(!Gc&&window.addEventListener){const t=()=>e(!0),r=()=>e(!1);return window.addEventListener("online",t,!1),window.addEventListener("offline",r,!1),()=>{window.removeEventListener("online",t),window.removeEventListener("offline",r)}}}}onSubscribe(){this.#e||this.setEventListener(this.#r)}onUnsubscribe(){this.hasListeners()||(this.#e?.(),this.#e=void 0)}setEventListener(e){this.#r=e,this.#e?.(),this.#e=e(this.setOnline.bind(this))}setOnline(e){this.#t!==e&&(this.#t=e,this.listeners.forEach(r=>{r(e)}))}isOnline(){return this.#t}},kg=new uV;function L2(){let e,t;const r=new Promise((a,i)=>{e=a,t=i});r.status="pending",r.catch(()=>{});function n(a){Object.assign(r,a),delete r.resolve,delete r.reject}return r.resolve=a=>{n({status:"fulfilled",value:a}),e(a)},r.reject=a=>{n({status:"rejected",reason:a}),t(a)},r}function dV(e){return Math.min(1e3*2**e,3e4)}function SM(e){return(e??"online")==="online"?kg.isOnline():!0}var kM=class extends Error{constructor(e){super("CancelledError"),this.revert=e?.revert,this.silent=e?.silent}};function o1(e){return e instanceof kM}function _M(e){let t=!1,r=0,n=!1,a;const i=L2(),l=w=>{n||(g(new kM(w)),e.abort?.())},c=()=>{t=!0},d=()=>{t=!1},f=()=>CN.isFocused()&&(e.networkMode==="always"||kg.isOnline())&&e.canRun(),h=()=>SM(e.networkMode)&&e.canRun(),p=w=>{n||(n=!0,e.onSuccess?.(w),a?.(),i.resolve(w))},g=w=>{n||(n=!0,e.onError?.(w),a?.(),i.reject(w))},y=()=>new Promise(w=>{a=j=>{(n||f())&&w(j)},e.onPause?.()}).then(()=>{a=void 0,n||e.onContinue?.()}),b=()=>{if(n)return;let w;const j=r===0?e.initialPromise:void 0;try{w=j??e.fn()}catch(S){w=Promise.reject(S)}Promise.resolve(w).then(p).catch(S=>{if(n)return;const _=e.retry??(Gc?0:3),E=e.retryDelay??dV,T=typeof E=="function"?E(r,S):E,A=_===!0||typeof _=="number"&&r<_||typeof _=="function"&&_(r,S);if(t||!A){g(S);return}r++,e.onFail?.(r,S),sV(T).then(()=>f()?void 0:y()).then(()=>{t?g(S):b()})})};return{promise:i,cancel:l,continue:()=>(a?.(),i),cancelRetry:c,continueRetry:d,canStart:h,start:()=>(h()?b():y().then(b),i)}}var fV=e=>setTimeout(e,0);function hV(){let e=[],t=0,r=c=>{c()},n=c=>{c()},a=fV;const i=c=>{t?e.push(c):a(()=>{r(c)})},l=()=>{const c=e;e=[],c.length&&a(()=>{n(()=>{c.forEach(d=>{r(d)})})})};return{batch:c=>{let d;t++;try{d=c()}finally{t--,t||l()}return d},batchCalls:c=>(...d)=>{i(()=>{c(...d)})},schedule:i,setNotifyFunction:c=>{r=c},setBatchNotifyFunction:c=>{n=c},setScheduler:c=>{a=c}}}var Hn=hV(),EM=class{#t;destroy(){this.clearGcTimeout()}scheduleGc(){this.clearGcTimeout(),M2(this.gcTime)&&(this.#t=setTimeout(()=>{this.optionalRemove()},this.gcTime))}updateGcTime(e){this.gcTime=Math.max(this.gcTime||0,e??(Gc?1/0:300*1e3))}clearGcTimeout(){this.#t&&(clearTimeout(this.#t),this.#t=void 0)}},mV=class extends EM{#t;#e;#r;#n;#a;#l;#i;constructor(e){super(),this.#i=!1,this.#l=e.defaultOptions,this.setOptions(e.options),this.observers=[],this.#n=e.client,this.#r=this.#n.getQueryCache(),this.queryKey=e.queryKey,this.queryHash=e.queryHash,this.#t=pV(this.options),this.state=e.state??this.#t,this.scheduleGc()}get meta(){return this.options.meta}get promise(){return this.#a?.promise}setOptions(e){this.options={...this.#l,...e},this.updateGcTime(this.options.gcTime)}optionalRemove(){!this.observers.length&&this.state.fetchStatus==="idle"&&this.#r.remove(this)}setData(e,t){const r=F2(this.state.data,e,this.options);return this.#s({data:r,type:"success",dataUpdatedAt:t?.updatedAt,manual:t?.manual}),r}setState(e,t){this.#s({type:"setState",state:e,setStateOptions:t})}cancel(e){const t=this.#a?.promise;return this.#a?.cancel(e),t?t.then(Ea).catch(Ea):Promise.resolve()}destroy(){super.destroy(),this.cancel({silent:!0})}reset(){this.destroy(),this.setState(this.#t)}isActive(){return this.observers.some(e=>Ms(e.options.enabled,this)!==!1)}isDisabled(){return this.getObserversCount()>0?!this.isActive():this.options.queryFn===TN||this.state.dataUpdateCount+this.state.errorUpdateCount===0}isStatic(){return this.getObserversCount()>0?this.observers.some(e=>jo(e.options.staleTime,this)==="static"):!1}isStale(){return this.getObserversCount()>0?this.observers.some(e=>e.getCurrentResult().isStale):this.state.data===void 0||this.state.isInvalidated}isStaleByTime(e=0){return this.state.data===void 0?!0:e==="static"?!1:this.state.isInvalidated?!0:!wM(this.state.dataUpdatedAt,e)}onFocus(){this.observers.find(t=>t.shouldFetchOnWindowFocus())?.refetch({cancelRefetch:!1}),this.#a?.continue()}onOnline(){this.observers.find(t=>t.shouldFetchOnReconnect())?.refetch({cancelRefetch:!1}),this.#a?.continue()}addObserver(e){this.observers.includes(e)||(this.observers.push(e),this.clearGcTimeout(),this.#r.notify({type:"observerAdded",query:this,observer:e}))}removeObserver(e){this.observers.includes(e)&&(this.observers=this.observers.filter(t=>t!==e),this.observers.length||(this.#a&&(this.#i?this.#a.cancel({revert:!0}):this.#a.cancelRetry()),this.scheduleGc()),this.#r.notify({type:"observerRemoved",query:this,observer:e}))}getObserversCount(){return this.observers.length}invalidate(){this.state.isInvalidated||this.#s({type:"invalidate"})}fetch(e,t){if(this.state.fetchStatus!=="idle"){if(this.state.data!==void 0&&t?.cancelRefetch)this.cancel({silent:!0});else if(this.#a)return this.#a.continueRetry(),this.#a.promise}if(e&&this.setOptions(e),!this.options.queryFn){const d=this.observers.find(f=>f.options.queryFn);d&&this.setOptions(d.options)}const r=new AbortController,n=d=>{Object.defineProperty(d,"signal",{enumerable:!0,get:()=>(this.#i=!0,r.signal)})},a=()=>{const d=NM(this.options,t),h=(()=>{const p={client:this.#n,queryKey:this.queryKey,meta:this.meta};return n(p),p})();return this.#i=!1,this.options.persister?this.options.persister(d,h,this):d(h)},l=(()=>{const d={fetchOptions:t,options:this.options,queryKey:this.queryKey,client:this.#n,state:this.state,fetchFn:a};return n(d),d})();this.options.behavior?.onFetch(l,this),this.#e=this.state,(this.state.fetchStatus==="idle"||this.state.fetchMeta!==l.fetchOptions?.meta)&&this.#s({type:"fetch",meta:l.fetchOptions?.meta});const c=d=>{o1(d)&&d.silent||this.#s({type:"error",error:d}),o1(d)||(this.#r.config.onError?.(d,this),this.#r.config.onSettled?.(this.state.data,d,this)),this.scheduleGc()};return this.#a=_M({initialPromise:t?.initialPromise,fn:l.fetchFn,abort:r.abort.bind(r),onSuccess:d=>{if(d===void 0){c(new Error(`${this.queryHash} data is undefined`));return}try{this.setData(d)}catch(f){c(f);return}this.#r.config.onSuccess?.(d,this),this.#r.config.onSettled?.(d,this.state.error,this),this.scheduleGc()},onError:c,onFail:(d,f)=>{this.#s({type:"failed",failureCount:d,error:f})},onPause:()=>{this.#s({type:"pause"})},onContinue:()=>{this.#s({type:"continue"})},retry:l.options.retry,retryDelay:l.options.retryDelay,networkMode:l.options.networkMode,canRun:()=>!0}),this.#a.start()}#s(e){const t=r=>{switch(e.type){case"failed":return{...r,fetchFailureCount:e.failureCount,fetchFailureReason:e.error};case"pause":return{...r,fetchStatus:"paused"};case"continue":return{...r,fetchStatus:"fetching"};case"fetch":return{...r,...AM(r.data,this.options),fetchMeta:e.meta??null};case"success":return this.#e=void 0,{...r,data:e.data,dataUpdateCount:r.dataUpdateCount+1,dataUpdatedAt:e.dataUpdatedAt??Date.now(),error:null,isInvalidated:!1,status:"success",...!e.manual&&{fetchStatus:"idle",fetchFailureCount:0,fetchFailureReason:null}};case"error":const n=e.error;return o1(n)&&n.revert&&this.#e?{...this.#e,fetchStatus:"idle"}:{...r,error:n,errorUpdateCount:r.errorUpdateCount+1,errorUpdatedAt:Date.now(),fetchFailureCount:r.fetchFailureCount+1,fetchFailureReason:n,fetchStatus:"idle",status:"error"};case"invalidate":return{...r,isInvalidated:!0};case"setState":return{...r,...e.state}}};this.state=t(this.state),Hn.batch(()=>{this.observers.forEach(r=>{r.onQueryUpdate()}),this.#r.notify({query:this,type:"updated",action:e})})}};function AM(e,t){return{fetchFailureCount:0,fetchFailureReason:null,fetchStatus:SM(t.networkMode)?"fetching":"paused",...e===void 0&&{error:null,status:"pending"}}}function pV(e){const t=typeof e.initialData=="function"?e.initialData():e.initialData,r=t!==void 0,n=r?typeof e.initialDataUpdatedAt=="function"?e.initialDataUpdatedAt():e.initialDataUpdatedAt:0;return{data:t,dataUpdateCount:0,dataUpdatedAt:r?n??Date.now():0,error:null,errorUpdateCount:0,errorUpdatedAt:0,fetchFailureCount:0,fetchFailureReason:null,fetchMeta:null,isInvalidated:!1,status:r?"success":"pending",fetchStatus:"idle"}}var gV=class extends Gh{constructor(e={}){super(),this.config=e,this.#t=new Map}#t;build(e,t,r){const n=t.queryKey,a=t.queryHash??AN(n,t);let i=this.get(a);return i||(i=new mV({client:e,queryKey:n,queryHash:a,options:e.defaultQueryOptions(t),state:r,defaultOptions:e.getQueryDefaults(n)}),this.add(i)),i}add(e){this.#t.has(e.queryHash)||(this.#t.set(e.queryHash,e),this.notify({type:"added",query:e}))}remove(e){const t=this.#t.get(e.queryHash);t&&(e.destroy(),t===e&&this.#t.delete(e.queryHash),this.notify({type:"removed",query:e}))}clear(){Hn.batch(()=>{this.getAll().forEach(e=>{this.remove(e)})})}get(e){return this.#t.get(e)}getAll(){return[...this.#t.values()]}find(e){const t={exact:!0,...e};return this.getAll().find(r=>YT(t,r))}findAll(e={}){const t=this.getAll();return Object.keys(e).length>0?t.filter(r=>YT(e,r)):t}notify(e){Hn.batch(()=>{this.listeners.forEach(t=>{t(e)})})}onFocus(){Hn.batch(()=>{this.getAll().forEach(e=>{e.onFocus()})})}onOnline(){Hn.batch(()=>{this.getAll().forEach(e=>{e.onOnline()})})}},xV=class extends EM{#t;#e;#r;constructor(e){super(),this.mutationId=e.mutationId,this.#e=e.mutationCache,this.#t=[],this.state=e.state||yV(),this.setOptions(e.options),this.scheduleGc()}setOptions(e){this.options=e,this.updateGcTime(this.options.gcTime)}get meta(){return this.options.meta}addObserver(e){this.#t.includes(e)||(this.#t.push(e),this.clearGcTimeout(),this.#e.notify({type:"observerAdded",mutation:this,observer:e}))}removeObserver(e){this.#t=this.#t.filter(t=>t!==e),this.scheduleGc(),this.#e.notify({type:"observerRemoved",mutation:this,observer:e})}optionalRemove(){this.#t.length||(this.state.status==="pending"?this.scheduleGc():this.#e.remove(this))}continue(){return this.#r?.continue()??this.execute(this.state.variables)}async execute(e){const t=()=>{this.#n({type:"continue"})};this.#r=_M({fn:()=>this.options.mutationFn?this.options.mutationFn(e):Promise.reject(new Error("No mutationFn found")),onFail:(a,i)=>{this.#n({type:"failed",failureCount:a,error:i})},onPause:()=>{this.#n({type:"pause"})},onContinue:t,retry:this.options.retry??0,retryDelay:this.options.retryDelay,networkMode:this.options.networkMode,canRun:()=>this.#e.canRun(this)});const r=this.state.status==="pending",n=!this.#r.canStart();try{if(r)t();else{this.#n({type:"pending",variables:e,isPaused:n}),await this.#e.config.onMutate?.(e,this);const i=await this.options.onMutate?.(e);i!==this.state.context&&this.#n({type:"pending",context:i,variables:e,isPaused:n})}const a=await this.#r.start();return await this.#e.config.onSuccess?.(a,e,this.state.context,this),await this.options.onSuccess?.(a,e,this.state.context),await this.#e.config.onSettled?.(a,null,this.state.variables,this.state.context,this),await this.options.onSettled?.(a,null,e,this.state.context),this.#n({type:"success",data:a}),a}catch(a){try{throw await this.#e.config.onError?.(a,e,this.state.context,this),await this.options.onError?.(a,e,this.state.context),await this.#e.config.onSettled?.(void 0,a,this.state.variables,this.state.context,this),await this.options.onSettled?.(void 0,a,e,this.state.context),a}finally{this.#n({type:"error",error:a})}}finally{this.#e.runNext(this)}}#n(e){const t=r=>{switch(e.type){case"failed":return{...r,failureCount:e.failureCount,failureReason:e.error};case"pause":return{...r,isPaused:!0};case"continue":return{...r,isPaused:!1};case"pending":return{...r,context:e.context,data:void 0,failureCount:0,failureReason:null,error:null,isPaused:e.isPaused,status:"pending",variables:e.variables,submittedAt:Date.now()};case"success":return{...r,data:e.data,failureCount:0,failureReason:null,error:null,status:"success",isPaused:!1};case"error":return{...r,data:void 0,error:e.error,failureCount:r.failureCount+1,failureReason:e.error,isPaused:!1,status:"error"}}};this.state=t(this.state),Hn.batch(()=>{this.#t.forEach(r=>{r.onMutationUpdate(e)}),this.#e.notify({mutation:this,type:"updated",action:e})})}};function yV(){return{context:void 0,data:void 0,error:null,failureCount:0,failureReason:null,isPaused:!1,status:"idle",variables:void 0,submittedAt:0}}var vV=class extends Gh{constructor(e={}){super(),this.config=e,this.#t=new Set,this.#e=new Map,this.#r=0}#t;#e;#r;build(e,t,r){const n=new xV({mutationCache:this,mutationId:++this.#r,options:e.defaultMutationOptions(t),state:r});return this.add(n),n}add(e){this.#t.add(e);const t=Dp(e);if(typeof t=="string"){const r=this.#e.get(t);r?r.push(e):this.#e.set(t,[e])}this.notify({type:"added",mutation:e})}remove(e){if(this.#t.delete(e)){const t=Dp(e);if(typeof t=="string"){const r=this.#e.get(t);if(r)if(r.length>1){const n=r.indexOf(e);n!==-1&&r.splice(n,1)}else r[0]===e&&this.#e.delete(t)}}this.notify({type:"removed",mutation:e})}canRun(e){const t=Dp(e);if(typeof t=="string"){const n=this.#e.get(t)?.find(a=>a.state.status==="pending");return!n||n===e}else return!0}runNext(e){const t=Dp(e);return typeof t=="string"?this.#e.get(t)?.find(n=>n!==e&&n.state.isPaused)?.continue()??Promise.resolve():Promise.resolve()}clear(){Hn.batch(()=>{this.#t.forEach(e=>{this.notify({type:"removed",mutation:e})}),this.#t.clear(),this.#e.clear()})}getAll(){return Array.from(this.#t)}find(e){const t={exact:!0,...e};return this.getAll().find(r=>XT(t,r))}findAll(e={}){return this.getAll().filter(t=>XT(e,t))}notify(e){Hn.batch(()=>{this.listeners.forEach(t=>{t(e)})})}resumePausedMutations(){const e=this.getAll().filter(t=>t.state.isPaused);return Hn.batch(()=>Promise.all(e.map(t=>t.continue().catch(Ea))))}};function Dp(e){return e.options.scope?.id}function JT(e){return{onFetch:(t,r)=>{const n=t.options,a=t.fetchOptions?.meta?.fetchMore?.direction,i=t.state.data?.pages||[],l=t.state.data?.pageParams||[];let c={pages:[],pageParams:[]},d=0;const f=async()=>{let h=!1;const p=b=>{Object.defineProperty(b,"signal",{enumerable:!0,get:()=>(t.signal.aborted?h=!0:t.signal.addEventListener("abort",()=>{h=!0}),t.signal)})},g=NM(t.options,t.fetchOptions),y=async(b,w,j)=>{if(h)return Promise.reject();if(w==null&&b.pages.length)return Promise.resolve(b);const _=(()=>{const C={client:t.client,queryKey:t.queryKey,pageParam:w,direction:j?"backward":"forward",meta:t.options.meta};return p(C),C})(),E=await g(_),{maxPages:T}=t.options,A=j?lV:iV;return{pages:A(b.pages,E,T),pageParams:A(b.pageParams,w,T)}};if(a&&i.length){const b=a==="backward",w=b?bV:eC,j={pages:i,pageParams:l},S=w(n,j);c=await y(j,S,b)}else{const b=e??i.length;do{const w=d===0?l[0]??n.initialPageParam:eC(n,c);if(d>0&&w==null)break;c=await y(c,w),d++}while(d<b)}return c};t.options.persister?t.fetchFn=()=>t.options.persister?.(f,{client:t.client,queryKey:t.queryKey,meta:t.options.meta,signal:t.signal},r):t.fetchFn=f}}}function eC(e,{pages:t,pageParams:r}){const n=t.length-1;return t.length>0?e.getNextPageParam(t[n],t,r[n],r):void 0}function bV(e,{pages:t,pageParams:r}){return t.length>0?e.getPreviousPageParam?.(t[0],t,r[0],r):void 0}var wV=class{#t;#e;#r;#n;#a;#l;#i;#s;constructor(e={}){this.#t=e.queryCache||new gV,this.#e=e.mutationCache||new vV,this.#r=e.defaultOptions||{},this.#n=new Map,this.#a=new Map,this.#l=0}mount(){this.#l++,this.#l===1&&(this.#i=CN.subscribe(async e=>{e&&(await this.resumePausedMutations(),this.#t.onFocus())}),this.#s=kg.subscribe(async e=>{e&&(await this.resumePausedMutations(),this.#t.onOnline())}))}unmount(){this.#l--,this.#l===0&&(this.#i?.(),this.#i=void 0,this.#s?.(),this.#s=void 0)}isFetching(e){return this.#t.findAll({...e,fetchStatus:"fetching"}).length}isMutating(e){return this.#e.findAll({...e,status:"pending"}).length}getQueryData(e){const t=this.defaultQueryOptions({queryKey:e});return this.#t.get(t.queryHash)?.state.data}ensureQueryData(e){const t=this.defaultQueryOptions(e),r=this.#t.build(this,t),n=r.state.data;return n===void 0?this.fetchQuery(e):(e.revalidateIfStale&&r.isStaleByTime(jo(t.staleTime,r))&&this.prefetchQuery(t),Promise.resolve(n))}getQueriesData(e){return this.#t.findAll(e).map(({queryKey:t,state:r})=>{const n=r.data;return[t,n]})}setQueryData(e,t,r){const n=this.defaultQueryOptions({queryKey:e}),i=this.#t.get(n.queryHash)?.state.data,l=aV(t,i);if(l!==void 0)return this.#t.build(this,n).setData(l,{...r,manual:!0})}setQueriesData(e,t,r){return Hn.batch(()=>this.#t.findAll(e).map(({queryKey:n})=>[n,this.setQueryData(n,t,r)]))}getQueryState(e){const t=this.defaultQueryOptions({queryKey:e});return this.#t.get(t.queryHash)?.state}removeQueries(e){const t=this.#t;Hn.batch(()=>{t.findAll(e).forEach(r=>{t.remove(r)})})}resetQueries(e,t){const r=this.#t;return Hn.batch(()=>(r.findAll(e).forEach(n=>{n.reset()}),this.refetchQueries({type:"active",...e},t)))}cancelQueries(e,t={}){const r={revert:!0,...t},n=Hn.batch(()=>this.#t.findAll(e).map(a=>a.cancel(r)));return Promise.all(n).then(Ea).catch(Ea)}invalidateQueries(e,t={}){return Hn.batch(()=>(this.#t.findAll(e).forEach(r=>{r.invalidate()}),e?.refetchType==="none"?Promise.resolve():this.refetchQueries({...e,type:e?.refetchType??e?.type??"active"},t)))}refetchQueries(e,t={}){const r={...t,cancelRefetch:t.cancelRefetch??!0},n=Hn.batch(()=>this.#t.findAll(e).filter(a=>!a.isDisabled()&&!a.isStatic()).map(a=>{let i=a.fetch(void 0,r);return r.throwOnError||(i=i.catch(Ea)),a.state.fetchStatus==="paused"?Promise.resolve():i}));return Promise.all(n).then(Ea)}fetchQuery(e){const t=this.defaultQueryOptions(e);t.retry===void 0&&(t.retry=!1);const r=this.#t.build(this,t);return r.isStaleByTime(jo(t.staleTime,r))?r.fetch(t):Promise.resolve(r.state.data)}prefetchQuery(e){return this.fetchQuery(e).then(Ea).catch(Ea)}fetchInfiniteQuery(e){return e.behavior=JT(e.pages),this.fetchQuery(e)}prefetchInfiniteQuery(e){return this.fetchInfiniteQuery(e).then(Ea).catch(Ea)}ensureInfiniteQueryData(e){return e.behavior=JT(e.pages),this.ensureQueryData(e)}resumePausedMutations(){return kg.isOnline()?this.#e.resumePausedMutations():Promise.resolve()}getQueryCache(){return this.#t}getMutationCache(){return this.#e}getDefaultOptions(){return this.#r}setDefaultOptions(e){this.#r=e}setQueryDefaults(e,t){this.#n.set(ih(e),{queryKey:e,defaultOptions:t})}getQueryDefaults(e){const t=[...this.#n.values()],r={};return t.forEach(n=>{lh(e,n.queryKey)&&Object.assign(r,n.defaultOptions)}),r}setMutationDefaults(e,t){this.#a.set(ih(e),{mutationKey:e,defaultOptions:t})}getMutationDefaults(e){const t=[...this.#a.values()],r={};return t.forEach(n=>{lh(e,n.mutationKey)&&Object.assign(r,n.defaultOptions)}),r}defaultQueryOptions(e){if(e._defaulted)return e;const t={...this.#r.queries,...this.getQueryDefaults(e.queryKey),...e,_defaulted:!0};return t.queryHash||(t.queryHash=AN(t.queryKey,t)),t.refetchOnReconnect===void 0&&(t.refetchOnReconnect=t.networkMode!=="always"),t.throwOnError===void 0&&(t.throwOnError=!!t.suspense),!t.networkMode&&t.persister&&(t.networkMode="offlineFirst"),t.queryFn===TN&&(t.enabled=!1),t}defaultMutationOptions(e){return e?._defaulted?e:{...this.#r.mutations,...e?.mutationKey&&this.getMutationDefaults(e.mutationKey),...e,_defaulted:!0}}clear(){this.#t.clear(),this.#e.clear()}},jV=class extends Gh{constructor(e,t){super(),this.options=t,this.#t=e,this.#s=null,this.#i=L2(),this.options.experimental_prefetchInRender||this.#i.reject(new Error("experimental_prefetchInRender feature flag is not enabled")),this.bindMethods(),this.setOptions(t)}#t;#e=void 0;#r=void 0;#n=void 0;#a;#l;#i;#s;#p;#f;#h;#c;#u;#o;#m=new Set;bindMethods(){this.refetch=this.refetch.bind(this)}onSubscribe(){this.listeners.size===1&&(this.#e.addObserver(this),tC(this.#e,this.options)?this.#d():this.updateResult(),this.#v())}onUnsubscribe(){this.hasListeners()||this.destroy()}shouldFetchOnReconnect(){return B2(this.#e,this.options,this.options.refetchOnReconnect)}shouldFetchOnWindowFocus(){return B2(this.#e,this.options,this.options.refetchOnWindowFocus)}destroy(){this.listeners=new Set,this.#b(),this.#w(),this.#e.removeObserver(this)}setOptions(e){const t=this.options,r=this.#e;if(this.options=this.#t.defaultQueryOptions(e),this.options.enabled!==void 0&&typeof this.options.enabled!="boolean"&&typeof this.options.enabled!="function"&&typeof Ms(this.options.enabled,this.#e)!="boolean")throw new Error("Expected enabled to be a boolean or a callback that returns a boolean");this.#j(),this.#e.setOptions(this.options),t._defaulted&&!R2(this.options,t)&&this.#t.getQueryCache().notify({type:"observerOptionsUpdated",query:this.#e,observer:this});const n=this.hasListeners();n&&rC(this.#e,r,this.options,t)&&this.#d(),this.updateResult(),n&&(this.#e!==r||Ms(this.options.enabled,this.#e)!==Ms(t.enabled,this.#e)||jo(this.options.staleTime,this.#e)!==jo(t.staleTime,this.#e))&&this.#g();const a=this.#x();n&&(this.#e!==r||Ms(this.options.enabled,this.#e)!==Ms(t.enabled,this.#e)||a!==this.#o)&&this.#y(a)}getOptimisticResult(e){const t=this.#t.getQueryCache().build(this.#t,e),r=this.createResult(t,e);return SV(this,r)&&(this.#n=r,this.#l=this.options,this.#a=this.#e.state),r}getCurrentResult(){return this.#n}trackResult(e,t){return new Proxy(e,{get:(r,n)=>(this.trackProp(n),t?.(n),Reflect.get(r,n))})}trackProp(e){this.#m.add(e)}getCurrentQuery(){return this.#e}refetch({...e}={}){return this.fetch({...e})}fetchOptimistic(e){const t=this.#t.defaultQueryOptions(e),r=this.#t.getQueryCache().build(this.#t,t);return r.fetch().then(()=>this.createResult(r,t))}fetch(e){return this.#d({...e,cancelRefetch:e.cancelRefetch??!0}).then(()=>(this.updateResult(),this.#n))}#d(e){this.#j();let t=this.#e.fetch(this.options,e);return e?.throwOnError||(t=t.catch(Ea)),t}#g(){this.#b();const e=jo(this.options.staleTime,this.#e);if(Gc||this.#n.isStale||!M2(e))return;const r=wM(this.#n.dataUpdatedAt,e)+1;this.#c=setTimeout(()=>{this.#n.isStale||this.updateResult()},r)}#x(){return(typeof this.options.refetchInterval=="function"?this.options.refetchInterval(this.#e):this.options.refetchInterval)??!1}#y(e){this.#w(),this.#o=e,!(Gc||Ms(this.options.enabled,this.#e)===!1||!M2(this.#o)||this.#o===0)&&(this.#u=setInterval(()=>{(this.options.refetchIntervalInBackground||CN.isFocused())&&this.#d()},this.#o))}#v(){this.#g(),this.#y(this.#x())}#b(){this.#c&&(clearTimeout(this.#c),this.#c=void 0)}#w(){this.#u&&(clearInterval(this.#u),this.#u=void 0)}createResult(e,t){const r=this.#e,n=this.options,a=this.#n,i=this.#a,l=this.#l,d=e!==r?e.state:this.#r,{state:f}=e;let h={...f},p=!1,g;if(t._optimisticResults){const P=this.hasListeners(),F=!P&&tC(e,t),G=P&&rC(e,r,t,n);(F||G)&&(h={...h,...AM(f.data,e.options)}),t._optimisticResults==="isRestoring"&&(h.fetchStatus="idle")}let{error:y,errorUpdatedAt:b,status:w}=h;g=h.data;let j=!1;if(t.placeholderData!==void 0&&g===void 0&&w==="pending"){let P;a?.isPlaceholderData&&t.placeholderData===l?.placeholderData?(P=a.data,j=!0):P=typeof t.placeholderData=="function"?t.placeholderData(this.#h?.state.data,this.#h):t.placeholderData,P!==void 0&&(w="success",g=F2(a?.data,P,t),p=!0)}if(t.select&&g!==void 0&&!j)if(a&&g===i?.data&&t.select===this.#p)g=this.#f;else try{this.#p=t.select,g=t.select(g),g=F2(a?.data,g,t),this.#f=g,this.#s=null}catch(P){this.#s=P}this.#s&&(y=this.#s,g=this.#f,b=Date.now(),w="error");const S=h.fetchStatus==="fetching",_=w==="pending",E=w==="error",T=_&&S,A=g!==void 0,O={status:w,fetchStatus:h.fetchStatus,isPending:_,isSuccess:w==="success",isError:E,isInitialLoading:T,isLoading:T,data:g,dataUpdatedAt:h.dataUpdatedAt,error:y,errorUpdatedAt:b,failureCount:h.fetchFailureCount,failureReason:h.fetchFailureReason,errorUpdateCount:h.errorUpdateCount,isFetched:h.dataUpdateCount>0||h.errorUpdateCount>0,isFetchedAfterMount:h.dataUpdateCount>d.dataUpdateCount||h.errorUpdateCount>d.errorUpdateCount,isFetching:S,isRefetching:S&&!_,isLoadingError:E&&!A,isPaused:h.fetchStatus==="paused",isPlaceholderData:p,isRefetchError:E&&A,isStale:ON(e,t),refetch:this.refetch,promise:this.#i,isEnabled:Ms(t.enabled,e)!==!1};if(this.options.experimental_prefetchInRender){const P=W=>{O.status==="error"?W.reject(O.error):O.data!==void 0&&W.resolve(O.data)},F=()=>{const W=this.#i=O.promise=L2();P(W)},G=this.#i;switch(G.status){case"pending":e.queryHash===r.queryHash&&P(G);break;case"fulfilled":(O.status==="error"||O.data!==G.value)&&F();break;case"rejected":(O.status!=="error"||O.error!==G.reason)&&F();break}}return O}updateResult(){const e=this.#n,t=this.createResult(this.#e,this.options);if(this.#a=this.#e.state,this.#l=this.options,this.#a.data!==void 0&&(this.#h=this.#e),R2(t,e))return;this.#n=t;const r=()=>{if(!e)return!0;const{notifyOnChangeProps:n}=this.options,a=typeof n=="function"?n():n;if(a==="all"||!a&&!this.#m.size)return!0;const i=new Set(a??this.#m);return this.options.throwOnError&&i.add("error"),Object.keys(this.#n).some(l=>{const c=l;return this.#n[c]!==e[c]&&i.has(c)})};this.#N({listeners:r()})}#j(){const e=this.#t.getQueryCache().build(this.#t,this.options);if(e===this.#e)return;const t=this.#e;this.#e=e,this.#r=e.state,this.hasListeners()&&(t?.removeObserver(this),e.addObserver(this))}onQueryUpdate(){this.updateResult(),this.hasListeners()&&this.#v()}#N(e){Hn.batch(()=>{e.listeners&&this.listeners.forEach(t=>{t(this.#n)}),this.#t.getQueryCache().notify({query:this.#e,type:"observerResultsUpdated"})})}};function NV(e,t){return Ms(t.enabled,e)!==!1&&e.state.data===void 0&&!(e.state.status==="error"&&t.retryOnMount===!1)}function tC(e,t){return NV(e,t)||e.state.data!==void 0&&B2(e,t,t.refetchOnMount)}function B2(e,t,r){if(Ms(t.enabled,e)!==!1&&jo(t.staleTime,e)!=="static"){const n=typeof r=="function"?r(e):r;return n==="always"||n!==!1&&ON(e,t)}return!1}function rC(e,t,r,n){return(e!==t||Ms(n.enabled,e)===!1)&&(!r.suspense||e.state.status!=="error")&&ON(e,r)}function ON(e,t){return Ms(t.enabled,e)!==!1&&e.isStaleByTime(jo(t.staleTime,e))}function SV(e,t){return!R2(e.getCurrentResult(),t)}var TM=v.createContext(void 0),CM=e=>{const t=v.useContext(TM);if(!t)throw new Error("No QueryClient set, use QueryClientProvider to set one");return t},kV=({client:e,children:t})=>(v.useEffect(()=>(e.mount(),()=>{e.unmount()}),[e]),s.jsx(TM.Provider,{value:e,children:t})),OM=v.createContext(!1),_V=()=>v.useContext(OM);OM.Provider;function EV(){let e=!1;return{clearReset:()=>{e=!1},reset:()=>{e=!0},isReset:()=>e}}var AV=v.createContext(EV()),TV=()=>v.useContext(AV),CV=(e,t)=>{(e.suspense||e.throwOnError||e.experimental_prefetchInRender)&&(t.isReset()||(e.retryOnMount=!1))},OV=e=>{v.useEffect(()=>{e.clearReset()},[e])},DV=({result:e,errorResetBoundary:t,throwOnError:r,query:n,suspense:a})=>e.isError&&!t.isReset()&&!e.isFetching&&n&&(a&&e.data===void 0||oV(r,[e.error,n])),PV=e=>{if(e.suspense){const t=n=>n==="static"?n:Math.max(n??1e3,1e3),r=e.staleTime;e.staleTime=typeof r=="function"?(...n)=>t(r(...n)):t(r),typeof e.gcTime=="number"&&(e.gcTime=Math.max(e.gcTime,1e3))}},MV=(e,t)=>e.isLoading&&e.isFetching&&!t,RV=(e,t)=>e?.suspense&&t.isPending,nC=(e,t,r)=>t.fetchOptimistic(e).catch(()=>{r.clearReset()});function IV(e,t,r){const n=_V(),a=TV(),i=CM(),l=i.defaultQueryOptions(e);i.getDefaultOptions().queries?._experimental_beforeQuery?.(l),l._optimisticResults=n?"isRestoring":"optimistic",PV(l),CV(l,a),OV(a);const c=!i.getQueryCache().get(l.queryHash),[d]=v.useState(()=>new t(i,l)),f=d.getOptimisticResult(l),h=!n&&e.subscribed!==!1;if(v.useSyncExternalStore(v.useCallback(p=>{const g=h?d.subscribe(Hn.batchCalls(p)):Ea;return d.updateResult(),g},[d,h]),()=>d.getCurrentResult(),()=>d.getCurrentResult()),v.useEffect(()=>{d.setOptions(l)},[l,d]),RV(l,f))throw nC(l,d,a);if(DV({result:f,errorResetBoundary:a,throwOnError:l.throwOnError,query:i.getQueryCache().get(l.queryHash),suspense:l.suspense}))throw f.error;return i.getDefaultOptions().queries?._experimental_afterQuery?.(l,f),l.experimental_prefetchInRender&&!Gc&&MV(f,n)&&(c?nC(l,d,a):i.getQueryCache().get(l.queryHash)?.promise)?.catch(Ea).finally(()=>{d.updateResult()}),l.notifyOnChangeProps?f:d.trackResult(f)}function DM(e,t){return IV(e,jV)}/**
 * react-router v7.7.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */var aC="popstate";function FV(e={}){function t(n,a){let{pathname:i,search:l,hash:c}=n.location;return $2("",{pathname:i,search:l,hash:c},a.state&&a.state.usr||null,a.state&&a.state.key||"default")}function r(n,a){return typeof a=="string"?a:oh(a)}return BV(t,r,null,e)}function Pr(e,t){if(e===!1||e===null||typeof e>"u")throw new Error(t)}function di(e,t){if(!e){typeof console<"u"&&console.warn(t);try{throw new Error(t)}catch{}}}function LV(){return Math.random().toString(36).substring(2,10)}function sC(e,t){return{usr:e.state,key:e.key,idx:t}}function $2(e,t,r=null,n){return{pathname:typeof e=="string"?e:e.pathname,search:"",hash:"",...typeof t=="string"?zd(t):t,state:r,key:t&&t.key||n||LV()}}function oh({pathname:e="/",search:t="",hash:r=""}){return t&&t!=="?"&&(e+=t.charAt(0)==="?"?t:"?"+t),r&&r!=="#"&&(e+=r.charAt(0)==="#"?r:"#"+r),e}function zd(e){let t={};if(e){let r=e.indexOf("#");r>=0&&(t.hash=e.substring(r),e=e.substring(0,r));let n=e.indexOf("?");n>=0&&(t.search=e.substring(n),e=e.substring(0,n)),e&&(t.pathname=e)}return t}function BV(e,t,r,n={}){let{window:a=document.defaultView,v5Compat:i=!1}=n,l=a.history,c="POP",d=null,f=h();f==null&&(f=0,l.replaceState({...l.state,idx:f},""));function h(){return(l.state||{idx:null}).idx}function p(){c="POP";let j=h(),S=j==null?null:j-f;f=j,d&&d({action:c,location:w.location,delta:S})}function g(j,S){c="PUSH";let _=$2(w.location,j,S);f=h()+1;let E=sC(_,f),T=w.createHref(_);try{l.pushState(E,"",T)}catch(A){if(A instanceof DOMException&&A.name==="DataCloneError")throw A;a.location.assign(T)}i&&d&&d({action:c,location:w.location,delta:1})}function y(j,S){c="REPLACE";let _=$2(w.location,j,S);f=h();let E=sC(_,f),T=w.createHref(_);l.replaceState(E,"",T),i&&d&&d({action:c,location:w.location,delta:0})}function b(j){return $V(j)}let w={get action(){return c},get location(){return e(a,l)},listen(j){if(d)throw new Error("A history only accepts one active listener");return a.addEventListener(aC,p),d=j,()=>{a.removeEventListener(aC,p),d=null}},createHref(j){return t(a,j)},createURL:b,encodeLocation(j){let S=b(j);return{pathname:S.pathname,search:S.search,hash:S.hash}},push:g,replace:y,go(j){return l.go(j)}};return w}function $V(e,t=!1){let r="http://localhost";typeof window<"u"&&(r=window.location.origin!=="null"?window.location.origin:window.location.href),Pr(r,"No window.location.(origin|href) available to create URL");let n=typeof e=="string"?e:oh(e);return n=n.replace(/ $/,"%20"),!t&&n.startsWith("//")&&(n=r+n),new URL(n,r)}function PM(e,t,r="/"){return UV(e,t,r,!1)}function UV(e,t,r,n){let a=typeof t=="string"?zd(t):t,i=vl(a.pathname||"/",r);if(i==null)return null;let l=MM(e);zV(l);let c=null;for(let d=0;c==null&&d<l.length;++d){let f=JV(i);c=QV(l[d],f,n)}return c}function MM(e,t=[],r=[],n=""){let a=(i,l,c)=>{let d={relativePath:c===void 0?i.path||"":c,caseSensitive:i.caseSensitive===!0,childrenIndex:l,route:i};d.relativePath.startsWith("/")&&(Pr(d.relativePath.startsWith(n),`Absolute route path "${d.relativePath}" nested under path "${n}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),d.relativePath=d.relativePath.slice(n.length));let f=ul([n,d.relativePath]),h=r.concat(d);i.children&&i.children.length>0&&(Pr(i.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${f}".`),MM(i.children,t,h,f)),!(i.path==null&&!i.index)&&t.push({path:f,score:YV(f,i.index),routesMeta:h})};return e.forEach((i,l)=>{if(i.path===""||!i.path?.includes("?"))a(i,l);else for(let c of RM(i.path))a(i,l,c)}),t}function RM(e){let t=e.split("/");if(t.length===0)return[];let[r,...n]=t,a=r.endsWith("?"),i=r.replace(/\?$/,"");if(n.length===0)return a?[i,""]:[i];let l=RM(n.join("/")),c=[];return c.push(...l.map(d=>d===""?i:[i,d].join("/"))),a&&c.push(...l),c.map(d=>e.startsWith("/")&&d===""?"/":d)}function zV(e){e.sort((t,r)=>t.score!==r.score?r.score-t.score:XV(t.routesMeta.map(n=>n.childrenIndex),r.routesMeta.map(n=>n.childrenIndex)))}var HV=/^:[\w-]+$/,VV=3,qV=2,WV=1,GV=10,KV=-2,iC=e=>e==="*";function YV(e,t){let r=e.split("/"),n=r.length;return r.some(iC)&&(n+=KV),t&&(n+=qV),r.filter(a=>!iC(a)).reduce((a,i)=>a+(HV.test(i)?VV:i===""?WV:GV),n)}function XV(e,t){return e.length===t.length&&e.slice(0,-1).every((n,a)=>n===t[a])?e[e.length-1]-t[t.length-1]:0}function QV(e,t,r=!1){let{routesMeta:n}=e,a={},i="/",l=[];for(let c=0;c<n.length;++c){let d=n[c],f=c===n.length-1,h=i==="/"?t:t.slice(i.length)||"/",p=_g({path:d.relativePath,caseSensitive:d.caseSensitive,end:f},h),g=d.route;if(!p&&f&&r&&!n[n.length-1].route.index&&(p=_g({path:d.relativePath,caseSensitive:d.caseSensitive,end:!1},h)),!p)return null;Object.assign(a,p.params),l.push({params:a,pathname:ul([i,p.pathname]),pathnameBase:nq(ul([i,p.pathnameBase])),route:g}),p.pathnameBase!=="/"&&(i=ul([i,p.pathnameBase]))}return l}function _g(e,t){typeof e=="string"&&(e={path:e,caseSensitive:!1,end:!0});let[r,n]=ZV(e.path,e.caseSensitive,e.end),a=t.match(r);if(!a)return null;let i=a[0],l=i.replace(/(.)\/+$/,"$1"),c=a.slice(1);return{params:n.reduce((f,{paramName:h,isOptional:p},g)=>{if(h==="*"){let b=c[g]||"";l=i.slice(0,i.length-b.length).replace(/(.)\/+$/,"$1")}const y=c[g];return p&&!y?f[h]=void 0:f[h]=(y||"").replace(/%2F/g,"/"),f},{}),pathname:i,pathnameBase:l,pattern:e}}function ZV(e,t=!1,r=!0){di(e==="*"||!e.endsWith("*")||e.endsWith("/*"),`Route path "${e}" will be treated as if it were "${e.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${e.replace(/\*$/,"/*")}".`);let n=[],a="^"+e.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(l,c,d)=>(n.push({paramName:c,isOptional:d!=null}),d?"/?([^\\/]+)?":"/([^\\/]+)"));return e.endsWith("*")?(n.push({paramName:"*"}),a+=e==="*"||e==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):r?a+="\\/*$":e!==""&&e!=="/"&&(a+="(?:(?=\\/|$))"),[new RegExp(a,t?void 0:"i"),n]}function JV(e){try{return e.split("/").map(t=>decodeURIComponent(t).replace(/\//g,"%2F")).join("/")}catch(t){return di(!1,`The URL path "${e}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${t}).`),e}}function vl(e,t){if(t==="/")return e;if(!e.toLowerCase().startsWith(t.toLowerCase()))return null;let r=t.endsWith("/")?t.length-1:t.length,n=e.charAt(r);return n&&n!=="/"?null:e.slice(r)||"/"}function eq(e,t="/"){let{pathname:r,search:n="",hash:a=""}=typeof e=="string"?zd(e):e;return{pathname:r?r.startsWith("/")?r:tq(r,t):t,search:aq(n),hash:sq(a)}}function tq(e,t){let r=t.replace(/\/+$/,"").split("/");return e.split("/").forEach(a=>{a===".."?r.length>1&&r.pop():a!=="."&&r.push(a)}),r.length>1?r.join("/"):"/"}function c1(e,t,r,n){return`Cannot include a '${e}' character in a manually specified \`to.${t}\` field [${JSON.stringify(n)}].  Please separate it out to the \`to.${r}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function rq(e){return e.filter((t,r)=>r===0||t.route.path&&t.route.path.length>0)}function DN(e){let t=rq(e);return t.map((r,n)=>n===t.length-1?r.pathname:r.pathnameBase)}function PN(e,t,r,n=!1){let a;typeof e=="string"?a=zd(e):(a={...e},Pr(!a.pathname||!a.pathname.includes("?"),c1("?","pathname","search",a)),Pr(!a.pathname||!a.pathname.includes("#"),c1("#","pathname","hash",a)),Pr(!a.search||!a.search.includes("#"),c1("#","search","hash",a)));let i=e===""||a.pathname==="",l=i?"/":a.pathname,c;if(l==null)c=r;else{let p=t.length-1;if(!n&&l.startsWith("..")){let g=l.split("/");for(;g[0]==="..";)g.shift(),p-=1;a.pathname=g.join("/")}c=p>=0?t[p]:"/"}let d=eq(a,c),f=l&&l!=="/"&&l.endsWith("/"),h=(i||l===".")&&r.endsWith("/");return!d.pathname.endsWith("/")&&(f||h)&&(d.pathname+="/"),d}var ul=e=>e.join("/").replace(/\/\/+/g,"/"),nq=e=>e.replace(/\/+$/,"").replace(/^\/*/,"/"),aq=e=>!e||e==="?"?"":e.startsWith("?")?e:"?"+e,sq=e=>!e||e==="#"?"":e.startsWith("#")?e:"#"+e;function iq(e){return e!=null&&typeof e.status=="number"&&typeof e.statusText=="string"&&typeof e.internal=="boolean"&&"data"in e}var IM=["POST","PUT","PATCH","DELETE"];new Set(IM);var lq=["GET",...IM];new Set(lq);var Hd=v.createContext(null);Hd.displayName="DataRouter";var Vx=v.createContext(null);Vx.displayName="DataRouterState";v.createContext(!1);var FM=v.createContext({isTransitioning:!1});FM.displayName="ViewTransition";var oq=v.createContext(new Map);oq.displayName="Fetchers";var cq=v.createContext(null);cq.displayName="Await";var hi=v.createContext(null);hi.displayName="Navigation";var Kh=v.createContext(null);Kh.displayName="Location";var Bi=v.createContext({outlet:null,matches:[],isDataRoute:!1});Bi.displayName="Route";var MN=v.createContext(null);MN.displayName="RouteError";function uq(e,{relative:t}={}){Pr(Vd(),"useHref() may be used only in the context of a <Router> component.");let{basename:r,navigator:n}=v.useContext(hi),{hash:a,pathname:i,search:l}=Yh(e,{relative:t}),c=i;return r!=="/"&&(c=i==="/"?r:ul([r,i])),n.createHref({pathname:c,search:l,hash:a})}function Vd(){return v.useContext(Kh)!=null}function mi(){return Pr(Vd(),"useLocation() may be used only in the context of a <Router> component."),v.useContext(Kh).location}var LM="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function BM(e){v.useContext(hi).static||v.useLayoutEffect(e)}function zo(){let{isDataRoute:e}=v.useContext(Bi);return e?Nq():dq()}function dq(){Pr(Vd(),"useNavigate() may be used only in the context of a <Router> component.");let e=v.useContext(Hd),{basename:t,navigator:r}=v.useContext(hi),{matches:n}=v.useContext(Bi),{pathname:a}=mi(),i=JSON.stringify(DN(n)),l=v.useRef(!1);return BM(()=>{l.current=!0}),v.useCallback((d,f={})=>{if(di(l.current,LM),!l.current)return;if(typeof d=="number"){r.go(d);return}let h=PN(d,JSON.parse(i),a,f.relative==="path");e==null&&t!=="/"&&(h.pathname=h.pathname==="/"?t:ul([t,h.pathname])),(f.replace?r.replace:r.push)(h,f.state,f)},[t,r,i,a,e])}v.createContext(null);function Yh(e,{relative:t}={}){let{matches:r}=v.useContext(Bi),{pathname:n}=mi(),a=JSON.stringify(DN(r));return v.useMemo(()=>PN(e,JSON.parse(a),n,t==="path"),[e,a,n,t])}function fq(e,t){return $M(e,t)}function $M(e,t,r,n){Pr(Vd(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:a}=v.useContext(hi),{matches:i}=v.useContext(Bi),l=i[i.length-1],c=l?l.params:{},d=l?l.pathname:"/",f=l?l.pathnameBase:"/",h=l&&l.route;{let S=h&&h.path||"";UM(d,!h||S.endsWith("*")||S.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${d}" (under <Route path="${S}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${S}"> to <Route path="${S==="/"?"*":`${S}/*`}">.`)}let p=mi(),g;if(t){let S=typeof t=="string"?zd(t):t;Pr(f==="/"||S.pathname?.startsWith(f),`When overriding the location using \`<Routes location>\` or \`useRoutes(routes, location)\`, the location pathname must begin with the portion of the URL pathname that was matched by all parent routes. The current pathname base is "${f}" but pathname "${S.pathname}" was given in the \`location\` prop.`),g=S}else g=p;let y=g.pathname||"/",b=y;if(f!=="/"){let S=f.replace(/^\//,"").split("/");b="/"+y.replace(/^\//,"").split("/").slice(S.length).join("/")}let w=PM(e,{pathname:b});di(h||w!=null,`No routes matched location "${g.pathname}${g.search}${g.hash}" `),di(w==null||w[w.length-1].route.element!==void 0||w[w.length-1].route.Component!==void 0||w[w.length-1].route.lazy!==void 0,`Matched leaf route at location "${g.pathname}${g.search}${g.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`);let j=xq(w&&w.map(S=>Object.assign({},S,{params:Object.assign({},c,S.params),pathname:ul([f,a.encodeLocation?a.encodeLocation(S.pathname).pathname:S.pathname]),pathnameBase:S.pathnameBase==="/"?f:ul([f,a.encodeLocation?a.encodeLocation(S.pathnameBase).pathname:S.pathnameBase])})),i,r,n);return t&&j?v.createElement(Kh.Provider,{value:{location:{pathname:"/",search:"",hash:"",state:null,key:"default",...g},navigationType:"POP"}},j):j}function hq(){let e=jq(),t=iq(e)?`${e.status} ${e.statusText}`:e instanceof Error?e.message:JSON.stringify(e),r=e instanceof Error?e.stack:null,n="rgba(200,200,200, 0.5)",a={padding:"0.5rem",backgroundColor:n},i={padding:"2px 4px",backgroundColor:n},l=null;return console.error("Error handled by React Router default ErrorBoundary:",e),l=v.createElement(v.Fragment,null,v.createElement("p",null," Hey developer "),v.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",v.createElement("code",{style:i},"ErrorBoundary")," or"," ",v.createElement("code",{style:i},"errorElement")," prop on your route.")),v.createElement(v.Fragment,null,v.createElement("h2",null,"Unexpected Application Error!"),v.createElement("h3",{style:{fontStyle:"italic"}},t),r?v.createElement("pre",{style:a},r):null,l)}var mq=v.createElement(hq,null),pq=class extends v.Component{constructor(e){super(e),this.state={location:e.location,revalidation:e.revalidation,error:e.error}}static getDerivedStateFromError(e){return{error:e}}static getDerivedStateFromProps(e,t){return t.location!==e.location||t.revalidation!=="idle"&&e.revalidation==="idle"?{error:e.error,location:e.location,revalidation:e.revalidation}:{error:e.error!==void 0?e.error:t.error,location:t.location,revalidation:e.revalidation||t.revalidation}}componentDidCatch(e,t){console.error("React Router caught the following error during render",e,t)}render(){return this.state.error!==void 0?v.createElement(Bi.Provider,{value:this.props.routeContext},v.createElement(MN.Provider,{value:this.state.error,children:this.props.component})):this.props.children}};function gq({routeContext:e,match:t,children:r}){let n=v.useContext(Hd);return n&&n.static&&n.staticContext&&(t.route.errorElement||t.route.ErrorBoundary)&&(n.staticContext._deepestRenderedBoundaryId=t.route.id),v.createElement(Bi.Provider,{value:e},r)}function xq(e,t=[],r=null,n=null){if(e==null){if(!r)return null;if(r.errors)e=r.matches;else if(t.length===0&&!r.initialized&&r.matches.length>0)e=r.matches;else return null}let a=e,i=r?.errors;if(i!=null){let d=a.findIndex(f=>f.route.id&&i?.[f.route.id]!==void 0);Pr(d>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(i).join(",")}`),a=a.slice(0,Math.min(a.length,d+1))}let l=!1,c=-1;if(r)for(let d=0;d<a.length;d++){let f=a[d];if((f.route.HydrateFallback||f.route.hydrateFallbackElement)&&(c=d),f.route.id){let{loaderData:h,errors:p}=r,g=f.route.loader&&!h.hasOwnProperty(f.route.id)&&(!p||p[f.route.id]===void 0);if(f.route.lazy||g){l=!0,c>=0?a=a.slice(0,c+1):a=[a[0]];break}}}return a.reduceRight((d,f,h)=>{let p,g=!1,y=null,b=null;r&&(p=i&&f.route.id?i[f.route.id]:void 0,y=f.route.errorElement||mq,l&&(c<0&&h===0?(UM("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),g=!0,b=null):c===h&&(g=!0,b=f.route.hydrateFallbackElement||null)));let w=t.concat(a.slice(0,h+1)),j=()=>{let S;return p?S=y:g?S=b:f.route.Component?S=v.createElement(f.route.Component,null):f.route.element?S=f.route.element:S=d,v.createElement(gq,{match:f,routeContext:{outlet:d,matches:w,isDataRoute:r!=null},children:S})};return r&&(f.route.ErrorBoundary||f.route.errorElement||h===0)?v.createElement(pq,{location:r.location,revalidation:r.revalidation,component:y,error:p,children:j(),routeContext:{outlet:null,matches:w,isDataRoute:!0}}):j()},null)}function RN(e){return`${e} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function yq(e){let t=v.useContext(Hd);return Pr(t,RN(e)),t}function vq(e){let t=v.useContext(Vx);return Pr(t,RN(e)),t}function bq(e){let t=v.useContext(Bi);return Pr(t,RN(e)),t}function IN(e){let t=bq(e),r=t.matches[t.matches.length-1];return Pr(r.route.id,`${e} can only be used on routes that contain a unique "id"`),r.route.id}function wq(){return IN("useRouteId")}function jq(){let e=v.useContext(MN),t=vq("useRouteError"),r=IN("useRouteError");return e!==void 0?e:t.errors?.[r]}function Nq(){let{router:e}=yq("useNavigate"),t=IN("useNavigate"),r=v.useRef(!1);return BM(()=>{r.current=!0}),v.useCallback(async(a,i={})=>{di(r.current,LM),r.current&&(typeof a=="number"?e.navigate(a):await e.navigate(a,{fromRouteId:t,...i}))},[e,t])}var lC={};function UM(e,t,r){!t&&!lC[e]&&(lC[e]=!0,di(!1,r))}v.memo(Sq);function Sq({routes:e,future:t,state:r}){return $M(e,void 0,r,t)}function FN({to:e,replace:t,state:r,relative:n}){Pr(Vd(),"<Navigate> may be used only in the context of a <Router> component.");let{static:a}=v.useContext(hi);di(!a,"<Navigate> must not be used on the initial render in a <StaticRouter>. This is a no-op, but you should modify your code so the <Navigate> is only ever rendered in response to some user interaction or state change.");let{matches:i}=v.useContext(Bi),{pathname:l}=mi(),c=zo(),d=PN(e,DN(i),l,n==="path"),f=JSON.stringify(d);return v.useEffect(()=>{c(JSON.parse(f),{replace:t,state:r,relative:n})},[c,f,n,t,r]),null}function mr(e){Pr(!1,"A <Route> is only ever to be used as the child of <Routes> element, never rendered directly. Please wrap your <Route> in a <Routes>.")}function kq({basename:e="/",children:t=null,location:r,navigationType:n="POP",navigator:a,static:i=!1}){Pr(!Vd(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let l=e.replace(/^\/*/,"/"),c=v.useMemo(()=>({basename:l,navigator:a,static:i,future:{}}),[l,a,i]);typeof r=="string"&&(r=zd(r));let{pathname:d="/",search:f="",hash:h="",state:p=null,key:g="default"}=r,y=v.useMemo(()=>{let b=vl(d,l);return b==null?null:{location:{pathname:b,search:f,hash:h,state:p,key:g},navigationType:n}},[l,d,f,h,p,g,n]);return di(y!=null,`<Router basename="${l}"> is not able to match the URL "${d}${f}${h}" because it does not start with the basename, so the <Router> won't render anything.`),y==null?null:v.createElement(hi.Provider,{value:c},v.createElement(Kh.Provider,{children:t,value:y}))}function _q({children:e,location:t}){return fq(U2(e),t)}function U2(e,t=[]){let r=[];return v.Children.forEach(e,(n,a)=>{if(!v.isValidElement(n))return;let i=[...t,a];if(n.type===v.Fragment){r.push.apply(r,U2(n.props.children,i));return}Pr(n.type===mr,`[${typeof n.type=="string"?n.type:n.type.name}] is not a <Route> component. All component children of <Routes> must be a <Route> or <React.Fragment>`),Pr(!n.props.index||!n.props.children,"An index route cannot have child routes.");let l={id:n.props.id||i.join("-"),caseSensitive:n.props.caseSensitive,element:n.props.element,Component:n.props.Component,index:n.props.index,path:n.props.path,loader:n.props.loader,action:n.props.action,hydrateFallbackElement:n.props.hydrateFallbackElement,HydrateFallback:n.props.HydrateFallback,errorElement:n.props.errorElement,ErrorBoundary:n.props.ErrorBoundary,hasErrorBoundary:n.props.hasErrorBoundary===!0||n.props.ErrorBoundary!=null||n.props.errorElement!=null,shouldRevalidate:n.props.shouldRevalidate,handle:n.props.handle,lazy:n.props.lazy};n.props.children&&(l.children=U2(n.props.children,i)),r.push(l)}),r}var hg="get",mg="application/x-www-form-urlencoded";function qx(e){return e!=null&&typeof e.tagName=="string"}function Eq(e){return qx(e)&&e.tagName.toLowerCase()==="button"}function Aq(e){return qx(e)&&e.tagName.toLowerCase()==="form"}function Tq(e){return qx(e)&&e.tagName.toLowerCase()==="input"}function Cq(e){return!!(e.metaKey||e.altKey||e.ctrlKey||e.shiftKey)}function Oq(e,t){return e.button===0&&(!t||t==="_self")&&!Cq(e)}var Pp=null;function Dq(){if(Pp===null)try{new FormData(document.createElement("form"),0),Pp=!1}catch{Pp=!0}return Pp}var Pq=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function u1(e){return e!=null&&!Pq.has(e)?(di(!1,`"${e}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${mg}"`),null):e}function Mq(e,t){let r,n,a,i,l;if(Aq(e)){let c=e.getAttribute("action");n=c?vl(c,t):null,r=e.getAttribute("method")||hg,a=u1(e.getAttribute("enctype"))||mg,i=new FormData(e)}else if(Eq(e)||Tq(e)&&(e.type==="submit"||e.type==="image")){let c=e.form;if(c==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let d=e.getAttribute("formaction")||c.getAttribute("action");if(n=d?vl(d,t):null,r=e.getAttribute("formmethod")||c.getAttribute("method")||hg,a=u1(e.getAttribute("formenctype"))||u1(c.getAttribute("enctype"))||mg,i=new FormData(c,e),!Dq()){let{name:f,type:h,value:p}=e;if(h==="image"){let g=f?`${f}.`:"";i.append(`${g}x`,"0"),i.append(`${g}y`,"0")}else f&&i.append(f,p)}}else{if(qx(e))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');r=hg,n=null,a=mg,l=e}return i&&a==="text/plain"&&(l=i,i=void 0),{action:n,method:r.toLowerCase(),encType:a,formData:i,body:l}}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");function LN(e,t){if(e===!1||e===null||typeof e>"u")throw new Error(t)}function Rq(e,t,r){let n=typeof e=="string"?new URL(e,typeof window>"u"?"server://singlefetch/":window.location.origin):e;return n.pathname==="/"?n.pathname=`_root.${r}`:t&&vl(n.pathname,t)==="/"?n.pathname=`${t.replace(/\/$/,"")}/_root.${r}`:n.pathname=`${n.pathname.replace(/\/$/,"")}.${r}`,n}async function Iq(e,t){if(e.id in t)return t[e.id];try{let r=await import(e.module);return t[e.id]=r,r}catch(r){return console.error(`Error loading route module \`${e.module}\`, reloading page...`),console.error(r),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function Fq(e){return e==null?!1:e.href==null?e.rel==="preload"&&typeof e.imageSrcSet=="string"&&typeof e.imageSizes=="string":typeof e.rel=="string"&&typeof e.href=="string"}async function Lq(e,t,r){let n=await Promise.all(e.map(async a=>{let i=t.routes[a.route.id];if(i){let l=await Iq(i,r);return l.links?l.links():[]}return[]}));return zq(n.flat(1).filter(Fq).filter(a=>a.rel==="stylesheet"||a.rel==="preload").map(a=>a.rel==="stylesheet"?{...a,rel:"prefetch",as:"style"}:{...a,rel:"prefetch"}))}function oC(e,t,r,n,a,i){let l=(d,f)=>r[f]?d.route.id!==r[f].route.id:!0,c=(d,f)=>r[f].pathname!==d.pathname||r[f].route.path?.endsWith("*")&&r[f].params["*"]!==d.params["*"];return i==="assets"?t.filter((d,f)=>l(d,f)||c(d,f)):i==="data"?t.filter((d,f)=>{let h=n.routes[d.route.id];if(!h||!h.hasLoader)return!1;if(l(d,f)||c(d,f))return!0;if(d.route.shouldRevalidate){let p=d.route.shouldRevalidate({currentUrl:new URL(a.pathname+a.search+a.hash,window.origin),currentParams:r[0]?.params||{},nextUrl:new URL(e,window.origin),nextParams:d.params,defaultShouldRevalidate:!0});if(typeof p=="boolean")return p}return!0}):[]}function Bq(e,t,{includeHydrateFallback:r}={}){return $q(e.map(n=>{let a=t.routes[n.route.id];if(!a)return[];let i=[a.module];return a.clientActionModule&&(i=i.concat(a.clientActionModule)),a.clientLoaderModule&&(i=i.concat(a.clientLoaderModule)),r&&a.hydrateFallbackModule&&(i=i.concat(a.hydrateFallbackModule)),a.imports&&(i=i.concat(a.imports)),i}).flat(1))}function $q(e){return[...new Set(e)]}function Uq(e){let t={},r=Object.keys(e).sort();for(let n of r)t[n]=e[n];return t}function zq(e,t){let r=new Set;return new Set(t),e.reduce((n,a)=>{let i=JSON.stringify(Uq(a));return r.has(i)||(r.add(i),n.push({key:i,link:a})),n},[])}function zM(){let e=v.useContext(Hd);return LN(e,"You must render this element inside a <DataRouterContext.Provider> element"),e}function Hq(){let e=v.useContext(Vx);return LN(e,"You must render this element inside a <DataRouterStateContext.Provider> element"),e}var BN=v.createContext(void 0);BN.displayName="FrameworkContext";function HM(){let e=v.useContext(BN);return LN(e,"You must render this element inside a <HydratedRouter> element"),e}function Vq(e,t){let r=v.useContext(BN),[n,a]=v.useState(!1),[i,l]=v.useState(!1),{onFocus:c,onBlur:d,onMouseEnter:f,onMouseLeave:h,onTouchStart:p}=t,g=v.useRef(null);v.useEffect(()=>{if(e==="render"&&l(!0),e==="viewport"){let w=S=>{S.forEach(_=>{l(_.isIntersecting)})},j=new IntersectionObserver(w,{threshold:.5});return g.current&&j.observe(g.current),()=>{j.disconnect()}}},[e]),v.useEffect(()=>{if(n){let w=setTimeout(()=>{l(!0)},100);return()=>{clearTimeout(w)}}},[n]);let y=()=>{a(!0)},b=()=>{a(!1),l(!1)};return r?e!=="intent"?[i,g,{}]:[i,g,{onFocus:m0(c,y),onBlur:m0(d,b),onMouseEnter:m0(f,y),onMouseLeave:m0(h,b),onTouchStart:m0(p,y)}]:[!1,g,{}]}function m0(e,t){return r=>{e&&e(r),r.defaultPrevented||t(r)}}function qq({page:e,...t}){let{router:r}=zM(),n=v.useMemo(()=>PM(r.routes,e,r.basename),[r.routes,e,r.basename]);return n?v.createElement(Gq,{page:e,matches:n,...t}):null}function Wq(e){let{manifest:t,routeModules:r}=HM(),[n,a]=v.useState([]);return v.useEffect(()=>{let i=!1;return Lq(e,t,r).then(l=>{i||a(l)}),()=>{i=!0}},[e,t,r]),n}function Gq({page:e,matches:t,...r}){let n=mi(),{manifest:a,routeModules:i}=HM(),{basename:l}=zM(),{loaderData:c,matches:d}=Hq(),f=v.useMemo(()=>oC(e,t,d,a,n,"data"),[e,t,d,a,n]),h=v.useMemo(()=>oC(e,t,d,a,n,"assets"),[e,t,d,a,n]),p=v.useMemo(()=>{if(e===n.pathname+n.search+n.hash)return[];let b=new Set,w=!1;if(t.forEach(S=>{let _=a.routes[S.route.id];!_||!_.hasLoader||(!f.some(E=>E.route.id===S.route.id)&&S.route.id in c&&i[S.route.id]?.shouldRevalidate||_.hasClientLoader?w=!0:b.add(S.route.id))}),b.size===0)return[];let j=Rq(e,l,"data");return w&&b.size>0&&j.searchParams.set("_routes",t.filter(S=>b.has(S.route.id)).map(S=>S.route.id).join(",")),[j.pathname+j.search]},[l,c,n,a,f,t,e,i]),g=v.useMemo(()=>Bq(h,a),[h,a]),y=Wq(h);return v.createElement(v.Fragment,null,p.map(b=>v.createElement("link",{key:b,rel:"prefetch",as:"fetch",href:b,...r})),g.map(b=>v.createElement("link",{key:b,rel:"modulepreload",href:b,...r})),y.map(({key:b,link:w})=>v.createElement("link",{key:b,...w})))}function Kq(...e){return t=>{e.forEach(r=>{typeof r=="function"?r(t):r!=null&&(r.current=t)})}}var VM=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{VM&&(window.__reactRouterVersion="7.7.0")}catch{}function Yq({basename:e,children:t,window:r}){let n=v.useRef();n.current==null&&(n.current=FV({window:r,v5Compat:!0}));let a=n.current,[i,l]=v.useState({action:a.action,location:a.location}),c=v.useCallback(d=>{v.startTransition(()=>l(d))},[l]);return v.useLayoutEffect(()=>a.listen(c),[a,c]),v.createElement(kq,{basename:e,children:t,location:i.location,navigationType:i.action,navigator:a})}var qM=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,Ka=v.forwardRef(function({onClick:t,discover:r="render",prefetch:n="none",relative:a,reloadDocument:i,replace:l,state:c,target:d,to:f,preventScrollReset:h,viewTransition:p,...g},y){let{basename:b}=v.useContext(hi),w=typeof f=="string"&&qM.test(f),j,S=!1;if(typeof f=="string"&&w&&(j=f,VM))try{let F=new URL(window.location.href),G=f.startsWith("//")?new URL(F.protocol+f):new URL(f),W=vl(G.pathname,b);G.origin===F.origin&&W!=null?f=W+G.search+G.hash:S=!0}catch{di(!1,`<Link to="${f}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}let _=uq(f,{relative:a}),[E,T,A]=Vq(n,g),C=Zq(f,{replace:l,state:c,target:d,preventScrollReset:h,relative:a,viewTransition:p});function O(F){t&&t(F),F.defaultPrevented||C(F)}let P=v.createElement("a",{...g,...A,href:j||_,onClick:S||i?t:O,ref:Kq(y,T),target:d,"data-discover":!w&&r==="render"?"true":void 0});return E&&!w?v.createElement(v.Fragment,null,P,v.createElement(qq,{page:_})):P});Ka.displayName="Link";var z2=v.forwardRef(function({"aria-current":t="page",caseSensitive:r=!1,className:n="",end:a=!1,style:i,to:l,viewTransition:c,children:d,...f},h){let p=Yh(l,{relative:f.relative}),g=mi(),y=v.useContext(Vx),{navigator:b,basename:w}=v.useContext(hi),j=y!=null&&nW(p)&&c===!0,S=b.encodeLocation?b.encodeLocation(p).pathname:p.pathname,_=g.pathname,E=y&&y.navigation&&y.navigation.location?y.navigation.location.pathname:null;r||(_=_.toLowerCase(),E=E?E.toLowerCase():null,S=S.toLowerCase()),E&&w&&(E=vl(E,w)||E);const T=S!=="/"&&S.endsWith("/")?S.length-1:S.length;let A=_===S||!a&&_.startsWith(S)&&_.charAt(T)==="/",C=E!=null&&(E===S||!a&&E.startsWith(S)&&E.charAt(S.length)==="/"),O={isActive:A,isPending:C,isTransitioning:j},P=A?t:void 0,F;typeof n=="function"?F=n(O):F=[n,A?"active":null,C?"pending":null,j?"transitioning":null].filter(Boolean).join(" ");let G=typeof i=="function"?i(O):i;return v.createElement(Ka,{...f,"aria-current":P,className:F,ref:h,style:G,to:l,viewTransition:c},typeof d=="function"?d(O):d)});z2.displayName="NavLink";var Xq=v.forwardRef(({discover:e="render",fetcherKey:t,navigate:r,reloadDocument:n,replace:a,state:i,method:l=hg,action:c,onSubmit:d,relative:f,preventScrollReset:h,viewTransition:p,...g},y)=>{let b=tW(),w=rW(c,{relative:f}),j=l.toLowerCase()==="get"?"get":"post",S=typeof c=="string"&&qM.test(c),_=E=>{if(d&&d(E),E.defaultPrevented)return;E.preventDefault();let T=E.nativeEvent.submitter,A=T?.getAttribute("formmethod")||l;b(T||E.currentTarget,{fetcherKey:t,method:A,navigate:r,replace:a,state:i,relative:f,preventScrollReset:h,viewTransition:p})};return v.createElement("form",{ref:y,method:j,action:w,onSubmit:n?d:_,...g,"data-discover":!S&&e==="render"?"true":void 0})});Xq.displayName="Form";function Qq(e){return`${e} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function WM(e){let t=v.useContext(Hd);return Pr(t,Qq(e)),t}function Zq(e,{target:t,replace:r,state:n,preventScrollReset:a,relative:i,viewTransition:l}={}){let c=zo(),d=mi(),f=Yh(e,{relative:i});return v.useCallback(h=>{if(Oq(h,t)){h.preventDefault();let p=r!==void 0?r:oh(d)===oh(f);c(e,{replace:p,state:n,preventScrollReset:a,relative:i,viewTransition:l})}},[d,c,f,r,n,t,e,a,i,l])}var Jq=0,eW=()=>`__${String(++Jq)}__`;function tW(){let{router:e}=WM("useSubmit"),{basename:t}=v.useContext(hi),r=wq();return v.useCallback(async(n,a={})=>{let{action:i,method:l,encType:c,formData:d,body:f}=Mq(n,t);if(a.navigate===!1){let h=a.fetcherKey||eW();await e.fetch(h,r,a.action||i,{preventScrollReset:a.preventScrollReset,formData:d,body:f,formMethod:a.method||l,formEncType:a.encType||c,flushSync:a.flushSync})}else await e.navigate(a.action||i,{preventScrollReset:a.preventScrollReset,formData:d,body:f,formMethod:a.method||l,formEncType:a.encType||c,replace:a.replace,state:a.state,fromRouteId:r,flushSync:a.flushSync,viewTransition:a.viewTransition})},[e,t,r])}function rW(e,{relative:t}={}){let{basename:r}=v.useContext(hi),n=v.useContext(Bi);Pr(n,"useFormAction must be used inside a RouteContext");let[a]=n.matches.slice(-1),i={...Yh(e||".",{relative:t})},l=mi();if(e==null){i.search=l.search;let c=new URLSearchParams(i.search),d=c.getAll("index");if(d.some(h=>h==="")){c.delete("index"),d.filter(p=>p).forEach(p=>c.append("index",p));let h=c.toString();i.search=h?`?${h}`:""}}return(!e||e===".")&&a.route.index&&(i.search=i.search?i.search.replace(/^\?/,"?index&"):"?index"),r!=="/"&&(i.pathname=i.pathname==="/"?r:ul([r,i.pathname])),oh(i)}function nW(e,t={}){let r=v.useContext(FM);Pr(r!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:n}=WM("useViewTransitionState"),a=Yh(e,{relative:t.relative});if(!r.isTransitioning)return!1;let i=vl(r.currentLocation.pathname,n)||r.currentLocation.pathname,l=vl(r.nextLocation.pathname,n)||r.nextLocation.pathname;return _g(a.pathname,l)!=null||_g(a.pathname,i)!=null}var qd=bM();const aW=fs(qd);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const sW=e=>e.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),iW=e=>e.replace(/^([A-Z])|[\s-_]+(\w)/g,(t,r,n)=>n?n.toUpperCase():r.toLowerCase()),cC=e=>{const t=iW(e);return t.charAt(0).toUpperCase()+t.slice(1)},GM=(...e)=>e.filter((t,r,n)=>!!t&&t.trim()!==""&&n.indexOf(t)===r).join(" ").trim(),lW=e=>{for(const t in e)if(t.startsWith("aria-")||t==="role"||t==="title")return!0};/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var oW={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const cW=v.forwardRef(({color:e="currentColor",size:t=24,strokeWidth:r=2,absoluteStrokeWidth:n,className:a="",children:i,iconNode:l,...c},d)=>v.createElement("svg",{ref:d,...oW,width:t,height:t,stroke:e,strokeWidth:n?Number(r)*24/Number(t):r,className:GM("lucide",a),...!i&&!lW(c)&&{"aria-hidden":"true"},...c},[...l.map(([f,h])=>v.createElement(f,h)),...Array.isArray(i)?i:[i]]));/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $e=(e,t)=>{const r=v.forwardRef(({className:n,...a},i)=>v.createElement(cW,{ref:i,iconNode:t,className:GM(`lucide-${sW(cC(e))}`,`lucide-${e}`,n),...a}));return r.displayName=cC(e),r};/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const uW=[["path",{d:"M22 12h-2.48a2 2 0 0 0-1.93 1.46l-2.35 8.36a.25.25 0 0 1-.48 0L9.24 2.18a.25.25 0 0 0-.48 0l-2.35 8.36A2 2 0 0 1 4.49 12H2",key:"169zse"}]],ch=$e("activity",uW);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const dW=[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]],KM=$e("arrow-left",dW);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const fW=[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"m12 5 7 7-7 7",key:"xquz4c"}]],Ao=$e("arrow-right",fW);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const hW=[["path",{d:"M7 7h10v10",key:"1tivn9"}],["path",{d:"M7 17 17 7",key:"1vkiza"}]],Mp=$e("arrow-up-right",hW);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const mW=[["path",{d:"M10.268 21a2 2 0 0 0 3.464 0",key:"vwvbt9"}],["path",{d:"M3.262 15.326A1 1 0 0 0 4 17h16a1 1 0 0 0 .74-1.673C19.41 13.956 18 12.499 18 8A6 6 0 0 0 6 8c0 4.499-1.411 5.956-2.738 7.326",key:"11g9vi"}]],pW=$e("bell",mW);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const gW=[["path",{d:"M12 7v14",key:"1akyts"}],["path",{d:"M3 18a1 1 0 0 1-1-1V4a1 1 0 0 1 1-1h5a4 4 0 0 1 4 4 4 4 0 0 1 4-4h5a1 1 0 0 1 1 1v13a1 1 0 0 1-1 1h-6a3 3 0 0 0-3 3 3 3 0 0 0-3-3z",key:"ruj8y"}]],$N=$e("book-open",gW);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const xW=[["path",{d:"M12 8V4H8",key:"hb8ula"}],["rect",{width:"16",height:"12",x:"4",y:"8",rx:"2",key:"enze0r"}],["path",{d:"M2 14h2",key:"vft8re"}],["path",{d:"M20 14h2",key:"4cs60a"}],["path",{d:"M15 13v2",key:"1xurst"}],["path",{d:"M9 13v2",key:"rq6x2g"}]],dl=$e("bot",xW);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const yW=[["path",{d:"M12 5a3 3 0 1 0-5.997.125 4 4 0 0 0-2.526 5.77 4 4 0 0 0 .556 6.588A4 4 0 1 0 12 18Z",key:"l5xja"}],["path",{d:"M9 13a4.5 4.5 0 0 0 3-4",key:"10igwf"}],["path",{d:"M6.003 5.125A3 3 0 0 0 6.401 6.5",key:"105sqy"}],["path",{d:"M3.477 10.896a4 4 0 0 1 .585-.396",key:"ql3yin"}],["path",{d:"M6 18a4 4 0 0 1-1.967-.516",key:"2e4loj"}],["path",{d:"M12 13h4",key:"1ku699"}],["path",{d:"M12 18h6a2 2 0 0 1 2 2v1",key:"105ag5"}],["path",{d:"M12 8h8",key:"1lhi5i"}],["path",{d:"M16 8V5a2 2 0 0 1 2-2",key:"u6izg6"}],["circle",{cx:"16",cy:"13",r:".5",key:"ry7gng"}],["circle",{cx:"18",cy:"3",r:".5",key:"1aiba7"}],["circle",{cx:"20",cy:"21",r:".5",key:"yhc1fs"}],["circle",{cx:"20",cy:"8",r:".5",key:"1e43v0"}]],vW=$e("brain-circuit",yW);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const bW=[["path",{d:"M12 5a3 3 0 1 0-5.997.125 4 4 0 0 0-2.526 5.77 4 4 0 0 0 .556 6.588A4 4 0 1 0 12 18Z",key:"l5xja"}],["path",{d:"M12 5a3 3 0 1 1 5.997.125 4 4 0 0 1 2.526 5.77 4 4 0 0 1-.556 6.588A4 4 0 1 1 12 18Z",key:"ep3f8r"}],["path",{d:"M15 13a4.5 4.5 0 0 1-3-4 4.5 4.5 0 0 1-3 4",key:"1p4c4q"}],["path",{d:"M17.599 6.5a3 3 0 0 0 .399-1.375",key:"tmeiqw"}],["path",{d:"M6.003 5.125A3 3 0 0 0 6.401 6.5",key:"105sqy"}],["path",{d:"M3.477 10.896a4 4 0 0 1 .585-.396",key:"ql3yin"}],["path",{d:"M19.938 10.5a4 4 0 0 1 .585.396",key:"1qfode"}],["path",{d:"M6 18a4 4 0 0 1-1.967-.516",key:"2e4loj"}],["path",{d:"M19.967 17.484A4 4 0 0 1 18 18",key:"159ez6"}]],Kc=$e("brain",bW);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const wW=[["path",{d:"M6 22V4a2 2 0 0 1 2-2h8a2 2 0 0 1 2 2v18Z",key:"1b4qmf"}],["path",{d:"M6 12H4a2 2 0 0 0-2 2v6a2 2 0 0 0 2 2h2",key:"i71pzd"}],["path",{d:"M18 9h2a2 2 0 0 1 2 2v9a2 2 0 0 1-2 2h-2",key:"10jefs"}],["path",{d:"M10 6h4",key:"1itunk"}],["path",{d:"M10 10h4",key:"tcdvrf"}],["path",{d:"M10 14h4",key:"kelpxr"}],["path",{d:"M10 18h4",key:"1ulq68"}]],sd=$e("building-2",wW);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const jW=[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]],UN=$e("calendar",jW);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const NW=[["path",{d:"M3 3v16a2 2 0 0 0 2 2h16",key:"c24i48"}],["path",{d:"M18 17V9",key:"2bz60n"}],["path",{d:"M13 17V5",key:"1frdt8"}],["path",{d:"M8 17v-3",key:"17ska0"}]],Pa=$e("chart-column",NW);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const SW=[["path",{d:"M3 3v16a2 2 0 0 0 2 2h16",key:"c24i48"}],["path",{d:"m19 9-5 5-4-4-3 3",key:"2osh9i"}]],kW=$e("chart-line",SW);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _W=[["line",{x1:"12",x2:"12",y1:"20",y2:"10",key:"1vz5eb"}],["line",{x1:"18",x2:"18",y1:"20",y2:"4",key:"cun8e5"}],["line",{x1:"6",x2:"6",y1:"20",y2:"16",key:"hq0ia6"}]],YM=$e("chart-no-axes-column-increasing",_W);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const EW=[["path",{d:"M21 12c.552 0 1.005-.449.95-.998a10 10 0 0 0-8.953-8.951c-.55-.055-.998.398-.998.95v8a1 1 0 0 0 1 1z",key:"pzmjnu"}],["path",{d:"M21.21 15.89A10 10 0 1 1 8 2.83",key:"k2fpak"}]],H2=$e("chart-pie",EW);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const AW=[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]],XM=$e("check",AW);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const TW=[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]],QM=$e("chevron-down",TW);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const CW=[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]],OW=$e("chevron-right",CW);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const DW=[["path",{d:"m18 15-6-6-6 6",key:"153udz"}]],PW=$e("chevron-up",DW);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const MW=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]],V2=$e("circle-alert",MW);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const RW=[["path",{d:"M21.801 10A10 10 0 1 1 17 3.335",key:"yps3ct"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]],Lt=$e("circle-check-big",RW);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const IW=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m15 9-6 6",key:"1uzhvr"}],["path",{d:"m9 9 6 6",key:"z0biqf"}]],Nd=$e("circle-x",IW);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const FW=[["rect",{width:"8",height:"4",x:"8",y:"2",rx:"1",ry:"1",key:"tgr4d6"}],["path",{d:"M16 4h2a2 2 0 0 1 2 2v14a2 2 0 0 1-2 2H6a2 2 0 0 1-2-2V6a2 2 0 0 1 2-2h2",key:"116196"}]],uC=$e("clipboard",FW);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const LW=[["path",{d:"M12 6v6l4 2",key:"mmk7yg"}],["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]],is=$e("clock",LW);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const BW=[["path",{d:"M16 2v2",key:"scm5qe"}],["path",{d:"M7 22v-2a2 2 0 0 1 2-2h6a2 2 0 0 1 2 2v2",key:"1waht3"}],["path",{d:"M8 2v2",key:"pbkmx"}],["circle",{cx:"12",cy:"11",r:"3",key:"itu57m"}],["rect",{x:"3",y:"4",width:"18",height:"18",rx:"2",key:"12vinp"}]],$W=$e("contact",BW);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const UW=[["rect",{width:"14",height:"14",x:"8",y:"8",rx:"2",ry:"2",key:"17jyea"}],["path",{d:"M4 16c-1.1 0-2-.9-2-2V4c0-1.1.9-2 2-2h10c1.1 0 2 .9 2 2",key:"zix9uf"}]],zW=$e("copy",UW);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const HW=[["rect",{width:"20",height:"14",x:"2",y:"5",rx:"2",key:"ynyp8z"}],["line",{x1:"2",x2:"22",y1:"10",y2:"10",key:"1b3vmo"}]],rd=$e("credit-card",HW);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const VW=[["path",{d:"M11.562 3.266a.5.5 0 0 1 .876 0L15.39 8.87a1 1 0 0 0 1.516.294L21.183 5.5a.5.5 0 0 1 .798.519l-2.834 10.246a1 1 0 0 1-.956.734H5.81a1 1 0 0 1-.957-.734L2.02 6.02a.5.5 0 0 1 .798-.519l4.276 3.664a1 1 0 0 0 1.516-.294z",key:"1vdc57"}],["path",{d:"M5 21h14",key:"11awu3"}]],pg=$e("crown",VW);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const qW=[["line",{x1:"12",x2:"12",y1:"2",y2:"22",key:"7eqyqh"}],["path",{d:"M17 5H9.5a3.5 3.5 0 0 0 0 7h5a3.5 3.5 0 0 1 0 7H6",key:"1b0p4s"}]],Yc=$e("dollar-sign",qW);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const WW=[["path",{d:"M12 15V3",key:"m9g1x1"}],["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["path",{d:"m7 10 5 5 5-5",key:"brsn70"}]],uh=$e("download",WW);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const GW=[["circle",{cx:"12",cy:"12",r:"1",key:"41hilf"}],["circle",{cx:"12",cy:"5",r:"1",key:"gxeob9"}],["circle",{cx:"12",cy:"19",r:"1",key:"lyex9k"}]],KW=$e("ellipsis-vertical",GW);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const YW=[["circle",{cx:"12",cy:"12",r:"1",key:"41hilf"}],["circle",{cx:"19",cy:"12",r:"1",key:"1wjl8i"}],["circle",{cx:"5",cy:"12",r:"1",key:"1pcz8c"}]],XW=$e("ellipsis",YW);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const QW=[["path",{d:"M10.733 5.076a10.744 10.744 0 0 1 11.205 6.575 1 1 0 0 1 0 .696 10.747 10.747 0 0 1-1.444 2.49",key:"ct8e1f"}],["path",{d:"M14.084 14.158a3 3 0 0 1-4.242-4.242",key:"151rxh"}],["path",{d:"M17.479 17.499a10.75 10.75 0 0 1-15.417-5.151 1 1 0 0 1 0-.696 10.75 10.75 0 0 1 4.446-5.143",key:"13bj9a"}],["path",{d:"m2 2 20 20",key:"1ooewy"}]],Eg=$e("eye-off",QW);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ZW=[["path",{d:"M2.062 12.348a1 1 0 0 1 0-.696 10.75 10.75 0 0 1 19.876 0 1 1 0 0 1 0 .696 10.75 10.75 0 0 1-19.876 0",key:"1nclc0"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]],gn=$e("eye",ZW);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const JW=[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"M10 9H8",key:"b1mrlr"}],["path",{d:"M16 13H8",key:"t4e002"}],["path",{d:"M16 17H8",key:"z1uh3a"}]],Is=$e("file-text",JW);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const eG=[["path",{d:"M10 20a1 1 0 0 0 .553.895l2 1A1 1 0 0 0 14 21v-7a2 2 0 0 1 .517-1.341L21.74 4.67A1 1 0 0 0 21 3H3a1 1 0 0 0-.742 1.67l7.225 7.989A2 2 0 0 1 10 14z",key:"sc7q7i"}]],q2=$e("funnel",eG);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const tG=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 2a14.5 14.5 0 0 0 0 20 14.5 14.5 0 0 0 0-20",key:"13o1zl"}],["path",{d:"M2 12h20",key:"9i4pu4"}]],ZM=$e("globe",tG);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const rG=[["circle",{cx:"9",cy:"12",r:"1",key:"1vctgf"}],["circle",{cx:"9",cy:"5",r:"1",key:"hp0tcf"}],["circle",{cx:"9",cy:"19",r:"1",key:"fkjjf6"}],["circle",{cx:"15",cy:"12",r:"1",key:"1tmaij"}],["circle",{cx:"15",cy:"5",r:"1",key:"19l28e"}],["circle",{cx:"15",cy:"19",r:"1",key:"f4zoj3"}]],nG=$e("grip-vertical",rG);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const aG=[["line",{x1:"4",x2:"20",y1:"9",y2:"9",key:"4lhtct"}],["line",{x1:"4",x2:"20",y1:"15",y2:"15",key:"vyu0kd"}],["line",{x1:"10",x2:"8",y1:"3",y2:"21",key:"1ggp8o"}],["line",{x1:"16",x2:"14",y1:"3",y2:"21",key:"weycgp"}]],sG=$e("hash",aG);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const iG=[["path",{d:"M3 14h3a2 2 0 0 1 2 2v3a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-7a9 9 0 0 1 18 0v7a2 2 0 0 1-2 2h-1a2 2 0 0 1-2-2v-3a2 2 0 0 1 2-2h3",key:"1xhozi"}]],JM=$e("headphones",iG);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const lG=[["path",{d:"M6 5v11",key:"mdvv1e"}],["path",{d:"M12 5v6",key:"14ar3b"}],["path",{d:"M18 5v14",key:"7ji314"}]],oG=$e("kanban",lG);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const cG=[["rect",{width:"7",height:"9",x:"3",y:"3",rx:"1",key:"10lvy0"}],["rect",{width:"7",height:"5",x:"14",y:"3",rx:"1",key:"16une8"}],["rect",{width:"7",height:"9",x:"14",y:"12",rx:"1",key:"1hutg5"}],["rect",{width:"7",height:"5",x:"3",y:"16",rx:"1",key:"ldoo1y"}]],uG=$e("layout-dashboard",cG);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const dG=[["path",{d:"M15 14c.2-1 .7-1.7 1.5-2.5 1-.9 1.5-2.2 1.5-3.5A6 6 0 0 0 6 8c0 1 .2 2.2 1.5 3.5.7.7 1.3 1.5 1.5 2.5",key:"1gvzjb"}],["path",{d:"M9 18h6",key:"x1upvd"}],["path",{d:"M10 22h4",key:"ceow96"}]],Ag=$e("lightbulb",dG);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const fG=[["rect",{width:"18",height:"11",x:"3",y:"11",rx:"2",ry:"2",key:"1w4ew1"}],["path",{d:"M7 11V7a5 5 0 0 1 10 0v4",key:"fwvmzm"}]],eR=$e("lock",fG);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const hG=[["path",{d:"m16 17 5-5-5-5",key:"1bji2h"}],["path",{d:"M21 12H9",key:"dn1m92"}],["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}]],mG=$e("log-out",hG);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const pG=[["path",{d:"m22 7-8.991 5.727a2 2 0 0 1-2.009 0L2 7",key:"132q7q"}],["rect",{x:"2",y:"4",width:"20",height:"16",rx:"2",key:"izxlao"}]],Wd=$e("mail",pG);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const gG=[["path",{d:"M4 12h16",key:"1lakjw"}],["path",{d:"M4 18h16",key:"19g7jn"}],["path",{d:"M4 6h16",key:"1o0s65"}]],tR=$e("menu",gG);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const xG=[["path",{d:"M7.9 20A9 9 0 1 0 4 16.1L2 22Z",key:"vv11sd"}]],Sd=$e("message-circle",xG);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const yG=[["path",{d:"M21 15a2 2 0 0 1-2 2H7l-4 4V5a2 2 0 0 1 2-2h14a2 2 0 0 1 2 2z",key:"1lielz"}]],dh=$e("message-square",yG);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const vG=[["path",{d:"M14 9a2 2 0 0 1-2 2H6l-4 4V4a2 2 0 0 1 2-2h8a2 2 0 0 1 2 2z",key:"p1xzt8"}],["path",{d:"M18 9h2a2 2 0 0 1 2 2v11l-4-4h-6a2 2 0 0 1-2-2v-1",key:"1cx29u"}]],bG=$e("messages-square",vG);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const wG=[["path",{d:"M12 19v3",key:"npa21l"}],["path",{d:"M19 10v2a7 7 0 0 1-14 0v-2",key:"1vc78b"}],["rect",{x:"9",y:"2",width:"6",height:"13",rx:"3",key:"s6n7sd"}]],dC=$e("mic",wG);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const jG=[["path",{d:"M5 12h14",key:"1ays0h"}]],NG=$e("minus",jG);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const SG=[["path",{d:"M12 3a6 6 0 0 0 9 9 9 9 0 1 1-9-9Z",key:"a7tn18"}]],kG=$e("moon",SG);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _G=[["path",{d:"m16 6-8.414 8.586a2 2 0 0 0 2.829 2.829l8.414-8.586a4 4 0 1 0-5.657-5.657l-8.379 8.551a6 6 0 1 0 8.485 8.485l8.379-8.551",key:"1miecu"}]],EG=$e("paperclip",_G);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const AG=[["rect",{x:"14",y:"4",width:"4",height:"16",rx:"1",key:"zuxfzm"}],["rect",{x:"6",y:"4",width:"4",height:"16",rx:"1",key:"1okwgv"}]],TG=$e("pause",AG);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const CG=[["path",{d:"M21.174 6.812a1 1 0 0 0-3.986-3.987L3.842 16.174a2 2 0 0 0-.5.83l-1.321 4.352a.5.5 0 0 0 .623.622l4.353-1.32a2 2 0 0 0 .83-.497z",key:"1a8usu"}]],OG=$e("pen",CG);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const DG=[["path",{d:"M13 2a9 9 0 0 1 9 9",key:"1itnx2"}],["path",{d:"M13 6a5 5 0 0 1 5 5",key:"11nki7"}],["path",{d:"M13.832 16.568a1 1 0 0 0 1.213-.303l.355-.465A2 2 0 0 1 17 15h3a2 2 0 0 1 2 2v3a2 2 0 0 1-2 2A18 18 0 0 1 2 4a2 2 0 0 1 2-2h3a2 2 0 0 1 2 2v3a2 2 0 0 1-.8 1.6l-.468.351a1 1 0 0 0-.292 1.233 14 14 0 0 0 6.392 6.384",key:"9njp5v"}]],Rp=$e("phone-call",DG);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const PG=[["path",{d:"M16 2v6h6",key:"1mfrl5"}],["path",{d:"m22 2-6 6",key:"6f0sa0"}],["path",{d:"M13.832 16.568a1 1 0 0 0 1.213-.303l.355-.465A2 2 0 0 1 17 15h3a2 2 0 0 1 2 2v3a2 2 0 0 1-2 2A18 18 0 0 1 2 4a2 2 0 0 1 2-2h3a2 2 0 0 1 2 2v3a2 2 0 0 1-.8 1.6l-.468.351a1 1 0 0 0-.292 1.233 14 14 0 0 0 6.392 6.384",key:"9njp5v"}]],MG=$e("phone-incoming",PG);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const RG=[["path",{d:"m16 8 6-6",key:"oawc05"}],["path",{d:"M22 8V2h-6",key:"oqy2zc"}],["path",{d:"M13.832 16.568a1 1 0 0 0 1.213-.303l.355-.465A2 2 0 0 1 17 15h3a2 2 0 0 1 2 2v3a2 2 0 0 1-2 2A18 18 0 0 1 2 4a2 2 0 0 1 2-2h3a2 2 0 0 1 2 2v3a2 2 0 0 1-.8 1.6l-.468.351a1 1 0 0 0-.292 1.233 14 14 0 0 0 6.392 6.384",key:"9njp5v"}]],IG=$e("phone-outgoing",RG);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const FG=[["path",{d:"M13.832 16.568a1 1 0 0 0 1.213-.303l.355-.465A2 2 0 0 1 17 15h3a2 2 0 0 1 2 2v3a2 2 0 0 1-2 2A18 18 0 0 1 2 4a2 2 0 0 1 2-2h3a2 2 0 0 1 2 2v3a2 2 0 0 1-.8 1.6l-.468.351a1 1 0 0 0-.292 1.233 14 14 0 0 0 6.392 6.384",key:"9njp5v"}]],_c=$e("phone",FG);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const LG=[["polygon",{points:"6 3 20 12 6 21 6 3",key:"1oa8hb"}]],rR=$e("play",LG);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const BG=[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]],Cr=$e("plus",BG);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $G=[["path",{d:"M3 12a9 9 0 0 1 9-9 9.75 9.75 0 0 1 6.74 2.74L21 8",key:"v9h5vc"}],["path",{d:"M21 3v5h-5",key:"1q7to0"}],["path",{d:"M21 12a9 9 0 0 1-9 9 9.75 9.75 0 0 1-6.74-2.74L3 16",key:"3uifl3"}],["path",{d:"M8 16H3v5",key:"1cv678"}]],Ds=$e("refresh-cw",$G);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const UG=[["path",{d:"M20 18v-2a4 4 0 0 0-4-4H4",key:"5vmcpk"}],["path",{d:"m9 17-5-5 5-5",key:"nvlc11"}]],zG=$e("reply",UG);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const HG=[["path",{d:"M4.5 16.5c-1.5 1.26-2 5-2 5s3.74-.5 5-2c.71-.84.7-2.13-.09-2.91a2.18 2.18 0 0 0-2.91-.09z",key:"m3kijz"}],["path",{d:"m12 15-3-3a22 22 0 0 1 2-3.95A12.88 12.88 0 0 1 22 2c0 2.72-.78 7.5-6 11a22.35 22.35 0 0 1-4 2z",key:"1fmvmk"}],["path",{d:"M9 12H4s.55-3.03 2-4c1.62-1.08 5 0 5 0",key:"1f8sc4"}],["path",{d:"M12 15v5s3.03-.55 4-2c1.08-1.62 0-5 0-5",key:"qeys4"}]],fC=$e("rocket",HG);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const VG=[["path",{d:"m21 21-4.34-4.34",key:"14j7rj"}],["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}]],fi=$e("search",VG);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const qG=[["path",{d:"M14.536 21.686a.5.5 0 0 0 .937-.024l6.5-19a.496.496 0 0 0-.635-.635l-19 6.5a.5.5 0 0 0-.024.937l7.93 3.18a2 2 0 0 1 1.112 1.11z",key:"1ffxy3"}],["path",{d:"m21.854 2.147-10.94 10.939",key:"12cjpa"}]],Xc=$e("send",qG);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const WG=[["path",{d:"M12.22 2h-.44a2 2 0 0 0-2 2v.18a2 2 0 0 1-1 1.73l-.43.25a2 2 0 0 1-2 0l-.15-.08a2 2 0 0 0-2.73.73l-.22.38a2 2 0 0 0 .73 2.73l.15.1a2 2 0 0 1 1 1.72v.51a2 2 0 0 1-1 1.74l-.15.09a2 2 0 0 0-.73 2.73l.22.38a2 2 0 0 0 2.73.73l.15-.08a2 2 0 0 1 2 0l.43.25a2 2 0 0 1 1 1.73V20a2 2 0 0 0 2 2h.44a2 2 0 0 0 2-2v-.18a2 2 0 0 1 1-1.73l.43-.25a2 2 0 0 1 2 0l.15.08a2 2 0 0 0 2.73-.73l.22-.39a2 2 0 0 0-.73-2.73l-.15-.08a2 2 0 0 1-1-1.74v-.5a2 2 0 0 1 1-1.74l.15-.09a2 2 0 0 0 .73-2.73l-.22-.38a2 2 0 0 0-2.73-.73l-.15.08a2 2 0 0 1-2 0l-.43-.25a2 2 0 0 1-1-1.73V4a2 2 0 0 0-2-2z",key:"1qme2f"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]],Fs=$e("settings",WG);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const GG=[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}]],zN=$e("shield",GG);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const KG=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M8 14s1.5 2 4 2 4-2 4-2",key:"1y1vjs"}],["line",{x1:"9",x2:"9.01",y1:"9",y2:"9",key:"yxxnd0"}],["line",{x1:"15",x2:"15.01",y1:"9",y2:"9",key:"1p4y9e"}]],YG=$e("smile",KG);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const XG=[["path",{d:"M9.937 15.5A2 2 0 0 0 8.5 14.063l-6.135-1.582a.5.5 0 0 1 0-.962L8.5 9.936A2 2 0 0 0 9.937 8.5l1.582-6.135a.5.5 0 0 1 .963 0L14.063 8.5A2 2 0 0 0 15.5 9.937l6.135 1.581a.5.5 0 0 1 0 .964L15.5 14.063a2 2 0 0 0-1.437 1.437l-1.582 6.135a.5.5 0 0 1-.963 0z",key:"4pj2yx"}],["path",{d:"M20 3v4",key:"1olli1"}],["path",{d:"M22 5h-4",key:"1gvqau"}],["path",{d:"M4 17v2",key:"vumght"}],["path",{d:"M5 18H3",key:"zchphs"}]],fh=$e("sparkles",XG);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const QG=[["path",{d:"M21 10.656V19a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h12.344",key:"2acyp4"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]],nR=$e("square-check-big",QG);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ZG=[["path",{d:"M12 3H5a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7",key:"1m0v6g"}],["path",{d:"M18.375 2.625a1 1 0 0 1 3 3l-9.013 9.014a2 2 0 0 1-.853.505l-2.873.84a.5.5 0 0 1-.62-.62l.84-2.873a2 2 0 0 1 .506-.852z",key:"ohrbg2"}]],Wx=$e("square-pen",ZG);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const JG=[["path",{d:"M11.525 2.295a.53.53 0 0 1 .95 0l2.31 4.679a2.123 2.123 0 0 0 1.595 1.16l5.166.756a.53.53 0 0 1 .294.904l-3.736 3.638a2.123 2.123 0 0 0-.611 1.878l.882 5.14a.53.53 0 0 1-.771.56l-4.618-2.428a2.122 2.122 0 0 0-1.973 0L6.396 21.01a.53.53 0 0 1-.77-.56l.881-5.139a2.122 2.122 0 0 0-.611-1.879L2.16 9.795a.53.53 0 0 1 .294-.906l5.165-.755a2.122 2.122 0 0 0 1.597-1.16z",key:"r04s7s"}]],W2=$e("star",JG);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const eK=[["circle",{cx:"12",cy:"12",r:"4",key:"4exip2"}],["path",{d:"M12 2v2",key:"tus03m"}],["path",{d:"M12 20v2",key:"1lh1kg"}],["path",{d:"m4.93 4.93 1.41 1.41",key:"149t6j"}],["path",{d:"m17.66 17.66 1.41 1.41",key:"ptbguv"}],["path",{d:"M2 12h2",key:"1t8f8n"}],["path",{d:"M20 12h2",key:"1q8mjw"}],["path",{d:"m6.34 17.66-1.41 1.41",key:"1m8zz5"}],["path",{d:"m19.07 4.93-1.41 1.41",key:"1shlcs"}]],tK=$e("sun",eK);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const rK=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["circle",{cx:"12",cy:"12",r:"6",key:"1vlfrh"}],["circle",{cx:"12",cy:"12",r:"2",key:"1c9p78"}]],Aa=$e("target",rK);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const nK=[["path",{d:"M7 10v12",key:"1qc93n"}],["path",{d:"M15 5.88 14 10h5.83a2 2 0 0 1 1.92 2.56l-2.33 8A2 2 0 0 1 17.5 22H4a2 2 0 0 1-2-2v-8a2 2 0 0 1 2-2h2.76a2 2 0 0 0 1.79-1.11L12 2a3.13 3.13 0 0 1 3 3.88Z",key:"emmmcr"}]],aK=$e("thumbs-up",nK);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const sK=[["path",{d:"M2 9a3 3 0 0 1 0 6v2a2 2 0 0 0 2 2h16a2 2 0 0 0 2-2v-2a3 3 0 0 1 0-6V7a2 2 0 0 0-2-2H4a2 2 0 0 0-2 2Z",key:"qn84l0"}],["path",{d:"M13 5v2",key:"dyzc3o"}],["path",{d:"M13 17v2",key:"1ont0d"}],["path",{d:"M13 11v2",key:"1wjjxi"}]],$0=$e("ticket",sK);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const iK=[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17",key:"1uufr5"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17",key:"xtxkd"}]],Mi=$e("trash-2",iK);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const lK=[["path",{d:"M16 17h6v-6",key:"t6n2it"}],["path",{d:"m22 17-8.5-8.5-5 5L2 7",key:"x473p"}]],aR=$e("trending-down",lK);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const oK=[["path",{d:"M16 7h6v6",key:"box55l"}],["path",{d:"m22 7-8.5 8.5-5-5L2 17",key:"1t1m79"}]],Vr=$e("trending-up",oK);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const cK=[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3",key:"wmoenq"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]],bl=$e("triangle-alert",cK);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const uK=[["path",{d:"m16 11 2 2 4-4",key:"9rsbq5"}],["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}]],sR=$e("user-check",uK);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const dK=[["path",{d:"M10 15H6a4 4 0 0 0-4 4v2",key:"1nfge6"}],["path",{d:"m14.305 16.53.923-.382",key:"1itpsq"}],["path",{d:"m15.228 13.852-.923-.383",key:"eplpkm"}],["path",{d:"m16.852 12.228-.383-.923",key:"13v3q0"}],["path",{d:"m16.852 17.772-.383.924",key:"1i8mnm"}],["path",{d:"m19.148 12.228.383-.923",key:"1q8j1v"}],["path",{d:"m19.53 18.696-.382-.924",key:"vk1qj3"}],["path",{d:"m20.772 13.852.924-.383",key:"n880s0"}],["path",{d:"m20.772 16.148.924.383",key:"1g6xey"}],["circle",{cx:"18",cy:"15",r:"3",key:"gjjjvw"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}]],fK=$e("user-cog",dK);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const hK=[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["line",{x1:"19",x2:"19",y1:"8",y2:"14",key:"1bvyxn"}],["line",{x1:"22",x2:"16",y1:"11",y2:"11",key:"1shjgl"}]],Gx=$e("user-plus",hK);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const mK=[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]],Gd=$e("user",mK);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const pK=[["path",{d:"M18 21a8 8 0 0 0-16 0",key:"3ypg7q"}],["circle",{cx:"10",cy:"8",r:"5",key:"o932ke"}],["path",{d:"M22 20c0-3.37-2-6.5-4-8a5 5 0 0 0-.45-8.3",key:"10s06x"}]],gK=$e("users-round",pK);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const xK=[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["path",{d:"M16 3.128a4 4 0 0 1 0 7.744",key:"16gr8j"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}]],jr=$e("users",xK);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const yK=[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]],Tr=$e("x",yK);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const vK=[["path",{d:"M4 14a1 1 0 0 1-.78-1.63l9.9-10.2a.5.5 0 0 1 .86.46l-1.92 6.02A1 1 0 0 0 13 10h7a1 1 0 0 1 .78 1.63l-9.9 10.2a.5.5 0 0 1-.86-.46l1.92-6.02A1 1 0 0 0 11 14z",key:"1xq2db"}]],Qc=$e("zap",vK),bK="/assets/NeuraCRM--QfIME8Q.png",iR=v.createContext({});function wK(e){const t=v.useRef(null);return t.current===null&&(t.current=e()),t.current}const HN=typeof window<"u",jK=HN?v.useLayoutEffect:v.useEffect,VN=v.createContext(null);function qN(e,t){e.indexOf(t)===-1&&e.push(t)}function WN(e,t){const r=e.indexOf(t);r>-1&&e.splice(r,1)}const wl=(e,t,r)=>r>t?t:r<e?e:r;let GN=()=>{};const jl={},lR=e=>/^-?(?:\d+(?:\.\d+)?|\.\d+)$/u.test(e);function oR(e){return typeof e=="object"&&e!==null}const cR=e=>/^0[^.\s]+$/u.test(e);function KN(e){let t;return()=>(t===void 0&&(t=e()),t)}const $s=e=>e,NK=(e,t)=>r=>t(e(r)),Xh=(...e)=>e.reduce(NK),hh=(e,t,r)=>{const n=t-e;return n===0?1:(r-e)/n};class YN{constructor(){this.subscriptions=[]}add(t){return qN(this.subscriptions,t),()=>WN(this.subscriptions,t)}notify(t,r,n){const a=this.subscriptions.length;if(a)if(a===1)this.subscriptions[0](t,r,n);else for(let i=0;i<a;i++){const l=this.subscriptions[i];l&&l(t,r,n)}}getSize(){return this.subscriptions.length}clear(){this.subscriptions.length=0}}const Ci=e=>e*1e3,Oi=e=>e/1e3;function uR(e,t){return t?e*(1e3/t):0}const dR=(e,t,r)=>(((1-3*r+3*t)*e+(3*r-6*t))*e+3*t)*e,SK=1e-7,kK=12;function _K(e,t,r,n,a){let i,l,c=0;do l=t+(r-t)/2,i=dR(l,n,a)-e,i>0?r=l:t=l;while(Math.abs(i)>SK&&++c<kK);return l}function Qh(e,t,r,n){if(e===t&&r===n)return $s;const a=i=>_K(i,0,1,e,r);return i=>i===0||i===1?i:dR(a(i),t,n)}const fR=e=>t=>t<=.5?e(2*t)/2:(2-e(2*(1-t)))/2,hR=e=>t=>1-e(1-t),mR=Qh(.33,1.53,.69,.99),XN=hR(mR),pR=fR(XN),gR=e=>(e*=2)<1?.5*XN(e):.5*(2-Math.pow(2,-10*(e-1))),QN=e=>1-Math.sin(Math.acos(e)),xR=hR(QN),yR=fR(QN),EK=Qh(.42,0,1,1),AK=Qh(0,0,.58,1),vR=Qh(.42,0,.58,1),TK=e=>Array.isArray(e)&&typeof e[0]!="number",bR=e=>Array.isArray(e)&&typeof e[0]=="number",CK={linear:$s,easeIn:EK,easeInOut:vR,easeOut:AK,circIn:QN,circInOut:yR,circOut:xR,backIn:XN,backInOut:pR,backOut:mR,anticipate:gR},OK=e=>typeof e=="string",hC=e=>{if(bR(e)){GN(e.length===4);const[t,r,n,a]=e;return Qh(t,r,n,a)}else if(OK(e))return CK[e];return e},Ip=["setup","read","resolveKeyframes","preUpdate","update","preRender","render","postRender"];function DK(e,t){let r=new Set,n=new Set,a=!1,i=!1;const l=new WeakSet;let c={delta:0,timestamp:0,isProcessing:!1};function d(h){l.has(h)&&(f.schedule(h),e()),h(c)}const f={schedule:(h,p=!1,g=!1)=>{const b=g&&a?r:n;return p&&l.add(h),b.has(h)||b.add(h),h},cancel:h=>{n.delete(h),l.delete(h)},process:h=>{if(c=h,a){i=!0;return}a=!0,[r,n]=[n,r],r.forEach(d),r.clear(),a=!1,i&&(i=!1,f.process(h))}};return f}const PK=40;function wR(e,t){let r=!1,n=!0;const a={delta:0,timestamp:0,isProcessing:!1},i=()=>r=!0,l=Ip.reduce((E,T)=>(E[T]=DK(i),E),{}),{setup:c,read:d,resolveKeyframes:f,preUpdate:h,update:p,preRender:g,render:y,postRender:b}=l,w=()=>{const E=jl.useManualTiming?a.timestamp:performance.now();r=!1,jl.useManualTiming||(a.delta=n?1e3/60:Math.max(Math.min(E-a.timestamp,PK),1)),a.timestamp=E,a.isProcessing=!0,c.process(a),d.process(a),f.process(a),h.process(a),p.process(a),g.process(a),y.process(a),b.process(a),a.isProcessing=!1,r&&t&&(n=!1,e(w))},j=()=>{r=!0,n=!0,a.isProcessing||e(w)};return{schedule:Ip.reduce((E,T)=>{const A=l[T];return E[T]=(C,O=!1,P=!1)=>(r||j(),A.schedule(C,O,P)),E},{}),cancel:E=>{for(let T=0;T<Ip.length;T++)l[Ip[T]].cancel(E)},state:a,steps:l}}const{schedule:Or,cancel:To,state:$n,steps:d1}=wR(typeof requestAnimationFrame<"u"?requestAnimationFrame:$s,!0);let gg;function MK(){gg=void 0}const Ta={now:()=>(gg===void 0&&Ta.set($n.isProcessing||jl.useManualTiming?$n.timestamp:performance.now()),gg),set:e=>{gg=e,queueMicrotask(MK)}},jR=e=>t=>typeof t=="string"&&t.startsWith(e),ZN=jR("--"),RK=jR("var(--"),JN=e=>RK(e)?IK.test(e.split("/*")[0].trim()):!1,IK=/var\(--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)$/iu,Kd={test:e=>typeof e=="number",parse:parseFloat,transform:e=>e},mh={...Kd,transform:e=>wl(0,1,e)},Fp={...Kd,default:1},U0=e=>Math.round(e*1e5)/1e5,eS=/-?(?:\d+(?:\.\d+)?|\.\d+)/gu;function FK(e){return e==null}const LK=/^(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))$/iu,tS=(e,t)=>r=>!!(typeof r=="string"&&LK.test(r)&&r.startsWith(e)||t&&!FK(r)&&Object.prototype.hasOwnProperty.call(r,t)),NR=(e,t,r)=>n=>{if(typeof n!="string")return n;const[a,i,l,c]=n.match(eS);return{[e]:parseFloat(a),[t]:parseFloat(i),[r]:parseFloat(l),alpha:c!==void 0?parseFloat(c):1}},BK=e=>wl(0,255,e),f1={...Kd,transform:e=>Math.round(BK(e))},Tc={test:tS("rgb","red"),parse:NR("red","green","blue"),transform:({red:e,green:t,blue:r,alpha:n=1})=>"rgba("+f1.transform(e)+", "+f1.transform(t)+", "+f1.transform(r)+", "+U0(mh.transform(n))+")"};function $K(e){let t="",r="",n="",a="";return e.length>5?(t=e.substring(1,3),r=e.substring(3,5),n=e.substring(5,7),a=e.substring(7,9)):(t=e.substring(1,2),r=e.substring(2,3),n=e.substring(3,4),a=e.substring(4,5),t+=t,r+=r,n+=n,a+=a),{red:parseInt(t,16),green:parseInt(r,16),blue:parseInt(n,16),alpha:a?parseInt(a,16)/255:1}}const G2={test:tS("#"),parse:$K,transform:Tc.transform},Zh=e=>({test:t=>typeof t=="string"&&t.endsWith(e)&&t.split(" ").length===1,parse:parseFloat,transform:t=>`${t}${e}`}),fo=Zh("deg"),Di=Zh("%"),mt=Zh("px"),UK=Zh("vh"),zK=Zh("vw"),mC={...Di,parse:e=>Di.parse(e)/100,transform:e=>Di.transform(e*100)},id={test:tS("hsl","hue"),parse:NR("hue","saturation","lightness"),transform:({hue:e,saturation:t,lightness:r,alpha:n=1})=>"hsla("+Math.round(e)+", "+Di.transform(U0(t))+", "+Di.transform(U0(r))+", "+U0(mh.transform(n))+")"},sn={test:e=>Tc.test(e)||G2.test(e)||id.test(e),parse:e=>Tc.test(e)?Tc.parse(e):id.test(e)?id.parse(e):G2.parse(e),transform:e=>typeof e=="string"?e:e.hasOwnProperty("red")?Tc.transform(e):id.transform(e),getAnimatableNone:e=>{const t=sn.parse(e);return t.alpha=0,sn.transform(t)}},HK=/(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))/giu;function VK(e){return isNaN(e)&&typeof e=="string"&&(e.match(eS)?.length||0)+(e.match(HK)?.length||0)>0}const SR="number",kR="color",qK="var",WK="var(",pC="${}",GK=/var\s*\(\s*--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)|#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\)|-?(?:\d+(?:\.\d+)?|\.\d+)/giu;function ph(e){const t=e.toString(),r=[],n={color:[],number:[],var:[]},a=[];let i=0;const c=t.replace(GK,d=>(sn.test(d)?(n.color.push(i),a.push(kR),r.push(sn.parse(d))):d.startsWith(WK)?(n.var.push(i),a.push(qK),r.push(d)):(n.number.push(i),a.push(SR),r.push(parseFloat(d))),++i,pC)).split(pC);return{values:r,split:c,indexes:n,types:a}}function _R(e){return ph(e).values}function ER(e){const{split:t,types:r}=ph(e),n=t.length;return a=>{let i="";for(let l=0;l<n;l++)if(i+=t[l],a[l]!==void 0){const c=r[l];c===SR?i+=U0(a[l]):c===kR?i+=sn.transform(a[l]):i+=a[l]}return i}}const KK=e=>typeof e=="number"?0:sn.test(e)?sn.getAnimatableNone(e):e;function YK(e){const t=_R(e);return ER(e)(t.map(KK))}const Co={test:VK,parse:_R,createTransformer:ER,getAnimatableNone:YK};function h1(e,t,r){return r<0&&(r+=1),r>1&&(r-=1),r<1/6?e+(t-e)*6*r:r<1/2?t:r<2/3?e+(t-e)*(2/3-r)*6:e}function XK({hue:e,saturation:t,lightness:r,alpha:n}){e/=360,t/=100,r/=100;let a=0,i=0,l=0;if(!t)a=i=l=r;else{const c=r<.5?r*(1+t):r+t-r*t,d=2*r-c;a=h1(d,c,e+1/3),i=h1(d,c,e),l=h1(d,c,e-1/3)}return{red:Math.round(a*255),green:Math.round(i*255),blue:Math.round(l*255),alpha:n}}function Tg(e,t){return r=>r>0?t:e}const Fr=(e,t,r)=>e+(t-e)*r,m1=(e,t,r)=>{const n=e*e,a=r*(t*t-n)+n;return a<0?0:Math.sqrt(a)},QK=[G2,Tc,id],ZK=e=>QK.find(t=>t.test(e));function gC(e){const t=ZK(e);if(!t)return!1;let r=t.parse(e);return t===id&&(r=XK(r)),r}const xC=(e,t)=>{const r=gC(e),n=gC(t);if(!r||!n)return Tg(e,t);const a={...r};return i=>(a.red=m1(r.red,n.red,i),a.green=m1(r.green,n.green,i),a.blue=m1(r.blue,n.blue,i),a.alpha=Fr(r.alpha,n.alpha,i),Tc.transform(a))},K2=new Set(["none","hidden"]);function JK(e,t){return K2.has(e)?r=>r<=0?e:t:r=>r>=1?t:e}function eY(e,t){return r=>Fr(e,t,r)}function rS(e){return typeof e=="number"?eY:typeof e=="string"?JN(e)?Tg:sn.test(e)?xC:nY:Array.isArray(e)?AR:typeof e=="object"?sn.test(e)?xC:tY:Tg}function AR(e,t){const r=[...e],n=r.length,a=e.map((i,l)=>rS(i)(i,t[l]));return i=>{for(let l=0;l<n;l++)r[l]=a[l](i);return r}}function tY(e,t){const r={...e,...t},n={};for(const a in r)e[a]!==void 0&&t[a]!==void 0&&(n[a]=rS(e[a])(e[a],t[a]));return a=>{for(const i in n)r[i]=n[i](a);return r}}function rY(e,t){const r=[],n={color:0,var:0,number:0};for(let a=0;a<t.values.length;a++){const i=t.types[a],l=e.indexes[i][n[i]],c=e.values[l]??0;r[a]=c,n[i]++}return r}const nY=(e,t)=>{const r=Co.createTransformer(t),n=ph(e),a=ph(t);return n.indexes.var.length===a.indexes.var.length&&n.indexes.color.length===a.indexes.color.length&&n.indexes.number.length>=a.indexes.number.length?K2.has(e)&&!a.values.length||K2.has(t)&&!n.values.length?JK(e,t):Xh(AR(rY(n,a),a.values),r):Tg(e,t)};function TR(e,t,r){return typeof e=="number"&&typeof t=="number"&&typeof r=="number"?Fr(e,t,r):rS(e)(e,t)}const aY=e=>{const t=({timestamp:r})=>e(r);return{start:(r=!0)=>Or.update(t,r),stop:()=>To(t),now:()=>$n.isProcessing?$n.timestamp:Ta.now()}},CR=(e,t,r=10)=>{let n="";const a=Math.max(Math.round(t/r),2);for(let i=0;i<a;i++)n+=Math.round(e(i/(a-1))*1e4)/1e4+", ";return`linear(${n.substring(0,n.length-2)})`},Cg=2e4;function nS(e){let t=0;const r=50;let n=e.next(t);for(;!n.done&&t<Cg;)t+=r,n=e.next(t);return t>=Cg?1/0:t}function sY(e,t=100,r){const n=r({...e,keyframes:[0,t]}),a=Math.min(nS(n),Cg);return{type:"keyframes",ease:i=>n.next(a*i).value/t,duration:Oi(a)}}const iY=5;function OR(e,t,r){const n=Math.max(t-iY,0);return uR(r-e(n),t-n)}const $r={stiffness:100,damping:10,mass:1,velocity:0,duration:800,bounce:.3,visualDuration:.3,restSpeed:{granular:.01,default:2},restDelta:{granular:.005,default:.5},minDuration:.01,maxDuration:10,minDamping:.05,maxDamping:1},p1=.001;function lY({duration:e=$r.duration,bounce:t=$r.bounce,velocity:r=$r.velocity,mass:n=$r.mass}){let a,i,l=1-t;l=wl($r.minDamping,$r.maxDamping,l),e=wl($r.minDuration,$r.maxDuration,Oi(e)),l<1?(a=f=>{const h=f*l,p=h*e,g=h-r,y=Y2(f,l),b=Math.exp(-p);return p1-g/y*b},i=f=>{const p=f*l*e,g=p*r+r,y=Math.pow(l,2)*Math.pow(f,2)*e,b=Math.exp(-p),w=Y2(Math.pow(f,2),l);return(-a(f)+p1>0?-1:1)*((g-y)*b)/w}):(a=f=>{const h=Math.exp(-f*e),p=(f-r)*e+1;return-p1+h*p},i=f=>{const h=Math.exp(-f*e),p=(r-f)*(e*e);return h*p});const c=5/e,d=cY(a,i,c);if(e=Ci(e),isNaN(d))return{stiffness:$r.stiffness,damping:$r.damping,duration:e};{const f=Math.pow(d,2)*n;return{stiffness:f,damping:l*2*Math.sqrt(n*f),duration:e}}}const oY=12;function cY(e,t,r){let n=r;for(let a=1;a<oY;a++)n=n-e(n)/t(n);return n}function Y2(e,t){return e*Math.sqrt(1-t*t)}const uY=["duration","bounce"],dY=["stiffness","damping","mass"];function yC(e,t){return t.some(r=>e[r]!==void 0)}function fY(e){let t={velocity:$r.velocity,stiffness:$r.stiffness,damping:$r.damping,mass:$r.mass,isResolvedFromDuration:!1,...e};if(!yC(e,dY)&&yC(e,uY))if(e.visualDuration){const r=e.visualDuration,n=2*Math.PI/(r*1.2),a=n*n,i=2*wl(.05,1,1-(e.bounce||0))*Math.sqrt(a);t={...t,mass:$r.mass,stiffness:a,damping:i}}else{const r=lY(e);t={...t,...r,mass:$r.mass},t.isResolvedFromDuration=!0}return t}function Og(e=$r.visualDuration,t=$r.bounce){const r=typeof e!="object"?{visualDuration:e,keyframes:[0,1],bounce:t}:e;let{restSpeed:n,restDelta:a}=r;const i=r.keyframes[0],l=r.keyframes[r.keyframes.length-1],c={done:!1,value:i},{stiffness:d,damping:f,mass:h,duration:p,velocity:g,isResolvedFromDuration:y}=fY({...r,velocity:-Oi(r.velocity||0)}),b=g||0,w=f/(2*Math.sqrt(d*h)),j=l-i,S=Oi(Math.sqrt(d/h)),_=Math.abs(j)<5;n||(n=_?$r.restSpeed.granular:$r.restSpeed.default),a||(a=_?$r.restDelta.granular:$r.restDelta.default);let E;if(w<1){const A=Y2(S,w);E=C=>{const O=Math.exp(-w*S*C);return l-O*((b+w*S*j)/A*Math.sin(A*C)+j*Math.cos(A*C))}}else if(w===1)E=A=>l-Math.exp(-S*A)*(j+(b+S*j)*A);else{const A=S*Math.sqrt(w*w-1);E=C=>{const O=Math.exp(-w*S*C),P=Math.min(A*C,300);return l-O*((b+w*S*j)*Math.sinh(P)+A*j*Math.cosh(P))/A}}const T={calculatedDuration:y&&p||null,next:A=>{const C=E(A);if(y)c.done=A>=p;else{let O=A===0?b:0;w<1&&(O=A===0?Ci(b):OR(E,A,C));const P=Math.abs(O)<=n,F=Math.abs(l-C)<=a;c.done=P&&F}return c.value=c.done?l:C,c},toString:()=>{const A=Math.min(nS(T),Cg),C=CR(O=>T.next(A*O).value,A,30);return A+"ms "+C},toTransition:()=>{}};return T}Og.applyToOptions=e=>{const t=sY(e,100,Og);return e.ease=t.ease,e.duration=Ci(t.duration),e.type="keyframes",e};function X2({keyframes:e,velocity:t=0,power:r=.8,timeConstant:n=325,bounceDamping:a=10,bounceStiffness:i=500,modifyTarget:l,min:c,max:d,restDelta:f=.5,restSpeed:h}){const p=e[0],g={done:!1,value:p},y=P=>c!==void 0&&P<c||d!==void 0&&P>d,b=P=>c===void 0?d:d===void 0||Math.abs(c-P)<Math.abs(d-P)?c:d;let w=r*t;const j=p+w,S=l===void 0?j:l(j);S!==j&&(w=S-p);const _=P=>-w*Math.exp(-P/n),E=P=>S+_(P),T=P=>{const F=_(P),G=E(P);g.done=Math.abs(F)<=f,g.value=g.done?S:G};let A,C;const O=P=>{y(g.value)&&(A=P,C=Og({keyframes:[g.value,b(g.value)],velocity:OR(E,P,g.value),damping:a,stiffness:i,restDelta:f,restSpeed:h}))};return O(0),{calculatedDuration:null,next:P=>{let F=!1;return!C&&A===void 0&&(F=!0,T(P),O(P)),A!==void 0&&P>=A?C.next(P-A):(!F&&T(P),g)}}}function hY(e,t,r){const n=[],a=r||jl.mix||TR,i=e.length-1;for(let l=0;l<i;l++){let c=a(e[l],e[l+1]);if(t){const d=Array.isArray(t)?t[l]||$s:t;c=Xh(d,c)}n.push(c)}return n}function mY(e,t,{clamp:r=!0,ease:n,mixer:a}={}){const i=e.length;if(GN(i===t.length),i===1)return()=>t[0];if(i===2&&t[0]===t[1])return()=>t[1];const l=e[0]===e[1];e[0]>e[i-1]&&(e=[...e].reverse(),t=[...t].reverse());const c=hY(t,n,a),d=c.length,f=h=>{if(l&&h<e[0])return t[0];let p=0;if(d>1)for(;p<e.length-2&&!(h<e[p+1]);p++);const g=hh(e[p],e[p+1],h);return c[p](g)};return r?h=>f(wl(e[0],e[i-1],h)):f}function pY(e,t){const r=e[e.length-1];for(let n=1;n<=t;n++){const a=hh(0,t,n);e.push(Fr(r,1,a))}}function gY(e){const t=[0];return pY(t,e.length-1),t}function xY(e,t){return e.map(r=>r*t)}function yY(e,t){return e.map(()=>t||vR).splice(0,e.length-1)}function z0({duration:e=300,keyframes:t,times:r,ease:n="easeInOut"}){const a=TK(n)?n.map(hC):hC(n),i={done:!1,value:t[0]},l=xY(r&&r.length===t.length?r:gY(t),e),c=mY(l,t,{ease:Array.isArray(a)?a:yY(t,a)});return{calculatedDuration:e,next:d=>(i.value=c(d),i.done=d>=e,i)}}const vY=e=>e!==null;function aS(e,{repeat:t,repeatType:r="loop"},n,a=1){const i=e.filter(vY),c=a<0||t&&r!=="loop"&&t%2===1?0:i.length-1;return!c||n===void 0?i[c]:n}const bY={decay:X2,inertia:X2,tween:z0,keyframes:z0,spring:Og};function DR(e){typeof e.type=="string"&&(e.type=bY[e.type])}class sS{constructor(){this.updateFinished()}get finished(){return this._finished}updateFinished(){this._finished=new Promise(t=>{this.resolve=t})}notifyFinished(){this.resolve()}then(t,r){return this.finished.then(t,r)}}const wY=e=>e/100;class iS extends sS{constructor(t){super(),this.state="idle",this.startTime=null,this.isStopped=!1,this.currentTime=0,this.holdTime=null,this.playbackSpeed=1,this.stop=()=>{const{motionValue:r}=this.options;r&&r.updatedAt!==Ta.now()&&this.tick(Ta.now()),this.isStopped=!0,this.state!=="idle"&&(this.teardown(),this.options.onStop?.())},this.options=t,this.initAnimation(),this.play(),t.autoplay===!1&&this.pause()}initAnimation(){const{options:t}=this;DR(t);const{type:r=z0,repeat:n=0,repeatDelay:a=0,repeatType:i,velocity:l=0}=t;let{keyframes:c}=t;const d=r||z0;d!==z0&&typeof c[0]!="number"&&(this.mixKeyframes=Xh(wY,TR(c[0],c[1])),c=[0,100]);const f=d({...t,keyframes:c});i==="mirror"&&(this.mirroredGenerator=d({...t,keyframes:[...c].reverse(),velocity:-l})),f.calculatedDuration===null&&(f.calculatedDuration=nS(f));const{calculatedDuration:h}=f;this.calculatedDuration=h,this.resolvedDuration=h+a,this.totalDuration=this.resolvedDuration*(n+1)-a,this.generator=f}updateTime(t){const r=Math.round(t-this.startTime)*this.playbackSpeed;this.holdTime!==null?this.currentTime=this.holdTime:this.currentTime=r}tick(t,r=!1){const{generator:n,totalDuration:a,mixKeyframes:i,mirroredGenerator:l,resolvedDuration:c,calculatedDuration:d}=this;if(this.startTime===null)return n.next(0);const{delay:f=0,keyframes:h,repeat:p,repeatType:g,repeatDelay:y,type:b,onUpdate:w,finalKeyframe:j}=this.options;this.speed>0?this.startTime=Math.min(this.startTime,t):this.speed<0&&(this.startTime=Math.min(t-a/this.speed,this.startTime)),r?this.currentTime=t:this.updateTime(t);const S=this.currentTime-f*(this.playbackSpeed>=0?1:-1),_=this.playbackSpeed>=0?S<0:S>a;this.currentTime=Math.max(S,0),this.state==="finished"&&this.holdTime===null&&(this.currentTime=a);let E=this.currentTime,T=n;if(p){const P=Math.min(this.currentTime,a)/c;let F=Math.floor(P),G=P%1;!G&&P>=1&&(G=1),G===1&&F--,F=Math.min(F,p+1),!!(F%2)&&(g==="reverse"?(G=1-G,y&&(G-=y/c)):g==="mirror"&&(T=l)),E=wl(0,1,G)*c}const A=_?{done:!1,value:h[0]}:T.next(E);i&&(A.value=i(A.value));let{done:C}=A;!_&&d!==null&&(C=this.playbackSpeed>=0?this.currentTime>=a:this.currentTime<=0);const O=this.holdTime===null&&(this.state==="finished"||this.state==="running"&&C);return O&&b!==X2&&(A.value=aS(h,this.options,j,this.speed)),w&&w(A.value),O&&this.finish(),A}then(t,r){return this.finished.then(t,r)}get duration(){return Oi(this.calculatedDuration)}get time(){return Oi(this.currentTime)}set time(t){t=Ci(t),this.currentTime=t,this.startTime===null||this.holdTime!==null||this.playbackSpeed===0?this.holdTime=t:this.driver&&(this.startTime=this.driver.now()-t/this.playbackSpeed),this.driver?.start(!1)}get speed(){return this.playbackSpeed}set speed(t){this.updateTime(Ta.now());const r=this.playbackSpeed!==t;this.playbackSpeed=t,r&&(this.time=Oi(this.currentTime))}play(){if(this.isStopped)return;const{driver:t=aY,startTime:r}=this.options;this.driver||(this.driver=t(a=>this.tick(a))),this.options.onPlay?.();const n=this.driver.now();this.state==="finished"?(this.updateFinished(),this.startTime=n):this.holdTime!==null?this.startTime=n-this.holdTime:this.startTime||(this.startTime=r??n),this.state==="finished"&&this.speed<0&&(this.startTime+=this.calculatedDuration),this.holdTime=null,this.state="running",this.driver.start()}pause(){this.state="paused",this.updateTime(Ta.now()),this.holdTime=this.currentTime}complete(){this.state!=="running"&&this.play(),this.state="finished",this.holdTime=null}finish(){this.notifyFinished(),this.teardown(),this.state="finished",this.options.onComplete?.()}cancel(){this.holdTime=null,this.startTime=0,this.tick(0),this.teardown(),this.options.onCancel?.()}teardown(){this.state="idle",this.stopDriver(),this.startTime=this.holdTime=null}stopDriver(){this.driver&&(this.driver.stop(),this.driver=void 0)}sample(t){return this.startTime=0,this.tick(t,!0)}attachTimeline(t){return this.options.allowFlatten&&(this.options.type="keyframes",this.options.ease="linear",this.initAnimation()),this.driver?.stop(),t.observe(this)}}function jY(e){for(let t=1;t<e.length;t++)e[t]??(e[t]=e[t-1])}const Cc=e=>e*180/Math.PI,Q2=e=>{const t=Cc(Math.atan2(e[1],e[0]));return Z2(t)},NY={x:4,y:5,translateX:4,translateY:5,scaleX:0,scaleY:3,scale:e=>(Math.abs(e[0])+Math.abs(e[3]))/2,rotate:Q2,rotateZ:Q2,skewX:e=>Cc(Math.atan(e[1])),skewY:e=>Cc(Math.atan(e[2])),skew:e=>(Math.abs(e[1])+Math.abs(e[2]))/2},Z2=e=>(e=e%360,e<0&&(e+=360),e),vC=Q2,bC=e=>Math.sqrt(e[0]*e[0]+e[1]*e[1]),wC=e=>Math.sqrt(e[4]*e[4]+e[5]*e[5]),SY={x:12,y:13,z:14,translateX:12,translateY:13,translateZ:14,scaleX:bC,scaleY:wC,scale:e=>(bC(e)+wC(e))/2,rotateX:e=>Z2(Cc(Math.atan2(e[6],e[5]))),rotateY:e=>Z2(Cc(Math.atan2(-e[2],e[0]))),rotateZ:vC,rotate:vC,skewX:e=>Cc(Math.atan(e[4])),skewY:e=>Cc(Math.atan(e[1])),skew:e=>(Math.abs(e[1])+Math.abs(e[4]))/2};function J2(e){return e.includes("scale")?1:0}function ej(e,t){if(!e||e==="none")return J2(t);const r=e.match(/^matrix3d\(([-\d.e\s,]+)\)$/u);let n,a;if(r)n=SY,a=r;else{const c=e.match(/^matrix\(([-\d.e\s,]+)\)$/u);n=NY,a=c}if(!a)return J2(t);const i=n[t],l=a[1].split(",").map(_Y);return typeof i=="function"?i(l):l[i]}const kY=(e,t)=>{const{transform:r="none"}=getComputedStyle(e);return ej(r,t)};function _Y(e){return parseFloat(e.trim())}const Yd=["transformPerspective","x","y","z","translateX","translateY","translateZ","scale","scaleX","scaleY","rotate","rotateX","rotateY","rotateZ","skew","skewX","skewY"],Xd=new Set(Yd),jC=e=>e===Kd||e===mt,EY=new Set(["x","y","z"]),AY=Yd.filter(e=>!EY.has(e));function TY(e){const t=[];return AY.forEach(r=>{const n=e.getValue(r);n!==void 0&&(t.push([r,n.get()]),n.set(r.startsWith("scale")?1:0))}),t}const Bc={width:({x:e},{paddingLeft:t="0",paddingRight:r="0"})=>e.max-e.min-parseFloat(t)-parseFloat(r),height:({y:e},{paddingTop:t="0",paddingBottom:r="0"})=>e.max-e.min-parseFloat(t)-parseFloat(r),top:(e,{top:t})=>parseFloat(t),left:(e,{left:t})=>parseFloat(t),bottom:({y:e},{top:t})=>parseFloat(t)+(e.max-e.min),right:({x:e},{left:t})=>parseFloat(t)+(e.max-e.min),x:(e,{transform:t})=>ej(t,"x"),y:(e,{transform:t})=>ej(t,"y")};Bc.translateX=Bc.x;Bc.translateY=Bc.y;const $c=new Set;let tj=!1,rj=!1,nj=!1;function PR(){if(rj){const e=Array.from($c).filter(n=>n.needsMeasurement),t=new Set(e.map(n=>n.element)),r=new Map;t.forEach(n=>{const a=TY(n);a.length&&(r.set(n,a),n.render())}),e.forEach(n=>n.measureInitialState()),t.forEach(n=>{n.render();const a=r.get(n);a&&a.forEach(([i,l])=>{n.getValue(i)?.set(l)})}),e.forEach(n=>n.measureEndState()),e.forEach(n=>{n.suspendedScrollY!==void 0&&window.scrollTo(0,n.suspendedScrollY)})}rj=!1,tj=!1,$c.forEach(e=>e.complete(nj)),$c.clear()}function MR(){$c.forEach(e=>{e.readKeyframes(),e.needsMeasurement&&(rj=!0)})}function CY(){nj=!0,MR(),PR(),nj=!1}class lS{constructor(t,r,n,a,i,l=!1){this.state="pending",this.isAsync=!1,this.needsMeasurement=!1,this.unresolvedKeyframes=[...t],this.onComplete=r,this.name=n,this.motionValue=a,this.element=i,this.isAsync=l}scheduleResolve(){this.state="scheduled",this.isAsync?($c.add(this),tj||(tj=!0,Or.read(MR),Or.resolveKeyframes(PR))):(this.readKeyframes(),this.complete())}readKeyframes(){const{unresolvedKeyframes:t,name:r,element:n,motionValue:a}=this;if(t[0]===null){const i=a?.get(),l=t[t.length-1];if(i!==void 0)t[0]=i;else if(n&&r){const c=n.readValue(r,l);c!=null&&(t[0]=c)}t[0]===void 0&&(t[0]=l),a&&i===void 0&&a.set(t[0])}jY(t)}setFinalKeyframe(){}measureInitialState(){}renderEndStyles(){}measureEndState(){}complete(t=!1){this.state="complete",this.onComplete(this.unresolvedKeyframes,this.finalKeyframe,t),$c.delete(this)}cancel(){this.state==="scheduled"&&($c.delete(this),this.state="pending")}resume(){this.state==="pending"&&this.scheduleResolve()}}const OY=e=>e.startsWith("--");function DY(e,t,r){OY(t)?e.style.setProperty(t,r):e.style[t]=r}const PY=KN(()=>window.ScrollTimeline!==void 0),MY={};function RY(e,t){const r=KN(e);return()=>MY[t]??r()}const RR=RY(()=>{try{document.createElement("div").animate({opacity:0},{easing:"linear(0, 1)"})}catch{return!1}return!0},"linearEasing"),D0=([e,t,r,n])=>`cubic-bezier(${e}, ${t}, ${r}, ${n})`,NC={linear:"linear",ease:"ease",easeIn:"ease-in",easeOut:"ease-out",easeInOut:"ease-in-out",circIn:D0([0,.65,.55,1]),circOut:D0([.55,0,1,.45]),backIn:D0([.31,.01,.66,-.59]),backOut:D0([.33,1.53,.69,.99])};function IR(e,t){if(e)return typeof e=="function"?RR()?CR(e,t):"ease-out":bR(e)?D0(e):Array.isArray(e)?e.map(r=>IR(r,t)||NC.easeOut):NC[e]}function IY(e,t,r,{delay:n=0,duration:a=300,repeat:i=0,repeatType:l="loop",ease:c="easeOut",times:d}={},f=void 0){const h={[t]:r};d&&(h.offset=d);const p=IR(c,a);Array.isArray(p)&&(h.easing=p);const g={delay:n,duration:a,easing:Array.isArray(p)?"linear":p,fill:"both",iterations:i+1,direction:l==="reverse"?"alternate":"normal"};return f&&(g.pseudoElement=f),e.animate(h,g)}function FR(e){return typeof e=="function"&&"applyToOptions"in e}function FY({type:e,...t}){return FR(e)&&RR()?e.applyToOptions(t):(t.duration??(t.duration=300),t.ease??(t.ease="easeOut"),t)}class LY extends sS{constructor(t){if(super(),this.finishedTime=null,this.isStopped=!1,!t)return;const{element:r,name:n,keyframes:a,pseudoElement:i,allowFlatten:l=!1,finalKeyframe:c,onComplete:d}=t;this.isPseudoElement=!!i,this.allowFlatten=l,this.options=t,GN(typeof t.type!="string");const f=FY(t);this.animation=IY(r,n,a,f,i),f.autoplay===!1&&this.animation.pause(),this.animation.onfinish=()=>{if(this.finishedTime=this.time,!i){const h=aS(a,this.options,c,this.speed);this.updateMotionValue?this.updateMotionValue(h):DY(r,n,h),this.animation.cancel()}d?.(),this.notifyFinished()}}play(){this.isStopped||(this.animation.play(),this.state==="finished"&&this.updateFinished())}pause(){this.animation.pause()}complete(){this.animation.finish?.()}cancel(){try{this.animation.cancel()}catch{}}stop(){if(this.isStopped)return;this.isStopped=!0;const{state:t}=this;t==="idle"||t==="finished"||(this.updateMotionValue?this.updateMotionValue():this.commitStyles(),this.isPseudoElement||this.cancel())}commitStyles(){this.isPseudoElement||this.animation.commitStyles?.()}get duration(){const t=this.animation.effect?.getComputedTiming?.().duration||0;return Oi(Number(t))}get time(){return Oi(Number(this.animation.currentTime)||0)}set time(t){this.finishedTime=null,this.animation.currentTime=Ci(t)}get speed(){return this.animation.playbackRate}set speed(t){t<0&&(this.finishedTime=null),this.animation.playbackRate=t}get state(){return this.finishedTime!==null?"finished":this.animation.playState}get startTime(){return Number(this.animation.startTime)}set startTime(t){this.animation.startTime=t}attachTimeline({timeline:t,observe:r}){return this.allowFlatten&&this.animation.effect?.updateTiming({easing:"linear"}),this.animation.onfinish=null,t&&PY()?(this.animation.timeline=t,$s):r(this)}}const LR={anticipate:gR,backInOut:pR,circInOut:yR};function BY(e){return e in LR}function $Y(e){typeof e.ease=="string"&&BY(e.ease)&&(e.ease=LR[e.ease])}const SC=10;class UY extends LY{constructor(t){$Y(t),DR(t),super(t),t.startTime&&(this.startTime=t.startTime),this.options=t}updateMotionValue(t){const{motionValue:r,onUpdate:n,onComplete:a,element:i,...l}=this.options;if(!r)return;if(t!==void 0){r.set(t);return}const c=new iS({...l,autoplay:!1}),d=Ci(this.finishedTime??this.time);r.setWithVelocity(c.sample(d-SC).value,c.sample(d).value,SC),c.stop()}}const kC=(e,t)=>t==="zIndex"?!1:!!(typeof e=="number"||Array.isArray(e)||typeof e=="string"&&(Co.test(e)||e==="0")&&!e.startsWith("url("));function zY(e){const t=e[0];if(e.length===1)return!0;for(let r=0;r<e.length;r++)if(e[r]!==t)return!0}function HY(e,t,r,n){const a=e[0];if(a===null)return!1;if(t==="display"||t==="visibility")return!0;const i=e[e.length-1],l=kC(a,t),c=kC(i,t);return!l||!c?!1:zY(e)||(r==="spring"||FR(r))&&n}function aj(e){e.duration=0,e.type}const VY=new Set(["opacity","clipPath","filter","transform"]),qY=KN(()=>Object.hasOwnProperty.call(Element.prototype,"animate"));function WY(e){const{motionValue:t,name:r,repeatDelay:n,repeatType:a,damping:i,type:l}=e;if(!(t?.owner?.current instanceof HTMLElement))return!1;const{onUpdate:d,transformTemplate:f}=t.owner.getProps();return qY()&&r&&VY.has(r)&&(r!=="transform"||!f)&&!d&&!n&&a!=="mirror"&&i!==0&&l!=="inertia"}const GY=40;class KY extends sS{constructor({autoplay:t=!0,delay:r=0,type:n="keyframes",repeat:a=0,repeatDelay:i=0,repeatType:l="loop",keyframes:c,name:d,motionValue:f,element:h,...p}){super(),this.stop=()=>{this._animation&&(this._animation.stop(),this.stopTimeline?.()),this.keyframeResolver?.cancel()},this.createdAt=Ta.now();const g={autoplay:t,delay:r,type:n,repeat:a,repeatDelay:i,repeatType:l,name:d,motionValue:f,element:h,...p},y=h?.KeyframeResolver||lS;this.keyframeResolver=new y(c,(b,w,j)=>this.onKeyframesResolved(b,w,g,!j),d,f,h),this.keyframeResolver?.scheduleResolve()}onKeyframesResolved(t,r,n,a){this.keyframeResolver=void 0;const{name:i,type:l,velocity:c,delay:d,isHandoff:f,onUpdate:h}=n;this.resolvedAt=Ta.now(),HY(t,i,l,c)||((jl.instantAnimations||!d)&&h?.(aS(t,n,r)),t[0]=t[t.length-1],aj(n),n.repeat=0);const g={startTime:a?this.resolvedAt?this.resolvedAt-this.createdAt>GY?this.resolvedAt:this.createdAt:this.createdAt:void 0,finalKeyframe:r,...n,keyframes:t},y=!f&&WY(g)?new UY({...g,element:g.motionValue.owner.current}):new iS(g);y.finished.then(()=>this.notifyFinished()).catch($s),this.pendingTimeline&&(this.stopTimeline=y.attachTimeline(this.pendingTimeline),this.pendingTimeline=void 0),this._animation=y}get finished(){return this._animation?this.animation.finished:this._finished}then(t,r){return this.finished.finally(t).then(()=>{})}get animation(){return this._animation||(this.keyframeResolver?.resume(),CY()),this._animation}get duration(){return this.animation.duration}get time(){return this.animation.time}set time(t){this.animation.time=t}get speed(){return this.animation.speed}get state(){return this.animation.state}set speed(t){this.animation.speed=t}get startTime(){return this.animation.startTime}attachTimeline(t){return this._animation?this.stopTimeline=this.animation.attachTimeline(t):this.pendingTimeline=t,()=>this.stop()}play(){this.animation.play()}pause(){this.animation.pause()}complete(){this.animation.complete()}cancel(){this._animation&&this.animation.cancel(),this.keyframeResolver?.cancel()}}const YY=/^var\(--(?:([\w-]+)|([\w-]+), ?([a-zA-Z\d ()%#.,-]+))\)/u;function XY(e){const t=YY.exec(e);if(!t)return[,];const[,r,n,a]=t;return[`--${r??n}`,a]}function BR(e,t,r=1){const[n,a]=XY(e);if(!n)return;const i=window.getComputedStyle(t).getPropertyValue(n);if(i){const l=i.trim();return lR(l)?parseFloat(l):l}return JN(a)?BR(a,t,r+1):a}function oS(e,t){return e?.[t]??e?.default??e}const $R=new Set(["width","height","top","left","right","bottom",...Yd]),QY={test:e=>e==="auto",parse:e=>e},UR=e=>t=>t.test(e),zR=[Kd,mt,Di,fo,zK,UK,QY],_C=e=>zR.find(UR(e));function ZY(e){return typeof e=="number"?e===0:e!==null?e==="none"||e==="0"||cR(e):!0}const JY=new Set(["brightness","contrast","saturate","opacity"]);function eX(e){const[t,r]=e.slice(0,-1).split("(");if(t==="drop-shadow")return e;const[n]=r.match(eS)||[];if(!n)return e;const a=r.replace(n,"");let i=JY.has(t)?1:0;return n!==r&&(i*=100),t+"("+i+a+")"}const tX=/\b([a-z-]*)\(.*?\)/gu,sj={...Co,getAnimatableNone:e=>{const t=e.match(tX);return t?t.map(eX).join(" "):e}},EC={...Kd,transform:Math.round},rX={rotate:fo,rotateX:fo,rotateY:fo,rotateZ:fo,scale:Fp,scaleX:Fp,scaleY:Fp,scaleZ:Fp,skew:fo,skewX:fo,skewY:fo,distance:mt,translateX:mt,translateY:mt,translateZ:mt,x:mt,y:mt,z:mt,perspective:mt,transformPerspective:mt,opacity:mh,originX:mC,originY:mC,originZ:mt},cS={borderWidth:mt,borderTopWidth:mt,borderRightWidth:mt,borderBottomWidth:mt,borderLeftWidth:mt,borderRadius:mt,radius:mt,borderTopLeftRadius:mt,borderTopRightRadius:mt,borderBottomRightRadius:mt,borderBottomLeftRadius:mt,width:mt,maxWidth:mt,height:mt,maxHeight:mt,top:mt,right:mt,bottom:mt,left:mt,padding:mt,paddingTop:mt,paddingRight:mt,paddingBottom:mt,paddingLeft:mt,margin:mt,marginTop:mt,marginRight:mt,marginBottom:mt,marginLeft:mt,backgroundPositionX:mt,backgroundPositionY:mt,...rX,zIndex:EC,fillOpacity:mh,strokeOpacity:mh,numOctaves:EC},nX={...cS,color:sn,backgroundColor:sn,outlineColor:sn,fill:sn,stroke:sn,borderColor:sn,borderTopColor:sn,borderRightColor:sn,borderBottomColor:sn,borderLeftColor:sn,filter:sj,WebkitFilter:sj},HR=e=>nX[e];function VR(e,t){let r=HR(e);return r!==sj&&(r=Co),r.getAnimatableNone?r.getAnimatableNone(t):void 0}const aX=new Set(["auto","none","0"]);function sX(e,t,r){let n=0,a;for(;n<e.length&&!a;){const i=e[n];typeof i=="string"&&!aX.has(i)&&ph(i).values.length&&(a=e[n]),n++}if(a&&r)for(const i of t)e[i]=VR(r,a)}class iX extends lS{constructor(t,r,n,a,i){super(t,r,n,a,i,!0)}readKeyframes(){const{unresolvedKeyframes:t,element:r,name:n}=this;if(!r||!r.current)return;super.readKeyframes();for(let d=0;d<t.length;d++){let f=t[d];if(typeof f=="string"&&(f=f.trim(),JN(f))){const h=BR(f,r.current);h!==void 0&&(t[d]=h),d===t.length-1&&(this.finalKeyframe=f)}}if(this.resolveNoneKeyframes(),!$R.has(n)||t.length!==2)return;const[a,i]=t,l=_C(a),c=_C(i);if(l!==c)if(jC(l)&&jC(c))for(let d=0;d<t.length;d++){const f=t[d];typeof f=="string"&&(t[d]=parseFloat(f))}else Bc[n]&&(this.needsMeasurement=!0)}resolveNoneKeyframes(){const{unresolvedKeyframes:t,name:r}=this,n=[];for(let a=0;a<t.length;a++)(t[a]===null||ZY(t[a]))&&n.push(a);n.length&&sX(t,n,r)}measureInitialState(){const{element:t,unresolvedKeyframes:r,name:n}=this;if(!t||!t.current)return;n==="height"&&(this.suspendedScrollY=window.pageYOffset),this.measuredOrigin=Bc[n](t.measureViewportBox(),window.getComputedStyle(t.current)),r[0]=this.measuredOrigin;const a=r[r.length-1];a!==void 0&&t.getValue(n,a).jump(a,!1)}measureEndState(){const{element:t,name:r,unresolvedKeyframes:n}=this;if(!t||!t.current)return;const a=t.getValue(r);a&&a.jump(this.measuredOrigin,!1);const i=n.length-1,l=n[i];n[i]=Bc[r](t.measureViewportBox(),window.getComputedStyle(t.current)),l!==null&&this.finalKeyframe===void 0&&(this.finalKeyframe=l),this.removedTransforms?.length&&this.removedTransforms.forEach(([c,d])=>{t.getValue(c).set(d)}),this.resolveNoneKeyframes()}}function lX(e,t,r){if(e instanceof EventTarget)return[e];if(typeof e=="string"){let n=document;const a=r?.[e]??n.querySelectorAll(e);return a?Array.from(a):[]}return Array.from(e)}const qR=(e,t)=>t&&typeof e=="number"?t.transform(e):e;function oX(e){return oR(e)&&"offsetHeight"in e}const AC=30,cX=e=>!isNaN(parseFloat(e));class uX{constructor(t,r={}){this.canTrackVelocity=null,this.events={},this.updateAndNotify=n=>{const a=Ta.now();if(this.updatedAt!==a&&this.setPrevFrameValue(),this.prev=this.current,this.setCurrent(n),this.current!==this.prev&&(this.events.change?.notify(this.current),this.dependents))for(const i of this.dependents)i.dirty()},this.hasAnimated=!1,this.setCurrent(t),this.owner=r.owner}setCurrent(t){this.current=t,this.updatedAt=Ta.now(),this.canTrackVelocity===null&&t!==void 0&&(this.canTrackVelocity=cX(this.current))}setPrevFrameValue(t=this.current){this.prevFrameValue=t,this.prevUpdatedAt=this.updatedAt}onChange(t){return this.on("change",t)}on(t,r){this.events[t]||(this.events[t]=new YN);const n=this.events[t].add(r);return t==="change"?()=>{n(),Or.read(()=>{this.events.change.getSize()||this.stop()})}:n}clearListeners(){for(const t in this.events)this.events[t].clear()}attach(t,r){this.passiveEffect=t,this.stopPassiveEffect=r}set(t){this.passiveEffect?this.passiveEffect(t,this.updateAndNotify):this.updateAndNotify(t)}setWithVelocity(t,r,n){this.set(r),this.prev=void 0,this.prevFrameValue=t,this.prevUpdatedAt=this.updatedAt-n}jump(t,r=!0){this.updateAndNotify(t),this.prev=t,this.prevUpdatedAt=this.prevFrameValue=void 0,r&&this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}dirty(){this.events.change?.notify(this.current)}addDependent(t){this.dependents||(this.dependents=new Set),this.dependents.add(t)}removeDependent(t){this.dependents&&this.dependents.delete(t)}get(){return this.current}getPrevious(){return this.prev}getVelocity(){const t=Ta.now();if(!this.canTrackVelocity||this.prevFrameValue===void 0||t-this.updatedAt>AC)return 0;const r=Math.min(this.updatedAt-this.prevUpdatedAt,AC);return uR(parseFloat(this.current)-parseFloat(this.prevFrameValue),r)}start(t){return this.stop(),new Promise(r=>{this.hasAnimated=!0,this.animation=t(r),this.events.animationStart&&this.events.animationStart.notify()}).then(()=>{this.events.animationComplete&&this.events.animationComplete.notify(),this.clearAnimation()})}stop(){this.animation&&(this.animation.stop(),this.events.animationCancel&&this.events.animationCancel.notify()),this.clearAnimation()}isAnimating(){return!!this.animation}clearAnimation(){delete this.animation}destroy(){this.dependents?.clear(),this.events.destroy?.notify(),this.clearListeners(),this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}}function kd(e,t){return new uX(e,t)}const{schedule:uS}=wR(queueMicrotask,!1),ri={x:!1,y:!1};function WR(){return ri.x||ri.y}function dX(e){return e==="x"||e==="y"?ri[e]?null:(ri[e]=!0,()=>{ri[e]=!1}):ri.x||ri.y?null:(ri.x=ri.y=!0,()=>{ri.x=ri.y=!1})}function GR(e,t){const r=lX(e),n=new AbortController,a={passive:!0,...t,signal:n.signal};return[r,a,()=>n.abort()]}function TC(e){return!(e.pointerType==="touch"||WR())}function fX(e,t,r={}){const[n,a,i]=GR(e,r),l=c=>{if(!TC(c))return;const{target:d}=c,f=t(d,c);if(typeof f!="function"||!d)return;const h=p=>{TC(p)&&(f(p),d.removeEventListener("pointerleave",h))};d.addEventListener("pointerleave",h,a)};return n.forEach(c=>{c.addEventListener("pointerenter",l,a)}),i}const KR=(e,t)=>t?e===t?!0:KR(e,t.parentElement):!1,dS=e=>e.pointerType==="mouse"?typeof e.button!="number"||e.button<=0:e.isPrimary!==!1,hX=new Set(["BUTTON","INPUT","SELECT","TEXTAREA","A"]);function mX(e){return hX.has(e.tagName)||e.tabIndex!==-1}const xg=new WeakSet;function CC(e){return t=>{t.key==="Enter"&&e(t)}}function g1(e,t){e.dispatchEvent(new PointerEvent("pointer"+t,{isPrimary:!0,bubbles:!0}))}const pX=(e,t)=>{const r=e.currentTarget;if(!r)return;const n=CC(()=>{if(xg.has(r))return;g1(r,"down");const a=CC(()=>{g1(r,"up")}),i=()=>g1(r,"cancel");r.addEventListener("keyup",a,t),r.addEventListener("blur",i,t)});r.addEventListener("keydown",n,t),r.addEventListener("blur",()=>r.removeEventListener("keydown",n),t)};function OC(e){return dS(e)&&!WR()}function gX(e,t,r={}){const[n,a,i]=GR(e,r),l=c=>{const d=c.currentTarget;if(!OC(c))return;xg.add(d);const f=t(d,c),h=(y,b)=>{window.removeEventListener("pointerup",p),window.removeEventListener("pointercancel",g),xg.has(d)&&xg.delete(d),OC(y)&&typeof f=="function"&&f(y,{success:b})},p=y=>{h(y,d===window||d===document||r.useGlobalTarget||KR(d,y.target))},g=y=>{h(y,!1)};window.addEventListener("pointerup",p,a),window.addEventListener("pointercancel",g,a)};return n.forEach(c=>{(r.useGlobalTarget?window:c).addEventListener("pointerdown",l,a),oX(c)&&(c.addEventListener("focus",f=>pX(f,a)),!mX(c)&&!c.hasAttribute("tabindex")&&(c.tabIndex=0))}),i}function YR(e){return oR(e)&&"ownerSVGElement"in e}function xX(e){return YR(e)&&e.tagName==="svg"}const ra=e=>!!(e&&e.getVelocity),yX=[...zR,sn,Co],vX=e=>yX.find(UR(e)),XR=v.createContext({transformPagePoint:e=>e,isStatic:!1,reducedMotion:"never"});function bX(e=!0){const t=v.useContext(VN);if(t===null)return[!0,null];const{isPresent:r,onExitComplete:n,register:a}=t,i=v.useId();v.useEffect(()=>{if(e)return a(i)},[e]);const l=v.useCallback(()=>e&&n&&n(i),[i,n,e]);return!r&&n?[!1,l]:[!0]}const QR=v.createContext({strict:!1}),DC={animation:["animate","variants","whileHover","whileTap","exit","whileInView","whileFocus","whileDrag"],exit:["exit"],drag:["drag","dragControls"],focus:["whileFocus"],hover:["whileHover","onHoverStart","onHoverEnd"],tap:["whileTap","onTap","onTapStart","onTapCancel"],pan:["onPan","onPanStart","onPanSessionStart","onPanEnd"],inView:["whileInView","onViewportEnter","onViewportLeave"],layout:["layout","layoutId"]},_d={};for(const e in DC)_d[e]={isEnabled:t=>DC[e].some(r=>!!t[r])};function wX(e){for(const t in e)_d[t]={..._d[t],...e[t]}}const jX=new Set(["animate","exit","variants","initial","style","values","variants","transition","transformTemplate","custom","inherit","onBeforeLayoutMeasure","onAnimationStart","onAnimationComplete","onUpdate","onDragStart","onDrag","onDragEnd","onMeasureDragConstraints","onDirectionLock","onDragTransitionEnd","_dragX","_dragY","onHoverStart","onHoverEnd","onViewportEnter","onViewportLeave","globalTapTarget","ignoreStrict","viewport"]);function Dg(e){return e.startsWith("while")||e.startsWith("drag")&&e!=="draggable"||e.startsWith("layout")||e.startsWith("onTap")||e.startsWith("onPan")||e.startsWith("onLayout")||jX.has(e)}let ZR=e=>!Dg(e);function NX(e){typeof e=="function"&&(ZR=t=>t.startsWith("on")?!Dg(t):e(t))}try{NX(require("@emotion/is-prop-valid").default)}catch{}function SX(e,t,r){const n={};for(const a in e)a==="values"&&typeof e.values=="object"||(ZR(a)||r===!0&&Dg(a)||!t&&!Dg(a)||e.draggable&&a.startsWith("onDrag"))&&(n[a]=e[a]);return n}const Kx=v.createContext({});function Yx(e){return e!==null&&typeof e=="object"&&typeof e.start=="function"}function gh(e){return typeof e=="string"||Array.isArray(e)}const fS=["animate","whileInView","whileFocus","whileHover","whileTap","whileDrag","exit"],hS=["initial",...fS];function Xx(e){return Yx(e.animate)||hS.some(t=>gh(e[t]))}function JR(e){return!!(Xx(e)||e.variants)}function kX(e,t){if(Xx(e)){const{initial:r,animate:n}=e;return{initial:r===!1||gh(r)?r:void 0,animate:gh(n)?n:void 0}}return e.inherit!==!1?t:{}}function _X(e){const{initial:t,animate:r}=kX(e,v.useContext(Kx));return v.useMemo(()=>({initial:t,animate:r}),[PC(t),PC(r)])}function PC(e){return Array.isArray(e)?e.join(" "):e}const xh={};function EX(e){for(const t in e)xh[t]=e[t],ZN(t)&&(xh[t].isCSSVariable=!0)}function e8(e,{layout:t,layoutId:r}){return Xd.has(e)||e.startsWith("origin")||(t||r!==void 0)&&(!!xh[e]||e==="opacity")}const AX={x:"translateX",y:"translateY",z:"translateZ",transformPerspective:"perspective"},TX=Yd.length;function CX(e,t,r){let n="",a=!0;for(let i=0;i<TX;i++){const l=Yd[i],c=e[l];if(c===void 0)continue;let d=!0;if(typeof c=="number"?d=c===(l.startsWith("scale")?1:0):d=parseFloat(c)===0,!d||r){const f=qR(c,cS[l]);if(!d){a=!1;const h=AX[l]||l;n+=`${h}(${f}) `}r&&(t[l]=f)}}return n=n.trim(),r?n=r(t,a?"":n):a&&(n="none"),n}function mS(e,t,r){const{style:n,vars:a,transformOrigin:i}=e;let l=!1,c=!1;for(const d in t){const f=t[d];if(Xd.has(d)){l=!0;continue}else if(ZN(d)){a[d]=f;continue}else{const h=qR(f,cS[d]);d.startsWith("origin")?(c=!0,i[d]=h):n[d]=h}}if(t.transform||(l||r?n.transform=CX(t,e.transform,r):n.transform&&(n.transform="none")),c){const{originX:d="50%",originY:f="50%",originZ:h=0}=i;n.transformOrigin=`${d} ${f} ${h}`}}const pS=()=>({style:{},transform:{},transformOrigin:{},vars:{}});function t8(e,t,r){for(const n in t)!ra(t[n])&&!e8(n,r)&&(e[n]=t[n])}function OX({transformTemplate:e},t){return v.useMemo(()=>{const r=pS();return mS(r,t,e),Object.assign({},r.vars,r.style)},[t])}function DX(e,t){const r=e.style||{},n={};return t8(n,r,e),Object.assign(n,OX(e,t)),n}function PX(e,t){const r={},n=DX(e,t);return e.drag&&e.dragListener!==!1&&(r.draggable=!1,n.userSelect=n.WebkitUserSelect=n.WebkitTouchCallout="none",n.touchAction=e.drag===!0?"none":`pan-${e.drag==="x"?"y":"x"}`),e.tabIndex===void 0&&(e.onTap||e.onTapStart||e.whileTap)&&(r.tabIndex=0),r.style=n,r}const MX={offset:"stroke-dashoffset",array:"stroke-dasharray"},RX={offset:"strokeDashoffset",array:"strokeDasharray"};function IX(e,t,r=1,n=0,a=!0){e.pathLength=1;const i=a?MX:RX;e[i.offset]=mt.transform(-n);const l=mt.transform(t),c=mt.transform(r);e[i.array]=`${l} ${c}`}function r8(e,{attrX:t,attrY:r,attrScale:n,pathLength:a,pathSpacing:i=1,pathOffset:l=0,...c},d,f,h){if(mS(e,c,f),d){e.style.viewBox&&(e.attrs.viewBox=e.style.viewBox);return}e.attrs=e.style,e.style={};const{attrs:p,style:g}=e;p.transform&&(g.transform=p.transform,delete p.transform),(g.transform||p.transformOrigin)&&(g.transformOrigin=p.transformOrigin??"50% 50%",delete p.transformOrigin),g.transform&&(g.transformBox=h?.transformBox??"fill-box",delete p.transformBox),t!==void 0&&(p.x=t),r!==void 0&&(p.y=r),n!==void 0&&(p.scale=n),a!==void 0&&IX(p,a,i,l,!1)}const n8=()=>({...pS(),attrs:{}}),a8=e=>typeof e=="string"&&e.toLowerCase()==="svg";function FX(e,t,r,n){const a=v.useMemo(()=>{const i=n8();return r8(i,t,a8(n),e.transformTemplate,e.style),{...i.attrs,style:{...i.style}}},[t]);if(e.style){const i={};t8(i,e.style,e),a.style={...i,...a.style}}return a}const LX=["animate","circle","defs","desc","ellipse","g","image","line","filter","marker","mask","metadata","path","pattern","polygon","polyline","rect","stop","switch","symbol","svg","text","tspan","use","view"];function gS(e){return typeof e!="string"||e.includes("-")?!1:!!(LX.indexOf(e)>-1||/[A-Z]/u.test(e))}function BX(e,t,r,{latestValues:n},a,i=!1){const c=(gS(e)?FX:PX)(t,n,a,e),d=SX(t,typeof e=="string",i),f=e!==v.Fragment?{...d,...c,ref:r}:{},{children:h}=t,p=v.useMemo(()=>ra(h)?h.get():h,[h]);return v.createElement(e,{...f,children:p})}function MC(e){const t=[{},{}];return e?.values.forEach((r,n)=>{t[0][n]=r.get(),t[1][n]=r.getVelocity()}),t}function xS(e,t,r,n){if(typeof t=="function"){const[a,i]=MC(n);t=t(r!==void 0?r:e.custom,a,i)}if(typeof t=="string"&&(t=e.variants&&e.variants[t]),typeof t=="function"){const[a,i]=MC(n);t=t(r!==void 0?r:e.custom,a,i)}return t}function yg(e){return ra(e)?e.get():e}function $X({scrapeMotionValuesFromProps:e,createRenderState:t},r,n,a){return{latestValues:UX(r,n,a,e),renderState:t()}}function UX(e,t,r,n){const a={},i=n(e,{});for(const g in i)a[g]=yg(i[g]);let{initial:l,animate:c}=e;const d=Xx(e),f=JR(e);t&&f&&!d&&e.inherit!==!1&&(l===void 0&&(l=t.initial),c===void 0&&(c=t.animate));let h=r?r.initial===!1:!1;h=h||l===!1;const p=h?c:l;if(p&&typeof p!="boolean"&&!Yx(p)){const g=Array.isArray(p)?p:[p];for(let y=0;y<g.length;y++){const b=xS(e,g[y]);if(b){const{transitionEnd:w,transition:j,...S}=b;for(const _ in S){let E=S[_];if(Array.isArray(E)){const T=h?E.length-1:0;E=E[T]}E!==null&&(a[_]=E)}for(const _ in w)a[_]=w[_]}}}return a}const s8=e=>(t,r)=>{const n=v.useContext(Kx),a=v.useContext(VN),i=()=>$X(e,t,n,a);return r?i():wK(i)};function yS(e,t,r){const{style:n}=e,a={};for(const i in n)(ra(n[i])||t.style&&ra(t.style[i])||e8(i,e)||r?.getValue(i)?.liveStyle!==void 0)&&(a[i]=n[i]);return a}const zX=s8({scrapeMotionValuesFromProps:yS,createRenderState:pS});function i8(e,t,r){const n=yS(e,t,r);for(const a in e)if(ra(e[a])||ra(t[a])){const i=Yd.indexOf(a)!==-1?"attr"+a.charAt(0).toUpperCase()+a.substring(1):a;n[i]=e[a]}return n}const HX=s8({scrapeMotionValuesFromProps:i8,createRenderState:n8}),VX=Symbol.for("motionComponentSymbol");function ld(e){return e&&typeof e=="object"&&Object.prototype.hasOwnProperty.call(e,"current")}function qX(e,t,r){return v.useCallback(n=>{n&&e.onMount&&e.onMount(n),t&&(n?t.mount(n):t.unmount()),r&&(typeof r=="function"?r(n):ld(r)&&(r.current=n))},[t])}const vS=e=>e.replace(/([a-z])([A-Z])/gu,"$1-$2").toLowerCase(),WX="framerAppearId",l8="data-"+vS(WX),o8=v.createContext({});function GX(e,t,r,n,a){const{visualElement:i}=v.useContext(Kx),l=v.useContext(QR),c=v.useContext(VN),d=v.useContext(XR).reducedMotion,f=v.useRef(null);n=n||l.renderer,!f.current&&n&&(f.current=n(e,{visualState:t,parent:i,props:r,presenceContext:c,blockInitialAnimation:c?c.initial===!1:!1,reducedMotionConfig:d}));const h=f.current,p=v.useContext(o8);h&&!h.projection&&a&&(h.type==="html"||h.type==="svg")&&KX(f.current,r,a,p);const g=v.useRef(!1);v.useInsertionEffect(()=>{h&&g.current&&h.update(r,c)});const y=r[l8],b=v.useRef(!!y&&!window.MotionHandoffIsComplete?.(y)&&window.MotionHasOptimisedAnimation?.(y));return jK(()=>{h&&(g.current=!0,window.MotionIsMounted=!0,h.updateFeatures(),h.scheduleRenderMicrotask(),b.current&&h.animationState&&h.animationState.animateChanges())}),v.useEffect(()=>{h&&(!b.current&&h.animationState&&h.animationState.animateChanges(),b.current&&(queueMicrotask(()=>{window.MotionHandoffMarkAsComplete?.(y)}),b.current=!1),h.enteringChildren=void 0)}),h}function KX(e,t,r,n){const{layoutId:a,layout:i,drag:l,dragConstraints:c,layoutScroll:d,layoutRoot:f,layoutCrossfade:h}=t;e.projection=new r(e.latestValues,t["data-framer-portal-id"]?void 0:c8(e.parent)),e.projection.setOptions({layoutId:a,layout:i,alwaysMeasureLayout:!!l||c&&ld(c),visualElement:e,animationType:typeof i=="string"?i:"both",initialPromotionConfig:n,crossfade:h,layoutScroll:d,layoutRoot:f})}function c8(e){if(e)return e.options.allowProjection!==!1?e.projection:c8(e.parent)}function x1(e,{forwardMotionProps:t=!1}={},r,n){r&&wX(r);const a=gS(e)?HX:zX;function i(c,d){let f;const h={...v.useContext(XR),...c,layoutId:YX(c)},{isStatic:p}=h,g=_X(c),y=a(c,p);if(!p&&HN){XX();const b=QX(h);f=b.MeasureLayout,g.visualElement=GX(e,y,h,n,b.ProjectionNode)}return s.jsxs(Kx.Provider,{value:g,children:[f&&g.visualElement?s.jsx(f,{visualElement:g.visualElement,...h}):null,BX(e,c,qX(y,g.visualElement,d),y,p,t)]})}i.displayName=`motion.${typeof e=="string"?e:`create(${e.displayName??e.name??""})`}`;const l=v.forwardRef(i);return l[VX]=e,l}function YX({layoutId:e}){const t=v.useContext(iR).id;return t&&e!==void 0?t+"-"+e:e}function XX(e,t){v.useContext(QR).strict}function QX(e){const{drag:t,layout:r}=_d;if(!t&&!r)return{};const n={...t,...r};return{MeasureLayout:t?.isEnabled(e)||r?.isEnabled(e)?n.MeasureLayout:void 0,ProjectionNode:n.ProjectionNode}}function ZX(e,t){if(typeof Proxy>"u")return x1;const r=new Map,n=(i,l)=>x1(i,l,e,t),a=(i,l)=>n(i,l);return new Proxy(a,{get:(i,l)=>l==="create"?n:(r.has(l)||r.set(l,x1(l,void 0,e,t)),r.get(l))})}function u8({top:e,left:t,right:r,bottom:n}){return{x:{min:t,max:r},y:{min:e,max:n}}}function JX({x:e,y:t}){return{top:t.min,right:e.max,bottom:t.max,left:e.min}}function eQ(e,t){if(!t)return e;const r=t({x:e.left,y:e.top}),n=t({x:e.right,y:e.bottom});return{top:r.y,left:r.x,bottom:n.y,right:n.x}}function y1(e){return e===void 0||e===1}function ij({scale:e,scaleX:t,scaleY:r}){return!y1(e)||!y1(t)||!y1(r)}function vc(e){return ij(e)||d8(e)||e.z||e.rotate||e.rotateX||e.rotateY||e.skewX||e.skewY}function d8(e){return RC(e.x)||RC(e.y)}function RC(e){return e&&e!=="0%"}function Pg(e,t,r){const n=e-r,a=t*n;return r+a}function IC(e,t,r,n,a){return a!==void 0&&(e=Pg(e,a,n)),Pg(e,r,n)+t}function lj(e,t=0,r=1,n,a){e.min=IC(e.min,t,r,n,a),e.max=IC(e.max,t,r,n,a)}function f8(e,{x:t,y:r}){lj(e.x,t.translate,t.scale,t.originPoint),lj(e.y,r.translate,r.scale,r.originPoint)}const FC=.999999999999,LC=1.0000000000001;function tQ(e,t,r,n=!1){const a=r.length;if(!a)return;t.x=t.y=1;let i,l;for(let c=0;c<a;c++){i=r[c],l=i.projectionDelta;const{visualElement:d}=i.options;d&&d.props.style&&d.props.style.display==="contents"||(n&&i.options.layoutScroll&&i.scroll&&i!==i.root&&cd(e,{x:-i.scroll.offset.x,y:-i.scroll.offset.y}),l&&(t.x*=l.x.scale,t.y*=l.y.scale,f8(e,l)),n&&vc(i.latestValues)&&cd(e,i.latestValues))}t.x<LC&&t.x>FC&&(t.x=1),t.y<LC&&t.y>FC&&(t.y=1)}function od(e,t){e.min=e.min+t,e.max=e.max+t}function BC(e,t,r,n,a=.5){const i=Fr(e.min,e.max,a);lj(e,t,r,i,n)}function cd(e,t){BC(e.x,t.x,t.scaleX,t.scale,t.originX),BC(e.y,t.y,t.scaleY,t.scale,t.originY)}function h8(e,t){return u8(eQ(e.getBoundingClientRect(),t))}function rQ(e,t,r){const n=h8(e,r),{scroll:a}=t;return a&&(od(n.x,a.offset.x),od(n.y,a.offset.y)),n}const $C=()=>({translate:0,scale:1,origin:0,originPoint:0}),ud=()=>({x:$C(),y:$C()}),UC=()=>({min:0,max:0}),Yr=()=>({x:UC(),y:UC()}),oj={current:null},m8={current:!1};function nQ(){if(m8.current=!0,!!HN)if(window.matchMedia){const e=window.matchMedia("(prefers-reduced-motion)"),t=()=>oj.current=e.matches;e.addEventListener("change",t),t()}else oj.current=!1}const aQ=new WeakMap;function sQ(e,t,r){for(const n in t){const a=t[n],i=r[n];if(ra(a))e.addValue(n,a);else if(ra(i))e.addValue(n,kd(a,{owner:e}));else if(i!==a)if(e.hasValue(n)){const l=e.getValue(n);l.liveStyle===!0?l.jump(a):l.hasAnimated||l.set(a)}else{const l=e.getStaticValue(n);e.addValue(n,kd(l!==void 0?l:a,{owner:e}))}}for(const n in r)t[n]===void 0&&e.removeValue(n);return t}const zC=["AnimationStart","AnimationComplete","Update","BeforeLayoutMeasure","LayoutMeasure","LayoutAnimationStart","LayoutAnimationComplete"];class iQ{scrapeMotionValuesFromProps(t,r,n){return{}}constructor({parent:t,props:r,presenceContext:n,reducedMotionConfig:a,blockInitialAnimation:i,visualState:l},c={}){this.current=null,this.children=new Set,this.isVariantNode=!1,this.isControllingVariants=!1,this.shouldReduceMotion=null,this.values=new Map,this.KeyframeResolver=lS,this.features={},this.valueSubscriptions=new Map,this.prevMotionValues={},this.events={},this.propEventSubscriptions={},this.notifyUpdate=()=>this.notify("Update",this.latestValues),this.render=()=>{this.current&&(this.triggerBuild(),this.renderInstance(this.current,this.renderState,this.props.style,this.projection))},this.renderScheduledAt=0,this.scheduleRender=()=>{const g=Ta.now();this.renderScheduledAt<g&&(this.renderScheduledAt=g,Or.render(this.render,!1,!0))};const{latestValues:d,renderState:f}=l;this.latestValues=d,this.baseTarget={...d},this.initialValues=r.initial?{...d}:{},this.renderState=f,this.parent=t,this.props=r,this.presenceContext=n,this.depth=t?t.depth+1:0,this.reducedMotionConfig=a,this.options=c,this.blockInitialAnimation=!!i,this.isControllingVariants=Xx(r),this.isVariantNode=JR(r),this.isVariantNode&&(this.variantChildren=new Set),this.manuallyAnimateOnMount=!!(t&&t.current);const{willChange:h,...p}=this.scrapeMotionValuesFromProps(r,{},this);for(const g in p){const y=p[g];d[g]!==void 0&&ra(y)&&y.set(d[g])}}mount(t){this.current=t,aQ.set(t,this),this.projection&&!this.projection.instance&&this.projection.mount(t),this.parent&&this.isVariantNode&&!this.isControllingVariants&&(this.removeFromVariantTree=this.parent.addVariantChild(this)),this.values.forEach((r,n)=>this.bindToMotionValue(n,r)),m8.current||nQ(),this.shouldReduceMotion=this.reducedMotionConfig==="never"?!1:this.reducedMotionConfig==="always"?!0:oj.current,this.parent?.addChild(this),this.update(this.props,this.presenceContext)}unmount(){this.projection&&this.projection.unmount(),To(this.notifyUpdate),To(this.render),this.valueSubscriptions.forEach(t=>t()),this.valueSubscriptions.clear(),this.removeFromVariantTree&&this.removeFromVariantTree(),this.parent?.removeChild(this);for(const t in this.events)this.events[t].clear();for(const t in this.features){const r=this.features[t];r&&(r.unmount(),r.isMounted=!1)}this.current=null}addChild(t){this.children.add(t),this.enteringChildren??(this.enteringChildren=new Set),this.enteringChildren.add(t)}removeChild(t){this.children.delete(t),this.enteringChildren&&this.enteringChildren.delete(t)}bindToMotionValue(t,r){this.valueSubscriptions.has(t)&&this.valueSubscriptions.get(t)();const n=Xd.has(t);n&&this.onBindTransform&&this.onBindTransform();const a=r.on("change",l=>{this.latestValues[t]=l,this.props.onUpdate&&Or.preRender(this.notifyUpdate),n&&this.projection&&(this.projection.isTransformDirty=!0),this.scheduleRender()});let i;window.MotionCheckAppearSync&&(i=window.MotionCheckAppearSync(this,t,r)),this.valueSubscriptions.set(t,()=>{a(),i&&i(),r.owner&&r.stop()})}sortNodePosition(t){return!this.current||!this.sortInstanceNodePosition||this.type!==t.type?0:this.sortInstanceNodePosition(this.current,t.current)}updateFeatures(){let t="animation";for(t in _d){const r=_d[t];if(!r)continue;const{isEnabled:n,Feature:a}=r;if(!this.features[t]&&a&&n(this.props)&&(this.features[t]=new a(this)),this.features[t]){const i=this.features[t];i.isMounted?i.update():(i.mount(),i.isMounted=!0)}}}triggerBuild(){this.build(this.renderState,this.latestValues,this.props)}measureViewportBox(){return this.current?this.measureInstanceViewportBox(this.current,this.props):Yr()}getStaticValue(t){return this.latestValues[t]}setStaticValue(t,r){this.latestValues[t]=r}update(t,r){(t.transformTemplate||this.props.transformTemplate)&&this.scheduleRender(),this.prevProps=this.props,this.props=t,this.prevPresenceContext=this.presenceContext,this.presenceContext=r;for(let n=0;n<zC.length;n++){const a=zC[n];this.propEventSubscriptions[a]&&(this.propEventSubscriptions[a](),delete this.propEventSubscriptions[a]);const i="on"+a,l=t[i];l&&(this.propEventSubscriptions[a]=this.on(a,l))}this.prevMotionValues=sQ(this,this.scrapeMotionValuesFromProps(t,this.prevProps,this),this.prevMotionValues),this.handleChildMotionValue&&this.handleChildMotionValue()}getProps(){return this.props}getVariant(t){return this.props.variants?this.props.variants[t]:void 0}getDefaultTransition(){return this.props.transition}getTransformPagePoint(){return this.props.transformPagePoint}getClosestVariantNode(){return this.isVariantNode?this:this.parent?this.parent.getClosestVariantNode():void 0}addVariantChild(t){const r=this.getClosestVariantNode();if(r)return r.variantChildren&&r.variantChildren.add(t),()=>r.variantChildren.delete(t)}addValue(t,r){const n=this.values.get(t);r!==n&&(n&&this.removeValue(t),this.bindToMotionValue(t,r),this.values.set(t,r),this.latestValues[t]=r.get())}removeValue(t){this.values.delete(t);const r=this.valueSubscriptions.get(t);r&&(r(),this.valueSubscriptions.delete(t)),delete this.latestValues[t],this.removeValueFromRenderState(t,this.renderState)}hasValue(t){return this.values.has(t)}getValue(t,r){if(this.props.values&&this.props.values[t])return this.props.values[t];let n=this.values.get(t);return n===void 0&&r!==void 0&&(n=kd(r===null?void 0:r,{owner:this}),this.addValue(t,n)),n}readValue(t,r){let n=this.latestValues[t]!==void 0||!this.current?this.latestValues[t]:this.getBaseTargetFromProps(this.props,t)??this.readValueFromInstance(this.current,t,this.options);return n!=null&&(typeof n=="string"&&(lR(n)||cR(n))?n=parseFloat(n):!vX(n)&&Co.test(r)&&(n=VR(t,r)),this.setBaseTarget(t,ra(n)?n.get():n)),ra(n)?n.get():n}setBaseTarget(t,r){this.baseTarget[t]=r}getBaseTarget(t){const{initial:r}=this.props;let n;if(typeof r=="string"||typeof r=="object"){const i=xS(this.props,r,this.presenceContext?.custom);i&&(n=i[t])}if(r&&n!==void 0)return n;const a=this.getBaseTargetFromProps(this.props,t);return a!==void 0&&!ra(a)?a:this.initialValues[t]!==void 0&&n===void 0?void 0:this.baseTarget[t]}on(t,r){return this.events[t]||(this.events[t]=new YN),this.events[t].add(r)}notify(t,...r){this.events[t]&&this.events[t].notify(...r)}scheduleRenderMicrotask(){uS.render(this.render)}}class p8 extends iQ{constructor(){super(...arguments),this.KeyframeResolver=iX}sortInstanceNodePosition(t,r){return t.compareDocumentPosition(r)&2?1:-1}getBaseTargetFromProps(t,r){return t.style?t.style[r]:void 0}removeValueFromRenderState(t,{vars:r,style:n}){delete r[t],delete n[t]}handleChildMotionValue(){this.childSubscription&&(this.childSubscription(),delete this.childSubscription);const{children:t}=this.props;ra(t)&&(this.childSubscription=t.on("change",r=>{this.current&&(this.current.textContent=`${r}`)}))}}function g8(e,{style:t,vars:r},n,a){const i=e.style;let l;for(l in t)i[l]=t[l];a?.applyProjectionStyles(i,n);for(l in r)i.setProperty(l,r[l])}function lQ(e){return window.getComputedStyle(e)}class oQ extends p8{constructor(){super(...arguments),this.type="html",this.renderInstance=g8}readValueFromInstance(t,r){if(Xd.has(r))return this.projection?.isProjecting?J2(r):kY(t,r);{const n=lQ(t),a=(ZN(r)?n.getPropertyValue(r):n[r])||0;return typeof a=="string"?a.trim():a}}measureInstanceViewportBox(t,{transformPagePoint:r}){return h8(t,r)}build(t,r,n){mS(t,r,n.transformTemplate)}scrapeMotionValuesFromProps(t,r,n){return yS(t,r,n)}}const x8=new Set(["baseFrequency","diffuseConstant","kernelMatrix","kernelUnitLength","keySplines","keyTimes","limitingConeAngle","markerHeight","markerWidth","numOctaves","targetX","targetY","surfaceScale","specularConstant","specularExponent","stdDeviation","tableValues","viewBox","gradientTransform","pathLength","startOffset","textLength","lengthAdjust"]);function cQ(e,t,r,n){g8(e,t,void 0,n);for(const a in t.attrs)e.setAttribute(x8.has(a)?a:vS(a),t.attrs[a])}class uQ extends p8{constructor(){super(...arguments),this.type="svg",this.isSVGTag=!1,this.measureInstanceViewportBox=Yr}getBaseTargetFromProps(t,r){return t[r]}readValueFromInstance(t,r){if(Xd.has(r)){const n=HR(r);return n&&n.default||0}return r=x8.has(r)?r:vS(r),t.getAttribute(r)}scrapeMotionValuesFromProps(t,r,n){return i8(t,r,n)}build(t,r,n){r8(t,r,this.isSVGTag,n.transformTemplate,n.style)}renderInstance(t,r,n,a){cQ(t,r,n,a)}mount(t){this.isSVGTag=a8(t.tagName),super.mount(t)}}const dQ=(e,t)=>gS(e)?new uQ(t):new oQ(t,{allowProjection:e!==v.Fragment});function md(e,t,r){const n=e.getProps();return xS(n,t,r!==void 0?r:n.custom,e)}const cj=e=>Array.isArray(e);function fQ(e,t,r){e.hasValue(t)?e.getValue(t).set(r):e.addValue(t,kd(r))}function hQ(e){return cj(e)?e[e.length-1]||0:e}function mQ(e,t){const r=md(e,t);let{transitionEnd:n={},transition:a={},...i}=r||{};i={...i,...n};for(const l in i){const c=hQ(i[l]);fQ(e,l,c)}}function pQ(e){return!!(ra(e)&&e.add)}function uj(e,t){const r=e.getValue("willChange");if(pQ(r))return r.add(t);if(!r&&jl.WillChange){const n=new jl.WillChange("auto");e.addValue("willChange",n),n.add(t)}}function y8(e){return e.props[l8]}const gQ=e=>e!==null;function xQ(e,{repeat:t,repeatType:r="loop"},n){const a=e.filter(gQ),i=t&&r!=="loop"&&t%2===1?0:a.length-1;return a[i]}const yQ={type:"spring",stiffness:500,damping:25,restSpeed:10},vQ=e=>({type:"spring",stiffness:550,damping:e===0?2*Math.sqrt(550):30,restSpeed:10}),bQ={type:"keyframes",duration:.8},wQ={type:"keyframes",ease:[.25,.1,.35,1],duration:.3},jQ=(e,{keyframes:t})=>t.length>2?bQ:Xd.has(e)?e.startsWith("scale")?vQ(t[1]):yQ:wQ;function NQ({when:e,delay:t,delayChildren:r,staggerChildren:n,staggerDirection:a,repeat:i,repeatType:l,repeatDelay:c,from:d,elapsed:f,...h}){return!!Object.keys(h).length}const bS=(e,t,r,n={},a,i)=>l=>{const c=oS(n,e)||{},d=c.delay||n.delay||0;let{elapsed:f=0}=n;f=f-Ci(d);const h={keyframes:Array.isArray(r)?r:[null,r],ease:"easeOut",velocity:t.getVelocity(),...c,delay:-f,onUpdate:g=>{t.set(g),c.onUpdate&&c.onUpdate(g)},onComplete:()=>{l(),c.onComplete&&c.onComplete()},name:e,motionValue:t,element:i?void 0:a};NQ(c)||Object.assign(h,jQ(e,h)),h.duration&&(h.duration=Ci(h.duration)),h.repeatDelay&&(h.repeatDelay=Ci(h.repeatDelay)),h.from!==void 0&&(h.keyframes[0]=h.from);let p=!1;if((h.type===!1||h.duration===0&&!h.repeatDelay)&&(aj(h),h.delay===0&&(p=!0)),(jl.instantAnimations||jl.skipAnimations)&&(p=!0,aj(h),h.delay=0),h.allowFlatten=!c.type&&!c.ease,p&&!i&&t.get()!==void 0){const g=xQ(h.keyframes,c);if(g!==void 0){Or.update(()=>{h.onUpdate(g),h.onComplete()});return}}return c.isSync?new iS(h):new KY(h)};function SQ({protectedKeys:e,needsAnimating:t},r){const n=e.hasOwnProperty(r)&&t[r]!==!0;return t[r]=!1,n}function v8(e,t,{delay:r=0,transitionOverride:n,type:a}={}){let{transition:i=e.getDefaultTransition(),transitionEnd:l,...c}=t;n&&(i=n);const d=[],f=a&&e.animationState&&e.animationState.getState()[a];for(const h in c){const p=e.getValue(h,e.latestValues[h]??null),g=c[h];if(g===void 0||f&&SQ(f,h))continue;const y={delay:r,...oS(i||{},h)},b=p.get();if(b!==void 0&&!p.isAnimating&&!Array.isArray(g)&&g===b&&!y.velocity)continue;let w=!1;if(window.MotionHandoffAnimation){const S=y8(e);if(S){const _=window.MotionHandoffAnimation(S,h,Or);_!==null&&(y.startTime=_,w=!0)}}uj(e,h),p.start(bS(h,p,g,e.shouldReduceMotion&&$R.has(h)?{type:!1}:y,e,w));const j=p.animation;j&&d.push(j)}return l&&Promise.all(d).then(()=>{Or.update(()=>{l&&mQ(e,l)})}),d}function b8(e,t,r,n=0,a=1){const i=Array.from(e).sort((f,h)=>f.sortNodePosition(h)).indexOf(t),l=e.size,c=(l-1)*n;return typeof r=="function"?r(i,l):a===1?i*n:c-i*n}function dj(e,t,r={}){const n=md(e,t,r.type==="exit"?e.presenceContext?.custom:void 0);let{transition:a=e.getDefaultTransition()||{}}=n||{};r.transitionOverride&&(a=r.transitionOverride);const i=n?()=>Promise.all(v8(e,n,r)):()=>Promise.resolve(),l=e.variantChildren&&e.variantChildren.size?(d=0)=>{const{delayChildren:f=0,staggerChildren:h,staggerDirection:p}=a;return kQ(e,t,d,f,h,p,r)}:()=>Promise.resolve(),{when:c}=a;if(c){const[d,f]=c==="beforeChildren"?[i,l]:[l,i];return d().then(()=>f())}else return Promise.all([i(),l(r.delay)])}function kQ(e,t,r=0,n=0,a=0,i=1,l){const c=[];for(const d of e.variantChildren)d.notify("AnimationStart",t),c.push(dj(d,t,{...l,delay:r+(typeof n=="function"?0:n)+b8(e.variantChildren,d,n,a,i)}).then(()=>d.notify("AnimationComplete",t)));return Promise.all(c)}function _Q(e,t,r={}){e.notify("AnimationStart",t);let n;if(Array.isArray(t)){const a=t.map(i=>dj(e,i,r));n=Promise.all(a)}else if(typeof t=="string")n=dj(e,t,r);else{const a=typeof t=="function"?md(e,t,r.custom):t;n=Promise.all(v8(e,a,r))}return n.then(()=>{e.notify("AnimationComplete",t)})}function w8(e,t){if(!Array.isArray(t))return!1;const r=t.length;if(r!==e.length)return!1;for(let n=0;n<r;n++)if(t[n]!==e[n])return!1;return!0}const EQ=hS.length;function j8(e){if(!e)return;if(!e.isControllingVariants){const r=e.parent?j8(e.parent)||{}:{};return e.props.initial!==void 0&&(r.initial=e.props.initial),r}const t={};for(let r=0;r<EQ;r++){const n=hS[r],a=e.props[n];(gh(a)||a===!1)&&(t[n]=a)}return t}const AQ=[...fS].reverse(),TQ=fS.length;function CQ(e){return t=>Promise.all(t.map(({animation:r,options:n})=>_Q(e,r,n)))}function OQ(e){let t=CQ(e),r=HC(),n=!0;const a=d=>(f,h)=>{const p=md(e,h,d==="exit"?e.presenceContext?.custom:void 0);if(p){const{transition:g,transitionEnd:y,...b}=p;f={...f,...b,...y}}return f};function i(d){t=d(e)}function l(d){const{props:f}=e,h=j8(e.parent)||{},p=[],g=new Set;let y={},b=1/0;for(let j=0;j<TQ;j++){const S=AQ[j],_=r[S],E=f[S]!==void 0?f[S]:h[S],T=gh(E),A=S===d?_.isActive:null;A===!1&&(b=j);let C=E===h[S]&&E!==f[S]&&T;if(C&&n&&e.manuallyAnimateOnMount&&(C=!1),_.protectedKeys={...y},!_.isActive&&A===null||!E&&!_.prevProp||Yx(E)||typeof E=="boolean")continue;const O=DQ(_.prevProp,E);let P=O||S===d&&_.isActive&&!C&&T||j>b&&T,F=!1;const G=Array.isArray(E)?E:[E];let W=G.reduce(a(S),{});A===!1&&(W={});const{prevResolvedValues:ee={}}=_,ue={...ee,...W},fe=J=>{P=!0,g.has(J)&&(F=!0,g.delete(J)),_.needsAnimating[J]=!0;const se=e.getValue(J);se&&(se.liveStyle=!1)};for(const J in ue){const se=W[J],xe=ee[J];if(y.hasOwnProperty(J))continue;let U=!1;cj(se)&&cj(xe)?U=!w8(se,xe):U=se!==xe,U?se!=null?fe(J):g.add(J):se!==void 0&&g.has(J)?fe(J):_.protectedKeys[J]=!0}_.prevProp=E,_.prevResolvedValues=W,_.isActive&&(y={...y,...W}),n&&e.blockInitialAnimation&&(P=!1);const Q=C&&O;P&&(!Q||F)&&p.push(...G.map(J=>{const se={type:S};if(typeof J=="string"&&n&&!Q&&e.manuallyAnimateOnMount&&e.parent){const{parent:xe}=e,U=md(xe,J);if(xe.enteringChildren&&U){const{delayChildren:ae}=U.transition||{};se.delay=b8(xe.enteringChildren,e,ae)}}return{animation:J,options:se}}))}if(g.size){const j={};if(typeof f.initial!="boolean"){const S=md(e,Array.isArray(f.initial)?f.initial[0]:f.initial);S&&S.transition&&(j.transition=S.transition)}g.forEach(S=>{const _=e.getBaseTarget(S),E=e.getValue(S);E&&(E.liveStyle=!0),j[S]=_??null}),p.push({animation:j})}let w=!!p.length;return n&&(f.initial===!1||f.initial===f.animate)&&!e.manuallyAnimateOnMount&&(w=!1),n=!1,w?t(p):Promise.resolve()}function c(d,f){if(r[d].isActive===f)return Promise.resolve();e.variantChildren?.forEach(p=>p.animationState?.setActive(d,f)),r[d].isActive=f;const h=l(d);for(const p in r)r[p].protectedKeys={};return h}return{animateChanges:l,setActive:c,setAnimateFunction:i,getState:()=>r,reset:()=>{r=HC(),n=!0}}}function DQ(e,t){return typeof t=="string"?t!==e:Array.isArray(t)?!w8(t,e):!1}function xc(e=!1){return{isActive:e,protectedKeys:{},needsAnimating:{},prevResolvedValues:{}}}function HC(){return{animate:xc(!0),whileInView:xc(),whileHover:xc(),whileTap:xc(),whileDrag:xc(),whileFocus:xc(),exit:xc()}}class Ho{constructor(t){this.isMounted=!1,this.node=t}update(){}}class PQ extends Ho{constructor(t){super(t),t.animationState||(t.animationState=OQ(t))}updateAnimationControlsSubscription(){const{animate:t}=this.node.getProps();Yx(t)&&(this.unmountControls=t.subscribe(this.node))}mount(){this.updateAnimationControlsSubscription()}update(){const{animate:t}=this.node.getProps(),{animate:r}=this.node.prevProps||{};t!==r&&this.updateAnimationControlsSubscription()}unmount(){this.node.animationState.reset(),this.unmountControls?.()}}let MQ=0;class RQ extends Ho{constructor(){super(...arguments),this.id=MQ++}update(){if(!this.node.presenceContext)return;const{isPresent:t,onExitComplete:r}=this.node.presenceContext,{isPresent:n}=this.node.prevPresenceContext||{};if(!this.node.animationState||t===n)return;const a=this.node.animationState.setActive("exit",!t);r&&!t&&a.then(()=>{r(this.id)})}mount(){const{register:t,onExitComplete:r}=this.node.presenceContext||{};r&&r(this.id),t&&(this.unmount=t(this.id))}unmount(){}}const IQ={animation:{Feature:PQ},exit:{Feature:RQ}};function yh(e,t,r,n={passive:!0}){return e.addEventListener(t,r,n),()=>e.removeEventListener(t,r)}function Jh(e){return{point:{x:e.pageX,y:e.pageY}}}const FQ=e=>t=>dS(t)&&e(t,Jh(t));function H0(e,t,r,n){return yh(e,t,FQ(r),n)}const N8=1e-4,LQ=1-N8,BQ=1+N8,S8=.01,$Q=0-S8,UQ=0+S8;function ua(e){return e.max-e.min}function zQ(e,t,r){return Math.abs(e-t)<=r}function VC(e,t,r,n=.5){e.origin=n,e.originPoint=Fr(t.min,t.max,e.origin),e.scale=ua(r)/ua(t),e.translate=Fr(r.min,r.max,e.origin)-e.originPoint,(e.scale>=LQ&&e.scale<=BQ||isNaN(e.scale))&&(e.scale=1),(e.translate>=$Q&&e.translate<=UQ||isNaN(e.translate))&&(e.translate=0)}function V0(e,t,r,n){VC(e.x,t.x,r.x,n?n.originX:void 0),VC(e.y,t.y,r.y,n?n.originY:void 0)}function qC(e,t,r){e.min=r.min+t.min,e.max=e.min+ua(t)}function HQ(e,t,r){qC(e.x,t.x,r.x),qC(e.y,t.y,r.y)}function WC(e,t,r){e.min=t.min-r.min,e.max=e.min+ua(t)}function q0(e,t,r){WC(e.x,t.x,r.x),WC(e.y,t.y,r.y)}function Os(e){return[e("x"),e("y")]}const k8=({current:e})=>e?e.ownerDocument.defaultView:null,GC=(e,t)=>Math.abs(e-t);function VQ(e,t){const r=GC(e.x,t.x),n=GC(e.y,t.y);return Math.sqrt(r**2+n**2)}class _8{constructor(t,r,{transformPagePoint:n,contextWindow:a=window,dragSnapToOrigin:i=!1,distanceThreshold:l=3}={}){if(this.startEvent=null,this.lastMoveEvent=null,this.lastMoveEventInfo=null,this.handlers={},this.contextWindow=window,this.updatePoint=()=>{if(!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const g=b1(this.lastMoveEventInfo,this.history),y=this.startEvent!==null,b=VQ(g.offset,{x:0,y:0})>=this.distanceThreshold;if(!y&&!b)return;const{point:w}=g,{timestamp:j}=$n;this.history.push({...w,timestamp:j});const{onStart:S,onMove:_}=this.handlers;y||(S&&S(this.lastMoveEvent,g),this.startEvent=this.lastMoveEvent),_&&_(this.lastMoveEvent,g)},this.handlePointerMove=(g,y)=>{this.lastMoveEvent=g,this.lastMoveEventInfo=v1(y,this.transformPagePoint),Or.update(this.updatePoint,!0)},this.handlePointerUp=(g,y)=>{this.end();const{onEnd:b,onSessionEnd:w,resumeAnimation:j}=this.handlers;if(this.dragSnapToOrigin&&j&&j(),!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const S=b1(g.type==="pointercancel"?this.lastMoveEventInfo:v1(y,this.transformPagePoint),this.history);this.startEvent&&b&&b(g,S),w&&w(g,S)},!dS(t))return;this.dragSnapToOrigin=i,this.handlers=r,this.transformPagePoint=n,this.distanceThreshold=l,this.contextWindow=a||window;const c=Jh(t),d=v1(c,this.transformPagePoint),{point:f}=d,{timestamp:h}=$n;this.history=[{...f,timestamp:h}];const{onSessionStart:p}=r;p&&p(t,b1(d,this.history)),this.removeListeners=Xh(H0(this.contextWindow,"pointermove",this.handlePointerMove),H0(this.contextWindow,"pointerup",this.handlePointerUp),H0(this.contextWindow,"pointercancel",this.handlePointerUp))}updateHandlers(t){this.handlers=t}end(){this.removeListeners&&this.removeListeners(),To(this.updatePoint)}}function v1(e,t){return t?{point:t(e.point)}:e}function KC(e,t){return{x:e.x-t.x,y:e.y-t.y}}function b1({point:e},t){return{point:e,delta:KC(e,E8(t)),offset:KC(e,qQ(t)),velocity:WQ(t,.1)}}function qQ(e){return e[0]}function E8(e){return e[e.length-1]}function WQ(e,t){if(e.length<2)return{x:0,y:0};let r=e.length-1,n=null;const a=E8(e);for(;r>=0&&(n=e[r],!(a.timestamp-n.timestamp>Ci(t)));)r--;if(!n)return{x:0,y:0};const i=Oi(a.timestamp-n.timestamp);if(i===0)return{x:0,y:0};const l={x:(a.x-n.x)/i,y:(a.y-n.y)/i};return l.x===1/0&&(l.x=0),l.y===1/0&&(l.y=0),l}function GQ(e,{min:t,max:r},n){return t!==void 0&&e<t?e=n?Fr(t,e,n.min):Math.max(e,t):r!==void 0&&e>r&&(e=n?Fr(r,e,n.max):Math.min(e,r)),e}function YC(e,t,r){return{min:t!==void 0?e.min+t:void 0,max:r!==void 0?e.max+r-(e.max-e.min):void 0}}function KQ(e,{top:t,left:r,bottom:n,right:a}){return{x:YC(e.x,r,a),y:YC(e.y,t,n)}}function XC(e,t){let r=t.min-e.min,n=t.max-e.max;return t.max-t.min<e.max-e.min&&([r,n]=[n,r]),{min:r,max:n}}function YQ(e,t){return{x:XC(e.x,t.x),y:XC(e.y,t.y)}}function XQ(e,t){let r=.5;const n=ua(e),a=ua(t);return a>n?r=hh(t.min,t.max-n,e.min):n>a&&(r=hh(e.min,e.max-a,t.min)),wl(0,1,r)}function QQ(e,t){const r={};return t.min!==void 0&&(r.min=t.min-e.min),t.max!==void 0&&(r.max=t.max-e.min),r}const fj=.35;function ZQ(e=fj){return e===!1?e=0:e===!0&&(e=fj),{x:QC(e,"left","right"),y:QC(e,"top","bottom")}}function QC(e,t,r){return{min:ZC(e,t),max:ZC(e,r)}}function ZC(e,t){return typeof e=="number"?e:e[t]||0}const JQ=new WeakMap;class eZ{constructor(t){this.openDragLock=null,this.isDragging=!1,this.currentDirection=null,this.originPoint={x:0,y:0},this.constraints=!1,this.hasMutatedConstraints=!1,this.elastic=Yr(),this.latestPointerEvent=null,this.latestPanInfo=null,this.visualElement=t}start(t,{snapToCursor:r=!1,distanceThreshold:n}={}){const{presenceContext:a}=this.visualElement;if(a&&a.isPresent===!1)return;const i=p=>{const{dragSnapToOrigin:g}=this.getProps();g?this.pauseAnimation():this.stopAnimation(),r&&this.snapToCursor(Jh(p).point)},l=(p,g)=>{const{drag:y,dragPropagation:b,onDragStart:w}=this.getProps();if(y&&!b&&(this.openDragLock&&this.openDragLock(),this.openDragLock=dX(y),!this.openDragLock))return;this.latestPointerEvent=p,this.latestPanInfo=g,this.isDragging=!0,this.currentDirection=null,this.resolveConstraints(),this.visualElement.projection&&(this.visualElement.projection.isAnimationBlocked=!0,this.visualElement.projection.target=void 0),Os(S=>{let _=this.getAxisMotionValue(S).get()||0;if(Di.test(_)){const{projection:E}=this.visualElement;if(E&&E.layout){const T=E.layout.layoutBox[S];T&&(_=ua(T)*(parseFloat(_)/100))}}this.originPoint[S]=_}),w&&Or.postRender(()=>w(p,g)),uj(this.visualElement,"transform");const{animationState:j}=this.visualElement;j&&j.setActive("whileDrag",!0)},c=(p,g)=>{this.latestPointerEvent=p,this.latestPanInfo=g;const{dragPropagation:y,dragDirectionLock:b,onDirectionLock:w,onDrag:j}=this.getProps();if(!y&&!this.openDragLock)return;const{offset:S}=g;if(b&&this.currentDirection===null){this.currentDirection=tZ(S),this.currentDirection!==null&&w&&w(this.currentDirection);return}this.updateAxis("x",g.point,S),this.updateAxis("y",g.point,S),this.visualElement.render(),j&&j(p,g)},d=(p,g)=>{this.latestPointerEvent=p,this.latestPanInfo=g,this.stop(p,g),this.latestPointerEvent=null,this.latestPanInfo=null},f=()=>Os(p=>this.getAnimationState(p)==="paused"&&this.getAxisMotionValue(p).animation?.play()),{dragSnapToOrigin:h}=this.getProps();this.panSession=new _8(t,{onSessionStart:i,onStart:l,onMove:c,onSessionEnd:d,resumeAnimation:f},{transformPagePoint:this.visualElement.getTransformPagePoint(),dragSnapToOrigin:h,distanceThreshold:n,contextWindow:k8(this.visualElement)})}stop(t,r){const n=t||this.latestPointerEvent,a=r||this.latestPanInfo,i=this.isDragging;if(this.cancel(),!i||!a||!n)return;const{velocity:l}=a;this.startAnimation(l);const{onDragEnd:c}=this.getProps();c&&Or.postRender(()=>c(n,a))}cancel(){this.isDragging=!1;const{projection:t,animationState:r}=this.visualElement;t&&(t.isAnimationBlocked=!1),this.panSession&&this.panSession.end(),this.panSession=void 0;const{dragPropagation:n}=this.getProps();!n&&this.openDragLock&&(this.openDragLock(),this.openDragLock=null),r&&r.setActive("whileDrag",!1)}updateAxis(t,r,n){const{drag:a}=this.getProps();if(!n||!Lp(t,a,this.currentDirection))return;const i=this.getAxisMotionValue(t);let l=this.originPoint[t]+n[t];this.constraints&&this.constraints[t]&&(l=GQ(l,this.constraints[t],this.elastic[t])),i.set(l)}resolveConstraints(){const{dragConstraints:t,dragElastic:r}=this.getProps(),n=this.visualElement.projection&&!this.visualElement.projection.layout?this.visualElement.projection.measure(!1):this.visualElement.projection?.layout,a=this.constraints;t&&ld(t)?this.constraints||(this.constraints=this.resolveRefConstraints()):t&&n?this.constraints=KQ(n.layoutBox,t):this.constraints=!1,this.elastic=ZQ(r),a!==this.constraints&&n&&this.constraints&&!this.hasMutatedConstraints&&Os(i=>{this.constraints!==!1&&this.getAxisMotionValue(i)&&(this.constraints[i]=QQ(n.layoutBox[i],this.constraints[i]))})}resolveRefConstraints(){const{dragConstraints:t,onMeasureDragConstraints:r}=this.getProps();if(!t||!ld(t))return!1;const n=t.current,{projection:a}=this.visualElement;if(!a||!a.layout)return!1;const i=rQ(n,a.root,this.visualElement.getTransformPagePoint());let l=YQ(a.layout.layoutBox,i);if(r){const c=r(JX(l));this.hasMutatedConstraints=!!c,c&&(l=u8(c))}return l}startAnimation(t){const{drag:r,dragMomentum:n,dragElastic:a,dragTransition:i,dragSnapToOrigin:l,onDragTransitionEnd:c}=this.getProps(),d=this.constraints||{},f=Os(h=>{if(!Lp(h,r,this.currentDirection))return;let p=d&&d[h]||{};l&&(p={min:0,max:0});const g=a?200:1e6,y=a?40:1e7,b={type:"inertia",velocity:n?t[h]:0,bounceStiffness:g,bounceDamping:y,timeConstant:750,restDelta:1,restSpeed:10,...i,...p};return this.startAxisValueAnimation(h,b)});return Promise.all(f).then(c)}startAxisValueAnimation(t,r){const n=this.getAxisMotionValue(t);return uj(this.visualElement,t),n.start(bS(t,n,0,r,this.visualElement,!1))}stopAnimation(){Os(t=>this.getAxisMotionValue(t).stop())}pauseAnimation(){Os(t=>this.getAxisMotionValue(t).animation?.pause())}getAnimationState(t){return this.getAxisMotionValue(t).animation?.state}getAxisMotionValue(t){const r=`_drag${t.toUpperCase()}`,n=this.visualElement.getProps(),a=n[r];return a||this.visualElement.getValue(t,(n.initial?n.initial[t]:void 0)||0)}snapToCursor(t){Os(r=>{const{drag:n}=this.getProps();if(!Lp(r,n,this.currentDirection))return;const{projection:a}=this.visualElement,i=this.getAxisMotionValue(r);if(a&&a.layout){const{min:l,max:c}=a.layout.layoutBox[r];i.set(t[r]-Fr(l,c,.5))}})}scalePositionWithinConstraints(){if(!this.visualElement.current)return;const{drag:t,dragConstraints:r}=this.getProps(),{projection:n}=this.visualElement;if(!ld(r)||!n||!this.constraints)return;this.stopAnimation();const a={x:0,y:0};Os(l=>{const c=this.getAxisMotionValue(l);if(c&&this.constraints!==!1){const d=c.get();a[l]=XQ({min:d,max:d},this.constraints[l])}});const{transformTemplate:i}=this.visualElement.getProps();this.visualElement.current.style.transform=i?i({},""):"none",n.root&&n.root.updateScroll(),n.updateLayout(),this.resolveConstraints(),Os(l=>{if(!Lp(l,t,null))return;const c=this.getAxisMotionValue(l),{min:d,max:f}=this.constraints[l];c.set(Fr(d,f,a[l]))})}addListeners(){if(!this.visualElement.current)return;JQ.set(this.visualElement,this);const t=this.visualElement.current,r=H0(t,"pointerdown",d=>{const{drag:f,dragListener:h=!0}=this.getProps();f&&h&&this.start(d)}),n=()=>{const{dragConstraints:d}=this.getProps();ld(d)&&d.current&&(this.constraints=this.resolveRefConstraints())},{projection:a}=this.visualElement,i=a.addEventListener("measure",n);a&&!a.layout&&(a.root&&a.root.updateScroll(),a.updateLayout()),Or.read(n);const l=yh(window,"resize",()=>this.scalePositionWithinConstraints()),c=a.addEventListener("didUpdate",({delta:d,hasLayoutChanged:f})=>{this.isDragging&&f&&(Os(h=>{const p=this.getAxisMotionValue(h);p&&(this.originPoint[h]+=d[h].translate,p.set(p.get()+d[h].translate))}),this.visualElement.render())});return()=>{l(),r(),i(),c&&c()}}getProps(){const t=this.visualElement.getProps(),{drag:r=!1,dragDirectionLock:n=!1,dragPropagation:a=!1,dragConstraints:i=!1,dragElastic:l=fj,dragMomentum:c=!0}=t;return{...t,drag:r,dragDirectionLock:n,dragPropagation:a,dragConstraints:i,dragElastic:l,dragMomentum:c}}}function Lp(e,t,r){return(t===!0||t===e)&&(r===null||r===e)}function tZ(e,t=10){let r=null;return Math.abs(e.y)>t?r="y":Math.abs(e.x)>t&&(r="x"),r}class rZ extends Ho{constructor(t){super(t),this.removeGroupControls=$s,this.removeListeners=$s,this.controls=new eZ(t)}mount(){const{dragControls:t}=this.node.getProps();t&&(this.removeGroupControls=t.subscribe(this.controls)),this.removeListeners=this.controls.addListeners()||$s}unmount(){this.removeGroupControls(),this.removeListeners()}}const JC=e=>(t,r)=>{e&&Or.postRender(()=>e(t,r))};class nZ extends Ho{constructor(){super(...arguments),this.removePointerDownListener=$s}onPointerDown(t){this.session=new _8(t,this.createPanHandlers(),{transformPagePoint:this.node.getTransformPagePoint(),contextWindow:k8(this.node)})}createPanHandlers(){const{onPanSessionStart:t,onPanStart:r,onPan:n,onPanEnd:a}=this.node.getProps();return{onSessionStart:JC(t),onStart:JC(r),onMove:n,onEnd:(i,l)=>{delete this.session,a&&Or.postRender(()=>a(i,l))}}}mount(){this.removePointerDownListener=H0(this.node.current,"pointerdown",t=>this.onPointerDown(t))}update(){this.session&&this.session.updateHandlers(this.createPanHandlers())}unmount(){this.removePointerDownListener(),this.session&&this.session.end()}}const vg={hasAnimatedSinceResize:!0,hasEverUpdated:!1};function e3(e,t){return t.max===t.min?0:e/(t.max-t.min)*100}const p0={correct:(e,t)=>{if(!t.target)return e;if(typeof e=="string")if(mt.test(e))e=parseFloat(e);else return e;const r=e3(e,t.target.x),n=e3(e,t.target.y);return`${r}% ${n}%`}},aZ={correct:(e,{treeScale:t,projectionDelta:r})=>{const n=e,a=Co.parse(e);if(a.length>5)return n;const i=Co.createTransformer(e),l=typeof a[0]!="number"?1:0,c=r.x.scale*t.x,d=r.y.scale*t.y;a[0+l]/=c,a[1+l]/=d;const f=Fr(c,d,.5);return typeof a[2+l]=="number"&&(a[2+l]/=f),typeof a[3+l]=="number"&&(a[3+l]/=f),i(a)}};let w1=!1;class sZ extends v.Component{componentDidMount(){const{visualElement:t,layoutGroup:r,switchLayoutGroup:n,layoutId:a}=this.props,{projection:i}=t;EX(iZ),i&&(r.group&&r.group.add(i),n&&n.register&&a&&n.register(i),w1&&i.root.didUpdate(),i.addEventListener("animationComplete",()=>{this.safeToRemove()}),i.setOptions({...i.options,onExitComplete:()=>this.safeToRemove()})),vg.hasEverUpdated=!0}getSnapshotBeforeUpdate(t){const{layoutDependency:r,visualElement:n,drag:a,isPresent:i}=this.props,{projection:l}=n;return l&&(l.isPresent=i,w1=!0,a||t.layoutDependency!==r||r===void 0||t.isPresent!==i?l.willUpdate():this.safeToRemove(),t.isPresent!==i&&(i?l.promote():l.relegate()||Or.postRender(()=>{const c=l.getStack();(!c||!c.members.length)&&this.safeToRemove()}))),null}componentDidUpdate(){const{projection:t}=this.props.visualElement;t&&(t.root.didUpdate(),uS.postRender(()=>{!t.currentAnimation&&t.isLead()&&this.safeToRemove()}))}componentWillUnmount(){const{visualElement:t,layoutGroup:r,switchLayoutGroup:n}=this.props,{projection:a}=t;w1=!0,a&&(a.scheduleCheckAfterUnmount(),r&&r.group&&r.group.remove(a),n&&n.deregister&&n.deregister(a))}safeToRemove(){const{safeToRemove:t}=this.props;t&&t()}render(){return null}}function A8(e){const[t,r]=bX(),n=v.useContext(iR);return s.jsx(sZ,{...e,layoutGroup:n,switchLayoutGroup:v.useContext(o8),isPresent:t,safeToRemove:r})}const iZ={borderRadius:{...p0,applyTo:["borderTopLeftRadius","borderTopRightRadius","borderBottomLeftRadius","borderBottomRightRadius"]},borderTopLeftRadius:p0,borderTopRightRadius:p0,borderBottomLeftRadius:p0,borderBottomRightRadius:p0,boxShadow:aZ};function lZ(e,t,r){const n=ra(e)?e:kd(e);return n.start(bS("",n,t,r)),n.animation}const oZ=(e,t)=>e.depth-t.depth;class cZ{constructor(){this.children=[],this.isDirty=!1}add(t){qN(this.children,t),this.isDirty=!0}remove(t){WN(this.children,t),this.isDirty=!0}forEach(t){this.isDirty&&this.children.sort(oZ),this.isDirty=!1,this.children.forEach(t)}}function uZ(e,t){const r=Ta.now(),n=({timestamp:a})=>{const i=a-r;i>=t&&(To(n),e(i-t))};return Or.setup(n,!0),()=>To(n)}const T8=["TopLeft","TopRight","BottomLeft","BottomRight"],dZ=T8.length,t3=e=>typeof e=="string"?parseFloat(e):e,r3=e=>typeof e=="number"||mt.test(e);function fZ(e,t,r,n,a,i){a?(e.opacity=Fr(0,r.opacity??1,hZ(n)),e.opacityExit=Fr(t.opacity??1,0,mZ(n))):i&&(e.opacity=Fr(t.opacity??1,r.opacity??1,n));for(let l=0;l<dZ;l++){const c=`border${T8[l]}Radius`;let d=n3(t,c),f=n3(r,c);if(d===void 0&&f===void 0)continue;d||(d=0),f||(f=0),d===0||f===0||r3(d)===r3(f)?(e[c]=Math.max(Fr(t3(d),t3(f),n),0),(Di.test(f)||Di.test(d))&&(e[c]+="%")):e[c]=f}(t.rotate||r.rotate)&&(e.rotate=Fr(t.rotate||0,r.rotate||0,n))}function n3(e,t){return e[t]!==void 0?e[t]:e.borderRadius}const hZ=C8(0,.5,xR),mZ=C8(.5,.95,$s);function C8(e,t,r){return n=>n<e?0:n>t?1:r(hh(e,t,n))}function a3(e,t){e.min=t.min,e.max=t.max}function js(e,t){a3(e.x,t.x),a3(e.y,t.y)}function s3(e,t){e.translate=t.translate,e.scale=t.scale,e.originPoint=t.originPoint,e.origin=t.origin}function i3(e,t,r,n,a){return e-=t,e=Pg(e,1/r,n),a!==void 0&&(e=Pg(e,1/a,n)),e}function pZ(e,t=0,r=1,n=.5,a,i=e,l=e){if(Di.test(t)&&(t=parseFloat(t),t=Fr(l.min,l.max,t/100)-l.min),typeof t!="number")return;let c=Fr(i.min,i.max,n);e===i&&(c-=t),e.min=i3(e.min,t,r,c,a),e.max=i3(e.max,t,r,c,a)}function l3(e,t,[r,n,a],i,l){pZ(e,t[r],t[n],t[a],t.scale,i,l)}const gZ=["x","scaleX","originX"],xZ=["y","scaleY","originY"];function o3(e,t,r,n){l3(e.x,t,gZ,r?r.x:void 0,n?n.x:void 0),l3(e.y,t,xZ,r?r.y:void 0,n?n.y:void 0)}function c3(e){return e.translate===0&&e.scale===1}function O8(e){return c3(e.x)&&c3(e.y)}function u3(e,t){return e.min===t.min&&e.max===t.max}function yZ(e,t){return u3(e.x,t.x)&&u3(e.y,t.y)}function d3(e,t){return Math.round(e.min)===Math.round(t.min)&&Math.round(e.max)===Math.round(t.max)}function D8(e,t){return d3(e.x,t.x)&&d3(e.y,t.y)}function f3(e){return ua(e.x)/ua(e.y)}function h3(e,t){return e.translate===t.translate&&e.scale===t.scale&&e.originPoint===t.originPoint}class vZ{constructor(){this.members=[]}add(t){qN(this.members,t),t.scheduleRender()}remove(t){if(WN(this.members,t),t===this.prevLead&&(this.prevLead=void 0),t===this.lead){const r=this.members[this.members.length-1];r&&this.promote(r)}}relegate(t){const r=this.members.findIndex(a=>t===a);if(r===0)return!1;let n;for(let a=r;a>=0;a--){const i=this.members[a];if(i.isPresent!==!1){n=i;break}}return n?(this.promote(n),!0):!1}promote(t,r){const n=this.lead;if(t!==n&&(this.prevLead=n,this.lead=t,t.show(),n)){n.instance&&n.scheduleRender(),t.scheduleRender(),t.resumeFrom=n,r&&(t.resumeFrom.preserveOpacity=!0),n.snapshot&&(t.snapshot=n.snapshot,t.snapshot.latestValues=n.animationValues||n.latestValues),t.root&&t.root.isUpdating&&(t.isLayoutDirty=!0);const{crossfade:a}=t.options;a===!1&&n.hide()}}exitAnimationComplete(){this.members.forEach(t=>{const{options:r,resumingFrom:n}=t;r.onExitComplete&&r.onExitComplete(),n&&n.options.onExitComplete&&n.options.onExitComplete()})}scheduleRender(){this.members.forEach(t=>{t.instance&&t.scheduleRender(!1)})}removeLeadSnapshot(){this.lead&&this.lead.snapshot&&(this.lead.snapshot=void 0)}}function bZ(e,t,r){let n="";const a=e.x.translate/t.x,i=e.y.translate/t.y,l=r?.z||0;if((a||i||l)&&(n=`translate3d(${a}px, ${i}px, ${l}px) `),(t.x!==1||t.y!==1)&&(n+=`scale(${1/t.x}, ${1/t.y}) `),r){const{transformPerspective:f,rotate:h,rotateX:p,rotateY:g,skewX:y,skewY:b}=r;f&&(n=`perspective(${f}px) ${n}`),h&&(n+=`rotate(${h}deg) `),p&&(n+=`rotateX(${p}deg) `),g&&(n+=`rotateY(${g}deg) `),y&&(n+=`skewX(${y}deg) `),b&&(n+=`skewY(${b}deg) `)}const c=e.x.scale*t.x,d=e.y.scale*t.y;return(c!==1||d!==1)&&(n+=`scale(${c}, ${d})`),n||"none"}const j1=["","X","Y","Z"],wZ=1e3;let jZ=0;function N1(e,t,r,n){const{latestValues:a}=t;a[e]&&(r[e]=a[e],t.setStaticValue(e,0),n&&(n[e]=0))}function P8(e){if(e.hasCheckedOptimisedAppear=!0,e.root===e)return;const{visualElement:t}=e.options;if(!t)return;const r=y8(t);if(window.MotionHasOptimisedAnimation(r,"transform")){const{layout:a,layoutId:i}=e.options;window.MotionCancelOptimisedAnimation(r,"transform",Or,!(a||i))}const{parent:n}=e;n&&!n.hasCheckedOptimisedAppear&&P8(n)}function M8({attachResizeListener:e,defaultParent:t,measureScroll:r,checkIsScrollRoot:n,resetTransform:a}){return class{constructor(l={},c=t?.()){this.id=jZ++,this.animationId=0,this.animationCommitId=0,this.children=new Set,this.options={},this.isTreeAnimating=!1,this.isAnimationBlocked=!1,this.isLayoutDirty=!1,this.isProjectionDirty=!1,this.isSharedProjectionDirty=!1,this.isTransformDirty=!1,this.updateManuallyBlocked=!1,this.updateBlockedByResize=!1,this.isUpdating=!1,this.isSVG=!1,this.needsReset=!1,this.shouldResetTransform=!1,this.hasCheckedOptimisedAppear=!1,this.treeScale={x:1,y:1},this.eventHandlers=new Map,this.hasTreeAnimated=!1,this.updateScheduled=!1,this.scheduleUpdate=()=>this.update(),this.projectionUpdateScheduled=!1,this.checkUpdateFailed=()=>{this.isUpdating&&(this.isUpdating=!1,this.clearAllSnapshots())},this.updateProjection=()=>{this.projectionUpdateScheduled=!1,this.nodes.forEach(kZ),this.nodes.forEach(TZ),this.nodes.forEach(CZ),this.nodes.forEach(_Z)},this.resolvedRelativeTargetAt=0,this.hasProjected=!1,this.isVisible=!0,this.animationProgress=0,this.sharedNodes=new Map,this.latestValues=l,this.root=c?c.root||c:this,this.path=c?[...c.path,c]:[],this.parent=c,this.depth=c?c.depth+1:0;for(let d=0;d<this.path.length;d++)this.path[d].shouldResetTransform=!0;this.root===this&&(this.nodes=new cZ)}addEventListener(l,c){return this.eventHandlers.has(l)||this.eventHandlers.set(l,new YN),this.eventHandlers.get(l).add(c)}notifyListeners(l,...c){const d=this.eventHandlers.get(l);d&&d.notify(...c)}hasListeners(l){return this.eventHandlers.has(l)}mount(l){if(this.instance)return;this.isSVG=YR(l)&&!xX(l),this.instance=l;const{layoutId:c,layout:d,visualElement:f}=this.options;if(f&&!f.current&&f.mount(l),this.root.nodes.add(this),this.parent&&this.parent.children.add(this),this.root.hasTreeAnimated&&(d||c)&&(this.isLayoutDirty=!0),e){let h,p=0;const g=()=>this.root.updateBlockedByResize=!1;Or.read(()=>{p=window.innerWidth}),e(l,()=>{const y=window.innerWidth;y!==p&&(p=y,this.root.updateBlockedByResize=!0,h&&h(),h=uZ(g,250),vg.hasAnimatedSinceResize&&(vg.hasAnimatedSinceResize=!1,this.nodes.forEach(g3)))})}c&&this.root.registerSharedNode(c,this),this.options.animate!==!1&&f&&(c||d)&&this.addEventListener("didUpdate",({delta:h,hasLayoutChanged:p,hasRelativeLayoutChanged:g,layout:y})=>{if(this.isTreeAnimationBlocked()){this.target=void 0,this.relativeTarget=void 0;return}const b=this.options.transition||f.getDefaultTransition()||RZ,{onLayoutAnimationStart:w,onLayoutAnimationComplete:j}=f.getProps(),S=!this.targetLayout||!D8(this.targetLayout,y),_=!p&&g;if(this.options.layoutRoot||this.resumeFrom||_||p&&(S||!this.currentAnimation)){this.resumeFrom&&(this.resumingFrom=this.resumeFrom,this.resumingFrom.resumingFrom=void 0);const E={...oS(b,"layout"),onPlay:w,onComplete:j};(f.shouldReduceMotion||this.options.layoutRoot)&&(E.delay=0,E.type=!1),this.startAnimation(E),this.setAnimationOrigin(h,_)}else p||g3(this),this.isLead()&&this.options.onExitComplete&&this.options.onExitComplete();this.targetLayout=y})}unmount(){this.options.layoutId&&this.willUpdate(),this.root.nodes.remove(this);const l=this.getStack();l&&l.remove(this),this.parent&&this.parent.children.delete(this),this.instance=void 0,this.eventHandlers.clear(),To(this.updateProjection)}blockUpdate(){this.updateManuallyBlocked=!0}unblockUpdate(){this.updateManuallyBlocked=!1}isUpdateBlocked(){return this.updateManuallyBlocked||this.updateBlockedByResize}isTreeAnimationBlocked(){return this.isAnimationBlocked||this.parent&&this.parent.isTreeAnimationBlocked()||!1}startUpdate(){this.isUpdateBlocked()||(this.isUpdating=!0,this.nodes&&this.nodes.forEach(OZ),this.animationId++)}getTransformTemplate(){const{visualElement:l}=this.options;return l&&l.getProps().transformTemplate}willUpdate(l=!0){if(this.root.hasTreeAnimated=!0,this.root.isUpdateBlocked()){this.options.onExitComplete&&this.options.onExitComplete();return}if(window.MotionCancelOptimisedAnimation&&!this.hasCheckedOptimisedAppear&&P8(this),!this.root.isUpdating&&this.root.startUpdate(),this.isLayoutDirty)return;this.isLayoutDirty=!0;for(let h=0;h<this.path.length;h++){const p=this.path[h];p.shouldResetTransform=!0,p.updateScroll("snapshot"),p.options.layoutRoot&&p.willUpdate(!1)}const{layoutId:c,layout:d}=this.options;if(c===void 0&&!d)return;const f=this.getTransformTemplate();this.prevTransformTemplateValue=f?f(this.latestValues,""):void 0,this.updateSnapshot(),l&&this.notifyListeners("willUpdate")}update(){if(this.updateScheduled=!1,this.isUpdateBlocked()){this.unblockUpdate(),this.clearAllSnapshots(),this.nodes.forEach(m3);return}if(this.animationId<=this.animationCommitId){this.nodes.forEach(p3);return}this.animationCommitId=this.animationId,this.isUpdating?(this.isUpdating=!1,this.nodes.forEach(AZ),this.nodes.forEach(NZ),this.nodes.forEach(SZ)):this.nodes.forEach(p3),this.clearAllSnapshots();const c=Ta.now();$n.delta=wl(0,1e3/60,c-$n.timestamp),$n.timestamp=c,$n.isProcessing=!0,d1.update.process($n),d1.preRender.process($n),d1.render.process($n),$n.isProcessing=!1}didUpdate(){this.updateScheduled||(this.updateScheduled=!0,uS.read(this.scheduleUpdate))}clearAllSnapshots(){this.nodes.forEach(EZ),this.sharedNodes.forEach(DZ)}scheduleUpdateProjection(){this.projectionUpdateScheduled||(this.projectionUpdateScheduled=!0,Or.preRender(this.updateProjection,!1,!0))}scheduleCheckAfterUnmount(){Or.postRender(()=>{this.isLayoutDirty?this.root.didUpdate():this.root.checkUpdateFailed()})}updateSnapshot(){this.snapshot||!this.instance||(this.snapshot=this.measure(),this.snapshot&&!ua(this.snapshot.measuredBox.x)&&!ua(this.snapshot.measuredBox.y)&&(this.snapshot=void 0))}updateLayout(){if(!this.instance||(this.updateScroll(),!(this.options.alwaysMeasureLayout&&this.isLead())&&!this.isLayoutDirty))return;if(this.resumeFrom&&!this.resumeFrom.instance)for(let d=0;d<this.path.length;d++)this.path[d].updateScroll();const l=this.layout;this.layout=this.measure(!1),this.layoutCorrected=Yr(),this.isLayoutDirty=!1,this.projectionDelta=void 0,this.notifyListeners("measure",this.layout.layoutBox);const{visualElement:c}=this.options;c&&c.notify("LayoutMeasure",this.layout.layoutBox,l?l.layoutBox:void 0)}updateScroll(l="measure"){let c=!!(this.options.layoutScroll&&this.instance);if(this.scroll&&this.scroll.animationId===this.root.animationId&&this.scroll.phase===l&&(c=!1),c&&this.instance){const d=n(this.instance);this.scroll={animationId:this.root.animationId,phase:l,isRoot:d,offset:r(this.instance),wasRoot:this.scroll?this.scroll.isRoot:d}}}resetTransform(){if(!a)return;const l=this.isLayoutDirty||this.shouldResetTransform||this.options.alwaysMeasureLayout,c=this.projectionDelta&&!O8(this.projectionDelta),d=this.getTransformTemplate(),f=d?d(this.latestValues,""):void 0,h=f!==this.prevTransformTemplateValue;l&&this.instance&&(c||vc(this.latestValues)||h)&&(a(this.instance,f),this.shouldResetTransform=!1,this.scheduleRender())}measure(l=!0){const c=this.measurePageBox();let d=this.removeElementScroll(c);return l&&(d=this.removeTransform(d)),IZ(d),{animationId:this.root.animationId,measuredBox:c,layoutBox:d,latestValues:{},source:this.id}}measurePageBox(){const{visualElement:l}=this.options;if(!l)return Yr();const c=l.measureViewportBox();if(!(this.scroll?.wasRoot||this.path.some(FZ))){const{scroll:f}=this.root;f&&(od(c.x,f.offset.x),od(c.y,f.offset.y))}return c}removeElementScroll(l){const c=Yr();if(js(c,l),this.scroll?.wasRoot)return c;for(let d=0;d<this.path.length;d++){const f=this.path[d],{scroll:h,options:p}=f;f!==this.root&&h&&p.layoutScroll&&(h.wasRoot&&js(c,l),od(c.x,h.offset.x),od(c.y,h.offset.y))}return c}applyTransform(l,c=!1){const d=Yr();js(d,l);for(let f=0;f<this.path.length;f++){const h=this.path[f];!c&&h.options.layoutScroll&&h.scroll&&h!==h.root&&cd(d,{x:-h.scroll.offset.x,y:-h.scroll.offset.y}),vc(h.latestValues)&&cd(d,h.latestValues)}return vc(this.latestValues)&&cd(d,this.latestValues),d}removeTransform(l){const c=Yr();js(c,l);for(let d=0;d<this.path.length;d++){const f=this.path[d];if(!f.instance||!vc(f.latestValues))continue;ij(f.latestValues)&&f.updateSnapshot();const h=Yr(),p=f.measurePageBox();js(h,p),o3(c,f.latestValues,f.snapshot?f.snapshot.layoutBox:void 0,h)}return vc(this.latestValues)&&o3(c,this.latestValues),c}setTargetDelta(l){this.targetDelta=l,this.root.scheduleUpdateProjection(),this.isProjectionDirty=!0}setOptions(l){this.options={...this.options,...l,crossfade:l.crossfade!==void 0?l.crossfade:!0}}clearMeasurements(){this.scroll=void 0,this.layout=void 0,this.snapshot=void 0,this.prevTransformTemplateValue=void 0,this.targetDelta=void 0,this.target=void 0,this.isLayoutDirty=!1}forceRelativeParentToResolveTarget(){this.relativeParent&&this.relativeParent.resolvedRelativeTargetAt!==$n.timestamp&&this.relativeParent.resolveTargetDelta(!0)}resolveTargetDelta(l=!1){const c=this.getLead();this.isProjectionDirty||(this.isProjectionDirty=c.isProjectionDirty),this.isTransformDirty||(this.isTransformDirty=c.isTransformDirty),this.isSharedProjectionDirty||(this.isSharedProjectionDirty=c.isSharedProjectionDirty);const d=!!this.resumingFrom||this!==c;if(!(l||d&&this.isSharedProjectionDirty||this.isProjectionDirty||this.parent?.isProjectionDirty||this.attemptToResolveRelativeTarget||this.root.updateBlockedByResize))return;const{layout:h,layoutId:p}=this.options;if(!(!this.layout||!(h||p))){if(this.resolvedRelativeTargetAt=$n.timestamp,!this.targetDelta&&!this.relativeTarget){const g=this.getClosestProjectingParent();g&&g.layout&&this.animationProgress!==1?(this.relativeParent=g,this.forceRelativeParentToResolveTarget(),this.relativeTarget=Yr(),this.relativeTargetOrigin=Yr(),q0(this.relativeTargetOrigin,this.layout.layoutBox,g.layout.layoutBox),js(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}if(!(!this.relativeTarget&&!this.targetDelta)&&(this.target||(this.target=Yr(),this.targetWithTransforms=Yr()),this.relativeTarget&&this.relativeTargetOrigin&&this.relativeParent&&this.relativeParent.target?(this.forceRelativeParentToResolveTarget(),HQ(this.target,this.relativeTarget,this.relativeParent.target)):this.targetDelta?(this.resumingFrom?this.target=this.applyTransform(this.layout.layoutBox):js(this.target,this.layout.layoutBox),f8(this.target,this.targetDelta)):js(this.target,this.layout.layoutBox),this.attemptToResolveRelativeTarget)){this.attemptToResolveRelativeTarget=!1;const g=this.getClosestProjectingParent();g&&!!g.resumingFrom==!!this.resumingFrom&&!g.options.layoutScroll&&g.target&&this.animationProgress!==1?(this.relativeParent=g,this.forceRelativeParentToResolveTarget(),this.relativeTarget=Yr(),this.relativeTargetOrigin=Yr(),q0(this.relativeTargetOrigin,this.target,g.target),js(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}}}getClosestProjectingParent(){if(!(!this.parent||ij(this.parent.latestValues)||d8(this.parent.latestValues)))return this.parent.isProjecting()?this.parent:this.parent.getClosestProjectingParent()}isProjecting(){return!!((this.relativeTarget||this.targetDelta||this.options.layoutRoot)&&this.layout)}calcProjection(){const l=this.getLead(),c=!!this.resumingFrom||this!==l;let d=!0;if((this.isProjectionDirty||this.parent?.isProjectionDirty)&&(d=!1),c&&(this.isSharedProjectionDirty||this.isTransformDirty)&&(d=!1),this.resolvedRelativeTargetAt===$n.timestamp&&(d=!1),d)return;const{layout:f,layoutId:h}=this.options;if(this.isTreeAnimating=!!(this.parent&&this.parent.isTreeAnimating||this.currentAnimation||this.pendingAnimation),this.isTreeAnimating||(this.targetDelta=this.relativeTarget=void 0),!this.layout||!(f||h))return;js(this.layoutCorrected,this.layout.layoutBox);const p=this.treeScale.x,g=this.treeScale.y;tQ(this.layoutCorrected,this.treeScale,this.path,c),l.layout&&!l.target&&(this.treeScale.x!==1||this.treeScale.y!==1)&&(l.target=l.layout.layoutBox,l.targetWithTransforms=Yr());const{target:y}=l;if(!y){this.prevProjectionDelta&&(this.createProjectionDeltas(),this.scheduleRender());return}!this.projectionDelta||!this.prevProjectionDelta?this.createProjectionDeltas():(s3(this.prevProjectionDelta.x,this.projectionDelta.x),s3(this.prevProjectionDelta.y,this.projectionDelta.y)),V0(this.projectionDelta,this.layoutCorrected,y,this.latestValues),(this.treeScale.x!==p||this.treeScale.y!==g||!h3(this.projectionDelta.x,this.prevProjectionDelta.x)||!h3(this.projectionDelta.y,this.prevProjectionDelta.y))&&(this.hasProjected=!0,this.scheduleRender(),this.notifyListeners("projectionUpdate",y))}hide(){this.isVisible=!1}show(){this.isVisible=!0}scheduleRender(l=!0){if(this.options.visualElement?.scheduleRender(),l){const c=this.getStack();c&&c.scheduleRender()}this.resumingFrom&&!this.resumingFrom.instance&&(this.resumingFrom=void 0)}createProjectionDeltas(){this.prevProjectionDelta=ud(),this.projectionDelta=ud(),this.projectionDeltaWithTransform=ud()}setAnimationOrigin(l,c=!1){const d=this.snapshot,f=d?d.latestValues:{},h={...this.latestValues},p=ud();(!this.relativeParent||!this.relativeParent.options.layoutRoot)&&(this.relativeTarget=this.relativeTargetOrigin=void 0),this.attemptToResolveRelativeTarget=!c;const g=Yr(),y=d?d.source:void 0,b=this.layout?this.layout.source:void 0,w=y!==b,j=this.getStack(),S=!j||j.members.length<=1,_=!!(w&&!S&&this.options.crossfade===!0&&!this.path.some(MZ));this.animationProgress=0;let E;this.mixTargetDelta=T=>{const A=T/1e3;x3(p.x,l.x,A),x3(p.y,l.y,A),this.setTargetDelta(p),this.relativeTarget&&this.relativeTargetOrigin&&this.layout&&this.relativeParent&&this.relativeParent.layout&&(q0(g,this.layout.layoutBox,this.relativeParent.layout.layoutBox),PZ(this.relativeTarget,this.relativeTargetOrigin,g,A),E&&yZ(this.relativeTarget,E)&&(this.isProjectionDirty=!1),E||(E=Yr()),js(E,this.relativeTarget)),w&&(this.animationValues=h,fZ(h,f,this.latestValues,A,_,S)),this.root.scheduleUpdateProjection(),this.scheduleRender(),this.animationProgress=A},this.mixTargetDelta(this.options.layoutRoot?1e3:0)}startAnimation(l){this.notifyListeners("animationStart"),this.currentAnimation?.stop(),this.resumingFrom?.currentAnimation?.stop(),this.pendingAnimation&&(To(this.pendingAnimation),this.pendingAnimation=void 0),this.pendingAnimation=Or.update(()=>{vg.hasAnimatedSinceResize=!0,this.motionValue||(this.motionValue=kd(0)),this.currentAnimation=lZ(this.motionValue,[0,1e3],{...l,velocity:0,isSync:!0,onUpdate:c=>{this.mixTargetDelta(c),l.onUpdate&&l.onUpdate(c)},onStop:()=>{},onComplete:()=>{l.onComplete&&l.onComplete(),this.completeAnimation()}}),this.resumingFrom&&(this.resumingFrom.currentAnimation=this.currentAnimation),this.pendingAnimation=void 0})}completeAnimation(){this.resumingFrom&&(this.resumingFrom.currentAnimation=void 0,this.resumingFrom.preserveOpacity=void 0);const l=this.getStack();l&&l.exitAnimationComplete(),this.resumingFrom=this.currentAnimation=this.animationValues=void 0,this.notifyListeners("animationComplete")}finishAnimation(){this.currentAnimation&&(this.mixTargetDelta&&this.mixTargetDelta(wZ),this.currentAnimation.stop()),this.completeAnimation()}applyTransformsToTarget(){const l=this.getLead();let{targetWithTransforms:c,target:d,layout:f,latestValues:h}=l;if(!(!c||!d||!f)){if(this!==l&&this.layout&&f&&R8(this.options.animationType,this.layout.layoutBox,f.layoutBox)){d=this.target||Yr();const p=ua(this.layout.layoutBox.x);d.x.min=l.target.x.min,d.x.max=d.x.min+p;const g=ua(this.layout.layoutBox.y);d.y.min=l.target.y.min,d.y.max=d.y.min+g}js(c,d),cd(c,h),V0(this.projectionDeltaWithTransform,this.layoutCorrected,c,h)}}registerSharedNode(l,c){this.sharedNodes.has(l)||this.sharedNodes.set(l,new vZ),this.sharedNodes.get(l).add(c);const f=c.options.initialPromotionConfig;c.promote({transition:f?f.transition:void 0,preserveFollowOpacity:f&&f.shouldPreserveFollowOpacity?f.shouldPreserveFollowOpacity(c):void 0})}isLead(){const l=this.getStack();return l?l.lead===this:!0}getLead(){const{layoutId:l}=this.options;return l?this.getStack()?.lead||this:this}getPrevLead(){const{layoutId:l}=this.options;return l?this.getStack()?.prevLead:void 0}getStack(){const{layoutId:l}=this.options;if(l)return this.root.sharedNodes.get(l)}promote({needsReset:l,transition:c,preserveFollowOpacity:d}={}){const f=this.getStack();f&&f.promote(this,d),l&&(this.projectionDelta=void 0,this.needsReset=!0),c&&this.setOptions({transition:c})}relegate(){const l=this.getStack();return l?l.relegate(this):!1}resetSkewAndRotation(){const{visualElement:l}=this.options;if(!l)return;let c=!1;const{latestValues:d}=l;if((d.z||d.rotate||d.rotateX||d.rotateY||d.rotateZ||d.skewX||d.skewY)&&(c=!0),!c)return;const f={};d.z&&N1("z",l,f,this.animationValues);for(let h=0;h<j1.length;h++)N1(`rotate${j1[h]}`,l,f,this.animationValues),N1(`skew${j1[h]}`,l,f,this.animationValues);l.render();for(const h in f)l.setStaticValue(h,f[h]),this.animationValues&&(this.animationValues[h]=f[h]);l.scheduleRender()}applyProjectionStyles(l,c){if(!this.instance||this.isSVG)return;if(!this.isVisible){l.visibility="hidden";return}const d=this.getTransformTemplate();if(this.needsReset){this.needsReset=!1,l.visibility="",l.opacity="",l.pointerEvents=yg(c?.pointerEvents)||"",l.transform=d?d(this.latestValues,""):"none";return}const f=this.getLead();if(!this.projectionDelta||!this.layout||!f.target){this.options.layoutId&&(l.opacity=this.latestValues.opacity!==void 0?this.latestValues.opacity:1,l.pointerEvents=yg(c?.pointerEvents)||""),this.hasProjected&&!vc(this.latestValues)&&(l.transform=d?d({},""):"none",this.hasProjected=!1);return}l.visibility="";const h=f.animationValues||f.latestValues;this.applyTransformsToTarget();let p=bZ(this.projectionDeltaWithTransform,this.treeScale,h);d&&(p=d(h,p)),l.transform=p;const{x:g,y}=this.projectionDelta;l.transformOrigin=`${g.origin*100}% ${y.origin*100}% 0`,f.animationValues?l.opacity=f===this?h.opacity??this.latestValues.opacity??1:this.preserveOpacity?this.latestValues.opacity:h.opacityExit:l.opacity=f===this?h.opacity!==void 0?h.opacity:"":h.opacityExit!==void 0?h.opacityExit:0;for(const b in xh){if(h[b]===void 0)continue;const{correct:w,applyTo:j,isCSSVariable:S}=xh[b],_=p==="none"?h[b]:w(h[b],f);if(j){const E=j.length;for(let T=0;T<E;T++)l[j[T]]=_}else S?this.options.visualElement.renderState.vars[b]=_:l[b]=_}this.options.layoutId&&(l.pointerEvents=f===this?yg(c?.pointerEvents)||"":"none")}clearSnapshot(){this.resumeFrom=this.snapshot=void 0}resetTree(){this.root.nodes.forEach(l=>l.currentAnimation?.stop()),this.root.nodes.forEach(m3),this.root.sharedNodes.clear()}}}function NZ(e){e.updateLayout()}function SZ(e){const t=e.resumeFrom?.snapshot||e.snapshot;if(e.isLead()&&e.layout&&t&&e.hasListeners("didUpdate")){const{layoutBox:r,measuredBox:n}=e.layout,{animationType:a}=e.options,i=t.source!==e.layout.source;a==="size"?Os(h=>{const p=i?t.measuredBox[h]:t.layoutBox[h],g=ua(p);p.min=r[h].min,p.max=p.min+g}):R8(a,t.layoutBox,r)&&Os(h=>{const p=i?t.measuredBox[h]:t.layoutBox[h],g=ua(r[h]);p.max=p.min+g,e.relativeTarget&&!e.currentAnimation&&(e.isProjectionDirty=!0,e.relativeTarget[h].max=e.relativeTarget[h].min+g)});const l=ud();V0(l,r,t.layoutBox);const c=ud();i?V0(c,e.applyTransform(n,!0),t.measuredBox):V0(c,r,t.layoutBox);const d=!O8(l);let f=!1;if(!e.resumeFrom){const h=e.getClosestProjectingParent();if(h&&!h.resumeFrom){const{snapshot:p,layout:g}=h;if(p&&g){const y=Yr();q0(y,t.layoutBox,p.layoutBox);const b=Yr();q0(b,r,g.layoutBox),D8(y,b)||(f=!0),h.options.layoutRoot&&(e.relativeTarget=b,e.relativeTargetOrigin=y,e.relativeParent=h)}}}e.notifyListeners("didUpdate",{layout:r,snapshot:t,delta:c,layoutDelta:l,hasLayoutChanged:d,hasRelativeLayoutChanged:f})}else if(e.isLead()){const{onExitComplete:r}=e.options;r&&r()}e.options.transition=void 0}function kZ(e){e.parent&&(e.isProjecting()||(e.isProjectionDirty=e.parent.isProjectionDirty),e.isSharedProjectionDirty||(e.isSharedProjectionDirty=!!(e.isProjectionDirty||e.parent.isProjectionDirty||e.parent.isSharedProjectionDirty)),e.isTransformDirty||(e.isTransformDirty=e.parent.isTransformDirty))}function _Z(e){e.isProjectionDirty=e.isSharedProjectionDirty=e.isTransformDirty=!1}function EZ(e){e.clearSnapshot()}function m3(e){e.clearMeasurements()}function p3(e){e.isLayoutDirty=!1}function AZ(e){const{visualElement:t}=e.options;t&&t.getProps().onBeforeLayoutMeasure&&t.notify("BeforeLayoutMeasure"),e.resetTransform()}function g3(e){e.finishAnimation(),e.targetDelta=e.relativeTarget=e.target=void 0,e.isProjectionDirty=!0}function TZ(e){e.resolveTargetDelta()}function CZ(e){e.calcProjection()}function OZ(e){e.resetSkewAndRotation()}function DZ(e){e.removeLeadSnapshot()}function x3(e,t,r){e.translate=Fr(t.translate,0,r),e.scale=Fr(t.scale,1,r),e.origin=t.origin,e.originPoint=t.originPoint}function y3(e,t,r,n){e.min=Fr(t.min,r.min,n),e.max=Fr(t.max,r.max,n)}function PZ(e,t,r,n){y3(e.x,t.x,r.x,n),y3(e.y,t.y,r.y,n)}function MZ(e){return e.animationValues&&e.animationValues.opacityExit!==void 0}const RZ={duration:.45,ease:[.4,0,.1,1]},v3=e=>typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().includes(e),b3=v3("applewebkit/")&&!v3("chrome/")?Math.round:$s;function w3(e){e.min=b3(e.min),e.max=b3(e.max)}function IZ(e){w3(e.x),w3(e.y)}function R8(e,t,r){return e==="position"||e==="preserve-aspect"&&!zQ(f3(t),f3(r),.2)}function FZ(e){return e!==e.root&&e.scroll?.wasRoot}const LZ=M8({attachResizeListener:(e,t)=>yh(e,"resize",t),measureScroll:()=>({x:document.documentElement.scrollLeft||document.body.scrollLeft,y:document.documentElement.scrollTop||document.body.scrollTop}),checkIsScrollRoot:()=>!0}),S1={current:void 0},I8=M8({measureScroll:e=>({x:e.scrollLeft,y:e.scrollTop}),defaultParent:()=>{if(!S1.current){const e=new LZ({});e.mount(window),e.setOptions({layoutScroll:!0}),S1.current=e}return S1.current},resetTransform:(e,t)=>{e.style.transform=t!==void 0?t:"none"},checkIsScrollRoot:e=>window.getComputedStyle(e).position==="fixed"}),BZ={pan:{Feature:nZ},drag:{Feature:rZ,ProjectionNode:I8,MeasureLayout:A8}};function j3(e,t,r){const{props:n}=e;e.animationState&&n.whileHover&&e.animationState.setActive("whileHover",r==="Start");const a="onHover"+r,i=n[a];i&&Or.postRender(()=>i(t,Jh(t)))}class $Z extends Ho{mount(){const{current:t}=this.node;t&&(this.unmount=fX(t,(r,n)=>(j3(this.node,n,"Start"),a=>j3(this.node,a,"End"))))}unmount(){}}class UZ extends Ho{constructor(){super(...arguments),this.isActive=!1}onFocus(){let t=!1;try{t=this.node.current.matches(":focus-visible")}catch{t=!0}!t||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!0),this.isActive=!0)}onBlur(){!this.isActive||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!1),this.isActive=!1)}mount(){this.unmount=Xh(yh(this.node.current,"focus",()=>this.onFocus()),yh(this.node.current,"blur",()=>this.onBlur()))}unmount(){}}function N3(e,t,r){const{props:n}=e;if(e.current instanceof HTMLButtonElement&&e.current.disabled)return;e.animationState&&n.whileTap&&e.animationState.setActive("whileTap",r==="Start");const a="onTap"+(r==="End"?"":r),i=n[a];i&&Or.postRender(()=>i(t,Jh(t)))}class zZ extends Ho{mount(){const{current:t}=this.node;t&&(this.unmount=gX(t,(r,n)=>(N3(this.node,n,"Start"),(a,{success:i})=>N3(this.node,a,i?"End":"Cancel")),{useGlobalTarget:this.node.props.globalTapTarget}))}unmount(){}}const hj=new WeakMap,k1=new WeakMap,HZ=e=>{const t=hj.get(e.target);t&&t(e)},VZ=e=>{e.forEach(HZ)};function qZ({root:e,...t}){const r=e||document;k1.has(r)||k1.set(r,{});const n=k1.get(r),a=JSON.stringify(t);return n[a]||(n[a]=new IntersectionObserver(VZ,{root:e,...t})),n[a]}function WZ(e,t,r){const n=qZ(t);return hj.set(e,r),n.observe(e),()=>{hj.delete(e),n.unobserve(e)}}const GZ={some:0,all:1};class KZ extends Ho{constructor(){super(...arguments),this.hasEnteredView=!1,this.isInView=!1}startObserver(){this.unmount();const{viewport:t={}}=this.node.getProps(),{root:r,margin:n,amount:a="some",once:i}=t,l={root:r?r.current:void 0,rootMargin:n,threshold:typeof a=="number"?a:GZ[a]},c=d=>{const{isIntersecting:f}=d;if(this.isInView===f||(this.isInView=f,i&&!f&&this.hasEnteredView))return;f&&(this.hasEnteredView=!0),this.node.animationState&&this.node.animationState.setActive("whileInView",f);const{onViewportEnter:h,onViewportLeave:p}=this.node.getProps(),g=f?h:p;g&&g(d)};return WZ(this.node.current,l,c)}mount(){this.startObserver()}update(){if(typeof IntersectionObserver>"u")return;const{props:t,prevProps:r}=this.node;["amount","margin","root"].some(YZ(t,r))&&this.startObserver()}unmount(){}}function YZ({viewport:e={}},{viewport:t={}}={}){return r=>e[r]!==t[r]}const XZ={inView:{Feature:KZ},tap:{Feature:zZ},focus:{Feature:UZ},hover:{Feature:$Z}},QZ={layout:{ProjectionNode:I8,MeasureLayout:A8}},ZZ={...IQ,...XZ,...BZ,...QZ},_1=ZX(ZZ,dQ),JZ=[{title:"SALES CORE",items:[{name:"Dashboard",icon:s.jsx(uG,{}),path:"/dashboard"},{name:"Leads",icon:s.jsx(jr,{}),path:"/leads"},{name:"Contacts",icon:s.jsx($W,{}),path:"/contacts"},{name:"Pipeline",icon:s.jsx(oG,{}),path:"/kanban"}]},{title:"AI INSIGHTS",items:[{name:"AI Features",icon:s.jsx(dl,{}),path:"/ai"},{name:"AI Help Guide",icon:s.jsx($N,{}),path:"/ai-help"},{name:"Predictive Analytics",icon:s.jsx(Kc,{}),path:"/predictive-analytics"},{name:"Sentiment Analysis",icon:s.jsx(Vr,{}),path:"/sentiment-analysis"},{name:"Customer Segmentation",icon:s.jsx(jr,{}),path:"/customer-segmentation"},{name:"Advanced Forecasting",icon:s.jsx(Vr,{}),path:"/advanced-forecasting"}]},{title:"AUTOMATION",items:[{name:"Email Automation",icon:s.jsx(Wd,{}),path:"/email-automation"},{name:"Lead Assignment",icon:s.jsx(sR,{}),path:"/lead-assignment-rules"},{name:"Approval Workflows",icon:s.jsx(Lt,{}),path:"/approval-workflows"},{name:"Lead Nurturing",icon:s.jsx(Aa,{}),path:"/lead-nurturing"},{name:"Chat",icon:s.jsx(Sd,{}),path:"/chat"}]},{title:"BUSINESS",items:[{name:"Customer Accounts",icon:s.jsx(sd,{}),path:"/customer-accounts"},{name:"Financial Management",icon:s.jsx(Yc,{}),path:"/financial-management"},{name:"Customer Support",icon:s.jsx(JM,{}),path:"/customer-support"},{name:"Call Center",icon:s.jsx(_c,{}),path:"/telephony"}]},{title:"ADMIN",items:[{name:"User Management",icon:s.jsx(fK,{}),path:"/user-management"}]}],eJ=[{name:"Settings",icon:s.jsx(Fs,{}),path:"/settings"}];function tJ({open:e,onClose:t}){const r=mi(),[n,a]=v.useState(new Set(["SALES CORE","AI INSIGHTS","AUTOMATION","BUSINESS","ADMIN"])),i=c=>{const d=new Set(n);d.has(c)?d.delete(c):d.add(c),a(d)},l=c=>c.items.some(d=>r.pathname===d.path);return s.jsxs("aside",{className:"bg-[#181E36] text-white w-64 min-h-screen flex flex-col justify-between shadow-2xl relative",children:[s.jsxs("div",{className:"bg-[#181E36]",children:[s.jsx("div",{className:"flex flex-col items-center py-6",children:s.jsxs("div",{className:"flex flex-col items-center mb-2",children:[s.jsx("img",{src:bK,alt:"NeuraCRM logo",className:"w-14 h-14 rounded-full border-2 border-pink-300 shadow"}),s.jsx("div",{className:"text-xs text-blue-200 mt-2 text-center font-medium",children:"Smarter Sales, Powered by AI"})]})}),s.jsx("nav",{className:"flex-1 relative px-3 bg-[#181E36]",children:JZ.map(c=>{const d=n.has(c.title),f=l(c);return s.jsxs("div",{className:"mb-2 bg-[#181E36]",children:[s.jsxs("button",{onClick:()=>i(c.title),className:`w-full flex items-center justify-between px-3 py-2 text-xs font-semibold uppercase tracking-wider transition-all duration-200 ${f?"text-fuchsia-300":"text-gray-500 hover:text-gray-300"}`,children:[s.jsx("span",{children:c.title}),s.jsx(_1.div,{animate:{rotate:d?90:0},transition:{duration:.2},children:s.jsx(OW,{className:"w-3 h-3"})})]}),s.jsx(_1.div,{initial:!1,animate:{height:d?"auto":0,opacity:d?1:0},transition:{duration:.2},className:"overflow-hidden",children:s.jsx("ul",{className:"space-y-1",children:c.items.map(h=>{const p=r.pathname===h.path;return s.jsx("li",{className:"relative z-10",children:s.jsxs(z2,{to:h.path,className:({isActive:g})=>`flex items-center gap-3 pl-4 pr-4 py-2 my-1 font-medium text-sm transition-all duration-300 w-full relative ${g?"text-white font-bold bg-gradient-to-r from-fuchsia-600 to-pink-500 rounded-full shadow":"text-gray-400 hover:text-white"}`,onClick:t,style:{borderRadius:"9999px"},children:[h.icon,s.jsx("span",{children:h.name}),p&&s.jsx(_1.span,{layoutId:"sidebar-dot",className:"absolute right-3 top-1/2 -translate-y-1/2 w-2 h-2 bg-white rounded-full",transition:{type:"spring",stiffness:200,damping:30,duration:.8}})]})},h.name)})})})]},c.title)})})]}),s.jsx("div",{className:"mb-6 bg-[#181E36]",children:s.jsx("ul",{children:eJ.map(c=>s.jsx("li",{children:s.jsxs(z2,{to:c.path,className:"flex items-center gap-3 px-6 py-2 my-1 rounded-lg transition text-gray-400 hover:text-white text-base w-[90%] mx-auto",onClick:t,style:{borderRadius:"9999px"},children:[c.icon,s.jsx("span",{children:c.name})]})},c.name))})})]})}const F8=v.createContext(void 0);function rJ({children:e}){const[t,r]=v.useState(null),[n,a]=v.useState(!0);return v.useEffect(()=>{(async()=>{try{r({id:1,name:"Ayaan Khan",email:"ayaan.khan@neuracrm.com",role:"admin"})}catch{}finally{a(!1)}})()},[]),s.jsx(F8.Provider,{value:{user:t,loading:n,setUser:r},children:e})}function nJ(){const e=v.useContext(F8);if(e===void 0)throw new Error("useUser must be used within a UserProvider");return e}const L8=typeof window<"u"&&window.location.hostname==="neuracrm.up.railway.app",aJ=!L8&&typeof window<"u"?window.localStorage?.getItem("API_BASE_URL"):null,sJ=typeof window<"u"?window.location.origin:"http://127.0.0.1:8000",pd=L8?"https://neuracrm.up.railway.app":aJ||void 0||sJ,B8=v.createContext(void 0),ma=()=>{const e=v.useContext(B8);if(e===void 0)throw new Error("useAuth must be used within an AuthProvider");return e},iJ=({children:e})=>{const[t,r]=v.useState(null),[n,a]=v.useState(null),[i,l]=v.useState(!0),c=!!n;v.useEffect(()=>{const b=localStorage.getItem("access_token");if(b){try{const w=JSON.parse(atob(b.split(".")[1])),j=Date.now()/1e3;if(w.exp&&w.exp<j){localStorage.removeItem("access_token"),l(!1);return}}catch{localStorage.removeItem("access_token"),l(!1);return}a(b),d(b)}else l(!1)},[]);const d=async b=>{try{const w=await fetch(`${pd}/api/auth/me`,{headers:{Authorization:`Bearer ${b}`}});if(w.ok){const j=await w.json();r(j)}else localStorage.removeItem("access_token"),a(null),r(null)}catch{localStorage.removeItem("access_token"),a(null),r(null)}finally{l(!1)}},f=async(b,w)=>{try{const j=await fetch(`${pd}/api/auth/login`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({email:b,password:w})});if(j.ok){const S=await j.json(),{access_token:_}=S;localStorage.setItem("access_token",_),a(_),await d(_)}else{const S=await j.json();throw new Error(S.detail||"Login failed")}}catch(j){throw j}},y={user:t,token:n,isAuthenticated:c,isLoading:i,login:f,logout:()=>{localStorage.removeItem("access_token"),a(null),r(null)},register:async(b,w,j)=>{try{const S=await fetch(`${pd}/api/auth/register`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({name:b,email:w,password:j})});if(S.ok)await f(w,j);else{const _=await S.json();throw new Error(_.detail||"Registration failed")}}catch(S){throw S}},getAuthToken:()=>localStorage.getItem("access_token")};return s.jsx(B8.Provider,{value:y,children:e})},lJ=()=>localStorage.getItem("access_token"),oJ=async(e,t={})=>{const r=lJ(),n={"Content-Type":"application/json",...t.headers||{}};return r&&(n.Authorization=`Bearer ${r}`),await fetch(`${pd}${e}`,{...t,headers:n})},Ee=async(e,t="GET",r)=>{let n;typeof t=="string"?(n={method:t},r&&t!=="GET"&&(n.body=JSON.stringify(r))):n=t;const a=await oJ(e,n);if(!a.ok){const i=await a.text();throw new Error(`API request failed: ${a.status} ${i}`)}return a.json()},cJ=({currentOrgId:e,onOrganizationChange:t})=>{const[r,n]=v.useState([]),[a,i]=v.useState(null),[l,c]=v.useState(!1),[d,f]=v.useState(!0);v.useEffect(()=>{h()},[]),v.useEffect(()=>{if(e&&r.length>0){const g=r.find(y=>y.id===e);i(g||r[0])}},[e,r]);const h=async()=>{try{const g=await Ee("/api/organizations");n(g),g.length>0&&!a&&(i(g[0]),t(g[0].id))}catch{}finally{f(!1)}},p=g=>{i(g),t(g.id),c(!1)};return d?s.jsxs("div",{className:"flex items-center space-x-2 text-gray-600",children:[s.jsx(sd,{className:"w-4 h-4"}),s.jsx("span",{className:"text-sm",children:"Loading..."})]}):r.length===0?s.jsxs("div",{className:"flex items-center space-x-2 text-gray-600",children:[s.jsx(sd,{className:"w-4 h-4"}),s.jsx("span",{className:"text-sm",children:"No organizations"})]}):s.jsxs("div",{className:"relative",children:[s.jsxs("button",{onClick:()=>c(!l),className:"flex items-center space-x-2 px-3 py-2 text-sm bg-white border border-gray-300 rounded-lg hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-blue-500",children:[s.jsx(sd,{className:"w-4 h-4 text-gray-600"}),s.jsx("span",{className:"text-gray-900",children:a?.name||"Select Organization"}),s.jsx(QM,{className:"w-4 h-4 text-gray-400"})]}),l&&s.jsx("div",{className:"absolute top-full left-0 mt-1 w-64 bg-white border border-gray-300 rounded-lg shadow-lg z-50",children:s.jsx("div",{className:"py-1",children:r.map(g=>s.jsxs("button",{onClick:()=>p(g),className:`w-full px-4 py-2 text-left text-sm hover:bg-gray-100 flex items-center space-x-2 ${a?.id===g.id?"bg-blue-50 text-blue-600":"text-gray-900"}`,children:[s.jsx(sd,{className:"w-4 h-4"}),s.jsxs("div",{children:[s.jsx("div",{className:"font-medium",children:g.name}),g.domain&&s.jsx("div",{className:"text-xs text-gray-500",children:g.domain})]})]},g.id))})})]})};function uJ({onMenuClick:e,onToggleDarkMode:t,darkMode:r,onToggleAI:n,aiSidebarOpen:a}){const{user:i}=nJ(),{logout:l,user:c}=ma(),d=zo(),[f,h]=v.useState(c?.organization_id),[p,g]=v.useState(!1),y=v.useRef(null);return v.useEffect(()=>{const b=w=>{y.current&&!y.current.contains(w.target)&&g(!1)};return document.addEventListener("mousedown",b),()=>{document.removeEventListener("mousedown",b)}},[]),s.jsxs("header",{className:"bg-gradient-to-r from-blue-800 to-indigo-900 px-10 py-6 flex flex-col md:flex-row md:items-center md:justify-between shadow",children:[s.jsxs("div",{className:"flex items-center gap-4",children:[s.jsx("button",{className:"md:hidden p-2 rounded-full bg-white/20 hover:bg-white/30 transition",onClick:e,"aria-label":"Open menu",children:s.jsx(tR,{className:"w-6 h-6 text-blue-200"})}),s.jsxs("div",{children:[s.jsxs("div",{className:"text-2xl font-extrabold text-white mb-1",children:["Welcome back, ",c?.name?.split(" ")[0]||i?.name?.split(" ")[0]||"User","!"]}),s.jsx("div",{className:"text-blue-200 text-sm",children:"Your AI assistant is ready to help"})]})]}),s.jsxs("div",{className:"flex items-center gap-4 mt-4 md:mt-0",children:[s.jsxs("div",{className:"relative",children:[s.jsx("input",{type:"text",placeholder:"Ask AI anything...",className:"rounded-full px-4 py-2 bg-white/20 text-white placeholder:text-blue-200 focus:outline-none focus:ring-2 focus:ring-pink-400 w-64"}),s.jsx(fi,{className:"absolute right-3 top-2.5 w-5 h-5 text-blue-200"})]}),s.jsx("button",{className:`p-2 rounded-full transition-all duration-200 ${a?"bg-gradient-to-r from-pink-500 to-purple-500 text-white shadow-lg":"bg-white/20 hover:bg-white/30 text-blue-200"}`,onClick:n,"aria-label":"Toggle AI assistant",children:s.jsx(dl,{className:"w-6 h-6"})}),s.jsx("button",{className:"p-2 rounded-full bg-white/20 hover:bg-white/30 transition",onClick:t,"aria-label":"Toggle dark mode",children:r?s.jsx(tK,{className:"w-6 h-6 text-yellow-300"}):s.jsx(kG,{className:"w-6 h-6 text-blue-200"})}),c&&s.jsx(cJ,{currentOrgId:f,onOrganizationChange:h}),s.jsxs("button",{className:"relative p-2 rounded-full bg-white/20 hover:bg-white/30 transition",children:[s.jsx(pW,{className:"w-6 h-6 text-blue-200"}),s.jsx("span",{className:"absolute top-1 right-1 flex items-center justify-center w-4 h-4 bg-pink-500 text-xs text-white rounded-full",children:"2"})]}),s.jsxs("div",{className:"relative",ref:y,children:[s.jsx("button",{onClick:()=>g(!p),className:"w-10 h-10 rounded-full bg-gradient-to-r from-pink-500 to-purple-500 flex items-center justify-center text-white font-bold text-lg shadow-lg hover:shadow-xl transition-all duration-200",children:c?.name?.split(" ").map(b=>b[0]).join("").toUpperCase()||i?.name?.split(" ").map(b=>b[0]).join("").toUpperCase()||"U"}),p&&s.jsxs("div",{className:"absolute right-0 mt-2 w-48 bg-white rounded-lg shadow-xl border border-gray-200 py-2 z-50",children:[s.jsxs("div",{className:"px-4 py-2 border-b border-gray-100",children:[s.jsx("p",{className:"text-sm font-medium text-gray-900",children:c?.name||i?.name||"User"}),s.jsx("p",{className:"text-xs text-gray-500",children:c?.email||i?.email||"user@example.com"})]}),s.jsxs("button",{className:"w-full px-4 py-2 text-left text-sm text-gray-700 hover:bg-gray-100 flex items-center",children:[s.jsx(Gd,{className:"w-4 h-4 mr-2"}),"Profile Settings"]}),s.jsxs("button",{onClick:()=>{g(!1),d("/logout")},className:"w-full px-4 py-2 text-left text-sm text-red-600 hover:bg-red-50 flex items-center",children:[s.jsx(mG,{className:"w-4 h-4 mr-2"}),"Sign Out"]})]})]})]})]})}const dJ=async e=>{try{return await Ee("/api/ai/assistant",{method:"POST",body:JSON.stringify(e)})}catch(t){throw t.message.includes("timeout")?new Error("Request timed out. Please try again."):new Error("Failed to get AI response. Please try again.")}},fJ=({isOpen:e,onClose:t})=>{const[r,n]=v.useState([{id:"1",message:"",response:`Hello! I'm your AI Sales Assistant. I can help you with:

 Analyzing your deals and pipeline
 Finding your hottest leads
 Suggesting follow-up actions
 Answering questions about your CRM data

What would you like to know?`,timestamp:new Date,isUser:!1}]),[a,i]=v.useState(""),[l,c]=v.useState(!1),d=v.useRef(null),f=v.useRef(null),h=()=>{d.current?.scrollIntoView({behavior:"smooth"})};v.useEffect(()=>{h()},[r]),v.useEffect(()=>{e&&f.current&&f.current.focus()},[e]);const p=async()=>{if(!a.trim()||l)return;const b=a.trim();i(""),c(!0);const w={id:Date.now().toString(),message:b,response:"",timestamp:new Date,isUser:!0};n(j=>[...j,w]);try{const j=await dJ({message:b,user_id:1}),S={id:(Date.now()+1).toString(),message:"",response:j.response,timestamp:new Date,isUser:!1};n(_=>[..._,S])}catch{const S={id:(Date.now()+1).toString(),message:"",response:"Sorry, I'm having trouble connecting right now. Please try again in a moment.",timestamp:new Date,isUser:!1};n(_=>[..._,S])}finally{c(!1)}},g=b=>{b.key==="Enter"&&!b.shiftKey&&(b.preventDefault(),p())},y=b=>b.toLocaleTimeString([],{hour:"2-digit",minute:"2-digit"});return e?s.jsxs("div",{className:"fixed inset-y-0 right-0 w-96 bg-white shadow-2xl border-l border-gray-200 flex flex-col z-50",children:[s.jsxs("div",{className:"flex items-center justify-between p-4 border-b border-gray-200 bg-gradient-to-r from-blue-600 to-purple-600 text-white",children:[s.jsxs("div",{className:"flex items-center space-x-3",children:[s.jsx("div",{className:"p-2 bg-white/20 rounded-lg",children:s.jsx(dl,{className:"w-5 h-5"})}),s.jsxs("div",{children:[s.jsx("h3",{className:"font-semibold",children:"AI Sales Assistant"}),s.jsx("p",{className:"text-sm text-blue-100",children:"Powered by AI"})]})]}),s.jsx("button",{onClick:t,className:"p-2 hover:bg-white/20 rounded-lg transition-colors",children:s.jsx(Tr,{className:"w-5 h-5"})})]}),s.jsxs("div",{className:"flex-1 overflow-y-auto p-4 space-y-4",children:[r.map(b=>s.jsx("div",{className:`flex ${b.isUser?"justify-end":"justify-start"}`,children:s.jsx("div",{className:`max-w-xs lg:max-w-md ${b.isUser?"order-2":"order-1"}`,children:s.jsxs("div",{className:`flex items-start space-x-2 ${b.isUser?"flex-row-reverse space-x-reverse":""}`,children:[s.jsx("div",{className:`flex-shrink-0 w-8 h-8 rounded-full flex items-center justify-center ${b.isUser?"bg-blue-500 text-white":"bg-gradient-to-r from-blue-500 to-purple-500 text-white"}`,children:b.isUser?s.jsx(Gd,{className:"w-4 h-4"}):s.jsx(dl,{className:"w-4 h-4"})}),s.jsxs("div",{className:`flex-1 ${b.isUser?"text-right":""}`,children:[s.jsx("div",{className:`inline-block px-4 py-2 rounded-lg ${b.isUser?"bg-blue-500 text-white":"bg-gray-100 text-gray-800"}`,children:s.jsx("div",{className:"whitespace-pre-wrap text-sm",children:b.isUser?b.message:b.response})}),s.jsx("div",{className:`text-xs text-gray-500 mt-1 ${b.isUser?"text-right":""}`,children:y(b.timestamp)})]})]})})},b.id)),l&&s.jsx("div",{className:"flex justify-start",children:s.jsx("div",{className:"max-w-xs lg:max-w-md",children:s.jsxs("div",{className:"flex items-start space-x-2",children:[s.jsx("div",{className:"flex-shrink-0 w-8 h-8 rounded-full bg-gradient-to-r from-blue-500 to-purple-500 flex items-center justify-center",children:s.jsx(dl,{className:"w-4 h-4 text-white"})}),s.jsx("div",{className:"flex-1",children:s.jsx("div",{className:"inline-block px-4 py-2 rounded-lg bg-gray-100",children:s.jsxs("div",{className:"flex space-x-1",children:[s.jsx("div",{className:"w-2 h-2 bg-gray-400 rounded-full animate-bounce"}),s.jsx("div",{className:"w-2 h-2 bg-gray-400 rounded-full animate-bounce",style:{animationDelay:"0.1s"}}),s.jsx("div",{className:"w-2 h-2 bg-gray-400 rounded-full animate-bounce",style:{animationDelay:"0.2s"}})]})})})]})})}),s.jsx("div",{ref:d})]}),s.jsxs("div",{className:"p-4 border-t border-gray-200 bg-gray-50",children:[s.jsxs("div",{className:"flex space-x-2",children:[s.jsxs("div",{className:"flex-1 relative",children:[s.jsx("input",{ref:f,type:"text",value:a,onChange:b=>i(b.target.value),onKeyPress:g,placeholder:"Ask me about your sales data...",className:"w-full px-4 py-2 pr-12 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent resize-none",disabled:l}),s.jsx("div",{className:"absolute right-3 top-2.5",children:s.jsx(fh,{className:"w-4 h-4 text-gray-400"})})]}),s.jsx("button",{onClick:p,disabled:!a.trim()||l,className:"px-4 py-2 bg-gradient-to-r from-blue-600 to-purple-600 text-white rounded-lg hover:from-blue-700 hover:to-purple-700 disabled:opacity-50 disabled:cursor-not-allowed transition-all duration-200 flex items-center space-x-2",children:s.jsx(Xc,{className:"w-4 h-4"})})]}),s.jsx("p",{className:"text-xs text-gray-500 mt-2 text-center",children:"Press Enter to send  Shift+Enter for new line"})]})]}):null};function tn({children:e}){const[t,r]=v.useState(!1),[n,a]=v.useState(!1),[i,l]=v.useState(!1);v.useEffect(()=>{const g=document.documentElement;n?g.classList.add("dark"):g.classList.remove("dark")},[n]);const c=()=>r(!0),d=()=>r(!1),f=()=>a(g=>!g),h=()=>l(g=>!g),p=()=>l(!1);return s.jsxs("div",{className:"flex h-screen",children:[s.jsx(tJ,{open:t,onClose:d}),s.jsxs("div",{className:"flex-1 flex flex-col",children:[s.jsx(uJ,{onMenuClick:c,onToggleDarkMode:f,darkMode:n,onToggleAI:h,aiSidebarOpen:i}),s.jsx("main",{className:"flex-1 bg-gray-50 dark:bg-gray-900 p-6 overflow-auto",children:e})]}),s.jsx(fJ,{isOpen:i,onClose:p})]})}function $8(e){var t,r,n="";if(typeof e=="string"||typeof e=="number")n+=e;else if(typeof e=="object")if(Array.isArray(e)){var a=e.length;for(t=0;t<a;t++)e[t]&&(r=$8(e[t]))&&(n&&(n+=" "),n+=r)}else for(r in e)e[r]&&(n&&(n+=" "),n+=r);return n}function Bt(){for(var e,t,r=0,n="",a=arguments.length;r<a;r++)(e=arguments[r])&&(t=$8(e))&&(n&&(n+=" "),n+=t);return n}var E1={},A1={},S3;function hJ(){return S3||(S3=1,function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){return r==="__proto__"}e.isUnsafeProperty=t}(A1)),A1}var T1={},k3;function U8(){return k3||(k3=1,function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){switch(typeof r){case"number":case"symbol":return!1;case"string":return r.includes(".")||r.includes("[")||r.includes("]")}}e.isDeepKey=t}(T1)),T1}var C1={},_3;function z8(){return _3||(_3=1,function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){return typeof r=="string"||typeof r=="symbol"?r:Object.is(r?.valueOf?.(),-0)?"-0":String(r)}e.toKey=t}(C1)),C1}var O1={},E3;function wS(){return E3||(E3=1,function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){const n=[],a=r.length;if(a===0)return n;let i=0,l="",c="",d=!1;for(r.charCodeAt(0)===46&&(n.push(""),i++);i<a;){const f=r[i];c?f==="\\"&&i+1<a?(i++,l+=r[i]):f===c?c="":l+=f:d?f==='"'||f==="'"?c=f:f==="]"?(d=!1,n.push(l),l=""):l+=f:f==="["?(d=!0,l&&(n.push(l),l="")):f==="."?l&&(n.push(l),l=""):l+=f,i++}return l&&n.push(l),n}e.toPath=t}(O1)),O1}var A3;function jS(){return A3||(A3=1,function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=hJ(),r=U8(),n=z8(),a=wS();function i(c,d,f){if(c==null)return f;switch(typeof d){case"string":{if(t.isUnsafeProperty(d))return f;const h=c[d];return h===void 0?r.isDeepKey(d)?i(c,a.toPath(d),f):f:h}case"number":case"symbol":{typeof d=="number"&&(d=n.toKey(d));const h=c[d];return h===void 0?f:h}default:{if(Array.isArray(d))return l(c,d,f);if(Object.is(d?.valueOf(),-0)?d="-0":d=String(d),t.isUnsafeProperty(d))return f;const h=c[d];return h===void 0?f:h}}}function l(c,d,f){if(d.length===0)return f;let h=c;for(let p=0;p<d.length;p++){if(h==null||t.isUnsafeProperty(d[p]))return f;h=h[d[p]]}return h===void 0?f:h}e.get=i}(E1)),E1}var D1,T3;function mJ(){return T3||(T3=1,D1=jS().get),D1}var pJ=mJ();const Oo=fs(pJ);var P1={exports:{}},or={};/**
 * @license React
 * react-is.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var C3;function gJ(){if(C3)return or;C3=1;var e=Symbol.for("react.transitional.element"),t=Symbol.for("react.portal"),r=Symbol.for("react.fragment"),n=Symbol.for("react.strict_mode"),a=Symbol.for("react.profiler"),i=Symbol.for("react.consumer"),l=Symbol.for("react.context"),c=Symbol.for("react.forward_ref"),d=Symbol.for("react.suspense"),f=Symbol.for("react.suspense_list"),h=Symbol.for("react.memo"),p=Symbol.for("react.lazy"),g=Symbol.for("react.view_transition"),y=Symbol.for("react.client.reference");function b(w){if(typeof w=="object"&&w!==null){var j=w.$$typeof;switch(j){case e:switch(w=w.type,w){case r:case a:case n:case d:case f:case g:return w;default:switch(w=w&&w.$$typeof,w){case l:case c:case p:case h:return w;case i:return w;default:return j}}case t:return j}}}return or.ContextConsumer=i,or.ContextProvider=l,or.Element=e,or.ForwardRef=c,or.Fragment=r,or.Lazy=p,or.Memo=h,or.Portal=t,or.Profiler=a,or.StrictMode=n,or.Suspense=d,or.SuspenseList=f,or.isContextConsumer=function(w){return b(w)===i},or.isContextProvider=function(w){return b(w)===l},or.isElement=function(w){return typeof w=="object"&&w!==null&&w.$$typeof===e},or.isForwardRef=function(w){return b(w)===c},or.isFragment=function(w){return b(w)===r},or.isLazy=function(w){return b(w)===p},or.isMemo=function(w){return b(w)===h},or.isPortal=function(w){return b(w)===t},or.isProfiler=function(w){return b(w)===a},or.isStrictMode=function(w){return b(w)===n},or.isSuspense=function(w){return b(w)===d},or.isSuspenseList=function(w){return b(w)===f},or.isValidElementType=function(w){return typeof w=="string"||typeof w=="function"||w===r||w===a||w===n||w===d||w===f||typeof w=="object"&&w!==null&&(w.$$typeof===p||w.$$typeof===h||w.$$typeof===l||w.$$typeof===i||w.$$typeof===c||w.$$typeof===y||w.getModuleId!==void 0)},or.typeOf=b,or}var O3;function xJ(){return O3||(O3=1,P1.exports=gJ()),P1.exports}var yJ=xJ(),kn=e=>e===0?0:e>0?1:-1,ls=e=>typeof e=="number"&&e!=+e,Oc=e=>typeof e=="string"&&e.indexOf("%")===e.length-1,Ze=e=>(typeof e=="number"||e instanceof Number)&&!ls(e),Ri=e=>Ze(e)||typeof e=="string",vJ=0,Zc=e=>{var t=++vJ;return"".concat(e||"").concat(t)},fa=function(t,r){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:0,a=arguments.length>3&&arguments[3]!==void 0?arguments[3]:!1;if(!Ze(t)&&typeof t!="string")return n;var i;if(Oc(t)){if(r==null)return n;var l=t.indexOf("%");i=r*parseFloat(t.slice(0,l))/100}else i=+t;return ls(i)&&(i=n),a&&r!=null&&i>r&&(i=r),i},H8=e=>{if(!Array.isArray(e))return!1;for(var t=e.length,r={},n=0;n<t;n++)if(!r[e[n]])r[e[n]]=!0;else return!0;return!1},Qa=(e,t)=>Ze(e)&&Ze(t)?r=>e+r*(t-e):()=>t;function V8(e,t,r){if(!(!e||!e.length))return e.find(n=>n&&(typeof t=="function"?t(n):Oo(n,t))===r)}var xr=e=>e===null||typeof e>"u",em=e=>xr(e)?e:"".concat(e.charAt(0).toUpperCase()).concat(e.slice(1)),bJ=["viewBox","children"],wJ=["aria-activedescendant","aria-atomic","aria-autocomplete","aria-busy","aria-checked","aria-colcount","aria-colindex","aria-colspan","aria-controls","aria-current","aria-describedby","aria-details","aria-disabled","aria-errormessage","aria-expanded","aria-flowto","aria-haspopup","aria-hidden","aria-invalid","aria-keyshortcuts","aria-label","aria-labelledby","aria-level","aria-live","aria-modal","aria-multiline","aria-multiselectable","aria-orientation","aria-owns","aria-placeholder","aria-posinset","aria-pressed","aria-readonly","aria-relevant","aria-required","aria-roledescription","aria-rowcount","aria-rowindex","aria-rowspan","aria-selected","aria-setsize","aria-sort","aria-valuemax","aria-valuemin","aria-valuenow","aria-valuetext","className","color","height","id","lang","max","media","method","min","name","style","target","width","role","tabIndex","accentHeight","accumulate","additive","alignmentBaseline","allowReorder","alphabetic","amplitude","arabicForm","ascent","attributeName","attributeType","autoReverse","azimuth","baseFrequency","baselineShift","baseProfile","bbox","begin","bias","by","calcMode","capHeight","clip","clipPath","clipPathUnits","clipRule","colorInterpolation","colorInterpolationFilters","colorProfile","colorRendering","contentScriptType","contentStyleType","cursor","cx","cy","d","decelerate","descent","diffuseConstant","direction","display","divisor","dominantBaseline","dur","dx","dy","edgeMode","elevation","enableBackground","end","exponent","externalResourcesRequired","fill","fillOpacity","fillRule","filter","filterRes","filterUnits","floodColor","floodOpacity","focusable","fontFamily","fontSize","fontSizeAdjust","fontStretch","fontStyle","fontVariant","fontWeight","format","from","fx","fy","g1","g2","glyphName","glyphOrientationHorizontal","glyphOrientationVertical","glyphRef","gradientTransform","gradientUnits","hanging","horizAdvX","horizOriginX","href","ideographic","imageRendering","in2","in","intercept","k1","k2","k3","k4","k","kernelMatrix","kernelUnitLength","kerning","keyPoints","keySplines","keyTimes","lengthAdjust","letterSpacing","lightingColor","limitingConeAngle","local","markerEnd","markerHeight","markerMid","markerStart","markerUnits","markerWidth","mask","maskContentUnits","maskUnits","mathematical","mode","numOctaves","offset","opacity","operator","order","orient","orientation","origin","overflow","overlinePosition","overlineThickness","paintOrder","panose1","pathLength","patternContentUnits","patternTransform","patternUnits","pointerEvents","pointsAtX","pointsAtY","pointsAtZ","preserveAlpha","preserveAspectRatio","primitiveUnits","r","radius","refX","refY","renderingIntent","repeatCount","repeatDur","requiredExtensions","requiredFeatures","restart","result","rotate","rx","ry","seed","shapeRendering","slope","spacing","specularConstant","specularExponent","speed","spreadMethod","startOffset","stdDeviation","stemh","stemv","stitchTiles","stopColor","stopOpacity","strikethroughPosition","strikethroughThickness","string","stroke","strokeDasharray","strokeDashoffset","strokeLinecap","strokeLinejoin","strokeMiterlimit","strokeOpacity","strokeWidth","surfaceScale","systemLanguage","tableValues","targetX","targetY","textAnchor","textDecoration","textLength","textRendering","to","transform","u1","u2","underlinePosition","underlineThickness","unicode","unicodeBidi","unicodeRange","unitsPerEm","vAlphabetic","values","vectorEffect","version","vertAdvY","vertOriginX","vertOriginY","vHanging","vIdeographic","viewTarget","visibility","vMathematical","widths","wordSpacing","writingMode","x1","x2","x","xChannelSelector","xHeight","xlinkActuate","xlinkArcrole","xlinkHref","xlinkRole","xlinkShow","xlinkTitle","xlinkType","xmlBase","xmlLang","xmlns","xmlnsXlink","xmlSpace","y1","y2","y","yChannelSelector","z","zoomAndPan","ref","key","angle"],D3=["points","pathLength"],M1={svg:bJ,polygon:D3,polyline:D3},NS=["dangerouslySetInnerHTML","onCopy","onCopyCapture","onCut","onCutCapture","onPaste","onPasteCapture","onCompositionEnd","onCompositionEndCapture","onCompositionStart","onCompositionStartCapture","onCompositionUpdate","onCompositionUpdateCapture","onFocus","onFocusCapture","onBlur","onBlurCapture","onChange","onChangeCapture","onBeforeInput","onBeforeInputCapture","onInput","onInputCapture","onReset","onResetCapture","onSubmit","onSubmitCapture","onInvalid","onInvalidCapture","onLoad","onLoadCapture","onError","onErrorCapture","onKeyDown","onKeyDownCapture","onKeyPress","onKeyPressCapture","onKeyUp","onKeyUpCapture","onAbort","onAbortCapture","onCanPlay","onCanPlayCapture","onCanPlayThrough","onCanPlayThroughCapture","onDurationChange","onDurationChangeCapture","onEmptied","onEmptiedCapture","onEncrypted","onEncryptedCapture","onEnded","onEndedCapture","onLoadedData","onLoadedDataCapture","onLoadedMetadata","onLoadedMetadataCapture","onLoadStart","onLoadStartCapture","onPause","onPauseCapture","onPlay","onPlayCapture","onPlaying","onPlayingCapture","onProgress","onProgressCapture","onRateChange","onRateChangeCapture","onSeeked","onSeekedCapture","onSeeking","onSeekingCapture","onStalled","onStalledCapture","onSuspend","onSuspendCapture","onTimeUpdate","onTimeUpdateCapture","onVolumeChange","onVolumeChangeCapture","onWaiting","onWaitingCapture","onAuxClick","onAuxClickCapture","onClick","onClickCapture","onContextMenu","onContextMenuCapture","onDoubleClick","onDoubleClickCapture","onDrag","onDragCapture","onDragEnd","onDragEndCapture","onDragEnter","onDragEnterCapture","onDragExit","onDragExitCapture","onDragLeave","onDragLeaveCapture","onDragOver","onDragOverCapture","onDragStart","onDragStartCapture","onDrop","onDropCapture","onMouseDown","onMouseDownCapture","onMouseEnter","onMouseLeave","onMouseMove","onMouseMoveCapture","onMouseOut","onMouseOutCapture","onMouseOver","onMouseOverCapture","onMouseUp","onMouseUpCapture","onSelect","onSelectCapture","onTouchCancel","onTouchCancelCapture","onTouchEnd","onTouchEndCapture","onTouchMove","onTouchMoveCapture","onTouchStart","onTouchStartCapture","onPointerDown","onPointerDownCapture","onPointerMove","onPointerMoveCapture","onPointerUp","onPointerUpCapture","onPointerCancel","onPointerCancelCapture","onPointerEnter","onPointerEnterCapture","onPointerLeave","onPointerLeaveCapture","onPointerOver","onPointerOverCapture","onPointerOut","onPointerOutCapture","onGotPointerCapture","onGotPointerCaptureCapture","onLostPointerCapture","onLostPointerCaptureCapture","onScroll","onScrollCapture","onWheel","onWheelCapture","onAnimationStart","onAnimationStartCapture","onAnimationEnd","onAnimationEndCapture","onAnimationIteration","onAnimationIterationCapture","onTransitionEnd","onTransitionEndCapture"],SS=(e,t)=>{if(!e||typeof e=="function"||typeof e=="boolean")return null;var r=e;if(v.isValidElement(e)&&(r=e.props),typeof r!="object"&&typeof r!="function")return null;var n={};return Object.keys(r).forEach(a=>{NS.includes(a)&&(n[a]=i=>r[a](r,i))}),n},jJ=(e,t,r)=>n=>(e(t,r,n),null),tm=(e,t,r)=>{if(e===null||typeof e!="object"&&typeof e!="function")return null;var n=null;return Object.keys(e).forEach(a=>{var i=e[a];NS.includes(a)&&typeof i=="function"&&(n||(n={}),n[a]=jJ(i,t,r))}),n},P3=e=>typeof e=="string"?e:e?e.displayName||e.name||"Component":"",M3=null,R1=null,q8=e=>{if(e===M3&&Array.isArray(R1))return R1;var t=[];return v.Children.forEach(e,r=>{xr(r)||(yJ.isFragment(r)?t=t.concat(q8(r.props.children)):t.push(r))}),R1=t,M3=e,t};function rm(e,t){var r=[],n=[];return Array.isArray(t)?n=t.map(a=>P3(a)):n=[P3(t)],q8(e).forEach(a=>{var i=Oo(a,"type.displayName")||Oo(a,"type.name");n.indexOf(i)!==-1&&r.push(a)}),r}var W8=e=>e&&typeof e=="object"&&"clipDot"in e?!!e.clipDot:!0,NJ=(e,t,r,n)=>{var a,i=(a=n&&M1?.[n])!==null&&a!==void 0?a:[];return t.startsWith("data-")||typeof e!="function"&&(n&&i.includes(t)||wJ.includes(t))||r&&NS.includes(t)},Et=(e,t,r)=>{if(!e||typeof e=="function"||typeof e=="boolean")return null;var n=e;if(v.isValidElement(e)&&(n=e.props),typeof n!="object"&&typeof n!="function")return null;var a={};return Object.keys(n).forEach(i=>{var l;NJ((l=n)===null||l===void 0?void 0:l[i],i,t,r)&&(a[i]=n[i])}),a},SJ=["children","width","height","viewBox","className","style","title","desc"];function mj(){return mj=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},mj.apply(null,arguments)}function kJ(e,t){if(e==null)return{};var r,n,a=_J(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(n=0;n<i.length;n++)r=i[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(a[r]=e[r])}return a}function _J(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}var kS=v.forwardRef((e,t)=>{var{children:r,width:n,height:a,viewBox:i,className:l,style:c,title:d,desc:f}=e,h=kJ(e,SJ),p=i||{width:n,height:a,x:0,y:0},g=Bt("recharts-surface",l);return v.createElement("svg",mj({},Et(h,!0,"svg"),{className:g,width:n,height:a,style:c,viewBox:"".concat(p.x," ").concat(p.y," ").concat(p.width," ").concat(p.height),ref:t}),v.createElement("title",null,d),v.createElement("desc",null,f),r)}),EJ=["children","className"];function pj(){return pj=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},pj.apply(null,arguments)}function AJ(e,t){if(e==null)return{};var r,n,a=TJ(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(n=0;n<i.length;n++)r=i[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(a[r]=e[r])}return a}function TJ(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}var Tn=v.forwardRef((e,t)=>{var{children:r,className:n}=e,a=AJ(e,EJ),i=Bt("recharts-layer",n);return v.createElement("g",pj({className:i},Et(a,!0),{ref:t}),r)}),G8=v.createContext(null),CJ=()=>v.useContext(G8);function wr(e){return function(){return e}}const K8=Math.cos,Mg=Math.sin,pi=Math.sqrt,Rg=Math.PI,Qx=2*Rg,gj=Math.PI,xj=2*gj,bc=1e-6,OJ=xj-bc;function Y8(e){this._+=e[0];for(let t=1,r=e.length;t<r;++t)this._+=arguments[t]+e[t]}function DJ(e){let t=Math.floor(e);if(!(t>=0))throw new Error(`invalid digits: ${e}`);if(t>15)return Y8;const r=10**t;return function(n){this._+=n[0];for(let a=1,i=n.length;a<i;++a)this._+=Math.round(arguments[a]*r)/r+n[a]}}class PJ{constructor(t){this._x0=this._y0=this._x1=this._y1=null,this._="",this._append=t==null?Y8:DJ(t)}moveTo(t,r){this._append`M${this._x0=this._x1=+t},${this._y0=this._y1=+r}`}closePath(){this._x1!==null&&(this._x1=this._x0,this._y1=this._y0,this._append`Z`)}lineTo(t,r){this._append`L${this._x1=+t},${this._y1=+r}`}quadraticCurveTo(t,r,n,a){this._append`Q${+t},${+r},${this._x1=+n},${this._y1=+a}`}bezierCurveTo(t,r,n,a,i,l){this._append`C${+t},${+r},${+n},${+a},${this._x1=+i},${this._y1=+l}`}arcTo(t,r,n,a,i){if(t=+t,r=+r,n=+n,a=+a,i=+i,i<0)throw new Error(`negative radius: ${i}`);let l=this._x1,c=this._y1,d=n-t,f=a-r,h=l-t,p=c-r,g=h*h+p*p;if(this._x1===null)this._append`M${this._x1=t},${this._y1=r}`;else if(g>bc)if(!(Math.abs(p*d-f*h)>bc)||!i)this._append`L${this._x1=t},${this._y1=r}`;else{let y=n-l,b=a-c,w=d*d+f*f,j=y*y+b*b,S=Math.sqrt(w),_=Math.sqrt(g),E=i*Math.tan((gj-Math.acos((w+g-j)/(2*S*_)))/2),T=E/_,A=E/S;Math.abs(T-1)>bc&&this._append`L${t+T*h},${r+T*p}`,this._append`A${i},${i},0,0,${+(p*y>h*b)},${this._x1=t+A*d},${this._y1=r+A*f}`}}arc(t,r,n,a,i,l){if(t=+t,r=+r,n=+n,l=!!l,n<0)throw new Error(`negative radius: ${n}`);let c=n*Math.cos(a),d=n*Math.sin(a),f=t+c,h=r+d,p=1^l,g=l?a-i:i-a;this._x1===null?this._append`M${f},${h}`:(Math.abs(this._x1-f)>bc||Math.abs(this._y1-h)>bc)&&this._append`L${f},${h}`,n&&(g<0&&(g=g%xj+xj),g>OJ?this._append`A${n},${n},0,1,${p},${t-c},${r-d}A${n},${n},0,1,${p},${this._x1=f},${this._y1=h}`:g>bc&&this._append`A${n},${n},0,${+(g>=gj)},${p},${this._x1=t+n*Math.cos(i)},${this._y1=r+n*Math.sin(i)}`)}rect(t,r,n,a){this._append`M${this._x0=this._x1=+t},${this._y0=this._y1=+r}h${n=+n}v${+a}h${-n}Z`}toString(){return this._}}function _S(e){let t=3;return e.digits=function(r){if(!arguments.length)return t;if(r==null)t=null;else{const n=Math.floor(r);if(!(n>=0))throw new RangeError(`invalid digits: ${r}`);t=n}return e},()=>new PJ(t)}function ES(e){return typeof e=="object"&&"length"in e?e:Array.from(e)}function X8(e){this._context=e}X8.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;default:this._context.lineTo(e,t);break}}};function Zx(e){return new X8(e)}function Q8(e){return e[0]}function Z8(e){return e[1]}function J8(e,t){var r=wr(!0),n=null,a=Zx,i=null,l=_S(c);e=typeof e=="function"?e:e===void 0?Q8:wr(e),t=typeof t=="function"?t:t===void 0?Z8:wr(t);function c(d){var f,h=(d=ES(d)).length,p,g=!1,y;for(n==null&&(i=a(y=l())),f=0;f<=h;++f)!(f<h&&r(p=d[f],f,d))===g&&((g=!g)?i.lineStart():i.lineEnd()),g&&i.point(+e(p,f,d),+t(p,f,d));if(y)return i=null,y+""||null}return c.x=function(d){return arguments.length?(e=typeof d=="function"?d:wr(+d),c):e},c.y=function(d){return arguments.length?(t=typeof d=="function"?d:wr(+d),c):t},c.defined=function(d){return arguments.length?(r=typeof d=="function"?d:wr(!!d),c):r},c.curve=function(d){return arguments.length?(a=d,n!=null&&(i=a(n)),c):a},c.context=function(d){return arguments.length?(d==null?n=i=null:i=a(n=d),c):n},c}function Bp(e,t,r){var n=null,a=wr(!0),i=null,l=Zx,c=null,d=_S(f);e=typeof e=="function"?e:e===void 0?Q8:wr(+e),t=typeof t=="function"?t:wr(t===void 0?0:+t),r=typeof r=="function"?r:r===void 0?Z8:wr(+r);function f(p){var g,y,b,w=(p=ES(p)).length,j,S=!1,_,E=new Array(w),T=new Array(w);for(i==null&&(c=l(_=d())),g=0;g<=w;++g){if(!(g<w&&a(j=p[g],g,p))===S)if(S=!S)y=g,c.areaStart(),c.lineStart();else{for(c.lineEnd(),c.lineStart(),b=g-1;b>=y;--b)c.point(E[b],T[b]);c.lineEnd(),c.areaEnd()}S&&(E[g]=+e(j,g,p),T[g]=+t(j,g,p),c.point(n?+n(j,g,p):E[g],r?+r(j,g,p):T[g]))}if(_)return c=null,_+""||null}function h(){return J8().defined(a).curve(l).context(i)}return f.x=function(p){return arguments.length?(e=typeof p=="function"?p:wr(+p),n=null,f):e},f.x0=function(p){return arguments.length?(e=typeof p=="function"?p:wr(+p),f):e},f.x1=function(p){return arguments.length?(n=p==null?null:typeof p=="function"?p:wr(+p),f):n},f.y=function(p){return arguments.length?(t=typeof p=="function"?p:wr(+p),r=null,f):t},f.y0=function(p){return arguments.length?(t=typeof p=="function"?p:wr(+p),f):t},f.y1=function(p){return arguments.length?(r=p==null?null:typeof p=="function"?p:wr(+p),f):r},f.lineX0=f.lineY0=function(){return h().x(e).y(t)},f.lineY1=function(){return h().x(e).y(r)},f.lineX1=function(){return h().x(n).y(t)},f.defined=function(p){return arguments.length?(a=typeof p=="function"?p:wr(!!p),f):a},f.curve=function(p){return arguments.length?(l=p,i!=null&&(c=l(i)),f):l},f.context=function(p){return arguments.length?(p==null?i=c=null:c=l(i=p),f):i},f}class eI{constructor(t,r){this._context=t,this._x=r}areaStart(){this._line=0}areaEnd(){this._line=NaN}lineStart(){this._point=0}lineEnd(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line}point(t,r){switch(t=+t,r=+r,this._point){case 0:{this._point=1,this._line?this._context.lineTo(t,r):this._context.moveTo(t,r);break}case 1:this._point=2;default:{this._x?this._context.bezierCurveTo(this._x0=(this._x0+t)/2,this._y0,this._x0,r,t,r):this._context.bezierCurveTo(this._x0,this._y0=(this._y0+r)/2,t,this._y0,t,r);break}}this._x0=t,this._y0=r}}function MJ(e){return new eI(e,!0)}function RJ(e){return new eI(e,!1)}const AS={draw(e,t){const r=pi(t/Rg);e.moveTo(r,0),e.arc(0,0,r,0,Qx)}},IJ={draw(e,t){const r=pi(t/5)/2;e.moveTo(-3*r,-r),e.lineTo(-r,-r),e.lineTo(-r,-3*r),e.lineTo(r,-3*r),e.lineTo(r,-r),e.lineTo(3*r,-r),e.lineTo(3*r,r),e.lineTo(r,r),e.lineTo(r,3*r),e.lineTo(-r,3*r),e.lineTo(-r,r),e.lineTo(-3*r,r),e.closePath()}},tI=pi(1/3),FJ=tI*2,LJ={draw(e,t){const r=pi(t/FJ),n=r*tI;e.moveTo(0,-r),e.lineTo(n,0),e.lineTo(0,r),e.lineTo(-n,0),e.closePath()}},BJ={draw(e,t){const r=pi(t),n=-r/2;e.rect(n,n,r,r)}},$J=.8908130915292852,rI=Mg(Rg/10)/Mg(7*Rg/10),UJ=Mg(Qx/10)*rI,zJ=-K8(Qx/10)*rI,HJ={draw(e,t){const r=pi(t*$J),n=UJ*r,a=zJ*r;e.moveTo(0,-r),e.lineTo(n,a);for(let i=1;i<5;++i){const l=Qx*i/5,c=K8(l),d=Mg(l);e.lineTo(d*r,-c*r),e.lineTo(c*n-d*a,d*n+c*a)}e.closePath()}},I1=pi(3),VJ={draw(e,t){const r=-pi(t/(I1*3));e.moveTo(0,r*2),e.lineTo(-I1*r,-r),e.lineTo(I1*r,-r),e.closePath()}},Ns=-.5,Ss=pi(3)/2,yj=1/pi(12),qJ=(yj/2+1)*3,WJ={draw(e,t){const r=pi(t/qJ),n=r/2,a=r*yj,i=n,l=r*yj+r,c=-i,d=l;e.moveTo(n,a),e.lineTo(i,l),e.lineTo(c,d),e.lineTo(Ns*n-Ss*a,Ss*n+Ns*a),e.lineTo(Ns*i-Ss*l,Ss*i+Ns*l),e.lineTo(Ns*c-Ss*d,Ss*c+Ns*d),e.lineTo(Ns*n+Ss*a,Ns*a-Ss*n),e.lineTo(Ns*i+Ss*l,Ns*l-Ss*i),e.lineTo(Ns*c+Ss*d,Ns*d-Ss*c),e.closePath()}};function GJ(e,t){let r=null,n=_S(a);e=typeof e=="function"?e:wr(e||AS),t=typeof t=="function"?t:wr(t===void 0?64:+t);function a(){let i;if(r||(r=i=n()),e.apply(this,arguments).draw(r,+t.apply(this,arguments)),i)return r=null,i+""||null}return a.type=function(i){return arguments.length?(e=typeof i=="function"?i:wr(i),a):e},a.size=function(i){return arguments.length?(t=typeof i=="function"?i:wr(+i),a):t},a.context=function(i){return arguments.length?(r=i??null,a):r},a}function Ig(){}function Fg(e,t,r){e._context.bezierCurveTo((2*e._x0+e._x1)/3,(2*e._y0+e._y1)/3,(e._x0+2*e._x1)/3,(e._y0+2*e._y1)/3,(e._x0+4*e._x1+t)/6,(e._y0+4*e._y1+r)/6)}function nI(e){this._context=e}nI.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){switch(this._point){case 3:Fg(this,this._x1,this._y1);case 2:this._context.lineTo(this._x1,this._y1);break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;break;case 2:this._point=3,this._context.lineTo((5*this._x0+this._x1)/6,(5*this._y0+this._y1)/6);default:Fg(this,e,t);break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t}};function KJ(e){return new nI(e)}function aI(e){this._context=e}aI.prototype={areaStart:Ig,areaEnd:Ig,lineStart:function(){this._x0=this._x1=this._x2=this._x3=this._x4=this._y0=this._y1=this._y2=this._y3=this._y4=NaN,this._point=0},lineEnd:function(){switch(this._point){case 1:{this._context.moveTo(this._x2,this._y2),this._context.closePath();break}case 2:{this._context.moveTo((this._x2+2*this._x3)/3,(this._y2+2*this._y3)/3),this._context.lineTo((this._x3+2*this._x2)/3,(this._y3+2*this._y2)/3),this._context.closePath();break}case 3:{this.point(this._x2,this._y2),this.point(this._x3,this._y3),this.point(this._x4,this._y4);break}}},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._x2=e,this._y2=t;break;case 1:this._point=2,this._x3=e,this._y3=t;break;case 2:this._point=3,this._x4=e,this._y4=t,this._context.moveTo((this._x0+4*this._x1+e)/6,(this._y0+4*this._y1+t)/6);break;default:Fg(this,e,t);break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t}};function YJ(e){return new aI(e)}function sI(e){this._context=e}sI.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===3)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1;break;case 1:this._point=2;break;case 2:this._point=3;var r=(this._x0+4*this._x1+e)/6,n=(this._y0+4*this._y1+t)/6;this._line?this._context.lineTo(r,n):this._context.moveTo(r,n);break;case 3:this._point=4;default:Fg(this,e,t);break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t}};function XJ(e){return new sI(e)}function iI(e){this._context=e}iI.prototype={areaStart:Ig,areaEnd:Ig,lineStart:function(){this._point=0},lineEnd:function(){this._point&&this._context.closePath()},point:function(e,t){e=+e,t=+t,this._point?this._context.lineTo(e,t):(this._point=1,this._context.moveTo(e,t))}};function QJ(e){return new iI(e)}function R3(e){return e<0?-1:1}function I3(e,t,r){var n=e._x1-e._x0,a=t-e._x1,i=(e._y1-e._y0)/(n||a<0&&-0),l=(r-e._y1)/(a||n<0&&-0),c=(i*a+l*n)/(n+a);return(R3(i)+R3(l))*Math.min(Math.abs(i),Math.abs(l),.5*Math.abs(c))||0}function F3(e,t){var r=e._x1-e._x0;return r?(3*(e._y1-e._y0)/r-t)/2:t}function F1(e,t,r){var n=e._x0,a=e._y0,i=e._x1,l=e._y1,c=(i-n)/3;e._context.bezierCurveTo(n+c,a+c*t,i-c,l-c*r,i,l)}function Lg(e){this._context=e}Lg.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=this._t0=NaN,this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x1,this._y1);break;case 3:F1(this,this._t0,F3(this,this._t0));break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){var r=NaN;if(e=+e,t=+t,!(e===this._x1&&t===this._y1)){switch(this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;break;case 2:this._point=3,F1(this,F3(this,r=I3(this,e,t)),r);break;default:F1(this,this._t0,r=I3(this,e,t));break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t,this._t0=r}}};function lI(e){this._context=new oI(e)}(lI.prototype=Object.create(Lg.prototype)).point=function(e,t){Lg.prototype.point.call(this,t,e)};function oI(e){this._context=e}oI.prototype={moveTo:function(e,t){this._context.moveTo(t,e)},closePath:function(){this._context.closePath()},lineTo:function(e,t){this._context.lineTo(t,e)},bezierCurveTo:function(e,t,r,n,a,i){this._context.bezierCurveTo(t,e,n,r,i,a)}};function ZJ(e){return new Lg(e)}function JJ(e){return new lI(e)}function cI(e){this._context=e}cI.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=[],this._y=[]},lineEnd:function(){var e=this._x,t=this._y,r=e.length;if(r)if(this._line?this._context.lineTo(e[0],t[0]):this._context.moveTo(e[0],t[0]),r===2)this._context.lineTo(e[1],t[1]);else for(var n=L3(e),a=L3(t),i=0,l=1;l<r;++i,++l)this._context.bezierCurveTo(n[0][i],a[0][i],n[1][i],a[1][i],e[l],t[l]);(this._line||this._line!==0&&r===1)&&this._context.closePath(),this._line=1-this._line,this._x=this._y=null},point:function(e,t){this._x.push(+e),this._y.push(+t)}};function L3(e){var t,r=e.length-1,n,a=new Array(r),i=new Array(r),l=new Array(r);for(a[0]=0,i[0]=2,l[0]=e[0]+2*e[1],t=1;t<r-1;++t)a[t]=1,i[t]=4,l[t]=4*e[t]+2*e[t+1];for(a[r-1]=2,i[r-1]=7,l[r-1]=8*e[r-1]+e[r],t=1;t<r;++t)n=a[t]/i[t-1],i[t]-=n,l[t]-=n*l[t-1];for(a[r-1]=l[r-1]/i[r-1],t=r-2;t>=0;--t)a[t]=(l[t]-a[t+1])/i[t];for(i[r-1]=(e[r]+a[r-1])/2,t=0;t<r-1;++t)i[t]=2*e[t+1]-a[t+1];return[a,i]}function eee(e){return new cI(e)}function Jx(e,t){this._context=e,this._t=t}Jx.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=this._y=NaN,this._point=0},lineEnd:function(){0<this._t&&this._t<1&&this._point===2&&this._context.lineTo(this._x,this._y),(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line>=0&&(this._t=1-this._t,this._line=1-this._line)},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;default:{if(this._t<=0)this._context.lineTo(this._x,t),this._context.lineTo(e,t);else{var r=this._x*(1-this._t)+e*this._t;this._context.lineTo(r,this._y),this._context.lineTo(r,t)}break}}this._x=e,this._y=t}};function tee(e){return new Jx(e,.5)}function ree(e){return new Jx(e,0)}function nee(e){return new Jx(e,1)}function Ed(e,t){if((l=e.length)>1)for(var r=1,n,a,i=e[t[0]],l,c=i.length;r<l;++r)for(a=i,i=e[t[r]],n=0;n<c;++n)i[n][1]+=i[n][0]=isNaN(a[n][1])?a[n][0]:a[n][1]}function vj(e){for(var t=e.length,r=new Array(t);--t>=0;)r[t]=t;return r}function aee(e,t){return e[t]}function see(e){const t=[];return t.key=e,t}function iee(){var e=wr([]),t=vj,r=Ed,n=aee;function a(i){var l=Array.from(e.apply(this,arguments),see),c,d=l.length,f=-1,h;for(const p of i)for(c=0,++f;c<d;++c)(l[c][f]=[0,+n(p,l[c].key,f,i)]).data=p;for(c=0,h=ES(t(l));c<d;++c)l[h[c]].index=c;return r(l,h),l}return a.keys=function(i){return arguments.length?(e=typeof i=="function"?i:wr(Array.from(i)),a):e},a.value=function(i){return arguments.length?(n=typeof i=="function"?i:wr(+i),a):n},a.order=function(i){return arguments.length?(t=i==null?vj:typeof i=="function"?i:wr(Array.from(i)),a):t},a.offset=function(i){return arguments.length?(r=i??Ed,a):r},a}function lee(e,t){if((n=e.length)>0){for(var r,n,a=0,i=e[0].length,l;a<i;++a){for(l=r=0;r<n;++r)l+=e[r][a][1]||0;if(l)for(r=0;r<n;++r)e[r][a][1]/=l}Ed(e,t)}}function oee(e,t){if((a=e.length)>0){for(var r=0,n=e[t[0]],a,i=n.length;r<i;++r){for(var l=0,c=0;l<a;++l)c+=e[l][r][1]||0;n[r][1]+=n[r][0]=-c/2}Ed(e,t)}}function cee(e,t){if(!(!((l=e.length)>0)||!((i=(a=e[t[0]]).length)>0))){for(var r=0,n=1,a,i,l;n<i;++n){for(var c=0,d=0,f=0;c<l;++c){for(var h=e[t[c]],p=h[n][1]||0,g=h[n-1][1]||0,y=(p-g)/2,b=0;b<c;++b){var w=e[t[b]],j=w[n][1]||0,S=w[n-1][1]||0;y+=j-S}d+=p,f+=y*p}a[n-1][1]+=a[n-1][0]=r,d&&(r-=f/d)}a[n-1][1]+=a[n-1][0]=r,Ed(e,t)}}var uee=["type","size","sizeType"];function bj(){return bj=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},bj.apply(null,arguments)}function B3(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function $3(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?B3(Object(r),!0).forEach(function(n){dee(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):B3(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function dee(e,t,r){return(t=fee(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function fee(e){var t=hee(e,"string");return typeof t=="symbol"?t:t+""}function hee(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function mee(e,t){if(e==null)return{};var r,n,a=pee(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(n=0;n<i.length;n++)r=i[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(a[r]=e[r])}return a}function pee(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}var uI={symbolCircle:AS,symbolCross:IJ,symbolDiamond:LJ,symbolSquare:BJ,symbolStar:HJ,symbolTriangle:VJ,symbolWye:WJ},gee=Math.PI/180,xee=e=>{var t="symbol".concat(em(e));return uI[t]||AS},yee=(e,t,r)=>{if(t==="area")return e;switch(r){case"cross":return 5*e*e/9;case"diamond":return .5*e*e/Math.sqrt(3);case"square":return e*e;case"star":{var n=18*gee;return 1.25*e*e*(Math.tan(n)-Math.tan(n*2)*Math.tan(n)**2)}case"triangle":return Math.sqrt(3)*e*e/4;case"wye":return(21-10*Math.sqrt(3))*e*e/8;default:return Math.PI*e*e/4}},vee=(e,t)=>{uI["symbol".concat(em(e))]=t},TS=e=>{var{type:t="circle",size:r=64,sizeType:n="area"}=e,a=mee(e,uee),i=$3($3({},a),{},{type:t,size:r,sizeType:n}),l=()=>{var p=xee(t),g=GJ().type(p).size(yee(r,n,t));return g()},{className:c,cx:d,cy:f}=i,h=Et(i,!0);return d===+d&&f===+f&&r===+r?v.createElement("path",bj({},h,{className:Bt("recharts-symbols",c),transform:"translate(".concat(d,", ").concat(f,")"),d:l()})):null};TS.registerSymbol=vee;function wj(){return wj=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},wj.apply(null,arguments)}function U3(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function bee(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?U3(Object(r),!0).forEach(function(n){CS(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):U3(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function CS(e,t,r){return(t=wee(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function wee(e){var t=jee(e,"string");return typeof t=="symbol"?t:t+""}function jee(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var ks=32;class OS extends v.PureComponent{renderIcon(t,r){var{inactiveColor:n}=this.props,a=ks/2,i=ks/6,l=ks/3,c=t.inactive?n:t.color,d=r??t.type;if(d==="none")return null;if(d==="plainline")return v.createElement("line",{strokeWidth:4,fill:"none",stroke:c,strokeDasharray:t.payload.strokeDasharray,x1:0,y1:a,x2:ks,y2:a,className:"recharts-legend-icon"});if(d==="line")return v.createElement("path",{strokeWidth:4,fill:"none",stroke:c,d:"M0,".concat(a,"h").concat(l,`
            A`).concat(i,",").concat(i,",0,1,1,").concat(2*l,",").concat(a,`
            H`).concat(ks,"M").concat(2*l,",").concat(a,`
            A`).concat(i,",").concat(i,",0,1,1,").concat(l,",").concat(a),className:"recharts-legend-icon"});if(d==="rect")return v.createElement("path",{stroke:"none",fill:c,d:"M0,".concat(ks/8,"h").concat(ks,"v").concat(ks*3/4,"h").concat(-ks,"z"),className:"recharts-legend-icon"});if(v.isValidElement(t.legendIcon)){var f=bee({},t);return delete f.legendIcon,v.cloneElement(t.legendIcon,f)}return v.createElement(TS,{fill:c,cx:a,cy:a,size:ks,sizeType:"diameter",type:d})}renderItems(){var{payload:t,iconSize:r,layout:n,formatter:a,inactiveColor:i,iconType:l}=this.props,c={x:0,y:0,width:ks,height:ks},d={display:n==="horizontal"?"inline-block":"block",marginRight:10},f={display:"inline-block",verticalAlign:"middle",marginRight:4};return t.map((h,p)=>{var g=h.formatter||a,y=Bt({"recharts-legend-item":!0,["legend-item-".concat(p)]:!0,inactive:h.inactive});if(h.type==="none")return null;var b=h.inactive?i:h.color,w=g?g(h.value,h,p):h.value;return v.createElement("li",wj({className:y,style:d,key:"legend-item-".concat(p)},tm(this.props,h,p)),v.createElement(kS,{width:r,height:r,viewBox:c,style:f,"aria-label":"".concat(w," legend icon")},this.renderIcon(h,l)),v.createElement("span",{className:"recharts-legend-item-text",style:{color:b}},w))})}render(){var{payload:t,layout:r,align:n}=this.props;if(!t||!t.length)return null;var a={padding:0,margin:0,textAlign:r==="horizontal"?n:"left"};return v.createElement("ul",{className:"recharts-default-legend",style:a},this.renderItems())}}CS(OS,"displayName","Legend");CS(OS,"defaultProps",{align:"center",iconSize:14,inactiveColor:"#ccc",layout:"horizontal",verticalAlign:"middle"});var L1={},B1={},z3;function Nee(){return z3||(z3=1,function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r,n){const a=new Map;for(let i=0;i<r.length;i++){const l=r[i],c=n(l);a.has(c)||a.set(c,l)}return Array.from(a.values())}e.uniqBy=t}(B1)),B1}var $1={},H3;function dI(){return H3||(H3=1,function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){return r}e.identity=t}($1)),$1}var U1={},z1={},H1={},V3;function See(){return V3||(V3=1,function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){return Number.isSafeInteger(r)&&r>=0}e.isLength=t}(H1)),H1}var q3;function DS(){return q3||(q3=1,function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=See();function r(n){return n!=null&&typeof n!="function"&&t.isLength(n.length)}e.isArrayLike=r}(z1)),z1}var V1={},W3;function kee(){return W3||(W3=1,function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){return typeof r=="object"&&r!==null}e.isObjectLike=t}(V1)),V1}var G3;function _ee(){return G3||(G3=1,function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=DS(),r=kee();function n(a){return r.isObjectLike(a)&&t.isArrayLike(a)}e.isArrayLikeObject=n}(U1)),U1}var q1={},W1={},K3;function Eee(){return K3||(K3=1,function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=jS();function r(n){return function(a){return t.get(a,n)}}e.property=r}(W1)),W1}var G1={},K1={},Y1={},X1={},Y3;function fI(){return Y3||(Y3=1,function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){return r!==null&&(typeof r=="object"||typeof r=="function")}e.isObject=t}(X1)),X1}var Q1={},X3;function hI(){return X3||(X3=1,function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){return r==null||typeof r!="object"&&typeof r!="function"}e.isPrimitive=t}(Q1)),Q1}var Z1={},Q3;function PS(){return Q3||(Q3=1,function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r,n){return r===n||Number.isNaN(r)&&Number.isNaN(n)}e.eq=t}(Z1)),Z1}var Z3;function Aee(){return Z3||(Z3=1,function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=MS(),r=fI(),n=hI(),a=PS();function i(p,g,y){return typeof y!="function"?t.isMatch(p,g):l(p,g,function b(w,j,S,_,E,T){const A=y(w,j,S,_,E,T);return A!==void 0?!!A:l(w,j,b,T)},new Map)}function l(p,g,y,b){if(g===p)return!0;switch(typeof g){case"object":return c(p,g,y,b);case"function":return Object.keys(g).length>0?l(p,{...g},y,b):a.eq(p,g);default:return r.isObject(p)?typeof g=="string"?g==="":!0:a.eq(p,g)}}function c(p,g,y,b){if(g==null)return!0;if(Array.isArray(g))return f(p,g,y,b);if(g instanceof Map)return d(p,g,y,b);if(g instanceof Set)return h(p,g,y,b);const w=Object.keys(g);if(p==null)return w.length===0;if(w.length===0)return!0;if(b&&b.has(g))return b.get(g)===p;b&&b.set(g,p);try{for(let j=0;j<w.length;j++){const S=w[j];if(!n.isPrimitive(p)&&!(S in p)||g[S]===void 0&&p[S]!==void 0||g[S]===null&&p[S]!==null||!y(p[S],g[S],S,p,g,b))return!1}return!0}finally{b&&b.delete(g)}}function d(p,g,y,b){if(g.size===0)return!0;if(!(p instanceof Map))return!1;for(const[w,j]of g.entries()){const S=p.get(w);if(y(S,j,w,p,g,b)===!1)return!1}return!0}function f(p,g,y,b){if(g.length===0)return!0;if(!Array.isArray(p))return!1;const w=new Set;for(let j=0;j<g.length;j++){const S=g[j];let _=!1;for(let E=0;E<p.length;E++){if(w.has(E))continue;const T=p[E];let A=!1;if(y(T,S,j,p,g,b)&&(A=!0),A){w.add(E),_=!0;break}}if(!_)return!1}return!0}function h(p,g,y,b){return g.size===0?!0:p instanceof Set?f([...p],[...g],y,b):!1}e.isMatchWith=i,e.isSetMatch=h}(Y1)),Y1}var J3;function MS(){return J3||(J3=1,function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=Aee();function r(n,a){return t.isMatchWith(n,a,()=>{})}e.isMatch=r}(K1)),K1}var J1={},ew={},tw={},eO;function mI(){return eO||(eO=1,function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){return Object.getOwnPropertySymbols(r).filter(n=>Object.prototype.propertyIsEnumerable.call(r,n))}e.getSymbols=t}(tw)),tw}var rw={},tO;function RS(){return tO||(tO=1,function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){return r==null?r===void 0?"[object Undefined]":"[object Null]":Object.prototype.toString.call(r)}e.getTag=t}(rw)),rw}var nw={},rO;function IS(){return rO||(rO=1,function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t="[object RegExp]",r="[object String]",n="[object Number]",a="[object Boolean]",i="[object Arguments]",l="[object Symbol]",c="[object Date]",d="[object Map]",f="[object Set]",h="[object Array]",p="[object Function]",g="[object ArrayBuffer]",y="[object Object]",b="[object Error]",w="[object DataView]",j="[object Uint8Array]",S="[object Uint8ClampedArray]",_="[object Uint16Array]",E="[object Uint32Array]",T="[object BigUint64Array]",A="[object Int8Array]",C="[object Int16Array]",O="[object Int32Array]",P="[object BigInt64Array]",F="[object Float32Array]",G="[object Float64Array]";e.argumentsTag=i,e.arrayBufferTag=g,e.arrayTag=h,e.bigInt64ArrayTag=P,e.bigUint64ArrayTag=T,e.booleanTag=a,e.dataViewTag=w,e.dateTag=c,e.errorTag=b,e.float32ArrayTag=F,e.float64ArrayTag=G,e.functionTag=p,e.int16ArrayTag=C,e.int32ArrayTag=O,e.int8ArrayTag=A,e.mapTag=d,e.numberTag=n,e.objectTag=y,e.regexpTag=t,e.setTag=f,e.stringTag=r,e.symbolTag=l,e.uint16ArrayTag=_,e.uint32ArrayTag=E,e.uint8ArrayTag=j,e.uint8ClampedArrayTag=S}(nw)),nw}var aw={},nO;function Tee(){return nO||(nO=1,function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){return ArrayBuffer.isView(r)&&!(r instanceof DataView)}e.isTypedArray=t}(aw)),aw}var aO;function pI(){return aO||(aO=1,function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=mI(),r=RS(),n=IS(),a=hI(),i=Tee();function l(h,p){return c(h,void 0,h,new Map,p)}function c(h,p,g,y=new Map,b=void 0){const w=b?.(h,p,g,y);if(w!=null)return w;if(a.isPrimitive(h))return h;if(y.has(h))return y.get(h);if(Array.isArray(h)){const j=new Array(h.length);y.set(h,j);for(let S=0;S<h.length;S++)j[S]=c(h[S],S,g,y,b);return Object.hasOwn(h,"index")&&(j.index=h.index),Object.hasOwn(h,"input")&&(j.input=h.input),j}if(h instanceof Date)return new Date(h.getTime());if(h instanceof RegExp){const j=new RegExp(h.source,h.flags);return j.lastIndex=h.lastIndex,j}if(h instanceof Map){const j=new Map;y.set(h,j);for(const[S,_]of h)j.set(S,c(_,S,g,y,b));return j}if(h instanceof Set){const j=new Set;y.set(h,j);for(const S of h)j.add(c(S,void 0,g,y,b));return j}if(typeof Buffer<"u"&&Buffer.isBuffer(h))return h.subarray();if(i.isTypedArray(h)){const j=new(Object.getPrototypeOf(h)).constructor(h.length);y.set(h,j);for(let S=0;S<h.length;S++)j[S]=c(h[S],S,g,y,b);return j}if(h instanceof ArrayBuffer||typeof SharedArrayBuffer<"u"&&h instanceof SharedArrayBuffer)return h.slice(0);if(h instanceof DataView){const j=new DataView(h.buffer.slice(0),h.byteOffset,h.byteLength);return y.set(h,j),d(j,h,g,y,b),j}if(typeof File<"u"&&h instanceof File){const j=new File([h],h.name,{type:h.type});return y.set(h,j),d(j,h,g,y,b),j}if(h instanceof Blob){const j=new Blob([h],{type:h.type});return y.set(h,j),d(j,h,g,y,b),j}if(h instanceof Error){const j=new h.constructor;return y.set(h,j),j.message=h.message,j.name=h.name,j.stack=h.stack,j.cause=h.cause,d(j,h,g,y,b),j}if(typeof h=="object"&&f(h)){const j=Object.create(Object.getPrototypeOf(h));return y.set(h,j),d(j,h,g,y,b),j}return h}function d(h,p,g=h,y,b){const w=[...Object.keys(p),...t.getSymbols(p)];for(let j=0;j<w.length;j++){const S=w[j],_=Object.getOwnPropertyDescriptor(h,S);(_==null||_.writable)&&(h[S]=c(p[S],S,g,y,b))}}function f(h){switch(r.getTag(h)){case n.argumentsTag:case n.arrayTag:case n.arrayBufferTag:case n.dataViewTag:case n.booleanTag:case n.dateTag:case n.float32ArrayTag:case n.float64ArrayTag:case n.int8ArrayTag:case n.int16ArrayTag:case n.int32ArrayTag:case n.mapTag:case n.numberTag:case n.objectTag:case n.regexpTag:case n.setTag:case n.stringTag:case n.symbolTag:case n.uint8ArrayTag:case n.uint8ClampedArrayTag:case n.uint16ArrayTag:case n.uint32ArrayTag:return!0;default:return!1}}e.cloneDeepWith=l,e.cloneDeepWithImpl=c,e.copyProperties=d}(ew)),ew}var sO;function Cee(){return sO||(sO=1,function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=pI();function r(n){return t.cloneDeepWithImpl(n,void 0,n,new Map,void 0)}e.cloneDeep=r}(J1)),J1}var iO;function Oee(){return iO||(iO=1,function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=MS(),r=Cee();function n(a){return a=r.cloneDeep(a),i=>t.isMatch(i,a)}e.matches=n}(G1)),G1}var sw={},iw={},lw={},lO;function Dee(){return lO||(lO=1,function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=pI(),r=IS();function n(a,i){return t.cloneDeepWith(a,(l,c,d,f)=>{const h=i?.(l,c,d,f);if(h!=null)return h;if(typeof a=="object")switch(Object.prototype.toString.call(a)){case r.numberTag:case r.stringTag:case r.booleanTag:{const p=new a.constructor(a?.valueOf());return t.copyProperties(p,a),p}case r.argumentsTag:{const p={};return t.copyProperties(p,a),p.length=a.length,p[Symbol.iterator]=a[Symbol.iterator],p}default:return}})}e.cloneDeepWith=n}(lw)),lw}var oO;function Pee(){return oO||(oO=1,function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=Dee();function r(n){return t.cloneDeepWith(n)}e.cloneDeep=r}(iw)),iw}var ow={},cw={},cO;function gI(){return cO||(cO=1,function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=/^(?:0|[1-9]\d*)$/;function r(n,a=Number.MAX_SAFE_INTEGER){switch(typeof n){case"number":return Number.isInteger(n)&&n>=0&&n<a;case"symbol":return!1;case"string":return t.test(n)}}e.isIndex=r}(cw)),cw}var uw={},uO;function Mee(){return uO||(uO=1,function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=RS();function r(n){return n!==null&&typeof n=="object"&&t.getTag(n)==="[object Arguments]"}e.isArguments=r}(uw)),uw}var dO;function Ree(){return dO||(dO=1,function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=U8(),r=gI(),n=Mee(),a=wS();function i(l,c){let d;if(Array.isArray(c)?d=c:typeof c=="string"&&t.isDeepKey(c)&&l?.[c]==null?d=a.toPath(c):d=[c],d.length===0)return!1;let f=l;for(let h=0;h<d.length;h++){const p=d[h];if((f==null||!Object.hasOwn(f,p))&&!((Array.isArray(f)||n.isArguments(f))&&r.isIndex(p)&&p<f.length))return!1;f=f[p]}return!0}e.has=i}(ow)),ow}var fO;function Iee(){return fO||(fO=1,function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=MS(),r=z8(),n=Pee(),a=jS(),i=Ree();function l(c,d){switch(typeof c){case"object":{Object.is(c?.valueOf(),-0)&&(c="-0");break}case"number":{c=r.toKey(c);break}}return d=n.cloneDeep(d),function(f){const h=a.get(f,c);return h===void 0?i.has(f,c):d===void 0?h===void 0:t.isMatch(h,d)}}e.matchesProperty=l}(sw)),sw}var hO;function Fee(){return hO||(hO=1,function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=dI(),r=Eee(),n=Oee(),a=Iee();function i(l){if(l==null)return t.identity;switch(typeof l){case"function":return l;case"object":return Array.isArray(l)&&l.length===2?a.matchesProperty(l[0],l[1]):n.matches(l);case"string":case"symbol":case"number":return r.property(l)}}e.iteratee=i}(q1)),q1}var mO;function Lee(){return mO||(mO=1,function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=Nee(),r=dI(),n=_ee(),a=Fee();function i(l,c=r.identity){return n.isArrayLikeObject(l)?t.uniqBy(Array.from(l),a.iteratee(c)):[]}e.uniqBy=i}(L1)),L1}var dw,pO;function Bee(){return pO||(pO=1,dw=Lee().uniqBy),dw}var $ee=Bee();const gO=fs($ee);function xI(e,t,r){return t===!0?gO(e,r):typeof t=="function"?gO(e,t):e}var fw={exports:{}},hw={},mw={exports:{}},pw={};/**
 * @license React
 * use-sync-external-store-shim.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var xO;function Uee(){if(xO)return pw;xO=1;var e=Ud();function t(p,g){return p===g&&(p!==0||1/p===1/g)||p!==p&&g!==g}var r=typeof Object.is=="function"?Object.is:t,n=e.useState,a=e.useEffect,i=e.useLayoutEffect,l=e.useDebugValue;function c(p,g){var y=g(),b=n({inst:{value:y,getSnapshot:g}}),w=b[0].inst,j=b[1];return i(function(){w.value=y,w.getSnapshot=g,d(w)&&j({inst:w})},[p,y,g]),a(function(){return d(w)&&j({inst:w}),p(function(){d(w)&&j({inst:w})})},[p]),l(y),y}function d(p){var g=p.getSnapshot;p=p.value;try{var y=g();return!r(p,y)}catch{return!0}}function f(p,g){return g()}var h=typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"?f:c;return pw.useSyncExternalStore=e.useSyncExternalStore!==void 0?e.useSyncExternalStore:h,pw}var yO;function zee(){return yO||(yO=1,mw.exports=Uee()),mw.exports}/**
 * @license React
 * use-sync-external-store-shim/with-selector.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var vO;function Hee(){if(vO)return hw;vO=1;var e=Ud(),t=zee();function r(f,h){return f===h&&(f!==0||1/f===1/h)||f!==f&&h!==h}var n=typeof Object.is=="function"?Object.is:r,a=t.useSyncExternalStore,i=e.useRef,l=e.useEffect,c=e.useMemo,d=e.useDebugValue;return hw.useSyncExternalStoreWithSelector=function(f,h,p,g,y){var b=i(null);if(b.current===null){var w={hasValue:!1,value:null};b.current=w}else w=b.current;b=c(function(){function S(C){if(!_){if(_=!0,E=C,C=g(C),y!==void 0&&w.hasValue){var O=w.value;if(y(O,C))return T=O}return T=C}if(O=T,n(E,C))return O;var P=g(C);return y!==void 0&&y(O,P)?(E=C,O):(E=C,T=P)}var _=!1,E,T,A=p===void 0?null:p;return[function(){return S(h())},A===null?void 0:function(){return S(A())}]},[h,p,g,y]);var j=a(f,b[0],b[1]);return l(function(){w.hasValue=!0,w.value=j},[j]),d(j),j},hw}var bO;function Vee(){return bO||(bO=1,fw.exports=Hee()),fw.exports}var qee=Vee(),FS=v.createContext(null),Wee=e=>e,Mr=()=>{var e=v.useContext(FS);return e?e.store.dispatch:Wee},bg=()=>{},Gee=()=>bg,Kee=(e,t)=>e===t;function nt(e){var t=v.useContext(FS);return qee.useSyncExternalStoreWithSelector(t?t.subscription.addNestedSub:Gee,t?t.store.getState:bg,t?t.store.getState:bg,t?e:bg,Kee)}function Yee(e,t=`expected a function, instead received ${typeof e}`){if(typeof e!="function")throw new TypeError(t)}function Xee(e,t=`expected an object, instead received ${typeof e}`){if(typeof e!="object")throw new TypeError(t)}function Qee(e,t="expected all items to be functions, instead received the following types: "){if(!e.every(r=>typeof r=="function")){const r=e.map(n=>typeof n=="function"?`function ${n.name||"unnamed"}()`:typeof n).join(", ");throw new TypeError(`${t}[${r}]`)}}var wO=e=>Array.isArray(e)?e:[e];function Zee(e){const t=Array.isArray(e[0])?e[0]:e;return Qee(t,"createSelector expects all input-selectors to be functions, but received the following types: "),t}function Jee(e,t){const r=[],{length:n}=e;for(let a=0;a<n;a++)r.push(e[a].apply(null,t));return r}var ete=class{constructor(e){this.value=e}deref(){return this.value}},tte=typeof WeakRef<"u"?WeakRef:ete,rte=0,jO=1;function $p(){return{s:rte,v:void 0,o:null,p:null}}function yI(e,t={}){let r=$p();const{resultEqualityCheck:n}=t;let a,i=0;function l(){let c=r;const{length:d}=arguments;for(let p=0,g=d;p<g;p++){const y=arguments[p];if(typeof y=="function"||typeof y=="object"&&y!==null){let b=c.o;b===null&&(c.o=b=new WeakMap);const w=b.get(y);w===void 0?(c=$p(),b.set(y,c)):c=w}else{let b=c.p;b===null&&(c.p=b=new Map);const w=b.get(y);w===void 0?(c=$p(),b.set(y,c)):c=w}}const f=c;let h;if(c.s===jO)h=c.v;else if(h=e.apply(null,arguments),i++,n){const p=a?.deref?.()??a;p!=null&&n(p,h)&&(h=p,i!==0&&i--),a=typeof h=="object"&&h!==null||typeof h=="function"?new tte(h):h}return f.s=jO,f.v=h,h}return l.clearCache=()=>{r=$p(),l.resetResultsCount()},l.resultsCount=()=>i,l.resetResultsCount=()=>{i=0},l}function nte(e,...t){const r=typeof e=="function"?{memoize:e,memoizeOptions:t}:e,n=(...a)=>{let i=0,l=0,c,d={},f=a.pop();typeof f=="object"&&(d=f,f=a.pop()),Yee(f,`createSelector expects an output function after the inputs, but received: [${typeof f}]`);const h={...r,...d},{memoize:p,memoizeOptions:g=[],argsMemoize:y=yI,argsMemoizeOptions:b=[]}=h,w=wO(g),j=wO(b),S=Zee(a),_=p(function(){return i++,f.apply(null,arguments)},...w),E=y(function(){l++;const A=Jee(S,arguments);return c=_.apply(null,A),c},...j);return Object.assign(E,{resultFunc:f,memoizedResultFunc:_,dependencies:S,dependencyRecomputations:()=>l,resetDependencyRecomputations:()=>{l=0},lastResult:()=>c,recomputations:()=>i,resetRecomputations:()=>{i=0},memoize:p,argsMemoize:y})};return Object.assign(n,{withTypes:()=>n}),n}var ke=nte(yI),ate=Object.assign((e,t=ke)=>{Xee(e,`createStructuredSelector expects first argument to be an object where each property is a selector, instead received a ${typeof e}`);const r=Object.keys(e),n=r.map(i=>e[i]);return t(n,(...i)=>i.reduce((l,c,d)=>(l[r[d]]=c,l),{}))},{withTypes:()=>ate}),gw={},xw={},yw={},NO;function ste(){return NO||(NO=1,function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(n){return typeof n=="symbol"?1:n===null?2:n===void 0?3:n!==n?4:0}const r=(n,a,i)=>{if(n!==a){const l=t(n),c=t(a);if(l===c&&l===0){if(n<a)return i==="desc"?1:-1;if(n>a)return i==="desc"?-1:1}return i==="desc"?c-l:l-c}return 0};e.compareValues=r}(yw)),yw}var vw={},bw={},SO;function vI(){return SO||(SO=1,function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){return typeof r=="symbol"||r instanceof Symbol}e.isSymbol=t}(bw)),bw}var kO;function ite(){return kO||(kO=1,function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=vI(),r=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,n=/^\w*$/;function a(i,l){return Array.isArray(i)?!1:typeof i=="number"||typeof i=="boolean"||i==null||t.isSymbol(i)?!0:typeof i=="string"&&(n.test(i)||!r.test(i))||l!=null&&Object.hasOwn(l,i)}e.isKey=a}(vw)),vw}var _O;function lte(){return _O||(_O=1,function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=ste(),r=ite(),n=wS();function a(i,l,c,d){if(i==null)return[];c=d?void 0:c,Array.isArray(i)||(i=Object.values(i)),Array.isArray(l)||(l=l==null?[null]:[l]),l.length===0&&(l=[null]),Array.isArray(c)||(c=c==null?[]:[c]),c=c.map(y=>String(y));const f=(y,b)=>{let w=y;for(let j=0;j<b.length&&w!=null;++j)w=w[b[j]];return w},h=(y,b)=>b==null||y==null?b:typeof y=="object"&&"key"in y?Object.hasOwn(b,y.key)?b[y.key]:f(b,y.path):typeof y=="function"?y(b):Array.isArray(y)?f(b,y):typeof b=="object"?b[y]:b,p=l.map(y=>(Array.isArray(y)&&y.length===1&&(y=y[0]),y==null||typeof y=="function"||Array.isArray(y)||r.isKey(y)?y:{key:y,path:n.toPath(y)}));return i.map(y=>({original:y,criteria:p.map(b=>h(b,y))})).slice().sort((y,b)=>{for(let w=0;w<p.length;w++){const j=t.compareValues(y.criteria[w],b.criteria[w],c[w]);if(j!==0)return j}return 0}).map(y=>y.original)}e.orderBy=a}(xw)),xw}var ww={},EO;function ote(){return EO||(EO=1,function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r,n=1){const a=[],i=Math.floor(n),l=(c,d)=>{for(let f=0;f<c.length;f++){const h=c[f];Array.isArray(h)&&d<i?l(h,d+1):a.push(h)}};return l(r,0),a}e.flatten=t}(ww)),ww}var jw={},AO;function bI(){return AO||(AO=1,function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=gI(),r=DS(),n=fI(),a=PS();function i(l,c,d){return n.isObject(d)&&(typeof c=="number"&&r.isArrayLike(d)&&t.isIndex(c)&&c<d.length||typeof c=="string"&&c in d)?a.eq(d[c],l):!1}e.isIterateeCall=i}(jw)),jw}var TO;function cte(){return TO||(TO=1,function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=lte(),r=ote(),n=bI();function a(i,...l){const c=l.length;return c>1&&n.isIterateeCall(i,l[0],l[1])?l=[]:c>2&&n.isIterateeCall(l[0],l[1],l[2])&&(l=[l[0]]),t.orderBy(i,r.flatten(l),["asc"])}e.sortBy=a}(gw)),gw}var Nw,CO;function ute(){return CO||(CO=1,Nw=cte().sortBy),Nw}var dte=ute();const ey=fs(dte);var wI=e=>e.legend.settings,fte=e=>e.legend.size,hte=e=>e.legend.payload,mte=ke([hte,wI],(e,t)=>{var{itemSorter:r}=t,n=e.flat(1);return r?ey(n,r):n});function pte(){return nt(mte)}var Up=1;function jI(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[],[t,r]=v.useState({height:0,left:0,top:0,width:0}),n=v.useCallback(a=>{if(a!=null){var i=a.getBoundingClientRect(),l={height:i.height,left:i.left,top:i.top,width:i.width};(Math.abs(l.height-t.height)>Up||Math.abs(l.left-t.left)>Up||Math.abs(l.top-t.top)>Up||Math.abs(l.width-t.width)>Up)&&r({height:l.height,left:l.left,top:l.top,width:l.width})}},[t.width,t.height,t.top,t.left,...e]);return[t,n]}function jn(e){return`Minified Redux error #${e}; visit https://redux.js.org/Errors?code=${e} for the full message or use the non-minified dev environment for full errors. `}var gte=typeof Symbol=="function"&&Symbol.observable||"@@observable",OO=gte,Sw=()=>Math.random().toString(36).substring(7).split("").join("."),xte={INIT:`@@redux/INIT${Sw()}`,REPLACE:`@@redux/REPLACE${Sw()}`,PROBE_UNKNOWN_ACTION:()=>`@@redux/PROBE_UNKNOWN_ACTION${Sw()}`},Bg=xte;function LS(e){if(typeof e!="object"||e===null)return!1;let t=e;for(;Object.getPrototypeOf(t)!==null;)t=Object.getPrototypeOf(t);return Object.getPrototypeOf(e)===t||Object.getPrototypeOf(e)===null}function BS(e,t,r){if(typeof e!="function")throw new Error(jn(2));if(typeof t=="function"&&typeof r=="function"||typeof r=="function"&&typeof arguments[3]=="function")throw new Error(jn(0));if(typeof t=="function"&&typeof r>"u"&&(r=t,t=void 0),typeof r<"u"){if(typeof r!="function")throw new Error(jn(1));return r(BS)(e,t)}let n=e,a=t,i=new Map,l=i,c=0,d=!1;function f(){l===i&&(l=new Map,i.forEach((j,S)=>{l.set(S,j)}))}function h(){if(d)throw new Error(jn(3));return a}function p(j){if(typeof j!="function")throw new Error(jn(4));if(d)throw new Error(jn(5));let S=!0;f();const _=c++;return l.set(_,j),function(){if(S){if(d)throw new Error(jn(6));S=!1,f(),l.delete(_),i=null}}}function g(j){if(!LS(j))throw new Error(jn(7));if(typeof j.type>"u")throw new Error(jn(8));if(typeof j.type!="string")throw new Error(jn(17));if(d)throw new Error(jn(9));try{d=!0,a=n(a,j)}finally{d=!1}return(i=l).forEach(_=>{_()}),j}function y(j){if(typeof j!="function")throw new Error(jn(10));n=j,g({type:Bg.REPLACE})}function b(){const j=p;return{subscribe(S){if(typeof S!="object"||S===null)throw new Error(jn(11));function _(){const T=S;T.next&&T.next(h())}return _(),{unsubscribe:j(_)}},[OO](){return this}}}return g({type:Bg.INIT}),{dispatch:g,subscribe:p,getState:h,replaceReducer:y,[OO]:b}}function yte(e){Object.keys(e).forEach(t=>{const r=e[t];if(typeof r(void 0,{type:Bg.INIT})>"u")throw new Error(jn(12));if(typeof r(void 0,{type:Bg.PROBE_UNKNOWN_ACTION()})>"u")throw new Error(jn(13))})}function NI(e){const t=Object.keys(e),r={};for(let i=0;i<t.length;i++){const l=t[i];typeof e[l]=="function"&&(r[l]=e[l])}const n=Object.keys(r);let a;try{yte(r)}catch(i){a=i}return function(l={},c){if(a)throw a;let d=!1;const f={};for(let h=0;h<n.length;h++){const p=n[h],g=r[p],y=l[p],b=g(y,c);if(typeof b>"u")throw c&&c.type,new Error(jn(14));f[p]=b,d=d||b!==y}return d=d||n.length!==Object.keys(l).length,d?f:l}}function DO(e,t){return function(...r){return t(e.apply(this,r))}}function PO(e,t){if(typeof e=="function")return DO(e,t);if(typeof e!="object"||e===null)throw new Error(jn(16));const r={};for(const n in e){const a=e[n];typeof a=="function"&&(r[n]=DO(a,t))}return r}function vh(...e){return e.length===0?t=>t:e.length===1?e[0]:e.reduce((t,r)=>(...n)=>t(r(...n)))}function SI(...e){return t=>(r,n)=>{const a=t(r,n);let i=()=>{throw new Error(jn(15))};const l={getState:a.getState,dispatch:(d,...f)=>i(d,...f)},c=e.map(d=>d(l));return i=vh(...c)(a.dispatch),{...a,dispatch:i}}}function kI(e){return LS(e)&&"type"in e&&typeof e.type=="string"}var _I=Symbol.for("immer-nothing"),MO=Symbol.for("immer-draftable"),os=Symbol.for("immer-state");function ai(e,...t){throw new Error(`[Immer] minified error nr: ${e}. Full error at: https://bit.ly/3cXEKWf`)}var Ad=Object.getPrototypeOf;function Jc(e){return!!e&&!!e[os]}function Nl(e){return e?EI(e)||Array.isArray(e)||!!e[MO]||!!e.constructor?.[MO]||ry(e)||ny(e):!1}var vte=Object.prototype.constructor.toString();function EI(e){if(!e||typeof e!="object")return!1;const t=Ad(e);if(t===null)return!0;const r=Object.hasOwnProperty.call(t,"constructor")&&t.constructor;return r===Object?!0:typeof r=="function"&&Function.toString.call(r)===vte}function $g(e,t){ty(e)===0?Reflect.ownKeys(e).forEach(r=>{t(r,e[r],e)}):e.forEach((r,n)=>t(n,r,e))}function ty(e){const t=e[os];return t?t.type_:Array.isArray(e)?1:ry(e)?2:ny(e)?3:0}function jj(e,t){return ty(e)===2?e.has(t):Object.prototype.hasOwnProperty.call(e,t)}function AI(e,t,r){const n=ty(e);n===2?e.set(t,r):n===3?e.add(r):e[t]=r}function bte(e,t){return e===t?e!==0||1/e===1/t:e!==e&&t!==t}function ry(e){return e instanceof Map}function ny(e){return e instanceof Set}function wc(e){return e.copy_||e.base_}function Nj(e,t){if(ry(e))return new Map(e);if(ny(e))return new Set(e);if(Array.isArray(e))return Array.prototype.slice.call(e);const r=EI(e);if(t===!0||t==="class_only"&&!r){const n=Object.getOwnPropertyDescriptors(e);delete n[os];let a=Reflect.ownKeys(n);for(let i=0;i<a.length;i++){const l=a[i],c=n[l];c.writable===!1&&(c.writable=!0,c.configurable=!0),(c.get||c.set)&&(n[l]={configurable:!0,writable:!0,enumerable:c.enumerable,value:e[l]})}return Object.create(Ad(e),n)}else{const n=Ad(e);if(n!==null&&r)return{...e};const a=Object.create(n);return Object.assign(a,e)}}function $S(e,t=!1){return ay(e)||Jc(e)||!Nl(e)||(ty(e)>1&&(e.set=e.add=e.clear=e.delete=wte),Object.freeze(e),t&&Object.entries(e).forEach(([r,n])=>$S(n,!0))),e}function wte(){ai(2)}function ay(e){return Object.isFrozen(e)}var jte={};function eu(e){const t=jte[e];return t||ai(0,e),t}var bh;function TI(){return bh}function Nte(e,t){return{drafts_:[],parent_:e,immer_:t,canAutoFreeze_:!0,unfinalizedDrafts_:0}}function RO(e,t){t&&(eu("Patches"),e.patches_=[],e.inversePatches_=[],e.patchListener_=t)}function Sj(e){kj(e),e.drafts_.forEach(Ste),e.drafts_=null}function kj(e){e===bh&&(bh=e.parent_)}function IO(e){return bh=Nte(bh,e)}function Ste(e){const t=e[os];t.type_===0||t.type_===1?t.revoke_():t.revoked_=!0}function FO(e,t){t.unfinalizedDrafts_=t.drafts_.length;const r=t.drafts_[0];return e!==void 0&&e!==r?(r[os].modified_&&(Sj(t),ai(4)),Nl(e)&&(e=Ug(t,e),t.parent_||zg(t,e)),t.patches_&&eu("Patches").generateReplacementPatches_(r[os].base_,e,t.patches_,t.inversePatches_)):e=Ug(t,r,[]),Sj(t),t.patches_&&t.patchListener_(t.patches_,t.inversePatches_),e!==_I?e:void 0}function Ug(e,t,r){if(ay(t))return t;const n=t[os];if(!n)return $g(t,(a,i)=>LO(e,n,t,a,i,r)),t;if(n.scope_!==e)return t;if(!n.modified_)return zg(e,n.base_,!0),n.base_;if(!n.finalized_){n.finalized_=!0,n.scope_.unfinalizedDrafts_--;const a=n.copy_;let i=a,l=!1;n.type_===3&&(i=new Set(a),a.clear(),l=!0),$g(i,(c,d)=>LO(e,n,a,c,d,r,l)),zg(e,a,!1),r&&e.patches_&&eu("Patches").generatePatches_(n,r,e.patches_,e.inversePatches_)}return n.copy_}function LO(e,t,r,n,a,i,l){if(Jc(a)){const c=i&&t&&t.type_!==3&&!jj(t.assigned_,n)?i.concat(n):void 0,d=Ug(e,a,c);if(AI(r,n,d),Jc(d))e.canAutoFreeze_=!1;else return}else l&&r.add(a);if(Nl(a)&&!ay(a)){if(!e.immer_.autoFreeze_&&e.unfinalizedDrafts_<1)return;Ug(e,a),(!t||!t.scope_.parent_)&&typeof n!="symbol"&&Object.prototype.propertyIsEnumerable.call(r,n)&&zg(e,a)}}function zg(e,t,r=!1){!e.parent_&&e.immer_.autoFreeze_&&e.canAutoFreeze_&&$S(t,r)}function kte(e,t){const r=Array.isArray(e),n={type_:r?1:0,scope_:t?t.scope_:TI(),modified_:!1,finalized_:!1,assigned_:{},parent_:t,base_:e,draft_:null,copy_:null,revoke_:null,isManual_:!1};let a=n,i=US;r&&(a=[n],i=wh);const{revoke:l,proxy:c}=Proxy.revocable(a,i);return n.draft_=c,n.revoke_=l,c}var US={get(e,t){if(t===os)return e;const r=wc(e);if(!jj(r,t))return _te(e,r,t);const n=r[t];return e.finalized_||!Nl(n)?n:n===kw(e.base_,t)?(_w(e),e.copy_[t]=Ej(n,e)):n},has(e,t){return t in wc(e)},ownKeys(e){return Reflect.ownKeys(wc(e))},set(e,t,r){const n=CI(wc(e),t);if(n?.set)return n.set.call(e.draft_,r),!0;if(!e.modified_){const a=kw(wc(e),t),i=a?.[os];if(i&&i.base_===r)return e.copy_[t]=r,e.assigned_[t]=!1,!0;if(bte(r,a)&&(r!==void 0||jj(e.base_,t)))return!0;_w(e),_j(e)}return e.copy_[t]===r&&(r!==void 0||t in e.copy_)||Number.isNaN(r)&&Number.isNaN(e.copy_[t])||(e.copy_[t]=r,e.assigned_[t]=!0),!0},deleteProperty(e,t){return kw(e.base_,t)!==void 0||t in e.base_?(e.assigned_[t]=!1,_w(e),_j(e)):delete e.assigned_[t],e.copy_&&delete e.copy_[t],!0},getOwnPropertyDescriptor(e,t){const r=wc(e),n=Reflect.getOwnPropertyDescriptor(r,t);return n&&{writable:!0,configurable:e.type_!==1||t!=="length",enumerable:n.enumerable,value:r[t]}},defineProperty(){ai(11)},getPrototypeOf(e){return Ad(e.base_)},setPrototypeOf(){ai(12)}},wh={};$g(US,(e,t)=>{wh[e]=function(){return arguments[0]=arguments[0][0],t.apply(this,arguments)}});wh.deleteProperty=function(e,t){return wh.set.call(this,e,t,void 0)};wh.set=function(e,t,r){return US.set.call(this,e[0],t,r,e[0])};function kw(e,t){const r=e[os];return(r?wc(r):e)[t]}function _te(e,t,r){const n=CI(t,r);return n?"value"in n?n.value:n.get?.call(e.draft_):void 0}function CI(e,t){if(!(t in e))return;let r=Ad(e);for(;r;){const n=Object.getOwnPropertyDescriptor(r,t);if(n)return n;r=Ad(r)}}function _j(e){e.modified_||(e.modified_=!0,e.parent_&&_j(e.parent_))}function _w(e){e.copy_||(e.copy_=Nj(e.base_,e.scope_.immer_.useStrictShallowCopy_))}var Ete=class{constructor(e){this.autoFreeze_=!0,this.useStrictShallowCopy_=!1,this.produce=(t,r,n)=>{if(typeof t=="function"&&typeof r!="function"){const i=r;r=t;const l=this;return function(d=i,...f){return l.produce(d,h=>r.call(this,h,...f))}}typeof r!="function"&&ai(6),n!==void 0&&typeof n!="function"&&ai(7);let a;if(Nl(t)){const i=IO(this),l=Ej(t,void 0);let c=!0;try{a=r(l),c=!1}finally{c?Sj(i):kj(i)}return RO(i,n),FO(a,i)}else if(!t||typeof t!="object"){if(a=r(t),a===void 0&&(a=t),a===_I&&(a=void 0),this.autoFreeze_&&$S(a,!0),n){const i=[],l=[];eu("Patches").generateReplacementPatches_(t,a,i,l),n(i,l)}return a}else ai(1,t)},this.produceWithPatches=(t,r)=>{if(typeof t=="function")return(l,...c)=>this.produceWithPatches(l,d=>t(d,...c));let n,a;return[this.produce(t,r,(l,c)=>{n=l,a=c}),n,a]},typeof e?.autoFreeze=="boolean"&&this.setAutoFreeze(e.autoFreeze),typeof e?.useStrictShallowCopy=="boolean"&&this.setUseStrictShallowCopy(e.useStrictShallowCopy)}createDraft(e){Nl(e)||ai(8),Jc(e)&&(e=fl(e));const t=IO(this),r=Ej(e,void 0);return r[os].isManual_=!0,kj(t),r}finishDraft(e,t){const r=e&&e[os];(!r||!r.isManual_)&&ai(9);const{scope_:n}=r;return RO(n,t),FO(void 0,n)}setAutoFreeze(e){this.autoFreeze_=e}setUseStrictShallowCopy(e){this.useStrictShallowCopy_=e}applyPatches(e,t){let r;for(r=t.length-1;r>=0;r--){const a=t[r];if(a.path.length===0&&a.op==="replace"){e=a.value;break}}r>-1&&(t=t.slice(r+1));const n=eu("Patches").applyPatches_;return Jc(e)?n(e,t):this.produce(e,a=>n(a,t))}};function Ej(e,t){const r=ry(e)?eu("MapSet").proxyMap_(e,t):ny(e)?eu("MapSet").proxySet_(e,t):kte(e,t);return(t?t.scope_:TI()).drafts_.push(r),r}function fl(e){return Jc(e)||ai(10,e),OI(e)}function OI(e){if(!Nl(e)||ay(e))return e;const t=e[os];let r;if(t){if(!t.modified_)return t.base_;t.finalized_=!0,r=Nj(e,t.scope_.immer_.useStrictShallowCopy_)}else r=Nj(e,!0);return $g(r,(n,a)=>{AI(r,n,OI(a))}),t&&(t.finalized_=!1),r}var cs=new Ete,DI=cs.produce;cs.produceWithPatches.bind(cs);cs.setAutoFreeze.bind(cs);cs.setUseStrictShallowCopy.bind(cs);cs.applyPatches.bind(cs);cs.createDraft.bind(cs);cs.finishDraft.bind(cs);function PI(e){return({dispatch:r,getState:n})=>a=>i=>typeof i=="function"?i(r,n,e):a(i)}var Ate=PI(),Tte=PI,Cte=typeof window<"u"&&window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__?window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__:function(){if(arguments.length!==0)return typeof arguments[0]=="object"?vh:vh.apply(null,arguments)};function zs(e,t){function r(...n){if(t){let a=t(...n);if(!a)throw new Error(ns(0));return{type:e,payload:a.payload,..."meta"in a&&{meta:a.meta},..."error"in a&&{error:a.error}}}return{type:e,payload:n[0]}}return r.toString=()=>`${e}`,r.type=e,r.match=n=>kI(n)&&n.type===e,r}var MI=class P0 extends Array{constructor(...t){super(...t),Object.setPrototypeOf(this,P0.prototype)}static get[Symbol.species](){return P0}concat(...t){return super.concat.apply(this,t)}prepend(...t){return t.length===1&&Array.isArray(t[0])?new P0(...t[0].concat(this)):new P0(...t.concat(this))}};function BO(e){return Nl(e)?DI(e,()=>{}):e}function zp(e,t,r){return e.has(t)?e.get(t):e.set(t,r(t)).get(t)}function Ote(e){return typeof e=="boolean"}var Dte=()=>function(t){const{thunk:r=!0,immutableCheck:n=!0,serializableCheck:a=!0,actionCreatorCheck:i=!0}=t??{};let l=new MI;return r&&(Ote(r)?l.push(Ate):l.push(Tte(r.extraArgument))),l},Pte="RTK_autoBatch",$O=e=>t=>{setTimeout(t,e)},Mte=(e={type:"raf"})=>t=>(...r)=>{const n=t(...r);let a=!0,i=!1,l=!1;const c=new Set,d=e.type==="tick"?queueMicrotask:e.type==="raf"?typeof window<"u"&&window.requestAnimationFrame?window.requestAnimationFrame:$O(10):e.type==="callback"?e.queueNotification:$O(e.timeout),f=()=>{l=!1,i&&(i=!1,c.forEach(h=>h()))};return Object.assign({},n,{subscribe(h){const p=()=>a&&h(),g=n.subscribe(p);return c.add(h),()=>{g(),c.delete(h)}},dispatch(h){try{return a=!h?.meta?.[Pte],i=!a,i&&(l||(l=!0,d(f))),n.dispatch(h)}finally{a=!0}}})},Rte=e=>function(r){const{autoBatch:n=!0}=r??{};let a=new MI(e);return n&&a.push(Mte(typeof n=="object"?n:void 0)),a};function Ite(e){const t=Dte(),{reducer:r=void 0,middleware:n,devTools:a=!0,preloadedState:i=void 0,enhancers:l=void 0}=e||{};let c;if(typeof r=="function")c=r;else if(LS(r))c=NI(r);else throw new Error(ns(1));let d;typeof n=="function"?d=n(t):d=t();let f=vh;a&&(f=Cte({trace:!1,...typeof a=="object"&&a}));const h=SI(...d),p=Rte(h);let g=typeof l=="function"?l(p):p();const y=f(...g);return BS(c,i,y)}function RI(e){const t={},r=[];let n;const a={addCase(i,l){const c=typeof i=="string"?i:i.type;if(!c)throw new Error(ns(28));if(c in t)throw new Error(ns(29));return t[c]=l,a},addMatcher(i,l){return r.push({matcher:i,reducer:l}),a},addDefaultCase(i){return n=i,a}};return e(a),[t,r,n]}function Fte(e){return typeof e=="function"}function Lte(e,t){let[r,n,a]=RI(t),i;if(Fte(e))i=()=>BO(e());else{const c=BO(e);i=()=>c}function l(c=i(),d){let f=[r[d.type],...n.filter(({matcher:h})=>h(d)).map(({reducer:h})=>h)];return f.filter(h=>!!h).length===0&&(f=[a]),f.reduce((h,p)=>{if(p)if(Jc(h)){const y=p(h,d);return y===void 0?h:y}else{if(Nl(h))return DI(h,g=>p(g,d));{const g=p(h,d);if(g===void 0){if(h===null)return h;throw Error("A case reducer on a non-draftable value must not return undefined")}return g}}return h},c)}return l.getInitialState=i,l}var Bte="ModuleSymbhasOwnPr-0123456789ABCDEFGHNRVfgctiUvz_KqYTJkLxpZXIjQW",$te=(e=21)=>{let t="",r=e;for(;r--;)t+=Bte[Math.random()*64|0];return t},Ute=Symbol.for("rtk-slice-createasyncthunk");function zte(e,t){return`${e}/${t}`}function Hte({creators:e}={}){const t=e?.asyncThunk?.[Ute];return function(n){const{name:a,reducerPath:i=a}=n;if(!a)throw new Error(ns(11));const l=(typeof n.reducers=="function"?n.reducers(qte()):n.reducers)||{},c=Object.keys(l),d={sliceCaseReducersByName:{},sliceCaseReducersByType:{},actionCreators:{},sliceMatchers:[]},f={addCase(E,T){const A=typeof E=="string"?E:E.type;if(!A)throw new Error(ns(12));if(A in d.sliceCaseReducersByType)throw new Error(ns(13));return d.sliceCaseReducersByType[A]=T,f},addMatcher(E,T){return d.sliceMatchers.push({matcher:E,reducer:T}),f},exposeAction(E,T){return d.actionCreators[E]=T,f},exposeCaseReducer(E,T){return d.sliceCaseReducersByName[E]=T,f}};c.forEach(E=>{const T=l[E],A={reducerName:E,type:zte(a,E),createNotation:typeof n.reducers=="function"};Gte(T)?Yte(A,T,f,t):Wte(A,T,f)});function h(){const[E={},T=[],A=void 0]=typeof n.extraReducers=="function"?RI(n.extraReducers):[n.extraReducers],C={...E,...d.sliceCaseReducersByType};return Lte(n.initialState,O=>{for(let P in C)O.addCase(P,C[P]);for(let P of d.sliceMatchers)O.addMatcher(P.matcher,P.reducer);for(let P of T)O.addMatcher(P.matcher,P.reducer);A&&O.addDefaultCase(A)})}const p=E=>E,g=new Map,y=new WeakMap;let b;function w(E,T){return b||(b=h()),b(E,T)}function j(){return b||(b=h()),b.getInitialState()}function S(E,T=!1){function A(O){let P=O[E];return typeof P>"u"&&T&&(P=zp(y,A,j)),P}function C(O=p){const P=zp(g,T,()=>new WeakMap);return zp(P,O,()=>{const F={};for(const[G,W]of Object.entries(n.selectors??{}))F[G]=Vte(W,O,()=>zp(y,O,j),T);return F})}return{reducerPath:E,getSelectors:C,get selectors(){return C(A)},selectSlice:A}}const _={name:a,reducer:w,actions:d.actionCreators,caseReducers:d.sliceCaseReducersByName,getInitialState:j,...S(i),injectInto(E,{reducerPath:T,...A}={}){const C=T??i;return E.inject({reducerPath:C,reducer:w},A),{..._,...S(C,!0)}}};return _}}function Vte(e,t,r,n){function a(i,...l){let c=t(i);return typeof c>"u"&&n&&(c=r()),e(c,...l)}return a.unwrapped=e,a}var Vs=Hte();function qte(){function e(t,r){return{_reducerDefinitionType:"asyncThunk",payloadCreator:t,...r}}return e.withTypes=()=>e,{reducer(t){return Object.assign({[t.name](...r){return t(...r)}}[t.name],{_reducerDefinitionType:"reducer"})},preparedReducer(t,r){return{_reducerDefinitionType:"reducerWithPrepare",prepare:t,reducer:r}},asyncThunk:e}}function Wte({type:e,reducerName:t,createNotation:r},n,a){let i,l;if("reducer"in n){if(r&&!Kte(n))throw new Error(ns(17));i=n.reducer,l=n.prepare}else i=n;a.addCase(e,i).exposeCaseReducer(t,i).exposeAction(t,l?zs(e,l):zs(e))}function Gte(e){return e._reducerDefinitionType==="asyncThunk"}function Kte(e){return e._reducerDefinitionType==="reducerWithPrepare"}function Yte({type:e,reducerName:t},r,n,a){if(!a)throw new Error(ns(18));const{payloadCreator:i,fulfilled:l,pending:c,rejected:d,settled:f,options:h}=r,p=a(e,i,h);n.exposeAction(t,p),l&&n.addCase(p.fulfilled,l),c&&n.addCase(p.pending,c),d&&n.addCase(p.rejected,d),f&&n.addMatcher(p.settled,f),n.exposeCaseReducer(t,{fulfilled:l||Hp,pending:c||Hp,rejected:d||Hp,settled:f||Hp})}function Hp(){}var Xte="task",II="listener",FI="completed",zS="cancelled",Qte=`task-${zS}`,Zte=`task-${FI}`,Aj=`${II}-${zS}`,Jte=`${II}-${FI}`,sy=class{constructor(e){this.code=e,this.message=`${Xte} ${zS} (reason: ${e})`}name="TaskAbortError";message},HS=(e,t)=>{if(typeof e!="function")throw new TypeError(ns(32))},Hg=()=>{},LI=(e,t=Hg)=>(e.catch(t),e),BI=(e,t)=>(e.addEventListener("abort",t,{once:!0}),()=>e.removeEventListener("abort",t)),Uc=(e,t)=>{const r=e.signal;r.aborted||("reason"in r||Object.defineProperty(r,"reason",{enumerable:!0,value:t,configurable:!0,writable:!0}),e.abort(t))},zc=e=>{if(e.aborted){const{reason:t}=e;throw new sy(t)}};function $I(e,t){let r=Hg;return new Promise((n,a)=>{const i=()=>a(new sy(e.reason));if(e.aborted){i();return}r=BI(e,i),t.finally(()=>r()).then(n,a)}).finally(()=>{r=Hg})}var ere=async(e,t)=>{try{return await Promise.resolve(),{status:"ok",value:await e()}}catch(r){return{status:r instanceof sy?"cancelled":"rejected",error:r}}finally{t?.()}},Vg=e=>t=>LI($I(e,t).then(r=>(zc(e),r))),UI=e=>{const t=Vg(e);return r=>t(new Promise(n=>setTimeout(n,r)))},{assign:gd}=Object,UO={},iy="listenerMiddleware",tre=(e,t)=>{const r=n=>BI(e,()=>Uc(n,e.reason));return(n,a)=>{HS(n);const i=new AbortController;r(i);const l=ere(async()=>{zc(e),zc(i.signal);const c=await n({pause:Vg(i.signal),delay:UI(i.signal),signal:i.signal});return zc(i.signal),c},()=>Uc(i,Zte));return a?.autoJoin&&t.push(l.catch(Hg)),{result:Vg(e)(l),cancel(){Uc(i,Qte)}}}},rre=(e,t)=>{const r=async(n,a)=>{zc(t);let i=()=>{};const c=[new Promise((d,f)=>{let h=e({predicate:n,effect:(p,g)=>{g.unsubscribe(),d([p,g.getState(),g.getOriginalState()])}});i=()=>{h(),f()}})];a!=null&&c.push(new Promise(d=>setTimeout(d,a,null)));try{const d=await $I(t,Promise.race(c));return zc(t),d}finally{i()}};return(n,a)=>LI(r(n,a))},zI=e=>{let{type:t,actionCreator:r,matcher:n,predicate:a,effect:i}=e;if(t)a=zs(t).match;else if(r)t=r.type,a=r.match;else if(n)a=n;else if(!a)throw new Error(ns(21));return HS(i),{predicate:a,type:t,effect:i}},HI=gd(e=>{const{type:t,predicate:r,effect:n}=zI(e);return{id:$te(),effect:n,type:t,predicate:r,pending:new Set,unsubscribe:()=>{throw new Error(ns(22))}}},{withTypes:()=>HI}),zO=(e,t)=>{const{type:r,effect:n,predicate:a}=zI(t);return Array.from(e.values()).find(i=>(typeof r=="string"?i.type===r:i.predicate===a)&&i.effect===n)},Tj=e=>{e.pending.forEach(t=>{Uc(t,Aj)})},nre=e=>()=>{e.forEach(Tj),e.clear()},HO=(e,t,r)=>{try{e(t,r)}catch(n){setTimeout(()=>{throw n},0)}},VI=gd(zs(`${iy}/add`),{withTypes:()=>VI}),are=zs(`${iy}/removeAll`),qI=gd(zs(`${iy}/remove`),{withTypes:()=>qI}),sre=(...e)=>{console.error(`${iy}/error`,...e)},nm=(e={})=>{const t=new Map,{extra:r,onError:n=sre}=e;HS(n);const a=h=>(h.unsubscribe=()=>t.delete(h.id),t.set(h.id,h),p=>{h.unsubscribe(),p?.cancelActive&&Tj(h)}),i=h=>{const p=zO(t,h)??HI(h);return a(p)};gd(i,{withTypes:()=>i});const l=h=>{const p=zO(t,h);return p&&(p.unsubscribe(),h.cancelActive&&Tj(p)),!!p};gd(l,{withTypes:()=>l});const c=async(h,p,g,y)=>{const b=new AbortController,w=rre(i,b.signal),j=[];try{h.pending.add(b),await Promise.resolve(h.effect(p,gd({},g,{getOriginalState:y,condition:(S,_)=>w(S,_).then(Boolean),take:w,delay:UI(b.signal),pause:Vg(b.signal),extra:r,signal:b.signal,fork:tre(b.signal,j),unsubscribe:h.unsubscribe,subscribe:()=>{t.set(h.id,h)},cancelActiveListeners:()=>{h.pending.forEach((S,_,E)=>{S!==b&&(Uc(S,Aj),E.delete(S))})},cancel:()=>{Uc(b,Aj),h.pending.delete(b)},throwIfCancelled:()=>{zc(b.signal)}})))}catch(S){S instanceof sy||HO(n,S,{raisedBy:"effect"})}finally{await Promise.all(j),Uc(b,Jte),h.pending.delete(b)}},d=nre(t);return{middleware:h=>p=>g=>{if(!kI(g))return p(g);if(VI.match(g))return i(g.payload);if(are.match(g)){d();return}if(qI.match(g))return l(g.payload);let y=h.getState();const b=()=>{if(y===UO)throw new Error(ns(23));return y};let w;try{if(w=p(g),t.size>0){const j=h.getState(),S=Array.from(t.values());for(const _ of S){let E=!1;try{E=_.predicate(g,j,y)}catch(T){E=!1,HO(n,T,{raisedBy:"predicate"})}E&&c(_,g,h,b)}}}finally{y=UO}return w},startListening:i,stopListening:l,clearListeners:d}};function ns(e){return`Minified Redux Toolkit error #${e}; visit https://redux-toolkit.js.org/Errors?code=${e} for the full message or use the non-minified dev environment for full errors. `}var ire={layoutType:"horizontal",width:0,height:0,margin:{top:5,right:5,bottom:5,left:5},scale:1},WI=Vs({name:"chartLayout",initialState:ire,reducers:{setLayout(e,t){e.layoutType=t.payload},setChartSize(e,t){e.width=t.payload.width,e.height=t.payload.height},setMargin(e,t){e.margin.top=t.payload.top,e.margin.right=t.payload.right,e.margin.bottom=t.payload.bottom,e.margin.left=t.payload.left},setScale(e,t){e.scale=t.payload}}}),{setMargin:lre,setLayout:ore,setChartSize:cre,setScale:ure}=WI.actions,dre=WI.reducer;function VO(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function qO(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?VO(Object(r),!0).forEach(function(n){fre(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):VO(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function fre(e,t,r){return(t=hre(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function hre(e){var t=mre(e,"string");return typeof t=="symbol"?t:t+""}function mre(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var qg=Math.PI/180,pre=e=>e*180/Math.PI,ln=(e,t,r,n)=>({x:e+Math.cos(-qg*n)*r,y:t+Math.sin(-qg*n)*r}),GI=function(t,r){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{top:0,right:0,bottom:0,left:0};return Math.min(Math.abs(t-(n.left||0)-(n.right||0)),Math.abs(r-(n.top||0)-(n.bottom||0)))/2},gre=(e,t)=>{var{x:r,y:n}=e,{x:a,y:i}=t;return Math.sqrt((r-a)**2+(n-i)**2)},xre=(e,t)=>{var{x:r,y:n}=e,{cx:a,cy:i}=t,l=gre({x:r,y:n},{x:a,y:i});if(l<=0)return{radius:l,angle:0};var c=(r-a)/l,d=Math.acos(c);return n>i&&(d=2*Math.PI-d),{radius:l,angle:pre(d),angleInRadian:d}},yre=e=>{var{startAngle:t,endAngle:r}=e,n=Math.floor(t/360),a=Math.floor(r/360),i=Math.min(n,a);return{startAngle:t-i*360,endAngle:r-i*360}},vre=(e,t)=>{var{startAngle:r,endAngle:n}=t,a=Math.floor(r/360),i=Math.floor(n/360),l=Math.min(a,i);return e+l*360},bre=(e,t)=>{var{x:r,y:n}=e,{radius:a,angle:i}=xre({x:r,y:n},t),{innerRadius:l,outerRadius:c}=t;if(a<l||a>c||a===0)return null;var{startAngle:d,endAngle:f}=yre(t),h=i,p;if(d<=f){for(;h>f;)h-=360;for(;h<d;)h+=360;p=h>=d&&h<=f}else{for(;h>d;)h-=360;for(;h<f;)h+=360;p=h>=f&&h<=d}return p?qO(qO({},t),{},{radius:a,angle:vre(h,t)}):null};function WO(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function Rs(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?WO(Object(r),!0).forEach(function(n){wre(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):WO(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function wre(e,t,r){return(t=jre(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function jre(e){var t=Nre(e,"string");return typeof t=="symbol"?t:t+""}function Nre(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function kr(e,t,r){return xr(e)||xr(t)?r:Ri(t)?Oo(e,t,r):typeof t=="function"?t(e):r}var Sre=(e,t,r,n,a)=>{var i,l=-1,c=(i=t?.length)!==null&&i!==void 0?i:0;if(c<=1||e==null)return 0;if(n==="angleAxis"&&a!=null&&Math.abs(Math.abs(a[1]-a[0])-360)<=1e-6)for(var d=0;d<c;d++){var f=d>0?r[d-1].coordinate:r[c-1].coordinate,h=r[d].coordinate,p=d>=c-1?r[0].coordinate:r[d+1].coordinate,g=void 0;if(kn(h-f)!==kn(p-h)){var y=[];if(kn(p-h)===kn(a[1]-a[0])){g=p;var b=h+a[1]-a[0];y[0]=Math.min(b,(b+f)/2),y[1]=Math.max(b,(b+f)/2)}else{g=f;var w=p+a[1]-a[0];y[0]=Math.min(h,(w+h)/2),y[1]=Math.max(h,(w+h)/2)}var j=[Math.min(h,(g+h)/2),Math.max(h,(g+h)/2)];if(e>j[0]&&e<=j[1]||e>=y[0]&&e<=y[1]){({index:l}=r[d]);break}}else{var S=Math.min(f,p),_=Math.max(f,p);if(e>(S+h)/2&&e<=(_+h)/2){({index:l}=r[d]);break}}}else if(t){for(var E=0;E<c;E++)if(E===0&&e<=(t[E].coordinate+t[E+1].coordinate)/2||E>0&&E<c-1&&e>(t[E].coordinate+t[E-1].coordinate)/2&&e<=(t[E].coordinate+t[E+1].coordinate)/2||E===c-1&&e>(t[E].coordinate+t[E-1].coordinate)/2){({index:l}=t[E]);break}}return l},kre=(e,t,r)=>{if(t&&r){var{width:n,height:a}=r,{align:i,verticalAlign:l,layout:c}=t;if((c==="vertical"||c==="horizontal"&&l==="middle")&&i!=="center"&&Ze(e[i]))return Rs(Rs({},e),{},{[i]:e[i]+(n||0)});if((c==="horizontal"||c==="vertical"&&i==="center")&&l!=="middle"&&Ze(e[l]))return Rs(Rs({},e),{},{[l]:e[l]+(a||0)})}return e},Vo=(e,t)=>e==="horizontal"&&t==="xAxis"||e==="vertical"&&t==="yAxis"||e==="centric"&&t==="angleAxis"||e==="radial"&&t==="radiusAxis",KI=(e,t,r,n)=>{if(n)return e.map(c=>c.coordinate);var a,i,l=e.map(c=>(c.coordinate===t&&(a=!0),c.coordinate===r&&(i=!0),c.coordinate));return a||l.push(t),i||l.push(r),l},YI=(e,t,r)=>{if(!e)return null;var{duplicateDomain:n,type:a,range:i,scale:l,realScaleType:c,isCategorical:d,categoricalDomain:f,tickCount:h,ticks:p,niceTicks:g,axisType:y}=e;if(!l)return null;var b=c==="scaleBand"&&l.bandwidth?l.bandwidth()/2:2,w=a==="category"&&l.bandwidth?l.bandwidth()/b:0;if(w=y==="angleAxis"&&i&&i.length>=2?kn(i[0]-i[1])*2*w:w,p||g){var j=(p||g||[]).map((S,_)=>{var E=n?n.indexOf(S):S;return{coordinate:l(E)+w,value:S,offset:w,index:_}});return j.filter(S=>!ls(S.coordinate))}return d&&f?f.map((S,_)=>({coordinate:l(S)+w,value:S,index:_,offset:w})):l.ticks&&h!=null?l.ticks(h).map((S,_)=>({coordinate:l(S)+w,value:S,offset:w,index:_})):l.domain().map((S,_)=>({coordinate:l(S)+w,value:n?n[S]:S,index:_,offset:w}))},GO=1e-4,_re=e=>{var t=e.domain();if(!(!t||t.length<=2)){var r=t.length,n=e.range(),a=Math.min(n[0],n[1])-GO,i=Math.max(n[0],n[1])+GO,l=e(t[0]),c=e(t[r-1]);(l<a||l>i||c<a||c>i)&&e.domain([t[0],t[r-1]])}},Ere=(e,t)=>{if(!t||t.length!==2||!Ze(t[0])||!Ze(t[1]))return e;var r=Math.min(t[0],t[1]),n=Math.max(t[0],t[1]),a=[e[0],e[1]];return(!Ze(e[0])||e[0]<r)&&(a[0]=r),(!Ze(e[1])||e[1]>n)&&(a[1]=n),a[0]>n&&(a[0]=n),a[1]<r&&(a[1]=r),a},Are=e=>{var t=e.length;if(!(t<=0))for(var r=0,n=e[0].length;r<n;++r)for(var a=0,i=0,l=0;l<t;++l){var c=ls(e[l][r][1])?e[l][r][0]:e[l][r][1];c>=0?(e[l][r][0]=a,e[l][r][1]=a+c,a=e[l][r][1]):(e[l][r][0]=i,e[l][r][1]=i+c,i=e[l][r][1])}},Tre=e=>{var t=e.length;if(!(t<=0))for(var r=0,n=e[0].length;r<n;++r)for(var a=0,i=0;i<t;++i){var l=ls(e[i][r][1])?e[i][r][0]:e[i][r][1];l>=0?(e[i][r][0]=a,e[i][r][1]=a+l,a=e[i][r][1]):(e[i][r][0]=0,e[i][r][1]=0)}},Cre={sign:Are,expand:lee,none:Ed,silhouette:oee,wiggle:cee,positive:Tre},Ore=(e,t,r)=>{var n=Cre[r],a=iee().keys(t).value((i,l)=>+kr(i,l,0)).order(vj).offset(n);return a(e)};function XI(e){return e==null?void 0:String(e)}function KO(e){var{axis:t,ticks:r,bandSize:n,entry:a,index:i,dataKey:l}=e;if(t.type==="category"){if(!t.allowDuplicatedCategory&&t.dataKey&&!xr(a[t.dataKey])){var c=V8(r,"value",a[t.dataKey]);if(c)return c.coordinate+n/2}return r[i]?r[i].coordinate+n/2:null}var d=kr(a,xr(l)?t.dataKey:l);return xr(d)?null:t.scale(d)}var YO=e=>{var{axis:t,ticks:r,offset:n,bandSize:a,entry:i,index:l}=e;if(t.type==="category")return r[l]?r[l].coordinate+n:null;var c=kr(i,t.dataKey,t.scale.domain()[l]);return xr(c)?null:t.scale(c)-a/2+n},Dre=e=>{var{numericAxis:t}=e,r=t.scale.domain();if(t.type==="number"){var n=Math.min(r[0],r[1]),a=Math.max(r[0],r[1]);return n<=0&&a>=0?0:a<0?a:n}return r[0]},Pre=e=>{var t=e.flat(2).filter(Ze);return[Math.min(...t),Math.max(...t)]},Mre=e=>[e[0]===1/0?0:e[0],e[1]===-1/0?0:e[1]],Rre=(e,t,r)=>{if(e!=null)return Mre(Object.keys(e).reduce((n,a)=>{var i=e[a],{stackedData:l}=i,c=l.reduce((d,f)=>{var h=Pre(f.slice(t,r+1));return[Math.min(d[0],h[0]),Math.max(d[1],h[1])]},[1/0,-1/0]);return[Math.min(c[0],n[0]),Math.max(c[1],n[1])]},[1/0,-1/0]))},XO=/^dataMin[\s]*-[\s]*([0-9]+([.]{1}[0-9]+){0,1})$/,QO=/^dataMax[\s]*\+[\s]*([0-9]+([.]{1}[0-9]+){0,1})$/,jh=(e,t,r)=>{if(e&&e.scale&&e.scale.bandwidth){var n=e.scale.bandwidth();if(!r||n>0)return n}if(e&&t&&t.length>=2){for(var a=ey(t,h=>h.coordinate),i=1/0,l=1,c=a.length;l<c;l++){var d=a[l],f=a[l-1];i=Math.min((d.coordinate||0)-(f.coordinate||0),i)}return i===1/0?0:i}return r?void 0:0};function ZO(e){var{tooltipEntrySettings:t,dataKey:r,payload:n,value:a,name:i}=e;return Rs(Rs({},t),{},{dataKey:r,payload:n,value:a,name:i})}function Qd(e,t){if(e)return String(e);if(typeof t=="string")return t}function Ire(e,t,r,n,a){if(r==="horizontal"||r==="vertical"){var i=e>=a.left&&e<=a.left+a.width&&t>=a.top&&t<=a.top+a.height;return i?{x:e,y:t}:null}return n?bre({x:e,y:t},n):null}var Fre=(e,t,r,n)=>{var a=t.find(f=>f&&f.index===r);if(a){if(e==="horizontal")return{x:a.coordinate,y:n.y};if(e==="vertical")return{x:n.x,y:a.coordinate};if(e==="centric"){var i=a.coordinate,{radius:l}=n;return Rs(Rs(Rs({},n),ln(n.cx,n.cy,l,i)),{},{angle:i,radius:l})}var c=a.coordinate,{angle:d}=n;return Rs(Rs(Rs({},n),ln(n.cx,n.cy,c,d)),{},{angle:d,radius:c})}return{x:0,y:0}},Lre=(e,t)=>t==="horizontal"?e.x:t==="vertical"?e.y:t==="centric"?e.angle:e.radius,Cl=e=>e.layout.width,Ol=e=>e.layout.height,Bre=e=>e.layout.scale,QI=e=>e.layout.margin,VS=ke(e=>e.cartesianAxis.xAxis,e=>Object.values(e)),qS=ke(e=>e.cartesianAxis.yAxis,e=>Object.values(e)),ZI="data-recharts-item-index",JI="data-recharts-item-data-key",ly=60;function JO(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function lo(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?JO(Object(r),!0).forEach(function(n){$re(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):JO(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function $re(e,t,r){return(t=Ure(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Ure(e){var t=zre(e,"string");return typeof t=="symbol"?t:t+""}function zre(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var Hre=e=>e.brush.height,xn=ke([Cl,Ol,QI,Hre,VS,qS,wI,fte],(e,t,r,n,a,i,l,c)=>{var d=i.reduce((b,w)=>{var{orientation:j}=w;if(!w.mirror&&!w.hide){var S=typeof w.width=="number"?w.width:ly;return lo(lo({},b),{},{[j]:b[j]+S})}return b},{left:r.left||0,right:r.right||0}),f=a.reduce((b,w)=>{var{orientation:j}=w;return!w.mirror&&!w.hide?lo(lo({},b),{},{[j]:Oo(b,"".concat(j))+w.height}):b},{top:r.top||0,bottom:r.bottom||0}),h=lo(lo({},f),d),p=h.bottom;h.bottom+=n,h=kre(h,l,c);var g=e-h.left-h.right,y=t-h.top-h.bottom;return lo(lo({brushBottom:p},h),{},{width:Math.max(g,0),height:Math.max(y,0)})}),Vre=ke(xn,e=>({x:e.left,y:e.top,width:e.width,height:e.height})),eF=ke(Cl,Ol,(e,t)=>({x:0,y:0,width:e,height:t})),qre=v.createContext(null),pa=()=>v.useContext(qre)!=null,oy=e=>e.brush,cy=ke([oy,xn,QI],(e,t,r)=>({height:e.height,x:Ze(e.x)?e.x:t.left,y:Ze(e.y)?e.y:t.top+t.height+t.brushBottom-(r?.bottom||0),width:Ze(e.width)?e.width:t.width})),WS=()=>{var e,t=pa(),r=nt(Vre),n=nt(cy),a=(e=nt(oy))===null||e===void 0?void 0:e.padding;return!t||!n||!a?r:{width:n.width-a.left-a.right,height:n.height-a.top-a.bottom,x:a.left,y:a.top}},Wre={top:0,bottom:0,left:0,right:0,width:0,height:0,brushBottom:0},tF=()=>{var e;return(e=nt(xn))!==null&&e!==void 0?e:Wre},GS=()=>nt(Cl),KS=()=>nt(Ol),Gre={top:0,right:0,bottom:0,left:0},Kre=()=>{var e;return(e=nt(t=>t.layout.margin))!==null&&e!==void 0?e:Gre},Ht=e=>e.layout.layoutType,uy=()=>nt(Ht),Yre={settings:{layout:"horizontal",align:"center",verticalAlign:"middle",itemSorter:"value"},size:{width:0,height:0},payload:[]},rF=Vs({name:"legend",initialState:Yre,reducers:{setLegendSize(e,t){e.size.width=t.payload.width,e.size.height=t.payload.height},setLegendSettings(e,t){e.settings.align=t.payload.align,e.settings.layout=t.payload.layout,e.settings.verticalAlign=t.payload.verticalAlign,e.settings.itemSorter=t.payload.itemSorter},addLegendPayload(e,t){e.payload.push(t.payload)},removeLegendPayload(e,t){var r=fl(e).payload.indexOf(t.payload);r>-1&&e.payload.splice(r,1)}}}),{setLegendSize:e6,setLegendSettings:Xre,addLegendPayload:nF,removeLegendPayload:aF}=rF.actions,Qre=rF.reducer,Zre=["contextPayload"];function Cj(){return Cj=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Cj.apply(null,arguments)}function t6(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function Td(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?t6(Object(r),!0).forEach(function(n){YS(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):t6(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function YS(e,t,r){return(t=Jre(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Jre(e){var t=ene(e,"string");return typeof t=="symbol"?t:t+""}function ene(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function tne(e,t){if(e==null)return{};var r,n,a=rne(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(n=0;n<i.length;n++)r=i[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(a[r]=e[r])}return a}function rne(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}function nne(e){return e.value}function ane(e){var{contextPayload:t}=e,r=tne(e,Zre),n=xI(t,e.payloadUniqBy,nne),a=Td(Td({},r),{},{payload:n});return v.isValidElement(e.content)?v.cloneElement(e.content,a):typeof e.content=="function"?v.createElement(e.content,a):v.createElement(OS,a)}function sne(e,t,r,n,a,i){var{layout:l,align:c,verticalAlign:d}=t,f,h;return(!e||(e.left===void 0||e.left===null)&&(e.right===void 0||e.right===null))&&(c==="center"&&l==="vertical"?f={left:((n||0)-i.width)/2}:f=c==="right"?{right:r&&r.right||0}:{left:r&&r.left||0}),(!e||(e.top===void 0||e.top===null)&&(e.bottom===void 0||e.bottom===null))&&(d==="middle"?h={top:((a||0)-i.height)/2}:h=d==="bottom"?{bottom:r&&r.bottom||0}:{top:r&&r.top||0}),Td(Td({},f),h)}function ine(e){var t=Mr();return v.useEffect(()=>{t(Xre(e))},[t,e]),null}function lne(e){var t=Mr();return v.useEffect(()=>(t(e6(e)),()=>{t(e6({width:0,height:0}))}),[t,e]),null}function one(e){var t=pte(),r=CJ(),n=Kre(),{width:a,height:i,wrapperStyle:l,portal:c}=e,[d,f]=jI([t]),h=GS(),p=KS(),g=h-(n.left||0)-(n.right||0),y=Do.getWidthOrHeight(e.layout,i,a,g),b=c?l:Td(Td({position:"absolute",width:y?.width||a||"auto",height:y?.height||i||"auto"},sne(l,e,n,h,p,d)),l),w=c??r;if(w==null)return null;var j=v.createElement("div",{className:"recharts-legend-wrapper",style:b,ref:f},v.createElement(ine,{layout:e.layout,align:e.align,verticalAlign:e.verticalAlign,itemSorter:e.itemSorter}),v.createElement(lne,{width:d.width,height:d.height}),v.createElement(ane,Cj({},e,y,{margin:n,chartWidth:h,chartHeight:p,contextPayload:t})));return qd.createPortal(j,w)}class Do extends v.PureComponent{static getWidthOrHeight(t,r,n,a){return t==="vertical"&&Ze(r)?{height:r}:t==="horizontal"?{width:n||a}:null}render(){return v.createElement(one,this.props)}}YS(Do,"displayName","Legend");YS(Do,"defaultProps",{align:"center",iconSize:14,itemSorter:"value",layout:"horizontal",verticalAlign:"bottom"});function Oj(){return Oj=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Oj.apply(null,arguments)}function r6(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function Ew(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?r6(Object(r),!0).forEach(function(n){cne(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):r6(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function cne(e,t,r){return(t=une(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function une(e){var t=dne(e,"string");return typeof t=="symbol"?t:t+""}function dne(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function fne(e){return Array.isArray(e)&&Ri(e[0])&&Ri(e[1])?e.join(" ~ "):e}var hne=e=>{var{separator:t=" : ",contentStyle:r={},itemStyle:n={},labelStyle:a={},payload:i,formatter:l,itemSorter:c,wrapperClassName:d,labelClassName:f,label:h,labelFormatter:p,accessibilityLayer:g=!1}=e,y=()=>{if(i&&i.length){var A={padding:0,margin:0},C=(c?ey(i,c):i).map((O,P)=>{if(O.type==="none")return null;var F=O.formatter||l||fne,{value:G,name:W}=O,ee=G,ue=W;if(F){var fe=F(G,W,O,P,i);if(Array.isArray(fe))[ee,ue]=fe;else if(fe!=null)ee=fe;else return null}var Q=Ew({display:"block",paddingTop:4,paddingBottom:4,color:O.color||"#000"},n);return v.createElement("li",{className:"recharts-tooltip-item",key:"tooltip-item-".concat(P),style:Q},Ri(ue)?v.createElement("span",{className:"recharts-tooltip-item-name"},ue):null,Ri(ue)?v.createElement("span",{className:"recharts-tooltip-item-separator"},t):null,v.createElement("span",{className:"recharts-tooltip-item-value"},ee),v.createElement("span",{className:"recharts-tooltip-item-unit"},O.unit||""))});return v.createElement("ul",{className:"recharts-tooltip-item-list",style:A},C)}return null},b=Ew({margin:0,padding:10,backgroundColor:"#fff",border:"1px solid #ccc",whiteSpace:"nowrap"},r),w=Ew({margin:0},a),j=!xr(h),S=j?h:"",_=Bt("recharts-default-tooltip",d),E=Bt("recharts-tooltip-label",f);j&&p&&i!==void 0&&i!==null&&(S=p(h,i));var T=g?{role:"status","aria-live":"assertive"}:{};return v.createElement("div",Oj({className:_,style:b},T),v.createElement("p",{className:E,style:w},v.isValidElement(S)?S:"".concat(S)),y())},g0="recharts-tooltip-wrapper",mne={visibility:"hidden"};function pne(e){var{coordinate:t,translateX:r,translateY:n}=e;return Bt(g0,{["".concat(g0,"-right")]:Ze(r)&&t&&Ze(t.x)&&r>=t.x,["".concat(g0,"-left")]:Ze(r)&&t&&Ze(t.x)&&r<t.x,["".concat(g0,"-bottom")]:Ze(n)&&t&&Ze(t.y)&&n>=t.y,["".concat(g0,"-top")]:Ze(n)&&t&&Ze(t.y)&&n<t.y})}function n6(e){var{allowEscapeViewBox:t,coordinate:r,key:n,offsetTopLeft:a,position:i,reverseDirection:l,tooltipDimension:c,viewBox:d,viewBoxDimension:f}=e;if(i&&Ze(i[n]))return i[n];var h=r[n]-c-(a>0?a:0),p=r[n]+a;if(t[n])return l[n]?h:p;var g=d[n];if(g==null)return 0;if(l[n]){var y=h,b=g;return y<b?Math.max(p,g):Math.max(h,g)}if(f==null)return 0;var w=p+c,j=g+f;return w>j?Math.max(h,g):Math.max(p,g)}function gne(e){var{translateX:t,translateY:r,useTranslate3d:n}=e;return{transform:n?"translate3d(".concat(t,"px, ").concat(r,"px, 0)"):"translate(".concat(t,"px, ").concat(r,"px)")}}function xne(e){var{allowEscapeViewBox:t,coordinate:r,offsetTopLeft:n,position:a,reverseDirection:i,tooltipBox:l,useTranslate3d:c,viewBox:d}=e,f,h,p;return l.height>0&&l.width>0&&r?(h=n6({allowEscapeViewBox:t,coordinate:r,key:"x",offsetTopLeft:n,position:a,reverseDirection:i,tooltipDimension:l.width,viewBox:d,viewBoxDimension:d.width}),p=n6({allowEscapeViewBox:t,coordinate:r,key:"y",offsetTopLeft:n,position:a,reverseDirection:i,tooltipDimension:l.height,viewBox:d,viewBoxDimension:d.height}),f=gne({translateX:h,translateY:p,useTranslate3d:c})):f=mne,{cssProperties:f,cssClasses:pne({translateX:h,translateY:p,coordinate:r})}}function a6(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function Vp(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?a6(Object(r),!0).forEach(function(n){Dj(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):a6(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Dj(e,t,r){return(t=yne(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function yne(e){var t=vne(e,"string");return typeof t=="symbol"?t:t+""}function vne(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}class bne extends v.PureComponent{constructor(){super(...arguments),Dj(this,"state",{dismissed:!1,dismissedAtCoordinate:{x:0,y:0}}),Dj(this,"handleKeyDown",t=>{if(t.key==="Escape"){var r,n,a,i;this.setState({dismissed:!0,dismissedAtCoordinate:{x:(r=(n=this.props.coordinate)===null||n===void 0?void 0:n.x)!==null&&r!==void 0?r:0,y:(a=(i=this.props.coordinate)===null||i===void 0?void 0:i.y)!==null&&a!==void 0?a:0}})}})}componentDidMount(){document.addEventListener("keydown",this.handleKeyDown)}componentWillUnmount(){document.removeEventListener("keydown",this.handleKeyDown)}componentDidUpdate(){var t,r;this.state.dismissed&&(((t=this.props.coordinate)===null||t===void 0?void 0:t.x)!==this.state.dismissedAtCoordinate.x||((r=this.props.coordinate)===null||r===void 0?void 0:r.y)!==this.state.dismissedAtCoordinate.y)&&(this.state.dismissed=!1)}render(){var{active:t,allowEscapeViewBox:r,animationDuration:n,animationEasing:a,children:i,coordinate:l,hasPayload:c,isAnimationActive:d,offset:f,position:h,reverseDirection:p,useTranslate3d:g,viewBox:y,wrapperStyle:b,lastBoundingBox:w,innerRef:j,hasPortalFromProps:S}=this.props,{cssClasses:_,cssProperties:E}=xne({allowEscapeViewBox:r,coordinate:l,offsetTopLeft:f,position:h,reverseDirection:p,tooltipBox:{height:w.height,width:w.width},useTranslate3d:g,viewBox:y}),T=S?{}:Vp(Vp({transition:d&&t?"transform ".concat(n,"ms ").concat(a):void 0},E),{},{pointerEvents:"none",visibility:!this.state.dismissed&&t&&c?"visible":"hidden",position:"absolute",top:0,left:0}),A=Vp(Vp({},T),{},{visibility:!this.state.dismissed&&t&&c?"visible":"hidden"},b);return v.createElement("div",{xmlns:"http://www.w3.org/1999/xhtml",tabIndex:-1,className:_,style:A,ref:j},i)}}var wne=()=>!(typeof window<"u"&&window.document&&window.document.createElement&&window.setTimeout),ou={isSsr:wne()},sF=()=>nt(e=>e.rootProps.accessibilityLayer);function us(e){return Number.isFinite(e)}function Cd(e){return typeof e=="number"&&e>0&&Number.isFinite(e)}function Pj(){return Pj=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Pj.apply(null,arguments)}function s6(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function i6(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?s6(Object(r),!0).forEach(function(n){jne(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):s6(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function jne(e,t,r){return(t=Nne(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Nne(e){var t=Sne(e,"string");return typeof t=="symbol"?t:t+""}function Sne(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var l6={curveBasisClosed:YJ,curveBasisOpen:XJ,curveBasis:KJ,curveBumpX:MJ,curveBumpY:RJ,curveLinearClosed:QJ,curveLinear:Zx,curveMonotoneX:ZJ,curveMonotoneY:JJ,curveNatural:eee,curveStep:tee,curveStepAfter:nee,curveStepBefore:ree},qp=e=>us(e.x)&&us(e.y),x0=e=>e.x,y0=e=>e.y,kne=(e,t)=>{if(typeof e=="function")return e;var r="curve".concat(em(e));return(r==="curveMonotone"||r==="curveBump")&&t?l6["".concat(r).concat(t==="vertical"?"Y":"X")]:l6[r]||Zx},_ne=e=>{var{type:t="linear",points:r=[],baseLine:n,layout:a,connectNulls:i=!1}=e,l=kne(t,a),c=i?r.filter(qp):r,d;if(Array.isArray(n)){var f=i?n.filter(p=>qp(p)):n,h=c.map((p,g)=>i6(i6({},p),{},{base:f[g]}));return a==="vertical"?d=Bp().y(y0).x1(x0).x0(p=>p.base.x):d=Bp().x(x0).y1(y0).y0(p=>p.base.y),d.defined(qp).curve(l),d(h)}return a==="vertical"&&Ze(n)?d=Bp().y(y0).x1(x0).x0(n):Ze(n)?d=Bp().x(x0).y1(y0).y0(n):d=J8().x(x0).y(y0),d.defined(qp).curve(l),d(c)},XS=e=>{var{className:t,points:r,path:n,pathRef:a}=e;if((!r||!r.length)&&!n)return null;var i=r&&r.length?_ne(e):n;return v.createElement("path",Pj({},Et(e,!1),SS(e),{className:Bt("recharts-curve",t),d:i===null?void 0:i,ref:a}))},Ene=["x","y","top","left","width","height","className"];function Mj(){return Mj=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Mj.apply(null,arguments)}function o6(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function Ane(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?o6(Object(r),!0).forEach(function(n){Tne(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):o6(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Tne(e,t,r){return(t=Cne(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Cne(e){var t=One(e,"string");return typeof t=="symbol"?t:t+""}function One(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Dne(e,t){if(e==null)return{};var r,n,a=Pne(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(n=0;n<i.length;n++)r=i[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(a[r]=e[r])}return a}function Pne(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}var Mne=(e,t,r,n,a,i)=>"M".concat(e,",").concat(a,"v").concat(n,"M").concat(i,",").concat(t,"h").concat(r),Rne=e=>{var{x:t=0,y:r=0,top:n=0,left:a=0,width:i=0,height:l=0,className:c}=e,d=Dne(e,Ene),f=Ane({x:t,y:r,top:n,left:a,width:i,height:l},d);return!Ze(t)||!Ze(r)||!Ze(i)||!Ze(l)||!Ze(n)||!Ze(a)?null:v.createElement("path",Mj({},Et(f,!0),{className:Bt("recharts-cross",c),d:Mne(t,r,i,l,n,a)}))};function Ine(e,t,r,n){var a=n/2;return{stroke:"none",fill:"#ccc",x:e==="horizontal"?t.x-a:r.left+.5,y:e==="horizontal"?r.top+.5:t.y-a,width:e==="horizontal"?n:r.width-1,height:e==="horizontal"?r.height-1:n}}function c6(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function Fne(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?c6(Object(r),!0).forEach(function(n){Lne(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):c6(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Lne(e,t,r){return(t=Bne(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Bne(e){var t=$ne(e,"string");return typeof t=="symbol"?t:t+""}function $ne(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function qs(e,t){var r=Fne({},e),n=t,a=Object.keys(t),i=a.reduce((l,c)=>(l[c]===void 0&&n[c]!==void 0&&(l[c]=n[c]),l),r);return i}var Aw={},Tw={},Cw={},u6;function Une(){return u6||(u6=1,function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){if(!r||typeof r!="object")return!1;const n=Object.getPrototypeOf(r);return n===null||n===Object.prototype||Object.getPrototypeOf(n)===null?Object.prototype.toString.call(r)==="[object Object]":!1}e.isPlainObject=t}(Cw)),Cw}var d6;function zne(){return d6||(d6=1,function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=Une(),r=mI(),n=RS(),a=IS(),i=PS();function l(f,h,p){return c(f,h,void 0,void 0,void 0,void 0,p)}function c(f,h,p,g,y,b,w){const j=w(f,h,p,g,y,b);if(j!==void 0)return j;if(typeof f==typeof h)switch(typeof f){case"bigint":case"string":case"boolean":case"symbol":case"undefined":return f===h;case"number":return f===h||Object.is(f,h);case"function":return f===h;case"object":return d(f,h,b,w)}return d(f,h,b,w)}function d(f,h,p,g){if(Object.is(f,h))return!0;let y=n.getTag(f),b=n.getTag(h);if(y===a.argumentsTag&&(y=a.objectTag),b===a.argumentsTag&&(b=a.objectTag),y!==b)return!1;switch(y){case a.stringTag:return f.toString()===h.toString();case a.numberTag:{const S=f.valueOf(),_=h.valueOf();return i.eq(S,_)}case a.booleanTag:case a.dateTag:case a.symbolTag:return Object.is(f.valueOf(),h.valueOf());case a.regexpTag:return f.source===h.source&&f.flags===h.flags;case a.functionTag:return f===h}p=p??new Map;const w=p.get(f),j=p.get(h);if(w!=null&&j!=null)return w===h;p.set(f,h),p.set(h,f);try{switch(y){case a.mapTag:{if(f.size!==h.size)return!1;for(const[S,_]of f.entries())if(!h.has(S)||!c(_,h.get(S),S,f,h,p,g))return!1;return!0}case a.setTag:{if(f.size!==h.size)return!1;const S=Array.from(f.values()),_=Array.from(h.values());for(let E=0;E<S.length;E++){const T=S[E],A=_.findIndex(C=>c(T,C,void 0,f,h,p,g));if(A===-1)return!1;_.splice(A,1)}return!0}case a.arrayTag:case a.uint8ArrayTag:case a.uint8ClampedArrayTag:case a.uint16ArrayTag:case a.uint32ArrayTag:case a.bigUint64ArrayTag:case a.int8ArrayTag:case a.int16ArrayTag:case a.int32ArrayTag:case a.bigInt64ArrayTag:case a.float32ArrayTag:case a.float64ArrayTag:{if(typeof Buffer<"u"&&Buffer.isBuffer(f)!==Buffer.isBuffer(h)||f.length!==h.length)return!1;for(let S=0;S<f.length;S++)if(!c(f[S],h[S],S,f,h,p,g))return!1;return!0}case a.arrayBufferTag:return f.byteLength!==h.byteLength?!1:d(new Uint8Array(f),new Uint8Array(h),p,g);case a.dataViewTag:return f.byteLength!==h.byteLength||f.byteOffset!==h.byteOffset?!1:d(new Uint8Array(f),new Uint8Array(h),p,g);case a.errorTag:return f.name===h.name&&f.message===h.message;case a.objectTag:{if(!(d(f.constructor,h.constructor,p,g)||t.isPlainObject(f)&&t.isPlainObject(h)))return!1;const _=[...Object.keys(f),...r.getSymbols(f)],E=[...Object.keys(h),...r.getSymbols(h)];if(_.length!==E.length)return!1;for(let T=0;T<_.length;T++){const A=_[T],C=f[A];if(!Object.hasOwn(h,A))return!1;const O=h[A];if(!c(C,O,A,f,h,p,g))return!1}return!0}default:return!1}}finally{p.delete(f),p.delete(h)}}e.isEqualWith=l}(Tw)),Tw}var Ow={},f6;function Hne(){return f6||(f6=1,function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(){}e.noop=t}(Ow)),Ow}var h6;function Vne(){return h6||(h6=1,function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=zne(),r=Hne();function n(a,i){return t.isEqualWith(a,i,r.noop)}e.isEqual=n}(Aw)),Aw}var Dw,m6;function qne(){return m6||(m6=1,Dw=Vne().isEqual),Dw}var Wne=qne();const Gne=fs(Wne);function Kne(e){var t={},r=()=>null,n=!1,a=null,i=l=>{if(!n){if(Array.isArray(l)){if(!l.length)return;var c=l,[d,...f]=c;if(typeof d=="number"){a=e.setTimeout(i.bind(null,f),d);return}i(d),a=e.setTimeout(i.bind(null,f));return}typeof l=="object"&&(t=l,r(t)),typeof l=="function"&&l()}};return{stop:()=>{n=!0},start:l=>{n=!1,a&&(a(),a=null),i(l)},subscribe:l=>(r=l,()=>{r=()=>null}),getTimeoutController:()=>e}}var Wg=1e-4,iF=(e,t)=>[0,3*e,3*t-6*e,3*e-3*t+1],lF=(e,t)=>e.map((r,n)=>r*t**n).reduce((r,n)=>r+n),p6=(e,t)=>r=>{var n=iF(e,t);return lF(n,r)},Yne=(e,t)=>r=>{var n=iF(e,t),a=[...n.map((i,l)=>i*l).slice(1),0];return lF(a,r)},g6=function(){for(var t,r,n,a,i=arguments.length,l=new Array(i),c=0;c<i;c++)l[c]=arguments[c];if(l.length===1)switch(l[0]){case"linear":[t,n,r,a]=[0,0,1,1];break;case"ease":[t,n,r,a]=[.25,.1,.25,1];break;case"ease-in":[t,n,r,a]=[.42,0,1,1];break;case"ease-out":[t,n,r,a]=[.42,0,.58,1];break;case"ease-in-out":[t,n,r,a]=[0,0,.58,1];break;default:{var d=l[0].split("(");d[0]==="cubic-bezier"&&d[1].split(")")[0].split(",").length===4&&([t,n,r,a]=d[1].split(")")[0].split(",").map(b=>parseFloat(b)))}}else l.length===4&&([t,n,r,a]=l);var f=p6(t,r),h=p6(n,a),p=Yne(t,r),g=b=>b>1?1:b<0?0:b,y=b=>{for(var w=b>1?1:b,j=w,S=0;S<8;++S){var _=f(j)-w,E=p(j);if(Math.abs(_-w)<Wg||E<Wg)return h(j);j=g(j-_/E)}return h(j)};return y.isStepper=!1,y},Xne=function(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},{stiff:r=100,damping:n=8,dt:a=17}=t,i=(l,c,d)=>{var f=-(l-c)*r,h=d*n,p=d+(f-h)*a/1e3,g=d*a/1e3+l;return Math.abs(g-c)<Wg&&Math.abs(p)<Wg?[c,0]:[g,p]};return i.isStepper=!0,i.dt=a,i},Qne=e=>{if(typeof e=="string")switch(e){case"ease":case"ease-in-out":case"ease-out":case"ease-in":case"linear":return g6(e);case"spring":return Xne();default:if(e.split("(")[0]==="cubic-bezier")return g6(e)}return typeof e=="function"?e:null};function x6(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function y6(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?x6(Object(r),!0).forEach(function(n){Zne(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):x6(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Zne(e,t,r){return(t=Jne(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Jne(e){var t=eae(e,"string");return typeof t=="symbol"?t:t+""}function eae(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var tae=e=>e.replace(/([A-Z])/g,t=>"-".concat(t.toLowerCase())),rae=(e,t,r)=>e.map(n=>"".concat(tae(n)," ").concat(t,"ms ").concat(r)).join(","),nae=(e,t)=>[Object.keys(e),Object.keys(t)].reduce((r,n)=>r.filter(a=>n.includes(a))),Nh=(e,t)=>Object.keys(t).reduce((r,n)=>y6(y6({},r),{},{[n]:e(n,t[n])}),{});function v6(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function zn(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?v6(Object(r),!0).forEach(function(n){aae(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):v6(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function aae(e,t,r){return(t=sae(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function sae(e){var t=iae(e,"string");return typeof t=="symbol"?t:t+""}function iae(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var Gg=(e,t,r)=>e+(t-e)*r,Rj=e=>{var{from:t,to:r}=e;return t!==r},oF=(e,t,r)=>{var n=Nh((a,i)=>{if(Rj(i)){var[l,c]=e(i.from,i.to,i.velocity);return zn(zn({},i),{},{from:l,velocity:c})}return i},t);return r<1?Nh((a,i)=>Rj(i)?zn(zn({},i),{},{velocity:Gg(i.velocity,n[a].velocity,r),from:Gg(i.from,n[a].from,r)}):i,t):oF(e,n,r-1)};function lae(e,t,r,n,a,i){var l,c=n.reduce((g,y)=>zn(zn({},g),{},{[y]:{from:e[y],velocity:0,to:t[y]}}),{}),d=()=>Nh((g,y)=>y.from,c),f=()=>!Object.values(c).filter(Rj).length,h=null,p=g=>{l||(l=g);var y=g-l,b=y/r.dt;c=oF(r,c,b),a(zn(zn(zn({},e),t),d())),l=g,f()||(h=i.setTimeout(p))};return()=>(h=i.setTimeout(p),()=>{h()})}function oae(e,t,r,n,a,i,l){var c=null,d=a.reduce((p,g)=>zn(zn({},p),{},{[g]:[e[g],t[g]]}),{}),f,h=p=>{f||(f=p);var g=(p-f)/n,y=Nh((w,j)=>Gg(...j,r(g)),d);if(i(zn(zn(zn({},e),t),y)),g<1)c=l.setTimeout(h);else{var b=Nh((w,j)=>Gg(...j,r(1)),d);i(zn(zn(zn({},e),t),b))}};return()=>(c=l.setTimeout(h),()=>{c()})}const cae=(e,t,r,n,a,i)=>{var l=nae(e,t);return r.isStepper===!0?lae(e,t,r,l,a,i):oae(e,t,r,n,l,a,i)};class uae{setTimeout(t){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,n=performance.now(),a=null,i=l=>{l-n>=r?t(l):typeof requestAnimationFrame=="function"&&(a=requestAnimationFrame(i))};return a=requestAnimationFrame(i),()=>{cancelAnimationFrame(a)}}}var dae=["children","begin","duration","attributeName","easing","isActive","from","to","canBegin","onAnimationEnd","shouldReAnimate","onAnimationReStart","animationManager"];function Ij(){return Ij=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Ij.apply(null,arguments)}function fae(e,t){if(e==null)return{};var r,n,a=hae(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(n=0;n<i.length;n++)r=i[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(a[r]=e[r])}return a}function hae(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}function b6(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function oo(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?b6(Object(r),!0).forEach(function(n){Dc(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):b6(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Dc(e,t,r){return(t=mae(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function mae(e){var t=pae(e,"string");return typeof t=="symbol"?t:t+""}function pae(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function gae(){return Kne(new uae)}class QS extends v.PureComponent{constructor(t,r){super(t,r),Dc(this,"mounted",!1),Dc(this,"manager",null),Dc(this,"stopJSAnimation",null),Dc(this,"unSubscribe",null);var{isActive:n,attributeName:a,from:i,to:l,children:c,duration:d,animationManager:f}=this.props;if(this.manager=f,this.handleStyleChange=this.handleStyleChange.bind(this),this.changeStyle=this.changeStyle.bind(this),!n||d<=0){this.state={style:{}},typeof c=="function"&&(this.state={style:l});return}if(i){if(typeof c=="function"){this.state={style:i};return}this.state={style:a?{[a]:i}:i}}else this.state={style:{}}}componentDidMount(){var{isActive:t,canBegin:r}=this.props;this.mounted=!0,!(!t||!r)&&this.runAnimation(this.props)}componentDidUpdate(t){var{isActive:r,canBegin:n,attributeName:a,shouldReAnimate:i,to:l,from:c}=this.props,{style:d}=this.state;if(n){if(!r){var f={style:a?{[a]:l}:l};this.state&&d&&(a&&d[a]!==l||!a&&d!==l)&&this.setState(f);return}if(!(Gne(t.to,l)&&t.canBegin&&t.isActive)){var h=!t.canBegin||!t.isActive;this.manager.stop(),this.stopJSAnimation&&this.stopJSAnimation();var p=h||i?c:t.to;if(this.state&&d){var g={style:a?{[a]:p}:p};(a&&d[a]!==p||!a&&d!==p)&&this.setState(g)}this.runAnimation(oo(oo({},this.props),{},{from:p,begin:0}))}}}componentWillUnmount(){this.mounted=!1;var{onAnimationEnd:t}=this.props;this.unSubscribe&&this.unSubscribe(),this.manager.stop(),this.stopJSAnimation&&this.stopJSAnimation(),t&&t()}handleStyleChange(t){this.changeStyle(t)}changeStyle(t){this.mounted&&this.setState({style:t})}runJSAnimation(t){var{from:r,to:n,duration:a,easing:i,begin:l,onAnimationEnd:c,onAnimationStart:d}=t,f=cae(r,n,Qne(i),a,this.changeStyle,this.manager.getTimeoutController()),h=()=>{this.stopJSAnimation=f()};this.manager.start([d,l,h,a,c])}runAnimation(t){var{begin:r,duration:n,attributeName:a,to:i,easing:l,onAnimationStart:c,onAnimationEnd:d,children:f}=t;if(this.unSubscribe=this.manager.subscribe(this.handleStyleChange),typeof l=="function"||typeof f=="function"||l==="spring"){this.runJSAnimation(t);return}var h=a?{[a]:i}:i,p=rae(Object.keys(h),n,l);this.manager.start([c,r,oo(oo({},h),{},{transition:p}),n,d])}render(){var t=this.props,{children:r,begin:n,duration:a,attributeName:i,easing:l,isActive:c,from:d,to:f,canBegin:h,onAnimationEnd:p,shouldReAnimate:g,onAnimationReStart:y,animationManager:b}=t,w=fae(t,dae),j=v.Children.count(r),S=this.state.style;if(typeof r=="function")return r(S);if(!c||j===0||a<=0)return r;var _=E=>{var{style:T={},className:A}=E.props,C=v.cloneElement(E,oo(oo({},w),{},{style:oo(oo({},T),S),className:A}));return C};return j===1?_(v.Children.only(r)):v.createElement("div",null,v.Children.map(r,E=>_(E)))}}Dc(QS,"displayName","Animate");Dc(QS,"defaultProps",{begin:0,duration:1e3,attributeName:"",easing:"ease",isActive:!0,canBegin:!0,onAnimationEnd:()=>{},onAnimationStart:()=>{}});var xae=v.createContext(null);function Po(e){var t,r,n=v.useContext(xae);return v.createElement(QS,Ij({},e,{animationManager:(t=(r=e.animationManager)!==null&&r!==void 0?r:n)!==null&&t!==void 0?t:gae()}))}function Kg(){return Kg=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Kg.apply(null,arguments)}var w6=(e,t,r,n,a)=>{var i=Math.min(Math.abs(r)/2,Math.abs(n)/2),l=n>=0?1:-1,c=r>=0?1:-1,d=n>=0&&r>=0||n<0&&r<0?1:0,f;if(i>0&&a instanceof Array){for(var h=[0,0,0,0],p=0,g=4;p<g;p++)h[p]=a[p]>i?i:a[p];f="M".concat(e,",").concat(t+l*h[0]),h[0]>0&&(f+="A ".concat(h[0],",").concat(h[0],",0,0,").concat(d,",").concat(e+c*h[0],",").concat(t)),f+="L ".concat(e+r-c*h[1],",").concat(t),h[1]>0&&(f+="A ".concat(h[1],",").concat(h[1],",0,0,").concat(d,`,
        `).concat(e+r,",").concat(t+l*h[1])),f+="L ".concat(e+r,",").concat(t+n-l*h[2]),h[2]>0&&(f+="A ".concat(h[2],",").concat(h[2],",0,0,").concat(d,`,
        `).concat(e+r-c*h[2],",").concat(t+n)),f+="L ".concat(e+c*h[3],",").concat(t+n),h[3]>0&&(f+="A ".concat(h[3],",").concat(h[3],",0,0,").concat(d,`,
        `).concat(e,",").concat(t+n-l*h[3])),f+="Z"}else if(i>0&&a===+a&&a>0){var y=Math.min(i,a);f="M ".concat(e,",").concat(t+l*y,`
            A `).concat(y,",").concat(y,",0,0,").concat(d,",").concat(e+c*y,",").concat(t,`
            L `).concat(e+r-c*y,",").concat(t,`
            A `).concat(y,",").concat(y,",0,0,").concat(d,",").concat(e+r,",").concat(t+l*y,`
            L `).concat(e+r,",").concat(t+n-l*y,`
            A `).concat(y,",").concat(y,",0,0,").concat(d,",").concat(e+r-c*y,",").concat(t+n,`
            L `).concat(e+c*y,",").concat(t+n,`
            A `).concat(y,",").concat(y,",0,0,").concat(d,",").concat(e,",").concat(t+n-l*y," Z")}else f="M ".concat(e,",").concat(t," h ").concat(r," v ").concat(n," h ").concat(-r," Z");return f},yae={x:0,y:0,width:0,height:0,radius:0,isAnimationActive:!1,isUpdateAnimationActive:!1,animationBegin:0,animationDuration:1500,animationEasing:"ease"},cF=e=>{var t=qs(e,yae),r=v.useRef(null),[n,a]=v.useState(-1);v.useEffect(()=>{if(r.current&&r.current.getTotalLength)try{var S=r.current.getTotalLength();S&&a(S)}catch{}},[]);var{x:i,y:l,width:c,height:d,radius:f,className:h}=t,{animationEasing:p,animationDuration:g,animationBegin:y,isAnimationActive:b,isUpdateAnimationActive:w}=t;if(i!==+i||l!==+l||c!==+c||d!==+d||c===0||d===0)return null;var j=Bt("recharts-rectangle",h);return w?v.createElement(Po,{canBegin:n>0,from:{width:c,height:d,x:i,y:l},to:{width:c,height:d,x:i,y:l},duration:g,animationEasing:p,isActive:w},S=>{var{width:_,height:E,x:T,y:A}=S;return v.createElement(Po,{canBegin:n>0,from:"0px ".concat(n===-1?1:n,"px"),to:"".concat(n,"px 0px"),attributeName:"strokeDasharray",begin:y,duration:g,isActive:b,easing:p},v.createElement("path",Kg({},Et(t,!0),{className:j,d:w6(T,A,_,E,f),ref:r})))}):v.createElement("path",Kg({},Et(t,!0),{className:j,d:w6(i,l,c,d,f)}))};function uF(e){var{cx:t,cy:r,radius:n,startAngle:a,endAngle:i}=e,l=ln(t,r,n,a),c=ln(t,r,n,i);return{points:[l,c],cx:t,cy:r,radius:n,startAngle:a,endAngle:i}}function Fj(){return Fj=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Fj.apply(null,arguments)}var vae=(e,t)=>{var r=kn(t-e),n=Math.min(Math.abs(t-e),359.999);return r*n},Wp=e=>{var{cx:t,cy:r,radius:n,angle:a,sign:i,isExternal:l,cornerRadius:c,cornerIsExternal:d}=e,f=c*(l?1:-1)+n,h=Math.asin(c/f)/qg,p=d?a:a+i*h,g=ln(t,r,f,p),y=ln(t,r,n,p),b=d?a-i*h:a,w=ln(t,r,f*Math.cos(h*qg),b);return{center:g,circleTangency:y,lineTangency:w,theta:h}},dF=e=>{var{cx:t,cy:r,innerRadius:n,outerRadius:a,startAngle:i,endAngle:l}=e,c=vae(i,l),d=i+c,f=ln(t,r,a,i),h=ln(t,r,a,d),p="M ".concat(f.x,",").concat(f.y,`
    A `).concat(a,",").concat(a,`,0,
    `).concat(+(Math.abs(c)>180),",").concat(+(i>d),`,
    `).concat(h.x,",").concat(h.y,`
  `);if(n>0){var g=ln(t,r,n,i),y=ln(t,r,n,d);p+="L ".concat(y.x,",").concat(y.y,`
            A `).concat(n,",").concat(n,`,0,
            `).concat(+(Math.abs(c)>180),",").concat(+(i<=d),`,
            `).concat(g.x,",").concat(g.y," Z")}else p+="L ".concat(t,",").concat(r," Z");return p},bae=e=>{var{cx:t,cy:r,innerRadius:n,outerRadius:a,cornerRadius:i,forceCornerRadius:l,cornerIsExternal:c,startAngle:d,endAngle:f}=e,h=kn(f-d),{circleTangency:p,lineTangency:g,theta:y}=Wp({cx:t,cy:r,radius:a,angle:d,sign:h,cornerRadius:i,cornerIsExternal:c}),{circleTangency:b,lineTangency:w,theta:j}=Wp({cx:t,cy:r,radius:a,angle:f,sign:-h,cornerRadius:i,cornerIsExternal:c}),S=c?Math.abs(d-f):Math.abs(d-f)-y-j;if(S<0)return l?"M ".concat(g.x,",").concat(g.y,`
        a`).concat(i,",").concat(i,",0,0,1,").concat(i*2,`,0
        a`).concat(i,",").concat(i,",0,0,1,").concat(-i*2,`,0
      `):dF({cx:t,cy:r,innerRadius:n,outerRadius:a,startAngle:d,endAngle:f});var _="M ".concat(g.x,",").concat(g.y,`
    A`).concat(i,",").concat(i,",0,0,").concat(+(h<0),",").concat(p.x,",").concat(p.y,`
    A`).concat(a,",").concat(a,",0,").concat(+(S>180),",").concat(+(h<0),",").concat(b.x,",").concat(b.y,`
    A`).concat(i,",").concat(i,",0,0,").concat(+(h<0),",").concat(w.x,",").concat(w.y,`
  `);if(n>0){var{circleTangency:E,lineTangency:T,theta:A}=Wp({cx:t,cy:r,radius:n,angle:d,sign:h,isExternal:!0,cornerRadius:i,cornerIsExternal:c}),{circleTangency:C,lineTangency:O,theta:P}=Wp({cx:t,cy:r,radius:n,angle:f,sign:-h,isExternal:!0,cornerRadius:i,cornerIsExternal:c}),F=c?Math.abs(d-f):Math.abs(d-f)-A-P;if(F<0&&i===0)return"".concat(_,"L").concat(t,",").concat(r,"Z");_+="L".concat(O.x,",").concat(O.y,`
      A`).concat(i,",").concat(i,",0,0,").concat(+(h<0),",").concat(C.x,",").concat(C.y,`
      A`).concat(n,",").concat(n,",0,").concat(+(F>180),",").concat(+(h>0),",").concat(E.x,",").concat(E.y,`
      A`).concat(i,",").concat(i,",0,0,").concat(+(h<0),",").concat(T.x,",").concat(T.y,"Z")}else _+="L".concat(t,",").concat(r,"Z");return _},wae={cx:0,cy:0,innerRadius:0,outerRadius:0,startAngle:0,endAngle:0,cornerRadius:0,forceCornerRadius:!1,cornerIsExternal:!1},fF=e=>{var t=qs(e,wae),{cx:r,cy:n,innerRadius:a,outerRadius:i,cornerRadius:l,forceCornerRadius:c,cornerIsExternal:d,startAngle:f,endAngle:h,className:p}=t;if(i<a||f===h)return null;var g=Bt("recharts-sector",p),y=i-a,b=fa(l,y,0,!0),w;return b>0&&Math.abs(f-h)<360?w=bae({cx:r,cy:n,innerRadius:a,outerRadius:i,cornerRadius:Math.min(b,y/2),forceCornerRadius:c,cornerIsExternal:d,startAngle:f,endAngle:h}):w=dF({cx:r,cy:n,innerRadius:a,outerRadius:i,startAngle:f,endAngle:h}),v.createElement("path",Fj({},Et(t,!0),{className:g,d:w}))};function jae(e,t,r){var n,a,i,l;if(e==="horizontal")n=t.x,i=n,a=r.top,l=r.top+r.height;else if(e==="vertical")a=t.y,l=a,n=r.left,i=r.left+r.width;else if(t.cx!=null&&t.cy!=null)if(e==="centric"){var{cx:c,cy:d,innerRadius:f,outerRadius:h,angle:p}=t,g=ln(c,d,f,p),y=ln(c,d,h,p);n=g.x,a=g.y,i=y.x,l=y.y}else return uF(t);return[{x:n,y:a},{x:i,y:l}]}var Pw={},Mw={},Rw={},j6;function Nae(){return j6||(j6=1,function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=vI();function r(n){return t.isSymbol(n)?NaN:Number(n)}e.toNumber=r}(Rw)),Rw}var N6;function Sae(){return N6||(N6=1,function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=Nae();function r(n){return n?(n=t.toNumber(n),n===1/0||n===-1/0?(n<0?-1:1)*Number.MAX_VALUE:n===n?n:0):n===0?n:0}e.toFinite=r}(Mw)),Mw}var S6;function kae(){return S6||(S6=1,function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=bI(),r=Sae();function n(a,i,l){l&&typeof l!="number"&&t.isIterateeCall(a,i,l)&&(i=l=void 0),a=r.toFinite(a),i===void 0?(i=a,a=0):i=r.toFinite(i),l=l===void 0?a<i?1:-1:r.toFinite(l);const c=Math.max(Math.ceil((i-a)/(l||1)),0),d=new Array(c);for(let f=0;f<c;f++)d[f]=a,a+=l;return d}e.range=n}(Pw)),Pw}var Iw,k6;function _ae(){return k6||(k6=1,Iw=kae().range),Iw}var Eae=_ae();const hF=fs(Eae);function No(e,t){return e==null||t==null?NaN:e<t?-1:e>t?1:e>=t?0:NaN}function Aae(e,t){return e==null||t==null?NaN:t<e?-1:t>e?1:t>=e?0:NaN}function ZS(e){let t,r,n;e.length!==2?(t=No,r=(c,d)=>No(e(c),d),n=(c,d)=>e(c)-d):(t=e===No||e===Aae?e:Tae,r=e,n=e);function a(c,d,f=0,h=c.length){if(f<h){if(t(d,d)!==0)return h;do{const p=f+h>>>1;r(c[p],d)<0?f=p+1:h=p}while(f<h)}return f}function i(c,d,f=0,h=c.length){if(f<h){if(t(d,d)!==0)return h;do{const p=f+h>>>1;r(c[p],d)<=0?f=p+1:h=p}while(f<h)}return f}function l(c,d,f=0,h=c.length){const p=a(c,d,f,h-1);return p>f&&n(c[p-1],d)>-n(c[p],d)?p-1:p}return{left:a,center:l,right:i}}function Tae(){return 0}function mF(e){return e===null?NaN:+e}function*Cae(e,t){for(let r of e)r!=null&&(r=+r)>=r&&(yield r)}const Oae=ZS(No),am=Oae.right;ZS(mF).center;class _6 extends Map{constructor(t,r=Mae){if(super(),Object.defineProperties(this,{_intern:{value:new Map},_key:{value:r}}),t!=null)for(const[n,a]of t)this.set(n,a)}get(t){return super.get(E6(this,t))}has(t){return super.has(E6(this,t))}set(t,r){return super.set(Dae(this,t),r)}delete(t){return super.delete(Pae(this,t))}}function E6({_intern:e,_key:t},r){const n=t(r);return e.has(n)?e.get(n):r}function Dae({_intern:e,_key:t},r){const n=t(r);return e.has(n)?e.get(n):(e.set(n,r),r)}function Pae({_intern:e,_key:t},r){const n=t(r);return e.has(n)&&(r=e.get(n),e.delete(n)),r}function Mae(e){return e!==null&&typeof e=="object"?e.valueOf():e}function Rae(e=No){if(e===No)return pF;if(typeof e!="function")throw new TypeError("compare is not a function");return(t,r)=>{const n=e(t,r);return n||n===0?n:(e(r,r)===0)-(e(t,t)===0)}}function pF(e,t){return(e==null||!(e>=e))-(t==null||!(t>=t))||(e<t?-1:e>t?1:0)}const Iae=Math.sqrt(50),Fae=Math.sqrt(10),Lae=Math.sqrt(2);function Yg(e,t,r){const n=(t-e)/Math.max(0,r),a=Math.floor(Math.log10(n)),i=n/Math.pow(10,a),l=i>=Iae?10:i>=Fae?5:i>=Lae?2:1;let c,d,f;return a<0?(f=Math.pow(10,-a)/l,c=Math.round(e*f),d=Math.round(t*f),c/f<e&&++c,d/f>t&&--d,f=-f):(f=Math.pow(10,a)*l,c=Math.round(e/f),d=Math.round(t/f),c*f<e&&++c,d*f>t&&--d),d<c&&.5<=r&&r<2?Yg(e,t,r*2):[c,d,f]}function Lj(e,t,r){if(t=+t,e=+e,r=+r,!(r>0))return[];if(e===t)return[e];const n=t<e,[a,i,l]=n?Yg(t,e,r):Yg(e,t,r);if(!(i>=a))return[];const c=i-a+1,d=new Array(c);if(n)if(l<0)for(let f=0;f<c;++f)d[f]=(i-f)/-l;else for(let f=0;f<c;++f)d[f]=(i-f)*l;else if(l<0)for(let f=0;f<c;++f)d[f]=(a+f)/-l;else for(let f=0;f<c;++f)d[f]=(a+f)*l;return d}function Bj(e,t,r){return t=+t,e=+e,r=+r,Yg(e,t,r)[2]}function $j(e,t,r){t=+t,e=+e,r=+r;const n=t<e,a=n?Bj(t,e,r):Bj(e,t,r);return(n?-1:1)*(a<0?1/-a:a)}function A6(e,t){let r;for(const n of e)n!=null&&(r<n||r===void 0&&n>=n)&&(r=n);return r}function T6(e,t){let r;for(const n of e)n!=null&&(r>n||r===void 0&&n>=n)&&(r=n);return r}function gF(e,t,r=0,n=1/0,a){if(t=Math.floor(t),r=Math.floor(Math.max(0,r)),n=Math.floor(Math.min(e.length-1,n)),!(r<=t&&t<=n))return e;for(a=a===void 0?pF:Rae(a);n>r;){if(n-r>600){const d=n-r+1,f=t-r+1,h=Math.log(d),p=.5*Math.exp(2*h/3),g=.5*Math.sqrt(h*p*(d-p)/d)*(f-d/2<0?-1:1),y=Math.max(r,Math.floor(t-f*p/d+g)),b=Math.min(n,Math.floor(t+(d-f)*p/d+g));gF(e,t,y,b,a)}const i=e[t];let l=r,c=n;for(v0(e,r,t),a(e[n],i)>0&&v0(e,r,n);l<c;){for(v0(e,l,c),++l,--c;a(e[l],i)<0;)++l;for(;a(e[c],i)>0;)--c}a(e[r],i)===0?v0(e,r,c):(++c,v0(e,c,n)),c<=t&&(r=c+1),t<=c&&(n=c-1)}return e}function v0(e,t,r){const n=e[t];e[t]=e[r],e[r]=n}function Bae(e,t,r){if(e=Float64Array.from(Cae(e)),!(!(n=e.length)||isNaN(t=+t))){if(t<=0||n<2)return T6(e);if(t>=1)return A6(e);var n,a=(n-1)*t,i=Math.floor(a),l=A6(gF(e,i).subarray(0,i+1)),c=T6(e.subarray(i+1));return l+(c-l)*(a-i)}}function $ae(e,t,r=mF){if(!(!(n=e.length)||isNaN(t=+t))){if(t<=0||n<2)return+r(e[0],0,e);if(t>=1)return+r(e[n-1],n-1,e);var n,a=(n-1)*t,i=Math.floor(a),l=+r(e[i],i,e),c=+r(e[i+1],i+1,e);return l+(c-l)*(a-i)}}function Uae(e,t,r){e=+e,t=+t,r=(a=arguments.length)<2?(t=e,e=0,1):a<3?1:+r;for(var n=-1,a=Math.max(0,Math.ceil((t-e)/r))|0,i=new Array(a);++n<a;)i[n]=e+n*r;return i}function Ws(e,t){switch(arguments.length){case 0:break;case 1:this.range(e);break;default:this.range(t).domain(e);break}return this}function Dl(e,t){switch(arguments.length){case 0:break;case 1:{typeof e=="function"?this.interpolator(e):this.range(e);break}default:{this.domain(e),typeof t=="function"?this.interpolator(t):this.range(t);break}}return this}const Uj=Symbol("implicit");function JS(){var e=new _6,t=[],r=[],n=Uj;function a(i){let l=e.get(i);if(l===void 0){if(n!==Uj)return n;e.set(i,l=t.push(i)-1)}return r[l%r.length]}return a.domain=function(i){if(!arguments.length)return t.slice();t=[],e=new _6;for(const l of i)e.has(l)||e.set(l,t.push(l)-1);return a},a.range=function(i){return arguments.length?(r=Array.from(i),a):r.slice()},a.unknown=function(i){return arguments.length?(n=i,a):n},a.copy=function(){return JS(t,r).unknown(n)},Ws.apply(a,arguments),a}function ek(){var e=JS().unknown(void 0),t=e.domain,r=e.range,n=0,a=1,i,l,c=!1,d=0,f=0,h=.5;delete e.unknown;function p(){var g=t().length,y=a<n,b=y?a:n,w=y?n:a;i=(w-b)/Math.max(1,g-d+f*2),c&&(i=Math.floor(i)),b+=(w-b-i*(g-d))*h,l=i*(1-d),c&&(b=Math.round(b),l=Math.round(l));var j=Uae(g).map(function(S){return b+i*S});return r(y?j.reverse():j)}return e.domain=function(g){return arguments.length?(t(g),p()):t()},e.range=function(g){return arguments.length?([n,a]=g,n=+n,a=+a,p()):[n,a]},e.rangeRound=function(g){return[n,a]=g,n=+n,a=+a,c=!0,p()},e.bandwidth=function(){return l},e.step=function(){return i},e.round=function(g){return arguments.length?(c=!!g,p()):c},e.padding=function(g){return arguments.length?(d=Math.min(1,f=+g),p()):d},e.paddingInner=function(g){return arguments.length?(d=Math.min(1,g),p()):d},e.paddingOuter=function(g){return arguments.length?(f=+g,p()):f},e.align=function(g){return arguments.length?(h=Math.max(0,Math.min(1,g)),p()):h},e.copy=function(){return ek(t(),[n,a]).round(c).paddingInner(d).paddingOuter(f).align(h)},Ws.apply(p(),arguments)}function xF(e){var t=e.copy;return e.padding=e.paddingOuter,delete e.paddingInner,delete e.paddingOuter,e.copy=function(){return xF(t())},e}function zae(){return xF(ek.apply(null,arguments).paddingInner(1))}function tk(e,t,r){e.prototype=t.prototype=r,r.constructor=e}function yF(e,t){var r=Object.create(e.prototype);for(var n in t)r[n]=t[n];return r}function sm(){}var Sh=.7,Xg=1/Sh,xd="\\s*([+-]?\\d+)\\s*",kh="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)\\s*",Pi="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*",Hae=/^#([0-9a-f]{3,8})$/,Vae=new RegExp(`^rgb\\(${xd},${xd},${xd}\\)$`),qae=new RegExp(`^rgb\\(${Pi},${Pi},${Pi}\\)$`),Wae=new RegExp(`^rgba\\(${xd},${xd},${xd},${kh}\\)$`),Gae=new RegExp(`^rgba\\(${Pi},${Pi},${Pi},${kh}\\)$`),Kae=new RegExp(`^hsl\\(${kh},${Pi},${Pi}\\)$`),Yae=new RegExp(`^hsla\\(${kh},${Pi},${Pi},${kh}\\)$`),C6={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};tk(sm,_h,{copy(e){return Object.assign(new this.constructor,this,e)},displayable(){return this.rgb().displayable()},hex:O6,formatHex:O6,formatHex8:Xae,formatHsl:Qae,formatRgb:D6,toString:D6});function O6(){return this.rgb().formatHex()}function Xae(){return this.rgb().formatHex8()}function Qae(){return vF(this).formatHsl()}function D6(){return this.rgb().formatRgb()}function _h(e){var t,r;return e=(e+"").trim().toLowerCase(),(t=Hae.exec(e))?(r=t[1].length,t=parseInt(t[1],16),r===6?P6(t):r===3?new Ca(t>>8&15|t>>4&240,t>>4&15|t&240,(t&15)<<4|t&15,1):r===8?Gp(t>>24&255,t>>16&255,t>>8&255,(t&255)/255):r===4?Gp(t>>12&15|t>>8&240,t>>8&15|t>>4&240,t>>4&15|t&240,((t&15)<<4|t&15)/255):null):(t=Vae.exec(e))?new Ca(t[1],t[2],t[3],1):(t=qae.exec(e))?new Ca(t[1]*255/100,t[2]*255/100,t[3]*255/100,1):(t=Wae.exec(e))?Gp(t[1],t[2],t[3],t[4]):(t=Gae.exec(e))?Gp(t[1]*255/100,t[2]*255/100,t[3]*255/100,t[4]):(t=Kae.exec(e))?I6(t[1],t[2]/100,t[3]/100,1):(t=Yae.exec(e))?I6(t[1],t[2]/100,t[3]/100,t[4]):C6.hasOwnProperty(e)?P6(C6[e]):e==="transparent"?new Ca(NaN,NaN,NaN,0):null}function P6(e){return new Ca(e>>16&255,e>>8&255,e&255,1)}function Gp(e,t,r,n){return n<=0&&(e=t=r=NaN),new Ca(e,t,r,n)}function Zae(e){return e instanceof sm||(e=_h(e)),e?(e=e.rgb(),new Ca(e.r,e.g,e.b,e.opacity)):new Ca}function zj(e,t,r,n){return arguments.length===1?Zae(e):new Ca(e,t,r,n??1)}function Ca(e,t,r,n){this.r=+e,this.g=+t,this.b=+r,this.opacity=+n}tk(Ca,zj,yF(sm,{brighter(e){return e=e==null?Xg:Math.pow(Xg,e),new Ca(this.r*e,this.g*e,this.b*e,this.opacity)},darker(e){return e=e==null?Sh:Math.pow(Sh,e),new Ca(this.r*e,this.g*e,this.b*e,this.opacity)},rgb(){return this},clamp(){return new Ca(Hc(this.r),Hc(this.g),Hc(this.b),Qg(this.opacity))},displayable(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:M6,formatHex:M6,formatHex8:Jae,formatRgb:R6,toString:R6}));function M6(){return`#${Pc(this.r)}${Pc(this.g)}${Pc(this.b)}`}function Jae(){return`#${Pc(this.r)}${Pc(this.g)}${Pc(this.b)}${Pc((isNaN(this.opacity)?1:this.opacity)*255)}`}function R6(){const e=Qg(this.opacity);return`${e===1?"rgb(":"rgba("}${Hc(this.r)}, ${Hc(this.g)}, ${Hc(this.b)}${e===1?")":`, ${e})`}`}function Qg(e){return isNaN(e)?1:Math.max(0,Math.min(1,e))}function Hc(e){return Math.max(0,Math.min(255,Math.round(e)||0))}function Pc(e){return e=Hc(e),(e<16?"0":"")+e.toString(16)}function I6(e,t,r,n){return n<=0?e=t=r=NaN:r<=0||r>=1?e=t=NaN:t<=0&&(e=NaN),new si(e,t,r,n)}function vF(e){if(e instanceof si)return new si(e.h,e.s,e.l,e.opacity);if(e instanceof sm||(e=_h(e)),!e)return new si;if(e instanceof si)return e;e=e.rgb();var t=e.r/255,r=e.g/255,n=e.b/255,a=Math.min(t,r,n),i=Math.max(t,r,n),l=NaN,c=i-a,d=(i+a)/2;return c?(t===i?l=(r-n)/c+(r<n)*6:r===i?l=(n-t)/c+2:l=(t-r)/c+4,c/=d<.5?i+a:2-i-a,l*=60):c=d>0&&d<1?0:l,new si(l,c,d,e.opacity)}function ese(e,t,r,n){return arguments.length===1?vF(e):new si(e,t,r,n??1)}function si(e,t,r,n){this.h=+e,this.s=+t,this.l=+r,this.opacity=+n}tk(si,ese,yF(sm,{brighter(e){return e=e==null?Xg:Math.pow(Xg,e),new si(this.h,this.s,this.l*e,this.opacity)},darker(e){return e=e==null?Sh:Math.pow(Sh,e),new si(this.h,this.s,this.l*e,this.opacity)},rgb(){var e=this.h%360+(this.h<0)*360,t=isNaN(e)||isNaN(this.s)?0:this.s,r=this.l,n=r+(r<.5?r:1-r)*t,a=2*r-n;return new Ca(Fw(e>=240?e-240:e+120,a,n),Fw(e,a,n),Fw(e<120?e+240:e-120,a,n),this.opacity)},clamp(){return new si(F6(this.h),Kp(this.s),Kp(this.l),Qg(this.opacity))},displayable(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl(){const e=Qg(this.opacity);return`${e===1?"hsl(":"hsla("}${F6(this.h)}, ${Kp(this.s)*100}%, ${Kp(this.l)*100}%${e===1?")":`, ${e})`}`}}));function F6(e){return e=(e||0)%360,e<0?e+360:e}function Kp(e){return Math.max(0,Math.min(1,e||0))}function Fw(e,t,r){return(e<60?t+(r-t)*e/60:e<180?r:e<240?t+(r-t)*(240-e)/60:t)*255}const rk=e=>()=>e;function tse(e,t){return function(r){return e+r*t}}function rse(e,t,r){return e=Math.pow(e,r),t=Math.pow(t,r)-e,r=1/r,function(n){return Math.pow(e+n*t,r)}}function nse(e){return(e=+e)==1?bF:function(t,r){return r-t?rse(t,r,e):rk(isNaN(t)?r:t)}}function bF(e,t){var r=t-e;return r?tse(e,r):rk(isNaN(e)?t:e)}const L6=function e(t){var r=nse(t);function n(a,i){var l=r((a=zj(a)).r,(i=zj(i)).r),c=r(a.g,i.g),d=r(a.b,i.b),f=bF(a.opacity,i.opacity);return function(h){return a.r=l(h),a.g=c(h),a.b=d(h),a.opacity=f(h),a+""}}return n.gamma=e,n}(1);function ase(e,t){t||(t=[]);var r=e?Math.min(t.length,e.length):0,n=t.slice(),a;return function(i){for(a=0;a<r;++a)n[a]=e[a]*(1-i)+t[a]*i;return n}}function sse(e){return ArrayBuffer.isView(e)&&!(e instanceof DataView)}function ise(e,t){var r=t?t.length:0,n=e?Math.min(r,e.length):0,a=new Array(n),i=new Array(r),l;for(l=0;l<n;++l)a[l]=Zd(e[l],t[l]);for(;l<r;++l)i[l]=t[l];return function(c){for(l=0;l<n;++l)i[l]=a[l](c);return i}}function lse(e,t){var r=new Date;return e=+e,t=+t,function(n){return r.setTime(e*(1-n)+t*n),r}}function Zg(e,t){return e=+e,t=+t,function(r){return e*(1-r)+t*r}}function ose(e,t){var r={},n={},a;(e===null||typeof e!="object")&&(e={}),(t===null||typeof t!="object")&&(t={});for(a in t)a in e?r[a]=Zd(e[a],t[a]):n[a]=t[a];return function(i){for(a in r)n[a]=r[a](i);return n}}var Hj=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,Lw=new RegExp(Hj.source,"g");function cse(e){return function(){return e}}function use(e){return function(t){return e(t)+""}}function dse(e,t){var r=Hj.lastIndex=Lw.lastIndex=0,n,a,i,l=-1,c=[],d=[];for(e=e+"",t=t+"";(n=Hj.exec(e))&&(a=Lw.exec(t));)(i=a.index)>r&&(i=t.slice(r,i),c[l]?c[l]+=i:c[++l]=i),(n=n[0])===(a=a[0])?c[l]?c[l]+=a:c[++l]=a:(c[++l]=null,d.push({i:l,x:Zg(n,a)})),r=Lw.lastIndex;return r<t.length&&(i=t.slice(r),c[l]?c[l]+=i:c[++l]=i),c.length<2?d[0]?use(d[0].x):cse(t):(t=d.length,function(f){for(var h=0,p;h<t;++h)c[(p=d[h]).i]=p.x(f);return c.join("")})}function Zd(e,t){var r=typeof t,n;return t==null||r==="boolean"?rk(t):(r==="number"?Zg:r==="string"?(n=_h(t))?(t=n,L6):dse:t instanceof _h?L6:t instanceof Date?lse:sse(t)?ase:Array.isArray(t)?ise:typeof t.valueOf!="function"&&typeof t.toString!="function"||isNaN(t)?ose:Zg)(e,t)}function nk(e,t){return e=+e,t=+t,function(r){return Math.round(e*(1-r)+t*r)}}function fse(e,t){t===void 0&&(t=e,e=Zd);for(var r=0,n=t.length-1,a=t[0],i=new Array(n<0?0:n);r<n;)i[r]=e(a,a=t[++r]);return function(l){var c=Math.max(0,Math.min(n-1,Math.floor(l*=n)));return i[c](l-c)}}function hse(e){return function(){return e}}function Jg(e){return+e}var B6=[0,1];function da(e){return e}function Vj(e,t){return(t-=e=+e)?function(r){return(r-e)/t}:hse(isNaN(t)?NaN:.5)}function mse(e,t){var r;return e>t&&(r=e,e=t,t=r),function(n){return Math.max(e,Math.min(t,n))}}function pse(e,t,r){var n=e[0],a=e[1],i=t[0],l=t[1];return a<n?(n=Vj(a,n),i=r(l,i)):(n=Vj(n,a),i=r(i,l)),function(c){return i(n(c))}}function gse(e,t,r){var n=Math.min(e.length,t.length)-1,a=new Array(n),i=new Array(n),l=-1;for(e[n]<e[0]&&(e=e.slice().reverse(),t=t.slice().reverse());++l<n;)a[l]=Vj(e[l],e[l+1]),i[l]=r(t[l],t[l+1]);return function(c){var d=am(e,c,1,n)-1;return i[d](a[d](c))}}function im(e,t){return t.domain(e.domain()).range(e.range()).interpolate(e.interpolate()).clamp(e.clamp()).unknown(e.unknown())}function dy(){var e=B6,t=B6,r=Zd,n,a,i,l=da,c,d,f;function h(){var g=Math.min(e.length,t.length);return l!==da&&(l=mse(e[0],e[g-1])),c=g>2?gse:pse,d=f=null,p}function p(g){return g==null||isNaN(g=+g)?i:(d||(d=c(e.map(n),t,r)))(n(l(g)))}return p.invert=function(g){return l(a((f||(f=c(t,e.map(n),Zg)))(g)))},p.domain=function(g){return arguments.length?(e=Array.from(g,Jg),h()):e.slice()},p.range=function(g){return arguments.length?(t=Array.from(g),h()):t.slice()},p.rangeRound=function(g){return t=Array.from(g),r=nk,h()},p.clamp=function(g){return arguments.length?(l=g?!0:da,h()):l!==da},p.interpolate=function(g){return arguments.length?(r=g,h()):r},p.unknown=function(g){return arguments.length?(i=g,p):i},function(g,y){return n=g,a=y,h()}}function ak(){return dy()(da,da)}function xse(e){return Math.abs(e=Math.round(e))>=1e21?e.toLocaleString("en").replace(/,/g,""):e.toString(10)}function ex(e,t){if((r=(e=t?e.toExponential(t-1):e.toExponential()).indexOf("e"))<0)return null;var r,n=e.slice(0,r);return[n.length>1?n[0]+n.slice(2):n,+e.slice(r+1)]}function Od(e){return e=ex(Math.abs(e)),e?e[1]:NaN}function yse(e,t){return function(r,n){for(var a=r.length,i=[],l=0,c=e[0],d=0;a>0&&c>0&&(d+c+1>n&&(c=Math.max(1,n-d)),i.push(r.substring(a-=c,a+c)),!((d+=c+1)>n));)c=e[l=(l+1)%e.length];return i.reverse().join(t)}}function vse(e){return function(t){return t.replace(/[0-9]/g,function(r){return e[+r]})}}var bse=/^(?:(.)?([<>=^]))?([+\-( ])?([$#])?(0)?(\d+)?(,)?(\.\d+)?(~)?([a-z%])?$/i;function Eh(e){if(!(t=bse.exec(e)))throw new Error("invalid format: "+e);var t;return new sk({fill:t[1],align:t[2],sign:t[3],symbol:t[4],zero:t[5],width:t[6],comma:t[7],precision:t[8]&&t[8].slice(1),trim:t[9],type:t[10]})}Eh.prototype=sk.prototype;function sk(e){this.fill=e.fill===void 0?" ":e.fill+"",this.align=e.align===void 0?">":e.align+"",this.sign=e.sign===void 0?"-":e.sign+"",this.symbol=e.symbol===void 0?"":e.symbol+"",this.zero=!!e.zero,this.width=e.width===void 0?void 0:+e.width,this.comma=!!e.comma,this.precision=e.precision===void 0?void 0:+e.precision,this.trim=!!e.trim,this.type=e.type===void 0?"":e.type+""}sk.prototype.toString=function(){return this.fill+this.align+this.sign+this.symbol+(this.zero?"0":"")+(this.width===void 0?"":Math.max(1,this.width|0))+(this.comma?",":"")+(this.precision===void 0?"":"."+Math.max(0,this.precision|0))+(this.trim?"~":"")+this.type};function wse(e){e:for(var t=e.length,r=1,n=-1,a;r<t;++r)switch(e[r]){case".":n=a=r;break;case"0":n===0&&(n=r),a=r;break;default:if(!+e[r])break e;n>0&&(n=0);break}return n>0?e.slice(0,n)+e.slice(a+1):e}var wF;function jse(e,t){var r=ex(e,t);if(!r)return e+"";var n=r[0],a=r[1],i=a-(wF=Math.max(-8,Math.min(8,Math.floor(a/3)))*3)+1,l=n.length;return i===l?n:i>l?n+new Array(i-l+1).join("0"):i>0?n.slice(0,i)+"."+n.slice(i):"0."+new Array(1-i).join("0")+ex(e,Math.max(0,t+i-1))[0]}function $6(e,t){var r=ex(e,t);if(!r)return e+"";var n=r[0],a=r[1];return a<0?"0."+new Array(-a).join("0")+n:n.length>a+1?n.slice(0,a+1)+"."+n.slice(a+1):n+new Array(a-n.length+2).join("0")}const U6={"%":(e,t)=>(e*100).toFixed(t),b:e=>Math.round(e).toString(2),c:e=>e+"",d:xse,e:(e,t)=>e.toExponential(t),f:(e,t)=>e.toFixed(t),g:(e,t)=>e.toPrecision(t),o:e=>Math.round(e).toString(8),p:(e,t)=>$6(e*100,t),r:$6,s:jse,X:e=>Math.round(e).toString(16).toUpperCase(),x:e=>Math.round(e).toString(16)};function z6(e){return e}var H6=Array.prototype.map,V6=["y","z","a","f","p","n","","m","","k","M","G","T","P","E","Z","Y"];function Nse(e){var t=e.grouping===void 0||e.thousands===void 0?z6:yse(H6.call(e.grouping,Number),e.thousands+""),r=e.currency===void 0?"":e.currency[0]+"",n=e.currency===void 0?"":e.currency[1]+"",a=e.decimal===void 0?".":e.decimal+"",i=e.numerals===void 0?z6:vse(H6.call(e.numerals,String)),l=e.percent===void 0?"%":e.percent+"",c=e.minus===void 0?"":e.minus+"",d=e.nan===void 0?"NaN":e.nan+"";function f(p){p=Eh(p);var g=p.fill,y=p.align,b=p.sign,w=p.symbol,j=p.zero,S=p.width,_=p.comma,E=p.precision,T=p.trim,A=p.type;A==="n"?(_=!0,A="g"):U6[A]||(E===void 0&&(E=12),T=!0,A="g"),(j||g==="0"&&y==="=")&&(j=!0,g="0",y="=");var C=w==="$"?r:w==="#"&&/[boxX]/.test(A)?"0"+A.toLowerCase():"",O=w==="$"?n:/[%p]/.test(A)?l:"",P=U6[A],F=/[defgprs%]/.test(A);E=E===void 0?6:/[gprs]/.test(A)?Math.max(1,Math.min(21,E)):Math.max(0,Math.min(20,E));function G(W){var ee=C,ue=O,fe,Q,K;if(A==="c")ue=P(W)+ue,W="";else{W=+W;var J=W<0||1/W<0;if(W=isNaN(W)?d:P(Math.abs(W),E),T&&(W=wse(W)),J&&+W==0&&b!=="+"&&(J=!1),ee=(J?b==="("?b:c:b==="-"||b==="("?"":b)+ee,ue=(A==="s"?V6[8+wF/3]:"")+ue+(J&&b==="("?")":""),F){for(fe=-1,Q=W.length;++fe<Q;)if(K=W.charCodeAt(fe),48>K||K>57){ue=(K===46?a+W.slice(fe+1):W.slice(fe))+ue,W=W.slice(0,fe);break}}}_&&!j&&(W=t(W,1/0));var se=ee.length+W.length+ue.length,xe=se<S?new Array(S-se+1).join(g):"";switch(_&&j&&(W=t(xe+W,xe.length?S-ue.length:1/0),xe=""),y){case"<":W=ee+W+ue+xe;break;case"=":W=ee+xe+W+ue;break;case"^":W=xe.slice(0,se=xe.length>>1)+ee+W+ue+xe.slice(se);break;default:W=xe+ee+W+ue;break}return i(W)}return G.toString=function(){return p+""},G}function h(p,g){var y=f((p=Eh(p),p.type="f",p)),b=Math.max(-8,Math.min(8,Math.floor(Od(g)/3)))*3,w=Math.pow(10,-b),j=V6[8+b/3];return function(S){return y(w*S)+j}}return{format:f,formatPrefix:h}}var Yp,ik,jF;Sse({thousands:",",grouping:[3],currency:["$",""]});function Sse(e){return Yp=Nse(e),ik=Yp.format,jF=Yp.formatPrefix,Yp}function kse(e){return Math.max(0,-Od(Math.abs(e)))}function _se(e,t){return Math.max(0,Math.max(-8,Math.min(8,Math.floor(Od(t)/3)))*3-Od(Math.abs(e)))}function Ese(e,t){return e=Math.abs(e),t=Math.abs(t)-e,Math.max(0,Od(t)-Od(e))+1}function NF(e,t,r,n){var a=$j(e,t,r),i;switch(n=Eh(n??",f"),n.type){case"s":{var l=Math.max(Math.abs(e),Math.abs(t));return n.precision==null&&!isNaN(i=_se(a,l))&&(n.precision=i),jF(n,l)}case"":case"e":case"g":case"p":case"r":{n.precision==null&&!isNaN(i=Ese(a,Math.max(Math.abs(e),Math.abs(t))))&&(n.precision=i-(n.type==="e"));break}case"f":case"%":{n.precision==null&&!isNaN(i=kse(a))&&(n.precision=i-(n.type==="%")*2);break}}return ik(n)}function qo(e){var t=e.domain;return e.ticks=function(r){var n=t();return Lj(n[0],n[n.length-1],r??10)},e.tickFormat=function(r,n){var a=t();return NF(a[0],a[a.length-1],r??10,n)},e.nice=function(r){r==null&&(r=10);var n=t(),a=0,i=n.length-1,l=n[a],c=n[i],d,f,h=10;for(c<l&&(f=l,l=c,c=f,f=a,a=i,i=f);h-- >0;){if(f=Bj(l,c,r),f===d)return n[a]=l,n[i]=c,t(n);if(f>0)l=Math.floor(l/f)*f,c=Math.ceil(c/f)*f;else if(f<0)l=Math.ceil(l*f)/f,c=Math.floor(c*f)/f;else break;d=f}return e},e}function SF(){var e=ak();return e.copy=function(){return im(e,SF())},Ws.apply(e,arguments),qo(e)}function kF(e){var t;function r(n){return n==null||isNaN(n=+n)?t:n}return r.invert=r,r.domain=r.range=function(n){return arguments.length?(e=Array.from(n,Jg),r):e.slice()},r.unknown=function(n){return arguments.length?(t=n,r):t},r.copy=function(){return kF(e).unknown(t)},e=arguments.length?Array.from(e,Jg):[0,1],qo(r)}function _F(e,t){e=e.slice();var r=0,n=e.length-1,a=e[r],i=e[n],l;return i<a&&(l=r,r=n,n=l,l=a,a=i,i=l),e[r]=t.floor(a),e[n]=t.ceil(i),e}function q6(e){return Math.log(e)}function W6(e){return Math.exp(e)}function Ase(e){return-Math.log(-e)}function Tse(e){return-Math.exp(-e)}function Cse(e){return isFinite(e)?+("1e"+e):e<0?0:e}function Ose(e){return e===10?Cse:e===Math.E?Math.exp:t=>Math.pow(e,t)}function Dse(e){return e===Math.E?Math.log:e===10&&Math.log10||e===2&&Math.log2||(e=Math.log(e),t=>Math.log(t)/e)}function G6(e){return(t,r)=>-e(-t,r)}function lk(e){const t=e(q6,W6),r=t.domain;let n=10,a,i;function l(){return a=Dse(n),i=Ose(n),r()[0]<0?(a=G6(a),i=G6(i),e(Ase,Tse)):e(q6,W6),t}return t.base=function(c){return arguments.length?(n=+c,l()):n},t.domain=function(c){return arguments.length?(r(c),l()):r()},t.ticks=c=>{const d=r();let f=d[0],h=d[d.length-1];const p=h<f;p&&([f,h]=[h,f]);let g=a(f),y=a(h),b,w;const j=c==null?10:+c;let S=[];if(!(n%1)&&y-g<j){if(g=Math.floor(g),y=Math.ceil(y),f>0){for(;g<=y;++g)for(b=1;b<n;++b)if(w=g<0?b/i(-g):b*i(g),!(w<f)){if(w>h)break;S.push(w)}}else for(;g<=y;++g)for(b=n-1;b>=1;--b)if(w=g>0?b/i(-g):b*i(g),!(w<f)){if(w>h)break;S.push(w)}S.length*2<j&&(S=Lj(f,h,j))}else S=Lj(g,y,Math.min(y-g,j)).map(i);return p?S.reverse():S},t.tickFormat=(c,d)=>{if(c==null&&(c=10),d==null&&(d=n===10?"s":","),typeof d!="function"&&(!(n%1)&&(d=Eh(d)).precision==null&&(d.trim=!0),d=ik(d)),c===1/0)return d;const f=Math.max(1,n*c/t.ticks().length);return h=>{let p=h/i(Math.round(a(h)));return p*n<n-.5&&(p*=n),p<=f?d(h):""}},t.nice=()=>r(_F(r(),{floor:c=>i(Math.floor(a(c))),ceil:c=>i(Math.ceil(a(c)))})),t}function EF(){const e=lk(dy()).domain([1,10]);return e.copy=()=>im(e,EF()).base(e.base()),Ws.apply(e,arguments),e}function K6(e){return function(t){return Math.sign(t)*Math.log1p(Math.abs(t/e))}}function Y6(e){return function(t){return Math.sign(t)*Math.expm1(Math.abs(t))*e}}function ok(e){var t=1,r=e(K6(t),Y6(t));return r.constant=function(n){return arguments.length?e(K6(t=+n),Y6(t)):t},qo(r)}function AF(){var e=ok(dy());return e.copy=function(){return im(e,AF()).constant(e.constant())},Ws.apply(e,arguments)}function X6(e){return function(t){return t<0?-Math.pow(-t,e):Math.pow(t,e)}}function Pse(e){return e<0?-Math.sqrt(-e):Math.sqrt(e)}function Mse(e){return e<0?-e*e:e*e}function ck(e){var t=e(da,da),r=1;function n(){return r===1?e(da,da):r===.5?e(Pse,Mse):e(X6(r),X6(1/r))}return t.exponent=function(a){return arguments.length?(r=+a,n()):r},qo(t)}function uk(){var e=ck(dy());return e.copy=function(){return im(e,uk()).exponent(e.exponent())},Ws.apply(e,arguments),e}function Rse(){return uk.apply(null,arguments).exponent(.5)}function Q6(e){return Math.sign(e)*e*e}function Ise(e){return Math.sign(e)*Math.sqrt(Math.abs(e))}function TF(){var e=ak(),t=[0,1],r=!1,n;function a(i){var l=Ise(e(i));return isNaN(l)?n:r?Math.round(l):l}return a.invert=function(i){return e.invert(Q6(i))},a.domain=function(i){return arguments.length?(e.domain(i),a):e.domain()},a.range=function(i){return arguments.length?(e.range((t=Array.from(i,Jg)).map(Q6)),a):t.slice()},a.rangeRound=function(i){return a.range(i).round(!0)},a.round=function(i){return arguments.length?(r=!!i,a):r},a.clamp=function(i){return arguments.length?(e.clamp(i),a):e.clamp()},a.unknown=function(i){return arguments.length?(n=i,a):n},a.copy=function(){return TF(e.domain(),t).round(r).clamp(e.clamp()).unknown(n)},Ws.apply(a,arguments),qo(a)}function CF(){var e=[],t=[],r=[],n;function a(){var l=0,c=Math.max(1,t.length);for(r=new Array(c-1);++l<c;)r[l-1]=$ae(e,l/c);return i}function i(l){return l==null||isNaN(l=+l)?n:t[am(r,l)]}return i.invertExtent=function(l){var c=t.indexOf(l);return c<0?[NaN,NaN]:[c>0?r[c-1]:e[0],c<r.length?r[c]:e[e.length-1]]},i.domain=function(l){if(!arguments.length)return e.slice();e=[];for(let c of l)c!=null&&!isNaN(c=+c)&&e.push(c);return e.sort(No),a()},i.range=function(l){return arguments.length?(t=Array.from(l),a()):t.slice()},i.unknown=function(l){return arguments.length?(n=l,i):n},i.quantiles=function(){return r.slice()},i.copy=function(){return CF().domain(e).range(t).unknown(n)},Ws.apply(i,arguments)}function OF(){var e=0,t=1,r=1,n=[.5],a=[0,1],i;function l(d){return d!=null&&d<=d?a[am(n,d,0,r)]:i}function c(){var d=-1;for(n=new Array(r);++d<r;)n[d]=((d+1)*t-(d-r)*e)/(r+1);return l}return l.domain=function(d){return arguments.length?([e,t]=d,e=+e,t=+t,c()):[e,t]},l.range=function(d){return arguments.length?(r=(a=Array.from(d)).length-1,c()):a.slice()},l.invertExtent=function(d){var f=a.indexOf(d);return f<0?[NaN,NaN]:f<1?[e,n[0]]:f>=r?[n[r-1],t]:[n[f-1],n[f]]},l.unknown=function(d){return arguments.length&&(i=d),l},l.thresholds=function(){return n.slice()},l.copy=function(){return OF().domain([e,t]).range(a).unknown(i)},Ws.apply(qo(l),arguments)}function DF(){var e=[.5],t=[0,1],r,n=1;function a(i){return i!=null&&i<=i?t[am(e,i,0,n)]:r}return a.domain=function(i){return arguments.length?(e=Array.from(i),n=Math.min(e.length,t.length-1),a):e.slice()},a.range=function(i){return arguments.length?(t=Array.from(i),n=Math.min(e.length,t.length-1),a):t.slice()},a.invertExtent=function(i){var l=t.indexOf(i);return[e[l-1],e[l]]},a.unknown=function(i){return arguments.length?(r=i,a):r},a.copy=function(){return DF().domain(e).range(t).unknown(r)},Ws.apply(a,arguments)}const Bw=new Date,$w=new Date;function yn(e,t,r,n){function a(i){return e(i=arguments.length===0?new Date:new Date(+i)),i}return a.floor=i=>(e(i=new Date(+i)),i),a.ceil=i=>(e(i=new Date(i-1)),t(i,1),e(i),i),a.round=i=>{const l=a(i),c=a.ceil(i);return i-l<c-i?l:c},a.offset=(i,l)=>(t(i=new Date(+i),l==null?1:Math.floor(l)),i),a.range=(i,l,c)=>{const d=[];if(i=a.ceil(i),c=c==null?1:Math.floor(c),!(i<l)||!(c>0))return d;let f;do d.push(f=new Date(+i)),t(i,c),e(i);while(f<i&&i<l);return d},a.filter=i=>yn(l=>{if(l>=l)for(;e(l),!i(l);)l.setTime(l-1)},(l,c)=>{if(l>=l)if(c<0)for(;++c<=0;)for(;t(l,-1),!i(l););else for(;--c>=0;)for(;t(l,1),!i(l););}),r&&(a.count=(i,l)=>(Bw.setTime(+i),$w.setTime(+l),e(Bw),e($w),Math.floor(r(Bw,$w))),a.every=i=>(i=Math.floor(i),!isFinite(i)||!(i>0)?null:i>1?a.filter(n?l=>n(l)%i===0:l=>a.count(0,l)%i===0):a)),a}const tx=yn(()=>{},(e,t)=>{e.setTime(+e+t)},(e,t)=>t-e);tx.every=e=>(e=Math.floor(e),!isFinite(e)||!(e>0)?null:e>1?yn(t=>{t.setTime(Math.floor(t/e)*e)},(t,r)=>{t.setTime(+t+r*e)},(t,r)=>(r-t)/e):tx);tx.range;const ll=1e3,Ls=ll*60,ol=Ls*60,Sl=ol*24,dk=Sl*7,Z6=Sl*30,Uw=Sl*365,Mc=yn(e=>{e.setTime(e-e.getMilliseconds())},(e,t)=>{e.setTime(+e+t*ll)},(e,t)=>(t-e)/ll,e=>e.getUTCSeconds());Mc.range;const fk=yn(e=>{e.setTime(e-e.getMilliseconds()-e.getSeconds()*ll)},(e,t)=>{e.setTime(+e+t*Ls)},(e,t)=>(t-e)/Ls,e=>e.getMinutes());fk.range;const hk=yn(e=>{e.setUTCSeconds(0,0)},(e,t)=>{e.setTime(+e+t*Ls)},(e,t)=>(t-e)/Ls,e=>e.getUTCMinutes());hk.range;const mk=yn(e=>{e.setTime(e-e.getMilliseconds()-e.getSeconds()*ll-e.getMinutes()*Ls)},(e,t)=>{e.setTime(+e+t*ol)},(e,t)=>(t-e)/ol,e=>e.getHours());mk.range;const pk=yn(e=>{e.setUTCMinutes(0,0,0)},(e,t)=>{e.setTime(+e+t*ol)},(e,t)=>(t-e)/ol,e=>e.getUTCHours());pk.range;const lm=yn(e=>e.setHours(0,0,0,0),(e,t)=>e.setDate(e.getDate()+t),(e,t)=>(t-e-(t.getTimezoneOffset()-e.getTimezoneOffset())*Ls)/Sl,e=>e.getDate()-1);lm.range;const fy=yn(e=>{e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCDate(e.getUTCDate()+t)},(e,t)=>(t-e)/Sl,e=>e.getUTCDate()-1);fy.range;const PF=yn(e=>{e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCDate(e.getUTCDate()+t)},(e,t)=>(t-e)/Sl,e=>Math.floor(e/Sl));PF.range;function cu(e){return yn(t=>{t.setDate(t.getDate()-(t.getDay()+7-e)%7),t.setHours(0,0,0,0)},(t,r)=>{t.setDate(t.getDate()+r*7)},(t,r)=>(r-t-(r.getTimezoneOffset()-t.getTimezoneOffset())*Ls)/dk)}const hy=cu(0),rx=cu(1),Fse=cu(2),Lse=cu(3),Dd=cu(4),Bse=cu(5),$se=cu(6);hy.range;rx.range;Fse.range;Lse.range;Dd.range;Bse.range;$se.range;function uu(e){return yn(t=>{t.setUTCDate(t.getUTCDate()-(t.getUTCDay()+7-e)%7),t.setUTCHours(0,0,0,0)},(t,r)=>{t.setUTCDate(t.getUTCDate()+r*7)},(t,r)=>(r-t)/dk)}const my=uu(0),nx=uu(1),Use=uu(2),zse=uu(3),Pd=uu(4),Hse=uu(5),Vse=uu(6);my.range;nx.range;Use.range;zse.range;Pd.range;Hse.range;Vse.range;const gk=yn(e=>{e.setDate(1),e.setHours(0,0,0,0)},(e,t)=>{e.setMonth(e.getMonth()+t)},(e,t)=>t.getMonth()-e.getMonth()+(t.getFullYear()-e.getFullYear())*12,e=>e.getMonth());gk.range;const xk=yn(e=>{e.setUTCDate(1),e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCMonth(e.getUTCMonth()+t)},(e,t)=>t.getUTCMonth()-e.getUTCMonth()+(t.getUTCFullYear()-e.getUTCFullYear())*12,e=>e.getUTCMonth());xk.range;const kl=yn(e=>{e.setMonth(0,1),e.setHours(0,0,0,0)},(e,t)=>{e.setFullYear(e.getFullYear()+t)},(e,t)=>t.getFullYear()-e.getFullYear(),e=>e.getFullYear());kl.every=e=>!isFinite(e=Math.floor(e))||!(e>0)?null:yn(t=>{t.setFullYear(Math.floor(t.getFullYear()/e)*e),t.setMonth(0,1),t.setHours(0,0,0,0)},(t,r)=>{t.setFullYear(t.getFullYear()+r*e)});kl.range;const _l=yn(e=>{e.setUTCMonth(0,1),e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCFullYear(e.getUTCFullYear()+t)},(e,t)=>t.getUTCFullYear()-e.getUTCFullYear(),e=>e.getUTCFullYear());_l.every=e=>!isFinite(e=Math.floor(e))||!(e>0)?null:yn(t=>{t.setUTCFullYear(Math.floor(t.getUTCFullYear()/e)*e),t.setUTCMonth(0,1),t.setUTCHours(0,0,0,0)},(t,r)=>{t.setUTCFullYear(t.getUTCFullYear()+r*e)});_l.range;function MF(e,t,r,n,a,i){const l=[[Mc,1,ll],[Mc,5,5*ll],[Mc,15,15*ll],[Mc,30,30*ll],[i,1,Ls],[i,5,5*Ls],[i,15,15*Ls],[i,30,30*Ls],[a,1,ol],[a,3,3*ol],[a,6,6*ol],[a,12,12*ol],[n,1,Sl],[n,2,2*Sl],[r,1,dk],[t,1,Z6],[t,3,3*Z6],[e,1,Uw]];function c(f,h,p){const g=h<f;g&&([f,h]=[h,f]);const y=p&&typeof p.range=="function"?p:d(f,h,p),b=y?y.range(f,+h+1):[];return g?b.reverse():b}function d(f,h,p){const g=Math.abs(h-f)/p,y=ZS(([,,j])=>j).right(l,g);if(y===l.length)return e.every($j(f/Uw,h/Uw,p));if(y===0)return tx.every(Math.max($j(f,h,p),1));const[b,w]=l[g/l[y-1][2]<l[y][2]/g?y-1:y];return b.every(w)}return[c,d]}const[qse,Wse]=MF(_l,xk,my,PF,pk,hk),[Gse,Kse]=MF(kl,gk,hy,lm,mk,fk);function zw(e){if(0<=e.y&&e.y<100){var t=new Date(-1,e.m,e.d,e.H,e.M,e.S,e.L);return t.setFullYear(e.y),t}return new Date(e.y,e.m,e.d,e.H,e.M,e.S,e.L)}function Hw(e){if(0<=e.y&&e.y<100){var t=new Date(Date.UTC(-1,e.m,e.d,e.H,e.M,e.S,e.L));return t.setUTCFullYear(e.y),t}return new Date(Date.UTC(e.y,e.m,e.d,e.H,e.M,e.S,e.L))}function b0(e,t,r){return{y:e,m:t,d:r,H:0,M:0,S:0,L:0}}function Yse(e){var t=e.dateTime,r=e.date,n=e.time,a=e.periods,i=e.days,l=e.shortDays,c=e.months,d=e.shortMonths,f=w0(a),h=j0(a),p=w0(i),g=j0(i),y=w0(l),b=j0(l),w=w0(c),j=j0(c),S=w0(d),_=j0(d),E={a:J,A:se,b:xe,B:U,c:null,d:aD,e:aD,f:yie,g:Aie,G:Cie,H:pie,I:gie,j:xie,L:RF,m:vie,M:bie,p:ae,q:D,Q:lD,s:oD,S:wie,u:jie,U:Nie,V:Sie,w:kie,W:_ie,x:null,X:null,y:Eie,Y:Tie,Z:Oie,"%":iD},T={a:H,A:B,b:V,B:le,c:null,d:sD,e:sD,f:Rie,g:qie,G:Gie,H:Die,I:Pie,j:Mie,L:FF,m:Iie,M:Fie,p:De,q:re,Q:lD,s:oD,S:Lie,u:Bie,U:$ie,V:Uie,w:zie,W:Hie,x:null,X:null,y:Vie,Y:Wie,Z:Kie,"%":iD},A={a:G,A:W,b:ee,B:ue,c:fe,d:rD,e:rD,f:die,g:tD,G:eD,H:nD,I:nD,j:lie,L:uie,m:iie,M:oie,p:F,q:sie,Q:hie,s:mie,S:cie,u:eie,U:tie,V:rie,w:Jse,W:nie,x:Q,X:K,y:tD,Y:eD,Z:aie,"%":fie};E.x=C(r,E),E.X=C(n,E),E.c=C(t,E),T.x=C(r,T),T.X=C(n,T),T.c=C(t,T);function C(ie,de){return function(oe){var me=[],Xe=-1,Ue=0,xt=ie.length,Ye,Be,Dt;for(oe instanceof Date||(oe=new Date(+oe));++Xe<xt;)ie.charCodeAt(Xe)===37&&(me.push(ie.slice(Ue,Xe)),(Be=J6[Ye=ie.charAt(++Xe)])!=null?Ye=ie.charAt(++Xe):Be=Ye==="e"?" ":"0",(Dt=de[Ye])&&(Ye=Dt(oe,Be)),me.push(Ye),Ue=Xe+1);return me.push(ie.slice(Ue,Xe)),me.join("")}}function O(ie,de){return function(oe){var me=b0(1900,void 0,1),Xe=P(me,ie,oe+="",0),Ue,xt;if(Xe!=oe.length)return null;if("Q"in me)return new Date(me.Q);if("s"in me)return new Date(me.s*1e3+("L"in me?me.L:0));if(de&&!("Z"in me)&&(me.Z=0),"p"in me&&(me.H=me.H%12+me.p*12),me.m===void 0&&(me.m="q"in me?me.q:0),"V"in me){if(me.V<1||me.V>53)return null;"w"in me||(me.w=1),"Z"in me?(Ue=Hw(b0(me.y,0,1)),xt=Ue.getUTCDay(),Ue=xt>4||xt===0?nx.ceil(Ue):nx(Ue),Ue=fy.offset(Ue,(me.V-1)*7),me.y=Ue.getUTCFullYear(),me.m=Ue.getUTCMonth(),me.d=Ue.getUTCDate()+(me.w+6)%7):(Ue=zw(b0(me.y,0,1)),xt=Ue.getDay(),Ue=xt>4||xt===0?rx.ceil(Ue):rx(Ue),Ue=lm.offset(Ue,(me.V-1)*7),me.y=Ue.getFullYear(),me.m=Ue.getMonth(),me.d=Ue.getDate()+(me.w+6)%7)}else("W"in me||"U"in me)&&("w"in me||(me.w="u"in me?me.u%7:"W"in me?1:0),xt="Z"in me?Hw(b0(me.y,0,1)).getUTCDay():zw(b0(me.y,0,1)).getDay(),me.m=0,me.d="W"in me?(me.w+6)%7+me.W*7-(xt+5)%7:me.w+me.U*7-(xt+6)%7);return"Z"in me?(me.H+=me.Z/100|0,me.M+=me.Z%100,Hw(me)):zw(me)}}function P(ie,de,oe,me){for(var Xe=0,Ue=de.length,xt=oe.length,Ye,Be;Xe<Ue;){if(me>=xt)return-1;if(Ye=de.charCodeAt(Xe++),Ye===37){if(Ye=de.charAt(Xe++),Be=A[Ye in J6?de.charAt(Xe++):Ye],!Be||(me=Be(ie,oe,me))<0)return-1}else if(Ye!=oe.charCodeAt(me++))return-1}return me}function F(ie,de,oe){var me=f.exec(de.slice(oe));return me?(ie.p=h.get(me[0].toLowerCase()),oe+me[0].length):-1}function G(ie,de,oe){var me=y.exec(de.slice(oe));return me?(ie.w=b.get(me[0].toLowerCase()),oe+me[0].length):-1}function W(ie,de,oe){var me=p.exec(de.slice(oe));return me?(ie.w=g.get(me[0].toLowerCase()),oe+me[0].length):-1}function ee(ie,de,oe){var me=S.exec(de.slice(oe));return me?(ie.m=_.get(me[0].toLowerCase()),oe+me[0].length):-1}function ue(ie,de,oe){var me=w.exec(de.slice(oe));return me?(ie.m=j.get(me[0].toLowerCase()),oe+me[0].length):-1}function fe(ie,de,oe){return P(ie,t,de,oe)}function Q(ie,de,oe){return P(ie,r,de,oe)}function K(ie,de,oe){return P(ie,n,de,oe)}function J(ie){return l[ie.getDay()]}function se(ie){return i[ie.getDay()]}function xe(ie){return d[ie.getMonth()]}function U(ie){return c[ie.getMonth()]}function ae(ie){return a[+(ie.getHours()>=12)]}function D(ie){return 1+~~(ie.getMonth()/3)}function H(ie){return l[ie.getUTCDay()]}function B(ie){return i[ie.getUTCDay()]}function V(ie){return d[ie.getUTCMonth()]}function le(ie){return c[ie.getUTCMonth()]}function De(ie){return a[+(ie.getUTCHours()>=12)]}function re(ie){return 1+~~(ie.getUTCMonth()/3)}return{format:function(ie){var de=C(ie+="",E);return de.toString=function(){return ie},de},parse:function(ie){var de=O(ie+="",!1);return de.toString=function(){return ie},de},utcFormat:function(ie){var de=C(ie+="",T);return de.toString=function(){return ie},de},utcParse:function(ie){var de=O(ie+="",!0);return de.toString=function(){return ie},de}}}var J6={"-":"",_:" ",0:"0"},On=/^\s*\d+/,Xse=/^%/,Qse=/[\\^$*+?|[\]().{}]/g;function $t(e,t,r){var n=e<0?"-":"",a=(n?-e:e)+"",i=a.length;return n+(i<r?new Array(r-i+1).join(t)+a:a)}function Zse(e){return e.replace(Qse,"\\$&")}function w0(e){return new RegExp("^(?:"+e.map(Zse).join("|")+")","i")}function j0(e){return new Map(e.map((t,r)=>[t.toLowerCase(),r]))}function Jse(e,t,r){var n=On.exec(t.slice(r,r+1));return n?(e.w=+n[0],r+n[0].length):-1}function eie(e,t,r){var n=On.exec(t.slice(r,r+1));return n?(e.u=+n[0],r+n[0].length):-1}function tie(e,t,r){var n=On.exec(t.slice(r,r+2));return n?(e.U=+n[0],r+n[0].length):-1}function rie(e,t,r){var n=On.exec(t.slice(r,r+2));return n?(e.V=+n[0],r+n[0].length):-1}function nie(e,t,r){var n=On.exec(t.slice(r,r+2));return n?(e.W=+n[0],r+n[0].length):-1}function eD(e,t,r){var n=On.exec(t.slice(r,r+4));return n?(e.y=+n[0],r+n[0].length):-1}function tD(e,t,r){var n=On.exec(t.slice(r,r+2));return n?(e.y=+n[0]+(+n[0]>68?1900:2e3),r+n[0].length):-1}function aie(e,t,r){var n=/^(Z)|([+-]\d\d)(?::?(\d\d))?/.exec(t.slice(r,r+6));return n?(e.Z=n[1]?0:-(n[2]+(n[3]||"00")),r+n[0].length):-1}function sie(e,t,r){var n=On.exec(t.slice(r,r+1));return n?(e.q=n[0]*3-3,r+n[0].length):-1}function iie(e,t,r){var n=On.exec(t.slice(r,r+2));return n?(e.m=n[0]-1,r+n[0].length):-1}function rD(e,t,r){var n=On.exec(t.slice(r,r+2));return n?(e.d=+n[0],r+n[0].length):-1}function lie(e,t,r){var n=On.exec(t.slice(r,r+3));return n?(e.m=0,e.d=+n[0],r+n[0].length):-1}function nD(e,t,r){var n=On.exec(t.slice(r,r+2));return n?(e.H=+n[0],r+n[0].length):-1}function oie(e,t,r){var n=On.exec(t.slice(r,r+2));return n?(e.M=+n[0],r+n[0].length):-1}function cie(e,t,r){var n=On.exec(t.slice(r,r+2));return n?(e.S=+n[0],r+n[0].length):-1}function uie(e,t,r){var n=On.exec(t.slice(r,r+3));return n?(e.L=+n[0],r+n[0].length):-1}function die(e,t,r){var n=On.exec(t.slice(r,r+6));return n?(e.L=Math.floor(n[0]/1e3),r+n[0].length):-1}function fie(e,t,r){var n=Xse.exec(t.slice(r,r+1));return n?r+n[0].length:-1}function hie(e,t,r){var n=On.exec(t.slice(r));return n?(e.Q=+n[0],r+n[0].length):-1}function mie(e,t,r){var n=On.exec(t.slice(r));return n?(e.s=+n[0],r+n[0].length):-1}function aD(e,t){return $t(e.getDate(),t,2)}function pie(e,t){return $t(e.getHours(),t,2)}function gie(e,t){return $t(e.getHours()%12||12,t,2)}function xie(e,t){return $t(1+lm.count(kl(e),e),t,3)}function RF(e,t){return $t(e.getMilliseconds(),t,3)}function yie(e,t){return RF(e,t)+"000"}function vie(e,t){return $t(e.getMonth()+1,t,2)}function bie(e,t){return $t(e.getMinutes(),t,2)}function wie(e,t){return $t(e.getSeconds(),t,2)}function jie(e){var t=e.getDay();return t===0?7:t}function Nie(e,t){return $t(hy.count(kl(e)-1,e),t,2)}function IF(e){var t=e.getDay();return t>=4||t===0?Dd(e):Dd.ceil(e)}function Sie(e,t){return e=IF(e),$t(Dd.count(kl(e),e)+(kl(e).getDay()===4),t,2)}function kie(e){return e.getDay()}function _ie(e,t){return $t(rx.count(kl(e)-1,e),t,2)}function Eie(e,t){return $t(e.getFullYear()%100,t,2)}function Aie(e,t){return e=IF(e),$t(e.getFullYear()%100,t,2)}function Tie(e,t){return $t(e.getFullYear()%1e4,t,4)}function Cie(e,t){var r=e.getDay();return e=r>=4||r===0?Dd(e):Dd.ceil(e),$t(e.getFullYear()%1e4,t,4)}function Oie(e){var t=e.getTimezoneOffset();return(t>0?"-":(t*=-1,"+"))+$t(t/60|0,"0",2)+$t(t%60,"0",2)}function sD(e,t){return $t(e.getUTCDate(),t,2)}function Die(e,t){return $t(e.getUTCHours(),t,2)}function Pie(e,t){return $t(e.getUTCHours()%12||12,t,2)}function Mie(e,t){return $t(1+fy.count(_l(e),e),t,3)}function FF(e,t){return $t(e.getUTCMilliseconds(),t,3)}function Rie(e,t){return FF(e,t)+"000"}function Iie(e,t){return $t(e.getUTCMonth()+1,t,2)}function Fie(e,t){return $t(e.getUTCMinutes(),t,2)}function Lie(e,t){return $t(e.getUTCSeconds(),t,2)}function Bie(e){var t=e.getUTCDay();return t===0?7:t}function $ie(e,t){return $t(my.count(_l(e)-1,e),t,2)}function LF(e){var t=e.getUTCDay();return t>=4||t===0?Pd(e):Pd.ceil(e)}function Uie(e,t){return e=LF(e),$t(Pd.count(_l(e),e)+(_l(e).getUTCDay()===4),t,2)}function zie(e){return e.getUTCDay()}function Hie(e,t){return $t(nx.count(_l(e)-1,e),t,2)}function Vie(e,t){return $t(e.getUTCFullYear()%100,t,2)}function qie(e,t){return e=LF(e),$t(e.getUTCFullYear()%100,t,2)}function Wie(e,t){return $t(e.getUTCFullYear()%1e4,t,4)}function Gie(e,t){var r=e.getUTCDay();return e=r>=4||r===0?Pd(e):Pd.ceil(e),$t(e.getUTCFullYear()%1e4,t,4)}function Kie(){return"+0000"}function iD(){return"%"}function lD(e){return+e}function oD(e){return Math.floor(+e/1e3)}var Xu,BF,$F;Yie({dateTime:"%x, %X",date:"%-m/%-d/%Y",time:"%-I:%M:%S %p",periods:["AM","PM"],days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],shortDays:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],months:["January","February","March","April","May","June","July","August","September","October","November","December"],shortMonths:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"]});function Yie(e){return Xu=Yse(e),BF=Xu.format,Xu.parse,$F=Xu.utcFormat,Xu.utcParse,Xu}function Xie(e){return new Date(e)}function Qie(e){return e instanceof Date?+e:+new Date(+e)}function yk(e,t,r,n,a,i,l,c,d,f){var h=ak(),p=h.invert,g=h.domain,y=f(".%L"),b=f(":%S"),w=f("%I:%M"),j=f("%I %p"),S=f("%a %d"),_=f("%b %d"),E=f("%B"),T=f("%Y");function A(C){return(d(C)<C?y:c(C)<C?b:l(C)<C?w:i(C)<C?j:n(C)<C?a(C)<C?S:_:r(C)<C?E:T)(C)}return h.invert=function(C){return new Date(p(C))},h.domain=function(C){return arguments.length?g(Array.from(C,Qie)):g().map(Xie)},h.ticks=function(C){var O=g();return e(O[0],O[O.length-1],C??10)},h.tickFormat=function(C,O){return O==null?A:f(O)},h.nice=function(C){var O=g();return(!C||typeof C.range!="function")&&(C=t(O[0],O[O.length-1],C??10)),C?g(_F(O,C)):h},h.copy=function(){return im(h,yk(e,t,r,n,a,i,l,c,d,f))},h}function Zie(){return Ws.apply(yk(Gse,Kse,kl,gk,hy,lm,mk,fk,Mc,BF).domain([new Date(2e3,0,1),new Date(2e3,0,2)]),arguments)}function Jie(){return Ws.apply(yk(qse,Wse,_l,xk,my,fy,pk,hk,Mc,$F).domain([Date.UTC(2e3,0,1),Date.UTC(2e3,0,2)]),arguments)}function py(){var e=0,t=1,r,n,a,i,l=da,c=!1,d;function f(p){return p==null||isNaN(p=+p)?d:l(a===0?.5:(p=(i(p)-r)*a,c?Math.max(0,Math.min(1,p)):p))}f.domain=function(p){return arguments.length?([e,t]=p,r=i(e=+e),n=i(t=+t),a=r===n?0:1/(n-r),f):[e,t]},f.clamp=function(p){return arguments.length?(c=!!p,f):c},f.interpolator=function(p){return arguments.length?(l=p,f):l};function h(p){return function(g){var y,b;return arguments.length?([y,b]=g,l=p(y,b),f):[l(0),l(1)]}}return f.range=h(Zd),f.rangeRound=h(nk),f.unknown=function(p){return arguments.length?(d=p,f):d},function(p){return i=p,r=p(e),n=p(t),a=r===n?0:1/(n-r),f}}function Wo(e,t){return t.domain(e.domain()).interpolator(e.interpolator()).clamp(e.clamp()).unknown(e.unknown())}function UF(){var e=qo(py()(da));return e.copy=function(){return Wo(e,UF())},Dl.apply(e,arguments)}function zF(){var e=lk(py()).domain([1,10]);return e.copy=function(){return Wo(e,zF()).base(e.base())},Dl.apply(e,arguments)}function HF(){var e=ok(py());return e.copy=function(){return Wo(e,HF()).constant(e.constant())},Dl.apply(e,arguments)}function vk(){var e=ck(py());return e.copy=function(){return Wo(e,vk()).exponent(e.exponent())},Dl.apply(e,arguments)}function ele(){return vk.apply(null,arguments).exponent(.5)}function VF(){var e=[],t=da;function r(n){if(n!=null&&!isNaN(n=+n))return t((am(e,n,1)-1)/(e.length-1))}return r.domain=function(n){if(!arguments.length)return e.slice();e=[];for(let a of n)a!=null&&!isNaN(a=+a)&&e.push(a);return e.sort(No),r},r.interpolator=function(n){return arguments.length?(t=n,r):t},r.range=function(){return e.map((n,a)=>t(a/(e.length-1)))},r.quantiles=function(n){return Array.from({length:n+1},(a,i)=>Bae(e,i/n))},r.copy=function(){return VF(t).domain(e)},Dl.apply(r,arguments)}function gy(){var e=0,t=.5,r=1,n=1,a,i,l,c,d,f=da,h,p=!1,g;function y(w){return isNaN(w=+w)?g:(w=.5+((w=+h(w))-i)*(n*w<n*i?c:d),f(p?Math.max(0,Math.min(1,w)):w))}y.domain=function(w){return arguments.length?([e,t,r]=w,a=h(e=+e),i=h(t=+t),l=h(r=+r),c=a===i?0:.5/(i-a),d=i===l?0:.5/(l-i),n=i<a?-1:1,y):[e,t,r]},y.clamp=function(w){return arguments.length?(p=!!w,y):p},y.interpolator=function(w){return arguments.length?(f=w,y):f};function b(w){return function(j){var S,_,E;return arguments.length?([S,_,E]=j,f=fse(w,[S,_,E]),y):[f(0),f(.5),f(1)]}}return y.range=b(Zd),y.rangeRound=b(nk),y.unknown=function(w){return arguments.length?(g=w,y):g},function(w){return h=w,a=w(e),i=w(t),l=w(r),c=a===i?0:.5/(i-a),d=i===l?0:.5/(l-i),n=i<a?-1:1,y}}function qF(){var e=qo(gy()(da));return e.copy=function(){return Wo(e,qF())},Dl.apply(e,arguments)}function WF(){var e=lk(gy()).domain([.1,1,10]);return e.copy=function(){return Wo(e,WF()).base(e.base())},Dl.apply(e,arguments)}function GF(){var e=ok(gy());return e.copy=function(){return Wo(e,GF()).constant(e.constant())},Dl.apply(e,arguments)}function bk(){var e=ck(gy());return e.copy=function(){return Wo(e,bk()).exponent(e.exponent())},Dl.apply(e,arguments)}function tle(){return bk.apply(null,arguments).exponent(.5)}const M0=Object.freeze(Object.defineProperty({__proto__:null,scaleBand:ek,scaleDiverging:qF,scaleDivergingLog:WF,scaleDivergingPow:bk,scaleDivergingSqrt:tle,scaleDivergingSymlog:GF,scaleIdentity:kF,scaleImplicit:Uj,scaleLinear:SF,scaleLog:EF,scaleOrdinal:JS,scalePoint:zae,scalePow:uk,scaleQuantile:CF,scaleQuantize:OF,scaleRadial:TF,scaleSequential:UF,scaleSequentialLog:zF,scaleSequentialPow:vk,scaleSequentialQuantile:VF,scaleSequentialSqrt:ele,scaleSequentialSymlog:HF,scaleSqrt:Rse,scaleSymlog:AF,scaleThreshold:DF,scaleTime:Zie,scaleUtc:Jie,tickFormat:NF},Symbol.toStringTag,{value:"Module"}));var du=e=>e.chartData,wk=ke([du],e=>{var t=e.chartData!=null?e.chartData.length-1:0;return{chartData:e.chartData,computedData:e.computedData,dataEndIndex:t,dataStartIndex:0}}),jk=(e,t,r,n)=>n?wk(e):du(e);function Md(e){if(Array.isArray(e)&&e.length===2){var[t,r]=e;if(us(t)&&us(r))return!0}return!1}function cD(e,t,r){return r?e:[Math.min(e[0],t[0]),Math.max(e[1],t[1])]}function rle(e,t){if(t&&typeof e!="function"&&Array.isArray(e)&&e.length===2){var[r,n]=e,a,i;if(us(r))a=r;else if(typeof r=="function")return;if(us(n))i=n;else if(typeof n=="function")return;var l=[a,i];if(Md(l))return l}}function nle(e,t,r){if(!(!r&&t==null)){if(typeof e=="function"&&t!=null)try{var n=e(t,r);if(Md(n))return cD(n,t,r)}catch{}if(Array.isArray(e)&&e.length===2){var[a,i]=e,l,c;if(a==="auto")t!=null&&(l=Math.min(...t));else if(Ze(a))l=a;else if(typeof a=="function")try{t!=null&&(l=a(t?.[0]))}catch{}else if(typeof a=="string"&&XO.test(a)){var d=XO.exec(a);if(d==null||t==null)l=void 0;else{var f=+d[1];l=t[0]-f}}else l=t?.[0];if(i==="auto")t!=null&&(c=Math.max(...t));else if(Ze(i))c=i;else if(typeof i=="function")try{t!=null&&(c=i(t?.[1]))}catch{}else if(typeof i=="string"&&QO.test(i)){var h=QO.exec(i);if(h==null||t==null)c=void 0;else{var p=+h[1];c=t[1]+p}}else c=t?.[1];var g=[l,c];if(Md(g))return t==null?g:cD(g,t,r)}}}var Jd=1e9,ale={precision:20,rounding:4,toExpNeg:-7,toExpPos:21,LN10:"2.302585092994045684017991454684364207601101488628772976033327900967572609677352480235997205089598298341967784042286"},Sk,Dr=!0,Hs="[DecimalError] ",Vc=Hs+"Invalid argument: ",Nk=Hs+"Exponent out of range: ",ef=Math.floor,jc=Math.pow,sle=/^(\d+(\.\d*)?|\.\d+)(e[+-]?\d+)?$/i,ts,Nn=1e7,Sr=7,KF=9007199254740991,ax=ef(KF/Sr),Je={};Je.absoluteValue=Je.abs=function(){var e=new this.constructor(this);return e.s&&(e.s=1),e};Je.comparedTo=Je.cmp=function(e){var t,r,n,a,i=this;if(e=new i.constructor(e),i.s!==e.s)return i.s||-e.s;if(i.e!==e.e)return i.e>e.e^i.s<0?1:-1;for(n=i.d.length,a=e.d.length,t=0,r=n<a?n:a;t<r;++t)if(i.d[t]!==e.d[t])return i.d[t]>e.d[t]^i.s<0?1:-1;return n===a?0:n>a^i.s<0?1:-1};Je.decimalPlaces=Je.dp=function(){var e=this,t=e.d.length-1,r=(t-e.e)*Sr;if(t=e.d[t],t)for(;t%10==0;t/=10)r--;return r<0?0:r};Je.dividedBy=Je.div=function(e){return hl(this,new this.constructor(e))};Je.dividedToIntegerBy=Je.idiv=function(e){var t=this,r=t.constructor;return pr(hl(t,new r(e),0,1),r.precision)};Je.equals=Je.eq=function(e){return!this.cmp(e)};Je.exponent=function(){return on(this)};Je.greaterThan=Je.gt=function(e){return this.cmp(e)>0};Je.greaterThanOrEqualTo=Je.gte=function(e){return this.cmp(e)>=0};Je.isInteger=Je.isint=function(){return this.e>this.d.length-2};Je.isNegative=Je.isneg=function(){return this.s<0};Je.isPositive=Je.ispos=function(){return this.s>0};Je.isZero=function(){return this.s===0};Je.lessThan=Je.lt=function(e){return this.cmp(e)<0};Je.lessThanOrEqualTo=Je.lte=function(e){return this.cmp(e)<1};Je.logarithm=Je.log=function(e){var t,r=this,n=r.constructor,a=n.precision,i=a+5;if(e===void 0)e=new n(10);else if(e=new n(e),e.s<1||e.eq(ts))throw Error(Hs+"NaN");if(r.s<1)throw Error(Hs+(r.s?"NaN":"-Infinity"));return r.eq(ts)?new n(0):(Dr=!1,t=hl(Ah(r,i),Ah(e,i),i),Dr=!0,pr(t,a))};Je.minus=Je.sub=function(e){var t=this;return e=new t.constructor(e),t.s==e.s?QF(t,e):YF(t,(e.s=-e.s,e))};Je.modulo=Je.mod=function(e){var t,r=this,n=r.constructor,a=n.precision;if(e=new n(e),!e.s)throw Error(Hs+"NaN");return r.s?(Dr=!1,t=hl(r,e,0,1).times(e),Dr=!0,r.minus(t)):pr(new n(r),a)};Je.naturalExponential=Je.exp=function(){return XF(this)};Je.naturalLogarithm=Je.ln=function(){return Ah(this)};Je.negated=Je.neg=function(){var e=new this.constructor(this);return e.s=-e.s||0,e};Je.plus=Je.add=function(e){var t=this;return e=new t.constructor(e),t.s==e.s?YF(t,e):QF(t,(e.s=-e.s,e))};Je.precision=Je.sd=function(e){var t,r,n,a=this;if(e!==void 0&&e!==!!e&&e!==1&&e!==0)throw Error(Vc+e);if(t=on(a)+1,n=a.d.length-1,r=n*Sr+1,n=a.d[n],n){for(;n%10==0;n/=10)r--;for(n=a.d[0];n>=10;n/=10)r++}return e&&t>r?t:r};Je.squareRoot=Je.sqrt=function(){var e,t,r,n,a,i,l,c=this,d=c.constructor;if(c.s<1){if(!c.s)return new d(0);throw Error(Hs+"NaN")}for(e=on(c),Dr=!1,a=Math.sqrt(+c),a==0||a==1/0?(t=Ti(c.d),(t.length+e)%2==0&&(t+="0"),a=Math.sqrt(t),e=ef((e+1)/2)-(e<0||e%2),a==1/0?t="5e"+e:(t=a.toExponential(),t=t.slice(0,t.indexOf("e")+1)+e),n=new d(t)):n=new d(a.toString()),r=d.precision,a=l=r+3;;)if(i=n,n=i.plus(hl(c,i,l+2)).times(.5),Ti(i.d).slice(0,l)===(t=Ti(n.d)).slice(0,l)){if(t=t.slice(l-3,l+1),a==l&&t=="4999"){if(pr(i,r+1,0),i.times(i).eq(c)){n=i;break}}else if(t!="9999")break;l+=4}return Dr=!0,pr(n,r)};Je.times=Je.mul=function(e){var t,r,n,a,i,l,c,d,f,h=this,p=h.constructor,g=h.d,y=(e=new p(e)).d;if(!h.s||!e.s)return new p(0);for(e.s*=h.s,r=h.e+e.e,d=g.length,f=y.length,d<f&&(i=g,g=y,y=i,l=d,d=f,f=l),i=[],l=d+f,n=l;n--;)i.push(0);for(n=f;--n>=0;){for(t=0,a=d+n;a>n;)c=i[a]+y[n]*g[a-n-1]+t,i[a--]=c%Nn|0,t=c/Nn|0;i[a]=(i[a]+t)%Nn|0}for(;!i[--l];)i.pop();return t?++r:i.shift(),e.d=i,e.e=r,Dr?pr(e,p.precision):e};Je.toDecimalPlaces=Je.todp=function(e,t){var r=this,n=r.constructor;return r=new n(r),e===void 0?r:(Ii(e,0,Jd),t===void 0?t=n.rounding:Ii(t,0,8),pr(r,e+on(r)+1,t))};Je.toExponential=function(e,t){var r,n=this,a=n.constructor;return e===void 0?r=tu(n,!0):(Ii(e,0,Jd),t===void 0?t=a.rounding:Ii(t,0,8),n=pr(new a(n),e+1,t),r=tu(n,!0,e+1)),r};Je.toFixed=function(e,t){var r,n,a=this,i=a.constructor;return e===void 0?tu(a):(Ii(e,0,Jd),t===void 0?t=i.rounding:Ii(t,0,8),n=pr(new i(a),e+on(a)+1,t),r=tu(n.abs(),!1,e+on(n)+1),a.isneg()&&!a.isZero()?"-"+r:r)};Je.toInteger=Je.toint=function(){var e=this,t=e.constructor;return pr(new t(e),on(e)+1,t.rounding)};Je.toNumber=function(){return+this};Je.toPower=Je.pow=function(e){var t,r,n,a,i,l,c=this,d=c.constructor,f=12,h=+(e=new d(e));if(!e.s)return new d(ts);if(c=new d(c),!c.s){if(e.s<1)throw Error(Hs+"Infinity");return c}if(c.eq(ts))return c;if(n=d.precision,e.eq(ts))return pr(c,n);if(t=e.e,r=e.d.length-1,l=t>=r,i=c.s,l){if((r=h<0?-h:h)<=KF){for(a=new d(ts),t=Math.ceil(n/Sr+4),Dr=!1;r%2&&(a=a.times(c),dD(a.d,t)),r=ef(r/2),r!==0;)c=c.times(c),dD(c.d,t);return Dr=!0,e.s<0?new d(ts).div(a):pr(a,n)}}else if(i<0)throw Error(Hs+"NaN");return i=i<0&&e.d[Math.max(t,r)]&1?-1:1,c.s=1,Dr=!1,a=e.times(Ah(c,n+f)),Dr=!0,a=XF(a),a.s=i,a};Je.toPrecision=function(e,t){var r,n,a=this,i=a.constructor;return e===void 0?(r=on(a),n=tu(a,r<=i.toExpNeg||r>=i.toExpPos)):(Ii(e,1,Jd),t===void 0?t=i.rounding:Ii(t,0,8),a=pr(new i(a),e,t),r=on(a),n=tu(a,e<=r||r<=i.toExpNeg,e)),n};Je.toSignificantDigits=Je.tosd=function(e,t){var r=this,n=r.constructor;return e===void 0?(e=n.precision,t=n.rounding):(Ii(e,1,Jd),t===void 0?t=n.rounding:Ii(t,0,8)),pr(new n(r),e,t)};Je.toString=Je.valueOf=Je.val=Je.toJSON=Je[Symbol.for("nodejs.util.inspect.custom")]=function(){var e=this,t=on(e),r=e.constructor;return tu(e,t<=r.toExpNeg||t>=r.toExpPos)};function YF(e,t){var r,n,a,i,l,c,d,f,h=e.constructor,p=h.precision;if(!e.s||!t.s)return t.s||(t=new h(e)),Dr?pr(t,p):t;if(d=e.d,f=t.d,l=e.e,a=t.e,d=d.slice(),i=l-a,i){for(i<0?(n=d,i=-i,c=f.length):(n=f,a=l,c=d.length),l=Math.ceil(p/Sr),c=l>c?l+1:c+1,i>c&&(i=c,n.length=1),n.reverse();i--;)n.push(0);n.reverse()}for(c=d.length,i=f.length,c-i<0&&(i=c,n=f,f=d,d=n),r=0;i;)r=(d[--i]=d[i]+f[i]+r)/Nn|0,d[i]%=Nn;for(r&&(d.unshift(r),++a),c=d.length;d[--c]==0;)d.pop();return t.d=d,t.e=a,Dr?pr(t,p):t}function Ii(e,t,r){if(e!==~~e||e<t||e>r)throw Error(Vc+e)}function Ti(e){var t,r,n,a=e.length-1,i="",l=e[0];if(a>0){for(i+=l,t=1;t<a;t++)n=e[t]+"",r=Sr-n.length,r&&(i+=ho(r)),i+=n;l=e[t],n=l+"",r=Sr-n.length,r&&(i+=ho(r))}else if(l===0)return"0";for(;l%10===0;)l/=10;return i+l}var hl=function(){function e(n,a){var i,l=0,c=n.length;for(n=n.slice();c--;)i=n[c]*a+l,n[c]=i%Nn|0,l=i/Nn|0;return l&&n.unshift(l),n}function t(n,a,i,l){var c,d;if(i!=l)d=i>l?1:-1;else for(c=d=0;c<i;c++)if(n[c]!=a[c]){d=n[c]>a[c]?1:-1;break}return d}function r(n,a,i){for(var l=0;i--;)n[i]-=l,l=n[i]<a[i]?1:0,n[i]=l*Nn+n[i]-a[i];for(;!n[0]&&n.length>1;)n.shift()}return function(n,a,i,l){var c,d,f,h,p,g,y,b,w,j,S,_,E,T,A,C,O,P,F=n.constructor,G=n.s==a.s?1:-1,W=n.d,ee=a.d;if(!n.s)return new F(n);if(!a.s)throw Error(Hs+"Division by zero");for(d=n.e-a.e,O=ee.length,A=W.length,y=new F(G),b=y.d=[],f=0;ee[f]==(W[f]||0);)++f;if(ee[f]>(W[f]||0)&&--d,i==null?_=i=F.precision:l?_=i+(on(n)-on(a))+1:_=i,_<0)return new F(0);if(_=_/Sr+2|0,f=0,O==1)for(h=0,ee=ee[0],_++;(f<A||h)&&_--;f++)E=h*Nn+(W[f]||0),b[f]=E/ee|0,h=E%ee|0;else{for(h=Nn/(ee[0]+1)|0,h>1&&(ee=e(ee,h),W=e(W,h),O=ee.length,A=W.length),T=O,w=W.slice(0,O),j=w.length;j<O;)w[j++]=0;P=ee.slice(),P.unshift(0),C=ee[0],ee[1]>=Nn/2&&++C;do h=0,c=t(ee,w,O,j),c<0?(S=w[0],O!=j&&(S=S*Nn+(w[1]||0)),h=S/C|0,h>1?(h>=Nn&&(h=Nn-1),p=e(ee,h),g=p.length,j=w.length,c=t(p,w,g,j),c==1&&(h--,r(p,O<g?P:ee,g))):(h==0&&(c=h=1),p=ee.slice()),g=p.length,g<j&&p.unshift(0),r(w,p,j),c==-1&&(j=w.length,c=t(ee,w,O,j),c<1&&(h++,r(w,O<j?P:ee,j))),j=w.length):c===0&&(h++,w=[0]),b[f++]=h,c&&w[0]?w[j++]=W[T]||0:(w=[W[T]],j=1);while((T++<A||w[0]!==void 0)&&_--)}return b[0]||b.shift(),y.e=d,pr(y,l?i+on(y)+1:i)}}();function XF(e,t){var r,n,a,i,l,c,d=0,f=0,h=e.constructor,p=h.precision;if(on(e)>16)throw Error(Nk+on(e));if(!e.s)return new h(ts);for(Dr=!1,c=p,l=new h(.03125);e.abs().gte(.1);)e=e.times(l),f+=5;for(n=Math.log(jc(2,f))/Math.LN10*2+5|0,c+=n,r=a=i=new h(ts),h.precision=c;;){if(a=pr(a.times(e),c),r=r.times(++d),l=i.plus(hl(a,r,c)),Ti(l.d).slice(0,c)===Ti(i.d).slice(0,c)){for(;f--;)i=pr(i.times(i),c);return h.precision=p,t==null?(Dr=!0,pr(i,p)):i}i=l}}function on(e){for(var t=e.e*Sr,r=e.d[0];r>=10;r/=10)t++;return t}function Vw(e,t,r){if(t>e.LN10.sd())throw Dr=!0,r&&(e.precision=r),Error(Hs+"LN10 precision limit exceeded");return pr(new e(e.LN10),t)}function ho(e){for(var t="";e--;)t+="0";return t}function Ah(e,t){var r,n,a,i,l,c,d,f,h,p=1,g=10,y=e,b=y.d,w=y.constructor,j=w.precision;if(y.s<1)throw Error(Hs+(y.s?"NaN":"-Infinity"));if(y.eq(ts))return new w(0);if(t==null?(Dr=!1,f=j):f=t,y.eq(10))return t==null&&(Dr=!0),Vw(w,f);if(f+=g,w.precision=f,r=Ti(b),n=r.charAt(0),i=on(y),Math.abs(i)<15e14){for(;n<7&&n!=1||n==1&&r.charAt(1)>3;)y=y.times(e),r=Ti(y.d),n=r.charAt(0),p++;i=on(y),n>1?(y=new w("0."+r),i++):y=new w(n+"."+r.slice(1))}else return d=Vw(w,f+2,j).times(i+""),y=Ah(new w(n+"."+r.slice(1)),f-g).plus(d),w.precision=j,t==null?(Dr=!0,pr(y,j)):y;for(c=l=y=hl(y.minus(ts),y.plus(ts),f),h=pr(y.times(y),f),a=3;;){if(l=pr(l.times(h),f),d=c.plus(hl(l,new w(a),f)),Ti(d.d).slice(0,f)===Ti(c.d).slice(0,f))return c=c.times(2),i!==0&&(c=c.plus(Vw(w,f+2,j).times(i+""))),c=hl(c,new w(p),f),w.precision=j,t==null?(Dr=!0,pr(c,j)):c;c=d,a+=2}}function uD(e,t){var r,n,a;for((r=t.indexOf("."))>-1&&(t=t.replace(".","")),(n=t.search(/e/i))>0?(r<0&&(r=n),r+=+t.slice(n+1),t=t.substring(0,n)):r<0&&(r=t.length),n=0;t.charCodeAt(n)===48;)++n;for(a=t.length;t.charCodeAt(a-1)===48;)--a;if(t=t.slice(n,a),t){if(a-=n,r=r-n-1,e.e=ef(r/Sr),e.d=[],n=(r+1)%Sr,r<0&&(n+=Sr),n<a){for(n&&e.d.push(+t.slice(0,n)),a-=Sr;n<a;)e.d.push(+t.slice(n,n+=Sr));t=t.slice(n),n=Sr-t.length}else n-=a;for(;n--;)t+="0";if(e.d.push(+t),Dr&&(e.e>ax||e.e<-ax))throw Error(Nk+r)}else e.s=0,e.e=0,e.d=[0];return e}function pr(e,t,r){var n,a,i,l,c,d,f,h,p=e.d;for(l=1,i=p[0];i>=10;i/=10)l++;if(n=t-l,n<0)n+=Sr,a=t,f=p[h=0];else{if(h=Math.ceil((n+1)/Sr),i=p.length,h>=i)return e;for(f=i=p[h],l=1;i>=10;i/=10)l++;n%=Sr,a=n-Sr+l}if(r!==void 0&&(i=jc(10,l-a-1),c=f/i%10|0,d=t<0||p[h+1]!==void 0||f%i,d=r<4?(c||d)&&(r==0||r==(e.s<0?3:2)):c>5||c==5&&(r==4||d||r==6&&(n>0?a>0?f/jc(10,l-a):0:p[h-1])%10&1||r==(e.s<0?8:7))),t<1||!p[0])return d?(i=on(e),p.length=1,t=t-i-1,p[0]=jc(10,(Sr-t%Sr)%Sr),e.e=ef(-t/Sr)||0):(p.length=1,p[0]=e.e=e.s=0),e;if(n==0?(p.length=h,i=1,h--):(p.length=h+1,i=jc(10,Sr-n),p[h]=a>0?(f/jc(10,l-a)%jc(10,a)|0)*i:0),d)for(;;)if(h==0){(p[0]+=i)==Nn&&(p[0]=1,++e.e);break}else{if(p[h]+=i,p[h]!=Nn)break;p[h--]=0,i=1}for(n=p.length;p[--n]===0;)p.pop();if(Dr&&(e.e>ax||e.e<-ax))throw Error(Nk+on(e));return e}function QF(e,t){var r,n,a,i,l,c,d,f,h,p,g=e.constructor,y=g.precision;if(!e.s||!t.s)return t.s?t.s=-t.s:t=new g(e),Dr?pr(t,y):t;if(d=e.d,p=t.d,n=t.e,f=e.e,d=d.slice(),l=f-n,l){for(h=l<0,h?(r=d,l=-l,c=p.length):(r=p,n=f,c=d.length),a=Math.max(Math.ceil(y/Sr),c)+2,l>a&&(l=a,r.length=1),r.reverse(),a=l;a--;)r.push(0);r.reverse()}else{for(a=d.length,c=p.length,h=a<c,h&&(c=a),a=0;a<c;a++)if(d[a]!=p[a]){h=d[a]<p[a];break}l=0}for(h&&(r=d,d=p,p=r,t.s=-t.s),c=d.length,a=p.length-c;a>0;--a)d[c++]=0;for(a=p.length;a>l;){if(d[--a]<p[a]){for(i=a;i&&d[--i]===0;)d[i]=Nn-1;--d[i],d[a]+=Nn}d[a]-=p[a]}for(;d[--c]===0;)d.pop();for(;d[0]===0;d.shift())--n;return d[0]?(t.d=d,t.e=n,Dr?pr(t,y):t):new g(0)}function tu(e,t,r){var n,a=on(e),i=Ti(e.d),l=i.length;return t?(r&&(n=r-l)>0?i=i.charAt(0)+"."+i.slice(1)+ho(n):l>1&&(i=i.charAt(0)+"."+i.slice(1)),i=i+(a<0?"e":"e+")+a):a<0?(i="0."+ho(-a-1)+i,r&&(n=r-l)>0&&(i+=ho(n))):a>=l?(i+=ho(a+1-l),r&&(n=r-a-1)>0&&(i=i+"."+ho(n))):((n=a+1)<l&&(i=i.slice(0,n)+"."+i.slice(n)),r&&(n=r-l)>0&&(a+1===l&&(i+="."),i+=ho(n))),e.s<0?"-"+i:i}function dD(e,t){if(e.length>t)return e.length=t,!0}function ZF(e){var t,r,n;function a(i){var l=this;if(!(l instanceof a))return new a(i);if(l.constructor=a,i instanceof a){l.s=i.s,l.e=i.e,l.d=(i=i.d)?i.slice():i;return}if(typeof i=="number"){if(i*0!==0)throw Error(Vc+i);if(i>0)l.s=1;else if(i<0)i=-i,l.s=-1;else{l.s=0,l.e=0,l.d=[0];return}if(i===~~i&&i<1e7){l.e=0,l.d=[i];return}return uD(l,i.toString())}else if(typeof i!="string")throw Error(Vc+i);if(i.charCodeAt(0)===45?(i=i.slice(1),l.s=-1):l.s=1,sle.test(i))uD(l,i);else throw Error(Vc+i)}if(a.prototype=Je,a.ROUND_UP=0,a.ROUND_DOWN=1,a.ROUND_CEIL=2,a.ROUND_FLOOR=3,a.ROUND_HALF_UP=4,a.ROUND_HALF_DOWN=5,a.ROUND_HALF_EVEN=6,a.ROUND_HALF_CEIL=7,a.ROUND_HALF_FLOOR=8,a.clone=ZF,a.config=a.set=ile,e===void 0&&(e={}),e)for(n=["precision","rounding","toExpNeg","toExpPos","LN10"],t=0;t<n.length;)e.hasOwnProperty(r=n[t++])||(e[r]=this[r]);return a.config(e),a}function ile(e){if(!e||typeof e!="object")throw Error(Hs+"Object expected");var t,r,n,a=["precision",1,Jd,"rounding",0,8,"toExpNeg",-1/0,0,"toExpPos",0,1/0];for(t=0;t<a.length;t+=3)if((n=e[r=a[t]])!==void 0)if(ef(n)===n&&n>=a[t+1]&&n<=a[t+2])this[r]=n;else throw Error(Vc+r+": "+n);if((n=e[r="LN10"])!==void 0)if(n==Math.LN10)this[r]=new this(n);else throw Error(Vc+r+": "+n);return this}var Sk=ZF(ale);ts=new Sk(1);const tr=Sk;var lle=e=>e,JF={},eL=e=>e===JF,fD=e=>function t(){return arguments.length===0||arguments.length===1&&eL(arguments.length<=0?void 0:arguments[0])?t:e(...arguments)},tL=(e,t)=>e===1?t:fD(function(){for(var r=arguments.length,n=new Array(r),a=0;a<r;a++)n[a]=arguments[a];var i=n.filter(l=>l!==JF).length;return i>=e?t(...n):tL(e-i,fD(function(){for(var l=arguments.length,c=new Array(l),d=0;d<l;d++)c[d]=arguments[d];var f=n.map(h=>eL(h)?c.shift():h);return t(...f,...c)}))}),xy=e=>tL(e.length,e),qj=(e,t)=>{for(var r=[],n=e;n<t;++n)r[n-e]=n;return r},ole=xy((e,t)=>Array.isArray(t)?t.map(e):Object.keys(t).map(r=>t[r]).map(e)),cle=function(){for(var t=arguments.length,r=new Array(t),n=0;n<t;n++)r[n]=arguments[n];if(!r.length)return lle;var a=r.reverse(),i=a[0],l=a.slice(1);return function(){return l.reduce((c,d)=>d(c),i(...arguments))}},Wj=e=>Array.isArray(e)?e.reverse():e.split("").reverse().join(""),rL=e=>{var t=null,r=null;return function(){for(var n=arguments.length,a=new Array(n),i=0;i<n;i++)a[i]=arguments[i];return t&&a.every((l,c)=>{var d;return l===((d=t)===null||d===void 0?void 0:d[c])})||(t=a,r=e(...a)),r}};function nL(e){var t;return e===0?t=1:t=Math.floor(new tr(e).abs().log(10).toNumber())+1,t}function aL(e,t,r){for(var n=new tr(e),a=0,i=[];n.lt(t)&&a<1e5;)i.push(n.toNumber()),n=n.add(r),a++;return i}xy((e,t,r)=>{var n=+e,a=+t;return n+r*(a-n)});xy((e,t,r)=>{var n=t-+e;return n=n||1/0,(r-e)/n});xy((e,t,r)=>{var n=t-+e;return n=n||1/0,Math.max(0,Math.min(1,(r-e)/n))});var sL=e=>{var[t,r]=e,[n,a]=[t,r];return t>r&&([n,a]=[r,t]),[n,a]},iL=(e,t,r)=>{if(e.lte(0))return new tr(0);var n=nL(e.toNumber()),a=new tr(10).pow(n),i=e.div(a),l=n!==1?.05:.1,c=new tr(Math.ceil(i.div(l).toNumber())).add(r).mul(l),d=c.mul(a);return t?new tr(d.toNumber()):new tr(Math.ceil(d.toNumber()))},ule=(e,t,r)=>{var n=new tr(1),a=new tr(e);if(!a.isint()&&r){var i=Math.abs(e);i<1?(n=new tr(10).pow(nL(e)-1),a=new tr(Math.floor(a.div(n).toNumber())).mul(n)):i>1&&(a=new tr(Math.floor(e)))}else e===0?a=new tr(Math.floor((t-1)/2)):r||(a=new tr(Math.floor(e)));var l=Math.floor((t-1)/2),c=cle(ole(d=>a.add(new tr(d-l).mul(n)).toNumber()),qj);return c(0,t)},lL=function(t,r,n,a){var i=arguments.length>4&&arguments[4]!==void 0?arguments[4]:0;if(!Number.isFinite((r-t)/(n-1)))return{step:new tr(0),tickMin:new tr(0),tickMax:new tr(0)};var l=iL(new tr(r).sub(t).div(n-1),a,i),c;t<=0&&r>=0?c=new tr(0):(c=new tr(t).add(r).div(2),c=c.sub(new tr(c).mod(l)));var d=Math.ceil(c.sub(t).div(l).toNumber()),f=Math.ceil(new tr(r).sub(c).div(l).toNumber()),h=d+f+1;return h>n?lL(t,r,n,a,i+1):(h<n&&(f=r>0?f+(n-h):f,d=r>0?d:d+(n-h)),{step:l,tickMin:c.sub(new tr(d).mul(l)),tickMax:c.add(new tr(f).mul(l))})};function dle(e){var[t,r]=e,n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:6,a=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0,i=Math.max(n,2),[l,c]=sL([t,r]);if(l===-1/0||c===1/0){var d=c===1/0?[l,...qj(0,n-1).map(()=>1/0)]:[...qj(0,n-1).map(()=>-1/0),c];return t>r?Wj(d):d}if(l===c)return ule(l,n,a);var{step:f,tickMin:h,tickMax:p}=lL(l,c,i,a,0),g=aL(h,p.add(new tr(.1).mul(f)),f);return t>r?Wj(g):g}function fle(e,t){var[r,n]=e,a=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0,[i,l]=sL([r,n]);if(i===-1/0||l===1/0)return[r,n];if(i===l)return[i];var c=Math.max(t,2),d=iL(new tr(l).sub(i).div(c-1),a,0),f=[...aL(new tr(i),new tr(l),d),l];return a===!1&&(f=f.map(h=>Math.round(h))),r>n?Wj(f):f}var hle=rL(dle),mle=rL(fle),oL=e=>e.rootProps.maxBarSize,ple=e=>e.rootProps.barGap,cL=e=>e.rootProps.barCategoryGap,gle=e=>e.rootProps.barSize,om=e=>e.rootProps.stackOffset,kk=e=>e.options.chartName,_k=e=>e.rootProps.syncId,uL=e=>e.rootProps.syncMethod,Ek=e=>e.options.eventEmitter,al={allowDuplicatedCategory:!0,angleAxisId:0,reversed:!1,scale:"auto",tick:!0,type:"category"},Ya={allowDataOverflow:!1,allowDuplicatedCategory:!0,radiusAxisId:0,scale:"auto",tick:!0,tickCount:5,type:"number"},yy=(e,t)=>{if(!(!e||!t))return e!=null&&e.reversed?[t[1],t[0]]:t},xle={allowDataOverflow:!1,allowDecimals:!1,allowDuplicatedCategory:!1,dataKey:void 0,domain:void 0,id:al.angleAxisId,includeHidden:!1,name:void 0,reversed:al.reversed,scale:al.scale,tick:al.tick,tickCount:void 0,ticks:void 0,type:al.type,unit:void 0},yle={allowDataOverflow:Ya.allowDataOverflow,allowDecimals:!1,allowDuplicatedCategory:Ya.allowDuplicatedCategory,dataKey:void 0,domain:void 0,id:Ya.radiusAxisId,includeHidden:!1,name:void 0,reversed:!1,scale:Ya.scale,tick:Ya.tick,tickCount:Ya.tickCount,ticks:void 0,type:Ya.type,unit:void 0},vle={allowDataOverflow:!1,allowDecimals:!1,allowDuplicatedCategory:al.allowDuplicatedCategory,dataKey:void 0,domain:void 0,id:al.angleAxisId,includeHidden:!1,name:void 0,reversed:!1,scale:al.scale,tick:al.tick,tickCount:void 0,ticks:void 0,type:"number",unit:void 0},ble={allowDataOverflow:Ya.allowDataOverflow,allowDecimals:!1,allowDuplicatedCategory:Ya.allowDuplicatedCategory,dataKey:void 0,domain:void 0,id:Ya.radiusAxisId,includeHidden:!1,name:void 0,reversed:!1,scale:Ya.scale,tick:Ya.tick,tickCount:Ya.tickCount,ticks:void 0,type:"category",unit:void 0},Ak=(e,t)=>e.polarAxis.angleAxis[t]!=null?e.polarAxis.angleAxis[t]:e.layout.layoutType==="radial"?vle:xle,Tk=(e,t)=>e.polarAxis.radiusAxis[t]!=null?e.polarAxis.radiusAxis[t]:e.layout.layoutType==="radial"?ble:yle,vy=e=>e.polarOptions,Ck=ke([Cl,Ol,xn],GI),dL=ke([vy,Ck],(e,t)=>{if(e!=null)return fa(e.innerRadius,t,0)}),fL=ke([vy,Ck],(e,t)=>{if(e!=null)return fa(e.outerRadius,t,t*.8)}),wle=e=>{if(e==null)return[0,0];var{startAngle:t,endAngle:r}=e;return[t,r]},hL=ke([vy],wle);ke([Ak,hL],yy);var mL=ke([Ck,dL,fL],(e,t,r)=>{if(!(e==null||t==null||r==null))return[t,r]});ke([Tk,mL],yy);var jle=ke([Ht,vy,dL,fL,Cl,Ol],(e,t,r,n,a,i)=>{if(!(e!=="centric"&&e!=="radial"||t==null||r==null||n==null)){var{cx:l,cy:c,startAngle:d,endAngle:f}=t;return{cx:fa(l,a,a/2),cy:fa(c,i,i/2),innerRadius:r,outerRadius:n,startAngle:d,endAngle:f,clockWise:!1}}}),Xr=(e,t)=>t,cm=(e,t,r)=>r;function hD(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function sx(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?hD(Object(r),!0).forEach(function(n){Nle(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):hD(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Nle(e,t,r){return(t=Sle(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Sle(e){var t=kle(e,"string");return typeof t=="symbol"?t:t+""}function kle(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var Gj=[0,"auto"],qa={allowDataOverflow:!1,allowDecimals:!0,allowDuplicatedCategory:!0,angle:0,dataKey:void 0,domain:void 0,height:30,hide:!0,id:0,includeHidden:!1,interval:"preserveEnd",minTickGap:5,mirror:!1,name:void 0,orientation:"bottom",padding:{left:0,right:0},reversed:!1,scale:"auto",tick:!0,tickCount:5,tickFormatter:void 0,ticks:void 0,type:"category",unit:void 0},Pl=(e,t)=>{var r=e.cartesianAxis.xAxis[t];return r??qa},Wa={allowDataOverflow:!1,allowDecimals:!0,allowDuplicatedCategory:!0,angle:0,dataKey:void 0,domain:Gj,hide:!0,id:0,includeHidden:!1,interval:"preserveEnd",minTickGap:5,mirror:!1,name:void 0,orientation:"left",padding:{top:0,bottom:0},reversed:!1,scale:"auto",tick:!0,tickCount:5,tickFormatter:void 0,ticks:void 0,type:"number",unit:void 0,width:ly},Go=(e,t)=>{var r=e.cartesianAxis.yAxis[t];return r??Wa},_le={domain:[0,"auto"],includeHidden:!1,reversed:!1,allowDataOverflow:!1,allowDuplicatedCategory:!1,dataKey:void 0,id:0,name:"",range:[64,64],scale:"auto",type:"number",unit:""},Ok=(e,t)=>{var r=e.cartesianAxis.zAxis[t];return r??_le},Qr=(e,t,r)=>{switch(t){case"xAxis":return Pl(e,r);case"yAxis":return Go(e,r);case"zAxis":return Ok(e,r);case"angleAxis":return Ak(e,r);case"radiusAxis":return Tk(e,r);default:throw new Error("Unexpected axis type: ".concat(t))}},Ele=(e,t,r)=>{switch(t){case"xAxis":return Pl(e,r);case"yAxis":return Go(e,r);default:throw new Error("Unexpected axis type: ".concat(t))}},um=(e,t,r)=>{switch(t){case"xAxis":return Pl(e,r);case"yAxis":return Go(e,r);case"angleAxis":return Ak(e,r);case"radiusAxis":return Tk(e,r);default:throw new Error("Unexpected axis type: ".concat(t))}},pL=e=>e.graphicalItems.countOfBars>0;function Dk(e,t){return r=>{switch(e){case"xAxis":return"xAxisId"in r&&r.xAxisId===t;case"yAxis":return"yAxisId"in r&&r.yAxisId===t;case"zAxis":return"zAxisId"in r&&r.zAxisId===t;case"angleAxis":return"angleAxisId"in r&&r.angleAxisId===t;case"radiusAxis":return"radiusAxisId"in r&&r.radiusAxisId===t;default:return!1}}}var by=e=>e.graphicalItems.cartesianItems,Ale=ke([Xr,cm],Dk),Pk=(e,t,r)=>e.filter(r).filter(n=>t?.includeHidden===!0?!0:!n.hide),dm=ke([by,Qr,Ale],Pk),gL=e=>e.filter(t=>t.stackId===void 0),Tle=ke([dm],gL),Mk=e=>e.map(t=>t.data).filter(Boolean).flat(1),Cle=ke([dm],Mk),Rk=(e,t)=>{var{chartData:r=[],dataStartIndex:n,dataEndIndex:a}=t;return e.length>0?e:r.slice(n,a+1)},wy=ke([Cle,jk],Rk),Ik=(e,t,r)=>t?.dataKey!=null?e.map(n=>({value:kr(n,t.dataKey)})):r.length>0?r.map(n=>n.dataKey).flatMap(n=>e.map(a=>({value:kr(a,n)}))):e.map(n=>({value:n})),jy=ke([wy,Qr,dm],Ik);function xL(e,t){switch(e){case"xAxis":return t.direction==="x";case"yAxis":return t.direction==="y";default:return!1}}function fu(e){return e.filter(t=>Ri(t)||t instanceof Date).map(Number).filter(t=>ls(t)===!1)}function Ole(e,t,r){return!r||typeof t!="number"||ls(t)?[]:r.length?fu(r.flatMap(n=>{var a=kr(e,n.dataKey),i,l;if(Array.isArray(a)?[i,l]=a:i=l=a,!(!us(i)||!us(l)))return[t-i,t+l]})):[]}var yL=(e,t,r)=>{var n={},a=t.reduce((i,l)=>(l.stackId==null||(i[l.stackId]==null&&(i[l.stackId]=[]),i[l.stackId].push(l)),i),n);return Object.fromEntries(Object.entries(a).map(i=>{var[l,c]=i,d=c.map(f=>f.dataKey);return[l,{stackedData:Ore(e,d,r),graphicalItems:c}]}))},Kj=ke([wy,dm,om],yL),vL=(e,t,r)=>{var{dataStartIndex:n,dataEndIndex:a}=t;if(r!=="zAxis"){var i=Rre(e,n,a);if(!(i!=null&&i[0]===0&&i[1]===0))return i}},Dle=ke([Kj,du,Xr],vL),bL=(e,t,r,n)=>r.length>0?e.flatMap(a=>r.flatMap(i=>{var l,c,d=(l=i.errorBars)===null||l===void 0?void 0:l.filter(h=>xL(n,h)),f=kr(a,(c=t.dataKey)!==null&&c!==void 0?c:i.dataKey);return{value:f,errorDomain:Ole(a,f,d)}})).filter(Boolean):t?.dataKey!=null?e.map(a=>({value:kr(a,t.dataKey),errorDomain:[]})):e.map(a=>({value:a,errorDomain:[]})),Ple=ke(wy,Qr,Tle,Xr,bL);function Mle(e){var{value:t}=e;if(Ri(t)||t instanceof Date)return t}var Rle=e=>{var t=e.flatMap(n=>[n.value,n.errorDomain]).flat(1),r=fu(t);if(r.length!==0)return[Math.min(...r),Math.max(...r)]},Ile=(e,t,r)=>{var n=e.map(Mle).filter(a=>a!=null);return r&&(t.dataKey==null||t.allowDuplicatedCategory&&H8(n))?hF(0,e.length):t.allowDuplicatedCategory?n:Array.from(new Set(n))},Fk=e=>{var t;if(e==null||!("domain"in e))return Gj;if(e.domain!=null)return e.domain;if(e.ticks!=null){if(e.type==="number"){var r=fu(e.ticks);return[Math.min(...r),Math.max(...r)]}if(e.type==="category")return e.ticks.map(String)}return(t=e?.domain)!==null&&t!==void 0?t:Gj},Lk=function(){for(var t=arguments.length,r=new Array(t),n=0;n<t;n++)r[n]=arguments[n];var a=r.filter(Boolean);if(a.length!==0){var i=a.flat(),l=Math.min(...i),c=Math.max(...i);return[l,c]}},wL=e=>e.referenceElements.dots,tf=(e,t,r)=>e.filter(n=>n.ifOverflow==="extendDomain").filter(n=>t==="xAxis"?n.xAxisId===r:n.yAxisId===r),Fle=ke([wL,Xr,cm],tf),jL=e=>e.referenceElements.areas,Lle=ke([jL,Xr,cm],tf),NL=e=>e.referenceElements.lines,Ble=ke([NL,Xr,cm],tf),SL=(e,t)=>{var r=fu(e.map(n=>t==="xAxis"?n.x:n.y));if(r.length!==0)return[Math.min(...r),Math.max(...r)]},$le=ke(Fle,Xr,SL),kL=(e,t)=>{var r=fu(e.flatMap(n=>[t==="xAxis"?n.x1:n.y1,t==="xAxis"?n.x2:n.y2]));if(r.length!==0)return[Math.min(...r),Math.max(...r)]},Ule=ke([Lle,Xr],kL),_L=(e,t)=>{var r=fu(e.map(n=>t==="xAxis"?n.x:n.y));if(r.length!==0)return[Math.min(...r),Math.max(...r)]},zle=ke(Ble,Xr,_L),Hle=ke($le,zle,Ule,(e,t,r)=>Lk(e,r,t)),EL=ke([Qr],Fk),Bk=(e,t,r,n,a)=>{var i=rle(t,e.allowDataOverflow);return i??nle(t,Lk(r,a,Rle(n)),e.allowDataOverflow)},Vle=ke([Qr,EL,Dle,Ple,Hle],Bk),qle=[0,1],$k=(e,t,r,n,a,i,l)=>{if(!(e==null||r==null||r.length===0)){var{dataKey:c,type:d}=e,f=Vo(t,i);return f&&c==null?hF(0,r.length):d==="category"?Ile(n,e,f):a==="expand"?qle:l}},Uk=ke([Qr,Ht,wy,jy,om,Xr,Vle],$k),AL=(e,t,r,n,a)=>{if(e!=null){var{scale:i,type:l}=e;if(i==="auto")return t==="radial"&&a==="radiusAxis"?"band":t==="radial"&&a==="angleAxis"?"linear":l==="category"&&n&&(n.indexOf("LineChart")>=0||n.indexOf("AreaChart")>=0||n.indexOf("ComposedChart")>=0&&!r)?"point":l==="category"?"band":"linear";if(typeof i=="string"){var c="scale".concat(em(i));return c in M0?c:"point"}}},rf=ke([Qr,Ht,pL,kk,Xr],AL);function Wle(e){if(e!=null){if(e in M0)return M0[e]();var t="scale".concat(em(e));if(t in M0)return M0[t]()}}function zk(e,t,r,n){if(!(r==null||n==null)){if(typeof e.scale=="function")return e.scale.copy().domain(r).range(n);var a=Wle(t);if(a!=null){var i=a.domain(r).range(n);return _re(i),i}}}var Hk=(e,t,r)=>{var n=Fk(t);if(!(r!=="auto"&&r!=="linear")){if(t!=null&&t.tickCount&&Array.isArray(n)&&(n[0]==="auto"||n[1]==="auto")&&Md(e))return hle(e,t.tickCount,t.allowDecimals);if(t!=null&&t.tickCount&&t.type==="number"&&Md(e))return mle(e,t.tickCount,t.allowDecimals)}},Vk=ke([Uk,um,rf],Hk),qk=(e,t,r,n)=>{if(n!=="angleAxis"&&e?.type==="number"&&Md(t)&&Array.isArray(r)&&r.length>0){var a=t[0],i=r[0],l=t[1],c=r[r.length-1];return[Math.min(a,i),Math.max(l,c)]}return t},Gle=ke([Qr,Uk,Vk,Xr],qk),Kle=ke(jy,Qr,(e,t)=>{if(!(!t||t.type!=="number")){var r=1/0,n=Array.from(fu(e.map(c=>c.value))).sort((c,d)=>c-d);if(n.length<2)return 1/0;var a=n[n.length-1]-n[0];if(a===0)return 1/0;for(var i=0;i<n.length-1;i++){var l=n[i+1]-n[i];r=Math.min(r,l)}return r/a}}),TL=ke(Kle,Ht,cL,xn,(e,t,r,n)=>n,(e,t,r,n,a)=>{if(!us(e))return 0;var i=t==="vertical"?n.height:n.width;if(a==="gap")return e*i/2;if(a==="no-gap"){var l=fa(r,e*i),c=e*i/2;return c-l-(c-l)/i*l}return 0}),Yle=(e,t)=>{var r=Pl(e,t);return r==null||typeof r.padding!="string"?0:TL(e,"xAxis",t,r.padding)},Xle=(e,t)=>{var r=Go(e,t);return r==null||typeof r.padding!="string"?0:TL(e,"yAxis",t,r.padding)},Qle=ke(Pl,Yle,(e,t)=>{var r,n;if(e==null)return{left:0,right:0};var{padding:a}=e;return typeof a=="string"?{left:t,right:t}:{left:((r=a.left)!==null&&r!==void 0?r:0)+t,right:((n=a.right)!==null&&n!==void 0?n:0)+t}}),Zle=ke(Go,Xle,(e,t)=>{var r,n;if(e==null)return{top:0,bottom:0};var{padding:a}=e;return typeof a=="string"?{top:t,bottom:t}:{top:((r=a.top)!==null&&r!==void 0?r:0)+t,bottom:((n=a.bottom)!==null&&n!==void 0?n:0)+t}}),Jle=ke([xn,Qle,cy,oy,(e,t,r)=>r],(e,t,r,n,a)=>{var{padding:i}=n;return a?[i.left,r.width-i.right]:[e.left+t.left,e.left+e.width-t.right]}),eoe=ke([xn,Ht,Zle,cy,oy,(e,t,r)=>r],(e,t,r,n,a,i)=>{var{padding:l}=a;return i?[n.height-l.bottom,l.top]:t==="horizontal"?[e.top+e.height-r.bottom,e.top+r.top]:[e.top+r.top,e.top+e.height-r.bottom]}),fm=(e,t,r,n)=>{var a;switch(t){case"xAxis":return Jle(e,r,n);case"yAxis":return eoe(e,r,n);case"zAxis":return(a=Ok(e,r))===null||a===void 0?void 0:a.range;case"angleAxis":return hL(e);case"radiusAxis":return mL(e,r);default:return}},CL=ke([Qr,fm],yy),nf=ke([Qr,rf,Gle,CL],zk);ke(dm,Xr,(e,t)=>e.flatMap(r=>{var n;return(n=r.errorBars)!==null&&n!==void 0?n:[]}).filter(r=>xL(t,r)));function OL(e,t){return e.id<t.id?-1:e.id>t.id?1:0}var Ny=(e,t)=>t,Sy=(e,t,r)=>r,toe=ke(VS,Ny,Sy,(e,t,r)=>e.filter(n=>n.orientation===t).filter(n=>n.mirror===r).sort(OL)),roe=ke(qS,Ny,Sy,(e,t,r)=>e.filter(n=>n.orientation===t).filter(n=>n.mirror===r).sort(OL)),DL=(e,t)=>({width:e.width,height:t.height}),noe=(e,t)=>{var r=typeof t.width=="number"?t.width:ly;return{width:r,height:e.height}},PL=ke(xn,Pl,DL),aoe=(e,t,r)=>{switch(t){case"top":return e.top;case"bottom":return r-e.bottom;default:return 0}},soe=(e,t,r)=>{switch(t){case"left":return e.left;case"right":return r-e.right;default:return 0}},ioe=ke(Ol,xn,toe,Ny,Sy,(e,t,r,n,a)=>{var i={},l;return r.forEach(c=>{var d=DL(t,c);l==null&&(l=aoe(t,n,e));var f=n==="top"&&!a||n==="bottom"&&a;i[c.id]=l-Number(f)*d.height,l+=(f?-1:1)*d.height}),i}),loe=ke(Cl,xn,roe,Ny,Sy,(e,t,r,n,a)=>{var i={},l;return r.forEach(c=>{var d=noe(t,c);l==null&&(l=soe(t,n,e));var f=n==="left"&&!a||n==="right"&&a;i[c.id]=l-Number(f)*d.width,l+=(f?-1:1)*d.width}),i}),ooe=(e,t)=>{var r=xn(e),n=Pl(e,t);if(n!=null){var a=ioe(e,n.orientation,n.mirror),i=a[t];return i==null?{x:r.left,y:0}:{x:r.left,y:i}}},coe=(e,t)=>{var r=xn(e),n=Go(e,t);if(n!=null){var a=loe(e,n.orientation,n.mirror),i=a[t];return i==null?{x:0,y:r.top}:{x:i,y:r.top}}},ML=ke(xn,Go,(e,t)=>{var r=typeof t.width=="number"?t.width:ly;return{width:r,height:e.height}}),mD=(e,t,r)=>{switch(t){case"xAxis":return PL(e,r).width;case"yAxis":return ML(e,r).height;default:return}},RL=(e,t,r,n)=>{if(r!=null){var{allowDuplicatedCategory:a,type:i,dataKey:l}=r,c=Vo(e,n),d=t.map(f=>f.value);if(l&&c&&i==="category"&&a&&H8(d))return d}},Wk=ke([Ht,jy,Qr,Xr],RL),IL=(e,t,r,n)=>{if(!(r==null||r.dataKey==null)){var{type:a,scale:i}=r,l=Vo(e,n);if(l&&(a==="number"||i!=="auto"))return t.map(c=>c.value)}},Gk=ke([Ht,jy,um,Xr],IL),pD=ke([Ht,Ele,rf,nf,Wk,Gk,fm,Vk,Xr],(e,t,r,n,a,i,l,c,d)=>{if(t==null)return null;var f=Vo(e,d);return{angle:t.angle,interval:t.interval,minTickGap:t.minTickGap,orientation:t.orientation,tick:t.tick,tickCount:t.tickCount,tickFormatter:t.tickFormatter,ticks:t.ticks,type:t.type,unit:t.unit,axisType:d,categoricalDomain:i,duplicateDomain:a,isCategorical:f,niceTicks:c,range:l,realScaleType:r,scale:n}}),uoe=(e,t,r,n,a,i,l,c,d)=>{if(!(t==null||n==null)){var f=Vo(e,d),{type:h,ticks:p,tickCount:g}=t,y=r==="scaleBand"&&typeof n.bandwidth=="function"?n.bandwidth()/2:2,b=h==="category"&&n.bandwidth?n.bandwidth()/y:0;b=d==="angleAxis"&&i!=null&&i.length>=2?kn(i[0]-i[1])*2*b:b;var w=p||a;if(w){var j=w.map((S,_)=>{var E=l?l.indexOf(S):S;return{index:_,coordinate:n(E)+b,value:S,offset:b}});return j.filter(S=>!ls(S.coordinate))}return f&&c?c.map((S,_)=>({coordinate:n(S)+b,value:S,index:_,offset:b})):n.ticks?n.ticks(g).map(S=>({coordinate:n(S)+b,value:S,offset:b})):n.domain().map((S,_)=>({coordinate:n(S)+b,value:l?l[S]:S,index:_,offset:b}))}},FL=ke([Ht,um,rf,nf,Vk,fm,Wk,Gk,Xr],uoe),doe=(e,t,r,n,a,i,l)=>{if(!(t==null||r==null||n==null||n[0]===n[1])){var c=Vo(e,l),{tickCount:d}=t,f=0;return f=l==="angleAxis"&&n?.length>=2?kn(n[0]-n[1])*2*f:f,c&&i?i.map((h,p)=>({coordinate:r(h)+f,value:h,index:p,offset:f})):r.ticks?r.ticks(d).map(h=>({coordinate:r(h)+f,value:h,offset:f})):r.domain().map((h,p)=>({coordinate:r(h)+f,value:a?a[h]:h,index:p,offset:f}))}},Mo=ke([Ht,um,nf,fm,Wk,Gk,Xr],doe),Fi=ke(Qr,nf,(e,t)=>{if(!(e==null||t==null))return sx(sx({},e),{},{scale:t})}),foe=ke([Qr,rf,Uk,CL],zk);ke((e,t,r)=>Ok(e,r),foe,(e,t)=>{if(!(e==null||t==null))return sx(sx({},e),{},{scale:t})});var hoe=ke([Ht,VS,qS],(e,t,r)=>{switch(e){case"horizontal":return t.some(n=>n.reversed)?"right-to-left":"left-to-right";case"vertical":return r.some(n=>n.reversed)?"bottom-to-top":"top-to-bottom";case"centric":case"radial":return"left-to-right";default:return}}),LL=e=>e.options.defaultTooltipEventType,BL=e=>e.options.validateTooltipEventTypes;function $L(e,t,r){if(e==null)return t;var n=e?"axis":"item";return r==null?t:r.includes(n)?n:t}function Kk(e,t){var r=LL(e),n=BL(e);return $L(t,r,n)}function moe(e){return nt(t=>Kk(t,e))}var UL=(e,t)=>{var r,n=Number(t);if(!(ls(n)||t==null))return n>=0?e==null||(r=e[n])===null||r===void 0?void 0:r.value:void 0},poe=e=>e.tooltip.settings,mo={active:!1,index:null,dataKey:void 0,coordinate:void 0},goe={itemInteraction:{click:mo,hover:mo},axisInteraction:{click:mo,hover:mo},keyboardInteraction:mo,syncInteraction:{active:!1,index:null,dataKey:void 0,label:void 0,coordinate:void 0},tooltipItemPayloads:[],settings:{shared:void 0,trigger:"hover",axisId:0,active:!1,defaultIndex:void 0}},zL=Vs({name:"tooltip",initialState:goe,reducers:{addTooltipEntrySettings(e,t){e.tooltipItemPayloads.push(t.payload)},removeTooltipEntrySettings(e,t){var r=fl(e).tooltipItemPayloads.indexOf(t.payload);r>-1&&e.tooltipItemPayloads.splice(r,1)},setTooltipSettingsState(e,t){e.settings=t.payload},setActiveMouseOverItemIndex(e,t){e.syncInteraction.active=!1,e.keyboardInteraction.active=!1,e.itemInteraction.hover.active=!0,e.itemInteraction.hover.index=t.payload.activeIndex,e.itemInteraction.hover.dataKey=t.payload.activeDataKey,e.itemInteraction.hover.coordinate=t.payload.activeCoordinate},mouseLeaveChart(e){e.itemInteraction.hover.active=!1,e.axisInteraction.hover.active=!1},mouseLeaveItem(e){e.itemInteraction.hover.active=!1},setActiveClickItemIndex(e,t){e.syncInteraction.active=!1,e.itemInteraction.click.active=!0,e.keyboardInteraction.active=!1,e.itemInteraction.click.index=t.payload.activeIndex,e.itemInteraction.click.dataKey=t.payload.activeDataKey,e.itemInteraction.click.coordinate=t.payload.activeCoordinate},setMouseOverAxisIndex(e,t){e.syncInteraction.active=!1,e.axisInteraction.hover.active=!0,e.keyboardInteraction.active=!1,e.axisInteraction.hover.index=t.payload.activeIndex,e.axisInteraction.hover.dataKey=t.payload.activeDataKey,e.axisInteraction.hover.coordinate=t.payload.activeCoordinate},setMouseClickAxisIndex(e,t){e.syncInteraction.active=!1,e.keyboardInteraction.active=!1,e.axisInteraction.click.active=!0,e.axisInteraction.click.index=t.payload.activeIndex,e.axisInteraction.click.dataKey=t.payload.activeDataKey,e.axisInteraction.click.coordinate=t.payload.activeCoordinate},setSyncInteraction(e,t){e.syncInteraction=t.payload},setKeyboardInteraction(e,t){e.keyboardInteraction.active=t.payload.active,e.keyboardInteraction.index=t.payload.activeIndex,e.keyboardInteraction.coordinate=t.payload.activeCoordinate,e.keyboardInteraction.dataKey=t.payload.activeDataKey}}}),{addTooltipEntrySettings:xoe,removeTooltipEntrySettings:yoe,setTooltipSettingsState:voe,setActiveMouseOverItemIndex:HL,mouseLeaveItem:boe,mouseLeaveChart:VL,setActiveClickItemIndex:woe,setMouseOverAxisIndex:qL,setMouseClickAxisIndex:joe,setSyncInteraction:Yj,setKeyboardInteraction:Xj}=zL.actions,Noe=zL.reducer;function gD(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function Xp(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?gD(Object(r),!0).forEach(function(n){Soe(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):gD(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Soe(e,t,r){return(t=koe(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function koe(e){var t=_oe(e,"string");return typeof t=="symbol"?t:t+""}function _oe(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Eoe(e,t,r){return t==="axis"?r==="click"?e.axisInteraction.click:e.axisInteraction.hover:r==="click"?e.itemInteraction.click:e.itemInteraction.hover}function Aoe(e){return e.index!=null}var WL=(e,t,r,n)=>{if(t==null)return mo;var a=Eoe(e,t,r);if(a==null)return mo;if(a.active)return a;if(e.keyboardInteraction.active)return e.keyboardInteraction;if(e.syncInteraction.active&&e.syncInteraction.index!=null)return e.syncInteraction;var i=e.settings.active===!0;if(Aoe(a)){if(i)return Xp(Xp({},a),{},{active:!0})}else if(n!=null)return{active:!0,coordinate:void 0,dataKey:void 0,index:n};return Xp(Xp({},mo),{},{coordinate:a.coordinate})},Yk=(e,t)=>{var r=e?.index;if(r==null)return null;var n=Number(r);if(!us(n))return r;var a=0,i=1/0;return t.length>0&&(i=t.length-1),String(Math.max(a,Math.min(n,i)))},GL=(e,t,r,n,a,i,l,c)=>{if(!(i==null||c==null)){var d=l[0],f=d==null?void 0:c(d.positions,i);if(f!=null)return f;var h=a?.[Number(i)];if(h)switch(r){case"horizontal":return{x:h.coordinate,y:(n.top+t)/2};default:return{x:(n.left+e)/2,y:h.coordinate}}}},KL=(e,t,r,n)=>{if(t==="axis")return e.tooltipItemPayloads;if(e.tooltipItemPayloads.length===0)return[];var a;return r==="hover"?a=e.itemInteraction.hover.dataKey:a=e.itemInteraction.click.dataKey,a==null&&n!=null?[e.tooltipItemPayloads[0]]:e.tooltipItemPayloads.filter(i=>{var l;return((l=i.settings)===null||l===void 0?void 0:l.dataKey)===a})},hm=e=>e.options.tooltipPayloadSearcher,af=e=>e.tooltip;function xD(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function yD(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?xD(Object(r),!0).forEach(function(n){Toe(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):xD(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Toe(e,t,r){return(t=Coe(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Coe(e){var t=Ooe(e,"string");return typeof t=="symbol"?t:t+""}function Ooe(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Doe(e,t,r){return Array.isArray(e)&&e&&t+r!==0?e.slice(t,r+1):e}function Poe(e,t){return e??t}var YL=(e,t,r,n,a,i,l)=>{if(!(t==null||i==null)){var{chartData:c,computedData:d,dataStartIndex:f,dataEndIndex:h}=r,p=[];return e.reduce((g,y)=>{var b,{dataDefinedOnItem:w,settings:j}=y,S=Poe(w,c),_=Doe(S,f,h),E=(b=j?.dataKey)!==null&&b!==void 0?b:n?.dataKey,T=j?.nameKey,A;if(n!=null&&n.dataKey&&Array.isArray(_)&&!Array.isArray(_[0])&&l==="axis"?A=V8(_,n.dataKey,a):A=i(_,t,d,T),Array.isArray(A))A.forEach(O=>{var P=yD(yD({},j),{},{name:O.name,unit:O.unit,color:void 0,fill:void 0});g.push(ZO({tooltipEntrySettings:P,dataKey:O.dataKey,payload:O.payload,value:kr(O.payload,O.dataKey),name:O.name}))});else{var C;g.push(ZO({tooltipEntrySettings:j,dataKey:E,payload:A,value:kr(A,E),name:(C=kr(A,T))!==null&&C!==void 0?C:j?.name}))}return g},p)}},Dn=e=>{var t=Ht(e);return t==="horizontal"?"xAxis":t==="vertical"?"yAxis":t==="centric"?"angleAxis":"radiusAxis"},sf=e=>e.tooltip.settings.axisId,Yn=e=>{var t=Dn(e),r=sf(e);return um(e,t,r)},Xk=ke([Yn,Ht,pL,kk,Dn],AL),Moe=ke([e=>e.graphicalItems.cartesianItems,e=>e.graphicalItems.polarItems],(e,t)=>[...e,...t]),Roe=ke([Dn,sf],Dk),ky=ke([Moe,Yn,Roe],Pk),Ioe=ke([ky],Mk),hu=ke([Ioe,du],Rk),Qk=ke([hu,Yn,ky],Ik),Foe=ke([Yn],Fk),Loe=ke([hu,ky,om],yL),Boe=ke([Loe,du,Dn],vL),$oe=ke([ky],gL),Uoe=ke([hu,Yn,$oe,Dn],bL),zoe=ke([wL,Dn,sf],tf),Hoe=ke([zoe,Dn],SL),Voe=ke([jL,Dn,sf],tf),qoe=ke([Voe,Dn],kL),Woe=ke([NL,Dn,sf],tf),Goe=ke([Woe,Dn],_L),Koe=ke([Hoe,Goe,qoe],Lk),Yoe=ke([Yn,Foe,Boe,Uoe,Koe],Bk),XL=ke([Yn,Ht,hu,Qk,om,Dn,Yoe],$k),Xoe=ke([XL,Yn,Xk],Hk),Qoe=ke([Yn,XL,Xoe,Dn],qk),QL=e=>{var t=Dn(e),r=sf(e),n=!1;return fm(e,t,r,n)},ZL=ke([Yn,QL],yy),JL=ke([Yn,Xk,Qoe,ZL],zk),Zoe=ke([Ht,Qk,Yn,Dn],RL),Joe=ke([Ht,Qk,Yn,Dn],IL),ece=(e,t,r,n,a,i,l,c)=>{if(t){var{type:d}=t,f=Vo(e,c);if(n){var h=r==="scaleBand"&&n.bandwidth?n.bandwidth()/2:2,p=d==="category"&&n.bandwidth?n.bandwidth()/h:0;return p=c==="angleAxis"&&a!=null&&a?.length>=2?kn(a[0]-a[1])*2*p:p,f&&l?l.map((g,y)=>({coordinate:n(g)+p,value:g,index:y,offset:p})):n.domain().map((g,y)=>({coordinate:n(g)+p,value:i?i[g]:g,index:y,offset:p}))}}},Ml=ke([Ht,Yn,Xk,JL,QL,Zoe,Joe,Dn],ece),Zk=ke([LL,BL,poe],(e,t,r)=>$L(r.shared,e,t)),e7=e=>e.tooltip.settings.trigger,Jk=e=>e.tooltip.settings.defaultIndex,_y=ke([af,Zk,e7,Jk],WL),Ro=ke([_y,hu],Yk),t7=ke([Ml,Ro],UL),r7=ke([_y],e=>{if(e)return e.dataKey}),n7=ke([af,Zk,e7,Jk],KL),tce=ke([Cl,Ol,Ht,xn,Ml,Jk,n7,hm],GL),rce=ke([_y,tce],(e,t)=>e!=null&&e.coordinate?e.coordinate:t),nce=ke([_y],e=>e.active),ace=ke([n7,Ro,du,Yn,t7,hm,Zk],YL),sce=ke([ace],e=>{if(e!=null){var t=e.map(r=>r.payload).filter(r=>r!=null);return Array.from(new Set(t))}});function vD(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function bD(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?vD(Object(r),!0).forEach(function(n){ice(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):vD(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function ice(e,t,r){return(t=lce(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function lce(e){var t=oce(e,"string");return typeof t=="symbol"?t:t+""}function oce(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var cce=()=>nt(Yn),uce=()=>{var e=cce(),t=nt(Ml),r=nt(JL);return jh(bD(bD({},e),{},{scale:r}),t)},dce=()=>nt(kk),e_=(e,t)=>t,a7=(e,t,r)=>r,t_=(e,t,r,n)=>n,fce=ke(Ml,e=>ey(e,t=>t.coordinate)),r_=ke([af,e_,a7,t_],WL),s7=ke([r_,hu],Yk),hce=(e,t,r)=>{if(t!=null){var n=af(e);return t==="axis"?r==="hover"?n.axisInteraction.hover.dataKey:n.axisInteraction.click.dataKey:r==="hover"?n.itemInteraction.hover.dataKey:n.itemInteraction.click.dataKey}},i7=ke([af,e_,a7,t_],KL),ix=ke([Cl,Ol,Ht,xn,Ml,t_,i7,hm],GL),mce=ke([r_,ix],(e,t)=>{var r;return(r=e.coordinate)!==null&&r!==void 0?r:t}),l7=ke(Ml,s7,UL),pce=ke([i7,s7,du,Yn,l7,hm,e_],YL),gce=ke([r_],e=>({isActive:e.active,activeIndex:e.index})),xce=(e,t,r,n,a,i,l,c)=>{if(!(!e||!t||!n||!a||!i)){var d=Ire(e.chartX,e.chartY,t,r,c);if(d){var f=Lre(d,t),h=Sre(f,l,i,n,a),p=Fre(t,i,h,d);return{activeIndex:String(h),activeCoordinate:p}}}};function Qj(){return Qj=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Qj.apply(null,arguments)}function wD(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function Qp(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?wD(Object(r),!0).forEach(function(n){yce(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):wD(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function yce(e,t,r){return(t=vce(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function vce(e){var t=bce(e,"string");return typeof t=="symbol"?t:t+""}function bce(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function wce(e){var{coordinate:t,payload:r,index:n,offset:a,tooltipAxisBandSize:i,layout:l,cursor:c,tooltipEventType:d,chartName:f}=e,h=t,p=r,g=n;if(!c||!h||f!=="ScatterChart"&&d!=="axis")return null;var y,b;if(f==="ScatterChart")y=h,b=Rne;else if(f==="BarChart")y=Ine(l,h,a,i),b=cF;else if(l==="radial"){var{cx:w,cy:j,radius:S,startAngle:_,endAngle:E}=uF(h);y={cx:w,cy:j,startAngle:_,endAngle:E,innerRadius:S,outerRadius:S},b=fF}else y={points:jae(l,h,a)},b=XS;var T=typeof c=="object"&&"className"in c?c.className:void 0,A=Qp(Qp(Qp(Qp({stroke:"#ccc",pointerEvents:"none"},a),y),Et(c,!1)),{},{payload:p,payloadIndex:g,className:Bt("recharts-tooltip-cursor",T)});return v.isValidElement(c)?v.cloneElement(c,A):v.createElement(b,A)}function jce(e){var t=uce(),r=tF(),n=uy(),a=dce();return v.createElement(wce,Qj({},e,{coordinate:e.coordinate,index:e.index,payload:e.payload,offset:r,layout:n,tooltipAxisBandSize:t,chartName:a}))}var o7=v.createContext(null),Nce=()=>v.useContext(o7),qw={exports:{}},jD;function Sce(){return jD||(jD=1,function(e){var t=Object.prototype.hasOwnProperty,r="~";function n(){}Object.create&&(n.prototype=Object.create(null),new n().__proto__||(r=!1));function a(d,f,h){this.fn=d,this.context=f,this.once=h||!1}function i(d,f,h,p,g){if(typeof h!="function")throw new TypeError("The listener must be a function");var y=new a(h,p||d,g),b=r?r+f:f;return d._events[b]?d._events[b].fn?d._events[b]=[d._events[b],y]:d._events[b].push(y):(d._events[b]=y,d._eventsCount++),d}function l(d,f){--d._eventsCount===0?d._events=new n:delete d._events[f]}function c(){this._events=new n,this._eventsCount=0}c.prototype.eventNames=function(){var f=[],h,p;if(this._eventsCount===0)return f;for(p in h=this._events)t.call(h,p)&&f.push(r?p.slice(1):p);return Object.getOwnPropertySymbols?f.concat(Object.getOwnPropertySymbols(h)):f},c.prototype.listeners=function(f){var h=r?r+f:f,p=this._events[h];if(!p)return[];if(p.fn)return[p.fn];for(var g=0,y=p.length,b=new Array(y);g<y;g++)b[g]=p[g].fn;return b},c.prototype.listenerCount=function(f){var h=r?r+f:f,p=this._events[h];return p?p.fn?1:p.length:0},c.prototype.emit=function(f,h,p,g,y,b){var w=r?r+f:f;if(!this._events[w])return!1;var j=this._events[w],S=arguments.length,_,E;if(j.fn){switch(j.once&&this.removeListener(f,j.fn,void 0,!0),S){case 1:return j.fn.call(j.context),!0;case 2:return j.fn.call(j.context,h),!0;case 3:return j.fn.call(j.context,h,p),!0;case 4:return j.fn.call(j.context,h,p,g),!0;case 5:return j.fn.call(j.context,h,p,g,y),!0;case 6:return j.fn.call(j.context,h,p,g,y,b),!0}for(E=1,_=new Array(S-1);E<S;E++)_[E-1]=arguments[E];j.fn.apply(j.context,_)}else{var T=j.length,A;for(E=0;E<T;E++)switch(j[E].once&&this.removeListener(f,j[E].fn,void 0,!0),S){case 1:j[E].fn.call(j[E].context);break;case 2:j[E].fn.call(j[E].context,h);break;case 3:j[E].fn.call(j[E].context,h,p);break;case 4:j[E].fn.call(j[E].context,h,p,g);break;default:if(!_)for(A=1,_=new Array(S-1);A<S;A++)_[A-1]=arguments[A];j[E].fn.apply(j[E].context,_)}}return!0},c.prototype.on=function(f,h,p){return i(this,f,h,p,!1)},c.prototype.once=function(f,h,p){return i(this,f,h,p,!0)},c.prototype.removeListener=function(f,h,p,g){var y=r?r+f:f;if(!this._events[y])return this;if(!h)return l(this,y),this;var b=this._events[y];if(b.fn)b.fn===h&&(!g||b.once)&&(!p||b.context===p)&&l(this,y);else{for(var w=0,j=[],S=b.length;w<S;w++)(b[w].fn!==h||g&&!b[w].once||p&&b[w].context!==p)&&j.push(b[w]);j.length?this._events[y]=j.length===1?j[0]:j:l(this,y)}return this},c.prototype.removeAllListeners=function(f){var h;return f?(h=r?r+f:f,this._events[h]&&l(this,h)):(this._events=new n,this._eventsCount=0),this},c.prototype.off=c.prototype.removeListener,c.prototype.addListener=c.prototype.on,c.prefixed=r,c.EventEmitter=c,e.exports=c}(qw)),qw.exports}var kce=Sce();const _ce=fs(kce);var Th=new _ce,Zj="recharts.syncEvent.tooltip",ND="recharts.syncEvent.brush";function n_(e,t){if(t){var r=Number.parseInt(t,10);if(!ls(r))return e?.[r]}}var Ece={chartName:"",tooltipPayloadSearcher:void 0,eventEmitter:void 0,defaultTooltipEventType:"axis"},c7=Vs({name:"options",initialState:Ece,reducers:{createEventEmitter:e=>{e.eventEmitter==null&&(e.eventEmitter=Symbol("rechartsEventEmitter"))}}}),Ace=c7.reducer,{createEventEmitter:Tce}=c7.actions;function Cce(e){return e.tooltip.syncInteraction}var Oce={chartData:void 0,computedData:void 0,dataStartIndex:0,dataEndIndex:0},u7=Vs({name:"chartData",initialState:Oce,reducers:{setChartData(e,t){if(e.chartData=t.payload,t.payload==null){e.dataStartIndex=0,e.dataEndIndex=0;return}t.payload.length>0&&e.dataEndIndex!==t.payload.length-1&&(e.dataEndIndex=t.payload.length-1)},setComputedData(e,t){e.computedData=t.payload},setDataStartEndIndexes(e,t){var{startIndex:r,endIndex:n}=t.payload;r!=null&&(e.dataStartIndex=r),n!=null&&(e.dataEndIndex=n)}}}),{setChartData:SD,setDataStartEndIndexes:Dce,setComputedData:zTe}=u7.actions,Pce=u7.reducer,d7=()=>{};function Mce(){var e=nt(_k),t=nt(Ek),r=Mr(),n=nt(uL),a=nt(Ml),i=uy(),l=WS(),c=nt(d=>d.rootProps.className);v.useEffect(()=>{if(e==null)return d7;var d=(f,h,p)=>{if(t!==p&&e===f){if(n==="index"){r(h);return}if(a!=null){var g;if(typeof n=="function"){var y={activeTooltipIndex:h.payload.index==null?void 0:Number(h.payload.index),isTooltipActive:h.payload.active,activeIndex:h.payload.index==null?void 0:Number(h.payload.index),activeLabel:h.payload.label,activeDataKey:h.payload.dataKey,activeCoordinate:h.payload.coordinate},b=n(a,y);g=a[b]}else n==="value"&&(g=a.find(C=>String(C.value)===h.payload.label));var{coordinate:w}=h.payload;if(g==null||h.payload.active===!1||w==null||l==null){r(Yj({active:!1,coordinate:void 0,dataKey:void 0,index:null,label:void 0}));return}var{x:j,y:S}=w,_=Math.min(j,l.x+l.width),E=Math.min(S,l.y+l.height),T={x:i==="horizontal"?g.coordinate:_,y:i==="horizontal"?E:g.coordinate},A=Yj({active:h.payload.active,coordinate:T,dataKey:h.payload.dataKey,index:String(g.index),label:h.payload.label});r(A)}}};return Th.on(Zj,d),()=>{Th.off(Zj,d)}},[c,r,t,e,n,a,i,l])}function Rce(){var e=nt(_k),t=nt(Ek),r=Mr();v.useEffect(()=>{if(e==null)return d7;var n=(a,i,l)=>{t!==l&&e===a&&r(Dce(i))};return Th.on(ND,n),()=>{Th.off(ND,n)}},[r,t,e])}function Ice(){var e=Mr();v.useEffect(()=>{e(Tce())},[e]),Mce(),Rce()}function Fce(e,t,r,n,a,i){var l=nt(g=>hce(g,e,t)),c=nt(Ek),d=nt(_k),f=nt(uL),h=nt(Cce),p=h?.active;v.useEffect(()=>{if(!p&&d!=null&&c!=null){var g=Yj({active:i,coordinate:r,dataKey:l,index:a,label:typeof n=="number"?String(n):n});Th.emit(Zj,d,g,c)}},[p,r,l,a,n,c,d,f,i])}function kD(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function _D(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?kD(Object(r),!0).forEach(function(n){Lce(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):kD(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Lce(e,t,r){return(t=Bce(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Bce(e){var t=$ce(e,"string");return typeof t=="symbol"?t:t+""}function $ce(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Uce(e){return e.dataKey}function zce(e,t){return v.isValidElement(e)?v.cloneElement(e,t):typeof e=="function"?v.createElement(e,t):v.createElement(hne,t)}var ED=[],Hce={allowEscapeViewBox:{x:!1,y:!1},animationDuration:400,animationEasing:"ease",axisId:0,contentStyle:{},cursor:!0,filterNull:!0,isAnimationActive:!ou.isSsr,itemSorter:"name",itemStyle:{},labelStyle:{},offset:10,reverseDirection:{x:!1,y:!1},separator:" : ",trigger:"hover",useTranslate3d:!1,wrapperStyle:{}};function Ei(e){var t=qs(e,Hce),{active:r,allowEscapeViewBox:n,animationDuration:a,animationEasing:i,content:l,filterNull:c,isAnimationActive:d,offset:f,payloadUniqBy:h,position:p,reverseDirection:g,useTranslate3d:y,wrapperStyle:b,cursor:w,shared:j,trigger:S,defaultIndex:_,portal:E,axisId:T}=t,A=Mr(),C=typeof _=="number"?String(_):_;v.useEffect(()=>{A(voe({shared:j,trigger:S,axisId:T,active:r,defaultIndex:C}))},[A,j,S,T,r,C]);var O=WS(),P=sF(),F=moe(j),{activeIndex:G,isActive:W}=nt(V=>gce(V,F,S,C)),ee=nt(V=>pce(V,F,S,C)),ue=nt(V=>l7(V,F,S,C)),fe=nt(V=>mce(V,F,S,C)),Q=ee,K=Nce(),J=r??W,[se,xe]=jI([Q,J]),U=F==="axis"?ue:void 0;Fce(F,S,fe,U,G,J);var ae=E??K;if(ae==null)return null;var D=Q??ED;J||(D=ED),c&&D.length&&(D=xI(Q.filter(V=>V.value!=null&&(V.hide!==!0||t.includeHidden)),h,Uce));var H=D.length>0,B=v.createElement(bne,{allowEscapeViewBox:n,animationDuration:a,animationEasing:i,isAnimationActive:d,active:J,coordinate:fe,hasPayload:H,offset:f,position:p,reverseDirection:g,useTranslate3d:y,viewBox:O,wrapperStyle:b,lastBoundingBox:se,innerRef:xe,hasPortalFromProps:!!E},zce(l,_D(_D({},t),{},{payload:D,label:U,active:J,coordinate:fe,accessibilityLayer:P})));return v.createElement(v.Fragment,null,qd.createPortal(B,ae),J&&v.createElement(jce,{cursor:w,tooltipEventType:F,coordinate:fe,payload:Q,index:G}))}var Ww={},Gw={},AD;function Vce(){return AD||(AD=1,function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r,n=0,a={}){typeof a!="object"&&(a={});let i=null,l=null,c=null,d=0,f=null,h;const{leading:p=!1,trailing:g=!0,maxWait:y}=a,b="maxWait"in a,w=b?Math.max(Number(y)||0,n):0,j=O=>(i!==null&&(h=r.apply(l,i)),i=l=null,d=O,h),S=O=>(d=O,f=setTimeout(A,n),p&&i!==null?j(O):h),_=O=>(f=null,g&&i!==null?j(O):h),E=O=>{if(c===null)return!0;const P=O-c,F=P>=n||P<0,G=b&&O-d>=w;return F||G},T=O=>{const P=c===null?0:O-c,F=n-P,G=w-(O-d);return b?Math.min(F,G):F},A=()=>{const O=Date.now();if(E(O))return _(O);f=setTimeout(A,T(O))},C=function(...O){const P=Date.now(),F=E(P);if(i=O,l=this,c=P,F){if(f===null)return S(P);if(b)return clearTimeout(f),f=setTimeout(A,n),j(P)}return f===null&&(f=setTimeout(A,n)),h};return C.cancel=()=>{f!==null&&clearTimeout(f),d=0,c=i=l=f=null},C.flush=()=>f===null?h:_(Date.now()),C}e.debounce=t}(Gw)),Gw}var TD;function qce(){return TD||(TD=1,function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=Vce();function r(n,a=0,i={}){const{leading:l=!0,trailing:c=!0}=i;return t.debounce(n,a,{leading:l,maxWait:a,trailing:c})}e.throttle=r}(Ww)),Ww}var Kw,CD;function Wce(){return CD||(CD=1,Kw=qce().throttle),Kw}var Gce=Wce();const Kce=fs(Gce);var W0=function(t,r){for(var n=arguments.length,a=new Array(n>2?n-2:0),i=2;i<n;i++)a[i-2]=arguments[i]};function OD(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function Yw(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?OD(Object(r),!0).forEach(function(n){Yce(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):OD(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Yce(e,t,r){return(t=Xce(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Xce(e){var t=Qce(e,"string");return typeof t=="symbol"?t:t+""}function Qce(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var Ai=v.forwardRef((e,t)=>{var{aspect:r,initialDimension:n={width:-1,height:-1},width:a="100%",height:i="100%",minWidth:l=0,minHeight:c,maxHeight:d,children:f,debounce:h=0,id:p,className:g,onResize:y,style:b={}}=e,w=v.useRef(null),j=v.useRef();j.current=y,v.useImperativeHandle(t,()=>w.current);var[S,_]=v.useState({containerWidth:n.width,containerHeight:n.height}),E=v.useCallback((A,C)=>{_(O=>{var P=Math.round(A),F=Math.round(C);return O.containerWidth===P&&O.containerHeight===F?O:{containerWidth:P,containerHeight:F}})},[]);v.useEffect(()=>{var A=F=>{var G,{width:W,height:ee}=F[0].contentRect;E(W,ee),(G=j.current)===null||G===void 0||G.call(j,W,ee)};h>0&&(A=Kce(A,h,{trailing:!0,leading:!1}));var C=new ResizeObserver(A),{width:O,height:P}=w.current.getBoundingClientRect();return E(O,P),C.observe(w.current),()=>{C.disconnect()}},[E,h]);var T=v.useMemo(()=>{var{containerWidth:A,containerHeight:C}=S;if(A<0||C<0)return null;W0(Oc(a)||Oc(i),`The width(%s) and height(%s) are both fixed numbers,
       maybe you don't need to use a ResponsiveContainer.`,a,i),W0(!r||r>0,"The aspect(%s) must be greater than zero.",r);var O=Oc(a)?A:a,P=Oc(i)?C:i;return r&&r>0&&(O?P=O/r:P&&(O=P*r),d&&P>d&&(P=d)),W0(O>0||P>0,`The width(%s) and height(%s) of chart should be greater than 0,
       please check the style of container, or the props width(%s) and height(%s),
       or add a minWidth(%s) or minHeight(%s) or use aspect(%s) to control the
       height and width.`,O,P,a,i,l,c,r),v.Children.map(f,F=>v.cloneElement(F,{width:O,height:P,style:Yw({width:O,height:P},F.props.style)}))},[r,f,i,d,c,l,S,a]);return v.createElement("div",{id:p?"".concat(p):void 0,className:Bt("recharts-responsive-container",g),style:Yw(Yw({},b),{},{width:a,height:i,minWidth:l,minHeight:c,maxHeight:d}),ref:w},v.createElement("div",{style:{width:0,height:0,overflow:"visible"}},T))}),Io=e=>null;Io.displayName="Cell";function DD(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function Jj(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?DD(Object(r),!0).forEach(function(n){Zce(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):DD(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Zce(e,t,r){return(t=Jce(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Jce(e){var t=eue(e,"string");return typeof t=="symbol"?t:t+""}function eue(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var Qu={widthCache:{},cacheCount:0},tue=2e3,rue={position:"absolute",top:"-20000px",left:0,padding:0,margin:0,border:"none",whiteSpace:"pre"},PD="recharts_measurement_span";function nue(e){var t=Jj({},e);return Object.keys(t).forEach(r=>{t[r]||delete t[r]}),t}var G0=function(t){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(t==null||ou.isSsr)return{width:0,height:0};var n=nue(r),a=JSON.stringify({text:t,copyStyle:n});if(Qu.widthCache[a])return Qu.widthCache[a];try{var i=document.getElementById(PD);i||(i=document.createElement("span"),i.setAttribute("id",PD),i.setAttribute("aria-hidden","true"),document.body.appendChild(i));var l=Jj(Jj({},rue),n);Object.assign(i.style,l),i.textContent="".concat(t);var c=i.getBoundingClientRect(),d={width:c.width,height:c.height};return Qu.widthCache[a]=d,++Qu.cacheCount>tue&&(Qu.cacheCount=0,Qu.widthCache={}),d}catch{return{width:0,height:0}}},MD=/(-?\d+(?:\.\d+)?[a-zA-Z%]*)([*/])(-?\d+(?:\.\d+)?[a-zA-Z%]*)/,RD=/(-?\d+(?:\.\d+)?[a-zA-Z%]*)([+-])(-?\d+(?:\.\d+)?[a-zA-Z%]*)/,aue=/^px|cm|vh|vw|em|rem|%|mm|in|pt|pc|ex|ch|vmin|vmax|Q$/,sue=/(-?\d+(?:\.\d+)?)([a-zA-Z%]+)?/,f7={cm:96/2.54,mm:96/25.4,pt:96/72,pc:96/6,in:96,Q:96/(2.54*40),px:1},iue=Object.keys(f7),dd="NaN";function lue(e,t){return e*f7[t]}class _a{static parse(t){var r,[,n,a]=(r=sue.exec(t))!==null&&r!==void 0?r:[];return new _a(parseFloat(n),a??"")}constructor(t,r){this.num=t,this.unit=r,this.num=t,this.unit=r,ls(t)&&(this.unit=""),r!==""&&!aue.test(r)&&(this.num=NaN,this.unit=""),iue.includes(r)&&(this.num=lue(t,r),this.unit="px")}add(t){return this.unit!==t.unit?new _a(NaN,""):new _a(this.num+t.num,this.unit)}subtract(t){return this.unit!==t.unit?new _a(NaN,""):new _a(this.num-t.num,this.unit)}multiply(t){return this.unit!==""&&t.unit!==""&&this.unit!==t.unit?new _a(NaN,""):new _a(this.num*t.num,this.unit||t.unit)}divide(t){return this.unit!==""&&t.unit!==""&&this.unit!==t.unit?new _a(NaN,""):new _a(this.num/t.num,this.unit||t.unit)}toString(){return"".concat(this.num).concat(this.unit)}isNaN(){return ls(this.num)}}function h7(e){if(e.includes(dd))return dd;for(var t=e;t.includes("*")||t.includes("/");){var r,[,n,a,i]=(r=MD.exec(t))!==null&&r!==void 0?r:[],l=_a.parse(n??""),c=_a.parse(i??""),d=a==="*"?l.multiply(c):l.divide(c);if(d.isNaN())return dd;t=t.replace(MD,d.toString())}for(;t.includes("+")||/.-\d+(?:\.\d+)?/.test(t);){var f,[,h,p,g]=(f=RD.exec(t))!==null&&f!==void 0?f:[],y=_a.parse(h??""),b=_a.parse(g??""),w=p==="+"?y.add(b):y.subtract(b);if(w.isNaN())return dd;t=t.replace(RD,w.toString())}return t}var ID=/\(([^()]*)\)/;function oue(e){for(var t=e,r;(r=ID.exec(t))!=null;){var[,n]=r;t=t.replace(ID,h7(n))}return t}function cue(e){var t=e.replace(/\s+/g,"");return t=oue(t),t=h7(t),t}function uue(e){try{return cue(e)}catch{return dd}}function Xw(e){var t=uue(e.slice(5,-1));return t===dd?"":t}var due=["x","y","lineHeight","capHeight","scaleToFit","textAnchor","verticalAnchor","fill"],fue=["dx","dy","angle","className","breakAll"];function eN(){return eN=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},eN.apply(null,arguments)}function FD(e,t){if(e==null)return{};var r,n,a=hue(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(n=0;n<i.length;n++)r=i[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(a[r]=e[r])}return a}function hue(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}var m7=/[ \f\n\r\t\v\u2028\u2029]+/,p7=e=>{var{children:t,breakAll:r,style:n}=e;try{var a=[];xr(t)||(r?a=t.toString().split(""):a=t.toString().split(m7));var i=a.map(c=>({word:c,width:G0(c,n).width})),l=r?0:G0("",n).width;return{wordsWithComputedWidth:i,spaceWidth:l}}catch{return null}},mue=(e,t,r,n,a)=>{var{maxLines:i,children:l,style:c,breakAll:d}=e,f=Ze(i),h=l,p=function(){var W=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[];return W.reduce((ee,ue)=>{var{word:fe,width:Q}=ue,K=ee[ee.length-1];if(K&&(n==null||a||K.width+Q+r<Number(n)))K.words.push(fe),K.width+=Q+r;else{var J={words:[fe],width:Q};ee.push(J)}return ee},[])},g=p(t),y=G=>G.reduce((W,ee)=>W.width>ee.width?W:ee);if(!f||a)return g;var b=g.length>i||y(g).width>Number(n);if(!b)return g;for(var w="",j=G=>{var W=h.slice(0,G),ee=p7({breakAll:d,style:c,children:W+w}).wordsWithComputedWidth,ue=p(ee),fe=ue.length>i||y(ue).width>Number(n);return[fe,ue]},S=0,_=h.length-1,E=0,T;S<=_&&E<=h.length-1;){var A=Math.floor((S+_)/2),C=A-1,[O,P]=j(C),[F]=j(A);if(!O&&!F&&(S=A+1),O&&F&&(_=A-1),!O&&F){T=P;break}E++}return T||g},LD=e=>{var t=xr(e)?[]:e.toString().split(m7);return[{words:t}]},pue=e=>{var{width:t,scaleToFit:r,children:n,style:a,breakAll:i,maxLines:l}=e;if((t||r)&&!ou.isSsr){var c,d,f=p7({breakAll:i,children:n,style:a});if(f){var{wordsWithComputedWidth:h,spaceWidth:p}=f;c=h,d=p}else return LD(n);return mue({breakAll:i,children:n,maxLines:l,style:a},c,d,t,r)}return LD(n)},BD="#808080",Ey=v.forwardRef((e,t)=>{var{x:r=0,y:n=0,lineHeight:a="1em",capHeight:i="0.71em",scaleToFit:l=!1,textAnchor:c="start",verticalAnchor:d="end",fill:f=BD}=e,h=FD(e,due),p=v.useMemo(()=>pue({breakAll:h.breakAll,children:h.children,maxLines:h.maxLines,scaleToFit:l,style:h.style,width:h.width}),[h.breakAll,h.children,h.maxLines,l,h.style,h.width]),{dx:g,dy:y,angle:b,className:w,breakAll:j}=h,S=FD(h,fue);if(!Ri(r)||!Ri(n))return null;var _=r+(Ze(g)?g:0),E=n+(Ze(y)?y:0),T;switch(d){case"start":T=Xw("calc(".concat(i,")"));break;case"middle":T=Xw("calc(".concat((p.length-1)/2," * -").concat(a," + (").concat(i," / 2))"));break;default:T=Xw("calc(".concat(p.length-1," * -").concat(a,")"));break}var A=[];if(l){var C=p[0].width,{width:O}=h;A.push("scale(".concat(Ze(O)?O/C:1,")"))}return b&&A.push("rotate(".concat(b,", ").concat(_,", ").concat(E,")")),A.length&&(S.transform=A.join(" ")),v.createElement("text",eN({},Et(S,!0),{ref:t,x:_,y:E,className:Bt("recharts-text",w),textAnchor:c,fill:f.includes("url")?BD:f}),p.map((P,F)=>{var G=P.words.join(j?"":" ");return v.createElement("tspan",{x:_,dy:F===0?T:a,key:"".concat(G,"-").concat(F)},G)}))});Ey.displayName="Text";var gue=["offset"],xue=["labelRef"];function $D(e,t){if(e==null)return{};var r,n,a=yue(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(n=0;n<i.length;n++)r=i[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(a[r]=e[r])}return a}function yue(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}function UD(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function an(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?UD(Object(r),!0).forEach(function(n){vue(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):UD(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function vue(e,t,r){return(t=bue(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function bue(e){var t=wue(e,"string");return typeof t=="symbol"?t:t+""}function wue(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function sl(){return sl=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},sl.apply(null,arguments)}var jue=e=>{var{value:t,formatter:r}=e,n=xr(e.children)?t:e.children;return typeof r=="function"?r(n):n},a_=e=>e!=null&&typeof e=="function",Nue=(e,t)=>{var r=kn(t-e),n=Math.min(Math.abs(t-e),360);return r*n},Sue=(e,t,r)=>{var{position:n,viewBox:a,offset:i,className:l}=e,{cx:c,cy:d,innerRadius:f,outerRadius:h,startAngle:p,endAngle:g,clockWise:y}=a,b=(f+h)/2,w=Nue(p,g),j=w>=0?1:-1,S,_;n==="insideStart"?(S=p+j*i,_=y):n==="insideEnd"?(S=g-j*i,_=!y):n==="end"&&(S=g+j*i,_=y),_=w<=0?_:!_;var E=ln(c,d,b,S),T=ln(c,d,b,S+(_?1:-1)*359),A="M".concat(E.x,",").concat(E.y,`
    A`).concat(b,",").concat(b,",0,1,").concat(_?0:1,`,
    `).concat(T.x,",").concat(T.y),C=xr(e.id)?Zc("recharts-radial-line-"):e.id;return v.createElement("text",sl({},r,{dominantBaseline:"central",className:Bt("recharts-radial-bar-label",l)}),v.createElement("defs",null,v.createElement("path",{id:C,d:A})),v.createElement("textPath",{xlinkHref:"#".concat(C)},t))},kue=e=>{var{viewBox:t,offset:r,position:n}=e,{cx:a,cy:i,innerRadius:l,outerRadius:c,startAngle:d,endAngle:f}=t,h=(d+f)/2;if(n==="outside"){var{x:p,y:g}=ln(a,i,c+r,h);return{x:p,y:g,textAnchor:p>=a?"start":"end",verticalAnchor:"middle"}}if(n==="center")return{x:a,y:i,textAnchor:"middle",verticalAnchor:"middle"};if(n==="centerTop")return{x:a,y:i,textAnchor:"middle",verticalAnchor:"start"};if(n==="centerBottom")return{x:a,y:i,textAnchor:"middle",verticalAnchor:"end"};var y=(l+c)/2,{x:b,y:w}=ln(a,i,y,h);return{x:b,y:w,textAnchor:"middle",verticalAnchor:"middle"}},_ue=(e,t)=>{var{parentViewBox:r,offset:n,position:a}=e,{x:i,y:l,width:c,height:d}=t,f=d>=0?1:-1,h=f*n,p=f>0?"end":"start",g=f>0?"start":"end",y=c>=0?1:-1,b=y*n,w=y>0?"end":"start",j=y>0?"start":"end";if(a==="top"){var S={x:i+c/2,y:l-f*n,textAnchor:"middle",verticalAnchor:p};return an(an({},S),r?{height:Math.max(l-r.y,0),width:c}:{})}if(a==="bottom"){var _={x:i+c/2,y:l+d+h,textAnchor:"middle",verticalAnchor:g};return an(an({},_),r?{height:Math.max(r.y+r.height-(l+d),0),width:c}:{})}if(a==="left"){var E={x:i-b,y:l+d/2,textAnchor:w,verticalAnchor:"middle"};return an(an({},E),r?{width:Math.max(E.x-r.x,0),height:d}:{})}if(a==="right"){var T={x:i+c+b,y:l+d/2,textAnchor:j,verticalAnchor:"middle"};return an(an({},T),r?{width:Math.max(r.x+r.width-T.x,0),height:d}:{})}var A=r?{width:c,height:d}:{};return a==="insideLeft"?an({x:i+b,y:l+d/2,textAnchor:j,verticalAnchor:"middle"},A):a==="insideRight"?an({x:i+c-b,y:l+d/2,textAnchor:w,verticalAnchor:"middle"},A):a==="insideTop"?an({x:i+c/2,y:l+h,textAnchor:"middle",verticalAnchor:g},A):a==="insideBottom"?an({x:i+c/2,y:l+d-h,textAnchor:"middle",verticalAnchor:p},A):a==="insideTopLeft"?an({x:i+b,y:l+h,textAnchor:j,verticalAnchor:g},A):a==="insideTopRight"?an({x:i+c-b,y:l+h,textAnchor:w,verticalAnchor:g},A):a==="insideBottomLeft"?an({x:i+b,y:l+d-h,textAnchor:j,verticalAnchor:p},A):a==="insideBottomRight"?an({x:i+c-b,y:l+d-h,textAnchor:w,verticalAnchor:p},A):a&&typeof a=="object"&&(Ze(a.x)||Oc(a.x))&&(Ze(a.y)||Oc(a.y))?an({x:i+fa(a.x,c),y:l+fa(a.y,d),textAnchor:"end",verticalAnchor:"end"},A):an({x:i+c/2,y:l+d/2,textAnchor:"middle",verticalAnchor:"middle"},A)},Eue=e=>"cx"in e&&Ze(e.cx);function Za(e){var{offset:t=5}=e,r=$D(e,gue),n=an({offset:t},r),{viewBox:a,position:i,value:l,children:c,content:d,className:f="",textBreakAll:h,labelRef:p}=n,g=WS(),y=a||g;if(!y||xr(l)&&xr(c)&&!v.isValidElement(d)&&typeof d!="function")return null;if(v.isValidElement(d)){var{labelRef:b}=n,w=$D(n,xue);return v.cloneElement(d,w)}var j;if(typeof d=="function"){if(j=v.createElement(d,n),v.isValidElement(j))return j}else j=jue(n);var S=Eue(y),_=Et(n,!0);if(S&&(i==="insideStart"||i==="insideEnd"||i==="end"))return Sue(n,j,_);var E=S?kue(n):_ue(n,y);return v.createElement(Ey,sl({ref:p,className:Bt("recharts-label",f)},_,E,{breakAll:h}),j)}Za.displayName="Label";var g7=e=>{var{cx:t,cy:r,angle:n,startAngle:a,endAngle:i,r:l,radius:c,innerRadius:d,outerRadius:f,x:h,y:p,top:g,left:y,width:b,height:w,clockWise:j,labelViewBox:S}=e;if(S)return S;if(Ze(b)&&Ze(w)){if(Ze(h)&&Ze(p))return{x:h,y:p,width:b,height:w};if(Ze(g)&&Ze(y))return{x:g,y,width:b,height:w}}if(Ze(h)&&Ze(p))return{x:h,y:p,width:0,height:0};if(Ze(t)&&Ze(r))return{cx:t,cy:r,startAngle:a||n||0,endAngle:i||n||0,innerRadius:d||0,outerRadius:f||c||l||0,clockWise:j};if(e.viewBox)return e.viewBox},Aue=(e,t,r)=>{if(!e)return null;var n={viewBox:t,labelRef:r};return e===!0?v.createElement(Za,sl({key:"label-implicit"},n)):Ri(e)?v.createElement(Za,sl({key:"label-implicit",value:e},n)):v.isValidElement(e)?e.type===Za?v.cloneElement(e,an({key:"label-implicit"},n)):v.createElement(Za,sl({key:"label-implicit",content:e},n)):a_(e)?v.createElement(Za,sl({key:"label-implicit",content:e},n)):e&&typeof e=="object"?v.createElement(Za,sl({},e,{key:"label-implicit"},n)):null},Tue=function(t,r){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0;if(!t||!t.children&&n&&!t.label)return null;var{children:a,labelRef:i}=t,l=g7(t),c=rm(a,Za).map((f,h)=>v.cloneElement(f,{viewBox:r||l,key:"label-".concat(h)}));if(!n)return c;var d=Aue(t.label,r||l,i);return[d,...c]};Za.parseViewBox=g7;Za.renderCallByParent=Tue;var Qw={},Zw={},zD;function Cue(){return zD||(zD=1,function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){return r[r.length-1]}e.last=t}(Zw)),Zw}var Jw={},HD;function Oue(){return HD||(HD=1,function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){return Array.isArray(r)?r:Array.from(r)}e.toArray=t}(Jw)),Jw}var VD;function Due(){return VD||(VD=1,function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=Cue(),r=Oue(),n=DS();function a(i){if(n.isArrayLike(i))return t.last(r.toArray(i))}e.last=a}(Qw)),Qw}var e2,qD;function Pue(){return qD||(qD=1,e2=Due().last),e2}var Mue=Pue();const Rue=fs(Mue);var Iue=["valueAccessor"],Fue=["data","dataKey","clockWise","id","textBreakAll"];function lx(){return lx=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},lx.apply(null,arguments)}function WD(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function GD(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?WD(Object(r),!0).forEach(function(n){Lue(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):WD(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Lue(e,t,r){return(t=Bue(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Bue(e){var t=$ue(e,"string");return typeof t=="symbol"?t:t+""}function $ue(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function KD(e,t){if(e==null)return{};var r,n,a=Uue(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(n=0;n<i.length;n++)r=i[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(a[r]=e[r])}return a}function Uue(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}var zue=e=>Array.isArray(e.value)?Rue(e.value):e.value;function So(e){var{valueAccessor:t=zue}=e,r=KD(e,Iue),{data:n,dataKey:a,clockWise:i,id:l,textBreakAll:c}=r,d=KD(r,Fue);return!n||!n.length?null:v.createElement(Tn,{className:"recharts-label-list"},n.map((f,h)=>{var p=xr(a)?t(f,h):kr(f&&f.payload,a),g=xr(l)?{}:{id:"".concat(l,"-").concat(h)};return v.createElement(Za,lx({},Et(f,!0),d,g,{parentViewBox:f.parentViewBox,value:p,textBreakAll:c,viewBox:Za.parseViewBox(xr(i)?f:GD(GD({},f),{},{clockWise:i})),key:"label-".concat(h),index:h}))}))}So.displayName="LabelList";function Hue(e,t){return e?e===!0?v.createElement(So,{key:"labelList-implicit",data:t}):v.isValidElement(e)||a_(e)?v.createElement(So,{key:"labelList-implicit",data:t,content:e}):typeof e=="object"?v.createElement(So,lx({data:t},e,{key:"labelList-implicit"})):null:null}function Vue(e,t){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0;if(!e||!e.children&&r&&!e.label)return null;var{children:n}=e,a=rm(n,So).map((l,c)=>v.cloneElement(l,{data:t,key:"labelList-".concat(c)}));if(!r)return a;var i=Hue(e.label,t);return[i,...a]}So.renderCallByParent=Vue;function tN(){return tN=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},tN.apply(null,arguments)}var x7=e=>{var{cx:t,cy:r,r:n,className:a}=e,i=Bt("recharts-dot",a);return t===+t&&r===+r&&n===+n?v.createElement("circle",tN({},Et(e,!1),SS(e),{className:i,cx:t,cy:r,r:n})):null},y7=e=>e.graphicalItems.polarItems,que=ke([Xr,cm],Dk),s_=ke([y7,Qr,que],Pk),Wue=ke([s_],Mk),i_=ke([Wue,wk],Rk),Gue=ke([i_,Qr,s_],Ik),Kue=ke([i_,Qr,s_],(e,t,r)=>r.length>0?e.flatMap(n=>r.flatMap(a=>{var i,l=kr(n,(i=t.dataKey)!==null&&i!==void 0?i:a.dataKey);return{value:l,errorDomain:[]}})).filter(Boolean):t?.dataKey!=null?e.map(n=>({value:kr(n,t.dataKey),errorDomain:[]})):e.map(n=>({value:n,errorDomain:[]}))),YD=()=>{},Yue=ke([Qr,EL,YD,Kue,YD],Bk),v7=ke([Qr,Ht,i_,Gue,om,Xr,Yue],$k),Xue=ke([v7,Qr,rf],Hk);ke([Qr,v7,Xue,Xr],qk);var Que={radiusAxis:{},angleAxis:{}},b7=Vs({name:"polarAxis",initialState:Que,reducers:{addRadiusAxis(e,t){e.radiusAxis[t.payload.id]=t.payload},removeRadiusAxis(e,t){delete e.radiusAxis[t.payload.id]},addAngleAxis(e,t){e.angleAxis[t.payload.id]=t.payload},removeAngleAxis(e,t){delete e.angleAxis[t.payload.id]}}}),{addRadiusAxis:HTe,removeRadiusAxis:VTe,addAngleAxis:qTe,removeAngleAxis:WTe}=b7.actions,Zue=b7.reducer;function XD(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function QD(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?XD(Object(r),!0).forEach(function(n){Jue(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):XD(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Jue(e,t,r){return(t=ede(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function ede(e){var t=tde(e,"string");return typeof t=="symbol"?t:t+""}function tde(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var l_=(e,t)=>t,rde=[],o_=(e,t,r)=>r?.length===0?rde:r,w7=ke([wk,l_,o_],(e,t,r)=>{var{chartData:n}=e,a;if(t?.data!=null&&t.data.length>0?a=t.data:a=n,(!a||!a.length)&&r!=null&&(a=r.map(i=>QD(QD({},t.presentationProps),i.props))),a!=null)return a}),nde=ke([w7,l_,o_],(e,t,r)=>{if(e!=null)return e.map((n,a)=>{var i,l=kr(n,t.nameKey,t.name),c;return r!=null&&(i=r[a])!==null&&i!==void 0&&(i=i.props)!==null&&i!==void 0&&i.fill?c=r[a].props.fill:typeof n=="object"&&n!=null&&"fill"in n?c=n.fill:c=t.fill,{value:Qd(l,t.dataKey),color:c,payload:n,type:t.legendType}})}),ade=ke([y7,l_],(e,t)=>{if(e.some(r=>r.type==="pie"&&t.dataKey===r.dataKey&&t.data===r.data))return t}),sde=ke([w7,ade,o_,xn],(e,t,r,n)=>{if(!(t==null||e==null))return Xde({offset:n,pieSettings:t,displayedData:e,cells:r})}),ide={countOfBars:0,cartesianItems:[],polarItems:[]},j7=Vs({name:"graphicalItems",initialState:ide,reducers:{addBar(e){e.countOfBars+=1},removeBar(e){e.countOfBars-=1},addCartesianGraphicalItem(e,t){e.cartesianItems.push(t.payload)},replaceCartesianGraphicalItem(e,t){var{prev:r,next:n}=t.payload,a=fl(e).cartesianItems.indexOf(r);a>-1&&(e.cartesianItems[a]=n)},removeCartesianGraphicalItem(e,t){var r=fl(e).cartesianItems.indexOf(t.payload);r>-1&&e.cartesianItems.splice(r,1)},addPolarGraphicalItem(e,t){e.polarItems.push(t.payload)},removePolarGraphicalItem(e,t){var r=fl(e).polarItems.indexOf(t.payload);r>-1&&e.polarItems.splice(r,1)}}}),{addBar:lde,removeBar:ode,addCartesianGraphicalItem:cde,replaceCartesianGraphicalItem:ude,removeCartesianGraphicalItem:dde,addPolarGraphicalItem:fde,removePolarGraphicalItem:hde}=j7.actions,mde=j7.reducer;function ZD(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function JD(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?ZD(Object(r),!0).forEach(function(n){pde(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):ZD(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function pde(e,t,r){return(t=gde(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function gde(e){var t=xde(e,"string");return typeof t=="symbol"?t:t+""}function xde(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function yde(e){var t=Mr(),r=v.useRef(null);return v.useEffect(()=>{var n=JD(JD({},e),{},{stackId:XI(e.stackId)});r.current===null?t(cde(n)):r.current!==n&&t(ude({prev:r.current,next:n})),r.current=n},[t,e]),v.useEffect(()=>()=>{r.current&&(t(dde(r.current)),r.current=null)},[t]),null}function vde(e){var t=Mr();return v.useEffect(()=>(t(fde(e)),()=>{t(hde(e))}),[t,e]),null}var t2={},e5;function bde(){return e5||(e5=1,function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){if(typeof r!="object"||r==null)return!1;if(Object.getPrototypeOf(r)===null)return!0;if(Object.prototype.toString.call(r)!=="[object Object]"){const a=r[Symbol.toStringTag];return a==null||!Object.getOwnPropertyDescriptor(r,Symbol.toStringTag)?.writable?!1:r.toString()===`[object ${a}]`}let n=r;for(;Object.getPrototypeOf(n)!==null;)n=Object.getPrototypeOf(n);return Object.getPrototypeOf(r)===n}e.isPlainObject=t}(t2)),t2}var r2,t5;function wde(){return t5||(t5=1,r2=bde().isPlainObject),r2}var jde=wde();const Nde=fs(jde);function ox(){return ox=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},ox.apply(null,arguments)}var r5=(e,t,r,n,a)=>{var i=r-n,l;return l="M ".concat(e,",").concat(t),l+="L ".concat(e+r,",").concat(t),l+="L ".concat(e+r-i/2,",").concat(t+a),l+="L ".concat(e+r-i/2-n,",").concat(t+a),l+="L ".concat(e,",").concat(t," Z"),l},Sde={x:0,y:0,upperWidth:0,lowerWidth:0,height:0,isUpdateAnimationActive:!1,animationBegin:0,animationDuration:1500,animationEasing:"ease"},kde=e=>{var t=qs(e,Sde),r=v.useRef(),[n,a]=v.useState(-1);v.useEffect(()=>{if(r.current&&r.current.getTotalLength)try{var j=r.current.getTotalLength();j&&a(j)}catch{}},[]);var{x:i,y:l,upperWidth:c,lowerWidth:d,height:f,className:h}=t,{animationEasing:p,animationDuration:g,animationBegin:y,isUpdateAnimationActive:b}=t;if(i!==+i||l!==+l||c!==+c||d!==+d||f!==+f||c===0&&d===0||f===0)return null;var w=Bt("recharts-trapezoid",h);return b?v.createElement(Po,{canBegin:n>0,from:{upperWidth:0,lowerWidth:0,height:f,x:i,y:l},to:{upperWidth:c,lowerWidth:d,height:f,x:i,y:l},duration:g,animationEasing:p,isActive:b},j=>{var{upperWidth:S,lowerWidth:_,height:E,x:T,y:A}=j;return v.createElement(Po,{canBegin:n>0,from:"0px ".concat(n===-1?1:n,"px"),to:"".concat(n,"px 0px"),attributeName:"strokeDasharray",begin:y,duration:g,easing:p},v.createElement("path",ox({},Et(t,!0),{className:w,d:r5(T,A,S,_,E),ref:r})))}):v.createElement("g",null,v.createElement("path",ox({},Et(t,!0),{className:w,d:r5(i,l,c,d,f)})))},_de=["option","shapeType","propTransformer","activeClassName","isActive"];function Ede(e,t){if(e==null)return{};var r,n,a=Ade(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(n=0;n<i.length;n++)r=i[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(a[r]=e[r])}return a}function Ade(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}function n5(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function cx(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?n5(Object(r),!0).forEach(function(n){Tde(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):n5(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Tde(e,t,r){return(t=Cde(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Cde(e){var t=Ode(e,"string");return typeof t=="symbol"?t:t+""}function Ode(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Dde(e,t){return cx(cx({},t),e)}function Pde(e,t){return e==="symbols"}function a5(e){var{shapeType:t,elementProps:r}=e;switch(t){case"rectangle":return v.createElement(cF,r);case"trapezoid":return v.createElement(kde,r);case"sector":return v.createElement(fF,r);case"symbols":if(Pde(t))return v.createElement(TS,r);break;default:return null}}function Mde(e){return v.isValidElement(e)?e.props:e}function N7(e){var{option:t,shapeType:r,propTransformer:n=Dde,activeClassName:a="recharts-active-shape",isActive:i}=e,l=Ede(e,_de),c;if(v.isValidElement(t))c=v.cloneElement(t,cx(cx({},l),Mde(t)));else if(typeof t=="function")c=t(l);else if(Nde(t)&&typeof t!="boolean"){var d=n(t,l);c=v.createElement(a5,{shapeType:r,elementProps:d})}else{var f=l;c=v.createElement(a5,{shapeType:r,elementProps:f})}return i?v.createElement(Tn,{className:a},c):c}var c_=(e,t)=>{var r=Mr();return(n,a)=>i=>{e?.(n,a,i),r(HL({activeIndex:String(a),activeDataKey:t,activeCoordinate:n.tooltipPosition}))}},u_=e=>{var t=Mr();return(r,n)=>a=>{e?.(r,n,a),t(boe())}},d_=(e,t)=>{var r=Mr();return(n,a)=>i=>{e?.(n,a,i),r(woe({activeIndex:String(a),activeDataKey:t,activeCoordinate:n.tooltipPosition}))}};function f_(e){var{fn:t,args:r}=e,n=Mr(),a=pa();return v.useEffect(()=>{if(!a){var i=t(r);return n(xoe(i)),()=>{n(yoe(i))}}},[t,r,n,a]),null}var S7=()=>{};function k7(e){var{legendPayload:t}=e,r=Mr(),n=pa();return v.useEffect(()=>n?S7:(r(nF(t)),()=>{r(aF(t))}),[r,n,t]),null}function Rde(e){var{legendPayload:t}=e,r=Mr(),n=nt(Ht);return v.useEffect(()=>n!=="centric"&&n!=="radial"?S7:(r(nF(t)),()=>{r(aF(t))}),[r,n,t]),null}function h_(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"animation-",r=v.useRef(Zc(t)),n=v.useRef(e);return n.current!==e&&(r.current=Zc(t),n.current=e),r.current}var Ide=["onMouseEnter","onClick","onMouseLeave"];function Fde(e,t){if(e==null)return{};var r,n,a=Lde(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(n=0;n<i.length;n++)r=i[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(a[r]=e[r])}return a}function Lde(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}function s5(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function zr(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?s5(Object(r),!0).forEach(function(n){Ay(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):s5(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Ay(e,t,r){return(t=Bde(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Bde(e){var t=$de(e,"string");return typeof t=="symbol"?t:t+""}function $de(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function ru(){return ru=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},ru.apply(null,arguments)}function Ude(e){var t=v.useMemo(()=>Et(e,!1),[e]),r=v.useMemo(()=>rm(e.children,Io),[e.children]),n=v.useMemo(()=>({name:e.name,nameKey:e.nameKey,tooltipType:e.tooltipType,data:e.data,dataKey:e.dataKey,cx:e.cx,cy:e.cy,startAngle:e.startAngle,endAngle:e.endAngle,minAngle:e.minAngle,paddingAngle:e.paddingAngle,innerRadius:e.innerRadius,outerRadius:e.outerRadius,cornerRadius:e.cornerRadius,legendType:e.legendType,fill:e.fill,presentationProps:t}),[e.cornerRadius,e.cx,e.cy,e.data,e.dataKey,e.endAngle,e.innerRadius,e.minAngle,e.name,e.nameKey,e.outerRadius,e.paddingAngle,e.startAngle,e.tooltipType,e.legendType,e.fill,t]),a=nt(i=>nde(i,n,r));return v.createElement(Rde,{legendPayload:a})}function zde(e){var{dataKey:t,nameKey:r,sectors:n,stroke:a,strokeWidth:i,fill:l,name:c,hide:d,tooltipType:f}=e;return{dataDefinedOnItem:n?.map(h=>h.tooltipPayload),positions:n?.map(h=>h.tooltipPosition),settings:{stroke:a,strokeWidth:i,fill:l,dataKey:t,nameKey:r,name:Qd(c,t),hide:d,type:f,color:l,unit:""}}}var Hde=(e,t)=>e>t?"start":e<t?"end":"middle",Vde=(e,t,r)=>typeof t=="function"?t(e):fa(t,r,r*.8),qde=(e,t,r)=>{var{top:n,left:a,width:i,height:l}=t,c=GI(i,l),d=a+fa(e.cx,i,i/2),f=n+fa(e.cy,l,l/2),h=fa(e.innerRadius,c,0),p=Vde(r,e.outerRadius,c),g=e.maxRadius||Math.sqrt(i*i+l*l)/2;return{cx:d,cy:f,innerRadius:h,outerRadius:p,maxRadius:g}},Wde=(e,t)=>{var r=kn(t-e),n=Math.min(Math.abs(t-e),360);return r*n},Gde=(e,t)=>{if(v.isValidElement(e))return v.cloneElement(e,t);if(typeof e=="function")return e(t);var r=Bt("recharts-pie-label-line",typeof e!="boolean"?e.className:"");return v.createElement(XS,ru({},t,{type:"linear",className:r}))},Kde=(e,t,r)=>{if(v.isValidElement(e))return v.cloneElement(e,t);var n=r;if(typeof e=="function"&&(n=e(t),v.isValidElement(n)))return n;var a=Bt("recharts-pie-label-text",typeof e!="boolean"&&typeof e!="function"?e.className:"");return v.createElement(Ey,ru({},t,{alignmentBaseline:"middle",className:a}),n)};function Yde(e){var{sectors:t,props:r,showLabels:n}=e,{label:a,labelLine:i,dataKey:l}=r;if(!n||!a||!t)return null;var c=Et(r,!1),d=Et(a,!1),f=Et(i,!1),h=typeof a=="object"&&"offsetRadius"in a&&a.offsetRadius||20,p=t.map((g,y)=>{var b=(g.startAngle+g.endAngle)/2,w=ln(g.cx,g.cy,g.outerRadius+h,b),j=zr(zr(zr(zr({},c),g),{},{stroke:"none"},d),{},{index:y,textAnchor:Hde(w.x,g.cx)},w),S=zr(zr(zr(zr({},c),g),{},{fill:"none",stroke:g.fill},f),{},{index:y,points:[ln(g.cx,g.cy,g.outerRadius,b),w],key:"line"});return v.createElement(Tn,{key:"label-".concat(g.startAngle,"-").concat(g.endAngle,"-").concat(g.midAngle,"-").concat(y)},i&&Gde(i,S),Kde(a,j,kr(g,l)))});return v.createElement(Tn,{className:"recharts-pie-labels"},p)}function _7(e){var{sectors:t,activeShape:r,inactiveShape:n,allOtherPieProps:a,showLabels:i}=e,l=nt(Ro),{onMouseEnter:c,onClick:d,onMouseLeave:f}=a,h=Fde(a,Ide),p=c_(c,a.dataKey),g=u_(f),y=d_(d,a.dataKey);return t==null?null:v.createElement(v.Fragment,null,t.map((b,w)=>{if(b?.startAngle===0&&b?.endAngle===0&&t.length!==1)return null;var j=r&&String(w)===l,S=l?n:null,_=j?r:S,E=zr(zr({},b),{},{stroke:b.stroke,tabIndex:-1,[ZI]:w,[JI]:a.dataKey});return v.createElement(Tn,ru({tabIndex:-1,className:"recharts-pie-sector"},tm(h,b,w),{onMouseEnter:p(b,w),onMouseLeave:g(b,w),onClick:y(b,w),key:"sector-".concat(b?.startAngle,"-").concat(b?.endAngle,"-").concat(b.midAngle,"-").concat(w)}),v.createElement(N7,ru({option:_,isActive:j,shapeType:"sector"},E)))}),v.createElement(Yde,{sectors:t,props:a,showLabels:i}))}function Xde(e){var t,{pieSettings:r,displayedData:n,cells:a,offset:i}=e,{cornerRadius:l,startAngle:c,endAngle:d,dataKey:f,nameKey:h,tooltipType:p}=r,g=Math.abs(r.minAngle),y=Wde(c,d),b=Math.abs(y),w=n.length<=1?0:(t=r.paddingAngle)!==null&&t!==void 0?t:0,j=n.filter(C=>kr(C,f,0)!==0).length,S=(b>=360?j:j-1)*w,_=b-j*g-S,E=n.reduce((C,O)=>{var P=kr(O,f,0);return C+(Ze(P)?P:0)},0),T;if(E>0){var A;T=n.map((C,O)=>{var P=kr(C,f,0),F=kr(C,h,O),G=qde(r,i,C),W=(Ze(P)?P:0)/E,ee,ue=zr(zr({},C),a&&a[O]&&a[O].props);O?ee=A.endAngle+kn(y)*w*(P!==0?1:0):ee=c;var fe=ee+kn(y)*((P!==0?g:0)+W*_),Q=(ee+fe)/2,K=(G.innerRadius+G.outerRadius)/2,J=[{name:F,value:P,payload:ue,dataKey:f,type:p}],se=ln(G.cx,G.cy,K,Q);return A=zr(zr(zr(zr({},r.presentationProps),{},{percent:W,cornerRadius:l,name:F,tooltipPayload:J,midAngle:Q,middleRadius:K,tooltipPosition:se},ue),G),{},{value:kr(C,f),startAngle:ee,endAngle:fe,payload:ue,paddingAngle:kn(y)*w}),A})}return T}function Qde(e){var{props:t,previousSectorsRef:r}=e,{sectors:n,isAnimationActive:a,animationBegin:i,animationDuration:l,animationEasing:c,activeShape:d,inactiveShape:f,onAnimationStart:h,onAnimationEnd:p}=t,g=h_(t,"recharts-pie-"),y=r.current,[b,w]=v.useState(!0),j=v.useCallback(()=>{typeof p=="function"&&p(),w(!1)},[p]),S=v.useCallback(()=>{typeof h=="function"&&h(),w(!0)},[h]);return v.createElement(Po,{begin:i,duration:l,isActive:a,easing:c,from:{t:0},to:{t:1},onAnimationStart:S,onAnimationEnd:j,key:g},_=>{var{t:E}=_,T=[],A=n&&n[0],C=A.startAngle;return n.forEach((O,P)=>{var F=y&&y[P],G=P>0?Oo(O,"paddingAngle",0):0;if(F){var W=Qa(F.endAngle-F.startAngle,O.endAngle-O.startAngle),ee=zr(zr({},O),{},{startAngle:C+G,endAngle:C+W(E)+G});T.push(ee),C=ee.endAngle}else{var{endAngle:ue,startAngle:fe}=O,Q=Qa(0,ue-fe),K=Q(E),J=zr(zr({},O),{},{startAngle:C+G,endAngle:C+K+G});T.push(J),C=J.endAngle}}),r.current=T,v.createElement(Tn,null,v.createElement(_7,{sectors:T,activeShape:d,inactiveShape:f,allOtherPieProps:t,showLabels:!b}))})}function Zde(e){var{sectors:t,isAnimationActive:r,activeShape:n,inactiveShape:a}=e,i=v.useRef(null),l=i.current;return r&&t&&t.length&&(!l||l!==t)?v.createElement(Qde,{props:e,previousSectorsRef:i}):v.createElement(_7,{sectors:t,activeShape:n,inactiveShape:a,allOtherPieProps:e,showLabels:!0})}function Jde(e){var{hide:t,className:r,rootTabIndex:n}=e,a=Bt("recharts-pie",r);return t?null:v.createElement(Tn,{tabIndex:n,className:a},v.createElement(Zde,e))}var E7={animationBegin:400,animationDuration:1500,animationEasing:"ease",cx:"50%",cy:"50%",dataKey:"value",endAngle:360,fill:"#808080",hide:!1,innerRadius:0,isAnimationActive:!ou.isSsr,labelLine:!0,legendType:"rect",minAngle:0,nameKey:"name",outerRadius:"80%",paddingAngle:0,rootTabIndex:0,startAngle:0,stroke:"#fff"};function efe(e){var t=qs(e,E7),r=v.useMemo(()=>rm(e.children,Io),[e.children]),n=Et(t,!1),a=v.useMemo(()=>({name:t.name,nameKey:t.nameKey,tooltipType:t.tooltipType,data:t.data,dataKey:t.dataKey,cx:t.cx,cy:t.cy,startAngle:t.startAngle,endAngle:t.endAngle,minAngle:t.minAngle,paddingAngle:t.paddingAngle,innerRadius:t.innerRadius,outerRadius:t.outerRadius,cornerRadius:t.cornerRadius,legendType:t.legendType,fill:t.fill,presentationProps:n}),[t.cornerRadius,t.cx,t.cy,t.data,t.dataKey,t.endAngle,t.innerRadius,t.minAngle,t.name,t.nameKey,t.outerRadius,t.paddingAngle,t.startAngle,t.tooltipType,t.legendType,t.fill,n]),i=nt(l=>sde(l,a,r));return v.createElement(v.Fragment,null,v.createElement(f_,{fn:zde,args:zr(zr({},t),{},{sectors:i})}),v.createElement(Jde,ru({},t,{sectors:i})))}class Rd extends v.PureComponent{constructor(){super(...arguments),Ay(this,"id",Zc("recharts-pie-"))}render(){return v.createElement(v.Fragment,null,v.createElement(vde,{data:this.props.data,dataKey:this.props.dataKey,hide:this.props.hide,angleAxisId:0,radiusAxisId:0,stackId:void 0,barSize:void 0,type:"pie"}),v.createElement(Ude,this.props),v.createElement(efe,this.props),this.props.children)}}Ay(Rd,"displayName","Pie");Ay(Rd,"defaultProps",E7);var tfe=ke([xn],e=>{if(e)return{top:e.top,bottom:e.bottom,left:e.left,right:e.right}}),rfe=ke([tfe,Cl,Ol],(e,t,r)=>{if(!(!e||t==null||r==null))return{x:e.left,y:e.top,width:Math.max(0,t-e.left-e.right),height:Math.max(0,r-e.top-e.bottom)}}),nfe=e=>{var t=pa();return nt(r=>Fi(r,"xAxis",e,t))},afe=e=>{var t=pa();return nt(r=>Fi(r,"yAxis",e,t))},m_=()=>nt(rfe),sfe=()=>nt(sce);function i5(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function l5(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?i5(Object(r),!0).forEach(function(n){ife(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):i5(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function ife(e,t,r){return(t=lfe(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function lfe(e){var t=ofe(e,"string");return typeof t=="symbol"?t:t+""}function ofe(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var cfe=e=>{var{point:t,childIndex:r,mainColor:n,activeDot:a,dataKey:i}=e;if(a===!1||t.x==null||t.y==null)return null;var l=l5(l5({index:r,dataKey:i,cx:t.x,cy:t.y,r:4,fill:n??"none",strokeWidth:2,stroke:"#fff",payload:t.payload,value:t.value},Et(a,!1)),SS(a)),c;return v.isValidElement(a)?c=v.cloneElement(a,l):typeof a=="function"?c=a(l):c=v.createElement(x7,l),v.createElement(Tn,{className:"recharts-active-dot"},c)};function ufe(e){var{points:t,mainColor:r,activeDot:n,itemDataKey:a}=e,i=nt(Ro),l=sfe();if(t==null||l==null)return null;var c=t.find(d=>l.includes(d.payload));return xr(c)?null:cfe({point:c,childIndex:Number(i),mainColor:r,dataKey:a,activeDot:n})}var dfe=()=>{var e=Mr();return v.useEffect(()=>(e(lde()),()=>{e(ode())})),null},ffe=["children"];function hfe(e,t){if(e==null)return{};var r,n,a=mfe(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(n=0;n<i.length;n++)r=i[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(a[r]=e[r])}return a}function mfe(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}var o5=()=>{},A7=v.createContext({addErrorBar:o5,removeErrorBar:o5}),pfe={data:[],xAxisId:"xAxis-0",yAxisId:"yAxis-0",dataPointFormatter:()=>({x:0,y:0,value:0}),errorBarOffset:0},T7=v.createContext(pfe);function C7(e){var{children:t}=e,r=hfe(e,ffe);return v.createElement(T7.Provider,{value:r},t)}var gfe=()=>v.useContext(T7),O7=e=>{var{children:t,xAxisId:r,yAxisId:n,zAxisId:a,dataKey:i,data:l,stackId:c,hide:d,type:f,barSize:h}=e,[p,g]=v.useState([]),y=v.useCallback(j=>{g(S=>[...S,j])},[g]),b=v.useCallback(j=>{g(S=>S.filter(_=>_!==j))},[g]),w=pa();return v.createElement(A7.Provider,{value:{addErrorBar:y,removeErrorBar:b}},v.createElement(yde,{type:f,data:l,xAxisId:r,yAxisId:n,zAxisId:a,dataKey:i,errorBars:p,stackId:c,hide:d,barSize:h,isPanorama:w}),t)};function xfe(e){var{addErrorBar:t,removeErrorBar:r}=v.useContext(A7);return v.useEffect(()=>(t(e),()=>{r(e)}),[t,r,e]),null}var yfe=["direction","width","dataKey","isAnimationActive","animationBegin","animationDuration","animationEasing"];function D7(e,t,r){return(t=vfe(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function vfe(e){var t=bfe(e,"string");return typeof t=="symbol"?t:t+""}function bfe(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Ch(){return Ch=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Ch.apply(null,arguments)}function wfe(e,t){if(e==null)return{};var r,n,a=jfe(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(n=0;n<i.length;n++)r=i[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(a[r]=e[r])}return a}function jfe(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}function Nfe(e){var{direction:t,width:r,dataKey:n,isAnimationActive:a,animationBegin:i,animationDuration:l,animationEasing:c}=e,d=wfe(e,yfe),f=Et(d,!1),{data:h,dataPointFormatter:p,xAxisId:g,yAxisId:y,errorBarOffset:b}=gfe(),w=nfe(g),j=afe(y);if(w?.scale==null||j?.scale==null||h==null||t==="x"&&w.type!=="number")return null;var S=h.map(_=>{var{x:E,y:T,value:A,errorVal:C}=p(_,n,t);if(!C)return null;var O=[],P,F;if(Array.isArray(C)?[P,F]=C:P=F=C,t==="x"){var{scale:G}=w,W=T+b,ee=W+r,ue=W-r,fe=G(A-P),Q=G(A+F);O.push({x1:Q,y1:ee,x2:Q,y2:ue}),O.push({x1:fe,y1:W,x2:Q,y2:W}),O.push({x1:fe,y1:ee,x2:fe,y2:ue})}else if(t==="y"){var{scale:K}=j,J=E+b,se=J-r,xe=J+r,U=K(A-P),ae=K(A+F);O.push({x1:se,y1:ae,x2:xe,y2:ae}),O.push({x1:J,y1:U,x2:J,y2:ae}),O.push({x1:se,y1:U,x2:xe,y2:U})}var D="".concat(E+b,"px ").concat(T+b,"px");return v.createElement(Tn,Ch({className:"recharts-errorBar",key:"bar-".concat(O.map(H=>"".concat(H.x1,"-").concat(H.x2,"-").concat(H.y1,"-").concat(H.y2)))},f),O.map(H=>{var B=a?{transformOrigin:"".concat(H.x1-5,"px")}:void 0;return v.createElement(Po,{from:{transform:"scaleY(0)",transformOrigin:D},to:{transform:"scaleY(1)",transformOrigin:D},begin:i,easing:c,isActive:a,duration:l,key:"line-".concat(H.x1,"-").concat(H.x2,"-").concat(H.y1,"-").concat(H.y2),style:{transformOrigin:D}},v.createElement("line",Ch({},H,{style:B})))}))});return v.createElement(Tn,{className:"recharts-errorBars"},S)}var P7=v.createContext(void 0);function Sfe(e){var t=v.useContext(P7);return e??t??"x"}function M7(e){var{direction:t,children:r}=e;return v.createElement(P7.Provider,{value:t},r)}var R7={stroke:"black",strokeWidth:1.5,width:5,offset:0,isAnimationActive:!0,animationBegin:0,animationDuration:400,animationEasing:"ease-in-out"};function kfe(e){var t=Sfe(e.direction),{width:r,isAnimationActive:n,animationBegin:a,animationDuration:i,animationEasing:l}=qs(e,R7);return v.createElement(v.Fragment,null,v.createElement(xfe,{dataKey:e.dataKey,direction:t}),v.createElement(Nfe,Ch({},e,{direction:t,width:r,isAnimationActive:n,animationBegin:a,animationDuration:i,animationEasing:l})))}class I7 extends v.Component{render(){return v.createElement(kfe,this.props)}}D7(I7,"defaultProps",R7);D7(I7,"displayName","ErrorBar");var _fe="Invariant failed";function F7(e,t){throw new Error(_fe)}var Efe=["x","y"];function rN(){return rN=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},rN.apply(null,arguments)}function c5(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function N0(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?c5(Object(r),!0).forEach(function(n){Afe(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):c5(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Afe(e,t,r){return(t=Tfe(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Tfe(e){var t=Cfe(e,"string");return typeof t=="symbol"?t:t+""}function Cfe(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Ofe(e,t){if(e==null)return{};var r,n,a=Dfe(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(n=0;n<i.length;n++)r=i[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(a[r]=e[r])}return a}function Dfe(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}function Pfe(e,t){var{x:r,y:n}=e,a=Ofe(e,Efe),i="".concat(r),l=parseInt(i,10),c="".concat(n),d=parseInt(c,10),f="".concat(t.height||a.height),h=parseInt(f,10),p="".concat(t.width||a.width),g=parseInt(p,10);return N0(N0(N0(N0(N0({},t),a),l?{x:l}:{}),d?{y:d}:{}),{},{height:h,width:g,name:t.name,radius:t.radius})}function L7(e){return v.createElement(N7,rN({shapeType:"rectangle",propTransformer:Pfe,activeClassName:"recharts-active-bar"},e))}var Mfe=function(t){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;return(n,a)=>{if(Ze(t))return t;var i=Ze(n)||xr(n);return i?t(n,a):(i||F7(),r)}};function p_(e,t){var r,n,a=nt(f=>Pl(f,e)),i=nt(f=>Go(f,t)),l=(r=a?.allowDataOverflow)!==null&&r!==void 0?r:qa.allowDataOverflow,c=(n=i?.allowDataOverflow)!==null&&n!==void 0?n:Wa.allowDataOverflow,d=l||c;return{needClip:d,needClipX:l,needClipY:c}}function B7(e){var{xAxisId:t,yAxisId:r,clipPathId:n}=e,a=m_(),{needClipX:i,needClipY:l,needClip:c}=p_(t,r);if(!c)return null;var{x:d,y:f,width:h,height:p}=a;return v.createElement("clipPath",{id:"clipPath-".concat(n)},v.createElement("rect",{x:i?d:d-h/2,y:l?f:f-p/2,width:i?h:h*2,height:l?p:p*2}))}var Rfe=["onMouseEnter","onMouseLeave","onClick"],Ife=["value","background","tooltipPosition"],Ffe=["onMouseEnter","onClick","onMouseLeave"];function Oh(){return Oh=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Oh.apply(null,arguments)}function u5(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function ea(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?u5(Object(r),!0).forEach(function(n){Ty(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):u5(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Ty(e,t,r){return(t=Lfe(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Lfe(e){var t=Bfe(e,"string");return typeof t=="symbol"?t:t+""}function Bfe(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function nN(e,t){if(e==null)return{};var r,n,a=$fe(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(n=0;n<i.length;n++)r=i[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(a[r]=e[r])}return a}function $fe(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}var Ufe=e=>{var{dataKey:t,name:r,fill:n,legendType:a,hide:i}=e;return[{inactive:i,dataKey:t,type:a,color:n,value:Qd(r,t),payload:e}]};function zfe(e){var{dataKey:t,stroke:r,strokeWidth:n,fill:a,name:i,hide:l,unit:c}=e;return{dataDefinedOnItem:void 0,positions:void 0,settings:{stroke:r,strokeWidth:n,fill:a,dataKey:t,nameKey:void 0,name:Qd(i,t),hide:l,type:e.tooltipType,color:e.fill,unit:c}}}function Hfe(e){var t=nt(Ro),{data:r,dataKey:n,background:a,allOtherBarProps:i}=e,{onMouseEnter:l,onMouseLeave:c,onClick:d}=i,f=nN(i,Rfe),h=c_(l,n),p=u_(c),g=d_(d,n);if(!a||r==null)return null;var y=Et(a,!1);return v.createElement(v.Fragment,null,r.map((b,w)=>{var{value:j,background:S,tooltipPosition:_}=b,E=nN(b,Ife);if(!S)return null;var T=h(b,w),A=p(b,w),C=g(b,w),O=ea(ea(ea(ea(ea({option:a,isActive:String(w)===t},E),{},{fill:"#eee"},S),y),tm(f,b,w)),{},{onMouseEnter:T,onMouseLeave:A,onClick:C,dataKey:n,index:w,className:"recharts-bar-background-rectangle"});return v.createElement(L7,Oh({key:"background-bar-".concat(w)},O))}))}function $7(e){var{data:t,props:r,showLabels:n}=e,a=Et(r,!1),{shape:i,dataKey:l,activeBar:c}=r,d=nt(Ro),f=nt(r7),{onMouseEnter:h,onClick:p,onMouseLeave:g}=r,y=nN(r,Ffe),b=c_(h,l),w=u_(g),j=d_(p,l);return t?v.createElement(v.Fragment,null,t.map((S,_)=>{var E=c&&String(_)===d&&(f==null||l===f),T=E?c:i,A=ea(ea(ea({},a),S),{},{isActive:E,option:T,index:_,dataKey:l});return v.createElement(Tn,Oh({className:"recharts-bar-rectangle"},tm(y,S,_),{onMouseEnter:b(S,_),onMouseLeave:w(S,_),onClick:j(S,_),key:"rectangle-".concat(S?.x,"-").concat(S?.y,"-").concat(S?.value,"-").concat(_)}),v.createElement(L7,A))}),n&&So.renderCallByParent(r,t)):null}function Vfe(e){var{props:t,previousRectanglesRef:r}=e,{data:n,layout:a,isAnimationActive:i,animationBegin:l,animationDuration:c,animationEasing:d,onAnimationEnd:f,onAnimationStart:h}=t,p=r.current,g=h_(t,"recharts-bar-"),[y,b]=v.useState(!1),w=v.useCallback(()=>{typeof f=="function"&&f(),b(!1)},[f]),j=v.useCallback(()=>{typeof h=="function"&&h(),b(!0)},[h]);return v.createElement(Po,{begin:l,duration:c,isActive:i,easing:d,from:{t:0},to:{t:1},onAnimationEnd:w,onAnimationStart:j,key:g},S=>{var{t:_}=S,E=_===1?n:n.map((T,A)=>{var C=p&&p[A];if(C){var O=Qa(C.x,T.x),P=Qa(C.y,T.y),F=Qa(C.width,T.width),G=Qa(C.height,T.height);return ea(ea({},T),{},{x:O(_),y:P(_),width:F(_),height:G(_)})}if(a==="horizontal"){var W=Qa(0,T.height),ee=W(_);return ea(ea({},T),{},{y:T.y+T.height-ee,height:ee})}var ue=Qa(0,T.width),fe=ue(_);return ea(ea({},T),{},{width:fe})});return _>0&&(r.current=E),v.createElement(Tn,null,v.createElement($7,{props:t,data:E,showLabels:!y}))})}function qfe(e){var{data:t,isAnimationActive:r}=e,n=v.useRef(null);return r&&t&&t.length&&(n.current==null||n.current!==t)?v.createElement(Vfe,{previousRectanglesRef:n,props:e}):v.createElement($7,{props:e,data:t,showLabels:!0})}var U7=0,Wfe=(e,t)=>{var r=Array.isArray(e.value)?e.value[1]:e.value;return{x:e.x,y:e.y,value:r,errorVal:kr(e,t)}};class Gfe extends v.PureComponent{constructor(){super(...arguments),Ty(this,"id",Zc("recharts-bar-"))}render(){var{hide:t,data:r,dataKey:n,className:a,xAxisId:i,yAxisId:l,needClip:c,background:d,id:f,layout:h}=this.props;if(t)return null;var p=Bt("recharts-bar",a),g=xr(f)?this.id:f;return v.createElement(Tn,{className:p},c&&v.createElement("defs",null,v.createElement(B7,{clipPathId:g,xAxisId:i,yAxisId:l})),v.createElement(Tn,{className:"recharts-bar-rectangles",clipPath:c?"url(#clipPath-".concat(g,")"):null},v.createElement(Hfe,{data:r,dataKey:n,background:d,allOtherBarProps:this.props}),v.createElement(qfe,this.props)),v.createElement(M7,{direction:h==="horizontal"?"y":"x"},this.props.children))}}var z7={activeBar:!1,animationBegin:0,animationDuration:400,animationEasing:"ease",hide:!1,isAnimationActive:!ou.isSsr,legendType:"rect",minPointSize:U7,xAxisId:0,yAxisId:0};function Kfe(e){var{xAxisId:t,yAxisId:r,hide:n,legendType:a,minPointSize:i,activeBar:l,animationBegin:c,animationDuration:d,animationEasing:f,isAnimationActive:h}=qs(e,z7),{needClip:p}=p_(t,r),g=uy(),y=pa(),b=v.useMemo(()=>({barSize:e.barSize,data:void 0,dataKey:e.dataKey,maxBarSize:e.maxBarSize,minPointSize:i,stackId:XI(e.stackId)}),[e.barSize,e.dataKey,e.maxBarSize,i,e.stackId]),w=rm(e.children,Io),j=nt(E=>j0e(E,t,r,y,b,w));if(g!=="vertical"&&g!=="horizontal")return null;var S,_=j?.[0];return _==null||_.height==null||_.width==null?S=0:S=g==="vertical"?_.height/2:_.width/2,v.createElement(C7,{xAxisId:t,yAxisId:r,data:j,dataPointFormatter:Wfe,errorBarOffset:S},v.createElement(Gfe,Oh({},e,{layout:g,needClip:p,data:j,xAxisId:t,yAxisId:r,hide:n,legendType:a,minPointSize:i,activeBar:l,animationBegin:c,animationDuration:d,animationEasing:f,isAnimationActive:h})))}function Yfe(e){var{layout:t,barSettings:{dataKey:r,minPointSize:n},pos:a,bandSize:i,xAxis:l,yAxis:c,xAxisTicks:d,yAxisTicks:f,stackedData:h,displayedData:p,offset:g,cells:y}=e,b=t==="horizontal"?c:l,w=h?b.scale.domain():null,j=Dre({numericAxis:b});return p.map((S,_)=>{var E,T,A,C,O,P;h?E=Ere(h[_],w):(E=kr(S,r),Array.isArray(E)||(E=[j,E]));var F=Mfe(n,U7)(E[1],_);if(t==="horizontal"){var G,[W,ee]=[c.scale(E[0]),c.scale(E[1])];T=YO({axis:l,ticks:d,bandSize:i,offset:a.offset,entry:S,index:_}),A=(G=ee??W)!==null&&G!==void 0?G:void 0,C=a.size;var ue=W-ee;if(O=ls(ue)?0:ue,P={x:T,y:g.top,width:C,height:g.height},Math.abs(F)>0&&Math.abs(O)<Math.abs(F)){var fe=kn(O||F)*(Math.abs(F)-Math.abs(O));A-=fe,O+=fe}}else{var[Q,K]=[l.scale(E[0]),l.scale(E[1])];if(T=Q,A=YO({axis:c,ticks:f,bandSize:i,offset:a.offset,entry:S,index:_}),C=K-Q,O=a.size,P={x:g.left,y:A,width:g.width,height:O},Math.abs(F)>0&&Math.abs(C)<Math.abs(F)){var J=kn(C||F)*(Math.abs(F)-Math.abs(C));C+=J}}var se=ea(ea({},S),{},{x:T,y:A,width:C,height:O,value:h?E:E[1],payload:S,background:P,tooltipPosition:{x:T+C/2,y:A+O/2}},y&&y[_]&&y[_].props);return se})}class cl extends v.PureComponent{render(){return v.createElement(O7,{type:"bar",data:null,xAxisId:this.props.xAxisId,yAxisId:this.props.yAxisId,zAxisId:0,dataKey:this.props.dataKey,stackId:this.props.stackId,hide:this.props.hide,barSize:this.props.barSize},v.createElement(dfe,null),v.createElement(k7,{legendPayload:Ufe(this.props)}),v.createElement(f_,{fn:zfe,args:this.props}),v.createElement(Kfe,this.props))}}Ty(cl,"displayName","Bar");Ty(cl,"defaultProps",z7);function d5(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function Zp(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?d5(Object(r),!0).forEach(function(n){Xfe(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):d5(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Xfe(e,t,r){return(t=Qfe(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Qfe(e){var t=Zfe(e,"string");return typeof t=="symbol"?t:t+""}function Zfe(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var Jfe=(e,t)=>t,e0e=(e,t,r)=>r,t0e=(e,t,r,n)=>n,g_=(e,t,r,n,a)=>a,r0e=(e,t,r,n,a)=>a.maxBarSize,n0e=(e,t,r,n,a,i)=>i,f5=(e,t,r)=>{var n=r??e;if(!xr(n))return fa(n,t,0)},a0e=ke([Ht,by,Jfe,e0e,t0e],(e,t,r,n,a)=>t.filter(i=>e==="horizontal"?i.xAxisId===r:i.yAxisId===n).filter(i=>i.isPanorama===a).filter(i=>i.hide===!1).filter(i=>i.type==="bar")),s0e=(e,t,r,n)=>{var a=Ht(e);return a==="horizontal"?Kj(e,"yAxis",r,n):Kj(e,"xAxis",t,n)},i0e=(e,t,r)=>{var n=Ht(e);return n==="horizontal"?mD(e,"xAxis",t):mD(e,"yAxis",r)};function l0e(e){return e.stackId!=null&&e.dataKey!=null}var o0e=(e,t,r)=>{var n={},a=e.filter(l0e),i=e.filter(f=>f.stackId==null),l=a.reduce((f,h)=>(f[h.stackId]||(f[h.stackId]=[]),f[h.stackId].push(h),f),n),c=Object.entries(l).map(f=>{var[h,p]=f,g=p.map(b=>b.dataKey),y=f5(t,r,p[0].barSize);return{stackId:h,dataKeys:g,barSize:y}}),d=i.map(f=>{var h=[f.dataKey].filter(g=>g!=null),p=f5(t,r,f.barSize);return{stackId:void 0,dataKeys:h,barSize:p}});return[...c,...d]},c0e=ke([a0e,gle,i0e],o0e),u0e=(e,t,r,n,a)=>{var i,l,c=Ht(e),d=oL(e),{maxBarSize:f}=a,h=xr(f)?d:f,p,g;return c==="horizontal"?(p=Fi(e,"xAxis",t,n),g=Mo(e,"xAxis",t,n)):(p=Fi(e,"yAxis",r,n),g=Mo(e,"yAxis",r,n)),(i=(l=jh(p,g,!0))!==null&&l!==void 0?l:h)!==null&&i!==void 0?i:0},H7=(e,t,r,n)=>{var a=Ht(e),i,l;return a==="horizontal"?(i=Fi(e,"xAxis",t,n),l=Mo(e,"xAxis",t,n)):(i=Fi(e,"yAxis",r,n),l=Mo(e,"yAxis",r,n)),jh(i,l)};function d0e(e,t,r,n,a){var i=n.length;if(!(i<1)){var l=fa(e,r,0,!0),c,d=[];if(us(n[0].barSize)){var f=!1,h=r/i,p=n.reduce((S,_)=>S+(_.barSize||0),0);p+=(i-1)*l,p>=r&&(p-=(i-1)*l,l=0),p>=r&&h>0&&(f=!0,h*=.9,p=i*h);var g=(r-p)/2>>0,y={offset:g-l,size:0};c=n.reduce((S,_)=>{var E,T={stackId:_.stackId,dataKeys:_.dataKeys,position:{offset:y.offset+y.size+l,size:f?h:(E=_.barSize)!==null&&E!==void 0?E:0}},A=[...S,T];return y=A[A.length-1].position,A},d)}else{var b=fa(t,r,0,!0);r-2*b-(i-1)*l<=0&&(l=0);var w=(r-2*b-(i-1)*l)/i;w>1&&(w>>=0);var j=us(a)?Math.min(w,a):w;c=n.reduce((S,_,E)=>[...S,{stackId:_.stackId,dataKeys:_.dataKeys,position:{offset:b+(w+l)*E+(w-j)/2,size:j}}],d)}return c}}var f0e=(e,t,r,n,a,i,l)=>{var c=xr(l)?t:l,d=d0e(r,n,a!==i?a:i,e,c);return a!==i&&d!=null&&(d=d.map(f=>Zp(Zp({},f),{},{position:Zp(Zp({},f.position),{},{offset:f.position.offset-a/2})}))),d},h0e=ke([c0e,oL,ple,cL,u0e,H7,r0e],f0e),m0e=(e,t,r,n)=>Fi(e,"xAxis",t,n),p0e=(e,t,r,n)=>Fi(e,"yAxis",r,n),g0e=(e,t,r,n)=>Mo(e,"xAxis",t,n),x0e=(e,t,r,n)=>Mo(e,"yAxis",r,n),y0e=ke([h0e,g_],(e,t)=>{if(e!=null){var r=e.find(n=>n.stackId===t.stackId&&n.dataKeys.includes(t.dataKey));if(r!=null)return r.position}}),v0e=(e,t)=>{if(!(!e||t?.dataKey==null)){var{stackId:r}=t;if(r!=null){var n=e[r];if(n){var{stackedData:a}=n;if(a){var i=a.find(l=>l.key===t.dataKey);return i}}}}},b0e=ke([by,g_],(e,t)=>{if(e.some(r=>r.type==="bar"&&t.dataKey===r.dataKey&&t.stackId===r.stackId&&t.stackId===r.stackId))return t}),w0e=ke([s0e,g_],v0e),j0e=ke([xn,m0e,p0e,g0e,x0e,y0e,Ht,jk,H7,w0e,b0e,n0e],(e,t,r,n,a,i,l,c,d,f,h,p)=>{var{chartData:g,dataStartIndex:y,dataEndIndex:b}=c;if(!(h==null||i==null||l!=="horizontal"&&l!=="vertical"||t==null||r==null||n==null||a==null||d==null)){var{data:w}=h,j;if(w!=null&&w.length>0?j=w:j=g?.slice(y,b+1),j!=null)return Yfe({layout:l,barSettings:h,pos:i,bandSize:d,xAxis:t,yAxis:r,xAxisTicks:n,yAxisTicks:a,stackedData:f,displayedData:j,offset:e,cells:p})}}),V7=e=>{var{chartData:t}=e,r=Mr(),n=pa();return v.useEffect(()=>n?()=>{}:(r(SD(t)),()=>{r(SD(void 0))}),[t,r,n]),null},h5={x:0,y:0,width:0,height:0,padding:{top:0,right:0,bottom:0,left:0}},q7=Vs({name:"brush",initialState:h5,reducers:{setBrushSettings(e,t){return t.payload==null?h5:t.payload}}}),{setBrushSettings:GTe}=q7.actions,N0e=q7.reducer;function S0e(e,t,r){return(t=k0e(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function k0e(e){var t=_0e(e,"string");return typeof t=="symbol"?t:t+""}function _0e(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}class x_{static create(t){return new x_(t)}constructor(t){this.scale=t}get domain(){return this.scale.domain}get range(){return this.scale.range}get rangeMin(){return this.range()[0]}get rangeMax(){return this.range()[1]}get bandwidth(){return this.scale.bandwidth}apply(t){var{bandAware:r,position:n}=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(t!==void 0){if(n)switch(n){case"start":return this.scale(t);case"middle":{var a=this.bandwidth?this.bandwidth()/2:0;return this.scale(t)+a}case"end":{var i=this.bandwidth?this.bandwidth():0;return this.scale(t)+i}default:return this.scale(t)}if(r){var l=this.bandwidth?this.bandwidth()/2:0;return this.scale(t)+l}return this.scale(t)}}isInRange(t){var r=this.range(),n=r[0],a=r[r.length-1];return n<=a?t>=n&&t<=a:t>=a&&t<=n}}S0e(x_,"EPS",1e-4);function E0e(e){return(e%180+180)%180}var A0e=function(t){var{width:r,height:n}=t,a=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,i=E0e(a),l=i*Math.PI/180,c=Math.atan(n/r),d=l>c&&l<Math.PI-c?n/Math.sin(l):r/Math.cos(l);return Math.abs(d)},T0e={dots:[],areas:[],lines:[]},W7=Vs({name:"referenceElements",initialState:T0e,reducers:{addDot:(e,t)=>{e.dots.push(t.payload)},removeDot:(e,t)=>{var r=fl(e).dots.findIndex(n=>n===t.payload);r!==-1&&e.dots.splice(r,1)},addArea:(e,t)=>{e.areas.push(t.payload)},removeArea:(e,t)=>{var r=fl(e).areas.findIndex(n=>n===t.payload);r!==-1&&e.areas.splice(r,1)},addLine:(e,t)=>{e.lines.push(t.payload)},removeLine:(e,t)=>{var r=fl(e).lines.findIndex(n=>n===t.payload);r!==-1&&e.lines.splice(r,1)}}}),{addDot:KTe,removeDot:YTe,addArea:XTe,removeArea:QTe,addLine:ZTe,removeLine:JTe}=W7.actions,C0e=W7.reducer,O0e=v.createContext(void 0),D0e=e=>{var{children:t}=e,[r]=v.useState("".concat(Zc("recharts"),"-clip")),n=m_();if(n==null)return null;var{x:a,y:i,width:l,height:c}=n;return v.createElement(O0e.Provider,{value:r},v.createElement("defs",null,v.createElement("clipPath",{id:r},v.createElement("rect",{x:a,y:i,height:c,width:l}))),t)};function n2(e,t){for(var r in e)if({}.hasOwnProperty.call(e,r)&&(!{}.hasOwnProperty.call(t,r)||e[r]!==t[r]))return!1;for(var n in t)if({}.hasOwnProperty.call(t,n)&&!{}.hasOwnProperty.call(e,n))return!1;return!0}function G7(e,t,r){if(t<1)return[];if(t===1&&r===void 0)return e;for(var n=[],a=0;a<e.length;a+=t)n.push(e[a]);return n}function P0e(e,t,r){var n={width:e.width+t.width,height:e.height+t.height};return A0e(n,r)}function M0e(e,t,r){var n=r==="width",{x:a,y:i,width:l,height:c}=e;return t===1?{start:n?a:i,end:n?a+l:i+c}:{start:n?a+l:i+c,end:n?a:i}}function ux(e,t,r,n,a){if(e*t<e*n||e*t>e*a)return!1;var i=r();return e*(t-e*i/2-n)>=0&&e*(t+e*i/2-a)<=0}function R0e(e,t){return G7(e,t+1)}function I0e(e,t,r,n,a){for(var i=(n||[]).slice(),{start:l,end:c}=t,d=0,f=1,h=l,p=function(){var b=n?.[d];if(b===void 0)return{v:G7(n,f)};var w=d,j,S=()=>(j===void 0&&(j=r(b,w)),j),_=b.coordinate,E=d===0||ux(e,_,S,h,c);E||(d=0,h=l,f+=1),E&&(h=_+e*(S()/2+a),d+=f)},g;f<=i.length;)if(g=p(),g)return g.v;return[]}function m5(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function Jn(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?m5(Object(r),!0).forEach(function(n){F0e(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):m5(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function F0e(e,t,r){return(t=L0e(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function L0e(e){var t=B0e(e,"string");return typeof t=="symbol"?t:t+""}function B0e(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function $0e(e,t,r,n,a){for(var i=(n||[]).slice(),l=i.length,{start:c}=t,{end:d}=t,f=function(g){var y=i[g],b,w=()=>(b===void 0&&(b=r(y,g)),b);if(g===l-1){var j=e*(y.coordinate+e*w()/2-d);i[g]=y=Jn(Jn({},y),{},{tickCoord:j>0?y.coordinate-j*e:y.coordinate})}else i[g]=y=Jn(Jn({},y),{},{tickCoord:y.coordinate});var S=ux(e,y.tickCoord,w,c,d);S&&(d=y.tickCoord-e*(w()/2+a),i[g]=Jn(Jn({},y),{},{isShow:!0}))},h=l-1;h>=0;h--)f(h);return i}function U0e(e,t,r,n,a,i){var l=(n||[]).slice(),c=l.length,{start:d,end:f}=t;if(i){var h=n[c-1],p=r(h,c-1),g=e*(h.coordinate+e*p/2-f);l[c-1]=h=Jn(Jn({},h),{},{tickCoord:g>0?h.coordinate-g*e:h.coordinate});var y=ux(e,h.tickCoord,()=>p,d,f);y&&(f=h.tickCoord-e*(p/2+a),l[c-1]=Jn(Jn({},h),{},{isShow:!0}))}for(var b=i?c-1:c,w=function(_){var E=l[_],T,A=()=>(T===void 0&&(T=r(E,_)),T);if(_===0){var C=e*(E.coordinate-e*A()/2-d);l[_]=E=Jn(Jn({},E),{},{tickCoord:C<0?E.coordinate-C*e:E.coordinate})}else l[_]=E=Jn(Jn({},E),{},{tickCoord:E.coordinate});var O=ux(e,E.tickCoord,A,d,f);O&&(d=E.tickCoord+e*(A()/2+a),l[_]=Jn(Jn({},E),{},{isShow:!0}))},j=0;j<b;j++)w(j);return l}function y_(e,t,r){var{tick:n,ticks:a,viewBox:i,minTickGap:l,orientation:c,interval:d,tickFormatter:f,unit:h,angle:p}=e;if(!a||!a.length||!n)return[];if(Ze(d)||ou.isSsr){var g;return(g=R0e(a,Ze(d)?d:0))!==null&&g!==void 0?g:[]}var y=[],b=c==="top"||c==="bottom"?"width":"height",w=h&&b==="width"?G0(h,{fontSize:t,letterSpacing:r}):{width:0,height:0},j=(E,T)=>{var A=typeof f=="function"?f(E.value,T):E.value;return b==="width"?P0e(G0(A,{fontSize:t,letterSpacing:r}),w,p):G0(A,{fontSize:t,letterSpacing:r})[b]},S=a.length>=2?kn(a[1].coordinate-a[0].coordinate):1,_=M0e(i,S,b);return d==="equidistantPreserveStart"?I0e(S,_,j,a,l):(d==="preserveStart"||d==="preserveStartEnd"?y=U0e(S,_,j,a,l,d==="preserveStartEnd"):y=$0e(S,_,j,a,l),y.filter(E=>E.isShow))}var z0e=["viewBox"],H0e=["viewBox"];function fd(){return fd=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},fd.apply(null,arguments)}function p5(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function mn(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?p5(Object(r),!0).forEach(function(n){v_(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):p5(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function g5(e,t){if(e==null)return{};var r,n,a=V0e(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(n=0;n<i.length;n++)r=i[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(a[r]=e[r])}return a}function V0e(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}function v_(e,t,r){return(t=q0e(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function q0e(e){var t=W0e(e,"string");return typeof t=="symbol"?t:t+""}function W0e(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}class Ko extends v.Component{constructor(t){super(t),this.tickRefs=v.createRef(),this.tickRefs.current=[],this.state={fontSize:"",letterSpacing:""}}shouldComponentUpdate(t,r){var{viewBox:n}=t,a=g5(t,z0e),i=this.props,{viewBox:l}=i,c=g5(i,H0e);return!n2(n,l)||!n2(a,c)||!n2(r,this.state)}getTickLineCoord(t){var{x:r,y:n,width:a,height:i,orientation:l,tickSize:c,mirror:d,tickMargin:f}=this.props,h,p,g,y,b,w,j=d?-1:1,S=t.tickSize||c,_=Ze(t.tickCoord)?t.tickCoord:t.coordinate;switch(l){case"top":h=p=t.coordinate,y=n+ +!d*i,g=y-j*S,w=g-j*f,b=_;break;case"left":g=y=t.coordinate,p=r+ +!d*a,h=p-j*S,b=h-j*f,w=_;break;case"right":g=y=t.coordinate,p=r+ +d*a,h=p+j*S,b=h+j*f,w=_;break;default:h=p=t.coordinate,y=n+ +d*i,g=y+j*S,w=g+j*f,b=_;break}return{line:{x1:h,y1:g,x2:p,y2:y},tick:{x:b,y:w}}}getTickTextAnchor(){var{orientation:t,mirror:r}=this.props,n;switch(t){case"left":n=r?"start":"end";break;case"right":n=r?"end":"start";break;default:n="middle";break}return n}getTickVerticalAnchor(){var{orientation:t,mirror:r}=this.props;switch(t){case"left":case"right":return"middle";case"top":return r?"start":"end";default:return r?"end":"start"}}renderAxisLine(){var{x:t,y:r,width:n,height:a,orientation:i,mirror:l,axisLine:c}=this.props,d=mn(mn(mn({},Et(this.props,!1)),Et(c,!1)),{},{fill:"none"});if(i==="top"||i==="bottom"){var f=+(i==="top"&&!l||i==="bottom"&&l);d=mn(mn({},d),{},{x1:t,y1:r+f*a,x2:t+n,y2:r+f*a})}else{var h=+(i==="left"&&!l||i==="right"&&l);d=mn(mn({},d),{},{x1:t+h*n,y1:r,x2:t+h*n,y2:r+a})}return v.createElement("line",fd({},d,{className:Bt("recharts-cartesian-axis-line",Oo(c,"className"))}))}static renderTickItem(t,r,n){var a,i=Bt(r.className,"recharts-cartesian-axis-tick-value");if(v.isValidElement(t))a=v.cloneElement(t,mn(mn({},r),{},{className:i}));else if(typeof t=="function")a=t(mn(mn({},r),{},{className:i}));else{var l="recharts-cartesian-axis-tick-value";typeof t!="boolean"&&(l=Bt(l,t.className)),a=v.createElement(Ey,fd({},r,{className:l}),n)}return a}renderTicks(t,r){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:[],{tickLine:a,stroke:i,tick:l,tickFormatter:c,unit:d}=this.props,f=y_(mn(mn({},this.props),{},{ticks:n}),t,r),h=this.getTickTextAnchor(),p=this.getTickVerticalAnchor(),g=Et(this.props,!1),y=Et(l,!1),b=mn(mn({},g),{},{fill:"none"},Et(a,!1)),w=f.map((j,S)=>{var{line:_,tick:E}=this.getTickLineCoord(j),T=mn(mn(mn(mn({textAnchor:h,verticalAnchor:p},g),{},{stroke:"none",fill:i},y),E),{},{index:S,payload:j,visibleTicksCount:f.length,tickFormatter:c});return v.createElement(Tn,fd({className:"recharts-cartesian-axis-tick",key:"tick-".concat(j.value,"-").concat(j.coordinate,"-").concat(j.tickCoord)},tm(this.props,j,S)),a&&v.createElement("line",fd({},b,_,{className:Bt("recharts-cartesian-axis-tick-line",Oo(a,"className"))})),l&&Ko.renderTickItem(l,T,"".concat(typeof c=="function"?c(j.value,S):j.value).concat(d||"")))});return w.length>0?v.createElement("g",{className:"recharts-cartesian-axis-ticks"},w):null}render(){var{axisLine:t,width:r,height:n,className:a,hide:i}=this.props;if(i)return null;var{ticks:l}=this.props;return r!=null&&r<=0||n!=null&&n<=0?null:v.createElement(Tn,{className:Bt("recharts-cartesian-axis",a),ref:c=>{if(c){var d=c.getElementsByClassName("recharts-cartesian-axis-tick-value");this.tickRefs.current=Array.from(d);var f=d[0];if(f){var h=window.getComputedStyle(f).fontSize,p=window.getComputedStyle(f).letterSpacing;(h!==this.state.fontSize||p!==this.state.letterSpacing)&&this.setState({fontSize:window.getComputedStyle(f).fontSize,letterSpacing:window.getComputedStyle(f).letterSpacing})}}}},t&&this.renderAxisLine(),this.renderTicks(this.state.fontSize,this.state.letterSpacing,l),Za.renderCallByParent(this.props))}}v_(Ko,"displayName","CartesianAxis");v_(Ko,"defaultProps",{x:0,y:0,width:0,height:0,viewBox:{x:0,y:0,width:0,height:0},orientation:"bottom",ticks:[],stroke:"#666",tickLine:!0,axisLine:!0,tick:!0,mirror:!1,minTickGap:5,tickSize:6,tickMargin:2,interval:"preserveEnd"});var G0e=["x1","y1","x2","y2","key"],K0e=["offset"],Y0e=["xAxisId","yAxisId"],X0e=["xAxisId","yAxisId"];function x5(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function ta(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?x5(Object(r),!0).forEach(function(n){Q0e(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):x5(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Q0e(e,t,r){return(t=Z0e(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Z0e(e){var t=J0e(e,"string");return typeof t=="symbol"?t:t+""}function J0e(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Rc(){return Rc=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Rc.apply(null,arguments)}function dx(e,t){if(e==null)return{};var r,n,a=ehe(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(n=0;n<i.length;n++)r=i[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(a[r]=e[r])}return a}function ehe(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}var the=e=>{var{fill:t}=e;if(!t||t==="none")return null;var{fillOpacity:r,x:n,y:a,width:i,height:l,ry:c}=e;return v.createElement("rect",{x:n,y:a,ry:c,width:i,height:l,stroke:"none",fill:t,fillOpacity:r,className:"recharts-cartesian-grid-bg"})};function K7(e,t){var r;if(v.isValidElement(e))r=v.cloneElement(e,t);else if(typeof e=="function")r=e(t);else{var{x1:n,y1:a,x2:i,y2:l,key:c}=t,d=dx(t,G0e),f=Et(d,!1),{offset:h}=f,p=dx(f,K0e);r=v.createElement("line",Rc({},p,{x1:n,y1:a,x2:i,y2:l,fill:"none",key:c}))}return r}function rhe(e){var{x:t,width:r,horizontal:n=!0,horizontalPoints:a}=e;if(!n||!a||!a.length)return null;var{xAxisId:i,yAxisId:l}=e,c=dx(e,Y0e),d=a.map((f,h)=>{var p=ta(ta({},c),{},{x1:t,y1:f,x2:t+r,y2:f,key:"line-".concat(h),index:h});return K7(n,p)});return v.createElement("g",{className:"recharts-cartesian-grid-horizontal"},d)}function nhe(e){var{y:t,height:r,vertical:n=!0,verticalPoints:a}=e;if(!n||!a||!a.length)return null;var{xAxisId:i,yAxisId:l}=e,c=dx(e,X0e),d=a.map((f,h)=>{var p=ta(ta({},c),{},{x1:f,y1:t,x2:f,y2:t+r,key:"line-".concat(h),index:h});return K7(n,p)});return v.createElement("g",{className:"recharts-cartesian-grid-vertical"},d)}function ahe(e){var{horizontalFill:t,fillOpacity:r,x:n,y:a,width:i,height:l,horizontalPoints:c,horizontal:d=!0}=e;if(!d||!t||!t.length)return null;var f=c.map(p=>Math.round(p+a-a)).sort((p,g)=>p-g);a!==f[0]&&f.unshift(0);var h=f.map((p,g)=>{var y=!f[g+1],b=y?a+l-p:f[g+1]-p;if(b<=0)return null;var w=g%t.length;return v.createElement("rect",{key:"react-".concat(g),y:p,x:n,height:b,width:i,stroke:"none",fill:t[w],fillOpacity:r,className:"recharts-cartesian-grid-bg"})});return v.createElement("g",{className:"recharts-cartesian-gridstripes-horizontal"},h)}function she(e){var{vertical:t=!0,verticalFill:r,fillOpacity:n,x:a,y:i,width:l,height:c,verticalPoints:d}=e;if(!t||!r||!r.length)return null;var f=d.map(p=>Math.round(p+a-a)).sort((p,g)=>p-g);a!==f[0]&&f.unshift(0);var h=f.map((p,g)=>{var y=!f[g+1],b=y?a+l-p:f[g+1]-p;if(b<=0)return null;var w=g%r.length;return v.createElement("rect",{key:"react-".concat(g),x:p,y:i,width:b,height:c,stroke:"none",fill:r[w],fillOpacity:n,className:"recharts-cartesian-grid-bg"})});return v.createElement("g",{className:"recharts-cartesian-gridstripes-vertical"},h)}var ihe=(e,t)=>{var{xAxis:r,width:n,height:a,offset:i}=e;return KI(y_(ta(ta(ta({},Ko.defaultProps),r),{},{ticks:YI(r),viewBox:{x:0,y:0,width:n,height:a}})),i.left,i.left+i.width,t)},lhe=(e,t)=>{var{yAxis:r,width:n,height:a,offset:i}=e;return KI(y_(ta(ta(ta({},Ko.defaultProps),r),{},{ticks:YI(r),viewBox:{x:0,y:0,width:n,height:a}})),i.top,i.top+i.height,t)},ohe={horizontal:!0,vertical:!0,horizontalPoints:[],verticalPoints:[],stroke:"#ccc",fill:"none",verticalFill:[],horizontalFill:[],xAxisId:0,yAxisId:0};function Ic(e){var t=GS(),r=KS(),n=tF(),a=ta(ta({},qs(e,ohe)),{},{x:Ze(e.x)?e.x:n.left,y:Ze(e.y)?e.y:n.top,width:Ze(e.width)?e.width:n.width,height:Ze(e.height)?e.height:n.height}),{xAxisId:i,yAxisId:l,x:c,y:d,width:f,height:h,syncWithTicks:p,horizontalValues:g,verticalValues:y}=a,b=pa(),w=nt(F=>pD(F,"xAxis",i,b)),j=nt(F=>pD(F,"yAxis",l,b));if(!Ze(f)||f<=0||!Ze(h)||h<=0||!Ze(c)||c!==+c||!Ze(d)||d!==+d)return null;var S=a.verticalCoordinatesGenerator||ihe,_=a.horizontalCoordinatesGenerator||lhe,{horizontalPoints:E,verticalPoints:T}=a;if((!E||!E.length)&&typeof _=="function"){var A=g&&g.length,C=_({yAxis:j?ta(ta({},j),{},{ticks:A?g:j.ticks}):void 0,width:t,height:r,offset:n},A?!0:p);W0(Array.isArray(C),"horizontalCoordinatesGenerator should return Array but instead it returned [".concat(typeof C,"]")),Array.isArray(C)&&(E=C)}if((!T||!T.length)&&typeof S=="function"){var O=y&&y.length,P=S({xAxis:w?ta(ta({},w),{},{ticks:O?y:w.ticks}):void 0,width:t,height:r,offset:n},O?!0:p);W0(Array.isArray(P),"verticalCoordinatesGenerator should return Array but instead it returned [".concat(typeof P,"]")),Array.isArray(P)&&(T=P)}return v.createElement("g",{className:"recharts-cartesian-grid"},v.createElement(the,{fill:a.fill,fillOpacity:a.fillOpacity,x:a.x,y:a.y,width:a.width,height:a.height,ry:a.ry}),v.createElement(ahe,Rc({},a,{horizontalPoints:E})),v.createElement(she,Rc({},a,{verticalPoints:T})),v.createElement(rhe,Rc({},a,{offset:n,horizontalPoints:E,xAxis:w,yAxis:j})),v.createElement(nhe,Rc({},a,{offset:n,verticalPoints:T,xAxis:w,yAxis:j})))}Ic.displayName="CartesianGrid";var Y7=(e,t,r,n)=>Fi(e,"xAxis",t,n),X7=(e,t,r,n)=>Mo(e,"xAxis",t,n),Q7=(e,t,r,n)=>Fi(e,"yAxis",r,n),Z7=(e,t,r,n)=>Mo(e,"yAxis",r,n),che=ke([Ht,Y7,Q7,X7,Z7],(e,t,r,n,a)=>Vo(e,"xAxis")?jh(t,n,!1):jh(r,a,!1)),uhe=(e,t,r,n,a)=>a,dhe=ke([by,uhe],(e,t)=>{if(e.some(r=>r.type==="line"&&t.dataKey===r.dataKey&&t.data===r.data))return t}),fhe=ke([Ht,Y7,Q7,X7,Z7,dhe,che,jk],(e,t,r,n,a,i,l,c)=>{var{chartData:d,dataStartIndex:f,dataEndIndex:h}=c;if(!(i==null||t==null||r==null||n==null||a==null||n.length===0||a.length===0||l==null)){var{dataKey:p,data:g}=i,y;if(g!=null&&g.length>0?y=g:y=d?.slice(f,h+1),y!=null)return Ohe({layout:e,xAxis:t,yAxis:r,xAxisTicks:n,yAxisTicks:a,dataKey:p,bandSize:l,displayedData:y})}}),hhe=["type","layout","connectNulls","needClip"],mhe=["activeDot","animateNewValues","animationBegin","animationDuration","animationEasing","connectNulls","dot","hide","isAnimationActive","label","legendType","xAxisId","yAxisId"];function J7(e,t){if(e==null)return{};var r,n,a=phe(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(n=0;n<i.length;n++)r=i[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(a[r]=e[r])}return a}function phe(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}function y5(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function ni(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?y5(Object(r),!0).forEach(function(n){Cy(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):y5(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Cy(e,t,r){return(t=ghe(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function ghe(e){var t=xhe(e,"string");return typeof t=="symbol"?t:t+""}function xhe(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Id(){return Id=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Id.apply(null,arguments)}var yhe=e=>{var{dataKey:t,name:r,stroke:n,legendType:a,hide:i}=e;return[{inactive:i,dataKey:t,type:a,color:n,value:Qd(r,t),payload:e}]};function vhe(e){var{dataKey:t,data:r,stroke:n,strokeWidth:a,fill:i,name:l,hide:c,unit:d}=e;return{dataDefinedOnItem:r,positions:void 0,settings:{stroke:n,strokeWidth:a,fill:i,dataKey:t,nameKey:void 0,name:Qd(l,t),hide:c,type:e.tooltipType,color:e.stroke,unit:d}}}var e9=(e,t)=>"".concat(t,"px ").concat(e-t,"px");function bhe(e,t){for(var r=e.length%2!==0?[...e,0]:e,n=[],a=0;a<t;++a)n=[...n,...r];return n}var whe=(e,t,r)=>{var n=r.reduce((p,g)=>p+g);if(!n)return e9(t,e);for(var a=Math.floor(e/n),i=e%n,l=t-e,c=[],d=0,f=0;d<r.length;f+=r[d],++d)if(f+r[d]>i){c=[...r.slice(0,d),i-f];break}var h=c.length%2===0?[0,l]:[l];return[...bhe(r,a),...c,...h].map(p=>"".concat(p,"px")).join(", ")};function jhe(e,t){var r;if(v.isValidElement(e))r=v.cloneElement(e,t);else if(typeof e=="function")r=e(t);else{var n=Bt("recharts-line-dot",typeof e!="boolean"?e.className:"");r=v.createElement(x7,Id({},t,{className:n}))}return r}function Nhe(e,t){return e==null?!1:t?!0:e.length===1}function She(e){var{clipPathId:t,points:r,props:n}=e,{dot:a,dataKey:i,needClip:l}=n;if(!Nhe(r,a))return null;var c=W8(a),d=Et(n,!1),f=Et(a,!0),h=r.map((g,y)=>{var b=ni(ni(ni({key:"dot-".concat(y),r:3},d),f),{},{index:y,cx:g.x,cy:g.y,dataKey:i,value:g.value,payload:g.payload,points:r});return jhe(a,b)}),p={clipPath:l?"url(#clipPath-".concat(c?"":"dots-").concat(t,")"):null};return v.createElement(Tn,Id({className:"recharts-line-dots",key:"dots"},p),h)}function aN(e){var{clipPathId:t,pathRef:r,points:n,strokeDasharray:a,props:i,showLabels:l}=e,{type:c,layout:d,connectNulls:f,needClip:h}=i,p=J7(i,hhe),g=ni(ni({},Et(p,!0)),{},{fill:"none",className:"recharts-line-curve",clipPath:h?"url(#clipPath-".concat(t,")"):null,points:n,type:c,layout:d,connectNulls:f,strokeDasharray:a??i.strokeDasharray});return v.createElement(v.Fragment,null,n?.length>1&&v.createElement(XS,Id({},g,{pathRef:r})),v.createElement(She,{points:n,clipPathId:t,props:i}),l&&So.renderCallByParent(i,n))}function khe(e){try{return e&&e.getTotalLength&&e.getTotalLength()||0}catch{return 0}}function _he(e){var{clipPathId:t,props:r,pathRef:n,previousPointsRef:a,longestAnimatedLengthRef:i}=e,{points:l,strokeDasharray:c,isAnimationActive:d,animationBegin:f,animationDuration:h,animationEasing:p,animateNewValues:g,width:y,height:b,onAnimationEnd:w,onAnimationStart:j}=r,S=a.current,_=h_(r,"recharts-line-"),[E,T]=v.useState(!1),A=v.useCallback(()=>{typeof w=="function"&&w(),T(!1)},[w]),C=v.useCallback(()=>{typeof j=="function"&&j(),T(!0)},[j]),O=khe(n.current),P=i.current;return v.createElement(Po,{begin:f,duration:h,isActive:d,easing:p,from:{t:0},to:{t:1},onAnimationEnd:A,onAnimationStart:C,key:_},F=>{var{t:G}=F,W=Qa(P,O+P),ee=Math.min(W(G),O),ue;if(c){var fe="".concat(c).split(/[,\s]+/gim).map(J=>parseFloat(J));ue=whe(ee,O,fe)}else ue=e9(O,ee);if(S){var Q=S.length/l.length,K=G===1?l:l.map((J,se)=>{var xe=Math.floor(se*Q);if(S[xe]){var U=S[xe],ae=Qa(U.x,J.x),D=Qa(U.y,J.y);return ni(ni({},J),{},{x:ae(G),y:D(G)})}if(g){var H=Qa(y*2,J.x),B=Qa(b/2,J.y);return ni(ni({},J),{},{x:H(G),y:B(G)})}return ni(ni({},J),{},{x:J.x,y:J.y})});return a.current=K,v.createElement(aN,{props:r,points:K,clipPathId:t,pathRef:n,showLabels:!E,strokeDasharray:ue})}return G>0&&O>0&&(a.current=l,i.current=ee),v.createElement(aN,{props:r,points:l,clipPathId:t,pathRef:n,showLabels:!E,strokeDasharray:ue})})}function Ehe(e){var{clipPathId:t,props:r}=e,{points:n,isAnimationActive:a}=r,i=v.useRef(null),l=v.useRef(0),c=v.useRef(null),d=i.current;return a&&n&&n.length&&d!==n?v.createElement(_he,{props:r,clipPathId:t,previousPointsRef:i,longestAnimatedLengthRef:l,pathRef:c}):v.createElement(aN,{props:r,points:n,clipPathId:t,pathRef:c,showLabels:!0})}var Ahe=(e,t)=>({x:e.x,y:e.y,value:e.value,errorVal:kr(e.payload,t)});class The extends v.Component{constructor(){super(...arguments),Cy(this,"id",Zc("recharts-line-"))}render(){var t,{hide:r,dot:n,points:a,className:i,xAxisId:l,yAxisId:c,top:d,left:f,width:h,height:p,id:g,needClip:y,layout:b}=this.props;if(r)return null;var w=Bt("recharts-line",i),j=xr(g)?this.id:g,{r:S=3,strokeWidth:_=2}=(t=Et(n,!1))!==null&&t!==void 0?t:{r:3,strokeWidth:2},E=W8(n),T=S*2+_;return v.createElement(v.Fragment,null,v.createElement(Tn,{className:w},y&&v.createElement("defs",null,v.createElement(B7,{clipPathId:j,xAxisId:l,yAxisId:c}),!E&&v.createElement("clipPath",{id:"clipPath-dots-".concat(j)},v.createElement("rect",{x:f-T/2,y:d-T/2,width:h+T,height:p+T}))),v.createElement(Ehe,{props:this.props,clipPathId:j}),v.createElement(M7,{direction:b==="horizontal"?"y":"x"},v.createElement(C7,{xAxisId:l,yAxisId:c,data:a,dataPointFormatter:Ahe,errorBarOffset:0},this.props.children))),v.createElement(ufe,{activeDot:this.props.activeDot,points:a,mainColor:this.props.stroke,itemDataKey:this.props.dataKey}))}}var t9={activeDot:!0,animateNewValues:!0,animationBegin:0,animationDuration:1500,animationEasing:"ease",connectNulls:!1,dot:!0,fill:"#fff",hide:!1,isAnimationActive:!ou.isSsr,label:!1,legendType:"line",stroke:"#3182bd",strokeWidth:1,xAxisId:0,yAxisId:0};function Che(e){var t=qs(e,t9),{activeDot:r,animateNewValues:n,animationBegin:a,animationDuration:i,animationEasing:l,connectNulls:c,dot:d,hide:f,isAnimationActive:h,label:p,legendType:g,xAxisId:y,yAxisId:b}=t,w=J7(t,mhe),{needClip:j}=p_(y,b),{height:S,width:_,x:E,y:T}=m_(),A=uy(),C=pa(),O=v.useMemo(()=>({dataKey:e.dataKey,data:e.data}),[e.dataKey,e.data]),P=nt(F=>fhe(F,y,b,C,O));return A!=="horizontal"&&A!=="vertical"?null:v.createElement(The,Id({},w,{connectNulls:c,dot:d,activeDot:r,animateNewValues:n,animationBegin:a,animationDuration:i,animationEasing:l,isAnimationActive:h,hide:f,label:p,legendType:g,xAxisId:y,yAxisId:b,points:P,layout:A,height:S,width:_,left:E,top:T,needClip:j}))}function Ohe(e){var{layout:t,xAxis:r,yAxis:n,xAxisTicks:a,yAxisTicks:i,dataKey:l,bandSize:c,displayedData:d}=e;return d.map((f,h)=>{var p=kr(f,l);return t==="horizontal"?{x:KO({axis:r,ticks:a,bandSize:c,entry:f,index:h}),y:xr(p)?null:n.scale(p),value:p,payload:f}:{x:xr(p)?null:r.scale(p),y:KO({axis:n,ticks:i,bandSize:c,entry:f,index:h}),value:p,payload:f}})}class K0 extends v.PureComponent{render(){return v.createElement(O7,{type:"line",data:this.props.data,xAxisId:this.props.xAxisId,yAxisId:this.props.yAxisId,zAxisId:0,dataKey:this.props.dataKey,stackId:void 0,hide:this.props.hide,barSize:void 0},v.createElement(k7,{legendPayload:yhe(this.props)}),v.createElement(f_,{fn:vhe,args:this.props}),v.createElement(Che,this.props))}}Cy(K0,"displayName","Line");Cy(K0,"defaultProps",t9);function v5(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function b5(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?v5(Object(r),!0).forEach(function(n){Dhe(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):v5(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Dhe(e,t,r){return(t=Phe(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Phe(e){var t=Mhe(e,"string");return typeof t=="symbol"?t:t+""}function Mhe(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var Rhe={xAxis:{},yAxis:{},zAxis:{}},r9=Vs({name:"cartesianAxis",initialState:Rhe,reducers:{addXAxis(e,t){e.xAxis[t.payload.id]=t.payload},removeXAxis(e,t){delete e.xAxis[t.payload.id]},addYAxis(e,t){e.yAxis[t.payload.id]=t.payload},removeYAxis(e,t){delete e.yAxis[t.payload.id]},addZAxis(e,t){e.zAxis[t.payload.id]=t.payload},removeZAxis(e,t){delete e.zAxis[t.payload.id]},updateYAxisWidth(e,t){var{id:r,width:n}=t.payload;e.yAxis[r]&&(e.yAxis[r]=b5(b5({},e.yAxis[r]),{},{width:n}))}}}),{addXAxis:Ihe,removeXAxis:Fhe,addYAxis:Lhe,removeYAxis:Bhe,addZAxis:eCe,removeZAxis:tCe,updateYAxisWidth:$he}=r9.actions,Uhe=r9.reducer,zhe=["children"],Hhe=["dangerouslySetInnerHTML","ticks"];function n9(e,t,r){return(t=Vhe(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Vhe(e){var t=qhe(e,"string");return typeof t=="symbol"?t:t+""}function qhe(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function sN(){return sN=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},sN.apply(null,arguments)}function a9(e,t){if(e==null)return{};var r,n,a=Whe(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(n=0;n<i.length;n++)r=i[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(a[r]=e[r])}return a}function Whe(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}function Ghe(e){var t=Mr(),r=v.useMemo(()=>{var{children:i}=e,l=a9(e,zhe);return l},[e]),n=nt(i=>Pl(i,r.id)),a=r===n;return v.useEffect(()=>(t(Ihe(r)),()=>{t(Fhe(r))}),[r,t]),a?e.children:null}var Khe=e=>{var{xAxisId:t,className:r}=e,n=nt(eF),a=pa(),i="xAxis",l=nt(y=>nf(y,i,t,a)),c=nt(y=>FL(y,i,t,a)),d=nt(y=>PL(y,t)),f=nt(y=>ooe(y,t));if(d==null||f==null)return null;var{dangerouslySetInnerHTML:h,ticks:p}=e,g=a9(e,Hhe);return v.createElement(Ko,sN({},g,{scale:l,x:f.x,y:f.y,width:d.width,height:d.height,className:Bt("recharts-".concat(i," ").concat(i),r),viewBox:n,ticks:c}))},Yhe=e=>{var t,r,n,a,i;return v.createElement(Ghe,{interval:(t=e.interval)!==null&&t!==void 0?t:"preserveEnd",id:e.xAxisId,scale:e.scale,type:e.type,padding:e.padding,allowDataOverflow:e.allowDataOverflow,domain:e.domain,dataKey:e.dataKey,allowDuplicatedCategory:e.allowDuplicatedCategory,allowDecimals:e.allowDecimals,tickCount:e.tickCount,includeHidden:(r=e.includeHidden)!==null&&r!==void 0?r:!1,reversed:e.reversed,ticks:e.ticks,height:e.height,orientation:e.orientation,mirror:e.mirror,hide:e.hide,unit:e.unit,name:e.name,angle:(n=e.angle)!==null&&n!==void 0?n:0,minTickGap:(a=e.minTickGap)!==null&&a!==void 0?a:5,tick:(i=e.tick)!==null&&i!==void 0?i:!0,tickFormatter:e.tickFormatter},v.createElement(Khe,e))};class go extends v.Component{render(){return v.createElement(Yhe,this.props)}}n9(go,"displayName","XAxis");n9(go,"defaultProps",{allowDataOverflow:qa.allowDataOverflow,allowDecimals:qa.allowDecimals,allowDuplicatedCategory:qa.allowDuplicatedCategory,height:qa.height,hide:!1,mirror:qa.mirror,orientation:qa.orientation,padding:qa.padding,reversed:qa.reversed,scale:qa.scale,tickCount:qa.tickCount,type:qa.type,xAxisId:0});var Xhe=e=>{var{ticks:t,label:r,labelGapWithTick:n=5,tickSize:a=0,tickMargin:i=0}=e,l=0;if(t){t.forEach(h=>{if(h){var p=h.getBoundingClientRect();p.width>l&&(l=p.width)}});var c=r?r.getBoundingClientRect().width:0,d=a+i,f=l+d+c+(r?n:0);return Math.round(f)}return 0},Qhe=["dangerouslySetInnerHTML","ticks"];function s9(e,t,r){return(t=Zhe(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Zhe(e){var t=Jhe(e,"string");return typeof t=="symbol"?t:t+""}function Jhe(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function iN(){return iN=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},iN.apply(null,arguments)}function eme(e,t){if(e==null)return{};var r,n,a=tme(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(n=0;n<i.length;n++)r=i[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(a[r]=e[r])}return a}function tme(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}function rme(e){var t=Mr();return v.useEffect(()=>(t(Lhe(e)),()=>{t(Bhe(e))}),[e,t]),null}var nme=e=>{var t,{yAxisId:r,className:n,width:a,label:i}=e,l=v.useRef(null),c=v.useRef(null),d=nt(eF),f=pa(),h=Mr(),p="yAxis",g=nt(E=>nf(E,p,r,f)),y=nt(E=>ML(E,r)),b=nt(E=>coe(E,r)),w=nt(E=>FL(E,p,r,f));if(v.useLayoutEffect(()=>{var E;if(!(a!=="auto"||!y||a_(i)||v.isValidElement(i))){var T=l.current,A=T==null||(E=T.tickRefs)===null||E===void 0?void 0:E.current,{tickSize:C,tickMargin:O}=T.props,P=Xhe({ticks:A,label:c.current,labelGapWithTick:5,tickSize:C,tickMargin:O});Math.round(y.width)!==Math.round(P)&&h($he({id:r,width:P}))}},[l,l==null||(t=l.current)===null||t===void 0||(t=t.tickRefs)===null||t===void 0?void 0:t.current,y?.width,y,h,i,r,a]),y==null||b==null)return null;var{dangerouslySetInnerHTML:j,ticks:S}=e,_=eme(e,Qhe);return v.createElement(Ko,iN({},_,{ref:l,labelRef:c,scale:g,x:b.x,y:b.y,width:y.width,height:y.height,className:Bt("recharts-".concat(p," ").concat(p),n),viewBox:d,ticks:w}))},ame=e=>{var t,r,n,a,i;return v.createElement(v.Fragment,null,v.createElement(rme,{interval:(t=e.interval)!==null&&t!==void 0?t:"preserveEnd",id:e.yAxisId,scale:e.scale,type:e.type,domain:e.domain,allowDataOverflow:e.allowDataOverflow,dataKey:e.dataKey,allowDuplicatedCategory:e.allowDuplicatedCategory,allowDecimals:e.allowDecimals,tickCount:e.tickCount,padding:e.padding,includeHidden:(r=e.includeHidden)!==null&&r!==void 0?r:!1,reversed:e.reversed,ticks:e.ticks,width:e.width,orientation:e.orientation,mirror:e.mirror,hide:e.hide,unit:e.unit,name:e.name,angle:(n=e.angle)!==null&&n!==void 0?n:0,minTickGap:(a=e.minTickGap)!==null&&a!==void 0?a:5,tick:(i=e.tick)!==null&&i!==void 0?i:!0,tickFormatter:e.tickFormatter}),v.createElement(nme,e))},sme={allowDataOverflow:Wa.allowDataOverflow,allowDecimals:Wa.allowDecimals,allowDuplicatedCategory:Wa.allowDuplicatedCategory,hide:!1,mirror:Wa.mirror,orientation:Wa.orientation,padding:Wa.padding,reversed:Wa.reversed,scale:Wa.scale,tickCount:Wa.tickCount,type:Wa.type,width:Wa.width,yAxisId:0};class xo extends v.Component{render(){return v.createElement(ame,this.props)}}s9(xo,"displayName","YAxis");s9(xo,"defaultProps",sme);var a2={exports:{}},s2={};/**
 * @license React
 * use-sync-external-store-with-selector.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var w5;function ime(){if(w5)return s2;w5=1;var e=Ud();function t(d,f){return d===f&&(d!==0||1/d===1/f)||d!==d&&f!==f}var r=typeof Object.is=="function"?Object.is:t,n=e.useSyncExternalStore,a=e.useRef,i=e.useEffect,l=e.useMemo,c=e.useDebugValue;return s2.useSyncExternalStoreWithSelector=function(d,f,h,p,g){var y=a(null);if(y.current===null){var b={hasValue:!1,value:null};y.current=b}else b=y.current;y=l(function(){function j(A){if(!S){if(S=!0,_=A,A=p(A),g!==void 0&&b.hasValue){var C=b.value;if(g(C,A))return E=C}return E=A}if(C=E,r(_,A))return C;var O=p(A);return g!==void 0&&g(C,O)?(_=A,C):(_=A,E=O)}var S=!1,_,E,T=h===void 0?null:h;return[function(){return j(f())},T===null?void 0:function(){return j(T())}]},[f,h,p,g]);var w=n(d,y[0],y[1]);return i(function(){b.hasValue=!0,b.value=w},[w]),c(w),w},s2}var j5;function lme(){return j5||(j5=1,a2.exports=ime()),a2.exports}var ome=lme(),cme=v.version.startsWith("19"),ume=Symbol.for(cme?"react.transitional.element":"react.element"),dme=Symbol.for("react.portal"),fme=Symbol.for("react.fragment"),hme=Symbol.for("react.strict_mode"),mme=Symbol.for("react.profiler"),pme=Symbol.for("react.consumer"),gme=Symbol.for("react.context"),i9=Symbol.for("react.forward_ref"),xme=Symbol.for("react.suspense"),yme=Symbol.for("react.suspense_list"),b_=Symbol.for("react.memo"),vme=Symbol.for("react.lazy"),bme=i9,wme=b_;function jme(e){if(typeof e=="object"&&e!==null){const{$$typeof:t}=e;switch(t){case ume:switch(e=e.type,e){case fme:case mme:case hme:case xme:case yme:return e;default:switch(e=e&&e.$$typeof,e){case gme:case i9:case vme:case b_:return e;case pme:return e;default:return t}}case dme:return t}}}function Nme(e){return jme(e)===b_}function Sme(e,t,r,n,{areStatesEqual:a,areOwnPropsEqual:i,areStatePropsEqual:l}){let c=!1,d,f,h,p,g;function y(_,E){return d=_,f=E,h=e(d,f),p=t(n,f),g=r(h,p,f),c=!0,g}function b(){return h=e(d,f),t.dependsOnOwnProps&&(p=t(n,f)),g=r(h,p,f),g}function w(){return e.dependsOnOwnProps&&(h=e(d,f)),t.dependsOnOwnProps&&(p=t(n,f)),g=r(h,p,f),g}function j(){const _=e(d,f),E=!l(_,h);return h=_,E&&(g=r(h,p,f)),g}function S(_,E){const T=!i(E,f),A=!a(_,d,E,f);return d=_,f=E,T&&A?b():T?w():A?j():g}return function(E,T){return c?S(E,T):y(E,T)}}function kme(e,{initMapStateToProps:t,initMapDispatchToProps:r,initMergeProps:n,...a}){const i=t(e,a),l=r(e,a),c=n(e,a);return Sme(i,l,c,e,a)}function _me(e,t){const r={};for(const n in e){const a=e[n];typeof a=="function"&&(r[n]=(...i)=>t(a(...i)))}return r}function lN(e){return function(r){const n=e(r);function a(){return n}return a.dependsOnOwnProps=!1,a}}function N5(e){return e.dependsOnOwnProps?!!e.dependsOnOwnProps:e.length!==1}function l9(e,t){return function(n,{displayName:a}){const i=function(c,d){return i.dependsOnOwnProps?i.mapToProps(c,d):i.mapToProps(c,void 0)};return i.dependsOnOwnProps=!0,i.mapToProps=function(c,d){i.mapToProps=e,i.dependsOnOwnProps=N5(e);let f=i(c,d);return typeof f=="function"&&(i.mapToProps=f,i.dependsOnOwnProps=N5(f),f=i(c,d)),f},i}}function w_(e,t){return(r,n)=>{throw new Error(`Invalid value of type ${typeof e} for ${t} argument when connecting component ${n.wrappedComponentName}.`)}}function Eme(e){return e&&typeof e=="object"?lN(t=>_me(e,t)):e?typeof e=="function"?l9(e):w_(e,"mapDispatchToProps"):lN(t=>({dispatch:t}))}function Ame(e){return e?typeof e=="function"?l9(e):w_(e,"mapStateToProps"):lN(()=>({}))}function Tme(e,t,r){return{...r,...e,...t}}function Cme(e){return function(r,{displayName:n,areMergedPropsEqual:a}){let i=!1,l;return function(d,f,h){const p=e(d,f,h);return i?a(p,l)||(l=p):(i=!0,l=p),l}}}function Ome(e){return e?typeof e=="function"?Cme(e):w_(e,"mergeProps"):()=>Tme}function Dme(e){e()}function Pme(){let e=null,t=null;return{clear(){e=null,t=null},notify(){Dme(()=>{let r=e;for(;r;)r.callback(),r=r.next})},get(){const r=[];let n=e;for(;n;)r.push(n),n=n.next;return r},subscribe(r){let n=!0;const a=t={callback:r,next:null,prev:t};return a.prev?a.prev.next=a:e=a,function(){!n||e===null||(n=!1,a.next?a.next.prev=a.prev:t=a.prev,a.prev?a.prev.next=a.next:e=a.next)}}}}var S5={notify(){},get:()=>[]};function o9(e,t){let r,n=S5,a=0,i=!1;function l(w){h();const j=n.subscribe(w);let S=!1;return()=>{S||(S=!0,j(),p())}}function c(){n.notify()}function d(){b.onStateChange&&b.onStateChange()}function f(){return i}function h(){a++,r||(r=t?t.addNestedSub(d):e.subscribe(d),n=Pme())}function p(){a--,r&&a===0&&(r(),r=void 0,n.clear(),n=S5)}function g(){i||(i=!0,h())}function y(){i&&(i=!1,p())}const b={addNestedSub:l,notifyNestedSubs:c,handleChangeWrapper:d,isSubscribed:f,trySubscribe:g,tryUnsubscribe:y,getListeners:()=>n};return b}var Mme=()=>typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",Rme=Mme(),Ime=()=>typeof navigator<"u"&&navigator.product==="ReactNative",Fme=Ime(),Lme=()=>Rme||Fme?v.useLayoutEffect:v.useEffect,fx=Lme();function k5(e,t){return e===t?e!==0||t!==0||1/e===1/t:e!==e&&t!==t}function i2(e,t){if(k5(e,t))return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;const r=Object.keys(e),n=Object.keys(t);if(r.length!==n.length)return!1;for(let a=0;a<r.length;a++)if(!Object.prototype.hasOwnProperty.call(t,r[a])||!k5(e[r[a]],t[r[a]]))return!1;return!0}var Bme={childContextTypes:!0,contextType:!0,contextTypes:!0,defaultProps:!0,displayName:!0,getDefaultProps:!0,getDerivedStateFromError:!0,getDerivedStateFromProps:!0,mixins:!0,propTypes:!0,type:!0},$me={name:!0,length:!0,prototype:!0,caller:!0,callee:!0,arguments:!0,arity:!0},Ume={$$typeof:!0,render:!0,defaultProps:!0,displayName:!0,propTypes:!0},c9={$$typeof:!0,compare:!0,defaultProps:!0,displayName:!0,propTypes:!0,type:!0},zme={[bme]:Ume,[wme]:c9};function _5(e){return Nme(e)?c9:zme[e.$$typeof]||Bme}var Hme=Object.defineProperty,Vme=Object.getOwnPropertyNames,E5=Object.getOwnPropertySymbols,qme=Object.getOwnPropertyDescriptor,Wme=Object.getPrototypeOf,A5=Object.prototype;function oN(e,t){if(typeof t!="string"){if(A5){const i=Wme(t);i&&i!==A5&&oN(e,i)}let r=Vme(t);E5&&(r=r.concat(E5(t)));const n=_5(e),a=_5(t);for(let i=0;i<r.length;++i){const l=r[i];if(!$me[l]&&!(a&&a[l])&&!(n&&n[l])){const c=qme(t,l);try{Hme(e,l,c)}catch{}}}}return e}var Gme=Symbol.for("react-redux-context"),Kme=typeof globalThis<"u"?globalThis:{};function Yme(){if(!v.createContext)return{};const e=Kme[Gme]??=new Map;let t=e.get(v.createContext);return t||(t=v.createContext(null),e.set(v.createContext,t)),t}var u9=Yme(),Xme=[null,null];function Qme(e,t,r){fx(()=>e(...t),r)}function Zme(e,t,r,n,a,i){e.current=n,r.current=!1,a.current&&(a.current=null,i())}function Jme(e,t,r,n,a,i,l,c,d,f,h){if(!e)return()=>{};let p=!1,g=null;const y=()=>{if(p||!c.current)return;const w=t.getState();let j,S;try{j=n(w,a.current)}catch(_){S=_,g=_}S||(g=null),j===i.current?l.current||f():(i.current=j,d.current=j,l.current=!0,h())};return r.onStateChange=y,r.trySubscribe(),y(),()=>{if(p=!0,r.tryUnsubscribe(),r.onStateChange=null,g)throw g}}function epe(e,t){return e===t}function tpe(e,t,r,{pure:n,areStatesEqual:a=epe,areOwnPropsEqual:i=i2,areStatePropsEqual:l=i2,areMergedPropsEqual:c=i2,forwardRef:d=!1,context:f=u9}={}){const h=f,p=Ame(e),g=Eme(t),y=Ome(r),b=!!e;return j=>{const S=j.displayName||j.name||"Component",_=`Connect(${S})`,E={shouldHandleStateChanges:b,displayName:_,wrappedComponentName:S,WrappedComponent:j,initMapStateToProps:p,initMapDispatchToProps:g,initMergeProps:y,areStatesEqual:a,areStatePropsEqual:l,areOwnPropsEqual:i,areMergedPropsEqual:c};function T(O){const[P,F,G]=v.useMemo(()=>{const{reactReduxForwardedRef:me,...Xe}=O;return[O.context,me,Xe]},[O]),W=v.useMemo(()=>{let me=h;return P?.Consumer,me},[P,h]),ee=v.useContext(W),ue=!!O.store&&!!O.store.getState&&!!O.store.dispatch,fe=!!ee&&!!ee.store,Q=ue?O.store:ee.store,K=fe?ee.getServerState:Q.getState,J=v.useMemo(()=>kme(Q.dispatch,E),[Q]),[se,xe]=v.useMemo(()=>{if(!b)return Xme;const me=o9(Q,ue?void 0:ee.subscription),Xe=me.notifyNestedSubs.bind(me);return[me,Xe]},[Q,ue,ee]),U=v.useMemo(()=>ue?ee:{...ee,subscription:se},[ue,ee,se]),ae=v.useRef(void 0),D=v.useRef(G),H=v.useRef(void 0),B=v.useRef(!1),V=v.useRef(!1),le=v.useRef(void 0);fx(()=>(V.current=!0,()=>{V.current=!1}),[]);const De=v.useMemo(()=>()=>H.current&&G===D.current?H.current:J(Q.getState(),G),[Q,G]),re=v.useMemo(()=>Xe=>se?Jme(b,Q,se,J,D,ae,B,V,H,xe,Xe):()=>{},[se]);Qme(Zme,[D,ae,B,G,H,xe]);let ie;try{ie=v.useSyncExternalStore(re,De,K?()=>J(K(),G):De)}catch(me){throw le.current&&(me.message+=`
The error may be correlated with this previous error:
${le.current.stack}

`),me}fx(()=>{le.current=void 0,H.current=void 0,ae.current=ie});const de=v.useMemo(()=>v.createElement(j,{...ie,ref:F}),[F,j,ie]);return v.useMemo(()=>b?v.createElement(W.Provider,{value:U},de):de,[W,de,U])}const C=v.memo(T);if(C.WrappedComponent=j,C.displayName=T.displayName=_,d){const P=v.forwardRef(function(G,W){return v.createElement(C,{...G,reactReduxForwardedRef:W})});return P.displayName=_,P.WrappedComponent=j,oN(P,j)}return oN(C,j)}}var d9=tpe;function rpe(e){const{children:t,context:r,serverState:n,store:a}=e,i=v.useMemo(()=>{const d=o9(a);return{store:a,subscription:d,getServerState:n?()=>n:void 0}},[a,n]),l=v.useMemo(()=>a.getState(),[a]);fx(()=>{const{subscription:d}=i;return d.onStateChange=d.notifyNestedSubs,d.trySubscribe(),l!==a.getState()&&d.notifyNestedSubs(),()=>{d.tryUnsubscribe(),d.onStateChange=void 0}},[i,l]);const c=r||u9;return v.createElement(c.Provider,{value:i},t)}var f9=rpe,npe=(e,t)=>t,j_=ke([npe,Ht,jle,Dn,ZL,Ml,fce,xn],xce),N_=e=>{var t=e.currentTarget.getBoundingClientRect(),r=t.width/e.currentTarget.offsetWidth,n=t.height/e.currentTarget.offsetHeight;return{chartX:Math.round((e.clientX-t.left)/r),chartY:Math.round((e.clientY-t.top)/n)}},h9=zs("mouseClick"),m9=nm();m9.startListening({actionCreator:h9,effect:(e,t)=>{var r=e.payload,n=j_(t.getState(),N_(r));n?.activeIndex!=null&&t.dispatch(joe({activeIndex:n.activeIndex,activeDataKey:void 0,activeCoordinate:n.activeCoordinate}))}});var cN=zs("mouseMove"),p9=nm();p9.startListening({actionCreator:cN,effect:(e,t)=>{var r=e.payload,n=t.getState(),a=Kk(n,n.tooltip.settings.shared),i=j_(n,N_(r));a==="axis"&&(i?.activeIndex!=null?t.dispatch(qL({activeIndex:i.activeIndex,activeDataKey:void 0,activeCoordinate:i.activeCoordinate})):t.dispatch(VL()))}});function ape(e,t){return t instanceof HTMLElement?"HTMLElement <".concat(t.tagName,' class="').concat(t.className,'">'):t===window?"global.window":t}var T5={accessibilityLayer:!0,barCategoryGap:"10%",barGap:4,barSize:void 0,className:void 0,maxBarSize:void 0,stackOffset:"none",syncId:void 0,syncMethod:"index"},g9=Vs({name:"rootProps",initialState:T5,reducers:{updateOptions:(e,t)=>{var r;e.accessibilityLayer=t.payload.accessibilityLayer,e.barCategoryGap=t.payload.barCategoryGap,e.barGap=(r=t.payload.barGap)!==null&&r!==void 0?r:T5.barGap,e.barSize=t.payload.barSize,e.maxBarSize=t.payload.maxBarSize,e.stackOffset=t.payload.stackOffset,e.syncId=t.payload.syncId,e.syncMethod=t.payload.syncMethod,e.className=t.payload.className}}}),spe=g9.reducer,{updateOptions:ipe}=g9.actions,x9=Vs({name:"polarOptions",initialState:null,reducers:{updatePolarOptions:(e,t)=>t.payload}}),{updatePolarOptions:lpe}=x9.actions,ope=x9.reducer,y9=zs("keyDown"),v9=zs("focus"),S_=nm();S_.startListening({actionCreator:y9,effect:(e,t)=>{var r=t.getState(),n=r.rootProps.accessibilityLayer!==!1;if(n){var{keyboardInteraction:a}=r.tooltip,i=e.payload;if(!(i!=="ArrowRight"&&i!=="ArrowLeft"&&i!=="Enter")){var l=Number(Yk(a,hu(r))),c=Ml(r);if(i==="Enter"){var d=ix(r,"axis","hover",String(a.index));t.dispatch(Xj({active:!a.active,activeIndex:a.index,activeDataKey:a.dataKey,activeCoordinate:d}));return}var f=hoe(r),h=f==="left-to-right"?1:-1,p=i==="ArrowRight"?1:-1,g=l+p*h;if(!(c==null||g>=c.length||g<0)){var y=ix(r,"axis","hover",String(g));t.dispatch(Xj({active:!0,activeIndex:g.toString(),activeDataKey:void 0,activeCoordinate:y}))}}}}});S_.startListening({actionCreator:v9,effect:(e,t)=>{var r=t.getState(),n=r.rootProps.accessibilityLayer!==!1;if(n){var{keyboardInteraction:a}=r.tooltip;if(!a.active&&a.index==null){var i="0",l=ix(r,"axis","hover",String(i));t.dispatch(Xj({activeDataKey:void 0,active:!0,activeIndex:i,activeCoordinate:l}))}}}});var As=zs("externalEvent"),b9=nm();b9.startListening({actionCreator:As,effect:(e,t)=>{if(e.payload.handler!=null){var r=t.getState(),n={activeCoordinate:rce(r),activeDataKey:r7(r),activeIndex:Ro(r),activeLabel:t7(r),activeTooltipIndex:Ro(r),isTooltipActive:nce(r)};e.payload.handler(n,e.payload.reactEvent)}}});var cpe=ke([af],e=>e.tooltipItemPayloads),upe=ke([cpe,hm,(e,t,r)=>t,(e,t,r)=>r],(e,t,r,n)=>{var a=e.find(c=>c.settings.dataKey===n);if(a!=null){var{positions:i}=a;if(i!=null){var l=t(i,r);return l}}}),w9=zs("touchMove"),j9=nm();j9.startListening({actionCreator:w9,effect:(e,t)=>{var r=e.payload,n=t.getState(),a=Kk(n,n.tooltip.settings.shared);if(a==="axis"){var i=j_(n,N_({clientX:r.touches[0].clientX,clientY:r.touches[0].clientY,currentTarget:r.currentTarget}));i?.activeIndex!=null&&t.dispatch(qL({activeIndex:i.activeIndex,activeDataKey:void 0,activeCoordinate:i.activeCoordinate}))}else if(a==="item"){var l,c=r.touches[0],d=document.elementFromPoint(c.clientX,c.clientY);if(!d||!d.getAttribute)return;var f=d.getAttribute(ZI),h=(l=d.getAttribute(JI))!==null&&l!==void 0?l:void 0,p=upe(t.getState(),f,h);t.dispatch(HL({activeDataKey:h,activeIndex:f,activeCoordinate:p}))}}});var dpe=NI({brush:N0e,cartesianAxis:Uhe,chartData:Pce,graphicalItems:mde,layout:dre,legend:Qre,options:Ace,polarAxis:Zue,polarOptions:ope,referenceElements:C0e,rootProps:spe,tooltip:Noe}),fpe=function(t){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"Chart";return Ite({reducer:dpe,preloadedState:t,middleware:n=>n({serializableCheck:!1}).concat([m9.middleware,p9.middleware,S_.middleware,b9.middleware,j9.middleware]),devTools:{serialize:{replacer:ape},name:"recharts-".concat(r)}})};function N9(e){var{preloadedState:t,children:r,reduxStoreName:n}=e,a=pa(),i=v.useRef(null);if(a)return r;i.current==null&&(i.current=fpe(t,n));var l=FS;return v.createElement(f9,{context:l,store:i.current},r)}function S9(e){var{layout:t,width:r,height:n,margin:a}=e,i=Mr(),l=pa();return v.useEffect(()=>{l||(i(ore(t)),i(cre({width:r,height:n})),i(lre(a)))},[i,l,t,r,n,a]),null}function k9(e){var t=Mr();return v.useEffect(()=>{t(ipe(e))},[t,e]),null}var hpe=["children"];function mpe(e,t){if(e==null)return{};var r,n,a=ppe(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(n=0;n<i.length;n++)r=i[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(a[r]=e[r])}return a}function ppe(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}function hx(){return hx=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},hx.apply(null,arguments)}var gpe={width:"100%",height:"100%"},xpe=v.forwardRef((e,t)=>{var r=GS(),n=KS(),a=sF();if(!Cd(r)||!Cd(n))return null;var{children:i,otherAttributes:l,title:c,desc:d}=e,f,h;return typeof l.tabIndex=="number"?f=l.tabIndex:f=a?0:void 0,typeof l.role=="string"?h=l.role:h=a?"application":void 0,v.createElement(kS,hx({},l,{title:c,desc:d,role:h,tabIndex:f,width:r,height:n,style:gpe,ref:t}),i)}),ype=e=>{var{children:t}=e,r=nt(cy);if(!r)return null;var{width:n,height:a,y:i,x:l}=r;return v.createElement(kS,{width:n,height:a,x:l,y:i},t)},C5=v.forwardRef((e,t)=>{var{children:r}=e,n=mpe(e,hpe),a=pa();return a?v.createElement(ype,null,r):v.createElement(xpe,hx({ref:t},n),r)});function vpe(){var e=Mr(),[t,r]=v.useState(null),n=nt(Bre);return v.useEffect(()=>{if(t!=null){var a=t.getBoundingClientRect(),i=a.width/t.offsetWidth;us(i)&&i!==n&&e(ure(i))}},[t,e,n]),r}function O5(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function bpe(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?O5(Object(r),!0).forEach(function(n){wpe(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):O5(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function wpe(e,t,r){return(t=jpe(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function jpe(e){var t=Npe(e,"string");return typeof t=="symbol"?t:t+""}function Npe(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var Spe=v.forwardRef((e,t)=>{var{children:r,className:n,height:a,onClick:i,onContextMenu:l,onDoubleClick:c,onMouseDown:d,onMouseEnter:f,onMouseLeave:h,onMouseMove:p,onMouseUp:g,onTouchEnd:y,onTouchMove:b,onTouchStart:w,style:j,width:S}=e,_=Mr(),[E,T]=v.useState(null),[A,C]=v.useState(null);Ice();var O=vpe(),P=v.useCallback(D=>{O(D),typeof t=="function"&&t(D),T(D),C(D)},[O,t,T,C]),F=v.useCallback(D=>{_(h9(D)),_(As({handler:i,reactEvent:D}))},[_,i]),G=v.useCallback(D=>{_(cN(D)),_(As({handler:f,reactEvent:D}))},[_,f]),W=v.useCallback(D=>{_(VL()),_(As({handler:h,reactEvent:D}))},[_,h]),ee=v.useCallback(D=>{_(cN(D)),_(As({handler:p,reactEvent:D}))},[_,p]),ue=v.useCallback(()=>{_(v9())},[_]),fe=v.useCallback(D=>{_(y9(D.key))},[_]),Q=v.useCallback(D=>{_(As({handler:l,reactEvent:D}))},[_,l]),K=v.useCallback(D=>{_(As({handler:c,reactEvent:D}))},[_,c]),J=v.useCallback(D=>{_(As({handler:d,reactEvent:D}))},[_,d]),se=v.useCallback(D=>{_(As({handler:g,reactEvent:D}))},[_,g]),xe=v.useCallback(D=>{_(As({handler:w,reactEvent:D}))},[_,w]),U=v.useCallback(D=>{_(w9(D)),_(As({handler:b,reactEvent:D}))},[_,b]),ae=v.useCallback(D=>{_(As({handler:y,reactEvent:D}))},[_,y]);return v.createElement(o7.Provider,{value:E},v.createElement(G8.Provider,{value:A},v.createElement("div",{className:Bt("recharts-wrapper",n),style:bpe({position:"relative",cursor:"default",width:S,height:a},j),onClick:F,onContextMenu:Q,onDoubleClick:K,onFocus:ue,onKeyDown:fe,onMouseDown:J,onMouseEnter:G,onMouseLeave:W,onMouseMove:ee,onMouseUp:se,onTouchEnd:ae,onTouchMove:U,onTouchStart:xe,ref:P},r)))}),kpe=["children","className","width","height","style","compact","title","desc"];function _pe(e,t){if(e==null)return{};var r,n,a=Epe(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(n=0;n<i.length;n++)r=i[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(a[r]=e[r])}return a}function Epe(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}var _9=v.forwardRef((e,t)=>{var{children:r,className:n,width:a,height:i,style:l,compact:c,title:d,desc:f}=e,h=_pe(e,kpe),p=Et(h,!1);return c?v.createElement(C5,{otherAttributes:p,title:d,desc:f},r):v.createElement(Spe,{className:n,style:l,width:a,height:i,onClick:e.onClick,onMouseLeave:e.onMouseLeave,onMouseEnter:e.onMouseEnter,onMouseMove:e.onMouseMove,onMouseDown:e.onMouseDown,onMouseUp:e.onMouseUp,onContextMenu:e.onContextMenu,onDoubleClick:e.onDoubleClick,onTouchStart:e.onTouchStart,onTouchMove:e.onTouchMove,onTouchEnd:e.onTouchEnd},v.createElement(C5,{otherAttributes:p,title:d,desc:f,ref:t},v.createElement(D0e,null,r)))}),Ape=["width","height"];function uN(){return uN=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},uN.apply(null,arguments)}function Tpe(e,t){if(e==null)return{};var r,n,a=Cpe(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(n=0;n<i.length;n++)r=i[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(a[r]=e[r])}return a}function Cpe(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}var Ope={top:5,right:5,bottom:5,left:5},Dpe={accessibilityLayer:!0,layout:"horizontal",stackOffset:"none",barCategoryGap:"10%",barGap:4,margin:Ope,reverseStackOrder:!1,syncMethod:"index"},E9=v.forwardRef(function(t,r){var n,a=qs(t.categoricalChartProps,Dpe),{width:i,height:l}=a,c=Tpe(a,Ape);if(!Cd(i)||!Cd(l))return null;var{chartName:d,defaultTooltipEventType:f,validateTooltipEventTypes:h,tooltipPayloadSearcher:p,categoricalChartProps:g}=t,y={chartName:d,defaultTooltipEventType:f,validateTooltipEventTypes:h,tooltipPayloadSearcher:p,eventEmitter:void 0};return v.createElement(N9,{preloadedState:{options:y},reduxStoreName:(n=g.id)!==null&&n!==void 0?n:d},v.createElement(V7,{chartData:g.data}),v.createElement(S9,{width:i,height:l,layout:a.layout,margin:a.margin}),v.createElement(k9,{accessibilityLayer:a.accessibilityLayer,barCategoryGap:a.barCategoryGap,maxBarSize:a.maxBarSize,stackOffset:a.stackOffset,barGap:a.barGap,barSize:a.barSize,syncId:a.syncId,syncMethod:a.syncMethod,className:a.className}),v.createElement(_9,uN({},c,{width:i,height:l,ref:r})))}),Ppe=["axis"],Mpe=v.forwardRef((e,t)=>v.createElement(E9,{chartName:"LineChart",defaultTooltipEventType:"axis",validateTooltipEventTypes:Ppe,tooltipPayloadSearcher:n_,categoricalChartProps:e,ref:t})),Rpe=["axis","item"],R0=v.forwardRef((e,t)=>v.createElement(E9,{chartName:"BarChart",defaultTooltipEventType:"axis",validateTooltipEventTypes:Rpe,tooltipPayloadSearcher:n_,categoricalChartProps:e,ref:t}));function Ipe(e){var t=Mr();return v.useEffect(()=>{t(lpe(e))},[t,e]),null}var Fpe=["width","height","layout"];function dN(){return dN=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},dN.apply(null,arguments)}function Lpe(e,t){if(e==null)return{};var r,n,a=Bpe(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(n=0;n<i.length;n++)r=i[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(a[r]=e[r])}return a}function Bpe(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}var $pe={top:5,right:5,bottom:5,left:5},Upe={accessibilityLayer:!0,stackOffset:"none",barCategoryGap:"10%",barGap:4,margin:$pe,reverseStackOrder:!1,syncMethod:"index",layout:"radial"},zpe=v.forwardRef(function(t,r){var n,a=qs(t.categoricalChartProps,Upe),{width:i,height:l,layout:c}=a,d=Lpe(a,Fpe);if(!Cd(i)||!Cd(l))return null;var{chartName:f,defaultTooltipEventType:h,validateTooltipEventTypes:p,tooltipPayloadSearcher:g}=t,y={chartName:f,defaultTooltipEventType:h,validateTooltipEventTypes:p,tooltipPayloadSearcher:g,eventEmitter:void 0};return v.createElement(N9,{preloadedState:{options:y},reduxStoreName:(n=a.id)!==null&&n!==void 0?n:f},v.createElement(V7,{chartData:a.data}),v.createElement(S9,{width:i,height:l,layout:c,margin:a.margin}),v.createElement(k9,{accessibilityLayer:a.accessibilityLayer,barCategoryGap:a.barCategoryGap,maxBarSize:a.maxBarSize,stackOffset:a.stackOffset,barGap:a.barGap,barSize:a.barSize,syncId:a.syncId,syncMethod:a.syncMethod,className:a.className}),v.createElement(Ipe,{cx:a.cx,cy:a.cy,startAngle:a.startAngle,endAngle:a.endAngle,innerRadius:a.innerRadius,outerRadius:a.outerRadius}),v.createElement(_9,dN({width:i,height:l},d,{ref:r})))}),Hpe=["item"],Vpe={layout:"centric",startAngle:0,endAngle:360,cx:"50%",cy:"50%",innerRadius:0,outerRadius:"80%"},mx=v.forwardRef((e,t)=>{var r=qs(e,Vpe);return v.createElement(zpe,{chartName:"PieChart",defaultTooltipEventType:"item",validateTooltipEventTypes:Hpe,tooltipPayloadSearcher:n_,categoricalChartProps:r,ref:t})});async function qpe(){return Ee("/api/dashboard/")}const Ur=({children:e,onClick:t,disabled:r=!1,loading:n=!1,variant:a="primary",size:i="md",icon:l,iconPosition:c="left",className:d="",type:f="button",title:h})=>{const p={primary:"bg-gradient-to-r from-blue-400 to-purple-400 hover:from-blue-500 hover:to-purple-500",secondary:"bg-gradient-to-r from-gray-400 to-gray-500 hover:from-gray-500 hover:to-gray-600",success:"bg-gradient-to-r from-green-400 to-emerald-400 hover:from-green-500 hover:to-emerald-500",warning:"bg-gradient-to-r from-yellow-400 to-orange-400 hover:from-yellow-500 hover:to-orange-500",danger:"bg-gradient-to-r from-red-400 to-pink-400 hover:from-red-500 hover:to-pink-500",info:"bg-gradient-to-r from-cyan-400 to-blue-400 hover:from-cyan-500 hover:to-blue-500",purple:"bg-gradient-to-r from-purple-400 to-indigo-400 hover:from-purple-500 hover:to-indigo-500",pink:"bg-gradient-to-r from-pink-400 to-purple-400 hover:from-pink-500 hover:to-purple-500",blue:"bg-gradient-to-r from-blue-400 to-cyan-400 hover:from-blue-500 hover:to-cyan-500",green:"bg-gradient-to-r from-green-400 to-teal-400 hover:from-green-500 hover:to-teal-500",orange:"bg-gradient-to-r from-orange-400 to-red-400 hover:from-orange-500 hover:to-red-500",gray:"bg-gradient-to-r from-gray-400 to-gray-500 hover:from-gray-500 hover:to-gray-600"},g={sm:"px-4 py-2 text-sm",md:"px-6 py-3 text-base",lg:"px-8 py-4 text-lg"},b=`
    rounded-full font-semibold shadow-lg transition-all duration-200 flex items-center gap-2 hover:scale-105 disabled:opacity-50 disabled:cursor-not-allowed disabled:hover:scale-100
    ${p[a]}
    ${g[i]}
    ${d}
  `.trim(),w=j=>{!r&&!n&&t&&t(j)};return s.jsxs("button",{type:f,className:b,onClick:w,disabled:r||n,title:h,children:[n&&s.jsx("div",{className:"w-4 h-4 border-2 border-white border-t-transparent rounded-full animate-spin"}),!n&&l&&c==="left"&&s.jsx(l,{className:"w-4 h-4"}),e,!n&&l&&c==="right"&&s.jsx(l,{className:"w-4 h-4"})]})},Wpe={CheckCircle:s.jsx(Lt,{className:"w-4 h-4 text-yellow-500"}),Plus:s.jsx(Cr,{className:"w-4 h-4 text-green-500"}),UserPlus:s.jsx(Gx,{className:"w-4 h-4 text-blue-500"}),Clock:s.jsx(is,{className:"w-4 h-4 text-orange-500"}),MessageCircle:s.jsx(Sd,{className:"w-4 h-4 text-blue-500"}),Zap:s.jsx(Qc,{className:"w-4 h-4 text-pink-500"})},l2=e=>t=>{const{cx:r,cy:n,index:a}=t;return s.jsx("circle",{cx:r,cy:n,r:7,stroke:"#fff",strokeWidth:3,fill:e,style:{filter:"drop-shadow(0 2px 6px rgba(0,0,0,0.10))"}},`dot-${a}`)},Gpe=({active:e,payload:t})=>{if(e&&t&&t.length){const r=t[0];return s.jsxs("div",{className:"bg-white dark:bg-gray-900 border border-gray-200 dark:border-gray-700 rounded-md px-2 py-1 text-xs flex items-center gap-2 shadow",style:{minWidth:0,minHeight:0},children:[s.jsx("span",{className:"inline-block w-2 h-2 rounded-full",style:{background:r.color||r.payload.color}}),s.jsxs("span",{className:"font-semibold",children:[r.name,":"]}),s.jsxs("span",{children:[r.value,"%"]})]})}return null},Kpe=({active:e,payload:t,label:r})=>!e||!t||!t.length?null:s.jsxs("div",{style:{background:"#fff",border:"1px solid #eee",borderRadius:4,padding:"2px 8px",fontSize:12,color:"#222",boxShadow:"0 1px 4px rgba(0,0,0,0.04)"},children:[r&&s.jsx("div",{style:{fontWeight:600},children:r}),t.map((n,a)=>s.jsxs("div",{children:[s.jsxs("span",{style:{color:n.color,fontWeight:600},children:[n.name,":"]})," ",n.value]},a))]});function Ype(){const{user:e}=ma(),{data:t,isLoading:r,error:n}=DM({queryKey:["dashboard"],queryFn:qpe,refetchInterval:3e4});if(r)return s.jsx("div",{className:"flex items-center justify-center min-h-screen",children:s.jsx("div",{className:"animate-spin rounded-full h-32 w-32 border-b-2 border-blue-600"})});if(n)return s.jsx("div",{className:"flex items-center justify-center min-h-screen",children:s.jsxs("div",{className:"text-center",children:[s.jsx("div",{className:"text-red-600 text-xl mb-4",children:"Error loading dashboard"}),s.jsx("div",{className:"text-gray-600",children:"Please check your connection and try again"})]})});const a=t||{metrics:{active_leads:0,closed_deals:0,total_revenue:0,ai_score:0,lead_quality_score:0,conversion_rate:0,target_achievement:0},performance:[],lead_quality:[],activity_feed:[]},i=l=>l>=1e6?`$${(l/1e6).toFixed(1)}M`:l>=1e3?`$${(l/1e3).toFixed(0)}K`:`$${l.toFixed(0)}`;return s.jsxs("div",{children:[s.jsxs("div",{className:"flex flex-col md:flex-row md:items-center md:justify-between gap-4 mb-6",children:[s.jsxs("div",{children:[s.jsx("h1",{className:"text-4xl font-extrabold text-gray-900 dark:text-white mb-1",children:"AI-Powered Dashboard"}),s.jsx("div",{className:"text-lg text-gray-500 dark:text-gray-300",children:"Intelligent insights for smarter decisions"})]}),s.jsxs("div",{className:"flex gap-3 mt-4 md:mt-0",children:[s.jsx(Ur,{variant:"pink",size:"md",icon:Kc,children:"AI Insights"}),s.jsx(Ur,{variant:"blue",size:"md",icon:Qc,children:"Quick Action"})]})]}),s.jsxs("div",{className:"bg-white dark:bg-gray-900 border border-purple-300 dark:border-purple-700 rounded-2xl shadow-lg p-6 mb-8 relative",children:[s.jsxs("div",{className:"flex items-center gap-3 mb-4",children:[s.jsx("span",{className:"text-2xl",children:""}),s.jsx("span",{className:"font-bold text-xl text-gray-900 dark:text-white",children:"AI Insights"}),s.jsx("span",{className:"ml-auto text-xs text-green-500 font-semibold",children:" Live Analysis"})]}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[s.jsxs("div",{className:"rounded-xl bg-pink-50 dark:bg-pink-900/40 border-l-4 border-pink-400 p-4 flex flex-col",children:[s.jsx("div",{className:"font-semibold text-pink-700 dark:text-pink-300 mb-1",children:"High-Value Lead Detected"}),s.jsx("div",{className:"text-gray-700 dark:text-gray-200 text-sm mb-2",children:"Enterprise client showing 89% conversion probability"}),s.jsx("a",{href:"#",className:"text-pink-600 dark:text-pink-300 text-sm font-medium hover:underline",children:"Schedule demo "})]}),s.jsxs("div",{className:"rounded-xl bg-yellow-50 dark:bg-yellow-900/40 border-l-4 border-yellow-400 p-4 flex flex-col",children:[s.jsx("div",{className:"font-semibold text-yellow-700 dark:text-yellow-200 mb-1",children:"Deal at Risk"}),s.jsx("div",{className:"text-gray-700 dark:text-gray-200 text-sm mb-2",children:"TechCorp deal inactive for 7 days"}),s.jsx("a",{href:"#",className:"text-yellow-700 dark:text-yellow-200 text-sm font-medium hover:underline",children:"Send follow-up "})]}),s.jsxs("div",{className:"rounded-xl bg-green-50 dark:bg-green-900/40 border-l-4 border-green-400 p-4 flex flex-col",children:[s.jsx("div",{className:"font-semibold text-green-700 dark:text-green-200 mb-1",children:"Optimal Contact Time"}),s.jsx("div",{className:"text-gray-700 dark:text-gray-200 text-sm mb-2",children:"Best time to call prospects: 2-4 PM today"}),s.jsx("a",{href:"#",className:"text-green-700 dark:text-green-200 text-sm font-medium hover:underline",children:"Start calling "})]})]})]}),s.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-4 gap-6 mb-8",children:[s.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-2xl shadow p-6 flex flex-col items-center text-center border transition duration-300 ease hover:shadow-2xl hover:scale-105",children:[s.jsx("div",{className:"bg-blue-100 dark:bg-blue-900 p-3 rounded-full mb-3",children:s.jsx(jr,{className:"w-7 h-7 text-blue-600 dark:text-blue-400"})}),s.jsx("div",{className:"text-3xl font-extrabold text-blue-600 dark:text-blue-400 mb-1",children:a.metrics.active_leads}),s.jsx("div",{className:"text-gray-700 dark:text-gray-200 text-lg font-semibold mb-1",children:"Active Leads"}),s.jsxs("div",{className:"text-xs text-purple-500",children:["Quality score: ",a.metrics.lead_quality_score,"/10"]})]}),s.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-2xl shadow p-6 flex flex-col items-center text-center border transition duration-300 ease hover:shadow-2xl hover:scale-105",children:[s.jsx("div",{className:"bg-green-100 dark:bg-green-900 p-3 rounded-full mb-3",children:s.jsx(Lt,{className:"w-7 h-7 text-green-600 dark:text-green-400"})}),s.jsx("div",{className:"text-3xl font-extrabold text-green-600 dark:text-green-400 mb-1",children:a.metrics.closed_deals}),s.jsx("div",{className:"text-gray-700 dark:text-gray-200 text-lg font-semibold mb-1",children:"Deals Closed"}),s.jsxs("div",{className:"text-xs text-pink-500",children:["Conversion rate: ",a.metrics.conversion_rate,"%"]})]}),s.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-2xl shadow p-6 flex flex-col items-center text-center border transition duration-300 ease hover:shadow-2xl hover:scale-105",children:[s.jsx("div",{className:"bg-purple-100 dark:bg-purple-900 p-3 rounded-full mb-3",children:s.jsx(Yc,{className:"w-7 h-7 text-purple-600 dark:text-purple-400"})}),s.jsx("div",{className:"text-3xl font-extrabold text-purple-600 dark:text-purple-400 mb-1",children:i(a.metrics.total_revenue)}),s.jsx("div",{className:"text-gray-700 dark:text-gray-200 text-lg font-semibold mb-1",children:"Revenue"}),s.jsxs("div",{className:"text-xs text-blue-500",children:["Above target by ",a.metrics.target_achievement,"%"]})]}),s.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-2xl shadow p-6 flex flex-col items-center text-center border transition duration-300 ease hover:shadow-2xl hover:scale-105",children:[s.jsx("div",{className:"bg-orange-100 dark:bg-orange-900 p-3 rounded-full mb-3",children:s.jsx(Kc,{className:"w-7 h-7 text-orange-600 dark:text-orange-400"})}),s.jsx("div",{className:"text-3xl font-extrabold text-orange-600 dark:text-orange-400 mb-1",children:a.metrics.ai_score}),s.jsx("div",{className:"text-gray-700 dark:text-gray-200 text-lg font-semibold mb-1",children:"AI Score"}),s.jsx("div",{className:"text-xs text-green-500",children:"Performance excellent"})]})]}),s.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6 mb-8",children:[s.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-2xl shadow p-6 border flex flex-col",children:[s.jsx("div",{className:"font-bold text-lg mb-4 text-gray-900 dark:text-white",children:"Performance Analytics"}),s.jsx("div",{className:"w-full h-64",children:s.jsx(Ai,{width:"100%",height:"100%",children:s.jsxs(Mpe,{data:a.performance,margin:{top:10,right:20,left:0,bottom:0},children:[s.jsx(Ic,{strokeDasharray:"3 3",stroke:"#e5e7eb"}),s.jsx(go,{dataKey:"month",stroke:"#64748b"}),s.jsx(xo,{stroke:"#64748b"}),s.jsx(Ei,{content:s.jsx(Kpe,{})}),s.jsx(Do,{}),s.jsx(K0,{type:"monotone",dataKey:"leads",stroke:"#3b82f6",strokeWidth:3,dot:l2("#3b82f6"),name:"Leads"}),s.jsx(K0,{type:"monotone",dataKey:"deals",stroke:"#a21caf",strokeWidth:3,dot:l2("#a21caf"),name:"Deals"}),s.jsx(K0,{type:"monotone",dataKey:"revenue",stroke:"#22c55e",strokeWidth:3,dot:l2("#22c55e"),name:"Revenue"})]})})})]}),s.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-2xl shadow p-6 border flex flex-col items-center transition duration-300 ease hover:shadow-2xl hover:scale-105",children:[s.jsx("div",{className:"font-bold text-lg mb-4 text-gray-900 dark:text-white",children:"Lead Quality"}),s.jsx("div",{className:"w-full h-64 flex items-center justify-center",children:s.jsx(Ai,{width:"100%",height:"100%",children:s.jsxs(mx,{children:[s.jsx(Rd,{data:a.lead_quality,dataKey:"value",nameKey:"name",cx:"50%",cy:"50%",innerRadius:40,outerRadius:70,fill:"#8884d8",label:!0,children:a.lead_quality.map((l,c)=>s.jsx(Io,{fill:l.color},`cell-${c}`))}),s.jsx(Ei,{content:s.jsx(Gpe,{})}),s.jsx(Do,{})]})})}),s.jsx("ul",{className:"mt-4 w-full text-sm",children:a.lead_quality.map(l=>s.jsxs("li",{className:"flex items-center justify-between mb-1",children:[s.jsxs("span",{className:"flex items-center gap-2",children:[s.jsx("span",{className:"inline-block w-3 h-3 rounded-full",style:{background:l.color}}),l.name]}),s.jsxs("span",{className:"font-semibold",children:[l.value,"%"]})]},l.name))})]}),s.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-2xl shadow p-6 border flex flex-col",children:[s.jsxs("div",{className:"font-bold text-lg mb-4 text-gray-900 dark:text-white flex items-center gap-2",children:[s.jsx(Qc,{className:"w-5 h-5 text-pink-500"})," Smart Activity Feed"]}),s.jsx("ul",{className:"divide-y divide-gray-200 dark:divide-gray-700",children:a.activity_feed.length>0?a.activity_feed.map((l,c)=>s.jsxs("li",{className:"flex items-center gap-3 py-3",children:[s.jsx("span",{className:`flex items-center justify-center rounded-full ${l.color} w-8 h-8`,children:Wpe[l.icon]||s.jsx(Sd,{className:"w-4 h-4 text-blue-500"})}),s.jsxs("div",{className:"flex-1",children:[s.jsx("div",{className:"text-gray-900 dark:text-white text-sm font-medium",children:l.title}),s.jsx("div",{className:"text-xs text-gray-500 dark:text-gray-400",children:l.time})]})]},c)):s.jsx("li",{className:"py-3 text-gray-500 dark:text-gray-400 text-sm",children:"No recent activity"})})]})]})]})}/*! xlsx.js (C) 2013-present SheetJS -- http://sheetjs.com */var px={};px.version="0.18.5";var A9=1252,Xpe=[874,932,936,949,950,1250,1251,1252,1253,1254,1255,1256,1257,1258,1e4],T9=function(e){Xpe.indexOf(e)!=-1&&(A9=e)};function Qpe(){T9(1252)}var Dh=function(e){T9(e)};function Zpe(){Dh(1200),Qpe()}var Jp=function(t){return String.fromCharCode(t)},D5=function(t){return String.fromCharCode(t)},gx,yo="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=";function Ph(e){for(var t="",r=0,n=0,a=0,i=0,l=0,c=0,d=0,f=0;f<e.length;)r=e.charCodeAt(f++),i=r>>2,n=e.charCodeAt(f++),l=(r&3)<<4|n>>4,a=e.charCodeAt(f++),c=(n&15)<<2|a>>6,d=a&63,isNaN(n)?c=d=64:isNaN(a)&&(d=64),t+=yo.charAt(i)+yo.charAt(l)+yo.charAt(c)+yo.charAt(d);return t}function El(e){var t="",r=0,n=0,a=0,i=0,l=0,c=0,d=0;e=e.replace(/[^\w\+\/\=]/g,"");for(var f=0;f<e.length;)i=yo.indexOf(e.charAt(f++)),l=yo.indexOf(e.charAt(f++)),r=i<<2|l>>4,t+=String.fromCharCode(r),c=yo.indexOf(e.charAt(f++)),n=(l&15)<<4|c>>2,c!==64&&(t+=String.fromCharCode(n)),d=yo.indexOf(e.charAt(f++)),a=(c&3)<<6|d,d!==64&&(t+=String.fromCharCode(a));return t}var zt=function(){return typeof Buffer<"u"&&typeof process<"u"&&typeof process.versions<"u"&&!!process.versions.node}(),Rl=function(){if(typeof Buffer<"u"){var e=!Buffer.from;if(!e)try{Buffer.from("foo","utf8")}catch{e=!0}return e?function(t,r){return r?new Buffer(t,r):new Buffer(t)}:Buffer.from.bind(Buffer)}return function(){}}();function nu(e){return zt?Buffer.alloc?Buffer.alloc(e):new Buffer(e):typeof Uint8Array<"u"?new Uint8Array(e):new Array(e)}function P5(e){return zt?Buffer.allocUnsafe?Buffer.allocUnsafe(e):new Buffer(e):typeof Uint8Array<"u"?new Uint8Array(e):new Array(e)}var ii=function(t){return zt?Rl(t,"binary"):t.split("").map(function(r){return r.charCodeAt(0)&255})};function Oy(e){if(typeof ArrayBuffer>"u")return ii(e);for(var t=new ArrayBuffer(e.length),r=new Uint8Array(t),n=0;n!=e.length;++n)r[n]=e.charCodeAt(n)&255;return t}function mm(e){if(Array.isArray(e))return e.map(function(n){return String.fromCharCode(n)}).join("");for(var t=[],r=0;r<e.length;++r)t[r]=String.fromCharCode(e[r]);return t.join("")}function Jpe(e){if(typeof Uint8Array>"u")throw new Error("Unsupported");return new Uint8Array(e)}var Vn=zt?function(e){return Buffer.concat(e.map(function(t){return Buffer.isBuffer(t)?t:Rl(t)}))}:function(e){if(typeof Uint8Array<"u"){var t=0,r=0;for(t=0;t<e.length;++t)r+=e[t].length;var n=new Uint8Array(r),a=0;for(t=0,r=0;t<e.length;r+=a,++t)if(a=e[t].length,e[t]instanceof Uint8Array)n.set(e[t],r);else{if(typeof e[t]=="string")throw"wtf";n.set(new Uint8Array(e[t]),r)}return n}return[].concat.apply([],e.map(function(i){return Array.isArray(i)?i:[].slice.call(i)}))};function ege(e){for(var t=[],r=0,n=e.length+250,a=nu(e.length+255),i=0;i<e.length;++i){var l=e.charCodeAt(i);if(l<128)a[r++]=l;else if(l<2048)a[r++]=192|l>>6&31,a[r++]=128|l&63;else if(l>=55296&&l<57344){l=(l&1023)+64;var c=e.charCodeAt(++i)&1023;a[r++]=240|l>>8&7,a[r++]=128|l>>2&63,a[r++]=128|c>>6&15|(l&3)<<4,a[r++]=128|c&63}else a[r++]=224|l>>12&15,a[r++]=128|l>>6&63,a[r++]=128|l&63;r>n&&(t.push(a.slice(0,r)),r=0,a=nu(65535),n=65530)}return t.push(a.slice(0,r)),Vn(t)}var Y0=/\u0000/g,eg=/[\u0001-\u0006]/g;function yd(e){for(var t="",r=e.length-1;r>=0;)t+=e.charAt(r--);return t}function li(e,t){var r=""+e;return r.length>=t?r:Hr("0",t-r.length)+r}function k_(e,t){var r=""+e;return r.length>=t?r:Hr(" ",t-r.length)+r}function xx(e,t){var r=""+e;return r.length>=t?r:r+Hr(" ",t-r.length)}function tge(e,t){var r=""+Math.round(e);return r.length>=t?r:Hr("0",t-r.length)+r}function rge(e,t){var r=""+e;return r.length>=t?r:Hr("0",t-r.length)+r}var M5=Math.pow(2,32);function Zu(e,t){if(e>M5||e<-M5)return tge(e,t);var r=Math.round(e);return rge(r,t)}function yx(e,t){return t=t||0,e.length>=7+t&&(e.charCodeAt(t)|32)===103&&(e.charCodeAt(t+1)|32)===101&&(e.charCodeAt(t+2)|32)===110&&(e.charCodeAt(t+3)|32)===101&&(e.charCodeAt(t+4)|32)===114&&(e.charCodeAt(t+5)|32)===97&&(e.charCodeAt(t+6)|32)===108}var R5=[["Sun","Sunday"],["Mon","Monday"],["Tue","Tuesday"],["Wed","Wednesday"],["Thu","Thursday"],["Fri","Friday"],["Sat","Saturday"]],o2=[["J","Jan","January"],["F","Feb","February"],["M","Mar","March"],["A","Apr","April"],["M","May","May"],["J","Jun","June"],["J","Jul","July"],["A","Aug","August"],["S","Sep","September"],["O","Oct","October"],["N","Nov","November"],["D","Dec","December"]];function nge(e){return e||(e={}),e[0]="General",e[1]="0",e[2]="0.00",e[3]="#,##0",e[4]="#,##0.00",e[9]="0%",e[10]="0.00%",e[11]="0.00E+00",e[12]="# ?/?",e[13]="# ??/??",e[14]="m/d/yy",e[15]="d-mmm-yy",e[16]="d-mmm",e[17]="mmm-yy",e[18]="h:mm AM/PM",e[19]="h:mm:ss AM/PM",e[20]="h:mm",e[21]="h:mm:ss",e[22]="m/d/yy h:mm",e[37]="#,##0 ;(#,##0)",e[38]="#,##0 ;[Red](#,##0)",e[39]="#,##0.00;(#,##0.00)",e[40]="#,##0.00;[Red](#,##0.00)",e[45]="mm:ss",e[46]="[h]:mm:ss",e[47]="mmss.0",e[48]="##0.0E+0",e[49]="@",e[56]='"/ "hh""mm""ss" "',e}var qr={0:"General",1:"0",2:"0.00",3:"#,##0",4:"#,##0.00",9:"0%",10:"0.00%",11:"0.00E+00",12:"# ?/?",13:"# ??/??",14:"m/d/yy",15:"d-mmm-yy",16:"d-mmm",17:"mmm-yy",18:"h:mm AM/PM",19:"h:mm:ss AM/PM",20:"h:mm",21:"h:mm:ss",22:"m/d/yy h:mm",37:"#,##0 ;(#,##0)",38:"#,##0 ;[Red](#,##0)",39:"#,##0.00;(#,##0.00)",40:"#,##0.00;[Red](#,##0.00)",45:"mm:ss",46:"[h]:mm:ss",47:"mmss.0",48:"##0.0E+0",49:"@",56:'"/ "hh""mm""ss" "'},I5={5:37,6:38,7:39,8:40,23:0,24:0,25:0,26:0,27:14,28:14,29:14,30:14,31:14,50:14,51:14,52:14,53:14,54:14,55:14,56:14,57:14,58:14,59:1,60:2,61:3,62:4,67:9,68:10,69:12,70:13,71:14,72:14,73:15,74:16,75:17,76:20,77:21,78:22,79:45,80:46,81:47,82:0},age={5:'"$"#,##0_);\\("$"#,##0\\)',63:'"$"#,##0_);\\("$"#,##0\\)',6:'"$"#,##0_);[Red]\\("$"#,##0\\)',64:'"$"#,##0_);[Red]\\("$"#,##0\\)',7:'"$"#,##0.00_);\\("$"#,##0.00\\)',65:'"$"#,##0.00_);\\("$"#,##0.00\\)',8:'"$"#,##0.00_);[Red]\\("$"#,##0.00\\)',66:'"$"#,##0.00_);[Red]\\("$"#,##0.00\\)',41:'_(* #,##0_);_(* \\(#,##0\\);_(* "-"_);_(@_)',42:'_("$"* #,##0_);_("$"* \\(#,##0\\);_("$"* "-"_);_(@_)',43:'_(* #,##0.00_);_(* \\(#,##0.00\\);_(* "-"??_);_(@_)',44:'_("$"* #,##0.00_);_("$"* \\(#,##0.00\\);_("$"* "-"??_);_(@_)'};function vx(e,t,r){for(var n=e<0?-1:1,a=e*n,i=0,l=1,c=0,d=1,f=0,h=0,p=Math.floor(a);f<t&&(p=Math.floor(a),c=p*l+i,h=p*f+d,!(a-p<5e-8));)a=1/(a-p),i=l,l=c,d=f,f=h;if(h>t&&(f>t?(h=d,c=i):(h=f,c=l)),!r)return[0,n*c,h];var g=Math.floor(n*c/h);return[g,n*c-g*h,h]}function tg(e,t,r){if(e>2958465||e<0)return null;var n=e|0,a=Math.floor(86400*(e-n)),i=0,l=[],c={D:n,T:a,u:86400*(e-n)-a,y:0,m:0,d:0,H:0,M:0,S:0,q:0};if(Math.abs(c.u)<1e-6&&(c.u=0),t&&t.date1904&&(n+=1462),c.u>.9999&&(c.u=0,++a==86400&&(c.T=a=0,++n,++c.D)),n===60)l=r?[1317,10,29]:[1900,2,29],i=3;else if(n===0)l=r?[1317,8,29]:[1900,1,0],i=6;else{n>60&&--n;var d=new Date(1900,0,1);d.setDate(d.getDate()+n-1),l=[d.getFullYear(),d.getMonth()+1,d.getDate()],i=d.getDay(),n<60&&(i=(i+6)%7),r&&(i=dge(d,l))}return c.y=l[0],c.m=l[1],c.d=l[2],c.S=a%60,a=Math.floor(a/60),c.M=a%60,a=Math.floor(a/60),c.H=a,c.q=i,c}var C9=new Date(1899,11,31,0,0,0),sge=C9.getTime(),ige=new Date(1900,2,1,0,0,0);function O9(e,t){var r=e.getTime();return t?r-=1461*24*60*60*1e3:e>=ige&&(r+=1440*60*1e3),(r-(sge+(e.getTimezoneOffset()-C9.getTimezoneOffset())*6e4))/(1440*60*1e3)}function __(e){return e.indexOf(".")==-1?e:e.replace(/(?:\.0*|(\.\d*[1-9])0+)$/,"$1")}function lge(e){return e.indexOf("E")==-1?e:e.replace(/(?:\.0*|(\.\d*[1-9])0+)[Ee]/,"$1E").replace(/(E[+-])(\d)$/,"$10$2")}function oge(e){var t=e<0?12:11,r=__(e.toFixed(12));return r.length<=t||(r=e.toPrecision(10),r.length<=t)?r:e.toExponential(5)}function cge(e){var t=__(e.toFixed(11));return t.length>(e<0?12:11)||t==="0"||t==="-0"?e.toPrecision(6):t}function uge(e){var t=Math.floor(Math.log(Math.abs(e))*Math.LOG10E),r;return t>=-4&&t<=-1?r=e.toPrecision(10+t):Math.abs(t)<=9?r=oge(e):t===10?r=e.toFixed(10).substr(0,12):r=cge(e),__(lge(r.toUpperCase()))}function fN(e,t){switch(typeof e){case"string":return e;case"boolean":return e?"TRUE":"FALSE";case"number":return(e|0)===e?e.toString(10):uge(e);case"undefined":return"";case"object":if(e==null)return"";if(e instanceof Date)return Fo(14,O9(e,t&&t.date1904),t)}throw new Error("unsupported value in General format: "+e)}function dge(e,t){t[0]-=581;var r=e.getDay();return e<60&&(r=(r+6)%7),r}function fge(e,t,r,n){var a="",i=0,l=0,c=r.y,d,f=0;switch(e){case 98:c=r.y+543;case 121:switch(t.length){case 1:case 2:d=c%100,f=2;break;default:d=c%1e4,f=4;break}break;case 109:switch(t.length){case 1:case 2:d=r.m,f=t.length;break;case 3:return o2[r.m-1][1];case 5:return o2[r.m-1][0];default:return o2[r.m-1][2]}break;case 100:switch(t.length){case 1:case 2:d=r.d,f=t.length;break;case 3:return R5[r.q][0];default:return R5[r.q][1]}break;case 104:switch(t.length){case 1:case 2:d=1+(r.H+11)%12,f=t.length;break;default:throw"bad hour format: "+t}break;case 72:switch(t.length){case 1:case 2:d=r.H,f=t.length;break;default:throw"bad hour format: "+t}break;case 77:switch(t.length){case 1:case 2:d=r.M,f=t.length;break;default:throw"bad minute format: "+t}break;case 115:if(t!="s"&&t!="ss"&&t!=".0"&&t!=".00"&&t!=".000")throw"bad second format: "+t;return r.u===0&&(t=="s"||t=="ss")?li(r.S,t.length):(n>=2?l=n===3?1e3:100:l=n===1?10:1,i=Math.round(l*(r.S+r.u)),i>=60*l&&(i=0),t==="s"?i===0?"0":""+i/l:(a=li(i,2+n),t==="ss"?a.substr(0,2):"."+a.substr(2,t.length-1)));case 90:switch(t){case"[h]":case"[hh]":d=r.D*24+r.H;break;case"[m]":case"[mm]":d=(r.D*24+r.H)*60+r.M;break;case"[s]":case"[ss]":d=((r.D*24+r.H)*60+r.M)*60+Math.round(r.S+r.u);break;default:throw"bad abstime format: "+t}f=t.length===3?1:2;break;case 101:d=c,f=1;break}var h=f>0?li(d,f):"";return h}function vo(e){var t=3;if(e.length<=t)return e;for(var r=e.length%t,n=e.substr(0,r);r!=e.length;r+=t)n+=(n.length>0?",":"")+e.substr(r,t);return n}var D9=/%/g;function hge(e,t,r){var n=t.replace(D9,""),a=t.length-n.length;return ml(e,n,r*Math.pow(10,2*a))+Hr("%",a)}function mge(e,t,r){for(var n=t.length-1;t.charCodeAt(n-1)===44;)--n;return ml(e,t.substr(0,n),r/Math.pow(10,3*(t.length-n)))}function P9(e,t){var r,n=e.indexOf("E")-e.indexOf(".")-1;if(e.match(/^#+0.0E\+0$/)){if(t==0)return"0.0E+0";if(t<0)return"-"+P9(e,-t);var a=e.indexOf(".");a===-1&&(a=e.indexOf("E"));var i=Math.floor(Math.log(t)*Math.LOG10E)%a;if(i<0&&(i+=a),r=(t/Math.pow(10,i)).toPrecision(n+1+(a+i)%a),r.indexOf("e")===-1){var l=Math.floor(Math.log(t)*Math.LOG10E);for(r.indexOf(".")===-1?r=r.charAt(0)+"."+r.substr(1)+"E+"+(l-r.length+i):r+="E+"+(l-i);r.substr(0,2)==="0.";)r=r.charAt(0)+r.substr(2,a)+"."+r.substr(2+a),r=r.replace(/^0+([1-9])/,"$1").replace(/^0+\./,"0.");r=r.replace(/\+-/,"-")}r=r.replace(/^([+-]?)(\d*)\.(\d*)[Ee]/,function(c,d,f,h){return d+f+h.substr(0,(a+i)%a)+"."+h.substr(i)+"E"})}else r=t.toExponential(n);return e.match(/E\+00$/)&&r.match(/e[+-]\d$/)&&(r=r.substr(0,r.length-1)+"0"+r.charAt(r.length-1)),e.match(/E\-/)&&r.match(/e\+/)&&(r=r.replace(/e\+/,"e")),r.replace("e","E")}var M9=/# (\?+)( ?)\/( ?)(\d+)/;function pge(e,t,r){var n=parseInt(e[4],10),a=Math.round(t*n),i=Math.floor(a/n),l=a-i*n,c=n;return r+(i===0?"":""+i)+" "+(l===0?Hr(" ",e[1].length+1+e[4].length):k_(l,e[1].length)+e[2]+"/"+e[3]+li(c,e[4].length))}function gge(e,t,r){return r+(t===0?"":""+t)+Hr(" ",e[1].length+2+e[4].length)}var R9=/^#*0*\.([0#]+)/,I9=/\).*[0#]/,F9=/\(###\) ###\\?-####/;function oa(e){for(var t="",r,n=0;n!=e.length;++n)switch(r=e.charCodeAt(n)){case 35:break;case 63:t+=" ";break;case 48:t+="0";break;default:t+=String.fromCharCode(r)}return t}function F5(e,t){var r=Math.pow(10,t);return""+Math.round(e*r)/r}function L5(e,t){var r=e-Math.floor(e),n=Math.pow(10,t);return t<(""+Math.round(r*n)).length?0:Math.round(r*n)}function xge(e,t){return t<(""+Math.round((e-Math.floor(e))*Math.pow(10,t))).length?1:0}function yge(e){return e<2147483647&&e>-2147483648?""+(e>=0?e|0:e-1|0):""+Math.floor(e)}function Ts(e,t,r){if(e.charCodeAt(0)===40&&!t.match(I9)){var n=t.replace(/\( */,"").replace(/ \)/,"").replace(/\)/,"");return r>=0?Ts("n",n,r):"("+Ts("n",n,-r)+")"}if(t.charCodeAt(t.length-1)===44)return mge(e,t,r);if(t.indexOf("%")!==-1)return hge(e,t,r);if(t.indexOf("E")!==-1)return P9(t,r);if(t.charCodeAt(0)===36)return"$"+Ts(e,t.substr(t.charAt(1)==" "?2:1),r);var a,i,l,c,d=Math.abs(r),f=r<0?"-":"";if(t.match(/^00+$/))return f+Zu(d,t.length);if(t.match(/^[#?]+$/))return a=Zu(r,0),a==="0"&&(a=""),a.length>t.length?a:oa(t.substr(0,t.length-a.length))+a;if(i=t.match(M9))return pge(i,d,f);if(t.match(/^#+0+$/))return f+Zu(d,t.length-t.indexOf("0"));if(i=t.match(R9))return a=F5(r,i[1].length).replace(/^([^\.]+)$/,"$1."+oa(i[1])).replace(/\.$/,"."+oa(i[1])).replace(/\.(\d*)$/,function(b,w){return"."+w+Hr("0",oa(i[1]).length-w.length)}),t.indexOf("0.")!==-1?a:a.replace(/^0\./,".");if(t=t.replace(/^#+([0.])/,"$1"),i=t.match(/^(0*)\.(#*)$/))return f+F5(d,i[2].length).replace(/\.(\d*[1-9])0*$/,".$1").replace(/^(-?\d*)$/,"$1.").replace(/^0\./,i[1].length?"0.":".");if(i=t.match(/^#{1,3},##0(\.?)$/))return f+vo(Zu(d,0));if(i=t.match(/^#,##0\.([#0]*0)$/))return r<0?"-"+Ts(e,t,-r):vo(""+(Math.floor(r)+xge(r,i[1].length)))+"."+li(L5(r,i[1].length),i[1].length);if(i=t.match(/^#,#*,#0/))return Ts(e,t.replace(/^#,#*,/,""),r);if(i=t.match(/^([0#]+)(\\?-([0#]+))+$/))return a=yd(Ts(e,t.replace(/[\\-]/g,""),r)),l=0,yd(yd(t.replace(/\\/g,"")).replace(/[0#]/g,function(b){return l<a.length?a.charAt(l++):b==="0"?"0":""}));if(t.match(F9))return a=Ts(e,"##########",r),"("+a.substr(0,3)+") "+a.substr(3,3)+"-"+a.substr(6);var h="";if(i=t.match(/^([#0?]+)( ?)\/( ?)([#0?]+)/))return l=Math.min(i[4].length,7),c=vx(d,Math.pow(10,l)-1,!1),a=""+f,h=ml("n",i[1],c[1]),h.charAt(h.length-1)==" "&&(h=h.substr(0,h.length-1)+"0"),a+=h+i[2]+"/"+i[3],h=xx(c[2],l),h.length<i[4].length&&(h=oa(i[4].substr(i[4].length-h.length))+h),a+=h,a;if(i=t.match(/^# ([#0?]+)( ?)\/( ?)([#0?]+)/))return l=Math.min(Math.max(i[1].length,i[4].length),7),c=vx(d,Math.pow(10,l)-1,!0),f+(c[0]||(c[1]?"":"0"))+" "+(c[1]?k_(c[1],l)+i[2]+"/"+i[3]+xx(c[2],l):Hr(" ",2*l+1+i[2].length+i[3].length));if(i=t.match(/^[#0?]+$/))return a=Zu(r,0),t.length<=a.length?a:oa(t.substr(0,t.length-a.length))+a;if(i=t.match(/^([#0?]+)\.([#0]+)$/)){a=""+r.toFixed(Math.min(i[2].length,10)).replace(/([^0])0+$/,"$1"),l=a.indexOf(".");var p=t.indexOf(".")-l,g=t.length-a.length-p;return oa(t.substr(0,p)+a+t.substr(t.length-g))}if(i=t.match(/^00,000\.([#0]*0)$/))return l=L5(r,i[1].length),r<0?"-"+Ts(e,t,-r):vo(yge(r)).replace(/^\d,\d{3}$/,"0$&").replace(/^\d*$/,function(b){return"00,"+(b.length<3?li(0,3-b.length):"")+b})+"."+li(l,i[1].length);switch(t){case"###,##0.00":return Ts(e,"#,##0.00",r);case"###,###":case"##,###":case"#,###":var y=vo(Zu(d,0));return y!=="0"?f+y:"";case"###,###.00":return Ts(e,"###,##0.00",r).replace(/^0\./,".");case"#,###.00":return Ts(e,"#,##0.00",r).replace(/^0\./,".")}throw new Error("unsupported format |"+t+"|")}function vge(e,t,r){for(var n=t.length-1;t.charCodeAt(n-1)===44;)--n;return ml(e,t.substr(0,n),r/Math.pow(10,3*(t.length-n)))}function bge(e,t,r){var n=t.replace(D9,""),a=t.length-n.length;return ml(e,n,r*Math.pow(10,2*a))+Hr("%",a)}function L9(e,t){var r,n=e.indexOf("E")-e.indexOf(".")-1;if(e.match(/^#+0.0E\+0$/)){if(t==0)return"0.0E+0";if(t<0)return"-"+L9(e,-t);var a=e.indexOf(".");a===-1&&(a=e.indexOf("E"));var i=Math.floor(Math.log(t)*Math.LOG10E)%a;if(i<0&&(i+=a),r=(t/Math.pow(10,i)).toPrecision(n+1+(a+i)%a),!r.match(/[Ee]/)){var l=Math.floor(Math.log(t)*Math.LOG10E);r.indexOf(".")===-1?r=r.charAt(0)+"."+r.substr(1)+"E+"+(l-r.length+i):r+="E+"+(l-i),r=r.replace(/\+-/,"-")}r=r.replace(/^([+-]?)(\d*)\.(\d*)[Ee]/,function(c,d,f,h){return d+f+h.substr(0,(a+i)%a)+"."+h.substr(i)+"E"})}else r=t.toExponential(n);return e.match(/E\+00$/)&&r.match(/e[+-]\d$/)&&(r=r.substr(0,r.length-1)+"0"+r.charAt(r.length-1)),e.match(/E\-/)&&r.match(/e\+/)&&(r=r.replace(/e\+/,"e")),r.replace("e","E")}function Si(e,t,r){if(e.charCodeAt(0)===40&&!t.match(I9)){var n=t.replace(/\( */,"").replace(/ \)/,"").replace(/\)/,"");return r>=0?Si("n",n,r):"("+Si("n",n,-r)+")"}if(t.charCodeAt(t.length-1)===44)return vge(e,t,r);if(t.indexOf("%")!==-1)return bge(e,t,r);if(t.indexOf("E")!==-1)return L9(t,r);if(t.charCodeAt(0)===36)return"$"+Si(e,t.substr(t.charAt(1)==" "?2:1),r);var a,i,l,c,d=Math.abs(r),f=r<0?"-":"";if(t.match(/^00+$/))return f+li(d,t.length);if(t.match(/^[#?]+$/))return a=""+r,r===0&&(a=""),a.length>t.length?a:oa(t.substr(0,t.length-a.length))+a;if(i=t.match(M9))return gge(i,d,f);if(t.match(/^#+0+$/))return f+li(d,t.length-t.indexOf("0"));if(i=t.match(R9))return a=(""+r).replace(/^([^\.]+)$/,"$1."+oa(i[1])).replace(/\.$/,"."+oa(i[1])),a=a.replace(/\.(\d*)$/,function(b,w){return"."+w+Hr("0",oa(i[1]).length-w.length)}),t.indexOf("0.")!==-1?a:a.replace(/^0\./,".");if(t=t.replace(/^#+([0.])/,"$1"),i=t.match(/^(0*)\.(#*)$/))return f+(""+d).replace(/\.(\d*[1-9])0*$/,".$1").replace(/^(-?\d*)$/,"$1.").replace(/^0\./,i[1].length?"0.":".");if(i=t.match(/^#{1,3},##0(\.?)$/))return f+vo(""+d);if(i=t.match(/^#,##0\.([#0]*0)$/))return r<0?"-"+Si(e,t,-r):vo(""+r)+"."+Hr("0",i[1].length);if(i=t.match(/^#,#*,#0/))return Si(e,t.replace(/^#,#*,/,""),r);if(i=t.match(/^([0#]+)(\\?-([0#]+))+$/))return a=yd(Si(e,t.replace(/[\\-]/g,""),r)),l=0,yd(yd(t.replace(/\\/g,"")).replace(/[0#]/g,function(b){return l<a.length?a.charAt(l++):b==="0"?"0":""}));if(t.match(F9))return a=Si(e,"##########",r),"("+a.substr(0,3)+") "+a.substr(3,3)+"-"+a.substr(6);var h="";if(i=t.match(/^([#0?]+)( ?)\/( ?)([#0?]+)/))return l=Math.min(i[4].length,7),c=vx(d,Math.pow(10,l)-1,!1),a=""+f,h=ml("n",i[1],c[1]),h.charAt(h.length-1)==" "&&(h=h.substr(0,h.length-1)+"0"),a+=h+i[2]+"/"+i[3],h=xx(c[2],l),h.length<i[4].length&&(h=oa(i[4].substr(i[4].length-h.length))+h),a+=h,a;if(i=t.match(/^# ([#0?]+)( ?)\/( ?)([#0?]+)/))return l=Math.min(Math.max(i[1].length,i[4].length),7),c=vx(d,Math.pow(10,l)-1,!0),f+(c[0]||(c[1]?"":"0"))+" "+(c[1]?k_(c[1],l)+i[2]+"/"+i[3]+xx(c[2],l):Hr(" ",2*l+1+i[2].length+i[3].length));if(i=t.match(/^[#0?]+$/))return a=""+r,t.length<=a.length?a:oa(t.substr(0,t.length-a.length))+a;if(i=t.match(/^([#0]+)\.([#0]+)$/)){a=""+r.toFixed(Math.min(i[2].length,10)).replace(/([^0])0+$/,"$1"),l=a.indexOf(".");var p=t.indexOf(".")-l,g=t.length-a.length-p;return oa(t.substr(0,p)+a+t.substr(t.length-g))}if(i=t.match(/^00,000\.([#0]*0)$/))return r<0?"-"+Si(e,t,-r):vo(""+r).replace(/^\d,\d{3}$/,"0$&").replace(/^\d*$/,function(b){return"00,"+(b.length<3?li(0,3-b.length):"")+b})+"."+li(0,i[1].length);switch(t){case"###,###":case"##,###":case"#,###":var y=vo(""+d);return y!=="0"?f+y:"";default:if(t.match(/\.[0#?]*$/))return Si(e,t.slice(0,t.lastIndexOf(".")),r)+oa(t.slice(t.lastIndexOf(".")))}throw new Error("unsupported format |"+t+"|")}function ml(e,t,r){return(r|0)===r?Si(e,t,r):Ts(e,t,r)}function wge(e){for(var t=[],r=!1,n=0,a=0;n<e.length;++n)switch(e.charCodeAt(n)){case 34:r=!r;break;case 95:case 42:case 92:++n;break;case 59:t[t.length]=e.substr(a,n-a),a=n+1}if(t[t.length]=e.substr(a),r===!0)throw new Error("Format |"+e+"| unterminated string ");return t}var B9=/\[[HhMmSs\u0E0A\u0E19\u0E17]*\]/;function $9(e){for(var t=0,r="",n="";t<e.length;)switch(r=e.charAt(t)){case"G":yx(e,t)&&(t+=6),t++;break;case'"':for(;e.charCodeAt(++t)!==34&&t<e.length;);++t;break;case"\\":t+=2;break;case"_":t+=2;break;case"@":++t;break;case"B":case"b":if(e.charAt(t+1)==="1"||e.charAt(t+1)==="2")return!0;case"M":case"D":case"Y":case"H":case"S":case"E":case"m":case"d":case"y":case"h":case"s":case"e":case"g":return!0;case"A":case"a":case"":if(e.substr(t,3).toUpperCase()==="A/P"||e.substr(t,5).toUpperCase()==="AM/PM"||e.substr(t,5).toUpperCase()==="/")return!0;++t;break;case"[":for(n=r;e.charAt(t++)!=="]"&&t<e.length;)n+=e.charAt(t);if(n.match(B9))return!0;break;case".":case"0":case"#":for(;t<e.length&&("0#?.,E+-%".indexOf(r=e.charAt(++t))>-1||r=="\\"&&e.charAt(t+1)=="-"&&"0#".indexOf(e.charAt(t+2))>-1););break;case"?":for(;e.charAt(++t)===r;);break;case"*":++t,(e.charAt(t)==" "||e.charAt(t)=="*")&&++t;break;case"(":case")":++t;break;case"1":case"2":case"3":case"4":case"5":case"6":case"7":case"8":case"9":for(;t<e.length&&"0123456789".indexOf(e.charAt(++t))>-1;);break;case" ":++t;break;default:++t;break}return!1}function jge(e,t,r,n){for(var a=[],i="",l=0,c="",d="t",f,h,p,g="H";l<e.length;)switch(c=e.charAt(l)){case"G":if(!yx(e,l))throw new Error("unrecognized character "+c+" in "+e);a[a.length]={t:"G",v:"General"},l+=7;break;case'"':for(i="";(p=e.charCodeAt(++l))!==34&&l<e.length;)i+=String.fromCharCode(p);a[a.length]={t:"t",v:i},++l;break;case"\\":var y=e.charAt(++l),b=y==="("||y===")"?y:"t";a[a.length]={t:b,v:y},++l;break;case"_":a[a.length]={t:"t",v:" "},l+=2;break;case"@":a[a.length]={t:"T",v:t},++l;break;case"B":case"b":if(e.charAt(l+1)==="1"||e.charAt(l+1)==="2"){if(f==null&&(f=tg(t,r,e.charAt(l+1)==="2"),f==null))return"";a[a.length]={t:"X",v:e.substr(l,2)},d=c,l+=2;break}case"M":case"D":case"Y":case"H":case"S":case"E":c=c.toLowerCase();case"m":case"d":case"y":case"h":case"s":case"e":case"g":if(t<0||f==null&&(f=tg(t,r),f==null))return"";for(i=c;++l<e.length&&e.charAt(l).toLowerCase()===c;)i+=c;c==="m"&&d.toLowerCase()==="h"&&(c="M"),c==="h"&&(c=g),a[a.length]={t:c,v:i},d=c;break;case"A":case"a":case"":var w={t:c,v:c};if(f==null&&(f=tg(t,r)),e.substr(l,3).toUpperCase()==="A/P"?(f!=null&&(w.v=f.H>=12?"P":"A"),w.t="T",g="h",l+=3):e.substr(l,5).toUpperCase()==="AM/PM"?(f!=null&&(w.v=f.H>=12?"PM":"AM"),w.t="T",l+=5,g="h"):e.substr(l,5).toUpperCase()==="/"?(f!=null&&(w.v=f.H>=12?"":""),w.t="T",l+=5,g="h"):(w.t="t",++l),f==null&&w.t==="T")return"";a[a.length]=w,d=c;break;case"[":for(i=c;e.charAt(l++)!=="]"&&l<e.length;)i+=e.charAt(l);if(i.slice(-1)!=="]")throw'unterminated "[" block: |'+i+"|";if(i.match(B9)){if(f==null&&(f=tg(t,r),f==null))return"";a[a.length]={t:"Z",v:i.toLowerCase()},d=i.charAt(1)}else i.indexOf("$")>-1&&(i=(i.match(/\$([^-\[\]]*)/)||[])[1]||"$",$9(e)||(a[a.length]={t:"t",v:i}));break;case".":if(f!=null){for(i=c;++l<e.length&&(c=e.charAt(l))==="0";)i+=c;a[a.length]={t:"s",v:i};break}case"0":case"#":for(i=c;++l<e.length&&"0#?.,E+-%".indexOf(c=e.charAt(l))>-1;)i+=c;a[a.length]={t:"n",v:i};break;case"?":for(i=c;e.charAt(++l)===c;)i+=c;a[a.length]={t:c,v:i},d=c;break;case"*":++l,(e.charAt(l)==" "||e.charAt(l)=="*")&&++l;break;case"(":case")":a[a.length]={t:n===1?"t":c,v:c},++l;break;case"1":case"2":case"3":case"4":case"5":case"6":case"7":case"8":case"9":for(i=c;l<e.length&&"0123456789".indexOf(e.charAt(++l))>-1;)i+=e.charAt(l);a[a.length]={t:"D",v:i};break;case" ":a[a.length]={t:c,v:c},++l;break;case"$":a[a.length]={t:"t",v:"$"},++l;break;default:if(",$-+/():!^&'~{}<>=acfijklopqrtuvwxzP".indexOf(c)===-1)throw new Error("unrecognized character "+c+" in "+e);a[a.length]={t:"t",v:c},++l;break}var j=0,S=0,_;for(l=a.length-1,d="t";l>=0;--l)switch(a[l].t){case"h":case"H":a[l].t=g,d="h",j<1&&(j=1);break;case"s":(_=a[l].v.match(/\.0+$/))&&(S=Math.max(S,_[0].length-1)),j<3&&(j=3);case"d":case"y":case"M":case"e":d=a[l].t;break;case"m":d==="s"&&(a[l].t="M",j<2&&(j=2));break;case"X":break;case"Z":j<1&&a[l].v.match(/[Hh]/)&&(j=1),j<2&&a[l].v.match(/[Mm]/)&&(j=2),j<3&&a[l].v.match(/[Ss]/)&&(j=3)}switch(j){case 0:break;case 1:f.u>=.5&&(f.u=0,++f.S),f.S>=60&&(f.S=0,++f.M),f.M>=60&&(f.M=0,++f.H);break;case 2:f.u>=.5&&(f.u=0,++f.S),f.S>=60&&(f.S=0,++f.M);break}var E="",T;for(l=0;l<a.length;++l)switch(a[l].t){case"t":case"T":case" ":case"D":break;case"X":a[l].v="",a[l].t=";";break;case"d":case"m":case"y":case"h":case"H":case"M":case"s":case"e":case"b":case"Z":a[l].v=fge(a[l].t.charCodeAt(0),a[l].v,f,S),a[l].t="t";break;case"n":case"?":for(T=l+1;a[T]!=null&&((c=a[T].t)==="?"||c==="D"||(c===" "||c==="t")&&a[T+1]!=null&&(a[T+1].t==="?"||a[T+1].t==="t"&&a[T+1].v==="/")||a[l].t==="("&&(c===" "||c==="n"||c===")")||c==="t"&&(a[T].v==="/"||a[T].v===" "&&a[T+1]!=null&&a[T+1].t=="?"));)a[l].v+=a[T].v,a[T]={v:"",t:";"},++T;E+=a[l].v,l=T-1;break;case"G":a[l].t="t",a[l].v=fN(t,r);break}var A="",C,O;if(E.length>0){E.charCodeAt(0)==40?(C=t<0&&E.charCodeAt(0)===45?-t:t,O=ml("n",E,C)):(C=t<0&&n>1?-t:t,O=ml("n",E,C),C<0&&a[0]&&a[0].t=="t"&&(O=O.substr(1),a[0].v="-"+a[0].v)),T=O.length-1;var P=a.length;for(l=0;l<a.length;++l)if(a[l]!=null&&a[l].t!="t"&&a[l].v.indexOf(".")>-1){P=l;break}var F=a.length;if(P===a.length&&O.indexOf("E")===-1){for(l=a.length-1;l>=0;--l)a[l]==null||"n?".indexOf(a[l].t)===-1||(T>=a[l].v.length-1?(T-=a[l].v.length,a[l].v=O.substr(T+1,a[l].v.length)):T<0?a[l].v="":(a[l].v=O.substr(0,T+1),T=-1),a[l].t="t",F=l);T>=0&&F<a.length&&(a[F].v=O.substr(0,T+1)+a[F].v)}else if(P!==a.length&&O.indexOf("E")===-1){for(T=O.indexOf(".")-1,l=P;l>=0;--l)if(!(a[l]==null||"n?".indexOf(a[l].t)===-1)){for(h=a[l].v.indexOf(".")>-1&&l===P?a[l].v.indexOf(".")-1:a[l].v.length-1,A=a[l].v.substr(h+1);h>=0;--h)T>=0&&(a[l].v.charAt(h)==="0"||a[l].v.charAt(h)==="#")&&(A=O.charAt(T--)+A);a[l].v=A,a[l].t="t",F=l}for(T>=0&&F<a.length&&(a[F].v=O.substr(0,T+1)+a[F].v),T=O.indexOf(".")+1,l=P;l<a.length;++l)if(!(a[l]==null||"n?(".indexOf(a[l].t)===-1&&l!==P)){for(h=a[l].v.indexOf(".")>-1&&l===P?a[l].v.indexOf(".")+1:0,A=a[l].v.substr(0,h);h<a[l].v.length;++h)T<O.length&&(A+=O.charAt(T++));a[l].v=A,a[l].t="t",F=l}}}for(l=0;l<a.length;++l)a[l]!=null&&"n?".indexOf(a[l].t)>-1&&(C=n>1&&t<0&&l>0&&a[l-1].v==="-"?-t:t,a[l].v=ml(a[l].t,a[l].v,C),a[l].t="t");var G="";for(l=0;l!==a.length;++l)a[l]!=null&&(G+=a[l].v);return G}var B5=/\[(=|>[=]?|<[>=]?)(-?\d+(?:\.\d*)?)\]/;function $5(e,t){if(t==null)return!1;var r=parseFloat(t[2]);switch(t[1]){case"=":if(e==r)return!0;break;case">":if(e>r)return!0;break;case"<":if(e<r)return!0;break;case"<>":if(e!=r)return!0;break;case">=":if(e>=r)return!0;break;case"<=":if(e<=r)return!0;break}return!1}function Nge(e,t){var r=wge(e),n=r.length,a=r[n-1].indexOf("@");if(n<4&&a>-1&&--n,r.length>4)throw new Error("cannot find right format for |"+r.join("|")+"|");if(typeof t!="number")return[4,r.length===4||a>-1?r[r.length-1]:"@"];switch(r.length){case 1:r=a>-1?["General","General","General",r[0]]:[r[0],r[0],r[0],"@"];break;case 2:r=a>-1?[r[0],r[0],r[0],r[1]]:[r[0],r[1],r[0],"@"];break;case 3:r=a>-1?[r[0],r[1],r[0],r[2]]:[r[0],r[1],r[2],"@"];break}var i=t>0?r[0]:t<0?r[1]:r[2];if(r[0].indexOf("[")===-1&&r[1].indexOf("[")===-1)return[n,i];if(r[0].match(/\[[=<>]/)!=null||r[1].match(/\[[=<>]/)!=null){var l=r[0].match(B5),c=r[1].match(B5);return $5(t,l)?[n,r[0]]:$5(t,c)?[n,r[1]]:[n,r[l!=null&&c!=null?2:1]]}return[n,i]}function Fo(e,t,r){r==null&&(r={});var n="";switch(typeof e){case"string":e=="m/d/yy"&&r.dateNF?n=r.dateNF:n=e;break;case"number":e==14&&r.dateNF?n=r.dateNF:n=(r.table!=null?r.table:qr)[e],n==null&&(n=r.table&&r.table[I5[e]]||qr[I5[e]]),n==null&&(n=age[e]||"General");break}if(yx(n,0))return fN(t,r);t instanceof Date&&(t=O9(t,r.date1904));var a=Nge(n,t);if(yx(a[1]))return fN(t,r);if(t===!0)t="TRUE";else if(t===!1)t="FALSE";else if(t===""||t==null)return"";return jge(a[1],t,r,a[0])}function U9(e,t){if(typeof t!="number"){t=+t||-1;for(var r=0;r<392;++r){if(qr[r]==null){t<0&&(t=r);continue}if(qr[r]==e){t=r;break}}t<0&&(t=391)}return qr[t]=e,t}function Dy(e){for(var t=0;t!=392;++t)e[t]!==void 0&&U9(e[t],t)}function Py(){qr=nge()}var z9=/[dD]+|[mM]+|[yYeE]+|[Hh]+|[Ss]+/g;function Sge(e){var t=typeof e=="number"?qr[e]:e;return t=t.replace(z9,"(\\d+)"),new RegExp("^"+t+"$")}function kge(e,t,r){var n=-1,a=-1,i=-1,l=-1,c=-1,d=-1;(t.match(z9)||[]).forEach(function(p,g){var y=parseInt(r[g+1],10);switch(p.toLowerCase().charAt(0)){case"y":n=y;break;case"d":i=y;break;case"h":l=y;break;case"s":d=y;break;case"m":l>=0?c=y:a=y;break}}),d>=0&&c==-1&&a>=0&&(c=a,a=-1);var f=(""+(n>=0?n:new Date().getFullYear())).slice(-4)+"-"+("00"+(a>=1?a:1)).slice(-2)+"-"+("00"+(i>=1?i:1)).slice(-2);f.length==7&&(f="0"+f),f.length==8&&(f="20"+f);var h=("00"+(l>=0?l:0)).slice(-2)+":"+("00"+(c>=0?c:0)).slice(-2)+":"+("00"+(d>=0?d:0)).slice(-2);return l==-1&&c==-1&&d==-1?f:n==-1&&a==-1&&i==-1?h:f+"T"+h}var _ge=function(){var e={};e.version="1.2.0";function t(){for(var O=0,P=new Array(256),F=0;F!=256;++F)O=F,O=O&1?-306674912^O>>>1:O>>>1,O=O&1?-306674912^O>>>1:O>>>1,O=O&1?-306674912^O>>>1:O>>>1,O=O&1?-306674912^O>>>1:O>>>1,O=O&1?-306674912^O>>>1:O>>>1,O=O&1?-306674912^O>>>1:O>>>1,O=O&1?-306674912^O>>>1:O>>>1,O=O&1?-306674912^O>>>1:O>>>1,P[F]=O;return typeof Int32Array<"u"?new Int32Array(P):P}var r=t();function n(O){var P=0,F=0,G=0,W=typeof Int32Array<"u"?new Int32Array(4096):new Array(4096);for(G=0;G!=256;++G)W[G]=O[G];for(G=0;G!=256;++G)for(F=O[G],P=256+G;P<4096;P+=256)F=W[P]=F>>>8^O[F&255];var ee=[];for(G=1;G!=16;++G)ee[G-1]=typeof Int32Array<"u"?W.subarray(G*256,G*256+256):W.slice(G*256,G*256+256);return ee}var a=n(r),i=a[0],l=a[1],c=a[2],d=a[3],f=a[4],h=a[5],p=a[6],g=a[7],y=a[8],b=a[9],w=a[10],j=a[11],S=a[12],_=a[13],E=a[14];function T(O,P){for(var F=P^-1,G=0,W=O.length;G<W;)F=F>>>8^r[(F^O.charCodeAt(G++))&255];return~F}function A(O,P){for(var F=P^-1,G=O.length-15,W=0;W<G;)F=E[O[W++]^F&255]^_[O[W++]^F>>8&255]^S[O[W++]^F>>16&255]^j[O[W++]^F>>>24]^w[O[W++]]^b[O[W++]]^y[O[W++]]^g[O[W++]]^p[O[W++]]^h[O[W++]]^f[O[W++]]^d[O[W++]]^c[O[W++]]^l[O[W++]]^i[O[W++]]^r[O[W++]];for(G+=15;W<G;)F=F>>>8^r[(F^O[W++])&255];return~F}function C(O,P){for(var F=P^-1,G=0,W=O.length,ee=0,ue=0;G<W;)ee=O.charCodeAt(G++),ee<128?F=F>>>8^r[(F^ee)&255]:ee<2048?(F=F>>>8^r[(F^(192|ee>>6&31))&255],F=F>>>8^r[(F^(128|ee&63))&255]):ee>=55296&&ee<57344?(ee=(ee&1023)+64,ue=O.charCodeAt(G++)&1023,F=F>>>8^r[(F^(240|ee>>8&7))&255],F=F>>>8^r[(F^(128|ee>>2&63))&255],F=F>>>8^r[(F^(128|ue>>6&15|(ee&3)<<4))&255],F=F>>>8^r[(F^(128|ue&63))&255]):(F=F>>>8^r[(F^(224|ee>>12&15))&255],F=F>>>8^r[(F^(128|ee>>6&63))&255],F=F>>>8^r[(F^(128|ee&63))&255]);return~F}return e.table=r,e.bstr=T,e.buf=A,e.str=C,e}(),cr=function(){var t={};t.version="1.2.1";function r(L,Z){for(var q=L.split("/"),Y=Z.split("/"),M=0,X=0,be=Math.min(q.length,Y.length);M<be;++M){if(X=q[M].length-Y[M].length)return X;if(q[M]!=Y[M])return q[M]<Y[M]?-1:1}return q.length-Y.length}function n(L){if(L.charAt(L.length-1)=="/")return L.slice(0,-1).indexOf("/")===-1?L:n(L.slice(0,-1));var Z=L.lastIndexOf("/");return Z===-1?L:L.slice(0,Z+1)}function a(L){if(L.charAt(L.length-1)=="/")return a(L.slice(0,-1));var Z=L.lastIndexOf("/");return Z===-1?L:L.slice(Z+1)}function i(L,Z){typeof Z=="string"&&(Z=new Date(Z));var q=Z.getHours();q=q<<6|Z.getMinutes(),q=q<<5|Z.getSeconds()>>>1,L.write_shift(2,q);var Y=Z.getFullYear()-1980;Y=Y<<4|Z.getMonth()+1,Y=Y<<5|Z.getDate(),L.write_shift(2,Y)}function l(L){var Z=L.read_shift(2)&65535,q=L.read_shift(2)&65535,Y=new Date,M=q&31;q>>>=5;var X=q&15;q>>>=4,Y.setMilliseconds(0),Y.setFullYear(q+1980),Y.setMonth(X-1),Y.setDate(M);var be=Z&31;Z>>>=5;var _e=Z&63;return Z>>>=6,Y.setHours(Z),Y.setMinutes(_e),Y.setSeconds(be<<1),Y}function c(L){Xa(L,0);for(var Z={},q=0;L.l<=L.length-4;){var Y=L.read_shift(2),M=L.read_shift(2),X=L.l+M,be={};switch(Y){case 21589:q=L.read_shift(1),q&1&&(be.mtime=L.read_shift(4)),M>5&&(q&2&&(be.atime=L.read_shift(4)),q&4&&(be.ctime=L.read_shift(4))),be.mtime&&(be.mt=new Date(be.mtime*1e3));break}L.l=X,Z[Y]=be}return Z}var d;function f(){return d||(d={})}function h(L,Z){if(L[0]==80&&L[1]==75)return Ce(L,Z);if((L[0]|32)==109&&(L[1]|32)==105)return xi(L,Z);if(L.length<512)throw new Error("CFB file size "+L.length+" < 512");var q=3,Y=512,M=0,X=0,be=0,_e=0,pe=0,we=[],Ne=L.slice(0,512);Xa(Ne,0);var Fe=p(Ne);switch(q=Fe[0],q){case 3:Y=512;break;case 4:Y=4096;break;case 0:if(Fe[1]==0)return Ce(L,Z);default:throw new Error("Major Version: Expected 3 or 4 saw "+q)}Y!==512&&(Ne=L.slice(0,Y),Xa(Ne,28));var Le=L.slice(0,Y);g(Ne,q);var Ke=Ne.read_shift(4,"i");if(q===3&&Ke!==0)throw new Error("# Directory Sectors: Expected 0 saw "+Ke);Ne.l+=4,be=Ne.read_shift(4,"i"),Ne.l+=4,Ne.chk("00100000","Mini Stream Cutoff Size: "),_e=Ne.read_shift(4,"i"),M=Ne.read_shift(4,"i"),pe=Ne.read_shift(4,"i"),X=Ne.read_shift(4,"i");for(var Me=-1,Ve=0;Ve<109&&(Me=Ne.read_shift(4,"i"),!(Me<0));++Ve)we[Ve]=Me;var tt=y(L,Y);j(pe,X,tt,Y,we);var _t=_(tt,be,we,Y);_t[be].name="!Directory",M>0&&_e!==ue&&(_t[_e].name="!MiniFAT"),_t[we[0]].name="!FAT",_t.fat_addrs=we,_t.ssz=Y;var Yt={},ar=[],Fa=[],Ys=[];E(be,_t,tt,ar,M,Yt,Fa,_e),b(Fa,Ys,ar),ar.shift();var ya={FileIndex:Fa,FullPaths:Ys};return Z&&Z.raw&&(ya.raw={header:Le,sectors:tt}),ya}function p(L){if(L[L.l]==80&&L[L.l+1]==75)return[0,0];L.chk(fe,"Header Signature: "),L.l+=16;var Z=L.read_shift(2,"u");return[L.read_shift(2,"u"),Z]}function g(L,Z){var q=9;switch(L.l+=2,q=L.read_shift(2)){case 9:if(Z!=3)throw new Error("Sector Shift: Expected 9 saw "+q);break;case 12:if(Z!=4)throw new Error("Sector Shift: Expected 12 saw "+q);break;default:throw new Error("Sector Shift: Expected 9 or 12 saw "+q)}L.chk("0600","Mini Sector Shift: "),L.chk("000000000000","Reserved: ")}function y(L,Z){for(var q=Math.ceil(L.length/Z)-1,Y=[],M=1;M<q;++M)Y[M-1]=L.slice(M*Z,(M+1)*Z);return Y[q-1]=L.slice(q*Z),Y}function b(L,Z,q){for(var Y=0,M=0,X=0,be=0,_e=0,pe=q.length,we=[],Ne=[];Y<pe;++Y)we[Y]=Ne[Y]=Y,Z[Y]=q[Y];for(;_e<Ne.length;++_e)Y=Ne[_e],M=L[Y].L,X=L[Y].R,be=L[Y].C,we[Y]===Y&&(M!==-1&&we[M]!==M&&(we[Y]=we[M]),X!==-1&&we[X]!==X&&(we[Y]=we[X])),be!==-1&&(we[be]=Y),M!==-1&&Y!=we[Y]&&(we[M]=we[Y],Ne.lastIndexOf(M)<_e&&Ne.push(M)),X!==-1&&Y!=we[Y]&&(we[X]=we[Y],Ne.lastIndexOf(X)<_e&&Ne.push(X));for(Y=1;Y<pe;++Y)we[Y]===Y&&(X!==-1&&we[X]!==X?we[Y]=we[X]:M!==-1&&we[M]!==M&&(we[Y]=we[M]));for(Y=1;Y<pe;++Y)if(L[Y].type!==0){if(_e=Y,_e!=we[_e])do _e=we[_e],Z[Y]=Z[_e]+"/"+Z[Y];while(_e!==0&&we[_e]!==-1&&_e!=we[_e]);we[Y]=-1}for(Z[0]+="/",Y=1;Y<pe;++Y)L[Y].type!==2&&(Z[Y]+="/")}function w(L,Z,q){for(var Y=L.start,M=L.size,X=[],be=Y;q&&M>0&&be>=0;)X.push(Z.slice(be*ee,be*ee+ee)),M-=ee,be=Ec(q,be*4);return X.length===0?Te(0):Vn(X).slice(0,L.size)}function j(L,Z,q,Y,M){var X=ue;if(L===ue){if(Z!==0)throw new Error("DIFAT chain shorter than expected")}else if(L!==-1){var be=q[L],_e=(Y>>>2)-1;if(!be)return;for(var pe=0;pe<_e&&(X=Ec(be,pe*4))!==ue;++pe)M.push(X);j(Ec(be,Y-4),Z-1,q,Y,M)}}function S(L,Z,q,Y,M){var X=[],be=[];M||(M=[]);var _e=Y-1,pe=0,we=0;for(pe=Z;pe>=0;){M[pe]=!0,X[X.length]=pe,be.push(L[pe]);var Ne=q[Math.floor(pe*4/Y)];if(we=pe*4&_e,Y<4+we)throw new Error("FAT boundary crossed: "+pe+" 4 "+Y);if(!L[Ne])break;pe=Ec(L[Ne],we)}return{nodes:X,data:K5([be])}}function _(L,Z,q,Y){var M=L.length,X=[],be=[],_e=[],pe=[],we=Y-1,Ne=0,Fe=0,Le=0,Ke=0;for(Ne=0;Ne<M;++Ne)if(_e=[],Le=Ne+Z,Le>=M&&(Le-=M),!be[Le]){pe=[];var Me=[];for(Fe=Le;Fe>=0;){Me[Fe]=!0,be[Fe]=!0,_e[_e.length]=Fe,pe.push(L[Fe]);var Ve=q[Math.floor(Fe*4/Y)];if(Ke=Fe*4&we,Y<4+Ke)throw new Error("FAT boundary crossed: "+Fe+" 4 "+Y);if(!L[Ve]||(Fe=Ec(L[Ve],Ke),Me[Fe]))break}X[Le]={nodes:_e,data:K5([pe])}}return X}function E(L,Z,q,Y,M,X,be,_e){for(var pe=0,we=Y.length?2:0,Ne=Z[L].data,Fe=0,Le=0,Ke;Fe<Ne.length;Fe+=128){var Me=Ne.slice(Fe,Fe+128);Xa(Me,64),Le=Me.read_shift(2),Ke=O_(Me,0,Le-we),Y.push(Ke);var Ve={name:Ke,type:Me.read_shift(1),color:Me.read_shift(1),L:Me.read_shift(4,"i"),R:Me.read_shift(4,"i"),C:Me.read_shift(4,"i"),clsid:Me.read_shift(16),state:Me.read_shift(4,"i"),start:0,size:0},tt=Me.read_shift(2)+Me.read_shift(2)+Me.read_shift(2)+Me.read_shift(2);tt!==0&&(Ve.ct=T(Me,Me.l-8));var _t=Me.read_shift(2)+Me.read_shift(2)+Me.read_shift(2)+Me.read_shift(2);_t!==0&&(Ve.mt=T(Me,Me.l-8)),Ve.start=Me.read_shift(4,"i"),Ve.size=Me.read_shift(4,"i"),Ve.size<0&&Ve.start<0&&(Ve.size=Ve.type=0,Ve.start=ue,Ve.name=""),Ve.type===5?(pe=Ve.start,M>0&&pe!==ue&&(Z[pe].name="!StreamData")):Ve.size>=4096?(Ve.storage="fat",Z[Ve.start]===void 0&&(Z[Ve.start]=S(q,Ve.start,Z.fat_addrs,Z.ssz)),Z[Ve.start].name=Ve.name,Ve.content=Z[Ve.start].data.slice(0,Ve.size)):(Ve.storage="minifat",Ve.size<0?Ve.size=0:pe!==ue&&Ve.start!==ue&&Z[pe]&&(Ve.content=w(Ve,Z[pe].data,(Z[_e]||{}).data))),Ve.content&&Xa(Ve.content,0),X[Ke]=Ve,be.push(Ve)}}function T(L,Z){return new Date((es(L,Z+4)/1e7*Math.pow(2,32)+es(L,Z)/1e7-11644473600)*1e3)}function A(L,Z){return f(),h(d.readFileSync(L),Z)}function C(L,Z){var q=Z&&Z.type;switch(q||zt&&Buffer.isBuffer(L)&&(q="buffer"),q||"base64"){case"file":return A(L,Z);case"base64":return h(ii(El(L)),Z);case"binary":return h(ii(L),Z)}return h(L,Z)}function O(L,Z){var q=Z||{},Y=q.root||"Root Entry";if(L.FullPaths||(L.FullPaths=[]),L.FileIndex||(L.FileIndex=[]),L.FullPaths.length!==L.FileIndex.length)throw new Error("inconsistent CFB structure");L.FullPaths.length===0&&(L.FullPaths[0]=Y+"/",L.FileIndex[0]={name:Y,type:5}),q.CLSID&&(L.FileIndex[0].clsid=q.CLSID),P(L)}function P(L){var Z="Sh33tJ5";if(!cr.find(L,"/"+Z)){var q=Te(4);q[0]=55,q[1]=q[3]=50,q[2]=54,L.FileIndex.push({name:Z,type:2,content:q,size:4,L:69,R:69,C:69}),L.FullPaths.push(L.FullPaths[0]+Z),F(L)}}function F(L,Z){O(L);for(var q=!1,Y=!1,M=L.FullPaths.length-1;M>=0;--M){var X=L.FileIndex[M];switch(X.type){case 0:Y?q=!0:(L.FileIndex.pop(),L.FullPaths.pop());break;case 1:case 2:case 5:Y=!0,isNaN(X.R*X.L*X.C)&&(q=!0),X.R>-1&&X.L>-1&&X.R==X.L&&(q=!0);break;default:q=!0;break}}if(!(!q&&!Z)){var be=new Date(1987,1,19),_e=0,pe=Object.create?Object.create(null):{},we=[];for(M=0;M<L.FullPaths.length;++M)pe[L.FullPaths[M]]=!0,L.FileIndex[M].type!==0&&we.push([L.FullPaths[M],L.FileIndex[M]]);for(M=0;M<we.length;++M){var Ne=n(we[M][0]);Y=pe[Ne],Y||(we.push([Ne,{name:a(Ne).replace("/",""),type:1,clsid:K,ct:be,mt:be,content:null}]),pe[Ne]=!0)}for(we.sort(function(Ke,Me){return r(Ke[0],Me[0])}),L.FullPaths=[],L.FileIndex=[],M=0;M<we.length;++M)L.FullPaths[M]=we[M][0],L.FileIndex[M]=we[M][1];for(M=0;M<we.length;++M){var Fe=L.FileIndex[M],Le=L.FullPaths[M];if(Fe.name=a(Le).replace("/",""),Fe.L=Fe.R=Fe.C=-(Fe.color=1),Fe.size=Fe.content?Fe.content.length:0,Fe.start=0,Fe.clsid=Fe.clsid||K,M===0)Fe.C=we.length>1?1:-1,Fe.size=0,Fe.type=5;else if(Le.slice(-1)=="/"){for(_e=M+1;_e<we.length&&n(L.FullPaths[_e])!=Le;++_e);for(Fe.C=_e>=we.length?-1:_e,_e=M+1;_e<we.length&&n(L.FullPaths[_e])!=n(Le);++_e);Fe.R=_e>=we.length?-1:_e,Fe.type=1}else n(L.FullPaths[M+1]||"")==n(Le)&&(Fe.R=M+1),Fe.type=2}}}function G(L,Z){var q=Z||{};if(q.fileType=="mad")return ga(L,q);switch(F(L),q.fileType){case"zip":return ut(L,q)}var Y=function(Ke){for(var Me=0,Ve=0,tt=0;tt<Ke.FileIndex.length;++tt){var _t=Ke.FileIndex[tt];if(_t.content){var Yt=_t.content.length;Yt>0&&(Yt<4096?Me+=Yt+63>>6:Ve+=Yt+511>>9)}}for(var ar=Ke.FullPaths.length+3>>2,Fa=Me+7>>3,Ys=Me+127>>7,ya=Fa+Ve+ar+Ys,va=ya+127>>7,yi=va<=109?0:Math.ceil((va-109)/127);ya+va+yi+127>>7>va;)yi=++va<=109?0:Math.ceil((va-109)/127);var ba=[1,yi,va,Ys,ar,Ve,Me,0];return Ke.FileIndex[0].size=Me<<6,ba[7]=(Ke.FileIndex[0].start=ba[0]+ba[1]+ba[2]+ba[3]+ba[4]+ba[5])+(ba[6]+7>>3),ba}(L),M=Te(Y[7]<<9),X=0,be=0;{for(X=0;X<8;++X)M.write_shift(1,Q[X]);for(X=0;X<8;++X)M.write_shift(2,0);for(M.write_shift(2,62),M.write_shift(2,3),M.write_shift(2,65534),M.write_shift(2,9),M.write_shift(2,6),X=0;X<3;++X)M.write_shift(2,0);for(M.write_shift(4,0),M.write_shift(4,Y[2]),M.write_shift(4,Y[0]+Y[1]+Y[2]+Y[3]-1),M.write_shift(4,0),M.write_shift(4,4096),M.write_shift(4,Y[3]?Y[0]+Y[1]+Y[2]-1:ue),M.write_shift(4,Y[3]),M.write_shift(-4,Y[1]?Y[0]-1:ue),M.write_shift(4,Y[1]),X=0;X<109;++X)M.write_shift(-4,X<Y[2]?Y[1]+X:-1)}if(Y[1])for(be=0;be<Y[1];++be){for(;X<236+be*127;++X)M.write_shift(-4,X<Y[2]?Y[1]+X:-1);M.write_shift(-4,be===Y[1]-1?ue:be+1)}var _e=function(Ke){for(be+=Ke;X<be-1;++X)M.write_shift(-4,X+1);Ke&&(++X,M.write_shift(-4,ue))};for(be=X=0,be+=Y[1];X<be;++X)M.write_shift(-4,J.DIFSECT);for(be+=Y[2];X<be;++X)M.write_shift(-4,J.FATSECT);_e(Y[3]),_e(Y[4]);for(var pe=0,we=0,Ne=L.FileIndex[0];pe<L.FileIndex.length;++pe)Ne=L.FileIndex[pe],Ne.content&&(we=Ne.content.length,!(we<4096)&&(Ne.start=be,_e(we+511>>9)));for(_e(Y[6]+7>>3);M.l&511;)M.write_shift(-4,J.ENDOFCHAIN);for(be=X=0,pe=0;pe<L.FileIndex.length;++pe)Ne=L.FileIndex[pe],Ne.content&&(we=Ne.content.length,!(!we||we>=4096)&&(Ne.start=be,_e(we+63>>6)));for(;M.l&511;)M.write_shift(-4,J.ENDOFCHAIN);for(X=0;X<Y[4]<<2;++X){var Fe=L.FullPaths[X];if(!Fe||Fe.length===0){for(pe=0;pe<17;++pe)M.write_shift(4,0);for(pe=0;pe<3;++pe)M.write_shift(4,-1);for(pe=0;pe<12;++pe)M.write_shift(4,0);continue}Ne=L.FileIndex[X],X===0&&(Ne.start=Ne.size?Ne.start-1:ue);var Le=X===0&&q.root||Ne.name;if(we=2*(Le.length+1),M.write_shift(64,Le,"utf16le"),M.write_shift(2,we),M.write_shift(1,Ne.type),M.write_shift(1,Ne.color),M.write_shift(-4,Ne.L),M.write_shift(-4,Ne.R),M.write_shift(-4,Ne.C),Ne.clsid)M.write_shift(16,Ne.clsid,"hex");else for(pe=0;pe<4;++pe)M.write_shift(4,0);M.write_shift(4,Ne.state||0),M.write_shift(4,0),M.write_shift(4,0),M.write_shift(4,0),M.write_shift(4,0),M.write_shift(4,Ne.start),M.write_shift(4,Ne.size),M.write_shift(4,0)}for(X=1;X<L.FileIndex.length;++X)if(Ne=L.FileIndex[X],Ne.size>=4096)if(M.l=Ne.start+1<<9,zt&&Buffer.isBuffer(Ne.content))Ne.content.copy(M,M.l,0,Ne.size),M.l+=Ne.size+511&-512;else{for(pe=0;pe<Ne.size;++pe)M.write_shift(1,Ne.content[pe]);for(;pe&511;++pe)M.write_shift(1,0)}for(X=1;X<L.FileIndex.length;++X)if(Ne=L.FileIndex[X],Ne.size>0&&Ne.size<4096)if(zt&&Buffer.isBuffer(Ne.content))Ne.content.copy(M,M.l,0,Ne.size),M.l+=Ne.size+63&-64;else{for(pe=0;pe<Ne.size;++pe)M.write_shift(1,Ne.content[pe]);for(;pe&63;++pe)M.write_shift(1,0)}if(zt)M.l=M.length;else for(;M.l<M.length;)M.write_shift(1,0);return M}function W(L,Z){var q=L.FullPaths.map(function(pe){return pe.toUpperCase()}),Y=q.map(function(pe){var we=pe.split("/");return we[we.length-(pe.slice(-1)=="/"?2:1)]}),M=!1;Z.charCodeAt(0)===47?(M=!0,Z=q[0].slice(0,-1)+Z):M=Z.indexOf("/")!==-1;var X=Z.toUpperCase(),be=M===!0?q.indexOf(X):Y.indexOf(X);if(be!==-1)return L.FileIndex[be];var _e=!X.match(eg);for(X=X.replace(Y0,""),_e&&(X=X.replace(eg,"!")),be=0;be<q.length;++be)if((_e?q[be].replace(eg,"!"):q[be]).replace(Y0,"")==X||(_e?Y[be].replace(eg,"!"):Y[be]).replace(Y0,"")==X)return L.FileIndex[be];return null}var ee=64,ue=-2,fe="d0cf11e0a1b11ae1",Q=[208,207,17,224,161,177,26,225],K="00000000000000000000000000000000",J={MAXREGSECT:-6,DIFSECT:-4,FATSECT:-3,ENDOFCHAIN:ue,FREESECT:-1,HEADER_SIGNATURE:fe,HEADER_MINOR_VERSION:"3e00",MAXREGSID:-6,NOSTREAM:-1,HEADER_CLSID:K,EntryTypes:["unknown","storage","stream","lockbytes","property","root"]};function se(L,Z,q){f();var Y=G(L,q);d.writeFileSync(Z,Y)}function xe(L){for(var Z=new Array(L.length),q=0;q<L.length;++q)Z[q]=String.fromCharCode(L[q]);return Z.join("")}function U(L,Z){var q=G(L,Z);switch(Z&&Z.type||"buffer"){case"file":return f(),d.writeFileSync(Z.filename,q),q;case"binary":return typeof q=="string"?q:xe(q);case"base64":return Ph(typeof q=="string"?q:xe(q));case"buffer":if(zt)return Buffer.isBuffer(q)?q:Rl(q);case"array":return typeof q=="string"?ii(q):q}return q}var ae;function D(L){try{var Z=L.InflateRaw,q=new Z;if(q._processChunk(new Uint8Array([3,0]),q._finishFlushFlag),q.bytesRead)ae=L;else throw new Error("zlib does not expose bytesRead")}catch(Y){console.error("cannot use native zlib: "+(Y.message||Y))}}function H(L,Z){if(!ae)return At(L,Z);var q=ae.InflateRaw,Y=new q,M=Y._processChunk(L.slice(L.l),Y._finishFlushFlag);return L.l+=Y.bytesRead,M}function B(L){return ae?ae.deflateRawSync(L):qt(L)}var V=[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15],le=[3,4,5,6,7,8,9,10,11,13,15,17,19,23,27,31,35,43,51,59,67,83,99,115,131,163,195,227,258],De=[1,2,3,4,5,7,9,13,17,25,33,49,65,97,129,193,257,385,513,769,1025,1537,2049,3073,4097,6145,8193,12289,16385,24577];function re(L){var Z=(L<<1|L<<11)&139536|(L<<5|L<<15)&558144;return(Z>>16|Z>>8|Z)&255}for(var ie=typeof Uint8Array<"u",de=ie?new Uint8Array(256):[],oe=0;oe<256;++oe)de[oe]=re(oe);function me(L,Z){var q=de[L&255];return Z<=8?q>>>8-Z:(q=q<<8|de[L>>8&255],Z<=16?q>>>16-Z:(q=q<<8|de[L>>16&255],q>>>24-Z))}function Xe(L,Z){var q=Z&7,Y=Z>>>3;return(L[Y]|(q<=6?0:L[Y+1]<<8))>>>q&3}function Ue(L,Z){var q=Z&7,Y=Z>>>3;return(L[Y]|(q<=5?0:L[Y+1]<<8))>>>q&7}function xt(L,Z){var q=Z&7,Y=Z>>>3;return(L[Y]|(q<=4?0:L[Y+1]<<8))>>>q&15}function Ye(L,Z){var q=Z&7,Y=Z>>>3;return(L[Y]|(q<=3?0:L[Y+1]<<8))>>>q&31}function Be(L,Z){var q=Z&7,Y=Z>>>3;return(L[Y]|(q<=1?0:L[Y+1]<<8))>>>q&127}function Dt(L,Z,q){var Y=Z&7,M=Z>>>3,X=(1<<q)-1,be=L[M]>>>Y;return q<8-Y||(be|=L[M+1]<<8-Y,q<16-Y)||(be|=L[M+2]<<16-Y,q<24-Y)||(be|=L[M+3]<<24-Y),be&X}function Kt(L,Z,q){var Y=Z&7,M=Z>>>3;return Y<=5?L[M]|=(q&7)<<Y:(L[M]|=q<<Y&255,L[M+1]=(q&7)>>8-Y),Z+3}function yt(L,Z,q){var Y=Z&7,M=Z>>>3;return q=(q&1)<<Y,L[M]|=q,Z+1}function Vt(L,Z,q){var Y=Z&7,M=Z>>>3;return q<<=Y,L[M]|=q&255,q>>>=8,L[M+1]=q,Z+8}function Rr(L,Z,q){var Y=Z&7,M=Z>>>3;return q<<=Y,L[M]|=q&255,q>>>=8,L[M+1]=q&255,L[M+2]=q>>>8,Z+16}function Wr(L,Z){var q=L.length,Y=2*q>Z?2*q:Z+5,M=0;if(q>=Z)return L;if(zt){var X=P5(Y);if(L.copy)L.copy(X);else for(;M<L.length;++M)X[M]=L[M];return X}else if(ie){var be=new Uint8Array(Y);if(be.set)be.set(L);else for(;M<q;++M)be[M]=L[M];return be}return L.length=Y,L}function yr(L){for(var Z=new Array(L),q=0;q<L;++q)Z[q]=0;return Z}function Pn(L,Z,q){var Y=1,M=0,X=0,be=0,_e=0,pe=L.length,we=ie?new Uint16Array(32):yr(32);for(X=0;X<32;++X)we[X]=0;for(X=pe;X<q;++X)L[X]=0;pe=L.length;var Ne=ie?new Uint16Array(pe):yr(pe);for(X=0;X<pe;++X)we[M=L[X]]++,Y<M&&(Y=M),Ne[X]=0;for(we[0]=0,X=1;X<=Y;++X)we[X+16]=_e=_e+we[X-1]<<1;for(X=0;X<pe;++X)_e=L[X],_e!=0&&(Ne[X]=we[_e+16]++);var Fe=0;for(X=0;X<pe;++X)if(Fe=L[X],Fe!=0)for(_e=me(Ne[X],Y)>>Y-Fe,be=(1<<Y+4-Fe)-1;be>=0;--be)Z[_e|be<<Fe]=Fe&15|X<<4;return Y}var Mn=ie?new Uint16Array(512):yr(512),vt=ie?new Uint16Array(32):yr(32);if(!ie){for(var ur=0;ur<512;++ur)Mn[ur]=0;for(ur=0;ur<32;++ur)vt[ur]=0}(function(){for(var L=[],Z=0;Z<32;Z++)L.push(5);Pn(L,vt,32);var q=[];for(Z=0;Z<=143;Z++)q.push(8);for(;Z<=255;Z++)q.push(9);for(;Z<=279;Z++)q.push(7);for(;Z<=287;Z++)q.push(8);Pn(q,Mn,288)})();var pt=function(){for(var Z=ie?new Uint8Array(32768):[],q=0,Y=0;q<De.length-1;++q)for(;Y<De[q+1];++Y)Z[Y]=q;for(;Y<32768;++Y)Z[Y]=29;var M=ie?new Uint8Array(259):[];for(q=0,Y=0;q<le.length-1;++q)for(;Y<le[q+1];++Y)M[Y]=q;function X(_e,pe){for(var we=0;we<_e.length;){var Ne=Math.min(65535,_e.length-we),Fe=we+Ne==_e.length;for(pe.write_shift(1,+Fe),pe.write_shift(2,Ne),pe.write_shift(2,~Ne&65535);Ne-- >0;)pe[pe.l++]=_e[we++]}return pe.l}function be(_e,pe){for(var we=0,Ne=0,Fe=ie?new Uint16Array(32768):[];Ne<_e.length;){var Le=Math.min(65535,_e.length-Ne);if(Le<10){for(we=Kt(pe,we,+(Ne+Le==_e.length)),we&7&&(we+=8-(we&7)),pe.l=we/8|0,pe.write_shift(2,Le),pe.write_shift(2,~Le&65535);Le-- >0;)pe[pe.l++]=_e[Ne++];we=pe.l*8;continue}we=Kt(pe,we,+(Ne+Le==_e.length)+2);for(var Ke=0;Le-- >0;){var Me=_e[Ne];Ke=(Ke<<5^Me)&32767;var Ve=-1,tt=0;if((Ve=Fe[Ke])&&(Ve|=Ne&-32768,Ve>Ne&&(Ve-=32768),Ve<Ne))for(;_e[Ve+tt]==_e[Ne+tt]&&tt<250;)++tt;if(tt>2){Me=M[tt],Me<=22?we=Vt(pe,we,de[Me+1]>>1)-1:(Vt(pe,we,3),we+=5,Vt(pe,we,de[Me-23]>>5),we+=3);var _t=Me<8?0:Me-4>>2;_t>0&&(Rr(pe,we,tt-le[Me]),we+=_t),Me=Z[Ne-Ve],we=Vt(pe,we,de[Me]>>3),we-=3;var Yt=Me<4?0:Me-2>>1;Yt>0&&(Rr(pe,we,Ne-Ve-De[Me]),we+=Yt);for(var ar=0;ar<tt;++ar)Fe[Ke]=Ne&32767,Ke=(Ke<<5^_e[Ne])&32767,++Ne;Le-=tt-1}else Me<=143?Me=Me+48:we=yt(pe,we,1),we=Vt(pe,we,de[Me]),Fe[Ke]=Ne&32767,++Ne}we=Vt(pe,we,0)-1}return pe.l=(we+7)/8|0,pe.l}return function(pe,we){return pe.length<8?X(pe,we):be(pe,we)}}();function qt(L){var Z=Te(50+Math.floor(L.length*1.1)),q=pt(L,Z);return Z.slice(0,q)}var dn=ie?new Uint16Array(32768):yr(32768),at=ie?new Uint16Array(32768):yr(32768),Mt=ie?new Uint16Array(128):yr(128),Zr=1,Nr=1;function ge(L,Z){var q=Ye(L,Z)+257;Z+=5;var Y=Ye(L,Z)+1;Z+=5;var M=xt(L,Z)+4;Z+=4;for(var X=0,be=ie?new Uint8Array(19):yr(19),_e=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],pe=1,we=ie?new Uint8Array(8):yr(8),Ne=ie?new Uint8Array(8):yr(8),Fe=be.length,Le=0;Le<M;++Le)be[V[Le]]=X=Ue(L,Z),pe<X&&(pe=X),we[X]++,Z+=3;var Ke=0;for(we[0]=0,Le=1;Le<=pe;++Le)Ne[Le]=Ke=Ke+we[Le-1]<<1;for(Le=0;Le<Fe;++Le)(Ke=be[Le])!=0&&(_e[Le]=Ne[Ke]++);var Me=0;for(Le=0;Le<Fe;++Le)if(Me=be[Le],Me!=0){Ke=de[_e[Le]]>>8-Me;for(var Ve=(1<<7-Me)-1;Ve>=0;--Ve)Mt[Ke|Ve<<Me]=Me&7|Le<<3}var tt=[];for(pe=1;tt.length<q+Y;)switch(Ke=Mt[Be(L,Z)],Z+=Ke&7,Ke>>>=3){case 16:for(X=3+Xe(L,Z),Z+=2,Ke=tt[tt.length-1];X-- >0;)tt.push(Ke);break;case 17:for(X=3+Ue(L,Z),Z+=3;X-- >0;)tt.push(0);break;case 18:for(X=11+Be(L,Z),Z+=7;X-- >0;)tt.push(0);break;default:tt.push(Ke),pe<Ke&&(pe=Ke);break}var _t=tt.slice(0,q),Yt=tt.slice(q);for(Le=q;Le<286;++Le)_t[Le]=0;for(Le=Y;Le<30;++Le)Yt[Le]=0;return Zr=Pn(_t,dn,286),Nr=Pn(Yt,at,30),Z}function ct(L,Z){if(L[0]==3&&!(L[1]&3))return[nu(Z),2];for(var q=0,Y=0,M=P5(Z||1<<18),X=0,be=M.length>>>0,_e=0,pe=0;(Y&1)==0;){if(Y=Ue(L,q),q+=3,Y>>>1)Y>>1==1?(_e=9,pe=5):(q=ge(L,q),_e=Zr,pe=Nr);else{q&7&&(q+=8-(q&7));var we=L[q>>>3]|L[(q>>>3)+1]<<8;if(q+=32,we>0)for(!Z&&be<X+we&&(M=Wr(M,X+we),be=M.length);we-- >0;)M[X++]=L[q>>>3],q+=8;continue}for(;;){!Z&&be<X+32767&&(M=Wr(M,X+32767),be=M.length);var Ne=Dt(L,q,_e),Fe=Y>>>1==1?Mn[Ne]:dn[Ne];if(q+=Fe&15,Fe>>>=4,(Fe>>>8&255)===0)M[X++]=Fe;else{if(Fe==256)break;Fe-=257;var Le=Fe<8?0:Fe-4>>2;Le>5&&(Le=0);var Ke=X+le[Fe];Le>0&&(Ke+=Dt(L,q,Le),q+=Le),Ne=Dt(L,q,pe),Fe=Y>>>1==1?vt[Ne]:at[Ne],q+=Fe&15,Fe>>>=4;var Me=Fe<4?0:Fe-2>>1,Ve=De[Fe];for(Me>0&&(Ve+=Dt(L,q,Me),q+=Me),!Z&&be<Ke&&(M=Wr(M,Ke+100),be=M.length);X<Ke;)M[X]=M[X-Ve],++X}}}return Z?[M,q+7>>>3]:[M.slice(0,X),q+7>>>3]}function At(L,Z){var q=L.slice(L.l||0),Y=ct(q,Z);return L.l+=Y[1],Y[0]}function te(L,Z){if(L)typeof console<"u"&&console.error(Z);else throw new Error(Z)}function Ce(L,Z){var q=L;Xa(q,0);var Y=[],M=[],X={FileIndex:Y,FullPaths:M};O(X,{root:Z.root});for(var be=q.length-4;(q[be]!=80||q[be+1]!=75||q[be+2]!=5||q[be+3]!=6)&&be>=0;)--be;q.l=be+4,q.l+=4;var _e=q.read_shift(2);q.l+=6;var pe=q.read_shift(4);for(q.l=pe,be=0;be<_e;++be){q.l+=20;var we=q.read_shift(4),Ne=q.read_shift(4),Fe=q.read_shift(2),Le=q.read_shift(2),Ke=q.read_shift(2);q.l+=8;var Me=q.read_shift(4),Ve=c(q.slice(q.l+Fe,q.l+Fe+Le));q.l+=Fe+Le+Ke;var tt=q.l;q.l=Me+4,Ae(q,we,Ne,X,Ve),q.l=tt}return X}function Ae(L,Z,q,Y,M){L.l+=2;var X=L.read_shift(2),be=L.read_shift(2),_e=l(L);if(X&8257)throw new Error("Unsupported ZIP encryption");for(var pe=L.read_shift(4),we=L.read_shift(4),Ne=L.read_shift(4),Fe=L.read_shift(2),Le=L.read_shift(2),Ke="",Me=0;Me<Fe;++Me)Ke+=String.fromCharCode(L[L.l++]);if(Le){var Ve=c(L.slice(L.l,L.l+Le));(Ve[21589]||{}).mt&&(_e=Ve[21589].mt),((M||{})[21589]||{}).mt&&(_e=M[21589].mt)}L.l+=Le;var tt=L.slice(L.l,L.l+we);switch(be){case 8:tt=H(L,Ne);break;case 0:break;default:throw new Error("Unsupported ZIP Compression method "+be)}var _t=!1;X&8&&(pe=L.read_shift(4),pe==134695760&&(pe=L.read_shift(4),_t=!0),we=L.read_shift(4),Ne=L.read_shift(4)),we!=Z&&te(_t,"Bad compressed size: "+Z+" != "+we),Ne!=q&&te(_t,"Bad uncompressed size: "+q+" != "+Ne),Wt(Y,Ke,tt,{unsafe:!0,mt:_e})}function ut(L,Z){var q=Z||{},Y=[],M=[],X=Te(1),be=q.compression?8:0,_e=0,pe=0,we=0,Ne=0,Fe=0,Le=L.FullPaths[0],Ke=Le,Me=L.FileIndex[0],Ve=[],tt=0;for(pe=1;pe<L.FullPaths.length;++pe)if(Ke=L.FullPaths[pe].slice(Le.length),Me=L.FileIndex[pe],!(!Me.size||!Me.content||Ke=="Sh33tJ5")){var _t=Ne,Yt=Te(Ke.length);for(we=0;we<Ke.length;++we)Yt.write_shift(1,Ke.charCodeAt(we)&127);Yt=Yt.slice(0,Yt.l),Ve[Fe]=_ge.buf(Me.content,0);var ar=Me.content;be==8&&(ar=B(ar)),X=Te(30),X.write_shift(4,67324752),X.write_shift(2,20),X.write_shift(2,_e),X.write_shift(2,be),Me.mt?i(X,Me.mt):X.write_shift(4,0),X.write_shift(-4,Ve[Fe]),X.write_shift(4,ar.length),X.write_shift(4,Me.content.length),X.write_shift(2,Yt.length),X.write_shift(2,0),Ne+=X.length,Y.push(X),Ne+=Yt.length,Y.push(Yt),Ne+=ar.length,Y.push(ar),X=Te(46),X.write_shift(4,33639248),X.write_shift(2,0),X.write_shift(2,20),X.write_shift(2,_e),X.write_shift(2,be),X.write_shift(4,0),X.write_shift(-4,Ve[Fe]),X.write_shift(4,ar.length),X.write_shift(4,Me.content.length),X.write_shift(2,Yt.length),X.write_shift(2,0),X.write_shift(2,0),X.write_shift(2,0),X.write_shift(2,0),X.write_shift(4,0),X.write_shift(4,_t),tt+=X.l,M.push(X),tt+=Yt.length,M.push(Yt),++Fe}return X=Te(22),X.write_shift(4,101010256),X.write_shift(2,0),X.write_shift(2,0),X.write_shift(2,Fe),X.write_shift(2,Fe),X.write_shift(4,tt),X.write_shift(4,Ne),X.write_shift(2,0),Vn([Vn(Y),Vn(M),X])}var ot={htm:"text/html",xml:"text/xml",gif:"image/gif",jpg:"image/jpeg",png:"image/png",mso:"application/x-mso",thmx:"application/vnd.ms-officetheme",sh33tj5:"application/octet-stream"};function Er(L,Z){if(L.ctype)return L.ctype;var q=L.name||"",Y=q.match(/\.([^\.]+)$/);return Y&&ot[Y[1]]||Z&&(Y=(q=Z).match(/[\.\\]([^\.\\])+$/),Y&&ot[Y[1]])?ot[Y[1]]:"application/octet-stream"}function vr(L){for(var Z=Ph(L),q=[],Y=0;Y<Z.length;Y+=76)q.push(Z.slice(Y,Y+76));return q.join(`\r
`)+`\r
`}function hs(L){var Z=L.replace(/[\x00-\x08\x0B\x0C\x0E-\x1F\x7E-\xFF=]/g,function(we){var Ne=we.charCodeAt(0).toString(16).toUpperCase();return"="+(Ne.length==1?"0"+Ne:Ne)});Z=Z.replace(/ $/mg,"=20").replace(/\t$/mg,"=09"),Z.charAt(0)==`
`&&(Z="=0D"+Z.slice(1)),Z=Z.replace(/\r(?!\n)/mg,"=0D").replace(/\n\n/mg,`
=0A`).replace(/([^\r\n])\n/mg,"$1=0A");for(var q=[],Y=Z.split(`\r
`),M=0;M<Y.length;++M){var X=Y[M];if(X.length==0){q.push("");continue}for(var be=0;be<X.length;){var _e=76,pe=X.slice(be,be+_e);pe.charAt(_e-1)=="="?_e--:pe.charAt(_e-2)=="="?_e-=2:pe.charAt(_e-3)=="="&&(_e-=3),pe=X.slice(be,be+_e),be+=_e,be<X.length&&(pe+="="),q.push(pe)}}return q.join(`\r
`)}function Xn(L){for(var Z=[],q=0;q<L.length;++q){for(var Y=L[q];q<=L.length&&Y.charAt(Y.length-1)=="=";)Y=Y.slice(0,Y.length-1)+L[++q];Z.push(Y)}for(var M=0;M<Z.length;++M)Z[M]=Z[M].replace(/[=][0-9A-Fa-f]{2}/g,function(X){return String.fromCharCode(parseInt(X.slice(1),16))});return ii(Z.join(`\r
`))}function Fl(L,Z,q){for(var Y="",M="",X="",be,_e=0;_e<10;++_e){var pe=Z[_e];if(!pe||pe.match(/^\s*$/))break;var we=pe.match(/^(.*?):\s*([^\s].*)$/);if(we)switch(we[1].toLowerCase()){case"content-location":Y=we[2].trim();break;case"content-type":X=we[2].trim();break;case"content-transfer-encoding":M=we[2].trim();break}}switch(++_e,M.toLowerCase()){case"base64":be=ii(El(Z.slice(_e).join("")));break;case"quoted-printable":be=Xn(Z.slice(_e));break;default:throw new Error("Unsupported Content-Transfer-Encoding "+M)}var Ne=Wt(L,Y.slice(q.length),be,{unsafe:!0});X&&(Ne.ctype=X)}function xi(L,Z){if(xe(L.slice(0,13)).toLowerCase()!="mime-version:")throw new Error("Unsupported MAD header");var q=Z&&Z.root||"",Y=(zt&&Buffer.isBuffer(L)?L.toString("binary"):xe(L)).split(`\r
`),M=0,X="";for(M=0;M<Y.length;++M)if(X=Y[M],!!/^Content-Location:/i.test(X)&&(X=X.slice(X.indexOf("file")),q||(q=X.slice(0,X.lastIndexOf("/")+1)),X.slice(0,q.length)!=q))for(;q.length>0&&(q=q.slice(0,q.length-1),q=q.slice(0,q.lastIndexOf("/")+1),X.slice(0,q.length)!=q););var be=(Y[1]||"").match(/boundary="(.*?)"/);if(!be)throw new Error("MAD cannot find boundary");var _e="--"+(be[1]||""),pe=[],we=[],Ne={FileIndex:pe,FullPaths:we};O(Ne);var Fe,Le=0;for(M=0;M<Y.length;++M){var Ke=Y[M];Ke!==_e&&Ke!==_e+"--"||(Le++&&Fl(Ne,Y.slice(Fe,M),q),Fe=M)}return Ne}function ga(L,Z){var q=Z||{},Y=q.boundary||"SheetJS";Y="------="+Y;for(var M=["MIME-Version: 1.0",'Content-Type: multipart/related; boundary="'+Y.slice(2)+'"',"","",""],X=L.FullPaths[0],be=X,_e=L.FileIndex[0],pe=1;pe<L.FullPaths.length;++pe)if(be=L.FullPaths[pe].slice(X.length),_e=L.FileIndex[pe],!(!_e.size||!_e.content||be=="Sh33tJ5")){be=be.replace(/[\x00-\x08\x0B\x0C\x0E-\x1F\x7E-\xFF]/g,function(tt){return"_x"+tt.charCodeAt(0).toString(16)+"_"}).replace(/[\u0080-\uFFFF]/g,function(tt){return"_u"+tt.charCodeAt(0).toString(16)+"_"});for(var we=_e.content,Ne=zt&&Buffer.isBuffer(we)?we.toString("binary"):xe(we),Fe=0,Le=Math.min(1024,Ne.length),Ke=0,Me=0;Me<=Le;++Me)(Ke=Ne.charCodeAt(Me))>=32&&Ke<128&&++Fe;var Ve=Fe>=Le*4/5;M.push(Y),M.push("Content-Location: "+(q.root||"file:///C:/SheetJS/")+be),M.push("Content-Transfer-Encoding: "+(Ve?"quoted-printable":"base64")),M.push("Content-Type: "+Er(_e,be)),M.push(""),M.push(Ve?hs(Ne):vr(Ne))}return M.push(Y+`--\r
`),M.join(`\r
`)}function dr(L){var Z={};return O(Z,L),Z}function Wt(L,Z,q,Y){var M=Y&&Y.unsafe;M||O(L);var X=!M&&cr.find(L,Z);if(!X){var be=L.FullPaths[0];Z.slice(0,be.length)==be?be=Z:(be.slice(-1)!="/"&&(be+="/"),be=(be+Z).replace("//","/")),X={name:a(Z),type:2},L.FileIndex.push(X),L.FullPaths.push(be),M||cr.utils.cfb_gc(L)}return X.content=q,X.size=q?q.length:0,Y&&(Y.CLSID&&(X.clsid=Y.CLSID),Y.mt&&(X.mt=Y.mt),Y.ct&&(X.ct=Y.ct)),X}function xa(L,Z){O(L);var q=cr.find(L,Z);if(q){for(var Y=0;Y<L.FileIndex.length;++Y)if(L.FileIndex[Y]==q)return L.FileIndex.splice(Y,1),L.FullPaths.splice(Y,1),!0}return!1}function gt(L,Z,q){O(L);var Y=cr.find(L,Z);if(Y){for(var M=0;M<L.FileIndex.length;++M)if(L.FileIndex[M]==Y)return L.FileIndex[M].name=a(q),L.FullPaths[M]=q,!0}return!1}function fr(L){F(L,!0)}return t.find=W,t.read=C,t.parse=h,t.write=U,t.writeFile=se,t.utils={cfb_new:dr,cfb_add:Wt,cfb_del:xa,cfb_mov:gt,cfb_gc:fr,ReadShift:Q0,CheckField:iB,prep_blob:Xa,bconcat:Vn,use_zlib:D,_deflateRaw:qt,_inflateRaw:At,consts:J},t}();function Ege(e){return typeof e=="string"?Oy(e):Array.isArray(e)?Jpe(e):e}function pm(e,t,r){if(typeof Deno<"u"){if(r&&typeof t=="string")switch(r){case"utf8":t=new TextEncoder(r).encode(t);break;case"binary":t=Oy(t);break;default:throw new Error("Unsupported encoding "+r)}return Deno.writeFileSync(e,t)}var n=r=="utf8"?Rh(t):t;if(typeof IE_SaveFile<"u")return IE_SaveFile(n,e);if(typeof Blob<"u"){var a=new Blob([Ege(n)],{type:"application/octet-stream"});if(typeof navigator<"u"&&navigator.msSaveBlob)return navigator.msSaveBlob(a,e);if(typeof saveAs<"u")return saveAs(a,e);if(typeof URL<"u"&&typeof document<"u"&&document.createElement&&URL.createObjectURL){var i=URL.createObjectURL(a);if(typeof chrome=="object"&&typeof(chrome.downloads||{}).download=="function")return URL.revokeObjectURL&&typeof setTimeout<"u"&&setTimeout(function(){URL.revokeObjectURL(i)},6e4),chrome.downloads.download({url:i,filename:e,saveAs:!0});var l=document.createElement("a");if(l.download!=null)return l.download=e,l.href=i,document.body.appendChild(l),l.click(),document.body.removeChild(l),URL.revokeObjectURL&&typeof setTimeout<"u"&&setTimeout(function(){URL.revokeObjectURL(i)},6e4),i}}if(typeof $<"u"&&typeof File<"u"&&typeof Folder<"u")try{var c=File(e);return c.open("w"),c.encoding="binary",Array.isArray(t)&&(t=mm(t)),c.write(t),c.close(),t}catch(d){if(!d.message||!d.message.match(/onstruct/))throw d}throw new Error("cannot save file "+e)}function Kn(e){for(var t=Object.keys(e),r=[],n=0;n<t.length;++n)Object.prototype.hasOwnProperty.call(e,t[n])&&r.push(t[n]);return r}function U5(e,t){for(var r=[],n=Kn(e),a=0;a!==n.length;++a)r[e[n[a]][t]]==null&&(r[e[n[a]][t]]=n[a]);return r}function E_(e){for(var t=[],r=Kn(e),n=0;n!==r.length;++n)t[e[r[n]]]=r[n];return t}function My(e){for(var t=[],r=Kn(e),n=0;n!==r.length;++n)t[e[r[n]]]=parseInt(r[n],10);return t}function Age(e){for(var t=[],r=Kn(e),n=0;n!==r.length;++n)t[e[r[n]]]==null&&(t[e[r[n]]]=[]),t[e[r[n]]].push(r[n]);return t}var bx=new Date(1899,11,30,0,0,0);function Ma(e,t){var r=e.getTime(),n=bx.getTime()+(e.getTimezoneOffset()-bx.getTimezoneOffset())*6e4;return(r-n)/(1440*60*1e3)}var H9=new Date,Tge=bx.getTime()+(H9.getTimezoneOffset()-bx.getTimezoneOffset())*6e4,z5=H9.getTimezoneOffset();function V9(e){var t=new Date;return t.setTime(e*24*60*60*1e3+Tge),t.getTimezoneOffset()!==z5&&t.setTime(t.getTime()+(t.getTimezoneOffset()-z5)*6e4),t}var H5=new Date("2017-02-19T19:06:09.000Z"),q9=isNaN(H5.getFullYear())?new Date("2/19/17"):H5,Cge=q9.getFullYear()==2017;function ha(e,t){var r=new Date(e);if(Cge)return t>0?r.setTime(r.getTime()+r.getTimezoneOffset()*60*1e3):t<0&&r.setTime(r.getTime()-r.getTimezoneOffset()*60*1e3),r;if(e instanceof Date)return e;if(q9.getFullYear()==1917&&!isNaN(r.getFullYear())){var n=r.getFullYear();return e.indexOf(""+n)>-1||r.setFullYear(r.getFullYear()+100),r}var a=e.match(/\d+/g)||["2017","2","19","0","0","0"],i=new Date(+a[0],+a[1]-1,+a[2],+a[3]||0,+a[4]||0,+a[5]||0);return e.indexOf("Z")>-1&&(i=new Date(i.getTime()-i.getTimezoneOffset()*60*1e3)),i}function Ry(e,t){if(zt&&Buffer.isBuffer(e))return e.toString("binary");if(typeof TextDecoder<"u")try{var r={"":"","":"",:"","":"","":"","":"","":"","":"","":"",:"","":"",:"",:"","":"","":"","":"","":"","":"","":"","":"","":"","":"",:"","":"",:"",:"",:""};return Array.isArray(e)&&(e=new Uint8Array(e)),new TextDecoder("latin1").decode(e).replace(/[]/g,function(i){return r[i]||i})}catch{}for(var n=[],a=0;a!=e.length;++a)n.push(String.fromCharCode(e[a]));return n.join("")}function Ra(e){if(typeof JSON<"u"&&!Array.isArray(e))return JSON.parse(JSON.stringify(e));if(typeof e!="object"||e==null)return e;if(e instanceof Date)return new Date(e.getTime());var t={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=Ra(e[r]));return t}function Hr(e,t){for(var r="";r.length<t;)r+=e;return r}function pl(e){var t=Number(e);if(!isNaN(t))return isFinite(t)?t:NaN;if(!/\d/.test(e))return t;var r=1,n=e.replace(/([\d]),([\d])/g,"$1$2").replace(/[$]/g,"").replace(/[%]/g,function(){return r*=100,""});return!isNaN(t=Number(n))||(n=n.replace(/[(](.*)[)]/,function(a,i){return r=-r,i}),!isNaN(t=Number(n)))?t/r:t}var Oge=["january","february","march","april","may","june","july","august","september","october","november","december"];function Mh(e){var t=new Date(e),r=new Date(NaN),n=t.getYear(),a=t.getMonth(),i=t.getDate();if(isNaN(i))return r;var l=e.toLowerCase();if(l.match(/jan|feb|mar|apr|may|jun|jul|aug|sep|oct|nov|dec/)){if(l=l.replace(/[^a-z]/g,"").replace(/([^a-z]|^)[ap]m?([^a-z]|$)/,""),l.length>3&&Oge.indexOf(l)==-1)return r}else if(l.match(/[a-z]/))return r;return n<0||n>8099?r:(a>0||i>1)&&n!=101?t:e.match(/[^-0-9:,\/\\]/)?r:t}function wt(e,t,r){if(e.FullPaths){if(typeof r=="string"){var n;return zt?n=Rl(r):n=ege(r),cr.utils.cfb_add(e,t,n)}cr.utils.cfb_add(e,t,r)}else e.file(t,r)}function A_(){return cr.utils.cfb_new()}var un=`<?xml version="1.0" encoding="UTF-8" standalone="yes"?>\r
`,Dge={"&quot;":'"',"&apos;":"'","&gt;":">","&lt;":"<","&amp;":"&"},T_=E_(Dge),C_=/[&<>'"]/g,Pge=/[\u0000-\u0008\u000b-\u001f]/g;function rr(e){var t=e+"";return t.replace(C_,function(r){return T_[r]}).replace(Pge,function(r){return"_x"+("000"+r.charCodeAt(0).toString(16)).slice(-4)+"_"})}function V5(e){return rr(e).replace(/ /g,"_x0020_")}var W9=/[\u0000-\u001f]/g;function Mge(e){var t=e+"";return t.replace(C_,function(r){return T_[r]}).replace(/\n/g,"<br/>").replace(W9,function(r){return"&#x"+("000"+r.charCodeAt(0).toString(16)).slice(-4)+";"})}function Rge(e){var t=e+"";return t.replace(C_,function(r){return T_[r]}).replace(W9,function(r){return"&#x"+r.charCodeAt(0).toString(16).toUpperCase()+";"})}function Ige(e){return e.replace(/(\r\n|[\r\n])/g,"&#10;")}function Fge(e){switch(e){case 1:case!0:case"1":case"true":case"TRUE":return!0;default:return!1}}function c2(e){for(var t="",r=0,n=0,a=0,i=0,l=0,c=0;r<e.length;){if(n=e.charCodeAt(r++),n<128){t+=String.fromCharCode(n);continue}if(a=e.charCodeAt(r++),n>191&&n<224){l=(n&31)<<6,l|=a&63,t+=String.fromCharCode(l);continue}if(i=e.charCodeAt(r++),n<240){t+=String.fromCharCode((n&15)<<12|(a&63)<<6|i&63);continue}l=e.charCodeAt(r++),c=((n&7)<<18|(a&63)<<12|(i&63)<<6|l&63)-65536,t+=String.fromCharCode(55296+(c>>>10&1023)),t+=String.fromCharCode(56320+(c&1023))}return t}function q5(e){var t=nu(2*e.length),r,n,a=1,i=0,l=0,c;for(n=0;n<e.length;n+=a)a=1,(c=e.charCodeAt(n))<128?r=c:c<224?(r=(c&31)*64+(e.charCodeAt(n+1)&63),a=2):c<240?(r=(c&15)*4096+(e.charCodeAt(n+1)&63)*64+(e.charCodeAt(n+2)&63),a=3):(a=4,r=(c&7)*262144+(e.charCodeAt(n+1)&63)*4096+(e.charCodeAt(n+2)&63)*64+(e.charCodeAt(n+3)&63),r-=65536,l=55296+(r>>>10&1023),r=56320+(r&1023)),l!==0&&(t[i++]=l&255,t[i++]=l>>>8,l=0),t[i++]=r%256,t[i++]=r>>>8;return t.slice(0,i).toString("ucs2")}function W5(e){return Rl(e,"binary").toString("utf8")}var rg="foo bar baz",X0=zt&&(W5(rg)==c2(rg)&&W5||q5(rg)==c2(rg)&&q5)||c2,Rh=zt?function(e){return Rl(e,"utf8").toString("binary")}:function(e){for(var t=[],r=0,n=0,a=0;r<e.length;)switch(n=e.charCodeAt(r++),!0){case n<128:t.push(String.fromCharCode(n));break;case n<2048:t.push(String.fromCharCode(192+(n>>6))),t.push(String.fromCharCode(128+(n&63)));break;case(n>=55296&&n<57344):n-=55296,a=e.charCodeAt(r++)-56320+(n<<10),t.push(String.fromCharCode(240+(a>>18&7))),t.push(String.fromCharCode(144+(a>>12&63))),t.push(String.fromCharCode(128+(a>>6&63))),t.push(String.fromCharCode(128+(a&63)));break;default:t.push(String.fromCharCode(224+(n>>12))),t.push(String.fromCharCode(128+(n>>6&63))),t.push(String.fromCharCode(128+(n&63)))}return t.join("")},Lge=function(){var e=[["nbsp"," "],["middot",""],["quot",'"'],["apos","'"],["gt",">"],["lt","<"],["amp","&"]].map(function(t){return[new RegExp("&"+t[0]+";","ig"),t[1]]});return function(r){for(var n=r.replace(/^[\t\n\r ]+/,"").replace(/[\t\n\r ]+$/,"").replace(/>\s+/g,">").replace(/\s+</g,"<").replace(/[\t\n\r ]+/g," ").replace(/<\s*[bB][rR]\s*\/?>/g,`
`).replace(/<[^>]*>/g,""),a=0;a<e.length;++a)n=n.replace(e[a][0],e[a][1]);return n}}(),G9=/(^\s|\s$|\n)/;function qn(e,t){return"<"+e+(t.match(G9)?' xml:space="preserve"':"")+">"+t+"</"+e+">"}function Ih(e){return Kn(e).map(function(t){return" "+t+'="'+e[t]+'"'}).join("")}function He(e,t,r){return"<"+e+(r!=null?Ih(r):"")+(t!=null?(t.match(G9)?' xml:space="preserve"':"")+">"+t+"</"+e:"/")+">"}function hN(e,t){try{return e.toISOString().replace(/\.\d*/,"")}catch(r){if(t)throw r}return""}function Bge(e,t){switch(typeof e){case"string":var r=He("vt:lpwstr",rr(e));return r=r.replace(/&quot;/g,"_x0022_"),r;case"number":return He((e|0)==e?"vt:i4":"vt:r8",rr(String(e)));case"boolean":return He("vt:bool",e?"true":"false")}if(e instanceof Date)return He("vt:filetime",hN(e));throw new Error("Unable to serialize "+e)}var Sn={CORE_PROPS:"http://schemas.openxmlformats.org/package/2006/metadata/core-properties",CUST_PROPS:"http://schemas.openxmlformats.org/officeDocument/2006/custom-properties",EXT_PROPS:"http://schemas.openxmlformats.org/officeDocument/2006/extended-properties",CT:"http://schemas.openxmlformats.org/package/2006/content-types",RELS:"http://schemas.openxmlformats.org/package/2006/relationships",TCMNT:"http://schemas.microsoft.com/office/spreadsheetml/2018/threadedcomments",dc:"http://purl.org/dc/elements/1.1/",dcterms:"http://purl.org/dc/terms/",dcmitype:"http://purl.org/dc/dcmitype/",r:"http://schemas.openxmlformats.org/officeDocument/2006/relationships",vt:"http://schemas.openxmlformats.org/officeDocument/2006/docPropsVTypes",xsi:"http://www.w3.org/2001/XMLSchema-instance",xsd:"http://www.w3.org/2001/XMLSchema"},lf=["http://schemas.openxmlformats.org/spreadsheetml/2006/main","http://purl.oclc.org/ooxml/spreadsheetml/main","http://schemas.microsoft.com/office/excel/2006/main","http://schemas.microsoft.com/office/excel/2006/2"],Ja={o:"urn:schemas-microsoft-com:office:office",x:"urn:schemas-microsoft-com:office:excel",ss:"urn:schemas-microsoft-com:office:spreadsheet",dt:"uuid:C2F41010-65B3-11d1-A29F-00AA00C14882",mv:"http://macVmlSchemaUri",v:"urn:schemas-microsoft-com:vml",html:"http://www.w3.org/TR/REC-html40"};function $ge(e,t){for(var r=1-2*(e[t+7]>>>7),n=((e[t+7]&127)<<4)+(e[t+6]>>>4&15),a=e[t+6]&15,i=5;i>=0;--i)a=a*256+e[t+i];return n==2047?a==0?r*(1/0):NaN:(n==0?n=-1022:(n-=1023,a+=Math.pow(2,52)),r*Math.pow(2,n-52)*a)}function Uge(e,t,r){var n=(t<0||1/t==-1/0?1:0)<<7,a=0,i=0,l=n?-t:t;isFinite(l)?l==0?a=i=0:(a=Math.floor(Math.log(l)/Math.LN2),i=l*Math.pow(2,52-a),a<=-1023&&(!isFinite(i)||i<Math.pow(2,52))?a=-1022:(i-=Math.pow(2,52),a+=1023)):(a=2047,i=isNaN(t)?26985:0);for(var c=0;c<=5;++c,i/=256)e[r+c]=i&255;e[r+6]=(a&15)<<4|i&15,e[r+7]=a>>4|n}var G5=function(e){for(var t=[],r=10240,n=0;n<e[0].length;++n)if(e[0][n])for(var a=0,i=e[0][n].length;a<i;a+=r)t.push.apply(t,e[0][n].slice(a,a+r));return t},K5=zt?function(e){return e[0].length>0&&Buffer.isBuffer(e[0][0])?Buffer.concat(e[0].map(function(t){return Buffer.isBuffer(t)?t:Rl(t)})):G5(e)}:G5,Y5=function(e,t,r){for(var n=[],a=t;a<r;a+=2)n.push(String.fromCharCode(I0(e,a)));return n.join("").replace(Y0,"")},O_=zt?function(e,t,r){return Buffer.isBuffer(e)?e.toString("utf16le",t,r).replace(Y0,""):Y5(e,t,r)}:Y5,X5=function(e,t,r){for(var n=[],a=t;a<t+r;++a)n.push(("0"+e[a].toString(16)).slice(-2));return n.join("")},K9=zt?function(e,t,r){return Buffer.isBuffer(e)?e.toString("hex",t,t+r):X5(e,t,r)}:X5,Q5=function(e,t,r){for(var n=[],a=t;a<r;a++)n.push(String.fromCharCode(nd(e,a)));return n.join("")},gm=zt?function(t,r,n){return Buffer.isBuffer(t)?t.toString("utf8",r,n):Q5(t,r,n)}:Q5,Y9=function(e,t){var r=es(e,t);return r>0?gm(e,t+4,t+4+r-1):""},X9=Y9,Q9=function(e,t){var r=es(e,t);return r>0?gm(e,t+4,t+4+r-1):""},Z9=Q9,J9=function(e,t){var r=2*es(e,t);return r>0?gm(e,t+4,t+4+r-1):""},eB=J9,tB=function(t,r){var n=es(t,r);return n>0?O_(t,r+4,r+4+n):""},rB=tB,nB=function(e,t){var r=es(e,t);return r>0?gm(e,t+4,t+4+r):""},aB=nB,sB=function(e,t){return $ge(e,t)},wx=sB,D_=function(t){return Array.isArray(t)||typeof Uint8Array<"u"&&t instanceof Uint8Array};zt&&(X9=function(t,r){if(!Buffer.isBuffer(t))return Y9(t,r);var n=t.readUInt32LE(r);return n>0?t.toString("utf8",r+4,r+4+n-1):""},Z9=function(t,r){if(!Buffer.isBuffer(t))return Q9(t,r);var n=t.readUInt32LE(r);return n>0?t.toString("utf8",r+4,r+4+n-1):""},eB=function(t,r){if(!Buffer.isBuffer(t))return J9(t,r);var n=2*t.readUInt32LE(r);return t.toString("utf16le",r+4,r+4+n-1)},rB=function(t,r){if(!Buffer.isBuffer(t))return tB(t,r);var n=t.readUInt32LE(r);return t.toString("utf16le",r+4,r+4+n)},aB=function(t,r){if(!Buffer.isBuffer(t))return nB(t,r);var n=t.readUInt32LE(r);return t.toString("utf8",r+4,r+4+n)},wx=function(t,r){return Buffer.isBuffer(t)?t.readDoubleLE(r):sB(t,r)},D_=function(t){return Buffer.isBuffer(t)||Array.isArray(t)||typeof Uint8Array<"u"&&t instanceof Uint8Array});var nd=function(e,t){return e[t]},I0=function(e,t){return e[t+1]*256+e[t]},zge=function(e,t){var r=e[t+1]*256+e[t];return r<32768?r:(65535-r+1)*-1},es=function(e,t){return e[t+3]*(1<<24)+(e[t+2]<<16)+(e[t+1]<<8)+e[t]},Ec=function(e,t){return e[t+3]<<24|e[t+2]<<16|e[t+1]<<8|e[t]},Hge=function(e,t){return e[t]<<24|e[t+1]<<16|e[t+2]<<8|e[t+3]};function Q0(e,t){var r="",n,a,i=[],l,c,d,f;switch(t){case"dbcs":if(f=this.l,zt&&Buffer.isBuffer(this))r=this.slice(this.l,this.l+2*e).toString("utf16le");else for(d=0;d<e;++d)r+=String.fromCharCode(I0(this,f)),f+=2;e*=2;break;case"utf8":r=gm(this,this.l,this.l+e);break;case"utf16le":e*=2,r=O_(this,this.l,this.l+e);break;case"wstr":return Q0.call(this,e,"dbcs");case"lpstr-ansi":r=X9(this,this.l),e=4+es(this,this.l);break;case"lpstr-cp":r=Z9(this,this.l),e=4+es(this,this.l);break;case"lpwstr":r=eB(this,this.l),e=4+2*es(this,this.l);break;case"lpp4":e=4+es(this,this.l),r=rB(this,this.l),e&2&&(e+=2);break;case"8lpp4":e=4+es(this,this.l),r=aB(this,this.l),e&3&&(e+=4-(e&3));break;case"cstr":for(e=0,r="";(l=nd(this,this.l+e++))!==0;)i.push(Jp(l));r=i.join("");break;case"_wstr":for(e=0,r="";(l=I0(this,this.l+e))!==0;)i.push(Jp(l)),e+=2;e+=2,r=i.join("");break;case"dbcs-cont":for(r="",f=this.l,d=0;d<e;++d){if(this.lens&&this.lens.indexOf(f)!==-1)return l=nd(this,f),this.l=f+1,c=Q0.call(this,e-d,l?"dbcs-cont":"sbcs-cont"),i.join("")+c;i.push(Jp(I0(this,f))),f+=2}r=i.join(""),e*=2;break;case"cpstr":case"sbcs-cont":for(r="",f=this.l,d=0;d!=e;++d){if(this.lens&&this.lens.indexOf(f)!==-1)return l=nd(this,f),this.l=f+1,c=Q0.call(this,e-d,l?"dbcs-cont":"sbcs-cont"),i.join("")+c;i.push(Jp(nd(this,f))),f+=1}r=i.join("");break;default:switch(e){case 1:return n=nd(this,this.l),this.l++,n;case 2:return n=(t==="i"?zge:I0)(this,this.l),this.l+=2,n;case 4:case-4:return t==="i"||(this[this.l+3]&128)===0?(n=(e>0?Ec:Hge)(this,this.l),this.l+=4,n):(a=es(this,this.l),this.l+=4,a);case 8:case-8:if(t==="f")return e==8?a=wx(this,this.l):a=wx([this[this.l+7],this[this.l+6],this[this.l+5],this[this.l+4],this[this.l+3],this[this.l+2],this[this.l+1],this[this.l+0]],0),this.l+=8,a;e=8;case 16:r=K9(this,this.l,e);break}}return this.l+=e,r}var Vge=function(e,t,r){e[r]=t&255,e[r+1]=t>>>8&255,e[r+2]=t>>>16&255,e[r+3]=t>>>24&255},qge=function(e,t,r){e[r]=t&255,e[r+1]=t>>8&255,e[r+2]=t>>16&255,e[r+3]=t>>24&255},Wge=function(e,t,r){e[r]=t&255,e[r+1]=t>>>8&255};function Gge(e,t,r){var n=0,a=0;if(r==="dbcs"){for(a=0;a!=t.length;++a)Wge(this,t.charCodeAt(a),this.l+2*a);n=2*t.length}else if(r==="sbcs"){for(t=t.replace(/[^\x00-\x7F]/g,"_"),a=0;a!=t.length;++a)this[this.l+a]=t.charCodeAt(a)&255;n=t.length}else if(r==="hex"){for(;a<e;++a)this[this.l++]=parseInt(t.slice(2*a,2*a+2),16)||0;return this}else if(r==="utf16le"){var i=Math.min(this.l+e,this.length);for(a=0;a<Math.min(t.length,e);++a){var l=t.charCodeAt(a);this[this.l++]=l&255,this[this.l++]=l>>8}for(;this.l<i;)this[this.l++]=0;return this}else switch(e){case 1:n=1,this[this.l]=t&255;break;case 2:n=2,this[this.l]=t&255,t>>>=8,this[this.l+1]=t&255;break;case 3:n=3,this[this.l]=t&255,t>>>=8,this[this.l+1]=t&255,t>>>=8,this[this.l+2]=t&255;break;case 4:n=4,Vge(this,t,this.l);break;case 8:if(n=8,r==="f"){Uge(this,t,this.l);break}case 16:break;case-4:n=4,qge(this,t,this.l);break}return this.l+=n,this}function iB(e,t){var r=K9(this,this.l,e.length>>1);if(r!==e)throw new Error(t+"Expected "+e+" saw "+r);this.l+=e.length>>1}function Xa(e,t){e.l=t,e.read_shift=Q0,e.chk=iB,e.write_shift=Gge}function Li(e,t){e.l+=t}function Te(e){var t=nu(e);return Xa(t,0),t}function Oa(){var e=[],t=zt?256:2048,r=function(f){var h=Te(f);return Xa(h,0),h},n=r(t),a=function(){n&&(n.length>n.l&&(n=n.slice(0,n.l),n.l=n.length),n.length>0&&e.push(n),n=null)},i=function(f){return n&&f<n.length-n.l?n:(a(),n=r(Math.max(f+1,t)))},l=function(){return a(),Vn(e)},c=function(f){a(),n=f,n.l==null&&(n.l=n.length),i(t)};return{next:i,push:c,end:l,_bufs:e}}function Ie(e,t,r,n){var a=+t,i;if(!isNaN(a)){n||(n=$we[a].p||(r||[]).length||0),i=1+(a>=128?1:0)+1,n>=128&&++i,n>=16384&&++i,n>=2097152&&++i;var l=e.next(i);a<=127?l.write_shift(1,a):(l.write_shift(1,(a&127)+128),l.write_shift(1,a>>7));for(var c=0;c!=4;++c)if(n>=128)l.write_shift(1,(n&127)+128),n>>=7;else{l.write_shift(1,n);break}n>0&&D_(r)&&e.push(r)}}function Z0(e,t,r){var n=Ra(e);if(t.s?(n.cRel&&(n.c+=t.s.c),n.rRel&&(n.r+=t.s.r)):(n.cRel&&(n.c+=t.c),n.rRel&&(n.r+=t.r)),!r||r.biff<12){for(;n.c>=256;)n.c-=256;for(;n.r>=65536;)n.r-=65536}return n}function Z5(e,t,r){var n=Ra(e);return n.s=Z0(n.s,t.s,r),n.e=Z0(n.e,t.s,r),n}function J0(e,t){if(e.cRel&&e.c<0)for(e=Ra(e);e.c<0;)e.c+=t>8?16384:256;if(e.rRel&&e.r<0)for(e=Ra(e);e.r<0;)e.r+=t>8?1048576:t>5?65536:16384;var r=nr(e);return!e.cRel&&e.cRel!=null&&(r=Xge(r)),!e.rRel&&e.rRel!=null&&(r=Kge(r)),r}function u2(e,t){return e.s.r==0&&!e.s.rRel&&e.e.r==(t.biff>=12?1048575:t.biff>=8?65536:16384)&&!e.e.rRel?(e.s.cRel?"":"$")+na(e.s.c)+":"+(e.e.cRel?"":"$")+na(e.e.c):e.s.c==0&&!e.s.cRel&&e.e.c==(t.biff>=12?16383:255)&&!e.e.cRel?(e.s.rRel?"":"$")+Gn(e.s.r)+":"+(e.e.rRel?"":"$")+Gn(e.e.r):J0(e.s,t.biff)+":"+J0(e.e,t.biff)}function P_(e){return parseInt(Yge(e),10)-1}function Gn(e){return""+(e+1)}function Kge(e){return e.replace(/([A-Z]|^)(\d+)$/,"$1$$$2")}function Yge(e){return e.replace(/\$(\d+)$/,"$1")}function M_(e){for(var t=Qge(e),r=0,n=0;n!==t.length;++n)r=26*r+t.charCodeAt(n)-64;return r-1}function na(e){if(e<0)throw new Error("invalid column "+e);var t="";for(++e;e;e=Math.floor((e-1)/26))t=String.fromCharCode((e-1)%26+65)+t;return t}function Xge(e){return e.replace(/^([A-Z])/,"$$$1")}function Qge(e){return e.replace(/^\$([A-Z])/,"$1")}function Zge(e){return e.replace(/(\$?[A-Z]*)(\$?\d*)/,"$1,$2").split(",")}function _n(e){for(var t=0,r=0,n=0;n<e.length;++n){var a=e.charCodeAt(n);a>=48&&a<=57?t=10*t+(a-48):a>=65&&a<=90&&(r=26*r+(a-64))}return{c:r-1,r:t-1}}function nr(e){for(var t=e.c+1,r="";t;t=(t-1)/26|0)r=String.fromCharCode((t-1)%26+65)+r;return r+(e.r+1)}function ds(e){var t=e.indexOf(":");return t==-1?{s:_n(e),e:_n(e)}:{s:_n(e.slice(0,t)),e:_n(e.slice(t+1))}}function cn(e,t){return typeof t>"u"||typeof t=="number"?cn(e.s,e.e):(typeof e!="string"&&(e=nr(e)),typeof t!="string"&&(t=nr(t)),e==t?e:e+":"+t)}function _r(e){var t={s:{c:0,r:0},e:{c:0,r:0}},r=0,n=0,a=0,i=e.length;for(r=0;n<i&&!((a=e.charCodeAt(n)-64)<1||a>26);++n)r=26*r+a;for(t.s.c=--r,r=0;n<i&&!((a=e.charCodeAt(n)-48)<0||a>9);++n)r=10*r+a;if(t.s.r=--r,n===i||a!=10)return t.e.c=t.s.c,t.e.r=t.s.r,t;for(++n,r=0;n!=i&&!((a=e.charCodeAt(n)-64)<1||a>26);++n)r=26*r+a;for(t.e.c=--r,r=0;n!=i&&!((a=e.charCodeAt(n)-48)<0||a>9);++n)r=10*r+a;return t.e.r=--r,t}function J5(e,t){var r=e.t=="d"&&t instanceof Date;if(e.z!=null)try{return e.w=Fo(e.z,r?Ma(t):t)}catch{}try{return e.w=Fo((e.XF||{}).numFmtId||(r?14:0),r?Ma(t):t)}catch{return""+t}}function Al(e,t,r){return e==null||e.t==null||e.t=="z"?"":e.w!==void 0?e.w:(e.t=="d"&&!e.z&&r&&r.dateNF&&(e.z=r.dateNF),e.t=="e"?xm[e.v]||e.v:t==null?J5(e,e.v):J5(e,t))}function mu(e,t){var r=t&&t.sheet?t.sheet:"Sheet1",n={};return n[r]=e,{SheetNames:[r],Sheets:n}}function lB(e,t,r){var n=r||{},a=e?Array.isArray(e):n.dense,i=e||(a?[]:{}),l=0,c=0;if(i&&n.origin!=null){if(typeof n.origin=="number")l=n.origin;else{var d=typeof n.origin=="string"?_n(n.origin):n.origin;l=d.r,c=d.c}i["!ref"]||(i["!ref"]="A1:A1")}var f={s:{c:1e7,r:1e7},e:{c:0,r:0}};if(i["!ref"]){var h=_r(i["!ref"]);f.s.c=h.s.c,f.s.r=h.s.r,f.e.c=Math.max(f.e.c,h.e.c),f.e.r=Math.max(f.e.r,h.e.r),l==-1&&(f.e.r=l=h.e.r+1)}for(var p=0;p!=t.length;++p)if(t[p]){if(!Array.isArray(t[p]))throw new Error("aoa_to_sheet expects an array of arrays");for(var g=0;g!=t[p].length;++g)if(!(typeof t[p][g]>"u")){var y={v:t[p][g]},b=l+p,w=c+g;if(f.s.r>b&&(f.s.r=b),f.s.c>w&&(f.s.c=w),f.e.r<b&&(f.e.r=b),f.e.c<w&&(f.e.c=w),t[p][g]&&typeof t[p][g]=="object"&&!Array.isArray(t[p][g])&&!(t[p][g]instanceof Date))y=t[p][g];else if(Array.isArray(y.v)&&(y.f=t[p][g][1],y.v=y.v[0]),y.v===null)if(y.f)y.t="n";else if(n.nullError)y.t="e",y.v=0;else if(n.sheetStubs)y.t="z";else continue;else typeof y.v=="number"?y.t="n":typeof y.v=="boolean"?y.t="b":y.v instanceof Date?(y.z=n.dateNF||qr[14],n.cellDates?(y.t="d",y.w=Fo(y.z,Ma(y.v))):(y.t="n",y.v=Ma(y.v),y.w=Fo(y.z,y.v))):y.t="s";if(a)i[b]||(i[b]=[]),i[b][w]&&i[b][w].z&&(y.z=i[b][w].z),i[b][w]=y;else{var j=nr({c:w,r:b});i[j]&&i[j].z&&(y.z=i[j].z),i[j]=y}}}return f.s.c<1e7&&(i["!ref"]=cn(f)),i}function of(e,t){return lB(null,e,t)}function Jge(e){return e.read_shift(4,"i")}function ui(e,t){return t||(t=Te(4)),t.write_shift(4,e),t}function aa(e){var t=e.read_shift(4);return t===0?"":e.read_shift(t,"dbcs")}function En(e,t){var r=!1;return t==null&&(r=!0,t=Te(4+2*e.length)),t.write_shift(4,e.length),e.length>0&&t.write_shift(0,e,"dbcs"),r?t.slice(0,t.l):t}function exe(e){return{ich:e.read_shift(2),ifnt:e.read_shift(2)}}function txe(e,t){return t||(t=Te(4)),t.write_shift(2,0),t.write_shift(2,0),t}function R_(e,t){var r=e.l,n=e.read_shift(1),a=aa(e),i=[],l={t:a,h:a};if((n&1)!==0){for(var c=e.read_shift(4),d=0;d!=c;++d)i.push(exe(e));l.r=i}else l.r=[{ich:0,ifnt:0}];return e.l=r+t,l}function rxe(e,t){var r=!1;return t==null&&(r=!0,t=Te(15+4*e.t.length)),t.write_shift(1,0),En(e.t,t),r?t.slice(0,t.l):t}var nxe=R_;function axe(e,t){var r=!1;return t==null&&(r=!0,t=Te(23+4*e.t.length)),t.write_shift(1,1),En(e.t,t),t.write_shift(4,1),txe({},t),r?t.slice(0,t.l):t}function Gs(e){var t=e.read_shift(4),r=e.read_shift(2);return r+=e.read_shift(1)<<16,e.l++,{c:t,iStyleRef:r}}function pu(e,t){return t==null&&(t=Te(8)),t.write_shift(-4,e.c),t.write_shift(3,e.iStyleRef||e.s),t.write_shift(1,0),t}function gu(e){var t=e.read_shift(2);return t+=e.read_shift(1)<<16,e.l++,{c:-1,iStyleRef:t}}function xu(e,t){return t==null&&(t=Te(4)),t.write_shift(3,e.iStyleRef||e.s),t.write_shift(1,0),t}var sxe=aa,oB=En;function I_(e){var t=e.read_shift(4);return t===0||t===4294967295?"":e.read_shift(t,"dbcs")}function jx(e,t){var r=!1;return t==null&&(r=!0,t=Te(127)),t.write_shift(4,e.length>0?e.length:4294967295),e.length>0&&t.write_shift(0,e,"dbcs"),r?t.slice(0,t.l):t}var ixe=aa,mN=I_,F_=jx;function cB(e){var t=e.slice(e.l,e.l+4),r=t[0]&1,n=t[0]&2;e.l+=4;var a=n===0?wx([0,0,0,0,t[0]&252,t[1],t[2],t[3]],0):Ec(t,0)>>2;return r?a/100:a}function uB(e,t){t==null&&(t=Te(4));var r=0,n=0,a=e*100;if(e==(e|0)&&e>=-536870912&&e<1<<29?n=1:a==(a|0)&&a>=-536870912&&a<1<<29&&(n=1,r=1),n)t.write_shift(-4,((r?a:e)<<2)+(r+2));else throw new Error("unsupported RkNumber "+e)}function dB(e){var t={s:{},e:{}};return t.s.r=e.read_shift(4),t.e.r=e.read_shift(4),t.s.c=e.read_shift(4),t.e.c=e.read_shift(4),t}function lxe(e,t){return t||(t=Te(16)),t.write_shift(4,e.s.r),t.write_shift(4,e.e.r),t.write_shift(4,e.s.c),t.write_shift(4,e.e.c),t}var yu=dB,cf=lxe;function uf(e){if(e.length-e.l<8)throw"XLS Xnum Buffer underflow";return e.read_shift(8,"f")}function au(e,t){return(t||Te(8)).write_shift(8,e,"f")}function oxe(e){var t={},r=e.read_shift(1),n=r>>>1,a=e.read_shift(1),i=e.read_shift(2,"i"),l=e.read_shift(1),c=e.read_shift(1),d=e.read_shift(1);switch(e.l++,n){case 0:t.auto=1;break;case 1:t.index=a;var f=xxe[a];f&&(t.rgb=uP(f));break;case 2:t.rgb=uP([l,c,d]);break;case 3:t.theme=a;break}return i!=0&&(t.tint=i>0?i/32767:i/32768),t}function Nx(e,t){if(t||(t=Te(8)),!e||e.auto)return t.write_shift(4,0),t.write_shift(4,0),t;e.index!=null?(t.write_shift(1,2),t.write_shift(1,e.index)):e.theme!=null?(t.write_shift(1,6),t.write_shift(1,e.theme)):(t.write_shift(1,5),t.write_shift(1,0));var r=e.tint||0;if(r>0?r*=32767:r<0&&(r*=32768),t.write_shift(2,r),!e.rgb||e.theme!=null)t.write_shift(2,0),t.write_shift(1,0),t.write_shift(1,0);else{var n=e.rgb||"FFFFFF";typeof n=="number"&&(n=("000000"+n.toString(16)).slice(-6)),t.write_shift(1,parseInt(n.slice(0,2),16)),t.write_shift(1,parseInt(n.slice(2,4),16)),t.write_shift(1,parseInt(n.slice(4,6),16)),t.write_shift(1,255)}return t}function cxe(e){var t=e.read_shift(1);e.l++;var r={fBold:t&1,fItalic:t&2,fUnderline:t&4,fStrikeout:t&8,fOutline:t&16,fShadow:t&32,fCondense:t&64,fExtend:t&128};return r}function uxe(e,t){t||(t=Te(2));var r=(e.italic?2:0)|(e.strike?8:0)|(e.outline?16:0)|(e.shadow?32:0)|(e.condense?64:0)|(e.extend?128:0);return t.write_shift(1,r),t.write_shift(1,0),t}var fB=2,Ga=3,ng=11,Sx=19,ag=64,dxe=65,fxe=71,hxe=4108,mxe=4126,Un=80,eP={1:{n:"CodePage",t:fB},2:{n:"Category",t:Un},3:{n:"PresentationFormat",t:Un},4:{n:"ByteCount",t:Ga},5:{n:"LineCount",t:Ga},6:{n:"ParagraphCount",t:Ga},7:{n:"SlideCount",t:Ga},8:{n:"NoteCount",t:Ga},9:{n:"HiddenCount",t:Ga},10:{n:"MultimediaClipCount",t:Ga},11:{n:"ScaleCrop",t:ng},12:{n:"HeadingPairs",t:hxe},13:{n:"TitlesOfParts",t:mxe},14:{n:"Manager",t:Un},15:{n:"Company",t:Un},16:{n:"LinksUpToDate",t:ng},17:{n:"CharacterCount",t:Ga},19:{n:"SharedDoc",t:ng},22:{n:"HyperlinksChanged",t:ng},23:{n:"AppVersion",t:Ga,p:"version"},24:{n:"DigSig",t:dxe},26:{n:"ContentType",t:Un},27:{n:"ContentStatus",t:Un},28:{n:"Language",t:Un},29:{n:"Version",t:Un},255:{},2147483648:{n:"Locale",t:Sx},2147483651:{n:"Behavior",t:Sx},1919054434:{}},tP={1:{n:"CodePage",t:fB},2:{n:"Title",t:Un},3:{n:"Subject",t:Un},4:{n:"Author",t:Un},5:{n:"Keywords",t:Un},6:{n:"Comments",t:Un},7:{n:"Template",t:Un},8:{n:"LastAuthor",t:Un},9:{n:"RevNumber",t:Un},10:{n:"EditTime",t:ag},11:{n:"LastPrinted",t:ag},12:{n:"CreatedDate",t:ag},13:{n:"ModifiedDate",t:ag},14:{n:"PageCount",t:Ga},15:{n:"WordCount",t:Ga},16:{n:"CharCount",t:Ga},17:{n:"Thumbnail",t:fxe},18:{n:"Application",t:Un},19:{n:"DocSecurity",t:Ga},255:{},2147483648:{n:"Locale",t:Sx},2147483651:{n:"Behavior",t:Sx},1919054434:{}};function pxe(e){return e.map(function(t){return[t>>16&255,t>>8&255,t&255]})}var gxe=pxe([0,16777215,16711680,65280,255,16776960,16711935,65535,0,16777215,16711680,65280,255,16776960,16711935,65535,8388608,32768,128,8421376,8388736,32896,12632256,8421504,10066431,10040166,16777164,13434879,6684774,16744576,26316,13421823,128,16711935,16776960,65535,8388736,8388608,32896,255,52479,13434879,13434828,16777113,10079487,16751052,13408767,16764057,3368703,3394764,10079232,16763904,16750848,16737792,6710937,9868950,13158,3381606,13056,3355392,10040064,10040166,3355545,3355443,16777215,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0]),xxe=Ra(gxe),xm={0:"#NULL!",7:"#DIV/0!",15:"#VALUE!",23:"#REF!",29:"#NAME?",36:"#NUM!",42:"#N/A",43:"#GETTING_DATA",255:"#WTF?"},yxe={"application/vnd.openxmlformats-officedocument.spreadsheetml.sheet.main+xml":"workbooks","application/vnd.ms-excel.sheet.macroEnabled.main+xml":"workbooks","application/vnd.ms-excel.sheet.binary.macroEnabled.main":"workbooks","application/vnd.ms-excel.addin.macroEnabled.main+xml":"workbooks","application/vnd.openxmlformats-officedocument.spreadsheetml.template.main+xml":"workbooks","application/vnd.openxmlformats-officedocument.spreadsheetml.worksheet+xml":"sheets","application/vnd.ms-excel.worksheet":"sheets","application/vnd.ms-excel.binIndexWs":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.chartsheet+xml":"charts","application/vnd.ms-excel.chartsheet":"charts","application/vnd.ms-excel.macrosheet+xml":"macros","application/vnd.ms-excel.macrosheet":"macros","application/vnd.ms-excel.intlmacrosheet":"TODO","application/vnd.ms-excel.binIndexMs":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.dialogsheet+xml":"dialogs","application/vnd.ms-excel.dialogsheet":"dialogs","application/vnd.openxmlformats-officedocument.spreadsheetml.sharedStrings+xml":"strs","application/vnd.ms-excel.sharedStrings":"strs","application/vnd.openxmlformats-officedocument.spreadsheetml.styles+xml":"styles","application/vnd.ms-excel.styles":"styles","application/vnd.openxmlformats-package.core-properties+xml":"coreprops","application/vnd.openxmlformats-officedocument.custom-properties+xml":"custprops","application/vnd.openxmlformats-officedocument.extended-properties+xml":"extprops","application/vnd.openxmlformats-officedocument.customXmlProperties+xml":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.customProperty":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.comments+xml":"comments","application/vnd.ms-excel.comments":"comments","application/vnd.ms-excel.threadedcomments+xml":"threadedcomments","application/vnd.ms-excel.person+xml":"people","application/vnd.openxmlformats-officedocument.spreadsheetml.sheetMetadata+xml":"metadata","application/vnd.ms-excel.sheetMetadata":"metadata","application/vnd.ms-excel.pivotTable":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.pivotTable+xml":"TODO","application/vnd.openxmlformats-officedocument.drawingml.chart+xml":"TODO","application/vnd.ms-office.chartcolorstyle+xml":"TODO","application/vnd.ms-office.chartstyle+xml":"TODO","application/vnd.ms-office.chartex+xml":"TODO","application/vnd.ms-excel.calcChain":"calcchains","application/vnd.openxmlformats-officedocument.spreadsheetml.calcChain+xml":"calcchains","application/vnd.openxmlformats-officedocument.spreadsheetml.printerSettings":"TODO","application/vnd.ms-office.activeX":"TODO","application/vnd.ms-office.activeX+xml":"TODO","application/vnd.ms-excel.attachedToolbars":"TODO","application/vnd.ms-excel.connections":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.connections+xml":"TODO","application/vnd.ms-excel.externalLink":"links","application/vnd.openxmlformats-officedocument.spreadsheetml.externalLink+xml":"links","application/vnd.ms-excel.pivotCacheDefinition":"TODO","application/vnd.ms-excel.pivotCacheRecords":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.pivotCacheDefinition+xml":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.pivotCacheRecords+xml":"TODO","application/vnd.ms-excel.queryTable":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.queryTable+xml":"TODO","application/vnd.ms-excel.userNames":"TODO","application/vnd.ms-excel.revisionHeaders":"TODO","application/vnd.ms-excel.revisionLog":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.revisionHeaders+xml":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.revisionLog+xml":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.userNames+xml":"TODO","application/vnd.ms-excel.tableSingleCells":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.tableSingleCells+xml":"TODO","application/vnd.ms-excel.slicer":"TODO","application/vnd.ms-excel.slicerCache":"TODO","application/vnd.ms-excel.slicer+xml":"TODO","application/vnd.ms-excel.slicerCache+xml":"TODO","application/vnd.ms-excel.wsSortMap":"TODO","application/vnd.ms-excel.table":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.table+xml":"TODO","application/vnd.openxmlformats-officedocument.theme+xml":"themes","application/vnd.openxmlformats-officedocument.themeOverride+xml":"TODO","application/vnd.ms-excel.Timeline+xml":"TODO","application/vnd.ms-excel.TimelineCache+xml":"TODO","application/vnd.ms-office.vbaProject":"vba","application/vnd.ms-office.vbaProjectSignature":"TODO","application/vnd.ms-office.volatileDependencies":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.volatileDependencies+xml":"TODO","application/vnd.ms-excel.controlproperties+xml":"TODO","application/vnd.openxmlformats-officedocument.model+data":"TODO","application/vnd.ms-excel.Survey+xml":"TODO","application/vnd.openxmlformats-officedocument.drawing+xml":"drawings","application/vnd.openxmlformats-officedocument.drawingml.chartshapes+xml":"TODO","application/vnd.openxmlformats-officedocument.drawingml.diagramColors+xml":"TODO","application/vnd.openxmlformats-officedocument.drawingml.diagramData+xml":"TODO","application/vnd.openxmlformats-officedocument.drawingml.diagramLayout+xml":"TODO","application/vnd.openxmlformats-officedocument.drawingml.diagramStyle+xml":"TODO","application/vnd.openxmlformats-officedocument.vmlDrawing":"TODO","application/vnd.openxmlformats-package.relationships+xml":"rels","application/vnd.openxmlformats-officedocument.oleObject":"TODO","image/png":"TODO",sheet:"js"},sg={workbooks:{xlsx:"application/vnd.openxmlformats-officedocument.spreadsheetml.sheet.main+xml",xlsm:"application/vnd.ms-excel.sheet.macroEnabled.main+xml",xlsb:"application/vnd.ms-excel.sheet.binary.macroEnabled.main",xlam:"application/vnd.ms-excel.addin.macroEnabled.main+xml",xltx:"application/vnd.openxmlformats-officedocument.spreadsheetml.template.main+xml"},strs:{xlsx:"application/vnd.openxmlformats-officedocument.spreadsheetml.sharedStrings+xml",xlsb:"application/vnd.ms-excel.sharedStrings"},comments:{xlsx:"application/vnd.openxmlformats-officedocument.spreadsheetml.comments+xml",xlsb:"application/vnd.ms-excel.comments"},sheets:{xlsx:"application/vnd.openxmlformats-officedocument.spreadsheetml.worksheet+xml",xlsb:"application/vnd.ms-excel.worksheet"},charts:{xlsx:"application/vnd.openxmlformats-officedocument.spreadsheetml.chartsheet+xml",xlsb:"application/vnd.ms-excel.chartsheet"},dialogs:{xlsx:"application/vnd.openxmlformats-officedocument.spreadsheetml.dialogsheet+xml",xlsb:"application/vnd.ms-excel.dialogsheet"},macros:{xlsx:"application/vnd.ms-excel.macrosheet+xml",xlsb:"application/vnd.ms-excel.macrosheet"},metadata:{xlsx:"application/vnd.openxmlformats-officedocument.spreadsheetml.sheetMetadata+xml",xlsb:"application/vnd.ms-excel.sheetMetadata"},styles:{xlsx:"application/vnd.openxmlformats-officedocument.spreadsheetml.styles+xml",xlsb:"application/vnd.ms-excel.styles"}};function hB(){return{workbooks:[],sheets:[],charts:[],dialogs:[],macros:[],rels:[],strs:[],comments:[],threadedcomments:[],links:[],coreprops:[],extprops:[],custprops:[],themes:[],styles:[],calcchains:[],vba:[],drawings:[],metadata:[],people:[],TODO:[],xmlns:""}}function mB(e,t){var r=Age(yxe),n=[],a;n[n.length]=un,n[n.length]=He("Types",null,{xmlns:Sn.CT,"xmlns:xsd":Sn.xsd,"xmlns:xsi":Sn.xsi}),n=n.concat([["xml","application/xml"],["bin","application/vnd.ms-excel.sheet.binary.macroEnabled.main"],["vml","application/vnd.openxmlformats-officedocument.vmlDrawing"],["data","application/vnd.openxmlformats-officedocument.model+data"],["bmp","image/bmp"],["png","image/png"],["gif","image/gif"],["emf","image/x-emf"],["wmf","image/x-wmf"],["jpg","image/jpeg"],["jpeg","image/jpeg"],["tif","image/tiff"],["tiff","image/tiff"],["pdf","application/pdf"],["rels","application/vnd.openxmlformats-package.relationships+xml"]].map(function(d){return He("Default",null,{Extension:d[0],ContentType:d[1]})}));var i=function(d){e[d]&&e[d].length>0&&(a=e[d][0],n[n.length]=He("Override",null,{PartName:(a[0]=="/"?"":"/")+a,ContentType:sg[d][t.bookType]||sg[d].xlsx}))},l=function(d){(e[d]||[]).forEach(function(f){n[n.length]=He("Override",null,{PartName:(f[0]=="/"?"":"/")+f,ContentType:sg[d][t.bookType]||sg[d].xlsx})})},c=function(d){(e[d]||[]).forEach(function(f){n[n.length]=He("Override",null,{PartName:(f[0]=="/"?"":"/")+f,ContentType:r[d][0]})})};return i("workbooks"),l("sheets"),l("charts"),c("themes"),["strs","styles"].forEach(i),["coreprops","extprops","custprops"].forEach(c),c("vba"),c("comments"),c("threadedcomments"),c("drawings"),l("metadata"),c("people"),n.length>2&&(n[n.length]="</Types>",n[1]=n[1].replace("/>",">")),n.join("")}var It={WB:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/officeDocument",HLINK:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/hyperlink",VML:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/vmlDrawing",XPATH:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/externalLinkPath",XMISS:"http://schemas.microsoft.com/office/2006/relationships/xlExternalLinkPath/xlPathMissing",CMNT:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/comments",CORE_PROPS:"http://schemas.openxmlformats.org/package/2006/relationships/metadata/core-properties",EXT_PROPS:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/extended-properties",CUST_PROPS:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/custom-properties",SST:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/sharedStrings",STY:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/styles",THEME:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/theme",WS:["http://schemas.openxmlformats.org/officeDocument/2006/relationships/worksheet","http://purl.oclc.org/ooxml/officeDocument/relationships/worksheet"],DRAW:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/drawing",XLMETA:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/sheetMetadata",TCMNT:"http://schemas.microsoft.com/office/2017/10/relationships/threadedComment",PEOPLE:"http://schemas.microsoft.com/office/2017/10/relationships/person",VBA:"http://schemas.microsoft.com/office/2006/relationships/vbaProject"};function pB(e){var t=e.lastIndexOf("/");return e.slice(0,t+1)+"_rels/"+e.slice(t+1)+".rels"}function vd(e){var t=[un,He("Relationships",null,{xmlns:Sn.RELS})];return Kn(e["!id"]).forEach(function(r){t[t.length]=He("Relationship",null,e["!id"][r])}),t.length>2&&(t[t.length]="</Relationships>",t[1]=t[1].replace("/>",">")),t.join("")}function er(e,t,r,n,a,i){if(a||(a={}),e["!id"]||(e["!id"]={}),e["!idx"]||(e["!idx"]=1),t<0)for(t=e["!idx"];e["!id"]["rId"+t];++t);if(e["!idx"]=t+1,a.Id="rId"+t,a.Type=n,a.Target=r,[It.HLINK,It.XPATH,It.XMISS].indexOf(a.Type)>-1&&(a.TargetMode="External"),e["!id"][a.Id])throw new Error("Cannot rewrite rId "+t);return e["!id"][a.Id]=a,e[("/"+a.Target).replace("//","/")]=a,t}function vxe(e){var t=[un];t.push(`<manifest:manifest xmlns:manifest="urn:oasis:names:tc:opendocument:xmlns:manifest:1.0" manifest:version="1.2">
`),t.push(`  <manifest:file-entry manifest:full-path="/" manifest:version="1.2" manifest:media-type="application/vnd.oasis.opendocument.spreadsheet"/>
`);for(var r=0;r<e.length;++r)t.push('  <manifest:file-entry manifest:full-path="'+e[r][0]+'" manifest:media-type="'+e[r][1]+`"/>
`);return t.push("</manifest:manifest>"),t.join("")}function rP(e,t,r){return['  <rdf:Description rdf:about="'+e+`">
`,'    <rdf:type rdf:resource="http://docs.oasis-open.org/ns/office/1.2/meta/'+(r||"odf")+"#"+t+`"/>
`,`  </rdf:Description>
`].join("")}function bxe(e,t){return['  <rdf:Description rdf:about="'+e+`">
`,'    <ns0:hasPart xmlns:ns0="http://docs.oasis-open.org/ns/office/1.2/meta/pkg#" rdf:resource="'+t+`"/>
`,`  </rdf:Description>
`].join("")}function wxe(e){var t=[un];t.push(`<rdf:RDF xmlns:rdf="http://www.w3.org/1999/02/22-rdf-syntax-ns#">
`);for(var r=0;r!=e.length;++r)t.push(rP(e[r][0],e[r][1])),t.push(bxe("",e[r][0]));return t.push(rP("","Document","pkg")),t.push("</rdf:RDF>"),t.join("")}function gB(){return'<office:document-meta xmlns:office="urn:oasis:names:tc:opendocument:xmlns:office:1.0" xmlns:meta="urn:oasis:names:tc:opendocument:xmlns:meta:1.0" xmlns:dc="http://purl.org/dc/elements/1.1/" xmlns:xlink="http://www.w3.org/1999/xlink" office:version="1.2"><office:meta><meta:generator>SheetJS '+px.version+"</meta:generator></office:meta></office:document-meta>"}var qc=[["cp:category","Category"],["cp:contentStatus","ContentStatus"],["cp:keywords","Keywords"],["cp:lastModifiedBy","LastAuthor"],["cp:lastPrinted","LastPrinted"],["cp:revision","RevNumber"],["cp:version","Version"],["dc:creator","Author"],["dc:description","Comments"],["dc:identifier","Identifier"],["dc:language","Language"],["dc:subject","Subject"],["dc:title","Title"],["dcterms:created","CreatedDate","date"],["dcterms:modified","ModifiedDate","date"]];function d2(e,t,r,n,a){a[e]!=null||t==null||t===""||(a[e]=t,t=rr(t),n[n.length]=r?He(e,t,r):qn(e,t))}function xB(e,t){var r=t||{},n=[un,He("cp:coreProperties",null,{"xmlns:cp":Sn.CORE_PROPS,"xmlns:dc":Sn.dc,"xmlns:dcterms":Sn.dcterms,"xmlns:dcmitype":Sn.dcmitype,"xmlns:xsi":Sn.xsi})],a={};if(!e&&!r.Props)return n.join("");e&&(e.CreatedDate!=null&&d2("dcterms:created",typeof e.CreatedDate=="string"?e.CreatedDate:hN(e.CreatedDate,r.WTF),{"xsi:type":"dcterms:W3CDTF"},n,a),e.ModifiedDate!=null&&d2("dcterms:modified",typeof e.ModifiedDate=="string"?e.ModifiedDate:hN(e.ModifiedDate,r.WTF),{"xsi:type":"dcterms:W3CDTF"},n,a));for(var i=0;i!=qc.length;++i){var l=qc[i],c=r.Props&&r.Props[l[1]]!=null?r.Props[l[1]]:e?e[l[1]]:null;c===!0?c="1":c===!1?c="0":typeof c=="number"&&(c=String(c)),c!=null&&d2(l[0],c,null,n,a)}return n.length>2&&(n[n.length]="</cp:coreProperties>",n[1]=n[1].replace("/>",">")),n.join("")}var bd=[["Application","Application","string"],["AppVersion","AppVersion","string"],["Company","Company","string"],["DocSecurity","DocSecurity","string"],["Manager","Manager","string"],["HyperlinksChanged","HyperlinksChanged","bool"],["SharedDoc","SharedDoc","bool"],["LinksUpToDate","LinksUpToDate","bool"],["ScaleCrop","ScaleCrop","bool"],["HeadingPairs","HeadingPairs","raw"],["TitlesOfParts","TitlesOfParts","raw"]],yB=["Worksheets","SheetNames","NamedRanges","DefinedNames","Chartsheets","ChartNames"];function vB(e){var t=[],r=He;return e||(e={}),e.Application="SheetJS",t[t.length]=un,t[t.length]=He("Properties",null,{xmlns:Sn.EXT_PROPS,"xmlns:vt":Sn.vt}),bd.forEach(function(n){if(e[n[1]]!==void 0){var a;switch(n[2]){case"string":a=rr(String(e[n[1]]));break;case"bool":a=e[n[1]]?"true":"false";break}a!==void 0&&(t[t.length]=r(n[0],a))}}),t[t.length]=r("HeadingPairs",r("vt:vector",r("vt:variant","<vt:lpstr>Worksheets</vt:lpstr>")+r("vt:variant",r("vt:i4",String(e.Worksheets))),{size:2,baseType:"variant"})),t[t.length]=r("TitlesOfParts",r("vt:vector",e.SheetNames.map(function(n){return"<vt:lpstr>"+rr(n)+"</vt:lpstr>"}).join(""),{size:e.Worksheets,baseType:"lpstr"})),t.length>2&&(t[t.length]="</Properties>",t[1]=t[1].replace("/>",">")),t.join("")}function bB(e){var t=[un,He("Properties",null,{xmlns:Sn.CUST_PROPS,"xmlns:vt":Sn.vt})];if(!e)return t.join("");var r=1;return Kn(e).forEach(function(a){++r,t[t.length]=He("property",Bge(e[a]),{fmtid:"{D5CDD505-2E9C-101B-9397-08002B2CF9AE}",pid:r,name:rr(a)})}),t.length>2&&(t[t.length]="</Properties>",t[1]=t[1].replace("/>",">")),t.join("")}var nP={Title:"Title",Subject:"Subject",Author:"Author",Keywords:"Keywords",Comments:"Description",LastAuthor:"LastAuthor",RevNumber:"Revision",Application:"AppName",LastPrinted:"LastPrinted",CreatedDate:"Created",ModifiedDate:"LastSaved",Category:"Category",Manager:"Manager",Company:"Company",AppVersion:"Version",ContentStatus:"ContentStatus",Identifier:"Identifier",Language:"Language"};function jxe(e,t){var r=[];return Kn(nP).map(function(n){for(var a=0;a<qc.length;++a)if(qc[a][1]==n)return qc[a];for(a=0;a<bd.length;++a)if(bd[a][1]==n)return bd[a];throw n}).forEach(function(n){if(e[n[1]]!=null){var a=t&&t.Props&&t.Props[n[1]]!=null?t.Props[n[1]]:e[n[1]];switch(n[2]){case"date":a=new Date(a).toISOString().replace(/\.\d*Z/,"Z");break}typeof a=="number"?a=String(a):a===!0||a===!1?a=a?"1":"0":a instanceof Date&&(a=new Date(a).toISOString().replace(/\.\d*Z/,"")),r.push(qn(nP[n[1]]||n[1],a))}}),He("DocumentProperties",r.join(""),{xmlns:Ja.o})}function Nxe(e,t){var r=["Worksheets","SheetNames"],n="CustomDocumentProperties",a=[];return e&&Kn(e).forEach(function(i){if(Object.prototype.hasOwnProperty.call(e,i)){for(var l=0;l<qc.length;++l)if(i==qc[l][1])return;for(l=0;l<bd.length;++l)if(i==bd[l][1])return;for(l=0;l<r.length;++l)if(i==r[l])return;var c=e[i],d="string";typeof c=="number"?(d="float",c=String(c)):c===!0||c===!1?(d="boolean",c=c?"1":"0"):c=String(c),a.push(He(V5(i),c,{"dt:dt":d}))}}),t&&Kn(t).forEach(function(i){if(Object.prototype.hasOwnProperty.call(t,i)&&!(e&&Object.prototype.hasOwnProperty.call(e,i))){var l=t[i],c="string";typeof l=="number"?(c="float",l=String(l)):l===!0||l===!1?(c="boolean",l=l?"1":"0"):l instanceof Date?(c="dateTime.tz",l=l.toISOString()):l=String(l),a.push(He(V5(i),l,{"dt:dt":c}))}}),"<"+n+' xmlns="'+Ja.o+'">'+a.join("")+"</"+n+">"}function Sxe(e){var t=typeof e=="string"?new Date(Date.parse(e)):e,r=t.getTime()/1e3+11644473600,n=r%Math.pow(2,32),a=(r-n)/Math.pow(2,32);n*=1e7,a*=1e7;var i=n/Math.pow(2,32)|0;i>0&&(n=n%Math.pow(2,32),a+=i);var l=Te(8);return l.write_shift(4,n),l.write_shift(4,a),l}function aP(e,t){var r=Te(4),n=Te(4);switch(r.write_shift(4,e==80?31:e),e){case 3:n.write_shift(-4,t);break;case 5:n=Te(8),n.write_shift(8,t,"f");break;case 11:n.write_shift(4,t?1:0);break;case 64:n=Sxe(t);break;case 31:case 80:for(n=Te(4+2*(t.length+1)+(t.length%2?0:2)),n.write_shift(4,t.length+1),n.write_shift(0,t,"dbcs");n.l!=n.length;)n.write_shift(1,0);break;default:throw new Error("TypedPropertyValue unrecognized type "+e+" "+t)}return Vn([r,n])}var wB=["CodePage","Thumbnail","_PID_LINKBASE","_PID_HLINKS","SystemIdentifier","FMTID"];function kxe(e){switch(typeof e){case"boolean":return 11;case"number":return(e|0)==e?3:5;case"string":return 31;case"object":if(e instanceof Date)return 64;break}return-1}function sP(e,t,r){var n=Te(8),a=[],i=[],l=8,c=0,d=Te(8),f=Te(8);if(d.write_shift(4,2),d.write_shift(4,1200),f.write_shift(4,1),i.push(d),a.push(f),l+=8+d.length,!t){f=Te(8),f.write_shift(4,0),a.unshift(f);var h=[Te(4)];for(h[0].write_shift(4,e.length),c=0;c<e.length;++c){var p=e[c][0];for(d=Te(8+2*(p.length+1)+(p.length%2?0:2)),d.write_shift(4,c+2),d.write_shift(4,p.length+1),d.write_shift(0,p,"dbcs");d.l!=d.length;)d.write_shift(1,0);h.push(d)}d=Vn(h),i.unshift(d),l+=8+d.length}for(c=0;c<e.length;++c)if(!(t&&!t[e[c][0]])&&!(wB.indexOf(e[c][0])>-1||yB.indexOf(e[c][0])>-1)&&e[c][1]!=null){var g=e[c][1],y=0;if(t){y=+t[e[c][0]];var b=r[y];if(b.p=="version"&&typeof g=="string"){var w=g.split(".");g=(+w[0]<<16)+(+w[1]||0)}d=aP(b.t,g)}else{var j=kxe(g);j==-1&&(j=31,g=String(g)),d=aP(j,g)}i.push(d),f=Te(8),f.write_shift(4,t?y:2+c),a.push(f),l+=8+d.length}var S=8*(i.length+1);for(c=0;c<i.length;++c)a[c].write_shift(4,S),S+=i[c].length;return n.write_shift(4,l),n.write_shift(4,i.length),Vn([n].concat(a).concat(i))}function iP(e,t,r,n,a,i){var l=Te(a?68:48),c=[l];l.write_shift(2,65534),l.write_shift(2,0),l.write_shift(4,842412599),l.write_shift(16,cr.utils.consts.HEADER_CLSID,"hex"),l.write_shift(4,a?2:1),l.write_shift(16,t,"hex"),l.write_shift(4,a?68:48);var d=sP(e,r,n);if(c.push(d),a){var f=sP(a,null,null);l.write_shift(16,i,"hex"),l.write_shift(4,68+d.length),c.push(f)}return Vn(c)}function _xe(e,t){t||(t=Te(e));for(var r=0;r<e;++r)t.write_shift(1,0);return t}function Exe(e,t){return e.read_shift(t)===1}function ca(e,t){return t||(t=Te(2)),t.write_shift(2,+!!e),t}function jB(e){return e.read_shift(2,"u")}function Ps(e,t){return t||(t=Te(2)),t.write_shift(2,e),t}function NB(e,t,r){return r||(r=Te(2)),r.write_shift(1,t=="e"?+e:+!!e),r.write_shift(1,t=="e"?1:0),r}function SB(e,t,r){var n=e.read_shift(r&&r.biff>=12?2:1),a="sbcs-cont";if(r&&r.biff>=8,!r||r.biff==8){var i=e.read_shift(1);i&&(a="dbcs-cont")}else r.biff==12&&(a="wstr");r.biff>=2&&r.biff<=5&&(a="cpstr");var l=n?e.read_shift(n,a):"";return l}function Axe(e){var t=e.t||"",r=Te(3);r.write_shift(2,t.length),r.write_shift(1,1);var n=Te(2*t.length);n.write_shift(2*t.length,t,"utf16le");var a=[r,n];return Vn(a)}function Txe(e,t,r){var n;if(r){if(r.biff>=2&&r.biff<=5)return e.read_shift(t,"cpstr");if(r.biff>=12)return e.read_shift(t,"dbcs-cont")}var a=e.read_shift(1);return a===0?n=e.read_shift(t,"sbcs-cont"):n=e.read_shift(t,"dbcs-cont"),n}function Cxe(e,t,r){var n=e.read_shift(r&&r.biff==2?1:2);return n===0?(e.l++,""):Txe(e,n,r)}function Oxe(e,t,r){if(r.biff>5)return Cxe(e,t,r);var n=e.read_shift(1);return n===0?(e.l++,""):e.read_shift(n,r.biff<=4||!e.lens?"cpstr":"sbcs-cont")}function kB(e,t,r){return r||(r=Te(3+2*e.length)),r.write_shift(2,e.length),r.write_shift(1,1),r.write_shift(31,e,"utf16le"),r}function lP(e,t){t||(t=Te(6+e.length*2)),t.write_shift(4,1+e.length);for(var r=0;r<e.length;++r)t.write_shift(2,e.charCodeAt(r));return t.write_shift(2,0),t}function Dxe(e){var t=Te(512),r=0,n=e.Target;n.slice(0,7)=="file://"&&(n=n.slice(7));var a=n.indexOf("#"),i=a>-1?31:23;switch(n.charAt(0)){case"#":i=28;break;case".":i&=-3;break}t.write_shift(4,2),t.write_shift(4,i);var l=[8,6815827,6619237,4849780,83];for(r=0;r<l.length;++r)t.write_shift(4,l[r]);if(i==28)n=n.slice(1),lP(n,t);else if(i&2){for(l="e0 c9 ea 79 f9 ba ce 11 8c 82 00 aa 00 4b a9 0b".split(" "),r=0;r<l.length;++r)t.write_shift(1,parseInt(l[r],16));var c=a>-1?n.slice(0,a):n;for(t.write_shift(4,2*(c.length+1)),r=0;r<c.length;++r)t.write_shift(2,c.charCodeAt(r));t.write_shift(2,0),i&8&&lP(a>-1?n.slice(a+1):"",t)}else{for(l="03 03 00 00 00 00 00 00 c0 00 00 00 00 00 00 46".split(" "),r=0;r<l.length;++r)t.write_shift(1,parseInt(l[r],16));for(var d=0;n.slice(d*3,d*3+3)=="../"||n.slice(d*3,d*3+3)=="..\\";)++d;for(t.write_shift(2,d),t.write_shift(4,n.length-3*d+1),r=0;r<n.length-3*d;++r)t.write_shift(1,n.charCodeAt(r+3*d)&255);for(t.write_shift(1,0),t.write_shift(2,65535),t.write_shift(2,57005),r=0;r<6;++r)t.write_shift(4,0)}return t.slice(0,t.l)}function su(e,t,r,n){return n||(n=Te(6)),n.write_shift(2,e),n.write_shift(2,t),n.write_shift(2,r||0),n}function Pxe(e,t,r){var n=r.biff>8?4:2,a=e.read_shift(n),i=e.read_shift(n,"i"),l=e.read_shift(n,"i");return[a,i,l]}function Mxe(e){var t=e.read_shift(2),r=e.read_shift(2),n=e.read_shift(2),a=e.read_shift(2);return{s:{c:n,r:t},e:{c:a,r}}}function _B(e,t){return t||(t=Te(8)),t.write_shift(2,e.s.r),t.write_shift(2,e.e.r),t.write_shift(2,e.s.c),t.write_shift(2,e.e.c),t}function L_(e,t,r){var n=1536,a=16;switch(r.bookType){case"biff8":break;case"biff5":n=1280,a=8;break;case"biff4":n=4,a=6;break;case"biff3":n=3,a=6;break;case"biff2":n=2,a=4;break;case"xla":break;default:throw new Error("unsupported BIFF version")}var i=Te(a);return i.write_shift(2,n),i.write_shift(2,t),a>4&&i.write_shift(2,29282),a>6&&i.write_shift(2,1997),a>8&&(i.write_shift(2,49161),i.write_shift(2,1),i.write_shift(2,1798),i.write_shift(2,0)),i}function Rxe(e,t){var r=!t||t.biff==8,n=Te(r?112:54);for(n.write_shift(t.biff==8?2:1,7),r&&n.write_shift(1,0),n.write_shift(4,859007059),n.write_shift(4,5458548|(r?0:536870912));n.l<n.length;)n.write_shift(1,r?0:32);return n}function Ixe(e,t){var r=!t||t.biff>=8?2:1,n=Te(8+r*e.name.length);n.write_shift(4,e.pos),n.write_shift(1,e.hs||0),n.write_shift(1,e.dt),n.write_shift(1,e.name.length),t.biff>=8&&n.write_shift(1,1),n.write_shift(r*e.name.length,e.name,t.biff<8?"sbcs":"utf16le");var a=n.slice(0,n.l);return a.l=n.l,a}function Fxe(e,t){var r=Te(8);r.write_shift(4,e.Count),r.write_shift(4,e.Unique);for(var n=[],a=0;a<e.length;++a)n[a]=Axe(e[a]);var i=Vn([r].concat(n));return i.parts=[r.length].concat(n.map(function(l){return l.length})),i}function Lxe(){var e=Te(18);return e.write_shift(2,0),e.write_shift(2,0),e.write_shift(2,29280),e.write_shift(2,17600),e.write_shift(2,56),e.write_shift(2,0),e.write_shift(2,0),e.write_shift(2,1),e.write_shift(2,500),e}function Bxe(e){var t=Te(18),r=1718;return e&&e.RTL&&(r|=64),t.write_shift(2,r),t.write_shift(4,0),t.write_shift(4,64),t.write_shift(4,0),t.write_shift(4,0),t}function $xe(e,t){var r=e.name||"Arial",n=t&&t.biff==5,a=n?15+r.length:16+2*r.length,i=Te(a);return i.write_shift(2,e.sz*20),i.write_shift(4,0),i.write_shift(2,400),i.write_shift(4,0),i.write_shift(2,0),i.write_shift(1,r.length),n||i.write_shift(1,1),i.write_shift((n?1:2)*r.length,r,n?"sbcs":"utf16le"),i}function Uxe(e,t,r,n){var a=Te(10);return su(e,t,n,a),a.write_shift(4,r),a}function zxe(e,t,r,n,a){var i=!a||a.biff==8,l=Te(8+ +i+(1+i)*r.length);return su(e,t,n,l),l.write_shift(2,r.length),i&&l.write_shift(1,1),l.write_shift((1+i)*r.length,r,i?"utf16le":"sbcs"),l}function Hxe(e,t,r,n){var a=r&&r.biff==5;n||(n=Te(a?3+t.length:5+2*t.length)),n.write_shift(2,e),n.write_shift(a?1:2,t.length),a||n.write_shift(1,1),n.write_shift((a?1:2)*t.length,t,a?"sbcs":"utf16le");var i=n.length>n.l?n.slice(0,n.l):n;return i.l==null&&(i.l=i.length),i}function Vxe(e,t){var r=t.biff==8||!t.biff?4:2,n=Te(2*r+6);return n.write_shift(r,e.s.r),n.write_shift(r,e.e.r+1),n.write_shift(2,e.s.c),n.write_shift(2,e.e.c+1),n.write_shift(2,0),n}function oP(e,t,r,n){var a=r&&r.biff==5;n||(n=Te(a?16:20)),n.write_shift(2,0),e.style?(n.write_shift(2,e.numFmtId||0),n.write_shift(2,65524)):(n.write_shift(2,e.numFmtId||0),n.write_shift(2,t<<4));var i=0;return e.numFmtId>0&&a&&(i|=1024),n.write_shift(4,i),n.write_shift(4,0),a||n.write_shift(4,0),n.write_shift(2,0),n}function qxe(e){var t=Te(8);return t.write_shift(4,0),t.write_shift(2,0),t.write_shift(2,0),t}function Wxe(e,t,r,n,a,i){var l=Te(8);return su(e,t,n,l),NB(r,i,l),l}function Gxe(e,t,r,n){var a=Te(14);return su(e,t,n,a),au(r,a),a}function Kxe(e,t,r){if(r.biff<8)return Yxe(e,t,r);for(var n=[],a=e.l+t,i=e.read_shift(r.biff>8?4:2);i--!==0;)n.push(Pxe(e,r.biff>8?12:6,r));if(e.l!=a)throw new Error("Bad ExternSheet: "+e.l+" != "+a);return n}function Yxe(e,t,r){e[e.l+1]==3&&e[e.l]++;var n=SB(e,t,r);return n.charCodeAt(0)==3?n.slice(1):n}function Xxe(e){var t=Te(2+e.length*8);t.write_shift(2,e.length);for(var r=0;r<e.length;++r)_B(e[r],t);return t}function Qxe(e){var t=Te(24),r=_n(e[0]);t.write_shift(2,r.r),t.write_shift(2,r.r),t.write_shift(2,r.c),t.write_shift(2,r.c);for(var n="d0 c9 ea 79 f9 ba ce 11 8c 82 00 aa 00 4b a9 0b".split(" "),a=0;a<16;++a)t.write_shift(1,parseInt(n[a],16));return Vn([t,Dxe(e[1])])}function Zxe(e){var t=e[1].Tooltip,r=Te(10+2*(t.length+1));r.write_shift(2,2048);var n=_n(e[0]);r.write_shift(2,n.r),r.write_shift(2,n.r),r.write_shift(2,n.c),r.write_shift(2,n.c);for(var a=0;a<t.length;++a)r.write_shift(2,t.charCodeAt(a));return r.write_shift(2,0),r}function Jxe(e){return e||(e=Te(4)),e.write_shift(2,1),e.write_shift(2,1),e}function eye(e,t,r){if(!r.cellStyles)return Li(e,t);var n=r&&r.biff>=12?4:2,a=e.read_shift(n),i=e.read_shift(n),l=e.read_shift(n),c=e.read_shift(n),d=e.read_shift(2);n==2&&(e.l+=2);var f={s:a,e:i,w:l,ixfe:c,flags:d};return(r.biff>=5||!r.biff)&&(f.level=d>>8&7),f}function tye(e,t){var r=Te(12);r.write_shift(2,t),r.write_shift(2,t),r.write_shift(2,e.width*256),r.write_shift(2,0);var n=0;return e.hidden&&(n|=1),r.write_shift(1,n),n=e.level||0,r.write_shift(1,n),r.write_shift(2,0),r}function rye(e){for(var t=Te(2*e),r=0;r<e;++r)t.write_shift(2,r+1);return t}function nye(e,t,r){var n=Te(15);return vm(n,e,t),n.write_shift(8,r,"f"),n}function aye(e,t,r){var n=Te(9);return vm(n,e,t),n.write_shift(2,r),n}var sye=function(){var e={1:437,2:850,3:1252,4:1e4,100:852,101:866,102:865,103:861,104:895,105:620,106:737,107:857,120:950,121:949,122:936,123:932,124:874,125:1255,126:1256,150:10007,151:10029,152:10006,200:1250,201:1251,202:1254,203:1253,0:20127,8:865,9:437,10:850,11:437,13:437,14:850,15:437,16:850,17:437,18:850,19:932,20:850,21:437,22:850,23:865,24:437,25:437,26:850,27:437,28:863,29:850,31:852,34:852,35:852,36:860,37:850,38:866,55:850,64:852,77:936,78:949,79:950,80:874,87:1252,88:1252,89:1252,108:863,134:737,135:852,136:857,204:1257,255:16969},t=E_({1:437,2:850,3:1252,4:1e4,100:852,101:866,102:865,103:861,104:895,105:620,106:737,107:857,120:950,121:949,122:936,123:932,124:874,125:1255,126:1256,150:10007,151:10029,152:10006,200:1250,201:1251,202:1254,203:1253,0:20127});function r(c,d){var f=[],h=nu(1);switch(d.type){case"base64":h=ii(El(c));break;case"binary":h=ii(c);break;case"buffer":case"array":h=c;break}Xa(h,0);var p=h.read_shift(1),g=!!(p&136),y=!1,b=!1;switch(p){case 2:break;case 3:break;case 48:y=!0,g=!0;break;case 49:y=!0,g=!0;break;case 131:break;case 139:break;case 140:b=!0;break;case 245:break;default:throw new Error("DBF Unsupported Version: "+p.toString(16))}var w=0,j=521;p==2&&(w=h.read_shift(2)),h.l+=3,p!=2&&(w=h.read_shift(4)),w>1048576&&(w=1e6),p!=2&&(j=h.read_shift(2));var S=h.read_shift(2),_=d.codepage||1252;p!=2&&(h.l+=16,h.read_shift(1),h[h.l]!==0&&(_=e[h[h.l]]),h.l+=1,h.l+=2),b&&(h.l+=36);for(var E=[],T={},A=Math.min(h.length,p==2?521:j-10-(y?264:0)),C=b?32:11;h.l<A&&h[h.l]!=13;)switch(T={},T.name=gx.utils.decode(_,h.slice(h.l,h.l+C)).replace(/[\u0000\r\n].*$/g,""),h.l+=C,T.type=String.fromCharCode(h.read_shift(1)),p!=2&&!b&&(T.offset=h.read_shift(4)),T.len=h.read_shift(1),p==2&&(T.offset=h.read_shift(2)),T.dec=h.read_shift(1),T.name.length&&E.push(T),p!=2&&(h.l+=b?13:14),T.type){case"B":(!y||T.len!=8)&&d.WTF&&console.log("Skipping "+T.name+":"+T.type);break;case"G":case"P":d.WTF&&console.log("Skipping "+T.name+":"+T.type);break;case"+":case"0":case"@":case"C":case"D":case"F":case"I":case"L":case"M":case"N":case"O":case"T":case"Y":break;default:throw new Error("Unknown Field Type: "+T.type)}if(h[h.l]!==13&&(h.l=j-1),h.read_shift(1)!==13)throw new Error("DBF Terminator not found "+h.l+" "+h[h.l]);h.l=j;var O=0,P=0;for(f[0]=[],P=0;P!=E.length;++P)f[0][P]=E[P].name;for(;w-- >0;){if(h[h.l]===42){h.l+=S;continue}for(++h.l,f[++O]=[],P=0,P=0;P!=E.length;++P){var F=h.slice(h.l,h.l+E[P].len);h.l+=E[P].len,Xa(F,0);var G=gx.utils.decode(_,F);switch(E[P].type){case"C":G.trim().length&&(f[O][P]=G.replace(/\s+$/,""));break;case"D":G.length===8?f[O][P]=new Date(+G.slice(0,4),+G.slice(4,6)-1,+G.slice(6,8)):f[O][P]=G;break;case"F":f[O][P]=parseFloat(G.trim());break;case"+":case"I":f[O][P]=b?F.read_shift(-4,"i")^2147483648:F.read_shift(4,"i");break;case"L":switch(G.trim().toUpperCase()){case"Y":case"T":f[O][P]=!0;break;case"N":case"F":f[O][P]=!1;break;case"":case"?":break;default:throw new Error("DBF Unrecognized L:|"+G+"|")}break;case"M":if(!g)throw new Error("DBF Unexpected MEMO for type "+p.toString(16));f[O][P]="##MEMO##"+(b?parseInt(G.trim(),10):F.read_shift(4));break;case"N":G=G.replace(/\u0000/g,"").trim(),G&&G!="."&&(f[O][P]=+G||0);break;case"@":f[O][P]=new Date(F.read_shift(-8,"f")-621356832e5);break;case"T":f[O][P]=new Date((F.read_shift(4)-2440588)*864e5+F.read_shift(4));break;case"Y":f[O][P]=F.read_shift(4,"i")/1e4+F.read_shift(4,"i")/1e4*Math.pow(2,32);break;case"O":f[O][P]=-F.read_shift(-8,"f");break;case"B":if(y&&E[P].len==8){f[O][P]=F.read_shift(8,"f");break}case"G":case"P":F.l+=E[P].len;break;case"0":if(E[P].name==="_NullFlags")break;default:throw new Error("DBF Unsupported data type "+E[P].type)}}}if(p!=2&&h.l<h.length&&h[h.l++]!=26)throw new Error("DBF EOF Marker missing "+(h.l-1)+" of "+h.length+" "+h[h.l-1].toString(16));return d&&d.sheetRows&&(f=f.slice(0,d.sheetRows)),d.DBF=E,f}function n(c,d){var f=d||{};f.dateNF||(f.dateNF="yyyymmdd");var h=of(r(c,f),f);return h["!cols"]=f.DBF.map(function(p){return{wch:p.len,DBF:p}}),delete f.DBF,h}function a(c,d){try{return mu(n(c,d),d)}catch(f){if(d&&d.WTF)throw f}return{SheetNames:[],Sheets:{}}}var i={B:8,C:250,L:1,D:8,"?":0,"":0};function l(c,d){var f=d||{};if(+f.codepage>=0&&Dh(+f.codepage),f.type=="string")throw new Error("Cannot write DBF to JS string");var h=Oa(),p=Tx(c,{header:1,raw:!0,cellDates:!0}),g=p[0],y=p.slice(1),b=c["!cols"]||[],w=0,j=0,S=0,_=1;for(w=0;w<g.length;++w){if(((b[w]||{}).DBF||{}).name){g[w]=b[w].DBF.name,++S;continue}if(g[w]!=null){if(++S,typeof g[w]=="number"&&(g[w]=g[w].toString(10)),typeof g[w]!="string")throw new Error("DBF Invalid column name "+g[w]+" |"+typeof g[w]+"|");if(g.indexOf(g[w])!==w){for(j=0;j<1024;++j)if(g.indexOf(g[w]+"_"+j)==-1){g[w]+="_"+j;break}}}}var E=_r(c["!ref"]),T=[],A=[],C=[];for(w=0;w<=E.e.c-E.s.c;++w){var O="",P="",F=0,G=[];for(j=0;j<y.length;++j)y[j][w]!=null&&G.push(y[j][w]);if(G.length==0||g[w]==null){T[w]="?";continue}for(j=0;j<G.length;++j){switch(typeof G[j]){case"number":P="B";break;case"string":P="C";break;case"boolean":P="L";break;case"object":P=G[j]instanceof Date?"D":"C";break;default:P="C"}F=Math.max(F,String(G[j]).length),O=O&&O!=P?"C":P}F>250&&(F=250),P=((b[w]||{}).DBF||{}).type,P=="C"&&b[w].DBF.len>F&&(F=b[w].DBF.len),O=="B"&&P=="N"&&(O="N",C[w]=b[w].DBF.dec,F=b[w].DBF.len),A[w]=O=="C"||P=="N"?F:i[O]||0,_+=A[w],T[w]=O}var W=h.next(32);for(W.write_shift(4,318902576),W.write_shift(4,y.length),W.write_shift(2,296+32*S),W.write_shift(2,_),w=0;w<4;++w)W.write_shift(4,0);for(W.write_shift(4,0|(+t[A9]||3)<<8),w=0,j=0;w<g.length;++w)if(g[w]!=null){var ee=h.next(32),ue=(g[w].slice(-10)+"\0\0\0\0\0\0\0\0\0\0\0").slice(0,11);ee.write_shift(1,ue,"sbcs"),ee.write_shift(1,T[w]=="?"?"C":T[w],"sbcs"),ee.write_shift(4,j),ee.write_shift(1,A[w]||i[T[w]]||0),ee.write_shift(1,C[w]||0),ee.write_shift(1,2),ee.write_shift(4,0),ee.write_shift(1,0),ee.write_shift(4,0),ee.write_shift(4,0),j+=A[w]||i[T[w]]||0}var fe=h.next(264);for(fe.write_shift(4,13),w=0;w<65;++w)fe.write_shift(4,0);for(w=0;w<y.length;++w){var Q=h.next(_);for(Q.write_shift(1,0),j=0;j<g.length;++j)if(g[j]!=null)switch(T[j]){case"L":Q.write_shift(1,y[w][j]==null?63:y[w][j]?84:70);break;case"B":Q.write_shift(8,y[w][j]||0,"f");break;case"N":var K="0";for(typeof y[w][j]=="number"&&(K=y[w][j].toFixed(C[j]||0)),S=0;S<A[j]-K.length;++S)Q.write_shift(1,32);Q.write_shift(1,K,"sbcs");break;case"D":y[w][j]?(Q.write_shift(4,("0000"+y[w][j].getFullYear()).slice(-4),"sbcs"),Q.write_shift(2,("00"+(y[w][j].getMonth()+1)).slice(-2),"sbcs"),Q.write_shift(2,("00"+y[w][j].getDate()).slice(-2),"sbcs")):Q.write_shift(8,"00000000","sbcs");break;case"C":var J=String(y[w][j]!=null?y[w][j]:"").slice(0,A[j]);for(Q.write_shift(1,J,"sbcs"),S=0;S<A[j]-J.length;++S)Q.write_shift(1,32);break}}return h.next(1).write_shift(1,26),h.end()}return{to_workbook:a,to_sheet:n,from_sheet:l}}(),iye=function(){var e={AA:"",BA:"",CA:"",DA:195,HA:"",JA:197,AE:"",BE:"",CE:"",HE:"",AI:"",BI:"",CI:"",HI:"",AO:"",BO:"",CO:"",DO:213,HO:"",AU:"",BU:"",CU:"",HU:"",Aa:"",Ba:"",Ca:"",Da:227,Ha:"",Ja:229,Ae:"",Be:"",Ce:"",He:"",Ai:"",Bi:"",Ci:"",Hi:"",Ao:"",Bo:"",Co:"",Do:245,Ho:"",Au:"",Bu:"",Cu:"",Hu:"",KC:"",Kc:"",q:"",z:"",a:"",j:"",DN:209,Dn:241,Hy:255,S:169,c:170,R:174,"B ":180,0:176,1:177,2:178,3:179,5:181,6:182,7:183,Q:185,k:186,b:208,i:216,l:222,s:240,y:248,"!":161,'"':162,"#":163,"(":164,"%":165,"'":167,"H ":168,"+":171,";":187,"<":188,"=":189,">":190,"?":191,"{":223},t=new RegExp("\x1BN("+Kn(e).join("|").replace(/\|\|\|/,"|\\||").replace(/([?()+])/g,"\\$1")+"|\\|)","gm"),r=function(g,y){var b=e[y];return typeof b=="number"?D5(b):b},n=function(g,y,b){var w=y.charCodeAt(0)-32<<4|b.charCodeAt(0)-48;return w==59?g:D5(w)};e["|"]=254;function a(g,y){switch(y.type){case"base64":return i(El(g),y);case"binary":return i(g,y);case"buffer":return i(zt&&Buffer.isBuffer(g)?g.toString("binary"):mm(g),y);case"array":return i(Ry(g),y)}throw new Error("Unrecognized type "+y.type)}function i(g,y){var b=g.split(/[\n\r]+/),w=-1,j=-1,S=0,_=0,E=[],T=[],A=null,C={},O=[],P=[],F=[],G=0,W;for(+y.codepage>=0&&Dh(+y.codepage);S!==b.length;++S){G=0;var ee=b[S].trim().replace(/\x1B([\x20-\x2F])([\x30-\x3F])/g,n).replace(t,r),ue=ee.replace(/;;/g,"\0").split(";").map(function(V){return V.replace(/\u0000/g,";")}),fe=ue[0],Q;if(ee.length>0)switch(fe){case"ID":break;case"E":break;case"B":break;case"O":break;case"W":break;case"P":ue[1].charAt(0)=="P"&&T.push(ee.slice(3).replace(/;;/g,";"));break;case"C":var K=!1,J=!1,se=!1,xe=!1,U=-1,ae=-1;for(_=1;_<ue.length;++_)switch(ue[_].charAt(0)){case"A":break;case"X":j=parseInt(ue[_].slice(1))-1,J=!0;break;case"Y":for(w=parseInt(ue[_].slice(1))-1,J||(j=0),W=E.length;W<=w;++W)E[W]=[];break;case"K":Q=ue[_].slice(1),Q.charAt(0)==='"'?Q=Q.slice(1,Q.length-1):Q==="TRUE"?Q=!0:Q==="FALSE"?Q=!1:isNaN(pl(Q))?isNaN(Mh(Q).getDate())||(Q=ha(Q)):(Q=pl(Q),A!==null&&$9(A)&&(Q=V9(Q))),K=!0;break;case"E":xe=!0;var D=ave(ue[_].slice(1),{r:w,c:j});E[w][j]=[E[w][j],D];break;case"S":se=!0,E[w][j]=[E[w][j],"S5S"];break;case"G":break;case"R":U=parseInt(ue[_].slice(1))-1;break;case"C":ae=parseInt(ue[_].slice(1))-1;break;default:if(y&&y.WTF)throw new Error("SYLK bad record "+ee)}if(K&&(E[w][j]&&E[w][j].length==2?E[w][j][0]=Q:E[w][j]=Q,A=null),se){if(xe)throw new Error("SYLK shared formula cannot have own formula");var H=U>-1&&E[U][ae];if(!H||!H[1])throw new Error("SYLK shared formula cannot find base");E[w][j][1]=sve(H[1],{r:w-U,c:j-ae})}break;case"F":var B=0;for(_=1;_<ue.length;++_)switch(ue[_].charAt(0)){case"X":j=parseInt(ue[_].slice(1))-1,++B;break;case"Y":for(w=parseInt(ue[_].slice(1))-1,W=E.length;W<=w;++W)E[W]=[];break;case"M":G=parseInt(ue[_].slice(1))/20;break;case"F":break;case"G":break;case"P":A=T[parseInt(ue[_].slice(1))];break;case"S":break;case"D":break;case"N":break;case"W":for(F=ue[_].slice(1).split(" "),W=parseInt(F[0],10);W<=parseInt(F[1],10);++W)G=parseInt(F[2],10),P[W-1]=G===0?{hidden:!0}:{wch:G},B_(P[W-1]);break;case"C":j=parseInt(ue[_].slice(1))-1,P[j]||(P[j]={});break;case"R":w=parseInt(ue[_].slice(1))-1,O[w]||(O[w]={}),G>0?(O[w].hpt=G,O[w].hpx=OB(G)):G===0&&(O[w].hidden=!0);break;default:if(y&&y.WTF)throw new Error("SYLK bad record "+ee)}B<1&&(A=null);break;default:if(y&&y.WTF)throw new Error("SYLK bad record "+ee)}}return O.length>0&&(C["!rows"]=O),P.length>0&&(C["!cols"]=P),y&&y.sheetRows&&(E=E.slice(0,y.sheetRows)),[E,C]}function l(g,y){var b=a(g,y),w=b[0],j=b[1],S=of(w,y);return Kn(j).forEach(function(_){S[_]=j[_]}),S}function c(g,y){return mu(l(g,y),y)}function d(g,y,b,w){var j="C;Y"+(b+1)+";X"+(w+1)+";K";switch(g.t){case"n":j+=g.v||0,g.f&&!g.F&&(j+=";E"+U_(g.f,{r:b,c:w}));break;case"b":j+=g.v?"TRUE":"FALSE";break;case"e":j+=g.w||g.v;break;case"d":j+='"'+(g.w||g.v)+'"';break;case"s":j+='"'+g.v.replace(/"/g,"").replace(/;/g,";;")+'"';break}return j}function f(g,y){y.forEach(function(b,w){var j="F;W"+(w+1)+" "+(w+1)+" ";b.hidden?j+="0":(typeof b.width=="number"&&!b.wpx&&(b.wpx=kx(b.width)),typeof b.wpx=="number"&&!b.wch&&(b.wch=_x(b.wpx)),typeof b.wch=="number"&&(j+=Math.round(b.wch))),j.charAt(j.length-1)!=" "&&g.push(j)})}function h(g,y){y.forEach(function(b,w){var j="F;";b.hidden?j+="M0;":b.hpt?j+="M"+20*b.hpt+";":b.hpx&&(j+="M"+20*Ex(b.hpx)+";"),j.length>2&&g.push(j+"R"+(w+1))})}function p(g,y){var b=["ID;PWXL;N;E"],w=[],j=_r(g["!ref"]),S,_=Array.isArray(g),E=`\r
`;b.push("P;PGeneral"),b.push("F;P0;DG0G8;M255"),g["!cols"]&&f(b,g["!cols"]),g["!rows"]&&h(b,g["!rows"]),b.push("B;Y"+(j.e.r-j.s.r+1)+";X"+(j.e.c-j.s.c+1)+";D"+[j.s.c,j.s.r,j.e.c,j.e.r].join(" "));for(var T=j.s.r;T<=j.e.r;++T)for(var A=j.s.c;A<=j.e.c;++A){var C=nr({r:T,c:A});S=_?(g[T]||[])[A]:g[C],!(!S||S.v==null&&(!S.f||S.F))&&w.push(d(S,g,T,A))}return b.join(E)+E+w.join(E)+E+"E"+E}return{to_workbook:c,to_sheet:l,from_sheet:p}}(),lye=function(){function e(i,l){switch(l.type){case"base64":return t(El(i),l);case"binary":return t(i,l);case"buffer":return t(zt&&Buffer.isBuffer(i)?i.toString("binary"):mm(i),l);case"array":return t(Ry(i),l)}throw new Error("Unrecognized type "+l.type)}function t(i,l){for(var c=i.split(`
`),d=-1,f=-1,h=0,p=[];h!==c.length;++h){if(c[h].trim()==="BOT"){p[++d]=[],f=0;continue}if(!(d<0)){var g=c[h].trim().split(","),y=g[0],b=g[1];++h;for(var w=c[h]||"";(w.match(/["]/g)||[]).length&1&&h<c.length-1;)w+=`
`+c[++h];switch(w=w.trim(),+y){case-1:if(w==="BOT"){p[++d]=[],f=0;continue}else if(w!=="EOD")throw new Error("Unrecognized DIF special command "+w);break;case 0:w==="TRUE"?p[d][f]=!0:w==="FALSE"?p[d][f]=!1:isNaN(pl(b))?isNaN(Mh(b).getDate())?p[d][f]=b:p[d][f]=ha(b):p[d][f]=pl(b),++f;break;case 1:w=w.slice(1,w.length-1),w=w.replace(/""/g,'"'),w&&w.match(/^=".*"$/)&&(w=w.slice(2,-1)),p[d][f++]=w!==""?w:null;break}if(w==="EOD")break}}return l&&l.sheetRows&&(p=p.slice(0,l.sheetRows)),p}function r(i,l){return of(e(i,l),l)}function n(i,l){return mu(r(i,l),l)}var a=function(){var i=function(d,f,h,p,g){d.push(f),d.push(h+","+p),d.push('"'+g.replace(/"/g,'""')+'"')},l=function(d,f,h,p){d.push(f+","+h),d.push(f==1?'"'+p.replace(/"/g,'""')+'"':p)};return function(d){var f=[],h=_r(d["!ref"]),p,g=Array.isArray(d);i(f,"TABLE",0,1,"sheetjs"),i(f,"VECTORS",0,h.e.r-h.s.r+1,""),i(f,"TUPLES",0,h.e.c-h.s.c+1,""),i(f,"DATA",0,0,"");for(var y=h.s.r;y<=h.e.r;++y){l(f,-1,0,"BOT");for(var b=h.s.c;b<=h.e.c;++b){var w=nr({r:y,c:b});if(p=g?(d[y]||[])[b]:d[w],!p){l(f,1,0,"");continue}switch(p.t){case"n":var j=p.w;!j&&p.v!=null&&(j=p.v),j==null?p.f&&!p.F?l(f,1,0,"="+p.f):l(f,1,0,""):l(f,0,j,"V");break;case"b":l(f,0,p.v?1:0,p.v?"TRUE":"FALSE");break;case"s":l(f,1,0,isNaN(p.v)?p.v:'="'+p.v+'"');break;case"d":p.w||(p.w=Fo(p.z||qr[14],Ma(ha(p.v)))),l(f,0,p.w,"V");break;default:l(f,1,0,"")}}}l(f,-1,0,"EOD");var S=`\r
`,_=f.join(S);return _}}();return{to_workbook:n,to_sheet:r,from_sheet:a}}(),EB=function(){function e(p){return p.replace(/\\b/g,"\\").replace(/\\c/g,":").replace(/\\n/g,`
`)}function t(p){return p.replace(/\\/g,"\\b").replace(/:/g,"\\c").replace(/\n/g,"\\n")}function r(p,g){for(var y=p.split(`
`),b=-1,w=-1,j=0,S=[];j!==y.length;++j){var _=y[j].trim().split(":");if(_[0]==="cell"){var E=_n(_[1]);if(S.length<=E.r)for(b=S.length;b<=E.r;++b)S[b]||(S[b]=[]);switch(b=E.r,w=E.c,_[2]){case"t":S[b][w]=e(_[3]);break;case"v":S[b][w]=+_[3];break;case"vtf":var T=_[_.length-1];case"vtc":switch(_[3]){case"nl":S[b][w]=!!+_[4];break;default:S[b][w]=+_[4];break}_[2]=="vtf"&&(S[b][w]=[S[b][w],T])}}}return g&&g.sheetRows&&(S=S.slice(0,g.sheetRows)),S}function n(p,g){return of(r(p,g),g)}function a(p,g){return mu(n(p,g),g)}var i=["socialcalc:version:1.5","MIME-Version: 1.0","Content-Type: multipart/mixed; boundary=SocialCalcSpreadsheetControlSave"].join(`
`),l=["--SocialCalcSpreadsheetControlSave","Content-type: text/plain; charset=UTF-8"].join(`
`)+`
`,c=["# SocialCalc Spreadsheet Control Save","part:sheet"].join(`
`),d="--SocialCalcSpreadsheetControlSave--";function f(p){if(!p||!p["!ref"])return"";for(var g=[],y=[],b,w="",j=ds(p["!ref"]),S=Array.isArray(p),_=j.s.r;_<=j.e.r;++_)for(var E=j.s.c;E<=j.e.c;++E)if(w=nr({r:_,c:E}),b=S?(p[_]||[])[E]:p[w],!(!b||b.v==null||b.t==="z")){switch(y=["cell",w,"t"],b.t){case"s":case"str":y.push(t(b.v));break;case"n":b.f?(y[2]="vtf",y[3]="n",y[4]=b.v,y[5]=t(b.f)):(y[2]="v",y[3]=b.v);break;case"b":y[2]="vt"+(b.f?"f":"c"),y[3]="nl",y[4]=b.v?"1":"0",y[5]=t(b.f||(b.v?"TRUE":"FALSE"));break;case"d":var T=Ma(ha(b.v));y[2]="vtc",y[3]="nd",y[4]=""+T,y[5]=b.w||Fo(b.z||qr[14],T);break;case"e":continue}g.push(y.join(":"))}return g.push("sheet:c:"+(j.e.c-j.s.c+1)+":r:"+(j.e.r-j.s.r+1)+":tvf:1"),g.push("valueformat:1:text-wiki"),g.join(`
`)}function h(p){return[i,l,c,l,f(p),d].join(`
`)}return{to_workbook:a,to_sheet:n,from_sheet:h}}(),oye=function(){function e(h,p,g,y,b){b.raw?p[g][y]=h:h===""||(h==="TRUE"?p[g][y]=!0:h==="FALSE"?p[g][y]=!1:isNaN(pl(h))?isNaN(Mh(h).getDate())?p[g][y]=h:p[g][y]=ha(h):p[g][y]=pl(h))}function t(h,p){var g=p||{},y=[];if(!h||h.length===0)return y;for(var b=h.split(/[\r\n]/),w=b.length-1;w>=0&&b[w].length===0;)--w;for(var j=10,S=0,_=0;_<=w;++_)S=b[_].indexOf(" "),S==-1?S=b[_].length:S++,j=Math.max(j,S);for(_=0;_<=w;++_){y[_]=[];var E=0;for(e(b[_].slice(0,j).trim(),y,_,E,g),E=1;E<=(b[_].length-j)/10+1;++E)e(b[_].slice(j+(E-1)*10,j+E*10).trim(),y,_,E,g)}return g.sheetRows&&(y=y.slice(0,g.sheetRows)),y}var r={44:",",9:"	",59:";",124:"|"},n={44:3,9:2,59:1,124:0};function a(h){for(var p={},g=!1,y=0,b=0;y<h.length;++y)(b=h.charCodeAt(y))==34?g=!g:!g&&b in r&&(p[b]=(p[b]||0)+1);b=[];for(y in p)Object.prototype.hasOwnProperty.call(p,y)&&b.push([p[y],y]);if(!b.length){p=n;for(y in p)Object.prototype.hasOwnProperty.call(p,y)&&b.push([p[y],y])}return b.sort(function(w,j){return w[0]-j[0]||n[w[1]]-n[j[1]]}),r[b.pop()[1]]||44}function i(h,p){var g=p||{},y="",b=g.dense?[]:{},w={s:{c:0,r:0},e:{c:0,r:0}};h.slice(0,4)=="sep="?h.charCodeAt(5)==13&&h.charCodeAt(6)==10?(y=h.charAt(4),h=h.slice(7)):h.charCodeAt(5)==13||h.charCodeAt(5)==10?(y=h.charAt(4),h=h.slice(6)):y=a(h.slice(0,1024)):g&&g.FS?y=g.FS:y=a(h.slice(0,1024));var j=0,S=0,_=0,E=0,T=0,A=y.charCodeAt(0),C=!1,O=0,P=h.charCodeAt(0);h=h.replace(/\r\n/mg,`
`);var F=g.dateNF!=null?Sge(g.dateNF):null;function G(){var W=h.slice(E,T),ee={};if(W.charAt(0)=='"'&&W.charAt(W.length-1)=='"'&&(W=W.slice(1,-1).replace(/""/g,'"')),W.length===0)ee.t="z";else if(g.raw)ee.t="s",ee.v=W;else if(W.trim().length===0)ee.t="s",ee.v=W;else if(W.charCodeAt(0)==61)W.charCodeAt(1)==34&&W.charCodeAt(W.length-1)==34?(ee.t="s",ee.v=W.slice(2,-1).replace(/""/g,'"')):ive(W)?(ee.t="n",ee.f=W.slice(1)):(ee.t="s",ee.v=W);else if(W=="TRUE")ee.t="b",ee.v=!0;else if(W=="FALSE")ee.t="b",ee.v=!1;else if(!isNaN(_=pl(W)))ee.t="n",g.cellText!==!1&&(ee.w=W),ee.v=_;else if(!isNaN(Mh(W).getDate())||F&&W.match(F)){ee.z=g.dateNF||qr[14];var ue=0;F&&W.match(F)&&(W=kge(W,g.dateNF,W.match(F)||[]),ue=1),g.cellDates?(ee.t="d",ee.v=ha(W,ue)):(ee.t="n",ee.v=Ma(ha(W,ue))),g.cellText!==!1&&(ee.w=Fo(ee.z,ee.v instanceof Date?Ma(ee.v):ee.v)),g.cellNF||delete ee.z}else ee.t="s",ee.v=W;if(ee.t=="z"||(g.dense?(b[j]||(b[j]=[]),b[j][S]=ee):b[nr({c:S,r:j})]=ee),E=T+1,P=h.charCodeAt(E),w.e.c<S&&(w.e.c=S),w.e.r<j&&(w.e.r=j),O==A)++S;else if(S=0,++j,g.sheetRows&&g.sheetRows<=j)return!0}e:for(;T<h.length;++T)switch(O=h.charCodeAt(T)){case 34:P===34&&(C=!C);break;case A:case 10:case 13:if(!C&&G())break e;break}return T-E>0&&G(),b["!ref"]=cn(w),b}function l(h,p){return!(p&&p.PRN)||p.FS||h.slice(0,4)=="sep="||h.indexOf("	")>=0||h.indexOf(",")>=0||h.indexOf(";")>=0?i(h,p):of(t(h,p),p)}function c(h,p){var g="",y=p.type=="string"?[0,0,0,0]:b2e(h,p);switch(p.type){case"base64":g=El(h);break;case"binary":g=h;break;case"buffer":p.codepage==65001?g=h.toString("utf8"):p.codepage&&typeof gx<"u"||(g=zt&&Buffer.isBuffer(h)?h.toString("binary"):mm(h));break;case"array":g=Ry(h);break;case"string":g=h;break;default:throw new Error("Unrecognized type "+p.type)}return y[0]==239&&y[1]==187&&y[2]==191?g=X0(g.slice(3)):p.type!="string"&&p.type!="buffer"&&p.codepage==65001?g=X0(g):p.type=="binary"&&typeof gx<"u",g.slice(0,19)=="socialcalc:version:"?EB.to_sheet(p.type=="string"?g:X0(g),p):l(g,p)}function d(h,p){return mu(c(h,p),p)}function f(h){for(var p=[],g=_r(h["!ref"]),y,b=Array.isArray(h),w=g.s.r;w<=g.e.r;++w){for(var j=[],S=g.s.c;S<=g.e.c;++S){var _=nr({r:w,c:S});if(y=b?(h[w]||[])[S]:h[_],!y||y.v==null){j.push("          ");continue}for(var E=(y.w||(Al(y),y.w)||"").slice(0,10);E.length<10;)E+=" ";j.push(E+(S===0?" ":""))}p.push(j.join(""))}return p.join(`
`)}return{to_workbook:d,to_sheet:c,from_sheet:f}}(),cP=function(){function e(D,H,B){if(D){Xa(D,D.l||0);for(var V=B.Enum||U;D.l<D.length;){var le=D.read_shift(2),De=V[le]||V[65535],re=D.read_shift(2),ie=D.l+re,de=De.f&&De.f(D,re,B);if(D.l=ie,H(de,De,le))return}}}function t(D,H){switch(H.type){case"base64":return r(ii(El(D)),H);case"binary":return r(ii(D),H);case"buffer":case"array":return r(D,H)}throw"Unsupported type "+H.type}function r(D,H){if(!D)return D;var B=H||{},V=B.dense?[]:{},le="Sheet1",De="",re=0,ie={},de=[],oe=[],me={s:{r:0,c:0},e:{r:0,c:0}},Xe=B.sheetRows||0;if(D[2]==0&&(D[3]==8||D[3]==9)&&D.length>=16&&D[14]==5&&D[15]===108)throw new Error("Unsupported Works 3 for Mac file");if(D[2]==2)B.Enum=U,e(D,function(Be,Dt,Kt){switch(Kt){case 0:B.vers=Be,Be>=4096&&(B.qpro=!0);break;case 6:me=Be;break;case 204:Be&&(De=Be);break;case 222:De=Be;break;case 15:case 51:B.qpro||(Be[1].v=Be[1].v.slice(1));case 13:case 14:case 16:Kt==14&&(Be[2]&112)==112&&(Be[2]&15)>1&&(Be[2]&15)<15&&(Be[1].z=B.dateNF||qr[14],B.cellDates&&(Be[1].t="d",Be[1].v=V9(Be[1].v))),B.qpro&&Be[3]>re&&(V["!ref"]=cn(me),ie[le]=V,de.push(le),V=B.dense?[]:{},me={s:{r:0,c:0},e:{r:0,c:0}},re=Be[3],le=De||"Sheet"+(re+1),De="");var yt=B.dense?(V[Be[0].r]||[])[Be[0].c]:V[nr(Be[0])];if(yt){yt.t=Be[1].t,yt.v=Be[1].v,Be[1].z!=null&&(yt.z=Be[1].z),Be[1].f!=null&&(yt.f=Be[1].f);break}B.dense?(V[Be[0].r]||(V[Be[0].r]=[]),V[Be[0].r][Be[0].c]=Be[1]):V[nr(Be[0])]=Be[1];break}},B);else if(D[2]==26||D[2]==14)B.Enum=ae,D[2]==14&&(B.qpro=!0,D.l=0),e(D,function(Be,Dt,Kt){switch(Kt){case 204:le=Be;break;case 22:Be[1].v=Be[1].v.slice(1);case 23:case 24:case 25:case 37:case 39:case 40:if(Be[3]>re&&(V["!ref"]=cn(me),ie[le]=V,de.push(le),V=B.dense?[]:{},me={s:{r:0,c:0},e:{r:0,c:0}},re=Be[3],le="Sheet"+(re+1)),Xe>0&&Be[0].r>=Xe)break;B.dense?(V[Be[0].r]||(V[Be[0].r]=[]),V[Be[0].r][Be[0].c]=Be[1]):V[nr(Be[0])]=Be[1],me.e.c<Be[0].c&&(me.e.c=Be[0].c),me.e.r<Be[0].r&&(me.e.r=Be[0].r);break;case 27:Be[14e3]&&(oe[Be[14e3][0]]=Be[14e3][1]);break;case 1537:oe[Be[0]]=Be[1],Be[0]==re&&(le=Be[1]);break}},B);else throw new Error("Unrecognized LOTUS BOF "+D[2]);if(V["!ref"]=cn(me),ie[De||le]=V,de.push(De||le),!oe.length)return{SheetNames:de,Sheets:ie};for(var Ue={},xt=[],Ye=0;Ye<oe.length;++Ye)ie[de[Ye]]?(xt.push(oe[Ye]||de[Ye]),Ue[oe[Ye]]=ie[oe[Ye]]||ie[de[Ye]]):(xt.push(oe[Ye]),Ue[oe[Ye]]={"!ref":"A1"});return{SheetNames:xt,Sheets:Ue}}function n(D,H){var B=H||{};if(+B.codepage>=0&&Dh(+B.codepage),B.type=="string")throw new Error("Cannot write WK1 to JS string");var V=Oa(),le=_r(D["!ref"]),De=Array.isArray(D),re=[];qe(V,0,i(1030)),qe(V,6,d(le));for(var ie=Math.min(le.e.r,8191),de=le.s.r;de<=ie;++de)for(var oe=Gn(de),me=le.s.c;me<=le.e.c;++me){de===le.s.r&&(re[me]=na(me));var Xe=re[me]+oe,Ue=De?(D[de]||[])[me]:D[Xe];if(!(!Ue||Ue.t=="z"))if(Ue.t=="n")(Ue.v|0)==Ue.v&&Ue.v>=-32768&&Ue.v<=32767?qe(V,13,y(de,me,Ue.v)):qe(V,14,w(de,me,Ue.v));else{var xt=Al(Ue);qe(V,15,p(de,me,xt.slice(0,239)))}}return qe(V,1),V.end()}function a(D,H){var B=H||{};if(+B.codepage>=0&&Dh(+B.codepage),B.type=="string")throw new Error("Cannot write WK3 to JS string");var V=Oa();qe(V,0,l(D));for(var le=0,De=0;le<D.SheetNames.length;++le)(D.Sheets[D.SheetNames[le]]||{})["!ref"]&&qe(V,27,xe(D.SheetNames[le],De++));var re=0;for(le=0;le<D.SheetNames.length;++le){var ie=D.Sheets[D.SheetNames[le]];if(!(!ie||!ie["!ref"])){for(var de=_r(ie["!ref"]),oe=Array.isArray(ie),me=[],Xe=Math.min(de.e.r,8191),Ue=de.s.r;Ue<=Xe;++Ue)for(var xt=Gn(Ue),Ye=de.s.c;Ye<=de.e.c;++Ye){Ue===de.s.r&&(me[Ye]=na(Ye));var Be=me[Ye]+xt,Dt=oe?(ie[Ue]||[])[Ye]:ie[Be];if(!(!Dt||Dt.t=="z"))if(Dt.t=="n")qe(V,23,G(Ue,Ye,re,Dt.v));else{var Kt=Al(Dt);qe(V,22,O(Ue,Ye,re,Kt.slice(0,239)))}}++re}}return qe(V,1),V.end()}function i(D){var H=Te(2);return H.write_shift(2,D),H}function l(D){var H=Te(26);H.write_shift(2,4096),H.write_shift(2,4),H.write_shift(4,0);for(var B=0,V=0,le=0,De=0;De<D.SheetNames.length;++De){var re=D.SheetNames[De],ie=D.Sheets[re];if(!(!ie||!ie["!ref"])){++le;var de=ds(ie["!ref"]);B<de.e.r&&(B=de.e.r),V<de.e.c&&(V=de.e.c)}}return B>8191&&(B=8191),H.write_shift(2,B),H.write_shift(1,le),H.write_shift(1,V),H.write_shift(2,0),H.write_shift(2,0),H.write_shift(1,1),H.write_shift(1,2),H.write_shift(4,0),H.write_shift(4,0),H}function c(D,H,B){var V={s:{c:0,r:0},e:{c:0,r:0}};return H==8&&B.qpro?(V.s.c=D.read_shift(1),D.l++,V.s.r=D.read_shift(2),V.e.c=D.read_shift(1),D.l++,V.e.r=D.read_shift(2),V):(V.s.c=D.read_shift(2),V.s.r=D.read_shift(2),H==12&&B.qpro&&(D.l+=2),V.e.c=D.read_shift(2),V.e.r=D.read_shift(2),H==12&&B.qpro&&(D.l+=2),V.s.c==65535&&(V.s.c=V.e.c=V.s.r=V.e.r=0),V)}function d(D){var H=Te(8);return H.write_shift(2,D.s.c),H.write_shift(2,D.s.r),H.write_shift(2,D.e.c),H.write_shift(2,D.e.r),H}function f(D,H,B){var V=[{c:0,r:0},{t:"n",v:0},0,0];return B.qpro&&B.vers!=20768?(V[0].c=D.read_shift(1),V[3]=D.read_shift(1),V[0].r=D.read_shift(2),D.l+=2):(V[2]=D.read_shift(1),V[0].c=D.read_shift(2),V[0].r=D.read_shift(2)),V}function h(D,H,B){var V=D.l+H,le=f(D,H,B);if(le[1].t="s",B.vers==20768){D.l++;var De=D.read_shift(1);return le[1].v=D.read_shift(De,"utf8"),le}return B.qpro&&D.l++,le[1].v=D.read_shift(V-D.l,"cstr"),le}function p(D,H,B){var V=Te(7+B.length);V.write_shift(1,255),V.write_shift(2,H),V.write_shift(2,D),V.write_shift(1,39);for(var le=0;le<V.length;++le){var De=B.charCodeAt(le);V.write_shift(1,De>=128?95:De)}return V.write_shift(1,0),V}function g(D,H,B){var V=f(D,H,B);return V[1].v=D.read_shift(2,"i"),V}function y(D,H,B){var V=Te(7);return V.write_shift(1,255),V.write_shift(2,H),V.write_shift(2,D),V.write_shift(2,B,"i"),V}function b(D,H,B){var V=f(D,H,B);return V[1].v=D.read_shift(8,"f"),V}function w(D,H,B){var V=Te(13);return V.write_shift(1,255),V.write_shift(2,H),V.write_shift(2,D),V.write_shift(8,B,"f"),V}function j(D,H,B){var V=D.l+H,le=f(D,H,B);if(le[1].v=D.read_shift(8,"f"),B.qpro)D.l=V;else{var De=D.read_shift(2);T(D.slice(D.l,D.l+De),le),D.l+=De}return le}function S(D,H,B){var V=H&32768;return H&=-32769,H=(V?D:0)+(H>=8192?H-16384:H),(V?"":"$")+(B?na(H):Gn(H))}var _={51:["FALSE",0],52:["TRUE",0],70:["LEN",1],80:["SUM",69],81:["AVERAGEA",69],82:["COUNTA",69],83:["MINA",69],84:["MAXA",69],111:["T",1]},E=["","","","","","","","","","+","-","*","/","^","=","<>","<=",">=","<",">","","","","","&","","","","","","",""];function T(D,H){Xa(D,0);for(var B=[],V=0,le="",De="",re="",ie="";D.l<D.length;){var de=D[D.l++];switch(de){case 0:B.push(D.read_shift(8,"f"));break;case 1:De=S(H[0].c,D.read_shift(2),!0),le=S(H[0].r,D.read_shift(2),!1),B.push(De+le);break;case 2:{var oe=S(H[0].c,D.read_shift(2),!0),me=S(H[0].r,D.read_shift(2),!1);De=S(H[0].c,D.read_shift(2),!0),le=S(H[0].r,D.read_shift(2),!1),B.push(oe+me+":"+De+le)}break;case 3:if(D.l<D.length){console.error("WK1 premature formula end");return}break;case 4:B.push("("+B.pop()+")");break;case 5:B.push(D.read_shift(2));break;case 6:{for(var Xe="";de=D[D.l++];)Xe+=String.fromCharCode(de);B.push('"'+Xe.replace(/"/g,'""')+'"')}break;case 8:B.push("-"+B.pop());break;case 23:B.push("+"+B.pop());break;case 22:B.push("NOT("+B.pop()+")");break;case 20:case 21:ie=B.pop(),re=B.pop(),B.push(["AND","OR"][de-20]+"("+re+","+ie+")");break;default:if(de<32&&E[de])ie=B.pop(),re=B.pop(),B.push(re+E[de]+ie);else if(_[de]){if(V=_[de][1],V==69&&(V=D[D.l++]),V>B.length){console.error("WK1 bad formula parse 0x"+de.toString(16)+":|"+B.join("|")+"|");return}var Ue=B.slice(-V);B.length-=V,B.push(_[de][0]+"("+Ue.join(",")+")")}else return de<=7?console.error("WK1 invalid opcode "+de.toString(16)):de<=24?console.error("WK1 unsupported op "+de.toString(16)):de<=30?console.error("WK1 invalid opcode "+de.toString(16)):de<=115?console.error("WK1 unsupported function opcode "+de.toString(16)):console.error("WK1 unrecognized opcode "+de.toString(16))}}B.length==1?H[1].f=""+B[0]:console.error("WK1 bad formula parse |"+B.join("|")+"|")}function A(D){var H=[{c:0,r:0},{t:"n",v:0},0];return H[0].r=D.read_shift(2),H[3]=D[D.l++],H[0].c=D[D.l++],H}function C(D,H){var B=A(D);return B[1].t="s",B[1].v=D.read_shift(H-4,"cstr"),B}function O(D,H,B,V){var le=Te(6+V.length);le.write_shift(2,D),le.write_shift(1,B),le.write_shift(1,H),le.write_shift(1,39);for(var De=0;De<V.length;++De){var re=V.charCodeAt(De);le.write_shift(1,re>=128?95:re)}return le.write_shift(1,0),le}function P(D,H){var B=A(D);B[1].v=D.read_shift(2);var V=B[1].v>>1;if(B[1].v&1)switch(V&7){case 0:V=(V>>3)*5e3;break;case 1:V=(V>>3)*500;break;case 2:V=(V>>3)/20;break;case 3:V=(V>>3)/200;break;case 4:V=(V>>3)/2e3;break;case 5:V=(V>>3)/2e4;break;case 6:V=(V>>3)/16;break;case 7:V=(V>>3)/64;break}return B[1].v=V,B}function F(D,H){var B=A(D),V=D.read_shift(4),le=D.read_shift(4),De=D.read_shift(2);if(De==65535)return V===0&&le===3221225472?(B[1].t="e",B[1].v=15):V===0&&le===3489660928?(B[1].t="e",B[1].v=42):B[1].v=0,B;var re=De&32768;return De=(De&32767)-16446,B[1].v=(1-re*2)*(le*Math.pow(2,De+32)+V*Math.pow(2,De)),B}function G(D,H,B,V){var le=Te(14);if(le.write_shift(2,D),le.write_shift(1,B),le.write_shift(1,H),V==0)return le.write_shift(4,0),le.write_shift(4,0),le.write_shift(2,65535),le;var De=0,re=0,ie=0,de=0;return V<0&&(De=1,V=-V),re=Math.log2(V)|0,V/=Math.pow(2,re-31),de=V>>>0,(de&2147483648)==0&&(V/=2,++re,de=V>>>0),V-=de,de|=2147483648,de>>>=0,V*=Math.pow(2,32),ie=V>>>0,le.write_shift(4,ie),le.write_shift(4,de),re+=16383+(De?32768:0),le.write_shift(2,re),le}function W(D,H){var B=F(D);return D.l+=H-14,B}function ee(D,H){var B=A(D),V=D.read_shift(4);return B[1].v=V>>6,B}function ue(D,H){var B=A(D),V=D.read_shift(8,"f");return B[1].v=V,B}function fe(D,H){var B=ue(D);return D.l+=H-10,B}function Q(D,H){return D[D.l+H-1]==0?D.read_shift(H,"cstr"):""}function K(D,H){var B=D[D.l++];B>H-1&&(B=H-1);for(var V="";V.length<B;)V+=String.fromCharCode(D[D.l++]);return V}function J(D,H,B){if(!(!B.qpro||H<21)){var V=D.read_shift(1);D.l+=17,D.l+=1,D.l+=2;var le=D.read_shift(H-21,"cstr");return[V,le]}}function se(D,H){for(var B={},V=D.l+H;D.l<V;){var le=D.read_shift(2);if(le==14e3){for(B[le]=[0,""],B[le][0]=D.read_shift(2);D[D.l];)B[le][1]+=String.fromCharCode(D[D.l]),D.l++;D.l++}}return B}function xe(D,H){var B=Te(5+D.length);B.write_shift(2,14e3),B.write_shift(2,H);for(var V=0;V<D.length;++V){var le=D.charCodeAt(V);B[B.l++]=le>127?95:le}return B[B.l++]=0,B}var U={0:{n:"BOF",f:jB},1:{n:"EOF"},2:{n:"CALCMODE"},3:{n:"CALCORDER"},4:{n:"SPLIT"},5:{n:"SYNC"},6:{n:"RANGE",f:c},7:{n:"WINDOW1"},8:{n:"COLW1"},9:{n:"WINTWO"},10:{n:"COLW2"},11:{n:"NAME"},12:{n:"BLANK"},13:{n:"INTEGER",f:g},14:{n:"NUMBER",f:b},15:{n:"LABEL",f:h},16:{n:"FORMULA",f:j},24:{n:"TABLE"},25:{n:"ORANGE"},26:{n:"PRANGE"},27:{n:"SRANGE"},28:{n:"FRANGE"},29:{n:"KRANGE1"},32:{n:"HRANGE"},35:{n:"KRANGE2"},36:{n:"PROTEC"},37:{n:"FOOTER"},38:{n:"HEADER"},39:{n:"SETUP"},40:{n:"MARGINS"},41:{n:"LABELFMT"},42:{n:"TITLES"},43:{n:"SHEETJS"},45:{n:"GRAPH"},46:{n:"NGRAPH"},47:{n:"CALCCOUNT"},48:{n:"UNFORMATTED"},49:{n:"CURSORW12"},50:{n:"WINDOW"},51:{n:"STRING",f:h},55:{n:"PASSWORD"},56:{n:"LOCKED"},60:{n:"QUERY"},61:{n:"QUERYNAME"},62:{n:"PRINT"},63:{n:"PRINTNAME"},64:{n:"GRAPH2"},65:{n:"GRAPHNAME"},66:{n:"ZOOM"},67:{n:"SYMSPLIT"},68:{n:"NSROWS"},69:{n:"NSCOLS"},70:{n:"RULER"},71:{n:"NNAME"},72:{n:"ACOMM"},73:{n:"AMACRO"},74:{n:"PARSE"},102:{n:"PRANGES??"},103:{n:"RRANGES??"},104:{n:"FNAME??"},105:{n:"MRANGES??"},204:{n:"SHEETNAMECS",f:Q},222:{n:"SHEETNAMELP",f:K},65535:{n:""}},ae={0:{n:"BOF"},1:{n:"EOF"},2:{n:"PASSWORD"},3:{n:"CALCSET"},4:{n:"WINDOWSET"},5:{n:"SHEETCELLPTR"},6:{n:"SHEETLAYOUT"},7:{n:"COLUMNWIDTH"},8:{n:"HIDDENCOLUMN"},9:{n:"USERRANGE"},10:{n:"SYSTEMRANGE"},11:{n:"ZEROFORCE"},12:{n:"SORTKEYDIR"},13:{n:"FILESEAL"},14:{n:"DATAFILLNUMS"},15:{n:"PRINTMAIN"},16:{n:"PRINTSTRING"},17:{n:"GRAPHMAIN"},18:{n:"GRAPHSTRING"},19:{n:"??"},20:{n:"ERRCELL"},21:{n:"NACELL"},22:{n:"LABEL16",f:C},23:{n:"NUMBER17",f:F},24:{n:"NUMBER18",f:P},25:{n:"FORMULA19",f:W},26:{n:"FORMULA1A"},27:{n:"XFORMAT",f:se},28:{n:"DTLABELMISC"},29:{n:"DTLABELCELL"},30:{n:"GRAPHWINDOW"},31:{n:"CPA"},32:{n:"LPLAUTO"},33:{n:"QUERY"},34:{n:"HIDDENSHEET"},35:{n:"??"},37:{n:"NUMBER25",f:ee},38:{n:"??"},39:{n:"NUMBER27",f:ue},40:{n:"FORMULA28",f:fe},142:{n:"??"},147:{n:"??"},150:{n:"??"},151:{n:"??"},152:{n:"??"},153:{n:"??"},154:{n:"??"},155:{n:"??"},156:{n:"??"},163:{n:"??"},174:{n:"??"},175:{n:"??"},176:{n:"??"},177:{n:"??"},184:{n:"??"},185:{n:"??"},186:{n:"??"},187:{n:"??"},188:{n:"??"},195:{n:"??"},201:{n:"??"},204:{n:"SHEETNAMECS",f:Q},205:{n:"??"},206:{n:"??"},207:{n:"??"},208:{n:"??"},256:{n:"??"},259:{n:"??"},260:{n:"??"},261:{n:"??"},262:{n:"??"},263:{n:"??"},265:{n:"??"},266:{n:"??"},267:{n:"??"},268:{n:"??"},270:{n:"??"},271:{n:"??"},384:{n:"??"},389:{n:"??"},390:{n:"??"},393:{n:"??"},396:{n:"??"},512:{n:"??"},514:{n:"??"},513:{n:"??"},516:{n:"??"},517:{n:"??"},640:{n:"??"},641:{n:"??"},642:{n:"??"},643:{n:"??"},644:{n:"??"},645:{n:"??"},646:{n:"??"},647:{n:"??"},648:{n:"??"},658:{n:"??"},659:{n:"??"},660:{n:"??"},661:{n:"??"},662:{n:"??"},665:{n:"??"},666:{n:"??"},768:{n:"??"},772:{n:"??"},1537:{n:"SHEETINFOQP",f:J},1600:{n:"??"},1602:{n:"??"},1793:{n:"??"},1794:{n:"??"},1795:{n:"??"},1796:{n:"??"},1920:{n:"??"},2048:{n:"??"},2049:{n:"??"},2052:{n:"??"},2688:{n:"??"},10998:{n:"??"},12849:{n:"??"},28233:{n:"??"},28484:{n:"??"},65535:{n:""}};return{sheet_to_wk1:n,book_to_wk3:a,to_workbook:t}}(),cye=/^\s|\s$|[\t\n\r]/;function AB(e,t){if(!t.bookSST)return"";var r=[un];r[r.length]=He("sst",null,{xmlns:lf[0],count:e.Count,uniqueCount:e.Unique});for(var n=0;n!=e.length;++n)if(e[n]!=null){var a=e[n],i="<si>";a.r?i+=a.r:(i+="<t",a.t||(a.t=""),a.t.match(cye)&&(i+=' xml:space="preserve"'),i+=">"+rr(a.t)+"</t>"),i+="</si>",r[r.length]=i}return r.length>2&&(r[r.length]="</sst>",r[1]=r[1].replace("/>",">")),r.join("")}function uye(e){return[e.read_shift(4),e.read_shift(4)]}function dye(e,t){return t||(t=Te(8)),t.write_shift(4,e.Count),t.write_shift(4,e.Unique),t}var fye=rxe;function hye(e){var t=Oa();Ie(t,159,dye(e));for(var r=0;r<e.length;++r)Ie(t,19,fye(e[r]));return Ie(t,160),t.end()}function mye(e){for(var t=[],r=e.split(""),n=0;n<r.length;++n)t[n]=r[n].charCodeAt(0);return t}function TB(e){var t=0,r,n=mye(e),a=n.length+1,i,l,c,d,f;for(r=nu(a),r[0]=n.length,i=1;i!=a;++i)r[i]=n[i-1];for(i=a-1;i>=0;--i)l=r[i],c=(t&16384)===0?0:1,d=t<<1&32767,f=c|d,t=f^l;return t^52811}var pye=function(){function e(a,i){switch(i.type){case"base64":return t(El(a),i);case"binary":return t(a,i);case"buffer":return t(zt&&Buffer.isBuffer(a)?a.toString("binary"):mm(a),i);case"array":return t(Ry(a),i)}throw new Error("Unrecognized type "+i.type)}function t(a,i){var l=i||{},c=l.dense?[]:{},d=a.match(/\\trowd.*?\\row\b/g);if(!d.length)throw new Error("RTF missing table");var f={s:{c:0,r:0},e:{c:0,r:d.length-1}};return d.forEach(function(h,p){Array.isArray(c)&&(c[p]=[]);for(var g=/\\\w+\b/g,y=0,b,w=-1;b=g.exec(h);){switch(b[0]){case"\\cell":var j=h.slice(y,g.lastIndex-b[0].length);if(j[0]==" "&&(j=j.slice(1)),++w,j.length){var S={v:j,t:"s"};Array.isArray(c)?c[p][w]=S:c[nr({r:p,c:w})]=S}break}y=g.lastIndex}w>f.e.c&&(f.e.c=w)}),c["!ref"]=cn(f),c}function r(a,i){return mu(e(a,i),i)}function n(a){for(var i=["{\\rtf1\\ansi"],l=_r(a["!ref"]),c,d=Array.isArray(a),f=l.s.r;f<=l.e.r;++f){i.push("\\trowd\\trautofit1");for(var h=l.s.c;h<=l.e.c;++h)i.push("\\cellx"+(h+1));for(i.push("\\pard\\intbl"),h=l.s.c;h<=l.e.c;++h){var p=nr({r:f,c:h});c=d?(a[f]||[])[h]:a[p],!(!c||c.v==null&&(!c.f||c.F))&&(i.push(" "+(c.w||(Al(c),c.w))),i.push("\\cell"))}i.push("\\pard\\intbl\\row")}return i.join("")+"}"}return{to_workbook:r,to_sheet:e,from_sheet:n}}();function uP(e){for(var t=0,r=1;t!=3;++t)r=r*256+(e[t]>255?255:e[t]<0?0:e[t]);return r.toString(16).toUpperCase().slice(1)}var gye=6,gl=gye;function kx(e){return Math.floor((e+Math.round(128/gl)/256)*gl)}function _x(e){return Math.floor((e-5)/gl*100+.5)/100}function pN(e){return Math.round((e*gl+5)/gl*256)/256}function B_(e){e.width?(e.wpx=kx(e.width),e.wch=_x(e.wpx),e.MDW=gl):e.wpx?(e.wch=_x(e.wpx),e.width=pN(e.wch),e.MDW=gl):typeof e.wch=="number"&&(e.width=pN(e.wch),e.wpx=kx(e.width),e.MDW=gl),e.customWidth&&delete e.customWidth}var xye=96,CB=xye;function Ex(e){return e*96/CB}function OB(e){return e*CB/96}function yye(e){var t=["<numFmts>"];return[[5,8],[23,26],[41,44],[50,392]].forEach(function(r){for(var n=r[0];n<=r[1];++n)e[n]!=null&&(t[t.length]=He("numFmt",null,{numFmtId:n,formatCode:rr(e[n])}))}),t.length===1?"":(t[t.length]="</numFmts>",t[0]=He("numFmts",null,{count:t.length-2}).replace("/>",">"),t.join(""))}function vye(e){var t=[];return t[t.length]=He("cellXfs",null),e.forEach(function(r){t[t.length]=He("xf",null,r)}),t[t.length]="</cellXfs>",t.length===2?"":(t[0]=He("cellXfs",null,{count:t.length-2}).replace("/>",">"),t.join(""))}function DB(e,t){var r=[un,He("styleSheet",null,{xmlns:lf[0],"xmlns:vt":Sn.vt})],n;return e.SSF&&(n=yye(e.SSF))!=null&&(r[r.length]=n),r[r.length]='<fonts count="1"><font><sz val="12"/><color theme="1"/><name val="Calibri"/><family val="2"/><scheme val="minor"/></font></fonts>',r[r.length]='<fills count="2"><fill><patternFill patternType="none"/></fill><fill><patternFill patternType="gray125"/></fill></fills>',r[r.length]='<borders count="1"><border><left/><right/><top/><bottom/><diagonal/></border></borders>',r[r.length]='<cellStyleXfs count="1"><xf numFmtId="0" fontId="0" fillId="0" borderId="0"/></cellStyleXfs>',(n=vye(t.cellXfs))&&(r[r.length]=n),r[r.length]='<cellStyles count="1"><cellStyle name="Normal" xfId="0" builtinId="0"/></cellStyles>',r[r.length]='<dxfs count="0"/>',r[r.length]='<tableStyles count="0" defaultTableStyle="TableStyleMedium9" defaultPivotStyle="PivotStyleMedium4"/>',r.length>2&&(r[r.length]="</styleSheet>",r[1]=r[1].replace("/>",">")),r.join("")}function bye(e,t){var r=e.read_shift(2),n=aa(e);return[r,n]}function wye(e,t,r){r||(r=Te(6+4*t.length)),r.write_shift(2,e),En(t,r);var n=r.length>r.l?r.slice(0,r.l):r;return r.l==null&&(r.l=r.length),n}function jye(e,t,r){var n={};n.sz=e.read_shift(2)/20;var a=cxe(e);a.fItalic&&(n.italic=1),a.fCondense&&(n.condense=1),a.fExtend&&(n.extend=1),a.fShadow&&(n.shadow=1),a.fOutline&&(n.outline=1),a.fStrikeout&&(n.strike=1);var i=e.read_shift(2);switch(i===700&&(n.bold=1),e.read_shift(2)){case 1:n.vertAlign="superscript";break;case 2:n.vertAlign="subscript";break}var l=e.read_shift(1);l!=0&&(n.underline=l);var c=e.read_shift(1);c>0&&(n.family=c);var d=e.read_shift(1);switch(d>0&&(n.charset=d),e.l++,n.color=oxe(e),e.read_shift(1)){case 1:n.scheme="major";break;case 2:n.scheme="minor";break}return n.name=aa(e),n}function Nye(e,t){t||(t=Te(153)),t.write_shift(2,e.sz*20),uxe(e,t),t.write_shift(2,e.bold?700:400);var r=0;e.vertAlign=="superscript"?r=1:e.vertAlign=="subscript"&&(r=2),t.write_shift(2,r),t.write_shift(1,e.underline||0),t.write_shift(1,e.family||0),t.write_shift(1,e.charset||0),t.write_shift(1,0),Nx(e.color,t);var n=0;return n=2,t.write_shift(1,n),En(e.name,t),t.length>t.l?t.slice(0,t.l):t}var Sye=["none","solid","mediumGray","darkGray","lightGray","darkHorizontal","darkVertical","darkDown","darkUp","darkGrid","darkTrellis","lightHorizontal","lightVertical","lightDown","lightUp","lightGrid","lightTrellis","gray125","gray0625"],f2,kye=Li;function dP(e,t){t||(t=Te(84)),f2||(f2=E_(Sye));var r=f2[e.patternType];r==null&&(r=40),t.write_shift(4,r);var n=0;if(r!=40)for(Nx({auto:1},t),Nx({auto:1},t);n<12;++n)t.write_shift(4,0);else{for(;n<4;++n)t.write_shift(4,0);for(;n<12;++n)t.write_shift(4,0)}return t.length>t.l?t.slice(0,t.l):t}function _ye(e,t){var r=e.l+t,n=e.read_shift(2),a=e.read_shift(2);return e.l=r,{ixfe:n,numFmtId:a}}function PB(e,t,r){r||(r=Te(16)),r.write_shift(2,t||0),r.write_shift(2,e.numFmtId||0),r.write_shift(2,0),r.write_shift(2,0),r.write_shift(2,0),r.write_shift(1,0),r.write_shift(1,0);var n=0;return r.write_shift(1,n),r.write_shift(1,0),r.write_shift(1,0),r.write_shift(1,0),r}function S0(e,t){return t||(t=Te(10)),t.write_shift(1,0),t.write_shift(1,0),t.write_shift(4,0),t.write_shift(4,0),t}var Eye=Li;function Aye(e,t){return t||(t=Te(51)),t.write_shift(1,0),S0(null,t),S0(null,t),S0(null,t),S0(null,t),S0(null,t),t.length>t.l?t.slice(0,t.l):t}function Tye(e,t){return t||(t=Te(52)),t.write_shift(4,e.xfId),t.write_shift(2,1),t.write_shift(1,0),t.write_shift(1,0),jx(e.name||"",t),t.length>t.l?t.slice(0,t.l):t}function Cye(e,t,r){var n=Te(2052);return n.write_shift(4,e),jx(t,n),jx(r,n),n.length>n.l?n.slice(0,n.l):n}function Oye(e,t){if(t){var r=0;[[5,8],[23,26],[41,44],[50,392]].forEach(function(n){for(var a=n[0];a<=n[1];++a)t[a]!=null&&++r}),r!=0&&(Ie(e,615,ui(r)),[[5,8],[23,26],[41,44],[50,392]].forEach(function(n){for(var a=n[0];a<=n[1];++a)t[a]!=null&&Ie(e,44,wye(a,t[a]))}),Ie(e,616))}}function Dye(e){var t=1;Ie(e,611,ui(t)),Ie(e,43,Nye({sz:12,color:{theme:1},name:"Calibri",family:2})),Ie(e,612)}function Pye(e){var t=2;Ie(e,603,ui(t)),Ie(e,45,dP({patternType:"none"})),Ie(e,45,dP({patternType:"gray125"})),Ie(e,604)}function Mye(e){var t=1;Ie(e,613,ui(t)),Ie(e,46,Aye()),Ie(e,614)}function Rye(e){var t=1;Ie(e,626,ui(t)),Ie(e,47,PB({numFmtId:0},65535)),Ie(e,627)}function Iye(e,t){Ie(e,617,ui(t.length)),t.forEach(function(r){Ie(e,47,PB(r,0))}),Ie(e,618)}function Fye(e){var t=1;Ie(e,619,ui(t)),Ie(e,48,Tye({xfId:0,name:"Normal"})),Ie(e,620)}function Lye(e){var t=0;Ie(e,505,ui(t)),Ie(e,506)}function Bye(e){var t=0;Ie(e,508,Cye(t,"TableStyleMedium9","PivotStyleMedium4")),Ie(e,509)}function $ye(e,t){var r=Oa();return Ie(r,278),Oye(r,e.SSF),Dye(r),Pye(r),Mye(r),Rye(r),Iye(r,t.cellXfs),Fye(r),Lye(r),Bye(r),Ie(r,279),r.end()}function MB(e,t){if(t&&t.themeXLSX)return t.themeXLSX;if(e&&typeof e.raw=="string")return e.raw;var r=[un];return r[r.length]='<a:theme xmlns:a="http://schemas.openxmlformats.org/drawingml/2006/main" name="Office Theme">',r[r.length]="<a:themeElements>",r[r.length]='<a:clrScheme name="Office">',r[r.length]='<a:dk1><a:sysClr val="windowText" lastClr="000000"/></a:dk1>',r[r.length]='<a:lt1><a:sysClr val="window" lastClr="FFFFFF"/></a:lt1>',r[r.length]='<a:dk2><a:srgbClr val="1F497D"/></a:dk2>',r[r.length]='<a:lt2><a:srgbClr val="EEECE1"/></a:lt2>',r[r.length]='<a:accent1><a:srgbClr val="4F81BD"/></a:accent1>',r[r.length]='<a:accent2><a:srgbClr val="C0504D"/></a:accent2>',r[r.length]='<a:accent3><a:srgbClr val="9BBB59"/></a:accent3>',r[r.length]='<a:accent4><a:srgbClr val="8064A2"/></a:accent4>',r[r.length]='<a:accent5><a:srgbClr val="4BACC6"/></a:accent5>',r[r.length]='<a:accent6><a:srgbClr val="F79646"/></a:accent6>',r[r.length]='<a:hlink><a:srgbClr val="0000FF"/></a:hlink>',r[r.length]='<a:folHlink><a:srgbClr val="800080"/></a:folHlink>',r[r.length]="</a:clrScheme>",r[r.length]='<a:fontScheme name="Office">',r[r.length]="<a:majorFont>",r[r.length]='<a:latin typeface="Cambria"/>',r[r.length]='<a:ea typeface=""/>',r[r.length]='<a:cs typeface=""/>',r[r.length]='<a:font script="Jpan" typeface=" "/>',r[r.length]='<a:font script="Hang" typeface=" "/>',r[r.length]='<a:font script="Hans" typeface=""/>',r[r.length]='<a:font script="Hant" typeface=""/>',r[r.length]='<a:font script="Arab" typeface="Times New Roman"/>',r[r.length]='<a:font script="Hebr" typeface="Times New Roman"/>',r[r.length]='<a:font script="Thai" typeface="Tahoma"/>',r[r.length]='<a:font script="Ethi" typeface="Nyala"/>',r[r.length]='<a:font script="Beng" typeface="Vrinda"/>',r[r.length]='<a:font script="Gujr" typeface="Shruti"/>',r[r.length]='<a:font script="Khmr" typeface="MoolBoran"/>',r[r.length]='<a:font script="Knda" typeface="Tunga"/>',r[r.length]='<a:font script="Guru" typeface="Raavi"/>',r[r.length]='<a:font script="Cans" typeface="Euphemia"/>',r[r.length]='<a:font script="Cher" typeface="Plantagenet Cherokee"/>',r[r.length]='<a:font script="Yiii" typeface="Microsoft Yi Baiti"/>',r[r.length]='<a:font script="Tibt" typeface="Microsoft Himalaya"/>',r[r.length]='<a:font script="Thaa" typeface="MV Boli"/>',r[r.length]='<a:font script="Deva" typeface="Mangal"/>',r[r.length]='<a:font script="Telu" typeface="Gautami"/>',r[r.length]='<a:font script="Taml" typeface="Latha"/>',r[r.length]='<a:font script="Syrc" typeface="Estrangelo Edessa"/>',r[r.length]='<a:font script="Orya" typeface="Kalinga"/>',r[r.length]='<a:font script="Mlym" typeface="Kartika"/>',r[r.length]='<a:font script="Laoo" typeface="DokChampa"/>',r[r.length]='<a:font script="Sinh" typeface="Iskoola Pota"/>',r[r.length]='<a:font script="Mong" typeface="Mongolian Baiti"/>',r[r.length]='<a:font script="Viet" typeface="Times New Roman"/>',r[r.length]='<a:font script="Uigh" typeface="Microsoft Uighur"/>',r[r.length]='<a:font script="Geor" typeface="Sylfaen"/>',r[r.length]="</a:majorFont>",r[r.length]="<a:minorFont>",r[r.length]='<a:latin typeface="Calibri"/>',r[r.length]='<a:ea typeface=""/>',r[r.length]='<a:cs typeface=""/>',r[r.length]='<a:font script="Jpan" typeface=" "/>',r[r.length]='<a:font script="Hang" typeface=" "/>',r[r.length]='<a:font script="Hans" typeface=""/>',r[r.length]='<a:font script="Hant" typeface=""/>',r[r.length]='<a:font script="Arab" typeface="Arial"/>',r[r.length]='<a:font script="Hebr" typeface="Arial"/>',r[r.length]='<a:font script="Thai" typeface="Tahoma"/>',r[r.length]='<a:font script="Ethi" typeface="Nyala"/>',r[r.length]='<a:font script="Beng" typeface="Vrinda"/>',r[r.length]='<a:font script="Gujr" typeface="Shruti"/>',r[r.length]='<a:font script="Khmr" typeface="DaunPenh"/>',r[r.length]='<a:font script="Knda" typeface="Tunga"/>',r[r.length]='<a:font script="Guru" typeface="Raavi"/>',r[r.length]='<a:font script="Cans" typeface="Euphemia"/>',r[r.length]='<a:font script="Cher" typeface="Plantagenet Cherokee"/>',r[r.length]='<a:font script="Yiii" typeface="Microsoft Yi Baiti"/>',r[r.length]='<a:font script="Tibt" typeface="Microsoft Himalaya"/>',r[r.length]='<a:font script="Thaa" typeface="MV Boli"/>',r[r.length]='<a:font script="Deva" typeface="Mangal"/>',r[r.length]='<a:font script="Telu" typeface="Gautami"/>',r[r.length]='<a:font script="Taml" typeface="Latha"/>',r[r.length]='<a:font script="Syrc" typeface="Estrangelo Edessa"/>',r[r.length]='<a:font script="Orya" typeface="Kalinga"/>',r[r.length]='<a:font script="Mlym" typeface="Kartika"/>',r[r.length]='<a:font script="Laoo" typeface="DokChampa"/>',r[r.length]='<a:font script="Sinh" typeface="Iskoola Pota"/>',r[r.length]='<a:font script="Mong" typeface="Mongolian Baiti"/>',r[r.length]='<a:font script="Viet" typeface="Arial"/>',r[r.length]='<a:font script="Uigh" typeface="Microsoft Uighur"/>',r[r.length]='<a:font script="Geor" typeface="Sylfaen"/>',r[r.length]="</a:minorFont>",r[r.length]="</a:fontScheme>",r[r.length]='<a:fmtScheme name="Office">',r[r.length]="<a:fillStyleLst>",r[r.length]='<a:solidFill><a:schemeClr val="phClr"/></a:solidFill>',r[r.length]='<a:gradFill rotWithShape="1">',r[r.length]="<a:gsLst>",r[r.length]='<a:gs pos="0"><a:schemeClr val="phClr"><a:tint val="50000"/><a:satMod val="300000"/></a:schemeClr></a:gs>',r[r.length]='<a:gs pos="35000"><a:schemeClr val="phClr"><a:tint val="37000"/><a:satMod val="300000"/></a:schemeClr></a:gs>',r[r.length]='<a:gs pos="100000"><a:schemeClr val="phClr"><a:tint val="15000"/><a:satMod val="350000"/></a:schemeClr></a:gs>',r[r.length]="</a:gsLst>",r[r.length]='<a:lin ang="16200000" scaled="1"/>',r[r.length]="</a:gradFill>",r[r.length]='<a:gradFill rotWithShape="1">',r[r.length]="<a:gsLst>",r[r.length]='<a:gs pos="0"><a:schemeClr val="phClr"><a:tint val="100000"/><a:shade val="100000"/><a:satMod val="130000"/></a:schemeClr></a:gs>',r[r.length]='<a:gs pos="100000"><a:schemeClr val="phClr"><a:tint val="50000"/><a:shade val="100000"/><a:satMod val="350000"/></a:schemeClr></a:gs>',r[r.length]="</a:gsLst>",r[r.length]='<a:lin ang="16200000" scaled="0"/>',r[r.length]="</a:gradFill>",r[r.length]="</a:fillStyleLst>",r[r.length]="<a:lnStyleLst>",r[r.length]='<a:ln w="9525" cap="flat" cmpd="sng" algn="ctr"><a:solidFill><a:schemeClr val="phClr"><a:shade val="95000"/><a:satMod val="105000"/></a:schemeClr></a:solidFill><a:prstDash val="solid"/></a:ln>',r[r.length]='<a:ln w="25400" cap="flat" cmpd="sng" algn="ctr"><a:solidFill><a:schemeClr val="phClr"/></a:solidFill><a:prstDash val="solid"/></a:ln>',r[r.length]='<a:ln w="38100" cap="flat" cmpd="sng" algn="ctr"><a:solidFill><a:schemeClr val="phClr"/></a:solidFill><a:prstDash val="solid"/></a:ln>',r[r.length]="</a:lnStyleLst>",r[r.length]="<a:effectStyleLst>",r[r.length]="<a:effectStyle>",r[r.length]="<a:effectLst>",r[r.length]='<a:outerShdw blurRad="40000" dist="20000" dir="5400000" rotWithShape="0"><a:srgbClr val="000000"><a:alpha val="38000"/></a:srgbClr></a:outerShdw>',r[r.length]="</a:effectLst>",r[r.length]="</a:effectStyle>",r[r.length]="<a:effectStyle>",r[r.length]="<a:effectLst>",r[r.length]='<a:outerShdw blurRad="40000" dist="23000" dir="5400000" rotWithShape="0"><a:srgbClr val="000000"><a:alpha val="35000"/></a:srgbClr></a:outerShdw>',r[r.length]="</a:effectLst>",r[r.length]="</a:effectStyle>",r[r.length]="<a:effectStyle>",r[r.length]="<a:effectLst>",r[r.length]='<a:outerShdw blurRad="40000" dist="23000" dir="5400000" rotWithShape="0"><a:srgbClr val="000000"><a:alpha val="35000"/></a:srgbClr></a:outerShdw>',r[r.length]="</a:effectLst>",r[r.length]='<a:scene3d><a:camera prst="orthographicFront"><a:rot lat="0" lon="0" rev="0"/></a:camera><a:lightRig rig="threePt" dir="t"><a:rot lat="0" lon="0" rev="1200000"/></a:lightRig></a:scene3d>',r[r.length]='<a:sp3d><a:bevelT w="63500" h="25400"/></a:sp3d>',r[r.length]="</a:effectStyle>",r[r.length]="</a:effectStyleLst>",r[r.length]="<a:bgFillStyleLst>",r[r.length]='<a:solidFill><a:schemeClr val="phClr"/></a:solidFill>',r[r.length]='<a:gradFill rotWithShape="1">',r[r.length]="<a:gsLst>",r[r.length]='<a:gs pos="0"><a:schemeClr val="phClr"><a:tint val="40000"/><a:satMod val="350000"/></a:schemeClr></a:gs>',r[r.length]='<a:gs pos="40000"><a:schemeClr val="phClr"><a:tint val="45000"/><a:shade val="99000"/><a:satMod val="350000"/></a:schemeClr></a:gs>',r[r.length]='<a:gs pos="100000"><a:schemeClr val="phClr"><a:shade val="20000"/><a:satMod val="255000"/></a:schemeClr></a:gs>',r[r.length]="</a:gsLst>",r[r.length]='<a:path path="circle"><a:fillToRect l="50000" t="-80000" r="50000" b="180000"/></a:path>',r[r.length]="</a:gradFill>",r[r.length]='<a:gradFill rotWithShape="1">',r[r.length]="<a:gsLst>",r[r.length]='<a:gs pos="0"><a:schemeClr val="phClr"><a:tint val="80000"/><a:satMod val="300000"/></a:schemeClr></a:gs>',r[r.length]='<a:gs pos="100000"><a:schemeClr val="phClr"><a:shade val="30000"/><a:satMod val="200000"/></a:schemeClr></a:gs>',r[r.length]="</a:gsLst>",r[r.length]='<a:path path="circle"><a:fillToRect l="50000" t="50000" r="50000" b="50000"/></a:path>',r[r.length]="</a:gradFill>",r[r.length]="</a:bgFillStyleLst>",r[r.length]="</a:fmtScheme>",r[r.length]="</a:themeElements>",r[r.length]="<a:objectDefaults>",r[r.length]="<a:spDef>",r[r.length]='<a:spPr/><a:bodyPr/><a:lstStyle/><a:style><a:lnRef idx="1"><a:schemeClr val="accent1"/></a:lnRef><a:fillRef idx="3"><a:schemeClr val="accent1"/></a:fillRef><a:effectRef idx="2"><a:schemeClr val="accent1"/></a:effectRef><a:fontRef idx="minor"><a:schemeClr val="lt1"/></a:fontRef></a:style>',r[r.length]="</a:spDef>",r[r.length]="<a:lnDef>",r[r.length]='<a:spPr/><a:bodyPr/><a:lstStyle/><a:style><a:lnRef idx="2"><a:schemeClr val="accent1"/></a:lnRef><a:fillRef idx="0"><a:schemeClr val="accent1"/></a:fillRef><a:effectRef idx="1"><a:schemeClr val="accent1"/></a:effectRef><a:fontRef idx="minor"><a:schemeClr val="tx1"/></a:fontRef></a:style>',r[r.length]="</a:lnDef>",r[r.length]="</a:objectDefaults>",r[r.length]="<a:extraClrSchemeLst/>",r[r.length]="</a:theme>",r.join("")}function Uye(e,t){return{flags:e.read_shift(4),version:e.read_shift(4),name:aa(e)}}function zye(e){var t=Te(12+2*e.name.length);return t.write_shift(4,e.flags),t.write_shift(4,e.version),En(e.name,t),t.slice(0,t.l)}function Hye(e){for(var t=[],r=e.read_shift(4);r-- >0;)t.push([e.read_shift(4),e.read_shift(4)]);return t}function Vye(e){var t=Te(4+8*e.length);t.write_shift(4,e.length);for(var r=0;r<e.length;++r)t.write_shift(4,e[r][0]),t.write_shift(4,e[r][1]);return t}function qye(e,t){var r=Te(8+2*t.length);return r.write_shift(4,e),En(t,r),r.slice(0,r.l)}function Wye(e){return e.l+=4,e.read_shift(4)!=0}function Gye(e,t){var r=Te(8);return r.write_shift(4,e),r.write_shift(4,1),r}function Kye(){var e=Oa();return Ie(e,332),Ie(e,334,ui(1)),Ie(e,335,zye({name:"XLDAPR",version:12e4,flags:3496657072})),Ie(e,336),Ie(e,339,qye(1,"XLDAPR")),Ie(e,52),Ie(e,35,ui(514)),Ie(e,4096,ui(0)),Ie(e,4097,Ps(1)),Ie(e,36),Ie(e,53),Ie(e,340),Ie(e,337,Gye(1)),Ie(e,51,Vye([[1,0]])),Ie(e,338),Ie(e,333),e.end()}function RB(){var e=[un];return e.push(`<metadata xmlns="http://schemas.openxmlformats.org/spreadsheetml/2006/main" xmlns:xlrd="http://schemas.microsoft.com/office/spreadsheetml/2017/richdata" xmlns:xda="http://schemas.microsoft.com/office/spreadsheetml/2017/dynamicarray">
  <metadataTypes count="1">
    <metadataType name="XLDAPR" minSupportedVersion="120000" copy="1" pasteAll="1" pasteValues="1" merge="1" splitFirst="1" rowColShift="1" clearFormats="1" clearComments="1" assign="1" coerce="1" cellMeta="1"/>
  </metadataTypes>
  <futureMetadata name="XLDAPR" count="1">
    <bk>
      <extLst>
        <ext uri="{bdbb8cdc-fa1e-496e-a857-3c3f30c029c3}">
          <xda:dynamicArrayProperties fDynamic="1" fCollapsed="0"/>
        </ext>
      </extLst>
    </bk>
  </futureMetadata>
  <cellMetadata count="1">
    <bk>
      <rc t="1" v="0"/>
    </bk>
  </cellMetadata>
</metadata>`),e.join("")}function Yye(e){var t={};t.i=e.read_shift(4);var r={};r.r=e.read_shift(4),r.c=e.read_shift(4),t.r=nr(r);var n=e.read_shift(1);return n&2&&(t.l="1"),n&8&&(t.a="1"),t}var hd=1024;function IB(e,t){for(var r=[21600,21600],n=["m0,0l0",r[1],r[0],r[1],r[0],"0xe"].join(","),a=[He("xml",null,{"xmlns:v":Ja.v,"xmlns:o":Ja.o,"xmlns:x":Ja.x,"xmlns:mv":Ja.mv}).replace(/\/>/,">"),He("o:shapelayout",He("o:idmap",null,{"v:ext":"edit",data:e}),{"v:ext":"edit"}),He("v:shapetype",[He("v:stroke",null,{joinstyle:"miter"}),He("v:path",null,{gradientshapeok:"t","o:connecttype":"rect"})].join(""),{id:"_x0000_t202","o:spt":202,coordsize:r.join(","),path:n})];hd<e*1e3;)hd+=1e3;return t.forEach(function(i){var l=_n(i[0]),c={color2:"#BEFF82",type:"gradient"};c.type=="gradient"&&(c.angle="-180");var d=c.type=="gradient"?He("o:fill",null,{type:"gradientUnscaled","v:ext":"view"}):null,f=He("v:fill",d,c),h={on:"t",obscured:"t"};++hd,a=a.concat(["<v:shape"+Ih({id:"_x0000_s"+hd,type:"#_x0000_t202",style:"position:absolute; margin-left:80pt;margin-top:5pt;width:104pt;height:64pt;z-index:10"+(i[1].hidden?";visibility:hidden":""),fillcolor:"#ECFAD4",strokecolor:"#edeaa1"})+">",f,He("v:shadow",null,h),He("v:path",null,{"o:connecttype":"none"}),'<v:textbox><div style="text-align:left"></div></v:textbox>','<x:ClientData ObjectType="Note">',"<x:MoveWithCells/>","<x:SizeWithCells/>",qn("x:Anchor",[l.c+1,0,l.r+1,0,l.c+3,20,l.r+5,20].join(",")),qn("x:AutoFill","False"),qn("x:Row",String(l.r)),qn("x:Column",String(l.c)),i[1].hidden?"":"<x:Visible/>","</x:ClientData>","</v:shape>"])}),a.push("</xml>"),a.join("")}function FB(e){var t=[un,He("comments",null,{xmlns:lf[0]})],r=[];return t.push("<authors>"),e.forEach(function(n){n[1].forEach(function(a){var i=rr(a.a);r.indexOf(i)==-1&&(r.push(i),t.push("<author>"+i+"</author>")),a.T&&a.ID&&r.indexOf("tc="+a.ID)==-1&&(r.push("tc="+a.ID),t.push("<author>tc="+a.ID+"</author>"))})}),r.length==0&&(r.push("SheetJ5"),t.push("<author>SheetJ5</author>")),t.push("</authors>"),t.push("<commentList>"),e.forEach(function(n){var a=0,i=[];if(n[1][0]&&n[1][0].T&&n[1][0].ID?a=r.indexOf("tc="+n[1][0].ID):n[1].forEach(function(d){d.a&&(a=r.indexOf(rr(d.a))),i.push(d.t||"")}),t.push('<comment ref="'+n[0]+'" authorId="'+a+'"><text>'),i.length<=1)t.push(qn("t",rr(i[0]||"")));else{for(var l=`Comment:
    `+i[0]+`
`,c=1;c<i.length;++c)l+=`Reply:
    `+i[c]+`
`;t.push(qn("t",rr(l)))}t.push("</text></comment>")}),t.push("</commentList>"),t.length>2&&(t[t.length]="</comments>",t[1]=t[1].replace("/>",">")),t.join("")}function Xye(e,t,r){var n=[un,He("ThreadedComments",null,{xmlns:Sn.TCMNT}).replace(/[\/]>/,">")];return e.forEach(function(a){var i="";(a[1]||[]).forEach(function(l,c){if(!l.T){delete l.ID;return}l.a&&t.indexOf(l.a)==-1&&t.push(l.a);var d={ref:a[0],id:"{54EE7951-7262-4200-6969-"+("000000000000"+r.tcid++).slice(-12)+"}"};c==0?i=d.id:d.parentId=i,l.ID=d.id,l.a&&(d.personId="{54EE7950-7262-4200-6969-"+("000000000000"+t.indexOf(l.a)).slice(-12)+"}"),n.push(He("threadedComment",qn("text",l.t||""),d))})}),n.push("</ThreadedComments>"),n.join("")}function Qye(e){var t=[un,He("personList",null,{xmlns:Sn.TCMNT,"xmlns:x":lf[0]}).replace(/[\/]>/,">")];return e.forEach(function(r,n){t.push(He("person",null,{displayName:r,id:"{54EE7950-7262-4200-6969-"+("000000000000"+n).slice(-12)+"}",userId:r,providerId:"None"}))}),t.push("</personList>"),t.join("")}function Zye(e){var t={};t.iauthor=e.read_shift(4);var r=yu(e);return t.rfx=r.s,t.ref=nr(r.s),e.l+=16,t}function Jye(e,t){return t==null&&(t=Te(36)),t.write_shift(4,e[1].iauthor),cf(e[0],t),t.write_shift(4,0),t.write_shift(4,0),t.write_shift(4,0),t.write_shift(4,0),t}var eve=aa;function tve(e){return En(e.slice(0,54))}function rve(e){var t=Oa(),r=[];return Ie(t,628),Ie(t,630),e.forEach(function(n){n[1].forEach(function(a){r.indexOf(a.a)>-1||(r.push(a.a.slice(0,54)),Ie(t,632,tve(a.a)))})}),Ie(t,631),Ie(t,633),e.forEach(function(n){n[1].forEach(function(a){a.iauthor=r.indexOf(a.a);var i={s:_n(n[0]),e:_n(n[0])};Ie(t,635,Jye([i,a])),a.t&&a.t.length>0&&Ie(t,637,axe(a)),Ie(t,636),delete a.iauthor})}),Ie(t,634),Ie(t,629),t.end()}function nve(e,t){t.FullPaths.forEach(function(r,n){if(n!=0){var a=r.replace(/[^\/]*[\/]/,"/_VBA_PROJECT_CUR/");a.slice(-1)!=="/"&&cr.utils.cfb_add(e,a,t.FileIndex[n].content)}})}var LB=["xlsb","xlsm","xlam","biff8","xla"],ave=function(){var e=/(^|[^A-Za-z_])R(\[?-?\d+\]|[1-9]\d*|)C(\[?-?\d+\]|[1-9]\d*|)(?![A-Za-z0-9_])/g,t={r:0,c:0};function r(n,a,i,l){var c=!1,d=!1;i.length==0?d=!0:i.charAt(0)=="["&&(d=!0,i=i.slice(1,-1)),l.length==0?c=!0:l.charAt(0)=="["&&(c=!0,l=l.slice(1,-1));var f=i.length>0?parseInt(i,10)|0:0,h=l.length>0?parseInt(l,10)|0:0;return c?h+=t.c:--h,d?f+=t.r:--f,a+(c?"":"$")+na(h)+(d?"":"$")+Gn(f)}return function(a,i){return t=i,a.replace(e,r)}}(),$_=/(^|[^._A-Z0-9])([$]?)([A-Z]{1,2}|[A-W][A-Z]{2}|X[A-E][A-Z]|XF[A-D])([$]?)(10[0-3]\d{4}|104[0-7]\d{3}|1048[0-4]\d{2}|10485[0-6]\d|104857[0-6]|[1-9]\d{0,5})(?![_.\(A-Za-z0-9])/g,U_=function(){return function(t,r){return t.replace($_,function(n,a,i,l,c,d){var f=M_(l)-(i?0:r.c),h=P_(d)-(c?0:r.r),p=h==0?"":c?h+1:"["+h+"]",g=f==0?"":i?f+1:"["+f+"]";return a+"R"+p+"C"+g})}}();function sve(e,t){return e.replace($_,function(r,n,a,i,l,c){return n+(a=="$"?a+i:na(M_(i)+t.c))+(l=="$"?l+c:Gn(P_(c)+t.r))})}function ive(e){return e.length!=1}function rn(e){e.l+=1}function Lo(e,t){var r=e.read_shift(2);return[r&16383,r>>14&1,r>>15&1]}function BB(e,t,r){var n=2;if(r){if(r.biff>=2&&r.biff<=5)return $B(e);r.biff==12&&(n=4)}var a=e.read_shift(n),i=e.read_shift(n),l=Lo(e),c=Lo(e);return{s:{r:a,c:l[0],cRel:l[1],rRel:l[2]},e:{r:i,c:c[0],cRel:c[1],rRel:c[2]}}}function $B(e){var t=Lo(e),r=Lo(e),n=e.read_shift(1),a=e.read_shift(1);return{s:{r:t[0],c:n,cRel:t[1],rRel:t[2]},e:{r:r[0],c:a,cRel:r[1],rRel:r[2]}}}function lve(e,t,r){if(r.biff<8)return $B(e);var n=e.read_shift(r.biff==12?4:2),a=e.read_shift(r.biff==12?4:2),i=Lo(e),l=Lo(e);return{s:{r:n,c:i[0],cRel:i[1],rRel:i[2]},e:{r:a,c:l[0],cRel:l[1],rRel:l[2]}}}function UB(e,t,r){if(r&&r.biff>=2&&r.biff<=5)return ove(e);var n=e.read_shift(r&&r.biff==12?4:2),a=Lo(e);return{r:n,c:a[0],cRel:a[1],rRel:a[2]}}function ove(e){var t=Lo(e),r=e.read_shift(1);return{r:t[0],c:r,cRel:t[1],rRel:t[2]}}function cve(e){var t=e.read_shift(2),r=e.read_shift(2);return{r:t,c:r&255,fQuoted:!!(r&16384),cRel:r>>15,rRel:r>>15}}function uve(e,t,r){var n=r&&r.biff?r.biff:8;if(n>=2&&n<=5)return dve(e);var a=e.read_shift(n>=12?4:2),i=e.read_shift(2),l=(i&16384)>>14,c=(i&32768)>>15;if(i&=16383,c==1)for(;a>524287;)a-=1048576;if(l==1)for(;i>8191;)i=i-16384;return{r:a,c:i,cRel:l,rRel:c}}function dve(e){var t=e.read_shift(2),r=e.read_shift(1),n=(t&32768)>>15,a=(t&16384)>>14;return t&=16383,n==1&&t>=8192&&(t=t-16384),a==1&&r>=128&&(r=r-256),{r:t,c:r,cRel:a,rRel:n}}function fve(e,t,r){var n=(e[e.l++]&96)>>5,a=BB(e,r.biff>=2&&r.biff<=5?6:8,r);return[n,a]}function hve(e,t,r){var n=(e[e.l++]&96)>>5,a=e.read_shift(2,"i"),i=8;if(r)switch(r.biff){case 5:e.l+=12,i=6;break;case 12:i=12;break}var l=BB(e,i,r);return[n,a,l]}function mve(e,t,r){var n=(e[e.l++]&96)>>5;return e.l+=r&&r.biff>8?12:r.biff<8?6:8,[n]}function pve(e,t,r){var n=(e[e.l++]&96)>>5,a=e.read_shift(2),i=8;if(r)switch(r.biff){case 5:e.l+=12,i=6;break;case 12:i=12;break}return e.l+=i,[n,a]}function gve(e,t,r){var n=(e[e.l++]&96)>>5,a=lve(e,t-1,r);return[n,a]}function xve(e,t,r){var n=(e[e.l++]&96)>>5;return e.l+=r.biff==2?6:r.biff==12?14:7,[n]}function fP(e){var t=e[e.l+1]&1,r=1;return e.l+=4,[t,r]}function yve(e,t,r){e.l+=2;for(var n=e.read_shift(r&&r.biff==2?1:2),a=[],i=0;i<=n;++i)a.push(e.read_shift(r&&r.biff==2?1:2));return a}function vve(e,t,r){var n=e[e.l+1]&255?1:0;return e.l+=2,[n,e.read_shift(r&&r.biff==2?1:2)]}function bve(e,t,r){var n=e[e.l+1]&255?1:0;return e.l+=2,[n,e.read_shift(r&&r.biff==2?1:2)]}function wve(e){var t=e[e.l+1]&255?1:0;return e.l+=2,[t,e.read_shift(2)]}function jve(e,t,r){var n=e[e.l+1]&255?1:0;return e.l+=r&&r.biff==2?3:4,[n]}function zB(e){var t=e.read_shift(1),r=e.read_shift(1);return[t,r]}function Nve(e){return e.read_shift(2),zB(e)}function Sve(e){return e.read_shift(2),zB(e)}function kve(e,t,r){var n=(e[e.l]&96)>>5;e.l+=1;var a=UB(e,0,r);return[n,a]}function _ve(e,t,r){var n=(e[e.l]&96)>>5;e.l+=1;var a=uve(e,0,r);return[n,a]}function Eve(e,t,r){var n=(e[e.l]&96)>>5;e.l+=1;var a=e.read_shift(2);r&&r.biff==5&&(e.l+=12);var i=UB(e,0,r);return[n,a,i]}function Ave(e,t,r){var n=(e[e.l]&96)>>5;e.l+=1;var a=e.read_shift(r&&r.biff<=3?1:2);return[Abe[a],qB[a],n]}function Tve(e,t,r){var n=e[e.l++],a=e.read_shift(1),i=r&&r.biff<=3?[n==88?-1:0,e.read_shift(1)]:Cve(e);return[a,(i[0]===0?qB:Ebe)[i[1]]]}function Cve(e){return[e[e.l+1]>>7,e.read_shift(2)&32767]}function Ove(e,t,r){e.l+=r&&r.biff==2?3:4}function Dve(e,t,r){if(e.l++,r&&r.biff==12)return[e.read_shift(4,"i"),0];var n=e.read_shift(2),a=e.read_shift(r&&r.biff==2?1:2);return[n,a]}function Pve(e){return e.l++,xm[e.read_shift(1)]}function Mve(e){return e.l++,e.read_shift(2)}function Rve(e){return e.l++,e.read_shift(1)!==0}function Ive(e){return e.l++,uf(e)}function Fve(e,t,r){return e.l++,SB(e,t-1,r)}function Lve(e,t){var r=[e.read_shift(1)];if(t==12)switch(r[0]){case 2:r[0]=4;break;case 4:r[0]=16;break;case 0:r[0]=1;break;case 1:r[0]=2;break}switch(r[0]){case 4:r[1]=Exe(e,1)?"TRUE":"FALSE",t!=12&&(e.l+=7);break;case 37:case 16:r[1]=xm[e[e.l]],e.l+=t==12?4:8;break;case 0:e.l+=8;break;case 1:r[1]=uf(e);break;case 2:r[1]=Oxe(e,0,{biff:t>0&&t<8?2:t});break;default:throw new Error("Bad SerAr: "+r[0])}return r}function Bve(e,t,r){for(var n=e.read_shift(r.biff==12?4:2),a=[],i=0;i!=n;++i)a.push((r.biff==12?yu:Mxe)(e));return a}function $ve(e,t,r){var n=0,a=0;r.biff==12?(n=e.read_shift(4),a=e.read_shift(4)):(a=1+e.read_shift(1),n=1+e.read_shift(2)),r.biff>=2&&r.biff<8&&(--n,--a==0&&(a=256));for(var i=0,l=[];i!=n&&(l[i]=[]);++i)for(var c=0;c!=a;++c)l[i][c]=Lve(e,r.biff);return l}function Uve(e,t,r){var n=e.read_shift(1)>>>5&3,a=!r||r.biff>=8?4:2,i=e.read_shift(a);switch(r.biff){case 2:e.l+=5;break;case 3:case 4:e.l+=8;break;case 5:e.l+=12;break}return[n,0,i]}function zve(e,t,r){if(r.biff==5)return Hve(e);var n=e.read_shift(1)>>>5&3,a=e.read_shift(2),i=e.read_shift(4);return[n,a,i]}function Hve(e){var t=e.read_shift(1)>>>5&3,r=e.read_shift(2,"i");e.l+=8;var n=e.read_shift(2);return e.l+=12,[t,r,n]}function Vve(e,t,r){var n=e.read_shift(1)>>>5&3;e.l+=r&&r.biff==2?3:4;var a=e.read_shift(r&&r.biff==2?1:2);return[n,a]}function qve(e,t,r){var n=e.read_shift(1)>>>5&3,a=e.read_shift(r&&r.biff==2?1:2);return[n,a]}function Wve(e,t,r){var n=e.read_shift(1)>>>5&3;return e.l+=4,r.biff<8&&e.l--,r.biff==12&&(e.l+=2),[n]}function Gve(e,t,r){var n=(e[e.l++]&96)>>5,a=e.read_shift(2),i=4;if(r)switch(r.biff){case 5:i=15;break;case 12:i=6;break}return e.l+=i,[n,a]}var Kve=Li,Yve=Li,Xve=Li;function ym(e,t,r){return e.l+=2,[cve(e)]}function z_(e){return e.l+=6,[]}var Qve=ym,Zve=z_,Jve=z_,ebe=ym;function HB(e){return e.l+=2,[jB(e),e.read_shift(2)&1]}var tbe=ym,rbe=HB,nbe=z_,abe=ym,sbe=ym,ibe=["Data","All","Headers","??","?Data2","??","?DataHeaders","??","Totals","??","??","??","?DataTotals","??","??","??","?Current"];function lbe(e){e.l+=2;var t=e.read_shift(2),r=e.read_shift(2),n=e.read_shift(4),a=e.read_shift(2),i=e.read_shift(2),l=ibe[r>>2&31];return{ixti:t,coltype:r&3,rt:l,idx:n,c:a,C:i}}function obe(e){return e.l+=2,[e.read_shift(4)]}function cbe(e,t,r){return e.l+=5,e.l+=2,e.l+=r.biff==2?1:4,["PTGSHEET"]}function ube(e,t,r){return e.l+=r.biff==2?4:5,["PTGENDSHEET"]}function dbe(e){var t=e.read_shift(1)>>>5&3,r=e.read_shift(2);return[t,r]}function fbe(e){var t=e.read_shift(1)>>>5&3,r=e.read_shift(2);return[t,r]}function hbe(e){return e.l+=4,[0,0]}var hP={1:{n:"PtgExp",f:Dve},2:{n:"PtgTbl",f:Xve},3:{n:"PtgAdd",f:rn},4:{n:"PtgSub",f:rn},5:{n:"PtgMul",f:rn},6:{n:"PtgDiv",f:rn},7:{n:"PtgPower",f:rn},8:{n:"PtgConcat",f:rn},9:{n:"PtgLt",f:rn},10:{n:"PtgLe",f:rn},11:{n:"PtgEq",f:rn},12:{n:"PtgGe",f:rn},13:{n:"PtgGt",f:rn},14:{n:"PtgNe",f:rn},15:{n:"PtgIsect",f:rn},16:{n:"PtgUnion",f:rn},17:{n:"PtgRange",f:rn},18:{n:"PtgUplus",f:rn},19:{n:"PtgUminus",f:rn},20:{n:"PtgPercent",f:rn},21:{n:"PtgParen",f:rn},22:{n:"PtgMissArg",f:rn},23:{n:"PtgStr",f:Fve},26:{n:"PtgSheet",f:cbe},27:{n:"PtgEndSheet",f:ube},28:{n:"PtgErr",f:Pve},29:{n:"PtgBool",f:Rve},30:{n:"PtgInt",f:Mve},31:{n:"PtgNum",f:Ive},32:{n:"PtgArray",f:xve},33:{n:"PtgFunc",f:Ave},34:{n:"PtgFuncVar",f:Tve},35:{n:"PtgName",f:Uve},36:{n:"PtgRef",f:kve},37:{n:"PtgArea",f:fve},38:{n:"PtgMemArea",f:Vve},39:{n:"PtgMemErr",f:Kve},40:{n:"PtgMemNoMem",f:Yve},41:{n:"PtgMemFunc",f:qve},42:{n:"PtgRefErr",f:Wve},43:{n:"PtgAreaErr",f:mve},44:{n:"PtgRefN",f:_ve},45:{n:"PtgAreaN",f:gve},46:{n:"PtgMemAreaN",f:dbe},47:{n:"PtgMemNoMemN",f:fbe},57:{n:"PtgNameX",f:zve},58:{n:"PtgRef3d",f:Eve},59:{n:"PtgArea3d",f:hve},60:{n:"PtgRefErr3d",f:Gve},61:{n:"PtgAreaErr3d",f:pve},255:{}},mbe={64:32,96:32,65:33,97:33,66:34,98:34,67:35,99:35,68:36,100:36,69:37,101:37,70:38,102:38,71:39,103:39,72:40,104:40,73:41,105:41,74:42,106:42,75:43,107:43,76:44,108:44,77:45,109:45,78:46,110:46,79:47,111:47,88:34,120:34,89:57,121:57,90:58,122:58,91:59,123:59,92:60,124:60,93:61,125:61},pbe={1:{n:"PtgElfLel",f:HB},2:{n:"PtgElfRw",f:abe},3:{n:"PtgElfCol",f:Qve},6:{n:"PtgElfRwV",f:sbe},7:{n:"PtgElfColV",f:ebe},10:{n:"PtgElfRadical",f:tbe},11:{n:"PtgElfRadicalS",f:nbe},13:{n:"PtgElfColS",f:Zve},15:{n:"PtgElfColSV",f:Jve},16:{n:"PtgElfRadicalLel",f:rbe},25:{n:"PtgList",f:lbe},29:{n:"PtgSxName",f:obe},255:{}},gbe={0:{n:"PtgAttrNoop",f:hbe},1:{n:"PtgAttrSemi",f:jve},2:{n:"PtgAttrIf",f:bve},4:{n:"PtgAttrChoose",f:yve},8:{n:"PtgAttrGoto",f:vve},16:{n:"PtgAttrSum",f:Ove},32:{n:"PtgAttrBaxcel",f:fP},33:{n:"PtgAttrBaxcel",f:fP},64:{n:"PtgAttrSpace",f:Nve},65:{n:"PtgAttrSpaceSemi",f:Sve},128:{n:"PtgAttrIfError",f:wve},255:{}};function xbe(e,t,r,n){if(n.biff<8)return Li(e,t);for(var a=e.l+t,i=[],l=0;l!==r.length;++l)switch(r[l][0]){case"PtgArray":r[l][1]=$ve(e,0,n),i.push(r[l][1]);break;case"PtgMemArea":r[l][2]=Bve(e,r[l][1],n),i.push(r[l][2]);break;case"PtgExp":n&&n.biff==12&&(r[l][1][1]=e.read_shift(4),i.push(r[l][1]));break;case"PtgList":case"PtgElfRadicalS":case"PtgElfColS":case"PtgElfColSV":throw"Unsupported "+r[l][0]}return t=a-e.l,t!==0&&i.push(Li(e,t)),i}function ybe(e,t,r){for(var n=e.l+t,a,i,l=[];n!=e.l;)t=n-e.l,i=e[e.l],a=hP[i]||hP[mbe[i]],(i===24||i===25)&&(a=(i===24?pbe:gbe)[e[e.l+1]]),!a||!a.f?Li(e,t):l.push([a.n,a.f(e,t,r)]);return l}function vbe(e){for(var t=[],r=0;r<e.length;++r){for(var n=e[r],a=[],i=0;i<n.length;++i){var l=n[i];if(l)switch(l[0]){case 2:a.push('"'+l[1].replace(/"/g,'""')+'"');break;default:a.push(l[1])}else a.push("")}t.push(a.join(","))}return t.join(";")}var bbe={PtgAdd:"+",PtgConcat:"&",PtgDiv:"/",PtgEq:"=",PtgGe:">=",PtgGt:">",PtgLe:"<=",PtgLt:"<",PtgMul:"*",PtgNe:"<>",PtgPower:"^",PtgSub:"-"};function wbe(e,t){if(!e&&!(t&&t.biff<=5&&t.biff>=2))throw new Error("empty sheet name");return/[^\w\u4E00-\u9FFF\u3040-\u30FF]/.test(e)?"'"+e+"'":e}function VB(e,t,r){if(!e)return"SH33TJSERR0";if(r.biff>8&&(!e.XTI||!e.XTI[t]))return e.SheetNames[t];if(!e.XTI)return"SH33TJSERR6";var n=e.XTI[t];if(r.biff<8)return t>1e4&&(t-=65536),t<0&&(t=-t),t==0?"":e.XTI[t-1];if(!n)return"SH33TJSERR1";var a="";if(r.biff>8)switch(e[n[0]][0]){case 357:return a=n[1]==-1?"#REF":e.SheetNames[n[1]],n[1]==n[2]?a:a+":"+e.SheetNames[n[2]];case 358:return r.SID!=null?e.SheetNames[r.SID]:"SH33TJSSAME"+e[n[0]][0];case 355:default:return"SH33TJSSRC"+e[n[0]][0]}switch(e[n[0]][0][0]){case 1025:return a=n[1]==-1?"#REF":e.SheetNames[n[1]]||"SH33TJSERR3",n[1]==n[2]?a:a+":"+e.SheetNames[n[2]];case 14849:return e[n[0]].slice(1).map(function(i){return i.Name}).join(";;");default:return e[n[0]][0][3]?(a=n[1]==-1?"#REF":e[n[0]][0][3][n[1]]||"SH33TJSERR4",n[1]==n[2]?a:a+":"+e[n[0]][0][3][n[2]]):"SH33TJSERR2"}}function mP(e,t,r){var n=VB(e,t,r);return n=="#REF"?n:wbe(n,r)}function Fd(e,t,r,n,a){var i=a&&a.biff||8,l={s:{c:0,r:0}},c=[],d,f,h,p=0,g=0,y,b="";if(!e[0]||!e[0][0])return"";for(var w=-1,j="",S=0,_=e[0].length;S<_;++S){var E=e[0][S];switch(E[0]){case"PtgUminus":c.push("-"+c.pop());break;case"PtgUplus":c.push("+"+c.pop());break;case"PtgPercent":c.push(c.pop()+"%");break;case"PtgAdd":case"PtgConcat":case"PtgDiv":case"PtgEq":case"PtgGe":case"PtgGt":case"PtgLe":case"PtgLt":case"PtgMul":case"PtgNe":case"PtgPower":case"PtgSub":if(d=c.pop(),f=c.pop(),w>=0){switch(e[0][w][1][0]){case 0:j=Hr(" ",e[0][w][1][1]);break;case 1:j=Hr("\r",e[0][w][1][1]);break;default:if(j="",a.WTF)throw new Error("Unexpected PtgAttrSpaceType "+e[0][w][1][0])}f=f+j,w=-1}c.push(f+bbe[E[0]]+d);break;case"PtgIsect":d=c.pop(),f=c.pop(),c.push(f+" "+d);break;case"PtgUnion":d=c.pop(),f=c.pop(),c.push(f+","+d);break;case"PtgRange":d=c.pop(),f=c.pop(),c.push(f+":"+d);break;case"PtgAttrChoose":break;case"PtgAttrGoto":break;case"PtgAttrIf":break;case"PtgAttrIfError":break;case"PtgRef":h=Z0(E[1][1],l,a),c.push(J0(h,i));break;case"PtgRefN":h=r?Z0(E[1][1],r,a):E[1][1],c.push(J0(h,i));break;case"PtgRef3d":p=E[1][1],h=Z0(E[1][2],l,a),b=mP(n,p,a),c.push(b+"!"+J0(h,i));break;case"PtgFunc":case"PtgFuncVar":var T=E[1][0],A=E[1][1];T||(T=0),T&=127;var C=T==0?[]:c.slice(-T);c.length-=T,A==="User"&&(A=C.shift()),c.push(A+"("+C.join(",")+")");break;case"PtgBool":c.push(E[1]?"TRUE":"FALSE");break;case"PtgInt":c.push(E[1]);break;case"PtgNum":c.push(String(E[1]));break;case"PtgStr":c.push('"'+E[1].replace(/"/g,'""')+'"');break;case"PtgErr":c.push(E[1]);break;case"PtgAreaN":y=Z5(E[1][1],r?{s:r}:l,a),c.push(u2(y,a));break;case"PtgArea":y=Z5(E[1][1],l,a),c.push(u2(y,a));break;case"PtgArea3d":p=E[1][1],y=E[1][2],b=mP(n,p,a),c.push(b+"!"+u2(y,a));break;case"PtgAttrSum":c.push("SUM("+c.pop()+")");break;case"PtgAttrBaxcel":case"PtgAttrSemi":break;case"PtgName":g=E[1][2];var O=(n.names||[])[g-1]||(n[0]||[])[g],P=O?O.Name:"SH33TJSNAME"+String(g);P&&P.slice(0,6)=="_xlfn."&&!a.xlfn&&(P=P.slice(6)),c.push(P);break;case"PtgNameX":var F=E[1][1];g=E[1][2];var G;if(a.biff<=5)F<0&&(F=-F),n[F]&&(G=n[F][g]);else{var W="";if(((n[F]||[])[0]||[])[0]==14849||(((n[F]||[])[0]||[])[0]==1025?n[F][g]&&n[F][g].itab>0&&(W=n.SheetNames[n[F][g].itab-1]+"!"):W=n.SheetNames[g-1]+"!"),n[F]&&n[F][g])W+=n[F][g].Name;else if(n[0]&&n[0][g])W+=n[0][g].Name;else{var ee=(VB(n,F,a)||"").split(";;");ee[g-1]?W=ee[g-1]:W+="SH33TJSERRX"}c.push(W);break}G||(G={Name:"SH33TJSERRY"}),c.push(G.Name);break;case"PtgParen":var ue="(",fe=")";if(w>=0){switch(j="",e[0][w][1][0]){case 2:ue=Hr(" ",e[0][w][1][1])+ue;break;case 3:ue=Hr("\r",e[0][w][1][1])+ue;break;case 4:fe=Hr(" ",e[0][w][1][1])+fe;break;case 5:fe=Hr("\r",e[0][w][1][1])+fe;break;default:if(a.WTF)throw new Error("Unexpected PtgAttrSpaceType "+e[0][w][1][0])}w=-1}c.push(ue+c.pop()+fe);break;case"PtgRefErr":c.push("#REF!");break;case"PtgRefErr3d":c.push("#REF!");break;case"PtgExp":h={c:E[1][1],r:E[1][0]};var Q={c:r.c,r:r.r};if(n.sharedf[nr(h)]){var K=n.sharedf[nr(h)];c.push(Fd(K,l,Q,n,a))}else{var J=!1;for(d=0;d!=n.arrayf.length;++d)if(f=n.arrayf[d],!(h.c<f[0].s.c||h.c>f[0].e.c)&&!(h.r<f[0].s.r||h.r>f[0].e.r)){c.push(Fd(f[1],l,Q,n,a)),J=!0;break}J||c.push(E[1])}break;case"PtgArray":c.push("{"+vbe(E[1])+"}");break;case"PtgMemArea":break;case"PtgAttrSpace":case"PtgAttrSpaceSemi":w=S;break;case"PtgTbl":break;case"PtgMemErr":break;case"PtgMissArg":c.push("");break;case"PtgAreaErr":c.push("#REF!");break;case"PtgAreaErr3d":c.push("#REF!");break;case"PtgList":c.push("Table"+E[1].idx+"[#"+E[1].rt+"]");break;case"PtgMemAreaN":case"PtgMemNoMemN":case"PtgAttrNoop":case"PtgSheet":case"PtgEndSheet":break;case"PtgMemFunc":break;case"PtgMemNoMem":break;case"PtgElfCol":case"PtgElfColS":case"PtgElfColSV":case"PtgElfColV":case"PtgElfLel":case"PtgElfRadical":case"PtgElfRadicalLel":case"PtgElfRadicalS":case"PtgElfRw":case"PtgElfRwV":throw new Error("Unsupported ELFs");case"PtgSxName":throw new Error("Unrecognized Formula Token: "+String(E));default:throw new Error("Unrecognized Formula Token: "+String(E))}var se=["PtgAttrSpace","PtgAttrSpaceSemi","PtgAttrGoto"];if(a.biff!=3&&w>=0&&se.indexOf(e[0][S][0])==-1){E=e[0][w];var xe=!0;switch(E[1][0]){case 4:xe=!1;case 0:j=Hr(" ",E[1][1]);break;case 5:xe=!1;case 1:j=Hr("\r",E[1][1]);break;default:if(j="",a.WTF)throw new Error("Unexpected PtgAttrSpaceType "+E[1][0])}c.push((xe?j:"")+c.pop()+(xe?"":j)),w=-1}}if(c.length>1&&a.WTF)throw new Error("bad formula stack");return c[0]}function jbe(e){if(e==null){var t=Te(8);return t.write_shift(1,3),t.write_shift(1,0),t.write_shift(2,0),t.write_shift(2,0),t.write_shift(2,65535),t}else if(typeof e=="number")return au(e);return au(0)}function Nbe(e,t,r,n,a){var i=su(t,r,a),l=jbe(e.v),c=Te(6),d=33;c.write_shift(2,d),c.write_shift(4,0);for(var f=Te(e.bf.length),h=0;h<e.bf.length;++h)f[h]=e.bf[h];var p=Vn([i,l,c,f]);return p}function Iy(e,t,r){var n=e.read_shift(4),a=ybe(e,n,r),i=e.read_shift(4),l=i>0?xbe(e,i,a,r):null;return[a,l]}var Sbe=Iy,Fy=Iy,kbe=Iy,_be=Iy,Ebe={0:"BEEP",1:"OPEN",2:"OPEN.LINKS",3:"CLOSE.ALL",4:"SAVE",5:"SAVE.AS",6:"FILE.DELETE",7:"PAGE.SETUP",8:"PRINT",9:"PRINTER.SETUP",10:"QUIT",11:"NEW.WINDOW",12:"ARRANGE.ALL",13:"WINDOW.SIZE",14:"WINDOW.MOVE",15:"FULL",16:"CLOSE",17:"RUN",22:"SET.PRINT.AREA",23:"SET.PRINT.TITLES",24:"SET.PAGE.BREAK",25:"REMOVE.PAGE.BREAK",26:"FONT",27:"DISPLAY",28:"PROTECT.DOCUMENT",29:"PRECISION",30:"A1.R1C1",31:"CALCULATE.NOW",32:"CALCULATION",34:"DATA.FIND",35:"EXTRACT",36:"DATA.DELETE",37:"SET.DATABASE",38:"SET.CRITERIA",39:"SORT",40:"DATA.SERIES",41:"TABLE",42:"FORMAT.NUMBER",43:"ALIGNMENT",44:"STYLE",45:"BORDER",46:"CELL.PROTECTION",47:"COLUMN.WIDTH",48:"UNDO",49:"CUT",50:"COPY",51:"PASTE",52:"CLEAR",53:"PASTE.SPECIAL",54:"EDIT.DELETE",55:"INSERT",56:"FILL.RIGHT",57:"FILL.DOWN",61:"DEFINE.NAME",62:"CREATE.NAMES",63:"FORMULA.GOTO",64:"FORMULA.FIND",65:"SELECT.LAST.CELL",66:"SHOW.ACTIVE.CELL",67:"GALLERY.AREA",68:"GALLERY.BAR",69:"GALLERY.COLUMN",70:"GALLERY.LINE",71:"GALLERY.PIE",72:"GALLERY.SCATTER",73:"COMBINATION",74:"PREFERRED",75:"ADD.OVERLAY",76:"GRIDLINES",77:"SET.PREFERRED",78:"AXES",79:"LEGEND",80:"ATTACH.TEXT",81:"ADD.ARROW",82:"SELECT.CHART",83:"SELECT.PLOT.AREA",84:"PATTERNS",85:"MAIN.CHART",86:"OVERLAY",87:"SCALE",88:"FORMAT.LEGEND",89:"FORMAT.TEXT",90:"EDIT.REPEAT",91:"PARSE",92:"JUSTIFY",93:"HIDE",94:"UNHIDE",95:"WORKSPACE",96:"FORMULA",97:"FORMULA.FILL",98:"FORMULA.ARRAY",99:"DATA.FIND.NEXT",100:"DATA.FIND.PREV",101:"FORMULA.FIND.NEXT",102:"FORMULA.FIND.PREV",103:"ACTIVATE",104:"ACTIVATE.NEXT",105:"ACTIVATE.PREV",106:"UNLOCKED.NEXT",107:"UNLOCKED.PREV",108:"COPY.PICTURE",109:"SELECT",110:"DELETE.NAME",111:"DELETE.FORMAT",112:"VLINE",113:"HLINE",114:"VPAGE",115:"HPAGE",116:"VSCROLL",117:"HSCROLL",118:"ALERT",119:"NEW",120:"CANCEL.COPY",121:"SHOW.CLIPBOARD",122:"MESSAGE",124:"PASTE.LINK",125:"APP.ACTIVATE",126:"DELETE.ARROW",127:"ROW.HEIGHT",128:"FORMAT.MOVE",129:"FORMAT.SIZE",130:"FORMULA.REPLACE",131:"SEND.KEYS",132:"SELECT.SPECIAL",133:"APPLY.NAMES",134:"REPLACE.FONT",135:"FREEZE.PANES",136:"SHOW.INFO",137:"SPLIT",138:"ON.WINDOW",139:"ON.DATA",140:"DISABLE.INPUT",142:"OUTLINE",143:"LIST.NAMES",144:"FILE.CLOSE",145:"SAVE.WORKBOOK",146:"DATA.FORM",147:"COPY.CHART",148:"ON.TIME",149:"WAIT",150:"FORMAT.FONT",151:"FILL.UP",152:"FILL.LEFT",153:"DELETE.OVERLAY",155:"SHORT.MENUS",159:"SET.UPDATE.STATUS",161:"COLOR.PALETTE",162:"DELETE.STYLE",163:"WINDOW.RESTORE",164:"WINDOW.MAXIMIZE",166:"CHANGE.LINK",167:"CALCULATE.DOCUMENT",168:"ON.KEY",169:"APP.RESTORE",170:"APP.MOVE",171:"APP.SIZE",172:"APP.MINIMIZE",173:"APP.MAXIMIZE",174:"BRING.TO.FRONT",175:"SEND.TO.BACK",185:"MAIN.CHART.TYPE",186:"OVERLAY.CHART.TYPE",187:"SELECT.END",188:"OPEN.MAIL",189:"SEND.MAIL",190:"STANDARD.FONT",191:"CONSOLIDATE",192:"SORT.SPECIAL",193:"GALLERY.3D.AREA",194:"GALLERY.3D.COLUMN",195:"GALLERY.3D.LINE",196:"GALLERY.3D.PIE",197:"VIEW.3D",198:"GOAL.SEEK",199:"WORKGROUP",200:"FILL.GROUP",201:"UPDATE.LINK",202:"PROMOTE",203:"DEMOTE",204:"SHOW.DETAIL",206:"UNGROUP",207:"OBJECT.PROPERTIES",208:"SAVE.NEW.OBJECT",209:"SHARE",210:"SHARE.NAME",211:"DUPLICATE",212:"APPLY.STYLE",213:"ASSIGN.TO.OBJECT",214:"OBJECT.PROTECTION",215:"HIDE.OBJECT",216:"SET.EXTRACT",217:"CREATE.PUBLISHER",218:"SUBSCRIBE.TO",219:"ATTRIBUTES",220:"SHOW.TOOLBAR",222:"PRINT.PREVIEW",223:"EDIT.COLOR",224:"SHOW.LEVELS",225:"FORMAT.MAIN",226:"FORMAT.OVERLAY",227:"ON.RECALC",228:"EDIT.SERIES",229:"DEFINE.STYLE",240:"LINE.PRINT",243:"ENTER.DATA",249:"GALLERY.RADAR",250:"MERGE.STYLES",251:"EDITION.OPTIONS",252:"PASTE.PICTURE",253:"PASTE.PICTURE.LINK",254:"SPELLING",256:"ZOOM",259:"INSERT.OBJECT",260:"WINDOW.MINIMIZE",265:"SOUND.NOTE",266:"SOUND.PLAY",267:"FORMAT.SHAPE",268:"EXTEND.POLYGON",269:"FORMAT.AUTO",272:"GALLERY.3D.BAR",273:"GALLERY.3D.SURFACE",274:"FILL.AUTO",276:"CUSTOMIZE.TOOLBAR",277:"ADD.TOOL",278:"EDIT.OBJECT",279:"ON.DOUBLECLICK",280:"ON.ENTRY",281:"WORKBOOK.ADD",282:"WORKBOOK.MOVE",283:"WORKBOOK.COPY",284:"WORKBOOK.OPTIONS",285:"SAVE.WORKSPACE",288:"CHART.WIZARD",289:"DELETE.TOOL",290:"MOVE.TOOL",291:"WORKBOOK.SELECT",292:"WORKBOOK.ACTIVATE",293:"ASSIGN.TO.TOOL",295:"COPY.TOOL",296:"RESET.TOOL",297:"CONSTRAIN.NUMERIC",298:"PASTE.TOOL",302:"WORKBOOK.NEW",305:"SCENARIO.CELLS",306:"SCENARIO.DELETE",307:"SCENARIO.ADD",308:"SCENARIO.EDIT",309:"SCENARIO.SHOW",310:"SCENARIO.SHOW.NEXT",311:"SCENARIO.SUMMARY",312:"PIVOT.TABLE.WIZARD",313:"PIVOT.FIELD.PROPERTIES",314:"PIVOT.FIELD",315:"PIVOT.ITEM",316:"PIVOT.ADD.FIELDS",318:"OPTIONS.CALCULATION",319:"OPTIONS.EDIT",320:"OPTIONS.VIEW",321:"ADDIN.MANAGER",322:"MENU.EDITOR",323:"ATTACH.TOOLBARS",324:"VBAActivate",325:"OPTIONS.CHART",328:"VBA.INSERT.FILE",330:"VBA.PROCEDURE.DEFINITION",336:"ROUTING.SLIP",338:"ROUTE.DOCUMENT",339:"MAIL.LOGON",342:"INSERT.PICTURE",343:"EDIT.TOOL",344:"GALLERY.DOUGHNUT",350:"CHART.TREND",352:"PIVOT.ITEM.PROPERTIES",354:"WORKBOOK.INSERT",355:"OPTIONS.TRANSITION",356:"OPTIONS.GENERAL",370:"FILTER.ADVANCED",373:"MAIL.ADD.MAILER",374:"MAIL.DELETE.MAILER",375:"MAIL.REPLY",376:"MAIL.REPLY.ALL",377:"MAIL.FORWARD",378:"MAIL.NEXT.LETTER",379:"DATA.LABEL",380:"INSERT.TITLE",381:"FONT.PROPERTIES",382:"MACRO.OPTIONS",383:"WORKBOOK.HIDE",384:"WORKBOOK.UNHIDE",385:"WORKBOOK.DELETE",386:"WORKBOOK.NAME",388:"GALLERY.CUSTOM",390:"ADD.CHART.AUTOFORMAT",391:"DELETE.CHART.AUTOFORMAT",392:"CHART.ADD.DATA",393:"AUTO.OUTLINE",394:"TAB.ORDER",395:"SHOW.DIALOG",396:"SELECT.ALL",397:"UNGROUP.SHEETS",398:"SUBTOTAL.CREATE",399:"SUBTOTAL.REMOVE",400:"RENAME.OBJECT",412:"WORKBOOK.SCROLL",413:"WORKBOOK.NEXT",414:"WORKBOOK.PREV",415:"WORKBOOK.TAB.SPLIT",416:"FULL.SCREEN",417:"WORKBOOK.PROTECT",420:"SCROLLBAR.PROPERTIES",421:"PIVOT.SHOW.PAGES",422:"TEXT.TO.COLUMNS",423:"FORMAT.CHARTTYPE",424:"LINK.FORMAT",425:"TRACER.DISPLAY",430:"TRACER.NAVIGATE",431:"TRACER.CLEAR",432:"TRACER.ERROR",433:"PIVOT.FIELD.GROUP",434:"PIVOT.FIELD.UNGROUP",435:"CHECKBOX.PROPERTIES",436:"LABEL.PROPERTIES",437:"LISTBOX.PROPERTIES",438:"EDITBOX.PROPERTIES",439:"PIVOT.REFRESH",440:"LINK.COMBO",441:"OPEN.TEXT",442:"HIDE.DIALOG",443:"SET.DIALOG.FOCUS",444:"ENABLE.OBJECT",445:"PUSHBUTTON.PROPERTIES",446:"SET.DIALOG.DEFAULT",447:"FILTER",448:"FILTER.SHOW.ALL",449:"CLEAR.OUTLINE",450:"FUNCTION.WIZARD",451:"ADD.LIST.ITEM",452:"SET.LIST.ITEM",453:"REMOVE.LIST.ITEM",454:"SELECT.LIST.ITEM",455:"SET.CONTROL.VALUE",456:"SAVE.COPY.AS",458:"OPTIONS.LISTS.ADD",459:"OPTIONS.LISTS.DELETE",460:"SERIES.AXES",461:"SERIES.X",462:"SERIES.Y",463:"ERRORBAR.X",464:"ERRORBAR.Y",465:"FORMAT.CHART",466:"SERIES.ORDER",467:"MAIL.LOGOFF",468:"CLEAR.ROUTING.SLIP",469:"APP.ACTIVATE.MICROSOFT",470:"MAIL.EDIT.MAILER",471:"ON.SHEET",472:"STANDARD.WIDTH",473:"SCENARIO.MERGE",474:"SUMMARY.INFO",475:"FIND.FILE",476:"ACTIVE.CELL.FONT",477:"ENABLE.TIPWIZARD",478:"VBA.MAKE.ADDIN",480:"INSERTDATATABLE",481:"WORKGROUP.OPTIONS",482:"MAIL.SEND.MAILER",485:"AUTOCORRECT",489:"POST.DOCUMENT",491:"PICKLIST",493:"VIEW.SHOW",494:"VIEW.DEFINE",495:"VIEW.DELETE",509:"SHEET.BACKGROUND",510:"INSERT.MAP.OBJECT",511:"OPTIONS.MENONO",517:"MSOCHECKS",518:"NORMAL",519:"LAYOUT",520:"RM.PRINT.AREA",521:"CLEAR.PRINT.AREA",522:"ADD.PRINT.AREA",523:"MOVE.BRK",545:"HIDECURR.NOTE",546:"HIDEALL.NOTES",547:"DELETE.NOTE",548:"TRAVERSE.NOTES",549:"ACTIVATE.NOTES",620:"PROTECT.REVISIONS",621:"UNPROTECT.REVISIONS",647:"OPTIONS.ME",653:"WEB.PUBLISH",667:"NEWWEBQUERY",673:"PIVOT.TABLE.CHART",753:"OPTIONS.SAVE",755:"OPTIONS.SPELL",808:"HIDEALL.INKANNOTS"},qB={0:"COUNT",1:"IF",2:"ISNA",3:"ISERROR",4:"SUM",5:"AVERAGE",6:"MIN",7:"MAX",8:"ROW",9:"COLUMN",10:"NA",11:"NPV",12:"STDEV",13:"DOLLAR",14:"FIXED",15:"SIN",16:"COS",17:"TAN",18:"ATAN",19:"PI",20:"SQRT",21:"EXP",22:"LN",23:"LOG10",24:"ABS",25:"INT",26:"SIGN",27:"ROUND",28:"LOOKUP",29:"INDEX",30:"REPT",31:"MID",32:"LEN",33:"VALUE",34:"TRUE",35:"FALSE",36:"AND",37:"OR",38:"NOT",39:"MOD",40:"DCOUNT",41:"DSUM",42:"DAVERAGE",43:"DMIN",44:"DMAX",45:"DSTDEV",46:"VAR",47:"DVAR",48:"TEXT",49:"LINEST",50:"TREND",51:"LOGEST",52:"GROWTH",53:"GOTO",54:"HALT",55:"RETURN",56:"PV",57:"FV",58:"NPER",59:"PMT",60:"RATE",61:"MIRR",62:"IRR",63:"RAND",64:"MATCH",65:"DATE",66:"TIME",67:"DAY",68:"MONTH",69:"YEAR",70:"WEEKDAY",71:"HOUR",72:"MINUTE",73:"SECOND",74:"NOW",75:"AREAS",76:"ROWS",77:"COLUMNS",78:"OFFSET",79:"ABSREF",80:"RELREF",81:"ARGUMENT",82:"SEARCH",83:"TRANSPOSE",84:"ERROR",85:"STEP",86:"TYPE",87:"ECHO",88:"SET.NAME",89:"CALLER",90:"DEREF",91:"WINDOWS",92:"SERIES",93:"DOCUMENTS",94:"ACTIVE.CELL",95:"SELECTION",96:"RESULT",97:"ATAN2",98:"ASIN",99:"ACOS",100:"CHOOSE",101:"HLOOKUP",102:"VLOOKUP",103:"LINKS",104:"INPUT",105:"ISREF",106:"GET.FORMULA",107:"GET.NAME",108:"SET.VALUE",109:"LOG",110:"EXEC",111:"CHAR",112:"LOWER",113:"UPPER",114:"PROPER",115:"LEFT",116:"RIGHT",117:"EXACT",118:"TRIM",119:"REPLACE",120:"SUBSTITUTE",121:"CODE",122:"NAMES",123:"DIRECTORY",124:"FIND",125:"CELL",126:"ISERR",127:"ISTEXT",128:"ISNUMBER",129:"ISBLANK",130:"T",131:"N",132:"FOPEN",133:"FCLOSE",134:"FSIZE",135:"FREADLN",136:"FREAD",137:"FWRITELN",138:"FWRITE",139:"FPOS",140:"DATEVALUE",141:"TIMEVALUE",142:"SLN",143:"SYD",144:"DDB",145:"GET.DEF",146:"REFTEXT",147:"TEXTREF",148:"INDIRECT",149:"REGISTER",150:"CALL",151:"ADD.BAR",152:"ADD.MENU",153:"ADD.COMMAND",154:"ENABLE.COMMAND",155:"CHECK.COMMAND",156:"RENAME.COMMAND",157:"SHOW.BAR",158:"DELETE.MENU",159:"DELETE.COMMAND",160:"GET.CHART.ITEM",161:"DIALOG.BOX",162:"CLEAN",163:"MDETERM",164:"MINVERSE",165:"MMULT",166:"FILES",167:"IPMT",168:"PPMT",169:"COUNTA",170:"CANCEL.KEY",171:"FOR",172:"WHILE",173:"BREAK",174:"NEXT",175:"INITIATE",176:"REQUEST",177:"POKE",178:"EXECUTE",179:"TERMINATE",180:"RESTART",181:"HELP",182:"GET.BAR",183:"PRODUCT",184:"FACT",185:"GET.CELL",186:"GET.WORKSPACE",187:"GET.WINDOW",188:"GET.DOCUMENT",189:"DPRODUCT",190:"ISNONTEXT",191:"GET.NOTE",192:"NOTE",193:"STDEVP",194:"VARP",195:"DSTDEVP",196:"DVARP",197:"TRUNC",198:"ISLOGICAL",199:"DCOUNTA",200:"DELETE.BAR",201:"UNREGISTER",204:"USDOLLAR",205:"FINDB",206:"SEARCHB",207:"REPLACEB",208:"LEFTB",209:"RIGHTB",210:"MIDB",211:"LENB",212:"ROUNDUP",213:"ROUNDDOWN",214:"ASC",215:"DBCS",216:"RANK",219:"ADDRESS",220:"DAYS360",221:"TODAY",222:"VDB",223:"ELSE",224:"ELSE.IF",225:"END.IF",226:"FOR.CELL",227:"MEDIAN",228:"SUMPRODUCT",229:"SINH",230:"COSH",231:"TANH",232:"ASINH",233:"ACOSH",234:"ATANH",235:"DGET",236:"CREATE.OBJECT",237:"VOLATILE",238:"LAST.ERROR",239:"CUSTOM.UNDO",240:"CUSTOM.REPEAT",241:"FORMULA.CONVERT",242:"GET.LINK.INFO",243:"TEXT.BOX",244:"INFO",245:"GROUP",246:"GET.OBJECT",247:"DB",248:"PAUSE",251:"RESUME",252:"FREQUENCY",253:"ADD.TOOLBAR",254:"DELETE.TOOLBAR",255:"User",256:"RESET.TOOLBAR",257:"EVALUATE",258:"GET.TOOLBAR",259:"GET.TOOL",260:"SPELLING.CHECK",261:"ERROR.TYPE",262:"APP.TITLE",263:"WINDOW.TITLE",264:"SAVE.TOOLBAR",265:"ENABLE.TOOL",266:"PRESS.TOOL",267:"REGISTER.ID",268:"GET.WORKBOOK",269:"AVEDEV",270:"BETADIST",271:"GAMMALN",272:"BETAINV",273:"BINOMDIST",274:"CHIDIST",275:"CHIINV",276:"COMBIN",277:"CONFIDENCE",278:"CRITBINOM",279:"EVEN",280:"EXPONDIST",281:"FDIST",282:"FINV",283:"FISHER",284:"FISHERINV",285:"FLOOR",286:"GAMMADIST",287:"GAMMAINV",288:"CEILING",289:"HYPGEOMDIST",290:"LOGNORMDIST",291:"LOGINV",292:"NEGBINOMDIST",293:"NORMDIST",294:"NORMSDIST",295:"NORMINV",296:"NORMSINV",297:"STANDARDIZE",298:"ODD",299:"PERMUT",300:"POISSON",301:"TDIST",302:"WEIBULL",303:"SUMXMY2",304:"SUMX2MY2",305:"SUMX2PY2",306:"CHITEST",307:"CORREL",308:"COVAR",309:"FORECAST",310:"FTEST",311:"INTERCEPT",312:"PEARSON",313:"RSQ",314:"STEYX",315:"SLOPE",316:"TTEST",317:"PROB",318:"DEVSQ",319:"GEOMEAN",320:"HARMEAN",321:"SUMSQ",322:"KURT",323:"SKEW",324:"ZTEST",325:"LARGE",326:"SMALL",327:"QUARTILE",328:"PERCENTILE",329:"PERCENTRANK",330:"MODE",331:"TRIMMEAN",332:"TINV",334:"MOVIE.COMMAND",335:"GET.MOVIE",336:"CONCATENATE",337:"POWER",338:"PIVOT.ADD.DATA",339:"GET.PIVOT.TABLE",340:"GET.PIVOT.FIELD",341:"GET.PIVOT.ITEM",342:"RADIANS",343:"DEGREES",344:"SUBTOTAL",345:"SUMIF",346:"COUNTIF",347:"COUNTBLANK",348:"SCENARIO.GET",349:"OPTIONS.LISTS.GET",350:"ISPMT",351:"DATEDIF",352:"DATESTRING",353:"NUMBERSTRING",354:"ROMAN",355:"OPEN.DIALOG",356:"SAVE.DIALOG",357:"VIEW.GET",358:"GETPIVOTDATA",359:"HYPERLINK",360:"PHONETIC",361:"AVERAGEA",362:"MAXA",363:"MINA",364:"STDEVPA",365:"VARPA",366:"STDEVA",367:"VARA",368:"BAHTTEXT",369:"THAIDAYOFWEEK",370:"THAIDIGIT",371:"THAIMONTHOFYEAR",372:"THAINUMSOUND",373:"THAINUMSTRING",374:"THAISTRINGLENGTH",375:"ISTHAIDIGIT",376:"ROUNDBAHTDOWN",377:"ROUNDBAHTUP",378:"THAIYEAR",379:"RTD",380:"CUBEVALUE",381:"CUBEMEMBER",382:"CUBEMEMBERPROPERTY",383:"CUBERANKEDMEMBER",384:"HEX2BIN",385:"HEX2DEC",386:"HEX2OCT",387:"DEC2BIN",388:"DEC2HEX",389:"DEC2OCT",390:"OCT2BIN",391:"OCT2HEX",392:"OCT2DEC",393:"BIN2DEC",394:"BIN2OCT",395:"BIN2HEX",396:"IMSUB",397:"IMDIV",398:"IMPOWER",399:"IMABS",400:"IMSQRT",401:"IMLN",402:"IMLOG2",403:"IMLOG10",404:"IMSIN",405:"IMCOS",406:"IMEXP",407:"IMARGUMENT",408:"IMCONJUGATE",409:"IMAGINARY",410:"IMREAL",411:"COMPLEX",412:"IMSUM",413:"IMPRODUCT",414:"SERIESSUM",415:"FACTDOUBLE",416:"SQRTPI",417:"QUOTIENT",418:"DELTA",419:"GESTEP",420:"ISEVEN",421:"ISODD",422:"MROUND",423:"ERF",424:"ERFC",425:"BESSELJ",426:"BESSELK",427:"BESSELY",428:"BESSELI",429:"XIRR",430:"XNPV",431:"PRICEMAT",432:"YIELDMAT",433:"INTRATE",434:"RECEIVED",435:"DISC",436:"PRICEDISC",437:"YIELDDISC",438:"TBILLEQ",439:"TBILLPRICE",440:"TBILLYIELD",441:"PRICE",442:"YIELD",443:"DOLLARDE",444:"DOLLARFR",445:"NOMINAL",446:"EFFECT",447:"CUMPRINC",448:"CUMIPMT",449:"EDATE",450:"EOMONTH",451:"YEARFRAC",452:"COUPDAYBS",453:"COUPDAYS",454:"COUPDAYSNC",455:"COUPNCD",456:"COUPNUM",457:"COUPPCD",458:"DURATION",459:"MDURATION",460:"ODDLPRICE",461:"ODDLYIELD",462:"ODDFPRICE",463:"ODDFYIELD",464:"RANDBETWEEN",465:"WEEKNUM",466:"AMORDEGRC",467:"AMORLINC",468:"CONVERT",724:"SHEETJS",469:"ACCRINT",470:"ACCRINTM",471:"WORKDAY",472:"NETWORKDAYS",473:"GCD",474:"MULTINOMIAL",475:"LCM",476:"FVSCHEDULE",477:"CUBEKPIMEMBER",478:"CUBESET",479:"CUBESETCOUNT",480:"IFERROR",481:"COUNTIFS",482:"SUMIFS",483:"AVERAGEIF",484:"AVERAGEIFS"},Abe={2:1,3:1,10:0,15:1,16:1,17:1,18:1,19:0,20:1,21:1,22:1,23:1,24:1,25:1,26:1,27:2,30:2,31:3,32:1,33:1,34:0,35:0,38:1,39:2,40:3,41:3,42:3,43:3,44:3,45:3,47:3,48:2,53:1,61:3,63:0,65:3,66:3,67:1,68:1,69:1,70:1,71:1,72:1,73:1,74:0,75:1,76:1,77:1,79:2,80:2,83:1,85:0,86:1,89:0,90:1,94:0,95:0,97:2,98:1,99:1,101:3,102:3,105:1,106:1,108:2,111:1,112:1,113:1,114:1,117:2,118:1,119:4,121:1,126:1,127:1,128:1,129:1,130:1,131:1,133:1,134:1,135:1,136:2,137:2,138:2,140:1,141:1,142:3,143:4,144:4,161:1,162:1,163:1,164:1,165:2,172:1,175:2,176:2,177:3,178:2,179:1,184:1,186:1,189:3,190:1,195:3,196:3,197:1,198:1,199:3,201:1,207:4,210:3,211:1,212:2,213:2,214:1,215:1,225:0,229:1,230:1,231:1,232:1,233:1,234:1,235:3,244:1,247:4,252:2,257:1,261:1,271:1,273:4,274:2,275:2,276:2,277:3,278:3,279:1,280:3,281:3,282:3,283:1,284:1,285:2,286:4,287:3,288:2,289:4,290:3,291:3,292:3,293:4,294:1,295:3,296:1,297:3,298:1,299:2,300:3,301:3,302:4,303:2,304:2,305:2,306:2,307:2,308:2,309:3,310:2,311:2,312:2,313:2,314:2,315:2,316:4,325:2,326:2,327:2,328:2,331:2,332:2,337:2,342:1,343:1,346:2,347:1,350:4,351:3,352:1,353:2,360:1,368:1,369:1,370:1,371:1,372:1,373:1,374:1,375:1,376:1,377:1,378:1,382:3,385:1,392:1,393:1,396:2,397:2,398:2,399:1,400:1,401:1,402:1,403:1,404:1,405:1,406:1,407:1,408:1,409:1,410:1,414:4,415:1,416:1,417:2,420:1,421:1,422:2,424:1,425:2,426:2,427:2,428:2,430:3,438:3,439:3,440:3,443:2,444:2,445:2,446:2,447:6,448:6,449:2,450:2,464:2,468:3,476:2,479:1,480:2,65535:0};function Tbe(e){var t="of:="+e.replace($_,"$1[.$2$3$4$5]").replace(/\]:\[/g,":");return t.replace(/;/g,"|").replace(/,/g,";")}function Cbe(e){return e.replace(/\./,"!")}var eh=typeof Map<"u";function H_(e,t,r){var n=0,a=e.length;if(r){if(eh?r.has(t):Object.prototype.hasOwnProperty.call(r,t)){for(var i=eh?r.get(t):r[t];n<i.length;++n)if(e[i[n]].t===t)return e.Count++,i[n]}}else for(;n<a;++n)if(e[n].t===t)return e.Count++,n;return e[a]={t},e.Count++,e.Unique++,r&&(eh?(r.has(t)||r.set(t,[]),r.get(t).push(a)):(Object.prototype.hasOwnProperty.call(r,t)||(r[t]=[]),r[t].push(a))),a}function Ly(e,t){var r={min:e+1,max:e+1},n=-1;return t.MDW&&(gl=t.MDW),t.width!=null?r.customWidth=1:t.wpx!=null?n=_x(t.wpx):t.wch!=null&&(n=t.wch),n>-1?(r.width=pN(n),r.customWidth=1):t.width!=null&&(r.width=t.width),t.hidden&&(r.hidden=!0),t.level!=null&&(r.outlineLevel=r.level=t.level),r}function WB(e,t){if(e){var r=[.7,.7,.75,.75,.3,.3];e.left==null&&(e.left=r[0]),e.right==null&&(e.right=r[1]),e.top==null&&(e.top=r[2]),e.bottom==null&&(e.bottom=r[3]),e.header==null&&(e.header=r[4]),e.footer==null&&(e.footer=r[5])}}function Yo(e,t,r){var n=r.revssf[t.z!=null?t.z:"General"],a=60,i=e.length;if(n==null&&r.ssf){for(;a<392;++a)if(r.ssf[a]==null){U9(t.z,a),r.ssf[a]=t.z,r.revssf[t.z]=n=a;break}}for(a=0;a!=i;++a)if(e[a].numFmtId===n)return a;return e[i]={numFmtId:n,fontId:0,fillId:0,borderId:0,xfId:0,applyNumberFormat:1},i}function Obe(e,t,r){if(e&&e["!ref"]){var n=_r(e["!ref"]);if(n.e.c<n.s.c||n.e.r<n.s.r)throw new Error("Bad range ("+r+"): "+e["!ref"])}}function Dbe(e){if(e.length===0)return"";for(var t='<mergeCells count="'+e.length+'">',r=0;r!=e.length;++r)t+='<mergeCell ref="'+cn(e[r])+'"/>';return t+"</mergeCells>"}function Pbe(e,t,r,n,a){var i=!1,l={},c=null;if(n.bookType!=="xlsx"&&t.vbaraw){var d=t.SheetNames[r];try{t.Workbook&&(d=t.Workbook.Sheets[r].CodeName||d)}catch{}i=!0,l.codeName=Rh(rr(d))}if(e&&e["!outline"]){var f={summaryBelow:1,summaryRight:1};e["!outline"].above&&(f.summaryBelow=0),e["!outline"].left&&(f.summaryRight=0),c=(c||"")+He("outlinePr",null,f)}!i&&!c||(a[a.length]=He("sheetPr",c,l))}var Mbe=["objects","scenarios","selectLockedCells","selectUnlockedCells"],Rbe=["formatColumns","formatRows","formatCells","insertColumns","insertRows","insertHyperlinks","deleteColumns","deleteRows","sort","autoFilter","pivotTables"];function Ibe(e){var t={sheet:1};return Mbe.forEach(function(r){e[r]!=null&&e[r]&&(t[r]="1")}),Rbe.forEach(function(r){e[r]!=null&&!e[r]&&(t[r]="0")}),e.password&&(t.password=TB(e.password).toString(16).toUpperCase()),He("sheetProtection",null,t)}function Fbe(e){return WB(e),He("pageMargins",null,e)}function Lbe(e,t){for(var r=["<cols>"],n,a=0;a!=t.length;++a)(n=t[a])&&(r[r.length]=He("col",null,Ly(a,n)));return r[r.length]="</cols>",r.join("")}function Bbe(e,t,r,n){var a=typeof e.ref=="string"?e.ref:cn(e.ref);r.Workbook||(r.Workbook={Sheets:[]}),r.Workbook.Names||(r.Workbook.Names=[]);var i=r.Workbook.Names,l=ds(a);l.s.r==l.e.r&&(l.e.r=ds(t["!ref"]).e.r,a=cn(l));for(var c=0;c<i.length;++c){var d=i[c];if(d.Name=="_xlnm._FilterDatabase"&&d.Sheet==n){d.Ref="'"+r.SheetNames[n]+"'!"+a;break}}return c==i.length&&i.push({Name:"_xlnm._FilterDatabase",Sheet:n,Ref:"'"+r.SheetNames[n]+"'!"+a}),He("autoFilter",null,{ref:a})}function $be(e,t,r,n){var a={workbookViewId:"0"};return(((n||{}).Workbook||{}).Views||[])[0]&&(a.rightToLeft=n.Workbook.Views[0].RTL?"1":"0"),He("sheetViews",He("sheetView",null,a),{})}function Ube(e,t,r,n){if(e.c&&r["!comments"].push([t,e.c]),e.v===void 0&&typeof e.f!="string"||e.t==="z"&&!e.f)return"";var a="",i=e.t,l=e.v;if(e.t!=="z")switch(e.t){case"b":a=e.v?"1":"0";break;case"n":a=""+e.v;break;case"e":a=xm[e.v];break;case"d":n&&n.cellDates?a=ha(e.v,-1).toISOString():(e=Ra(e),e.t="n",a=""+(e.v=Ma(ha(e.v)))),typeof e.z>"u"&&(e.z=qr[14]);break;default:a=e.v;break}var c=qn("v",rr(a)),d={r:t},f=Yo(n.cellXfs,e,n);switch(f!==0&&(d.s=f),e.t){case"n":break;case"d":d.t="d";break;case"b":d.t="b";break;case"e":d.t="e";break;case"z":break;default:if(e.v==null){delete e.t;break}if(e.v.length>32767)throw new Error("Text length must not exceed 32767 characters");if(n&&n.bookSST){c=qn("v",""+H_(n.Strings,e.v,n.revStrings)),d.t="s";break}d.t="str";break}if(e.t!=i&&(e.t=i,e.v=l),typeof e.f=="string"&&e.f){var h=e.F&&e.F.slice(0,t.length)==t?{t:"array",ref:e.F}:null;c=He("f",rr(e.f),h)+(e.v!=null?c:"")}return e.l&&r["!links"].push([t,e.l]),e.D&&(d.cm=1),He("c",c,d)}function zbe(e,t,r,n){var a=[],i=[],l=_r(e["!ref"]),c="",d,f="",h=[],p=0,g=0,y=e["!rows"],b=Array.isArray(e),w={r:f},j,S=-1;for(g=l.s.c;g<=l.e.c;++g)h[g]=na(g);for(p=l.s.r;p<=l.e.r;++p){for(i=[],f=Gn(p),g=l.s.c;g<=l.e.c;++g){d=h[g]+f;var _=b?(e[p]||[])[g]:e[d];_!==void 0&&(c=Ube(_,d,e,t))!=null&&i.push(c)}(i.length>0||y&&y[p])&&(w={r:f},y&&y[p]&&(j=y[p],j.hidden&&(w.hidden=1),S=-1,j.hpx?S=Ex(j.hpx):j.hpt&&(S=j.hpt),S>-1&&(w.ht=S,w.customHeight=1),j.level&&(w.outlineLevel=j.level)),a[a.length]=He("row",i.join(""),w))}if(y)for(;p<y.length;++p)y&&y[p]&&(w={r:p+1},j=y[p],j.hidden&&(w.hidden=1),S=-1,j.hpx?S=Ex(j.hpx):j.hpt&&(S=j.hpt),S>-1&&(w.ht=S,w.customHeight=1),j.level&&(w.outlineLevel=j.level),a[a.length]=He("row","",w));return a.join("")}function GB(e,t,r,n){var a=[un,He("worksheet",null,{xmlns:lf[0],"xmlns:r":Sn.r})],i=r.SheetNames[e],l=0,c="",d=r.Sheets[i];d==null&&(d={});var f=d["!ref"]||"A1",h=_r(f);if(h.e.c>16383||h.e.r>1048575){if(t.WTF)throw new Error("Range "+f+" exceeds format limit A1:XFD1048576");h.e.c=Math.min(h.e.c,16383),h.e.r=Math.min(h.e.c,1048575),f=cn(h)}n||(n={}),d["!comments"]=[];var p=[];Pbe(d,r,e,t,a),a[a.length]=He("dimension",null,{ref:f}),a[a.length]=$be(d,t,e,r),t.sheetFormat&&(a[a.length]=He("sheetFormatPr",null,{defaultRowHeight:t.sheetFormat.defaultRowHeight||"16",baseColWidth:t.sheetFormat.baseColWidth||"10",outlineLevelRow:t.sheetFormat.outlineLevelRow||"7"})),d["!cols"]!=null&&d["!cols"].length>0&&(a[a.length]=Lbe(d,d["!cols"])),a[l=a.length]="<sheetData/>",d["!links"]=[],d["!ref"]!=null&&(c=zbe(d,t),c.length>0&&(a[a.length]=c)),a.length>l+1&&(a[a.length]="</sheetData>",a[l]=a[l].replace("/>",">")),d["!protect"]&&(a[a.length]=Ibe(d["!protect"])),d["!autofilter"]!=null&&(a[a.length]=Bbe(d["!autofilter"],d,r,e)),d["!merges"]!=null&&d["!merges"].length>0&&(a[a.length]=Dbe(d["!merges"]));var g=-1,y,b=-1;return d["!links"].length>0&&(a[a.length]="<hyperlinks>",d["!links"].forEach(function(w){w[1].Target&&(y={ref:w[0]},w[1].Target.charAt(0)!="#"&&(b=er(n,-1,rr(w[1].Target).replace(/#.*$/,""),It.HLINK),y["r:id"]="rId"+b),(g=w[1].Target.indexOf("#"))>-1&&(y.location=rr(w[1].Target.slice(g+1))),w[1].Tooltip&&(y.tooltip=rr(w[1].Tooltip)),a[a.length]=He("hyperlink",null,y))}),a[a.length]="</hyperlinks>"),delete d["!links"],d["!margins"]!=null&&(a[a.length]=Fbe(d["!margins"])),(!t||t.ignoreEC||t.ignoreEC==null)&&(a[a.length]=qn("ignoredErrors",He("ignoredError",null,{numberStoredAsText:1,sqref:f}))),p.length>0&&(b=er(n,-1,"../drawings/drawing"+(e+1)+".xml",It.DRAW),a[a.length]=He("drawing",null,{"r:id":"rId"+b}),d["!drawing"]=p),d["!comments"].length>0&&(b=er(n,-1,"../drawings/vmlDrawing"+(e+1)+".vml",It.VML),a[a.length]=He("legacyDrawing",null,{"r:id":"rId"+b}),d["!legacy"]=b),a.length>1&&(a[a.length]="</worksheet>",a[1]=a[1].replace("/>",">")),a.join("")}function Hbe(e,t){var r={},n=e.l+t;r.r=e.read_shift(4),e.l+=4;var a=e.read_shift(2);e.l+=1;var i=e.read_shift(1);return e.l=n,i&7&&(r.level=i&7),i&16&&(r.hidden=!0),i&32&&(r.hpt=a/20),r}function Vbe(e,t,r){var n=Te(145),a=(r["!rows"]||[])[e]||{};n.write_shift(4,e),n.write_shift(4,0);var i=320;a.hpx?i=Ex(a.hpx)*20:a.hpt&&(i=a.hpt*20),n.write_shift(2,i),n.write_shift(1,0);var l=0;a.level&&(l|=a.level),a.hidden&&(l|=16),(a.hpx||a.hpt)&&(l|=32),n.write_shift(1,l),n.write_shift(1,0);var c=0,d=n.l;n.l+=4;for(var f={r:e,c:0},h=0;h<16;++h)if(!(t.s.c>h+1<<10||t.e.c<h<<10)){for(var p=-1,g=-1,y=h<<10;y<h+1<<10;++y){f.c=y;var b=Array.isArray(r)?(r[f.r]||[])[f.c]:r[nr(f)];b&&(p<0&&(p=y),g=y)}p<0||(++c,n.write_shift(4,p),n.write_shift(4,g))}var w=n.l;return n.l=d,n.write_shift(4,c),n.l=w,n.length>n.l?n.slice(0,n.l):n}function qbe(e,t,r,n){var a=Vbe(n,r,t);(a.length>17||(t["!rows"]||[])[n])&&Ie(e,0,a)}var Wbe=yu,Gbe=cf;function Kbe(){}function Ybe(e,t){var r={},n=e[e.l];return++e.l,r.above=!(n&64),r.left=!(n&128),e.l+=18,r.name=sxe(e),r}function Xbe(e,t,r){r==null&&(r=Te(84+4*e.length));var n=192;t&&(t.above&&(n&=-65),t.left&&(n&=-129)),r.write_shift(1,n);for(var a=1;a<3;++a)r.write_shift(1,0);return Nx({auto:1},r),r.write_shift(-4,-1),r.write_shift(-4,-1),oB(e,r),r.slice(0,r.l)}function Qbe(e){var t=Gs(e);return[t]}function Zbe(e,t,r){return r==null&&(r=Te(8)),pu(t,r)}function Jbe(e){var t=gu(e);return[t]}function e1e(e,t,r){return r==null&&(r=Te(4)),xu(t,r)}function t1e(e){var t=Gs(e),r=e.read_shift(1);return[t,r,"b"]}function r1e(e,t,r){return r==null&&(r=Te(9)),pu(t,r),r.write_shift(1,e.v?1:0),r}function n1e(e){var t=gu(e),r=e.read_shift(1);return[t,r,"b"]}function a1e(e,t,r){return r==null&&(r=Te(5)),xu(t,r),r.write_shift(1,e.v?1:0),r}function s1e(e){var t=Gs(e),r=e.read_shift(1);return[t,r,"e"]}function i1e(e,t,r){return r==null&&(r=Te(9)),pu(t,r),r.write_shift(1,e.v),r}function l1e(e){var t=gu(e),r=e.read_shift(1);return[t,r,"e"]}function o1e(e,t,r){return r==null&&(r=Te(8)),xu(t,r),r.write_shift(1,e.v),r.write_shift(2,0),r.write_shift(1,0),r}function c1e(e){var t=Gs(e),r=e.read_shift(4);return[t,r,"s"]}function u1e(e,t,r){return r==null&&(r=Te(12)),pu(t,r),r.write_shift(4,t.v),r}function d1e(e){var t=gu(e),r=e.read_shift(4);return[t,r,"s"]}function f1e(e,t,r){return r==null&&(r=Te(8)),xu(t,r),r.write_shift(4,t.v),r}function h1e(e){var t=Gs(e),r=uf(e);return[t,r,"n"]}function m1e(e,t,r){return r==null&&(r=Te(16)),pu(t,r),au(e.v,r),r}function p1e(e){var t=gu(e),r=uf(e);return[t,r,"n"]}function g1e(e,t,r){return r==null&&(r=Te(12)),xu(t,r),au(e.v,r),r}function x1e(e){var t=Gs(e),r=cB(e);return[t,r,"n"]}function y1e(e,t,r){return r==null&&(r=Te(12)),pu(t,r),uB(e.v,r),r}function v1e(e){var t=gu(e),r=cB(e);return[t,r,"n"]}function b1e(e,t,r){return r==null&&(r=Te(8)),xu(t,r),uB(e.v,r),r}function w1e(e){var t=Gs(e),r=R_(e);return[t,r,"is"]}function j1e(e){var t=Gs(e),r=aa(e);return[t,r,"str"]}function N1e(e,t,r){return r==null&&(r=Te(12+4*e.v.length)),pu(t,r),En(e.v,r),r.length>r.l?r.slice(0,r.l):r}function S1e(e){var t=gu(e),r=aa(e);return[t,r,"str"]}function k1e(e,t,r){return r==null&&(r=Te(8+4*e.v.length)),xu(t,r),En(e.v,r),r.length>r.l?r.slice(0,r.l):r}function _1e(e,t,r){var n=e.l+t,a=Gs(e);a.r=r["!row"];var i=e.read_shift(1),l=[a,i,"b"];if(r.cellFormula){e.l+=2;var c=Fy(e,n-e.l,r);l[3]=Fd(c,null,a,r.supbooks,r)}else e.l=n;return l}function E1e(e,t,r){var n=e.l+t,a=Gs(e);a.r=r["!row"];var i=e.read_shift(1),l=[a,i,"e"];if(r.cellFormula){e.l+=2;var c=Fy(e,n-e.l,r);l[3]=Fd(c,null,a,r.supbooks,r)}else e.l=n;return l}function A1e(e,t,r){var n=e.l+t,a=Gs(e);a.r=r["!row"];var i=uf(e),l=[a,i,"n"];if(r.cellFormula){e.l+=2;var c=Fy(e,n-e.l,r);l[3]=Fd(c,null,a,r.supbooks,r)}else e.l=n;return l}function T1e(e,t,r){var n=e.l+t,a=Gs(e);a.r=r["!row"];var i=aa(e),l=[a,i,"str"];if(r.cellFormula){e.l+=2;var c=Fy(e,n-e.l,r);l[3]=Fd(c,null,a,r.supbooks,r)}else e.l=n;return l}var C1e=yu,O1e=cf;function D1e(e,t){return t==null&&(t=Te(4)),t.write_shift(4,e),t}function P1e(e,t){var r=e.l+t,n=yu(e),a=I_(e),i=aa(e),l=aa(e),c=aa(e);e.l=r;var d={rfx:n,relId:a,loc:i,display:c};return l&&(d.Tooltip=l),d}function M1e(e,t){var r=Te(50+4*(e[1].Target.length+(e[1].Tooltip||"").length));cf({s:_n(e[0]),e:_n(e[0])},r),F_("rId"+t,r);var n=e[1].Target.indexOf("#"),a=n==-1?"":e[1].Target.slice(n+1);return En(a||"",r),En(e[1].Tooltip||"",r),En("",r),r.slice(0,r.l)}function R1e(){}function I1e(e,t,r){var n=e.l+t,a=dB(e),i=e.read_shift(1),l=[a];if(l[2]=i,r.cellFormula){var c=Sbe(e,n-e.l,r);l[1]=c}else e.l=n;return l}function F1e(e,t,r){var n=e.l+t,a=yu(e),i=[a];if(r.cellFormula){var l=_be(e,n-e.l,r);i[1]=l,e.l=n}else e.l=n;return i}function L1e(e,t,r){r==null&&(r=Te(18));var n=Ly(e,t);r.write_shift(-4,e),r.write_shift(-4,e),r.write_shift(4,(n.width||10)*256),r.write_shift(4,0);var a=0;return t.hidden&&(a|=1),typeof n.width=="number"&&(a|=2),t.level&&(a|=t.level<<8),r.write_shift(2,a),r}var KB=["left","right","top","bottom","header","footer"];function B1e(e){var t={};return KB.forEach(function(r){t[r]=uf(e)}),t}function $1e(e,t){return t==null&&(t=Te(48)),WB(e),KB.forEach(function(r){au(e[r],t)}),t}function U1e(e){var t=e.read_shift(2);return e.l+=28,{RTL:t&32}}function z1e(e,t,r){r==null&&(r=Te(30));var n=924;return(((t||{}).Views||[])[0]||{}).RTL&&(n|=32),r.write_shift(2,n),r.write_shift(4,0),r.write_shift(4,0),r.write_shift(4,0),r.write_shift(1,0),r.write_shift(1,0),r.write_shift(2,0),r.write_shift(2,100),r.write_shift(2,0),r.write_shift(2,0),r.write_shift(2,0),r.write_shift(4,0),r}function H1e(e){var t=Te(24);return t.write_shift(4,4),t.write_shift(4,1),cf(e,t),t}function V1e(e,t){return t==null&&(t=Te(66)),t.write_shift(2,e.password?TB(e.password):0),t.write_shift(4,1),[["objects",!1],["scenarios",!1],["formatCells",!0],["formatColumns",!0],["formatRows",!0],["insertColumns",!0],["insertRows",!0],["insertHyperlinks",!0],["deleteColumns",!0],["deleteRows",!0],["selectLockedCells",!1],["sort",!0],["autoFilter",!0],["pivotTables",!0],["selectUnlockedCells",!1]].forEach(function(r){r[1]?t.write_shift(4,e[r[0]]!=null&&!e[r[0]]?1:0):t.write_shift(4,e[r[0]]!=null&&e[r[0]]?0:1)}),t}function q1e(){}function W1e(){}function G1e(e,t,r,n,a,i,l){if(t.v===void 0)return!1;var c="";switch(t.t){case"b":c=t.v?"1":"0";break;case"d":t=Ra(t),t.z=t.z||qr[14],t.v=Ma(ha(t.v)),t.t="n";break;case"n":case"e":c=""+t.v;break;default:c=t.v;break}var d={r,c:n};switch(d.s=Yo(a.cellXfs,t,a),t.l&&i["!links"].push([nr(d),t.l]),t.c&&i["!comments"].push([nr(d),t.c]),t.t){case"s":case"str":return a.bookSST?(c=H_(a.Strings,t.v,a.revStrings),d.t="s",d.v=c,l?Ie(e,18,f1e(t,d)):Ie(e,7,u1e(t,d))):(d.t="str",l?Ie(e,17,k1e(t,d)):Ie(e,6,N1e(t,d))),!0;case"n":return t.v==(t.v|0)&&t.v>-1e3&&t.v<1e3?l?Ie(e,13,b1e(t,d)):Ie(e,2,y1e(t,d)):l?Ie(e,16,g1e(t,d)):Ie(e,5,m1e(t,d)),!0;case"b":return d.t="b",l?Ie(e,15,a1e(t,d)):Ie(e,4,r1e(t,d)),!0;case"e":return d.t="e",l?Ie(e,14,o1e(t,d)):Ie(e,3,i1e(t,d)),!0}return l?Ie(e,12,e1e(t,d)):Ie(e,1,Zbe(t,d)),!0}function K1e(e,t,r,n){var a=_r(t["!ref"]||"A1"),i,l="",c=[];Ie(e,145);var d=Array.isArray(t),f=a.e.r;t["!rows"]&&(f=Math.max(a.e.r,t["!rows"].length-1));for(var h=a.s.r;h<=f;++h){l=Gn(h),qbe(e,t,a,h);var p=!1;if(h<=a.e.r)for(var g=a.s.c;g<=a.e.c;++g){h===a.s.r&&(c[g]=na(g)),i=c[g]+l;var y=d?(t[h]||[])[g]:t[i];if(!y){p=!1;continue}p=G1e(e,y,h,g,n,t,p)}}Ie(e,146)}function Y1e(e,t){!t||!t["!merges"]||(Ie(e,177,D1e(t["!merges"].length)),t["!merges"].forEach(function(r){Ie(e,176,O1e(r))}),Ie(e,178))}function X1e(e,t){!t||!t["!cols"]||(Ie(e,390),t["!cols"].forEach(function(r,n){r&&Ie(e,60,L1e(n,r))}),Ie(e,391))}function Q1e(e,t){!t||!t["!ref"]||(Ie(e,648),Ie(e,649,H1e(_r(t["!ref"]))),Ie(e,650))}function Z1e(e,t,r){t["!links"].forEach(function(n){if(n[1].Target){var a=er(r,-1,n[1].Target.replace(/#.*$/,""),It.HLINK);Ie(e,494,M1e(n,a))}}),delete t["!links"]}function J1e(e,t,r,n){if(t["!comments"].length>0){var a=er(n,-1,"../drawings/vmlDrawing"+(r+1)+".vml",It.VML);Ie(e,551,F_("rId"+a)),t["!legacy"]=a}}function ewe(e,t,r,n){if(t["!autofilter"]){var a=t["!autofilter"],i=typeof a.ref=="string"?a.ref:cn(a.ref);r.Workbook||(r.Workbook={Sheets:[]}),r.Workbook.Names||(r.Workbook.Names=[]);var l=r.Workbook.Names,c=ds(i);c.s.r==c.e.r&&(c.e.r=ds(t["!ref"]).e.r,i=cn(c));for(var d=0;d<l.length;++d){var f=l[d];if(f.Name=="_xlnm._FilterDatabase"&&f.Sheet==n){f.Ref="'"+r.SheetNames[n]+"'!"+i;break}}d==l.length&&l.push({Name:"_xlnm._FilterDatabase",Sheet:n,Ref:"'"+r.SheetNames[n]+"'!"+i}),Ie(e,161,cf(_r(i))),Ie(e,162)}}function twe(e,t,r){Ie(e,133),Ie(e,137,z1e(t,r)),Ie(e,138),Ie(e,134)}function rwe(e,t){t["!protect"]&&Ie(e,535,V1e(t["!protect"]))}function nwe(e,t,r,n){var a=Oa(),i=r.SheetNames[e],l=r.Sheets[i]||{},c=i;try{r&&r.Workbook&&(c=r.Workbook.Sheets[e].CodeName||c)}catch{}var d=_r(l["!ref"]||"A1");if(d.e.c>16383||d.e.r>1048575){if(t.WTF)throw new Error("Range "+(l["!ref"]||"A1")+" exceeds format limit A1:XFD1048576");d.e.c=Math.min(d.e.c,16383),d.e.r=Math.min(d.e.c,1048575)}return l["!links"]=[],l["!comments"]=[],Ie(a,129),(r.vbaraw||l["!outline"])&&Ie(a,147,Xbe(c,l["!outline"])),Ie(a,148,Gbe(d)),twe(a,l,r.Workbook),X1e(a,l),K1e(a,l,e,t),rwe(a,l),ewe(a,l,r,e),Y1e(a,l),Z1e(a,l,n),l["!margins"]&&Ie(a,476,$1e(l["!margins"])),(!t||t.ignoreEC||t.ignoreEC==null)&&Q1e(a,l),J1e(a,l,e,n),Ie(a,130),a.end()}function awe(e,t){e.l+=10;var r=aa(e);return{name:r}}var swe=[["allowRefreshQuery",!1,"bool"],["autoCompressPictures",!0,"bool"],["backupFile",!1,"bool"],["checkCompatibility",!1,"bool"],["CodeName",""],["date1904",!1,"bool"],["defaultThemeVersion",0,"int"],["filterPrivacy",!1,"bool"],["hidePivotFieldList",!1,"bool"],["promptedSolutions",!1,"bool"],["publishItems",!1,"bool"],["refreshAllConnections",!1,"bool"],["saveExternalLinkValues",!0,"bool"],["showBorderUnselectedTables",!0,"bool"],["showInkAnnotation",!0,"bool"],["showObjects","all"],["showPivotChartFilter",!1,"bool"],["updateLinks","userSet"]];function iwe(e){return!e.Workbook||!e.Workbook.WBProps?"false":Fge(e.Workbook.WBProps.date1904)?"true":"false"}var lwe="][*?/\\".split("");function YB(e,t){if(e.length>31)throw new Error("Sheet names cannot exceed 31 chars");var r=!0;return lwe.forEach(function(n){if(e.indexOf(n)!=-1)throw new Error("Sheet name cannot contain : \\ / ? * [ ]")}),r}function owe(e,t,r){e.forEach(function(n,a){YB(n);for(var i=0;i<a;++i)if(n==e[i])throw new Error("Duplicate Sheet Name: "+n);if(r){var l=t&&t[a]&&t[a].CodeName||n;if(l.charCodeAt(0)==95&&l.length>22)throw new Error("Bad Code Name: Worksheet"+l)}})}function cwe(e){if(!e||!e.SheetNames||!e.Sheets)throw new Error("Invalid Workbook");if(!e.SheetNames.length)throw new Error("Workbook is empty");var t=e.Workbook&&e.Workbook.Sheets||[];owe(e.SheetNames,t,!!e.vbaraw);for(var r=0;r<e.SheetNames.length;++r)Obe(e.Sheets[e.SheetNames[r]],e.SheetNames[r],r)}function XB(e){var t=[un];t[t.length]=He("workbook",null,{xmlns:lf[0],"xmlns:r":Sn.r});var r=e.Workbook&&(e.Workbook.Names||[]).length>0,n={codeName:"ThisWorkbook"};e.Workbook&&e.Workbook.WBProps&&(swe.forEach(function(c){e.Workbook.WBProps[c[0]]!=null&&e.Workbook.WBProps[c[0]]!=c[1]&&(n[c[0]]=e.Workbook.WBProps[c[0]])}),e.Workbook.WBProps.CodeName&&(n.codeName=e.Workbook.WBProps.CodeName,delete n.CodeName)),t[t.length]=He("workbookPr",null,n);var a=e.Workbook&&e.Workbook.Sheets||[],i=0;if(a&&a[0]&&a[0].Hidden){for(t[t.length]="<bookViews>",i=0;i!=e.SheetNames.length&&!(!a[i]||!a[i].Hidden);++i);i==e.SheetNames.length&&(i=0),t[t.length]='<workbookView firstSheet="'+i+'" activeTab="'+i+'"/>',t[t.length]="</bookViews>"}for(t[t.length]="<sheets>",i=0;i!=e.SheetNames.length;++i){var l={name:rr(e.SheetNames[i].slice(0,31))};if(l.sheetId=""+(i+1),l["r:id"]="rId"+(i+1),a[i])switch(a[i].Hidden){case 1:l.state="hidden";break;case 2:l.state="veryHidden";break}t[t.length]=He("sheet",null,l)}return t[t.length]="</sheets>",r&&(t[t.length]="<definedNames>",e.Workbook&&e.Workbook.Names&&e.Workbook.Names.forEach(function(c){var d={name:c.Name};c.Comment&&(d.comment=c.Comment),c.Sheet!=null&&(d.localSheetId=""+c.Sheet),c.Hidden&&(d.hidden="1"),c.Ref&&(t[t.length]=He("definedName",rr(c.Ref),d))}),t[t.length]="</definedNames>"),t.length>2&&(t[t.length]="</workbook>",t[1]=t[1].replace("/>",">")),t.join("")}function uwe(e,t){var r={};return r.Hidden=e.read_shift(4),r.iTabID=e.read_shift(4),r.strRelID=mN(e),r.name=aa(e),r}function dwe(e,t){return t||(t=Te(127)),t.write_shift(4,e.Hidden),t.write_shift(4,e.iTabID),F_(e.strRelID,t),En(e.name.slice(0,31),t),t.length>t.l?t.slice(0,t.l):t}function fwe(e,t){var r={},n=e.read_shift(4);r.defaultThemeVersion=e.read_shift(4);var a=t>8?aa(e):"";return a.length>0&&(r.CodeName=a),r.autoCompressPictures=!!(n&65536),r.backupFile=!!(n&64),r.checkCompatibility=!!(n&4096),r.date1904=!!(n&1),r.filterPrivacy=!!(n&8),r.hidePivotFieldList=!!(n&1024),r.promptedSolutions=!!(n&16),r.publishItems=!!(n&2048),r.refreshAllConnections=!!(n&262144),r.saveExternalLinkValues=!!(n&128),r.showBorderUnselectedTables=!!(n&4),r.showInkAnnotation=!!(n&32),r.showObjects=["all","placeholders","none"][n>>13&3],r.showPivotChartFilter=!!(n&32768),r.updateLinks=["userSet","never","always"][n>>8&3],r}function hwe(e,t){t||(t=Te(72));var r=0;return e&&e.filterPrivacy&&(r|=8),t.write_shift(4,r),t.write_shift(4,0),oB(e&&e.CodeName||"ThisWorkbook",t),t.slice(0,t.l)}function mwe(e,t,r){var n=e.l+t;e.l+=4,e.l+=1;var a=e.read_shift(4),i=ixe(e),l=kbe(e,0,r),c=I_(e);e.l=n;var d={Name:i,Ptg:l};return a<268435455&&(d.Sheet=a),c&&(d.Comment=c),d}function pwe(e,t){Ie(e,143);for(var r=0;r!=t.SheetNames.length;++r){var n=t.Workbook&&t.Workbook.Sheets&&t.Workbook.Sheets[r]&&t.Workbook.Sheets[r].Hidden||0,a={Hidden:n,iTabID:r+1,strRelID:"rId"+(r+1),name:t.SheetNames[r]};Ie(e,156,dwe(a))}Ie(e,144)}function gwe(e,t){t||(t=Te(127));for(var r=0;r!=4;++r)t.write_shift(4,0);return En("SheetJS",t),En(px.version,t),En(px.version,t),En("7262",t),t.length>t.l?t.slice(0,t.l):t}function xwe(e,t){t||(t=Te(29)),t.write_shift(-4,0),t.write_shift(-4,460),t.write_shift(4,28800),t.write_shift(4,17600),t.write_shift(4,500),t.write_shift(4,e),t.write_shift(4,e);var r=120;return t.write_shift(1,r),t.length>t.l?t.slice(0,t.l):t}function ywe(e,t){if(!(!t.Workbook||!t.Workbook.Sheets)){for(var r=t.Workbook.Sheets,n=0,a=-1,i=-1;n<r.length;++n)!r[n]||!r[n].Hidden&&a==-1?a=n:r[n].Hidden==1&&i==-1&&(i=n);i>a||(Ie(e,135),Ie(e,158,xwe(a)),Ie(e,136))}}function vwe(e,t){var r=Oa();return Ie(r,131),Ie(r,128,gwe()),Ie(r,153,hwe(e.Workbook&&e.Workbook.WBProps||null)),ywe(r,e),pwe(r,e),Ie(r,132),r.end()}function bwe(e,t,r){return(t.slice(-4)===".bin"?vwe:XB)(e)}function wwe(e,t,r,n,a){return(t.slice(-4)===".bin"?nwe:GB)(e,r,n,a)}function jwe(e,t,r){return(t.slice(-4)===".bin"?$ye:DB)(e,r)}function Nwe(e,t,r){return(t.slice(-4)===".bin"?hye:AB)(e,r)}function Swe(e,t,r){return(t.slice(-4)===".bin"?rve:FB)(e)}function kwe(e){return(e.slice(-4)===".bin"?Kye:RB)()}function _we(e,t){var r=[];return e.Props&&r.push(jxe(e.Props,t)),e.Custprops&&r.push(Nxe(e.Props,e.Custprops)),r.join("")}function Ewe(){return""}function Awe(e,t){var r=['<Style ss:ID="Default" ss:Name="Normal"><NumberFormat/></Style>'];return t.cellXfs.forEach(function(n,a){var i=[];i.push(He("NumberFormat",null,{"ss:Format":rr(qr[n.numFmtId])}));var l={"ss:ID":"s"+(21+a)};r.push(He("Style",i.join(""),l))}),He("Styles",r.join(""))}function QB(e){return He("NamedRange",null,{"ss:Name":e.Name,"ss:RefersTo":"="+U_(e.Ref,{r:0,c:0})})}function Twe(e){if(!((e||{}).Workbook||{}).Names)return"";for(var t=e.Workbook.Names,r=[],n=0;n<t.length;++n){var a=t[n];a.Sheet==null&&(a.Name.match(/^_xlfn\./)||r.push(QB(a)))}return He("Names",r.join(""))}function Cwe(e,t,r,n){if(!e||!((n||{}).Workbook||{}).Names)return"";for(var a=n.Workbook.Names,i=[],l=0;l<a.length;++l){var c=a[l];c.Sheet==r&&(c.Name.match(/^_xlfn\./)||i.push(QB(c)))}return i.join("")}function Owe(e,t,r,n){if(!e)return"";var a=[];if(e["!margins"]&&(a.push("<PageSetup>"),e["!margins"].header&&a.push(He("Header",null,{"x:Margin":e["!margins"].header})),e["!margins"].footer&&a.push(He("Footer",null,{"x:Margin":e["!margins"].footer})),a.push(He("PageMargins",null,{"x:Bottom":e["!margins"].bottom||"0.75","x:Left":e["!margins"].left||"0.7","x:Right":e["!margins"].right||"0.7","x:Top":e["!margins"].top||"0.75"})),a.push("</PageSetup>")),n&&n.Workbook&&n.Workbook.Sheets&&n.Workbook.Sheets[r])if(n.Workbook.Sheets[r].Hidden)a.push(He("Visible",n.Workbook.Sheets[r].Hidden==1?"SheetHidden":"SheetVeryHidden",{}));else{for(var i=0;i<r&&!(n.Workbook.Sheets[i]&&!n.Workbook.Sheets[i].Hidden);++i);i==r&&a.push("<Selected/>")}return((((n||{}).Workbook||{}).Views||[])[0]||{}).RTL&&a.push("<DisplayRightToLeft/>"),e["!protect"]&&(a.push(qn("ProtectContents","True")),e["!protect"].objects&&a.push(qn("ProtectObjects","True")),e["!protect"].scenarios&&a.push(qn("ProtectScenarios","True")),e["!protect"].selectLockedCells!=null&&!e["!protect"].selectLockedCells?a.push(qn("EnableSelection","NoSelection")):e["!protect"].selectUnlockedCells!=null&&!e["!protect"].selectUnlockedCells&&a.push(qn("EnableSelection","UnlockedCells")),[["formatCells","AllowFormatCells"],["formatColumns","AllowSizeCols"],["formatRows","AllowSizeRows"],["insertColumns","AllowInsertCols"],["insertRows","AllowInsertRows"],["insertHyperlinks","AllowInsertHyperlinks"],["deleteColumns","AllowDeleteCols"],["deleteRows","AllowDeleteRows"],["sort","AllowSort"],["autoFilter","AllowFilter"],["pivotTables","AllowUsePivotTables"]].forEach(function(l){e["!protect"][l[0]]&&a.push("<"+l[1]+"/>")})),a.length==0?"":He("WorksheetOptions",a.join(""),{xmlns:Ja.x})}function Dwe(e){return e.map(function(t){var r=Ige(t.t||""),n=He("ss:Data",r,{xmlns:"http://www.w3.org/TR/REC-html40"});return He("Comment",n,{"ss:Author":t.a})}).join("")}function Pwe(e,t,r,n,a,i,l){if(!e||e.v==null&&e.f==null)return"";var c={};if(e.f&&(c["ss:Formula"]="="+rr(U_(e.f,l))),e.F&&e.F.slice(0,t.length)==t){var d=_n(e.F.slice(t.length+1));c["ss:ArrayRange"]="RC:R"+(d.r==l.r?"":"["+(d.r-l.r)+"]")+"C"+(d.c==l.c?"":"["+(d.c-l.c)+"]")}if(e.l&&e.l.Target&&(c["ss:HRef"]=rr(e.l.Target),e.l.Tooltip&&(c["x:HRefScreenTip"]=rr(e.l.Tooltip))),r["!merges"])for(var f=r["!merges"],h=0;h!=f.length;++h)f[h].s.c!=l.c||f[h].s.r!=l.r||(f[h].e.c>f[h].s.c&&(c["ss:MergeAcross"]=f[h].e.c-f[h].s.c),f[h].e.r>f[h].s.r&&(c["ss:MergeDown"]=f[h].e.r-f[h].s.r));var p="",g="";switch(e.t){case"z":if(!n.sheetStubs)return"";break;case"n":p="Number",g=String(e.v);break;case"b":p="Boolean",g=e.v?"1":"0";break;case"e":p="Error",g=xm[e.v];break;case"d":p="DateTime",g=new Date(e.v).toISOString(),e.z==null&&(e.z=e.z||qr[14]);break;case"s":p="String",g=Rge(e.v||"");break}var y=Yo(n.cellXfs,e,n);c["ss:StyleID"]="s"+(21+y),c["ss:Index"]=l.c+1;var b=e.v!=null?g:"",w=e.t=="z"?"":'<Data ss:Type="'+p+'">'+b+"</Data>";return(e.c||[]).length>0&&(w+=Dwe(e.c)),He("Cell",w,c)}function Mwe(e,t){var r='<Row ss:Index="'+(e+1)+'"';return t&&(t.hpt&&!t.hpx&&(t.hpx=OB(t.hpt)),t.hpx&&(r+=' ss:AutoFitHeight="0" ss:Height="'+t.hpx+'"'),t.hidden&&(r+=' ss:Hidden="1"')),r+">"}function Rwe(e,t,r,n){if(!e["!ref"])return"";var a=_r(e["!ref"]),i=e["!merges"]||[],l=0,c=[];e["!cols"]&&e["!cols"].forEach(function(j,S){B_(j);var _=!!j.width,E=Ly(S,j),T={"ss:Index":S+1};_&&(T["ss:Width"]=kx(E.width)),j.hidden&&(T["ss:Hidden"]="1"),c.push(He("Column",null,T))});for(var d=Array.isArray(e),f=a.s.r;f<=a.e.r;++f){for(var h=[Mwe(f,(e["!rows"]||[])[f])],p=a.s.c;p<=a.e.c;++p){var g=!1;for(l=0;l!=i.length;++l)if(!(i[l].s.c>p)&&!(i[l].s.r>f)&&!(i[l].e.c<p)&&!(i[l].e.r<f)){(i[l].s.c!=p||i[l].s.r!=f)&&(g=!0);break}if(!g){var y={r:f,c:p},b=nr(y),w=d?(e[f]||[])[p]:e[b];h.push(Pwe(w,b,e,t,r,n,y))}}h.push("</Row>"),h.length>2&&c.push(h.join(""))}return c.join("")}function Iwe(e,t,r){var n=[],a=r.SheetNames[e],i=r.Sheets[a],l=i?Cwe(i,t,e,r):"";return l.length>0&&n.push("<Names>"+l+"</Names>"),l=i?Rwe(i,t,e,r):"",l.length>0&&n.push("<Table>"+l+"</Table>"),n.push(Owe(i,t,e,r)),n.join("")}function Fwe(e,t){t||(t={}),e.SSF||(e.SSF=Ra(qr)),e.SSF&&(Py(),Dy(e.SSF),t.revssf=My(e.SSF),t.revssf[e.SSF[65535]]=0,t.ssf=e.SSF,t.cellXfs=[],Yo(t.cellXfs,{},{revssf:{General:0}}));var r=[];r.push(_we(e,t)),r.push(Ewe()),r.push(""),r.push("");for(var n=0;n<e.SheetNames.length;++n)r.push(He("Worksheet",Iwe(n,t,e),{"ss:Name":rr(e.SheetNames[n])}));return r[2]=Awe(e,t),r[3]=Twe(e),un+He("Workbook",r.join(""),{xmlns:Ja.ss,"xmlns:o":Ja.o,"xmlns:x":Ja.x,"xmlns:ss":Ja.ss,"xmlns:dt":Ja.dt,"xmlns:html":Ja.html})}var h2={SI:"e0859ff2f94f6810ab9108002b27b3d9",DSI:"02d5cdd59c2e1b10939708002b2cf9ae",UDI:"05d5cdd59c2e1b10939708002b2cf9ae"};function Lwe(e,t){var r=[],n=[],a=[],i=0,l,c=U5(eP,"n"),d=U5(tP,"n");if(e.Props)for(l=Kn(e.Props),i=0;i<l.length;++i)(Object.prototype.hasOwnProperty.call(c,l[i])?r:Object.prototype.hasOwnProperty.call(d,l[i])?n:a).push([l[i],e.Props[l[i]]]);if(e.Custprops)for(l=Kn(e.Custprops),i=0;i<l.length;++i)Object.prototype.hasOwnProperty.call(e.Props||{},l[i])||(Object.prototype.hasOwnProperty.call(c,l[i])?r:Object.prototype.hasOwnProperty.call(d,l[i])?n:a).push([l[i],e.Custprops[l[i]]]);var f=[];for(i=0;i<a.length;++i)wB.indexOf(a[i][0])>-1||yB.indexOf(a[i][0])>-1||a[i][1]!=null&&f.push(a[i]);n.length&&cr.utils.cfb_add(t,"/SummaryInformation",iP(n,h2.SI,d,tP)),(r.length||f.length)&&cr.utils.cfb_add(t,"/DocumentSummaryInformation",iP(r,h2.DSI,c,eP,f.length?f:null,h2.UDI))}function Bwe(e,t){var r=t||{},n=cr.utils.cfb_new({root:"R"}),a="/Workbook";switch(r.bookType||"xls"){case"xls":r.bookType="biff8";case"xla":r.bookType||(r.bookType="xla");case"biff8":a="/Workbook",r.biff=8;break;case"biff5":a="/Book",r.biff=5;break;default:throw new Error("invalid type "+r.bookType+" for XLS CFB")}return cr.utils.cfb_add(n,a,ZB(e,r)),r.biff==8&&(e.Props||e.Custprops)&&Lwe(e,n),r.biff==8&&e.vbaraw&&nve(n,cr.read(e.vbaraw,{type:typeof e.vbaraw=="string"?"binary":"buffer"})),n}var $we={0:{f:Hbe},1:{f:Qbe},2:{f:x1e},3:{f:s1e},4:{f:t1e},5:{f:h1e},6:{f:j1e},7:{f:c1e},8:{f:T1e},9:{f:A1e},10:{f:_1e},11:{f:E1e},12:{f:Jbe},13:{f:v1e},14:{f:l1e},15:{f:n1e},16:{f:p1e},17:{f:S1e},18:{f:d1e},19:{f:R_},20:{},21:{},22:{},23:{},24:{},25:{},26:{},27:{},28:{},29:{},30:{},31:{},32:{},33:{},34:{},35:{T:1},36:{T:-1},37:{T:1},38:{T:-1},39:{f:mwe},40:{},42:{},43:{f:jye},44:{f:bye},45:{f:kye},46:{f:Eye},47:{f:_ye},48:{},49:{f:Jge},50:{},51:{f:Hye},52:{T:1},53:{T:-1},54:{T:1},55:{T:-1},56:{T:1},57:{T:-1},58:{},59:{},60:{f:eye},62:{f:w1e},63:{f:Yye},64:{f:q1e},65:{},66:{},67:{},68:{},69:{},70:{},128:{},129:{T:1},130:{T:-1},131:{T:1,f:Li,p:0},132:{T:-1},133:{T:1},134:{T:-1},135:{T:1},136:{T:-1},137:{T:1,f:U1e},138:{T:-1},139:{T:1},140:{T:-1},141:{T:1},142:{T:-1},143:{T:1},144:{T:-1},145:{T:1},146:{T:-1},147:{f:Ybe},148:{f:Wbe,p:16},151:{f:R1e},152:{},153:{f:fwe},154:{},155:{},156:{f:uwe},157:{},158:{},159:{T:1,f:uye},160:{T:-1},161:{T:1,f:yu},162:{T:-1},163:{T:1},164:{T:-1},165:{T:1},166:{T:-1},167:{},168:{},169:{},170:{},171:{},172:{T:1},173:{T:-1},174:{},175:{},176:{f:C1e},177:{T:1},178:{T:-1},179:{T:1},180:{T:-1},181:{T:1},182:{T:-1},183:{T:1},184:{T:-1},185:{T:1},186:{T:-1},187:{T:1},188:{T:-1},189:{T:1},190:{T:-1},191:{T:1},192:{T:-1},193:{T:1},194:{T:-1},195:{T:1},196:{T:-1},197:{T:1},198:{T:-1},199:{T:1},200:{T:-1},201:{T:1},202:{T:-1},203:{T:1},204:{T:-1},205:{T:1},206:{T:-1},207:{T:1},208:{T:-1},209:{T:1},210:{T:-1},211:{T:1},212:{T:-1},213:{T:1},214:{T:-1},215:{T:1},216:{T:-1},217:{T:1},218:{T:-1},219:{T:1},220:{T:-1},221:{T:1},222:{T:-1},223:{T:1},224:{T:-1},225:{T:1},226:{T:-1},227:{T:1},228:{T:-1},229:{T:1},230:{T:-1},231:{T:1},232:{T:-1},233:{T:1},234:{T:-1},235:{T:1},236:{T:-1},237:{T:1},238:{T:-1},239:{T:1},240:{T:-1},241:{T:1},242:{T:-1},243:{T:1},244:{T:-1},245:{T:1},246:{T:-1},247:{T:1},248:{T:-1},249:{T:1},250:{T:-1},251:{T:1},252:{T:-1},253:{T:1},254:{T:-1},255:{T:1},256:{T:-1},257:{T:1},258:{T:-1},259:{T:1},260:{T:-1},261:{T:1},262:{T:-1},263:{T:1},264:{T:-1},265:{T:1},266:{T:-1},267:{T:1},268:{T:-1},269:{T:1},270:{T:-1},271:{T:1},272:{T:-1},273:{T:1},274:{T:-1},275:{T:1},276:{T:-1},277:{},278:{T:1},279:{T:-1},280:{T:1},281:{T:-1},282:{T:1},283:{T:1},284:{T:-1},285:{T:1},286:{T:-1},287:{T:1},288:{T:-1},289:{T:1},290:{T:-1},291:{T:1},292:{T:-1},293:{T:1},294:{T:-1},295:{T:1},296:{T:-1},297:{T:1},298:{T:-1},299:{T:1},300:{T:-1},301:{T:1},302:{T:-1},303:{T:1},304:{T:-1},305:{T:1},306:{T:-1},307:{T:1},308:{T:-1},309:{T:1},310:{T:-1},311:{T:1},312:{T:-1},313:{T:-1},314:{T:1},315:{T:-1},316:{T:1},317:{T:-1},318:{T:1},319:{T:-1},320:{T:1},321:{T:-1},322:{T:1},323:{T:-1},324:{T:1},325:{T:-1},326:{T:1},327:{T:-1},328:{T:1},329:{T:-1},330:{T:1},331:{T:-1},332:{T:1},333:{T:-1},334:{T:1},335:{f:Uye},336:{T:-1},337:{f:Wye,T:1},338:{T:-1},339:{T:1},340:{T:-1},341:{T:1},342:{T:-1},343:{T:1},344:{T:-1},345:{T:1},346:{T:-1},347:{T:1},348:{T:-1},349:{T:1},350:{T:-1},351:{},352:{},353:{T:1},354:{T:-1},355:{f:mN},357:{},358:{},359:{},360:{T:1},361:{},362:{f:Kxe},363:{},364:{},366:{},367:{},368:{},369:{},370:{},371:{},372:{T:1},373:{T:-1},374:{T:1},375:{T:-1},376:{T:1},377:{T:-1},378:{T:1},379:{T:-1},380:{T:1},381:{T:-1},382:{T:1},383:{T:-1},384:{T:1},385:{T:-1},386:{T:1},387:{T:-1},388:{T:1},389:{T:-1},390:{T:1},391:{T:-1},392:{T:1},393:{T:-1},394:{T:1},395:{T:-1},396:{},397:{},398:{},399:{},400:{},401:{T:1},403:{},404:{},405:{},406:{},407:{},408:{},409:{},410:{},411:{},412:{},413:{},414:{},415:{},416:{},417:{},418:{},419:{},420:{},421:{},422:{T:1},423:{T:1},424:{T:-1},425:{T:-1},426:{f:I1e},427:{f:F1e},428:{},429:{T:1},430:{T:-1},431:{T:1},432:{T:-1},433:{T:1},434:{T:-1},435:{T:1},436:{T:-1},437:{T:1},438:{T:-1},439:{T:1},440:{T:-1},441:{T:1},442:{T:-1},443:{T:1},444:{T:-1},445:{T:1},446:{T:-1},447:{T:1},448:{T:-1},449:{T:1},450:{T:-1},451:{T:1},452:{T:-1},453:{T:1},454:{T:-1},455:{T:1},456:{T:-1},457:{T:1},458:{T:-1},459:{T:1},460:{T:-1},461:{T:1},462:{T:-1},463:{T:1},464:{T:-1},465:{T:1},466:{T:-1},467:{T:1},468:{T:-1},469:{T:1},470:{T:-1},471:{},472:{},473:{T:1},474:{T:-1},475:{},476:{f:B1e},477:{},478:{},479:{T:1},480:{T:-1},481:{T:1},482:{T:-1},483:{T:1},484:{T:-1},485:{f:Kbe},486:{T:1},487:{T:-1},488:{T:1},489:{T:-1},490:{T:1},491:{T:-1},492:{T:1},493:{T:-1},494:{f:P1e},495:{T:1},496:{T:-1},497:{T:1},498:{T:-1},499:{},500:{T:1},501:{T:-1},502:{T:1},503:{T:-1},504:{},505:{T:1},506:{T:-1},507:{},508:{T:1},509:{T:-1},510:{T:1},511:{T:-1},512:{},513:{},514:{T:1},515:{T:-1},516:{T:1},517:{T:-1},518:{T:1},519:{T:-1},520:{T:1},521:{T:-1},522:{},523:{},524:{},525:{},526:{},527:{},528:{T:1},529:{T:-1},530:{T:1},531:{T:-1},532:{T:1},533:{T:-1},534:{},535:{},536:{},537:{},538:{T:1},539:{T:-1},540:{T:1},541:{T:-1},542:{T:1},548:{},549:{},550:{f:mN},551:{},552:{},553:{},554:{T:1},555:{T:-1},556:{T:1},557:{T:-1},558:{T:1},559:{T:-1},560:{T:1},561:{T:-1},562:{},564:{},565:{T:1},566:{T:-1},569:{T:1},570:{T:-1},572:{},573:{T:1},574:{T:-1},577:{},578:{},579:{},580:{},581:{},582:{},583:{},584:{},585:{},586:{},587:{},588:{T:-1},589:{},590:{T:1},591:{T:-1},592:{T:1},593:{T:-1},594:{T:1},595:{T:-1},596:{},597:{T:1},598:{T:-1},599:{T:1},600:{T:-1},601:{T:1},602:{T:-1},603:{T:1},604:{T:-1},605:{T:1},606:{T:-1},607:{},608:{T:1},609:{T:-1},610:{},611:{T:1},612:{T:-1},613:{T:1},614:{T:-1},615:{T:1},616:{T:-1},617:{T:1},618:{T:-1},619:{T:1},620:{T:-1},625:{},626:{T:1},627:{T:-1},628:{T:1},629:{T:-1},630:{T:1},631:{T:-1},632:{f:eve},633:{T:1},634:{T:-1},635:{T:1,f:Zye},636:{T:-1},637:{f:nxe},638:{T:1},639:{},640:{T:-1},641:{T:1},642:{T:-1},643:{T:1},644:{},645:{T:-1},646:{T:1},648:{T:1},649:{},650:{T:-1},651:{f:awe},652:{},653:{T:1},654:{T:-1},655:{T:1},656:{T:-1},657:{T:1},658:{T:-1},659:{},660:{T:1},661:{},662:{T:-1},663:{},664:{T:1},665:{},666:{T:-1},667:{},668:{},669:{},671:{T:1},672:{T:-1},673:{T:1},674:{T:-1},675:{},676:{},677:{},678:{},679:{},680:{},681:{},1024:{},1025:{},1026:{T:1},1027:{T:-1},1028:{T:1},1029:{T:-1},1030:{},1031:{T:1},1032:{T:-1},1033:{T:1},1034:{T:-1},1035:{},1036:{},1037:{},1038:{T:1},1039:{T:-1},1040:{},1041:{T:1},1042:{T:-1},1043:{},1044:{},1045:{},1046:{T:1},1047:{T:-1},1048:{T:1},1049:{T:-1},1050:{},1051:{T:1},1052:{T:1},1053:{f:W1e},1054:{T:1},1055:{},1056:{T:1},1057:{T:-1},1058:{T:1},1059:{T:-1},1061:{},1062:{T:1},1063:{T:-1},1064:{T:1},1065:{T:-1},1066:{T:1},1067:{T:-1},1068:{T:1},1069:{T:-1},1070:{T:1},1071:{T:-1},1072:{T:1},1073:{T:-1},1075:{T:1},1076:{T:-1},1077:{T:1},1078:{T:-1},1079:{T:1},1080:{T:-1},1081:{T:1},1082:{T:-1},1083:{T:1},1084:{T:-1},1085:{},1086:{T:1},1087:{T:-1},1088:{T:1},1089:{T:-1},1090:{T:1},1091:{T:-1},1092:{T:1},1093:{T:-1},1094:{T:1},1095:{T:-1},1096:{},1097:{T:1},1098:{},1099:{T:-1},1100:{T:1},1101:{T:-1},1102:{},1103:{},1104:{},1105:{},1111:{},1112:{},1113:{T:1},1114:{T:-1},1115:{T:1},1116:{T:-1},1117:{},1118:{T:1},1119:{T:-1},1120:{T:1},1121:{T:-1},1122:{T:1},1123:{T:-1},1124:{T:1},1125:{T:-1},1126:{},1128:{T:1},1129:{T:-1},1130:{},1131:{T:1},1132:{T:-1},1133:{T:1},1134:{T:-1},1135:{T:1},1136:{T:-1},1137:{T:1},1138:{T:-1},1139:{T:1},1140:{T:-1},1141:{},1142:{T:1},1143:{T:-1},1144:{T:1},1145:{T:-1},1146:{},1147:{T:1},1148:{T:-1},1149:{T:1},1150:{T:-1},1152:{T:1},1153:{T:-1},1154:{T:-1},1155:{T:-1},1156:{T:-1},1157:{T:1},1158:{T:-1},1159:{T:1},1160:{T:-1},1161:{T:1},1162:{T:-1},1163:{T:1},1164:{T:-1},1165:{T:1},1166:{T:-1},1167:{T:1},1168:{T:-1},1169:{T:1},1170:{T:-1},1171:{},1172:{T:1},1173:{T:-1},1177:{},1178:{T:1},1180:{},1181:{},1182:{},2048:{T:1},2049:{T:-1},2050:{},2051:{T:1},2052:{T:-1},2053:{},2054:{},2055:{T:1},2056:{T:-1},2057:{T:1},2058:{T:-1},2060:{},2067:{},2068:{T:1},2069:{T:-1},2070:{},2071:{},2072:{T:1},2073:{T:-1},2075:{},2076:{},2077:{T:1},2078:{T:-1},2079:{},2080:{T:1},2081:{T:-1},2082:{},2083:{T:1},2084:{T:-1},2085:{T:1},2086:{T:-1},2087:{T:1},2088:{T:-1},2089:{T:1},2090:{T:-1},2091:{},2092:{},2093:{T:1},2094:{T:-1},2095:{},2096:{T:1},2097:{T:-1},2098:{T:1},2099:{T:-1},2100:{T:1},2101:{T:-1},2102:{},2103:{T:1},2104:{T:-1},2105:{},2106:{T:1},2107:{T:-1},2108:{},2109:{T:1},2110:{T:-1},2111:{T:1},2112:{T:-1},2113:{T:1},2114:{T:-1},2115:{},2116:{},2117:{},2118:{T:1},2119:{T:-1},2120:{},2121:{T:1},2122:{T:-1},2123:{T:1},2124:{T:-1},2125:{},2126:{T:1},2127:{T:-1},2128:{},2129:{T:1},2130:{T:-1},2131:{T:1},2132:{T:-1},2133:{T:1},2134:{},2135:{},2136:{},2137:{T:1},2138:{T:-1},2139:{T:1},2140:{T:-1},2141:{},3072:{},3073:{},4096:{T:1},4097:{T:-1},5002:{T:1},5003:{T:-1},5081:{T:1},5082:{T:-1},5083:{},5084:{T:1},5085:{T:-1},5086:{T:1},5087:{T:-1},5088:{},5089:{},5090:{},5092:{T:1},5093:{T:-1},5094:{},5095:{T:1},5096:{T:-1},5097:{},5099:{},65535:{n:""}};function qe(e,t,r,n){var a=t;if(!isNaN(a)){var i=n||(r||[]).length||0,l=e.next(4);l.write_shift(2,a),l.write_shift(2,i),i>0&&D_(r)&&e.push(r)}}function Uwe(e,t,r,n){var a=(r||[]).length||0;if(a<=8224)return qe(e,t,r,a);var i=t;if(!isNaN(i)){for(var l=r.parts||[],c=0,d=0,f=0;f+(l[c]||8224)<=8224;)f+=l[c]||8224,c++;var h=e.next(4);for(h.write_shift(2,i),h.write_shift(2,f),e.push(r.slice(d,d+f)),d+=f;d<a;){for(h=e.next(4),h.write_shift(2,60),f=0;f+(l[c]||8224)<=8224;)f+=l[c]||8224,c++;h.write_shift(2,f),e.push(r.slice(d,d+f)),d+=f}}}function vm(e,t,r){return e||(e=Te(7)),e.write_shift(2,t),e.write_shift(2,r),e.write_shift(2,0),e.write_shift(1,0),e}function zwe(e,t,r,n){var a=Te(9);return vm(a,e,t),NB(r,n||"b",a),a}function Hwe(e,t,r){var n=Te(8+2*r.length);return vm(n,e,t),n.write_shift(1,r.length),n.write_shift(r.length,r,"sbcs"),n.l<n.length?n.slice(0,n.l):n}function Vwe(e,t,r,n){if(t.v!=null)switch(t.t){case"d":case"n":var a=t.t=="d"?Ma(ha(t.v)):t.v;a==(a|0)&&a>=0&&a<65536?qe(e,2,aye(r,n,a)):qe(e,3,nye(r,n,a));return;case"b":case"e":qe(e,5,zwe(r,n,t.v,t.t));return;case"s":case"str":qe(e,4,Hwe(r,n,(t.v||"").slice(0,255)));return}qe(e,1,vm(null,r,n))}function qwe(e,t,r,n){var a=Array.isArray(t),i=_r(t["!ref"]||"A1"),l,c="",d=[];if(i.e.c>255||i.e.r>16383){if(n.WTF)throw new Error("Range "+(t["!ref"]||"A1")+" exceeds format limit A1:IV16384");i.e.c=Math.min(i.e.c,255),i.e.r=Math.min(i.e.c,16383),l=cn(i)}for(var f=i.s.r;f<=i.e.r;++f){c=Gn(f);for(var h=i.s.c;h<=i.e.c;++h){f===i.s.r&&(d[h]=na(h)),l=d[h]+c;var p=a?(t[f]||[])[h]:t[l];p&&Vwe(e,p,f,h)}}}function Wwe(e,t){for(var r=t||{},n=Oa(),a=0,i=0;i<e.SheetNames.length;++i)e.SheetNames[i]==r.sheet&&(a=i);if(a==0&&r.sheet&&e.SheetNames[0]!=r.sheet)throw new Error("Sheet not found: "+r.sheet);return qe(n,r.biff==4?1033:r.biff==3?521:9,L_(e,16,r)),qwe(n,e.Sheets[e.SheetNames[a]],a,r),qe(n,10),n.end()}function Gwe(e,t,r){qe(e,49,$xe({sz:12,name:"Arial"},r))}function Kwe(e,t,r){t&&[[5,8],[23,26],[41,44],[50,392]].forEach(function(n){for(var a=n[0];a<=n[1];++a)t[a]!=null&&qe(e,1054,Hxe(a,t[a],r))})}function Ywe(e,t){var r=Te(19);r.write_shift(4,2151),r.write_shift(4,0),r.write_shift(4,0),r.write_shift(2,3),r.write_shift(1,1),r.write_shift(4,0),qe(e,2151,r),r=Te(39),r.write_shift(4,2152),r.write_shift(4,0),r.write_shift(4,0),r.write_shift(2,3),r.write_shift(1,0),r.write_shift(4,0),r.write_shift(2,1),r.write_shift(4,4),r.write_shift(2,0),_B(_r(t["!ref"]||"A1"),r),r.write_shift(4,4),qe(e,2152,r)}function Xwe(e,t){for(var r=0;r<16;++r)qe(e,224,oP({numFmtId:0,style:!0},0,t));t.cellXfs.forEach(function(n){qe(e,224,oP(n,0,t))})}function Qwe(e,t){for(var r=0;r<t["!links"].length;++r){var n=t["!links"][r];qe(e,440,Qxe(n)),n[1].Tooltip&&qe(e,2048,Zxe(n))}delete t["!links"]}function Zwe(e,t){if(t){var r=0;t.forEach(function(n,a){++r<=256&&n&&qe(e,125,tye(Ly(a,n),a))})}}function Jwe(e,t,r,n,a){var i=16+Yo(a.cellXfs,t,a);if(t.v==null&&!t.bf){qe(e,513,su(r,n,i));return}if(t.bf)qe(e,6,Nbe(t,r,n,a,i));else switch(t.t){case"d":case"n":var l=t.t=="d"?Ma(ha(t.v)):t.v;qe(e,515,Gxe(r,n,l,i));break;case"b":case"e":qe(e,517,Wxe(r,n,t.v,i,a,t.t));break;case"s":case"str":if(a.bookSST){var c=H_(a.Strings,t.v,a.revStrings);qe(e,253,Uxe(r,n,c,i))}else qe(e,516,zxe(r,n,(t.v||"").slice(0,255),i,a));break;default:qe(e,513,su(r,n,i))}}function e2e(e,t,r){var n=Oa(),a=r.SheetNames[e],i=r.Sheets[a]||{},l=(r||{}).Workbook||{},c=(l.Sheets||[])[e]||{},d=Array.isArray(i),f=t.biff==8,h,p="",g=[],y=_r(i["!ref"]||"A1"),b=f?65536:16384;if(y.e.c>255||y.e.r>=b){if(t.WTF)throw new Error("Range "+(i["!ref"]||"A1")+" exceeds format limit A1:IV16384");y.e.c=Math.min(y.e.c,255),y.e.r=Math.min(y.e.c,b-1)}qe(n,2057,L_(r,16,t)),qe(n,13,Ps(1)),qe(n,12,Ps(100)),qe(n,15,ca(!0)),qe(n,17,ca(!1)),qe(n,16,au(.001)),qe(n,95,ca(!0)),qe(n,42,ca(!1)),qe(n,43,ca(!1)),qe(n,130,Ps(1)),qe(n,128,qxe()),qe(n,131,ca(!1)),qe(n,132,ca(!1)),f&&Zwe(n,i["!cols"]),qe(n,512,Vxe(y,t)),f&&(i["!links"]=[]);for(var w=y.s.r;w<=y.e.r;++w){p=Gn(w);for(var j=y.s.c;j<=y.e.c;++j){w===y.s.r&&(g[j]=na(j)),h=g[j]+p;var S=d?(i[w]||[])[j]:i[h];S&&(Jwe(n,S,w,j,t),f&&S.l&&i["!links"].push([h,S.l]))}}var _=c.CodeName||c.name||a;return f&&qe(n,574,Bxe((l.Views||[])[0])),f&&(i["!merges"]||[]).length&&qe(n,229,Xxe(i["!merges"])),f&&Qwe(n,i),qe(n,442,kB(_)),f&&Ywe(n,i),qe(n,10),n.end()}function t2e(e,t,r){var n=Oa(),a=(e||{}).Workbook||{},i=a.Sheets||[],l=a.WBProps||{},c=r.biff==8,d=r.biff==5;if(qe(n,2057,L_(e,5,r)),r.bookType=="xla"&&qe(n,135),qe(n,225,c?Ps(1200):null),qe(n,193,_xe(2)),d&&qe(n,191),d&&qe(n,192),qe(n,226),qe(n,92,Rxe("SheetJS",r)),qe(n,66,Ps(c?1200:1252)),c&&qe(n,353,Ps(0)),c&&qe(n,448),qe(n,317,rye(e.SheetNames.length)),c&&e.vbaraw&&qe(n,211),c&&e.vbaraw){var f=l.CodeName||"ThisWorkbook";qe(n,442,kB(f))}qe(n,156,Ps(17)),qe(n,25,ca(!1)),qe(n,18,ca(!1)),qe(n,19,Ps(0)),c&&qe(n,431,ca(!1)),c&&qe(n,444,Ps(0)),qe(n,61,Lxe()),qe(n,64,ca(!1)),qe(n,141,Ps(0)),qe(n,34,ca(iwe(e)=="true")),qe(n,14,ca(!0)),c&&qe(n,439,ca(!1)),qe(n,218,Ps(0)),Gwe(n,e,r),Kwe(n,e.SSF,r),Xwe(n,r),c&&qe(n,352,ca(!1));var h=n.end(),p=Oa();c&&qe(p,140,Jxe()),c&&r.Strings&&Uwe(p,252,Fxe(r.Strings)),qe(p,10);var g=p.end(),y=Oa(),b=0,w=0;for(w=0;w<e.SheetNames.length;++w)b+=(c?12:11)+(c?2:1)*e.SheetNames[w].length;var j=h.length+b+g.length;for(w=0;w<e.SheetNames.length;++w){var S=i[w]||{};qe(y,133,Ixe({pos:j,hs:S.Hidden||0,dt:0,name:e.SheetNames[w]},r)),j+=t[w].length}var _=y.end();if(b!=_.length)throw new Error("BS8 "+b+" != "+_.length);var E=[];return h.length&&E.push(h),_.length&&E.push(_),g.length&&E.push(g),Vn(E)}function r2e(e,t){var r=t||{},n=[];e&&!e.SSF&&(e.SSF=Ra(qr)),e&&e.SSF&&(Py(),Dy(e.SSF),r.revssf=My(e.SSF),r.revssf[e.SSF[65535]]=0,r.ssf=e.SSF),r.Strings=[],r.Strings.Count=0,r.Strings.Unique=0,V_(r),r.cellXfs=[],Yo(r.cellXfs,{},{revssf:{General:0}}),e.Props||(e.Props={});for(var a=0;a<e.SheetNames.length;++a)n[n.length]=e2e(a,r,e);return n.unshift(t2e(e,n,r)),Vn(n)}function ZB(e,t){for(var r=0;r<=e.SheetNames.length;++r){var n=e.Sheets[e.SheetNames[r]];if(!(!n||!n["!ref"])){var a=ds(n["!ref"]);a.e.c>255&&typeof console<"u"&&console.error&&console.error("Worksheet '"+e.SheetNames[r]+"' extends beyond column IV (255).  Data may be lost.")}}var i=t||{};switch(i.biff||2){case 8:case 5:return r2e(e,t);case 4:case 3:case 2:return Wwe(e,t)}throw new Error("invalid type "+i.bookType+" for BIFF")}function n2e(e,t,r,n){for(var a=e["!merges"]||[],i=[],l=t.s.c;l<=t.e.c;++l){for(var c=0,d=0,f=0;f<a.length;++f)if(!(a[f].s.r>r||a[f].s.c>l)&&!(a[f].e.r<r||a[f].e.c<l)){if(a[f].s.r<r||a[f].s.c<l){c=-1;break}c=a[f].e.r-a[f].s.r+1,d=a[f].e.c-a[f].s.c+1;break}if(!(c<0)){var h=nr({r,c:l}),p=n.dense?(e[r]||[])[l]:e[h],g=p&&p.v!=null&&(p.h||Mge(p.w||(Al(p),p.w)||""))||"",y={};c>1&&(y.rowspan=c),d>1&&(y.colspan=d),n.editable?g='<span contenteditable="true">'+g+"</span>":p&&(y["data-t"]=p&&p.t||"z",p.v!=null&&(y["data-v"]=p.v),p.z!=null&&(y["data-z"]=p.z),p.l&&(p.l.Target||"#").charAt(0)!="#"&&(g='<a href="'+p.l.Target+'">'+g+"</a>")),y.id=(n.id||"sjs")+"-"+h,i.push(He("td",g,y))}}var b="<tr>";return b+i.join("")+"</tr>"}var a2e='<html><head><meta charset="utf-8"/><title>SheetJS Table Export</title></head><body>',s2e="</body></html>";function i2e(e,t,r){var n=[];return n.join("")+"<table"+(r&&r.id?' id="'+r.id+'"':"")+">"}function JB(e,t){var r=t||{},n=r.header!=null?r.header:a2e,a=r.footer!=null?r.footer:s2e,i=[n],l=ds(e["!ref"]);r.dense=Array.isArray(e),i.push(i2e(e,l,r));for(var c=l.s.r;c<=l.e.r;++c)i.push(n2e(e,l,c,r));return i.push("</table>"+a),i.join("")}function e$(e,t,r){var n=r||{},a=0,i=0;if(n.origin!=null)if(typeof n.origin=="number")a=n.origin;else{var l=typeof n.origin=="string"?_n(n.origin):n.origin;a=l.r,i=l.c}var c=t.getElementsByTagName("tr"),d=Math.min(n.sheetRows||1e7,c.length),f={s:{r:0,c:0},e:{r:a,c:i}};if(e["!ref"]){var h=ds(e["!ref"]);f.s.r=Math.min(f.s.r,h.s.r),f.s.c=Math.min(f.s.c,h.s.c),f.e.r=Math.max(f.e.r,h.e.r),f.e.c=Math.max(f.e.c,h.e.c),a==-1&&(f.e.r=a=h.e.r+1)}var p=[],g=0,y=e["!rows"]||(e["!rows"]=[]),b=0,w=0,j=0,S=0,_=0,E=0;for(e["!cols"]||(e["!cols"]=[]);b<c.length&&w<d;++b){var T=c[b];if(pP(T)){if(n.display)continue;y[w]={hidden:!0}}var A=T.children;for(j=S=0;j<A.length;++j){var C=A[j];if(!(n.display&&pP(C))){var O=C.hasAttribute("data-v")?C.getAttribute("data-v"):C.hasAttribute("v")?C.getAttribute("v"):Lge(C.innerHTML),P=C.getAttribute("data-z")||C.getAttribute("z");for(g=0;g<p.length;++g){var F=p[g];F.s.c==S+i&&F.s.r<w+a&&w+a<=F.e.r&&(S=F.e.c+1-i,g=-1)}E=+C.getAttribute("colspan")||1,((_=+C.getAttribute("rowspan")||1)>1||E>1)&&p.push({s:{r:w+a,c:S+i},e:{r:w+a+(_||1)-1,c:S+i+(E||1)-1}});var G={t:"s",v:O},W=C.getAttribute("data-t")||C.getAttribute("t")||"";O!=null&&(O.length==0?G.t=W||"z":n.raw||O.trim().length==0||W=="s"||(O==="TRUE"?G={t:"b",v:!0}:O==="FALSE"?G={t:"b",v:!1}:isNaN(pl(O))?isNaN(Mh(O).getDate())||(G={t:"d",v:ha(O)},n.cellDates||(G={t:"n",v:Ma(G.v)}),G.z=n.dateNF||qr[14]):G={t:"n",v:pl(O)})),G.z===void 0&&P!=null&&(G.z=P);var ee="",ue=C.getElementsByTagName("A");if(ue&&ue.length)for(var fe=0;fe<ue.length&&!(ue[fe].hasAttribute("href")&&(ee=ue[fe].getAttribute("href"),ee.charAt(0)!="#"));++fe);ee&&ee.charAt(0)!="#"&&(G.l={Target:ee}),n.dense?(e[w+a]||(e[w+a]=[]),e[w+a][S+i]=G):e[nr({c:S+i,r:w+a})]=G,f.e.c<S+i&&(f.e.c=S+i),S+=E}}++w}return p.length&&(e["!merges"]=(e["!merges"]||[]).concat(p)),f.e.r=Math.max(f.e.r,w-1+a),e["!ref"]=cn(f),w>=d&&(e["!fullref"]=cn((f.e.r=c.length-b+w-1+a,f))),e}function t$(e,t){var r=t||{},n=r.dense?[]:{};return e$(n,e,t)}function l2e(e,t){return mu(t$(e,t),t)}function pP(e){var t="",r=o2e(e);return r&&(t=r(e).getPropertyValue("display")),t||(t=e.style&&e.style.display),t==="none"}function o2e(e){return e.ownerDocument.defaultView&&typeof e.ownerDocument.defaultView.getComputedStyle=="function"?e.ownerDocument.defaultView.getComputedStyle:typeof getComputedStyle=="function"?getComputedStyle:null}var c2e=function(){var e=["<office:master-styles>",'<style:master-page style:name="mp1" style:page-layout-name="mp1">',"<style:header/>",'<style:header-left style:display="false"/>',"<style:footer/>",'<style:footer-left style:display="false"/>',"</style:master-page>","</office:master-styles>"].join(""),t="<office:document-styles "+Ih({"xmlns:office":"urn:oasis:names:tc:opendocument:xmlns:office:1.0","xmlns:table":"urn:oasis:names:tc:opendocument:xmlns:table:1.0","xmlns:style":"urn:oasis:names:tc:opendocument:xmlns:style:1.0","xmlns:text":"urn:oasis:names:tc:opendocument:xmlns:text:1.0","xmlns:draw":"urn:oasis:names:tc:opendocument:xmlns:drawing:1.0","xmlns:fo":"urn:oasis:names:tc:opendocument:xmlns:xsl-fo-compatible:1.0","xmlns:xlink":"http://www.w3.org/1999/xlink","xmlns:dc":"http://purl.org/dc/elements/1.1/","xmlns:number":"urn:oasis:names:tc:opendocument:xmlns:datastyle:1.0","xmlns:svg":"urn:oasis:names:tc:opendocument:xmlns:svg-compatible:1.0","xmlns:of":"urn:oasis:names:tc:opendocument:xmlns:of:1.2","office:version":"1.2"})+">"+e+"</office:document-styles>";return function(){return un+t}}(),gP=function(){var e=function(i){return rr(i).replace(/  +/g,function(l){return'<text:s text:c="'+l.length+'"/>'}).replace(/\t/g,"<text:tab/>").replace(/\n/g,"</text:p><text:p>").replace(/^ /,"<text:s/>").replace(/ $/,"<text:s/>")},t=`          <table:table-cell />
`,r=`          <table:covered-table-cell/>
`,n=function(i,l,c){var d=[];d.push('      <table:table table:name="'+rr(l.SheetNames[c])+`" table:style-name="ta1">
`);var f=0,h=0,p=ds(i["!ref"]||"A1"),g=i["!merges"]||[],y=0,b=Array.isArray(i);if(i["!cols"])for(h=0;h<=p.e.c;++h)d.push("        <table:table-column"+(i["!cols"][h]?' table:style-name="co'+i["!cols"][h].ods+'"':"")+`></table:table-column>
`);var w="",j=i["!rows"]||[];for(f=0;f<p.s.r;++f)w=j[f]?' table:style-name="ro'+j[f].ods+'"':"",d.push("        <table:table-row"+w+`></table:table-row>
`);for(;f<=p.e.r;++f){for(w=j[f]?' table:style-name="ro'+j[f].ods+'"':"",d.push("        <table:table-row"+w+`>
`),h=0;h<p.s.c;++h)d.push(t);for(;h<=p.e.c;++h){var S=!1,_={},E="";for(y=0;y!=g.length;++y)if(!(g[y].s.c>h)&&!(g[y].s.r>f)&&!(g[y].e.c<h)&&!(g[y].e.r<f)){(g[y].s.c!=h||g[y].s.r!=f)&&(S=!0),_["table:number-columns-spanned"]=g[y].e.c-g[y].s.c+1,_["table:number-rows-spanned"]=g[y].e.r-g[y].s.r+1;break}if(S){d.push(r);continue}var T=nr({r:f,c:h}),A=b?(i[f]||[])[h]:i[T];if(A&&A.f&&(_["table:formula"]=rr(Tbe(A.f)),A.F&&A.F.slice(0,T.length)==T)){var C=ds(A.F);_["table:number-matrix-columns-spanned"]=C.e.c-C.s.c+1,_["table:number-matrix-rows-spanned"]=C.e.r-C.s.r+1}if(!A){d.push(t);continue}switch(A.t){case"b":E=A.v?"TRUE":"FALSE",_["office:value-type"]="boolean",_["office:boolean-value"]=A.v?"true":"false";break;case"n":E=A.w||String(A.v||0),_["office:value-type"]="float",_["office:value"]=A.v||0;break;case"s":case"str":E=A.v==null?"":A.v,_["office:value-type"]="string";break;case"d":E=A.w||ha(A.v).toISOString(),_["office:value-type"]="date",_["office:date-value"]=ha(A.v).toISOString(),_["table:style-name"]="ce1";break;default:d.push(t);continue}var O=e(E);if(A.l&&A.l.Target){var P=A.l.Target;P=P.charAt(0)=="#"?"#"+Cbe(P.slice(1)):P,P.charAt(0)!="#"&&!P.match(/^\w+:/)&&(P="../"+P),O=He("text:a",O,{"xlink:href":P.replace(/&/g,"&amp;")})}d.push("          "+He("table:table-cell",He("text:p",O,{}),_)+`
`)}d.push(`        </table:table-row>
`)}return d.push(`      </table:table>
`),d.join("")},a=function(i,l){i.push(` <office:automatic-styles>
`),i.push(`  <number:date-style style:name="N37" number:automatic-order="true">
`),i.push(`   <number:month number:style="long"/>
`),i.push(`   <number:text>/</number:text>
`),i.push(`   <number:day number:style="long"/>
`),i.push(`   <number:text>/</number:text>
`),i.push(`   <number:year/>
`),i.push(`  </number:date-style>
`);var c=0;l.SheetNames.map(function(f){return l.Sheets[f]}).forEach(function(f){if(f&&f["!cols"]){for(var h=0;h<f["!cols"].length;++h)if(f["!cols"][h]){var p=f["!cols"][h];if(p.width==null&&p.wpx==null&&p.wch==null)continue;B_(p),p.ods=c;var g=f["!cols"][h].wpx+"px";i.push('  <style:style style:name="co'+c+`" style:family="table-column">
`),i.push('   <style:table-column-properties fo:break-before="auto" style:column-width="'+g+`"/>
`),i.push(`  </style:style>
`),++c}}});var d=0;l.SheetNames.map(function(f){return l.Sheets[f]}).forEach(function(f){if(f&&f["!rows"]){for(var h=0;h<f["!rows"].length;++h)if(f["!rows"][h]){f["!rows"][h].ods=d;var p=f["!rows"][h].hpx+"px";i.push('  <style:style style:name="ro'+d+`" style:family="table-row">
`),i.push('   <style:table-row-properties fo:break-before="auto" style:row-height="'+p+`"/>
`),i.push(`  </style:style>
`),++d}}}),i.push(`  <style:style style:name="ta1" style:family="table" style:master-page-name="mp1">
`),i.push(`   <style:table-properties table:display="true" style:writing-mode="lr-tb"/>
`),i.push(`  </style:style>
`),i.push(`  <style:style style:name="ce1" style:family="table-cell" style:parent-style-name="Default" style:data-style-name="N37"/>
`),i.push(` </office:automatic-styles>
`)};return function(l,c){var d=[un],f=Ih({"xmlns:office":"urn:oasis:names:tc:opendocument:xmlns:office:1.0","xmlns:table":"urn:oasis:names:tc:opendocument:xmlns:table:1.0","xmlns:style":"urn:oasis:names:tc:opendocument:xmlns:style:1.0","xmlns:text":"urn:oasis:names:tc:opendocument:xmlns:text:1.0","xmlns:draw":"urn:oasis:names:tc:opendocument:xmlns:drawing:1.0","xmlns:fo":"urn:oasis:names:tc:opendocument:xmlns:xsl-fo-compatible:1.0","xmlns:xlink":"http://www.w3.org/1999/xlink","xmlns:dc":"http://purl.org/dc/elements/1.1/","xmlns:meta":"urn:oasis:names:tc:opendocument:xmlns:meta:1.0","xmlns:number":"urn:oasis:names:tc:opendocument:xmlns:datastyle:1.0","xmlns:presentation":"urn:oasis:names:tc:opendocument:xmlns:presentation:1.0","xmlns:svg":"urn:oasis:names:tc:opendocument:xmlns:svg-compatible:1.0","xmlns:chart":"urn:oasis:names:tc:opendocument:xmlns:chart:1.0","xmlns:dr3d":"urn:oasis:names:tc:opendocument:xmlns:dr3d:1.0","xmlns:math":"http://www.w3.org/1998/Math/MathML","xmlns:form":"urn:oasis:names:tc:opendocument:xmlns:form:1.0","xmlns:script":"urn:oasis:names:tc:opendocument:xmlns:script:1.0","xmlns:ooo":"http://openoffice.org/2004/office","xmlns:ooow":"http://openoffice.org/2004/writer","xmlns:oooc":"http://openoffice.org/2004/calc","xmlns:dom":"http://www.w3.org/2001/xml-events","xmlns:xforms":"http://www.w3.org/2002/xforms","xmlns:xsd":"http://www.w3.org/2001/XMLSchema","xmlns:xsi":"http://www.w3.org/2001/XMLSchema-instance","xmlns:sheet":"urn:oasis:names:tc:opendocument:sh33tjs:1.0","xmlns:rpt":"http://openoffice.org/2005/report","xmlns:of":"urn:oasis:names:tc:opendocument:xmlns:of:1.2","xmlns:xhtml":"http://www.w3.org/1999/xhtml","xmlns:grddl":"http://www.w3.org/2003/g/data-view#","xmlns:tableooo":"http://openoffice.org/2009/table","xmlns:drawooo":"http://openoffice.org/2010/draw","xmlns:calcext":"urn:org:documentfoundation:names:experimental:calc:xmlns:calcext:1.0","xmlns:loext":"urn:org:documentfoundation:names:experimental:office:xmlns:loext:1.0","xmlns:field":"urn:openoffice:names:experimental:ooo-ms-interop:xmlns:field:1.0","xmlns:formx":"urn:openoffice:names:experimental:ooxml-odf-interop:xmlns:form:1.0","xmlns:css3t":"http://www.w3.org/TR/css3-text/","office:version":"1.2"}),h=Ih({"xmlns:config":"urn:oasis:names:tc:opendocument:xmlns:config:1.0","office:mimetype":"application/vnd.oasis.opendocument.spreadsheet"});c.bookType=="fods"?(d.push("<office:document"+f+h+`>
`),d.push(gB().replace(/office:document-meta/g,"office:meta"))):d.push("<office:document-content"+f+`>
`),a(d,l),d.push(`  <office:body>
`),d.push(`    <office:spreadsheet>
`);for(var p=0;p!=l.SheetNames.length;++p)d.push(n(l.Sheets[l.SheetNames[p]],l,p));return d.push(`    </office:spreadsheet>
`),d.push(`  </office:body>
`),c.bookType=="fods"?d.push("</office:document>"):d.push("</office:document-content>"),d.join("")}}();function r$(e,t){if(t.bookType=="fods")return gP(e,t);var r=A_(),n="",a=[],i=[];return n="mimetype",wt(r,n,"application/vnd.oasis.opendocument.spreadsheet"),n="content.xml",wt(r,n,gP(e,t)),a.push([n,"text/xml"]),i.push([n,"ContentFile"]),n="styles.xml",wt(r,n,c2e(e,t)),a.push([n,"text/xml"]),i.push([n,"StylesFile"]),n="meta.xml",wt(r,n,un+gB()),a.push([n,"text/xml"]),i.push([n,"MetadataFile"]),n="manifest.rdf",wt(r,n,wxe(i)),a.push([n,"application/rdf+xml"]),n="META-INF/manifest.xml",wt(r,n,vxe(a)),r}/*! sheetjs (C) 2013-present SheetJS -- http://sheetjs.com */function Ax(e){return new DataView(e.buffer,e.byteOffset,e.byteLength)}function u2e(e){return typeof TextEncoder<"u"?new TextEncoder().encode(e):ii(Rh(e))}function d2e(e,t){e:for(var r=0;r<=e.length-t.length;++r){for(var n=0;n<t.length;++n)if(e[r+n]!=t[n])continue e;return!0}return!1}function Bo(e){var t=e.reduce(function(a,i){return a+i.length},0),r=new Uint8Array(t),n=0;return e.forEach(function(a){r.set(a,n),n+=a.length}),r}function f2e(e,t,r){var n=Math.floor(r==0?0:Math.LOG10E*Math.log(Math.abs(r)))+6176-20,a=r/Math.pow(10,n-6176);e[t+15]|=n>>7,e[t+14]|=(n&127)<<1;for(var i=0;a>=1;++i,a/=256)e[t+i]=a&255;e[t+15]|=r>=0?0:128}function Fh(e,t){var r=t?t[0]:0,n=e[r]&127;e:if(e[r++]>=128&&(n|=(e[r]&127)<<7,e[r++]<128||(n|=(e[r]&127)<<14,e[r++]<128)||(n|=(e[r]&127)<<21,e[r++]<128)||(n+=(e[r]&127)*Math.pow(2,28),++r,e[r++]<128)||(n+=(e[r]&127)*Math.pow(2,35),++r,e[r++]<128)||(n+=(e[r]&127)*Math.pow(2,42),++r,e[r++]<128)))break e;return t&&(t[0]=r),n}function Zt(e){var t=new Uint8Array(7);t[0]=e&127;var r=1;e:if(e>127){if(t[r-1]|=128,t[r]=e>>7&127,++r,e<=16383||(t[r-1]|=128,t[r]=e>>14&127,++r,e<=2097151)||(t[r-1]|=128,t[r]=e>>21&127,++r,e<=268435455)||(t[r-1]|=128,t[r]=e/256>>>21&127,++r,e<=34359738367)||(t[r-1]|=128,t[r]=e/65536>>>21&127,++r,e<=4398046511103))break e;t[r-1]|=128,t[r]=e/16777216>>>21&127,++r}return t.slice(0,r)}function wd(e){var t=0,r=e[t]&127;e:if(e[t++]>=128){if(r|=(e[t]&127)<<7,e[t++]<128||(r|=(e[t]&127)<<14,e[t++]<128)||(r|=(e[t]&127)<<21,e[t++]<128))break e;r|=(e[t]&127)<<28}return r}function pn(e){for(var t=[],r=[0];r[0]<e.length;){var n=r[0],a=Fh(e,r),i=a&7;a=Math.floor(a/8);var l=0,c;if(a==0)break;switch(i){case 0:{for(var d=r[0];e[r[0]++]>=128;);c=e.slice(d,r[0])}break;case 5:l=4,c=e.slice(r[0],r[0]+l),r[0]+=l;break;case 1:l=8,c=e.slice(r[0],r[0]+l),r[0]+=l;break;case 2:l=Fh(e,r),c=e.slice(r[0],r[0]+l),r[0]+=l;break;case 3:case 4:default:throw new Error("PB Type ".concat(i," for Field ").concat(a," at offset ").concat(n))}var f={data:c,type:i};t[a]==null?t[a]=[f]:t[a].push(f)}return t}function Bn(e){var t=[];return e.forEach(function(r,n){r.forEach(function(a){a.data&&(t.push(Zt(n*8+a.type)),a.type==2&&t.push(Zt(a.data.length)),t.push(a.data))})}),Bo(t)}function ei(e){for(var t,r=[],n=[0];n[0]<e.length;){var a=Fh(e,n),i=pn(e.slice(n[0],n[0]+a));n[0]+=a;var l={id:wd(i[1][0].data),messages:[]};i[2].forEach(function(c){var d=pn(c.data),f=wd(d[3][0].data);l.messages.push({meta:d,data:e.slice(n[0],n[0]+f)}),n[0]+=f}),(t=i[3])!=null&&t[0]&&(l.merge=wd(i[3][0].data)>>>0>0),r.push(l)}return r}function Ju(e){var t=[];return e.forEach(function(r){var n=[];n[1]=[{data:Zt(r.id),type:0}],n[2]=[],r.merge!=null&&(n[3]=[{data:Zt(+!!r.merge),type:0}]);var a=[];r.messages.forEach(function(l){a.push(l.data),l.meta[3]=[{type:0,data:Zt(l.data.length)}],n[2].push({data:Bn(l.meta),type:2})});var i=Bn(n);t.push(Zt(i.length)),t.push(i),a.forEach(function(l){return t.push(l)})}),Bo(t)}function h2e(e,t){if(e!=0)throw new Error("Unexpected Snappy chunk type ".concat(e));for(var r=[0],n=Fh(t,r),a=[];r[0]<t.length;){var i=t[r[0]]&3;if(i==0){var l=t[r[0]++]>>2;if(l<60)++l;else{var c=l-59;l=t[r[0]],c>1&&(l|=t[r[0]+1]<<8),c>2&&(l|=t[r[0]+2]<<16),c>3&&(l|=t[r[0]+3]<<24),l>>>=0,l++,r[0]+=c}a.push(t.slice(r[0],r[0]+l)),r[0]+=l;continue}else{var d=0,f=0;if(i==1?(f=(t[r[0]]>>2&7)+4,d=(t[r[0]++]&224)<<3,d|=t[r[0]++]):(f=(t[r[0]++]>>2)+1,i==2?(d=t[r[0]]|t[r[0]+1]<<8,r[0]+=2):(d=(t[r[0]]|t[r[0]+1]<<8|t[r[0]+2]<<16|t[r[0]+3]<<24)>>>0,r[0]+=4)),a=[Bo(a)],d==0)throw new Error("Invalid offset 0");if(d>a[0].length)throw new Error("Invalid offset beyond length");if(f>=d)for(a.push(a[0].slice(-d)),f-=d;f>=a[a.length-1].length;)a.push(a[a.length-1]),f-=a[a.length-1].length;a.push(a[0].slice(-d,-d+f))}}var h=Bo(a);if(h.length!=n)throw new Error("Unexpected length: ".concat(h.length," != ").concat(n));return h}function ti(e){for(var t=[],r=0;r<e.length;){var n=e[r++],a=e[r]|e[r+1]<<8|e[r+2]<<16;r+=3,t.push(h2e(n,e.slice(r,r+a))),r+=a}if(r!==e.length)throw new Error("data is not a valid framed stream!");return Bo(t)}function ed(e){for(var t=[],r=0;r<e.length;){var n=Math.min(e.length-r,268435455),a=new Uint8Array(4);t.push(a);var i=Zt(n),l=i.length;t.push(i),n<=60?(l++,t.push(new Uint8Array([n-1<<2]))):n<=256?(l+=2,t.push(new Uint8Array([240,n-1&255]))):n<=65536?(l+=3,t.push(new Uint8Array([244,n-1&255,n-1>>8&255]))):n<=16777216?(l+=4,t.push(new Uint8Array([248,n-1&255,n-1>>8&255,n-1>>16&255]))):n<=4294967296&&(l+=5,t.push(new Uint8Array([252,n-1&255,n-1>>8&255,n-1>>16&255,n-1>>>24&255]))),t.push(e.slice(r,r+n)),l+=n,a[0]=0,a[1]=l&255,a[2]=l>>8&255,a[3]=l>>16&255,r+=n}return Bo(t)}function m2(e,t){var r=new Uint8Array(32),n=Ax(r),a=12,i=0;switch(r[0]=5,e.t){case"n":r[1]=2,f2e(r,a,e.v),i|=1,a+=16;break;case"b":r[1]=6,n.setFloat64(a,e.v?1:0,!0),i|=2,a+=8;break;case"s":if(t.indexOf(e.v)==-1)throw new Error("Value ".concat(e.v," missing from SST!"));r[1]=3,n.setUint32(a,t.indexOf(e.v),!0),i|=8,a+=4;break;default:throw"unsupported cell type "+e.t}return n.setUint32(8,i,!0),r.slice(0,a)}function p2(e,t){var r=new Uint8Array(32),n=Ax(r),a=12,i=0;switch(r[0]=3,e.t){case"n":r[2]=2,n.setFloat64(a,e.v,!0),i|=32,a+=8;break;case"b":r[2]=6,n.setFloat64(a,e.v?1:0,!0),i|=32,a+=8;break;case"s":if(t.indexOf(e.v)==-1)throw new Error("Value ".concat(e.v," missing from SST!"));r[2]=3,n.setUint32(a,t.indexOf(e.v),!0),i|=16,a+=4;break;default:throw"unsupported cell type "+e.t}return n.setUint32(4,i,!0),r.slice(0,a)}function co(e){var t=pn(e);return Fh(t[1][0].data)}function m2e(e,t,r){var n,a,i,l;if(!((n=e[6])!=null&&n[0])||!((a=e[7])!=null&&a[0]))throw"Mutation only works on post-BNC storages!";var c=((l=(i=e[8])==null?void 0:i[0])==null?void 0:l.data)&&wd(e[8][0].data)>0||!1;if(c)throw"Math only works with normal offsets";for(var d=0,f=Ax(e[7][0].data),h=0,p=[],g=Ax(e[4][0].data),y=0,b=[],w=0;w<t.length;++w){if(t[w]==null){f.setUint16(w*2,65535,!0),g.setUint16(w*2,65535);continue}f.setUint16(w*2,h,!0),g.setUint16(w*2,y,!0);var j,S;switch(typeof t[w]){case"string":j=m2({t:"s",v:t[w]},r),S=p2({t:"s",v:t[w]},r);break;case"number":j=m2({t:"n",v:t[w]},r),S=p2({t:"n",v:t[w]},r);break;case"boolean":j=m2({t:"b",v:t[w]},r),S=p2({t:"b",v:t[w]},r);break;default:throw new Error("Unsupported value "+t[w])}p.push(j),h+=j.length,b.push(S),y+=S.length,++d}for(e[2][0].data=Zt(d);w<e[7][0].data.length/2;++w)f.setUint16(w*2,65535,!0),g.setUint16(w*2,65535,!0);return e[6][0].data=Bo(p),e[3][0].data=Bo(b),d}function p2e(e,t){if(!t||!t.numbers)throw new Error("Must pass a `numbers` option -- check the README");var r=e.Sheets[e.SheetNames[0]];e.SheetNames.length>1&&console.error("The Numbers writer currently writes only the first table");var n=ds(r["!ref"]);n.s.r=n.s.c=0;var a=!1;n.e.c>9&&(a=!0,n.e.c=9),n.e.r>49&&(a=!0,n.e.r=49),a&&console.error("The Numbers writer is currently limited to ".concat(cn(n)));var i=Tx(r,{range:n,header:1}),l=["~Sh33tJ5~"];i.forEach(function(H){return H.forEach(function(B){typeof B=="string"&&l.push(B)})});var c={},d=[],f=cr.read(t.numbers,{type:"base64"});f.FileIndex.map(function(H,B){return[H,f.FullPaths[B]]}).forEach(function(H){var B=H[0],V=H[1];if(B.type==2&&B.name.match(/\.iwa/)){var le=B.content,De=ti(le),re=ei(De);re.forEach(function(ie){d.push(ie.id),c[ie.id]={deps:[],location:V,type:wd(ie.messages[0].meta[1][0].data)}})}}),d.sort(function(H,B){return H-B});var h=d.filter(function(H){return H>1}).map(function(H){return[H,Zt(H)]});f.FileIndex.map(function(H,B){return[H,f.FullPaths[B]]}).forEach(function(H){var B=H[0];if(H[1],!!B.name.match(/\.iwa/)){var V=ei(ti(B.content));V.forEach(function(le){le.messages.forEach(function(De){h.forEach(function(re){le.messages.some(function(ie){return wd(ie.meta[1][0].data)!=11006&&d2e(ie.data,re[1])})&&c[re[0]].deps.push(le.id)})})})}});for(var p=cr.find(f,c[1].location),g=ei(ti(p.content)),y,b=0;b<g.length;++b){var w=g[b];w.id==1&&(y=w)}var j=co(pn(y.messages[0].data)[1][0].data);for(p=cr.find(f,c[j].location),g=ei(ti(p.content)),b=0;b<g.length;++b)w=g[b],w.id==j&&(y=w);for(j=co(pn(y.messages[0].data)[2][0].data),p=cr.find(f,c[j].location),g=ei(ti(p.content)),b=0;b<g.length;++b)w=g[b],w.id==j&&(y=w);for(j=co(pn(y.messages[0].data)[2][0].data),p=cr.find(f,c[j].location),g=ei(ti(p.content)),b=0;b<g.length;++b)w=g[b],w.id==j&&(y=w);var S=pn(y.messages[0].data);{S[6][0].data=Zt(n.e.r+1),S[7][0].data=Zt(n.e.c+1);var _=co(S[46][0].data),E=cr.find(f,c[_].location),T=ei(ti(E.content));{for(var A=0;A<T.length&&T[A].id!=_;++A);if(T[A].id!=_)throw"Bad ColumnRowUIDMapArchive";var C=pn(T[A].messages[0].data);C[1]=[],C[2]=[],C[3]=[];for(var O=0;O<=n.e.c;++O){var P=[];P[1]=P[2]=[{type:0,data:Zt(O+420690)}],C[1].push({type:2,data:Bn(P)}),C[2].push({type:0,data:Zt(O)}),C[3].push({type:0,data:Zt(O)})}C[4]=[],C[5]=[],C[6]=[];for(var F=0;F<=n.e.r;++F)P=[],P[1]=P[2]=[{type:0,data:Zt(F+726270)}],C[4].push({type:2,data:Bn(P)}),C[5].push({type:0,data:Zt(F)}),C[6].push({type:0,data:Zt(F)});T[A].messages[0].data=Bn(C)}E.content=ed(Ju(T)),E.size=E.content.length,delete S[46];var G=pn(S[4][0].data);{G[7][0].data=Zt(n.e.r+1);var W=pn(G[1][0].data),ee=co(W[2][0].data);E=cr.find(f,c[ee].location),T=ei(ti(E.content));{if(T[0].id!=ee)throw"Bad HeaderStorageBucket";var ue=pn(T[0].messages[0].data);for(F=0;F<i.length;++F){var fe=pn(ue[2][0].data);fe[1][0].data=Zt(F),fe[4][0].data=Zt(i[F].length),ue[2][F]={type:ue[2][0].type,data:Bn(fe)}}T[0].messages[0].data=Bn(ue)}E.content=ed(Ju(T)),E.size=E.content.length;var Q=co(G[2][0].data);E=cr.find(f,c[Q].location),T=ei(ti(E.content));{if(T[0].id!=Q)throw"Bad HeaderStorageBucket";for(ue=pn(T[0].messages[0].data),O=0;O<=n.e.c;++O)fe=pn(ue[2][0].data),fe[1][0].data=Zt(O),fe[4][0].data=Zt(n.e.r+1),ue[2][O]={type:ue[2][0].type,data:Bn(fe)};T[0].messages[0].data=Bn(ue)}E.content=ed(Ju(T)),E.size=E.content.length;var K=co(G[4][0].data);(function(){for(var H=cr.find(f,c[K].location),B=ei(ti(H.content)),V,le=0;le<B.length;++le){var De=B[le];De.id==K&&(V=De)}var re=pn(V.messages[0].data);{re[3]=[];var ie=[];l.forEach(function(me,Xe){ie[1]=[{type:0,data:Zt(Xe)}],ie[2]=[{type:0,data:Zt(1)}],ie[3]=[{type:2,data:u2e(me)}],re[3].push({type:2,data:Bn(ie)})})}V.messages[0].data=Bn(re);var de=Ju(B),oe=ed(de);H.content=oe,H.size=H.content.length})();var J=pn(G[3][0].data);{var se=J[1][0];delete J[2];var xe=pn(se.data);{var U=co(xe[2][0].data);(function(){for(var H=cr.find(f,c[U].location),B=ei(ti(H.content)),V,le=0;le<B.length;++le){var De=B[le];De.id==U&&(V=De)}var re=pn(V.messages[0].data);{delete re[6],delete J[7];var ie=new Uint8Array(re[5][0].data);re[5]=[];for(var de=0,oe=0;oe<=n.e.r;++oe){var me=pn(ie);de+=m2e(me,i[oe],l),me[1][0].data=Zt(oe),re[5].push({data:Bn(me),type:2})}re[1]=[{type:0,data:Zt(n.e.c+1)}],re[2]=[{type:0,data:Zt(n.e.r+1)}],re[3]=[{type:0,data:Zt(de)}],re[4]=[{type:0,data:Zt(n.e.r+1)}]}V.messages[0].data=Bn(re);var Xe=Ju(B),Ue=ed(Xe);H.content=Ue,H.size=H.content.length})()}se.data=Bn(xe)}G[3][0].data=Bn(J)}S[4][0].data=Bn(G)}y.messages[0].data=Bn(S);var ae=Ju(g),D=ed(ae);return p.content=D,p.size=p.content.length,f}function g2e(e){return function(r){for(var n=0;n!=e.length;++n){var a=e[n];r[a[0]]===void 0&&(r[a[0]]=a[1]),a[2]==="n"&&(r[a[0]]=Number(r[a[0]]))}}}function V_(e){g2e([["cellDates",!1],["bookSST",!1],["bookType","xlsx"],["compression",!1],["WTF",!1]])(e)}function x2e(e,t){return t.bookType=="ods"?r$(e,t):t.bookType=="numbers"?p2e(e,t):t.bookType=="xlsb"?y2e(e,t):v2e(e,t)}function y2e(e,t){hd=1024,e&&!e.SSF&&(e.SSF=Ra(qr)),e&&e.SSF&&(Py(),Dy(e.SSF),t.revssf=My(e.SSF),t.revssf[e.SSF[65535]]=0,t.ssf=e.SSF),t.rels={},t.wbrels={},t.Strings=[],t.Strings.Count=0,t.Strings.Unique=0,eh?t.revStrings=new Map:(t.revStrings={},t.revStrings.foo=[],delete t.revStrings.foo);var r=t.bookType=="xlsb"?"bin":"xml",n=LB.indexOf(t.bookType)>-1,a=hB();V_(t=t||{});var i=A_(),l="",c=0;if(t.cellXfs=[],Yo(t.cellXfs,{},{revssf:{General:0}}),e.Props||(e.Props={}),l="docProps/core.xml",wt(i,l,xB(e.Props,t)),a.coreprops.push(l),er(t.rels,2,l,It.CORE_PROPS),l="docProps/app.xml",!(e.Props&&e.Props.SheetNames))if(!e.Workbook||!e.Workbook.Sheets)e.Props.SheetNames=e.SheetNames;else{for(var d=[],f=0;f<e.SheetNames.length;++f)(e.Workbook.Sheets[f]||{}).Hidden!=2&&d.push(e.SheetNames[f]);e.Props.SheetNames=d}for(e.Props.Worksheets=e.Props.SheetNames.length,wt(i,l,vB(e.Props)),a.extprops.push(l),er(t.rels,3,l,It.EXT_PROPS),e.Custprops!==e.Props&&Kn(e.Custprops||{}).length>0&&(l="docProps/custom.xml",wt(i,l,bB(e.Custprops)),a.custprops.push(l),er(t.rels,4,l,It.CUST_PROPS)),c=1;c<=e.SheetNames.length;++c){var h={"!id":{}},p=e.Sheets[e.SheetNames[c-1]],g=(p||{})["!type"]||"sheet";switch(g){case"chart":default:l="xl/worksheets/sheet"+c+"."+r,wt(i,l,wwe(c-1,l,t,e,h)),a.sheets.push(l),er(t.wbrels,-1,"worksheets/sheet"+c+"."+r,It.WS[0])}if(p){var y=p["!comments"],b=!1,w="";y&&y.length>0&&(w="xl/comments"+c+"."+r,wt(i,w,Swe(y,w)),a.comments.push(w),er(h,-1,"../comments"+c+"."+r,It.CMNT),b=!0),p["!legacy"]&&b&&wt(i,"xl/drawings/vmlDrawing"+c+".vml",IB(c,p["!comments"])),delete p["!comments"],delete p["!legacy"]}h["!id"].rId1&&wt(i,pB(l),vd(h))}return t.Strings!=null&&t.Strings.length>0&&(l="xl/sharedStrings."+r,wt(i,l,Nwe(t.Strings,l,t)),a.strs.push(l),er(t.wbrels,-1,"sharedStrings."+r,It.SST)),l="xl/workbook."+r,wt(i,l,bwe(e,l)),a.workbooks.push(l),er(t.rels,1,l,It.WB),l="xl/theme/theme1.xml",wt(i,l,MB(e.Themes,t)),a.themes.push(l),er(t.wbrels,-1,"theme/theme1.xml",It.THEME),l="xl/styles."+r,wt(i,l,jwe(e,l,t)),a.styles.push(l),er(t.wbrels,-1,"styles."+r,It.STY),e.vbaraw&&n&&(l="xl/vbaProject.bin",wt(i,l,e.vbaraw),a.vba.push(l),er(t.wbrels,-1,"vbaProject.bin",It.VBA)),l="xl/metadata."+r,wt(i,l,kwe(l)),a.metadata.push(l),er(t.wbrels,-1,"metadata."+r,It.XLMETA),wt(i,"[Content_Types].xml",mB(a,t)),wt(i,"_rels/.rels",vd(t.rels)),wt(i,"xl/_rels/workbook."+r+".rels",vd(t.wbrels)),delete t.revssf,delete t.ssf,i}function v2e(e,t){hd=1024,e&&!e.SSF&&(e.SSF=Ra(qr)),e&&e.SSF&&(Py(),Dy(e.SSF),t.revssf=My(e.SSF),t.revssf[e.SSF[65535]]=0,t.ssf=e.SSF),t.rels={},t.wbrels={},t.Strings=[],t.Strings.Count=0,t.Strings.Unique=0,eh?t.revStrings=new Map:(t.revStrings={},t.revStrings.foo=[],delete t.revStrings.foo);var r="xml",n=LB.indexOf(t.bookType)>-1,a=hB();V_(t=t||{});var i=A_(),l="",c=0;if(t.cellXfs=[],Yo(t.cellXfs,{},{revssf:{General:0}}),e.Props||(e.Props={}),l="docProps/core.xml",wt(i,l,xB(e.Props,t)),a.coreprops.push(l),er(t.rels,2,l,It.CORE_PROPS),l="docProps/app.xml",!(e.Props&&e.Props.SheetNames))if(!e.Workbook||!e.Workbook.Sheets)e.Props.SheetNames=e.SheetNames;else{for(var d=[],f=0;f<e.SheetNames.length;++f)(e.Workbook.Sheets[f]||{}).Hidden!=2&&d.push(e.SheetNames[f]);e.Props.SheetNames=d}e.Props.Worksheets=e.Props.SheetNames.length,wt(i,l,vB(e.Props)),a.extprops.push(l),er(t.rels,3,l,It.EXT_PROPS),e.Custprops!==e.Props&&Kn(e.Custprops||{}).length>0&&(l="docProps/custom.xml",wt(i,l,bB(e.Custprops)),a.custprops.push(l),er(t.rels,4,l,It.CUST_PROPS));var h=["SheetJ5"];for(t.tcid=0,c=1;c<=e.SheetNames.length;++c){var p={"!id":{}},g=e.Sheets[e.SheetNames[c-1]],y=(g||{})["!type"]||"sheet";switch(y){case"chart":default:l="xl/worksheets/sheet"+c+"."+r,wt(i,l,GB(c-1,t,e,p)),a.sheets.push(l),er(t.wbrels,-1,"worksheets/sheet"+c+"."+r,It.WS[0])}if(g){var b=g["!comments"],w=!1,j="";if(b&&b.length>0){var S=!1;b.forEach(function(_){_[1].forEach(function(E){E.T==!0&&(S=!0)})}),S&&(j="xl/threadedComments/threadedComment"+c+"."+r,wt(i,j,Xye(b,h,t)),a.threadedcomments.push(j),er(p,-1,"../threadedComments/threadedComment"+c+"."+r,It.TCMNT)),j="xl/comments"+c+"."+r,wt(i,j,FB(b)),a.comments.push(j),er(p,-1,"../comments"+c+"."+r,It.CMNT),w=!0}g["!legacy"]&&w&&wt(i,"xl/drawings/vmlDrawing"+c+".vml",IB(c,g["!comments"])),delete g["!comments"],delete g["!legacy"]}p["!id"].rId1&&wt(i,pB(l),vd(p))}return t.Strings!=null&&t.Strings.length>0&&(l="xl/sharedStrings."+r,wt(i,l,AB(t.Strings,t)),a.strs.push(l),er(t.wbrels,-1,"sharedStrings."+r,It.SST)),l="xl/workbook."+r,wt(i,l,XB(e)),a.workbooks.push(l),er(t.rels,1,l,It.WB),l="xl/theme/theme1.xml",wt(i,l,MB(e.Themes,t)),a.themes.push(l),er(t.wbrels,-1,"theme/theme1.xml",It.THEME),l="xl/styles."+r,wt(i,l,DB(e,t)),a.styles.push(l),er(t.wbrels,-1,"styles."+r,It.STY),e.vbaraw&&n&&(l="xl/vbaProject.bin",wt(i,l,e.vbaraw),a.vba.push(l),er(t.wbrels,-1,"vbaProject.bin",It.VBA)),l="xl/metadata."+r,wt(i,l,RB()),a.metadata.push(l),er(t.wbrels,-1,"metadata."+r,It.XLMETA),h.length>1&&(l="xl/persons/person.xml",wt(i,l,Qye(h)),a.people.push(l),er(t.wbrels,-1,"persons/person.xml",It.PEOPLE)),wt(i,"[Content_Types].xml",mB(a,t)),wt(i,"_rels/.rels",vd(t.rels)),wt(i,"xl/_rels/workbook."+r+".rels",vd(t.wbrels)),delete t.revssf,delete t.ssf,i}function b2e(e,t){var r="";switch((t||{}).type||"base64"){case"buffer":return[e[0],e[1],e[2],e[3],e[4],e[5],e[6],e[7]];case"base64":r=El(e.slice(0,12));break;case"binary":r=e;break;case"array":return[e[0],e[1],e[2],e[3],e[4],e[5],e[6],e[7]];default:throw new Error("Unrecognized type "+(t&&t.type||"undefined"))}return[r.charCodeAt(0),r.charCodeAt(1),r.charCodeAt(2),r.charCodeAt(3),r.charCodeAt(4),r.charCodeAt(5),r.charCodeAt(6),r.charCodeAt(7)]}function n$(e,t){switch(t.type){case"base64":case"binary":break;case"buffer":case"array":t.type="";break;case"file":return pm(t.file,cr.write(e,{type:zt?"buffer":""}));case"string":throw new Error("'string' output type invalid for '"+t.bookType+"' files");default:throw new Error("Unrecognized type "+t.type)}return cr.write(e,t)}function w2e(e,t){var r=Ra(t||{}),n=x2e(e,r);return j2e(n,r)}function j2e(e,t){var r={},n=zt?"nodebuffer":typeof Uint8Array<"u"?"array":"string";if(t.compression&&(r.compression="DEFLATE"),t.password)r.type=n;else switch(t.type){case"base64":r.type="base64";break;case"binary":r.type="string";break;case"string":throw new Error("'string' output type invalid for '"+t.bookType+"' files");case"buffer":case"file":r.type=n;break;default:throw new Error("Unrecognized type "+t.type)}var a=e.FullPaths?cr.write(e,{fileType:"zip",type:{nodebuffer:"buffer",string:"binary"}[r.type]||r.type,compression:!!t.compression}):e.generate(r);if(typeof Deno<"u"&&typeof a=="string"){if(t.type=="binary"||t.type=="base64")return a;a=new Uint8Array(Oy(a))}return t.password&&typeof encrypt_agile<"u"?n$(encrypt_agile(a,t.password),t):t.type==="file"?pm(t.file,a):t.type=="string"?X0(a):a}function N2e(e,t){var r=t||{},n=Bwe(e,r);return n$(n,r)}function ki(e,t,r){r||(r="");var n=r+e;switch(t.type){case"base64":return Ph(Rh(n));case"binary":return Rh(n);case"string":return e;case"file":return pm(t.file,n,"utf8");case"buffer":return zt?Rl(n,"utf8"):typeof TextEncoder<"u"?new TextEncoder().encode(n):ki(n,{type:"binary"}).split("").map(function(a){return a.charCodeAt(0)})}throw new Error("Unrecognized type "+t.type)}function S2e(e,t){switch(t.type){case"base64":return Ph(e);case"binary":return e;case"string":return e;case"file":return pm(t.file,e,"binary");case"buffer":return zt?Rl(e,"binary"):e.split("").map(function(r){return r.charCodeAt(0)})}throw new Error("Unrecognized type "+t.type)}function ig(e,t){switch(t.type){case"string":case"base64":case"binary":for(var r="",n=0;n<e.length;++n)r+=String.fromCharCode(e[n]);return t.type=="base64"?Ph(r):t.type=="string"?X0(r):r;case"file":return pm(t.file,e);case"buffer":return e;default:throw new Error("Unrecognized type "+t.type)}}function a$(e,t){Zpe(),cwe(e);var r=Ra(t||{});if(r.cellStyles&&(r.cellNF=!0,r.sheetStubs=!0),r.type=="array"){r.type="binary";var n=a$(e,r);return r.type="array",Oy(n)}var a=0;if(r.sheet&&(typeof r.sheet=="number"?a=r.sheet:a=e.SheetNames.indexOf(r.sheet),!e.SheetNames[a]))throw new Error("Sheet not found: "+r.sheet+" : "+typeof r.sheet);switch(r.bookType||"xlsb"){case"xml":case"xlml":return ki(Fwe(e,r),r);case"slk":case"sylk":return ki(iye.from_sheet(e.Sheets[e.SheetNames[a]],r),r);case"htm":case"html":return ki(JB(e.Sheets[e.SheetNames[a]],r),r);case"txt":return S2e(i$(e.Sheets[e.SheetNames[a]],r),r);case"csv":return ki(q_(e.Sheets[e.SheetNames[a]],r),r,"\uFEFF");case"dif":return ki(lye.from_sheet(e.Sheets[e.SheetNames[a]],r),r);case"dbf":return ig(sye.from_sheet(e.Sheets[e.SheetNames[a]],r),r);case"prn":return ki(oye.from_sheet(e.Sheets[e.SheetNames[a]],r),r);case"rtf":return ki(pye.from_sheet(e.Sheets[e.SheetNames[a]],r),r);case"eth":return ki(EB.from_sheet(e.Sheets[e.SheetNames[a]],r),r);case"fods":return ki(r$(e,r),r);case"wk1":return ig(cP.sheet_to_wk1(e.Sheets[e.SheetNames[a]],r),r);case"wk3":return ig(cP.book_to_wk3(e,r),r);case"biff2":r.biff||(r.biff=2);case"biff3":r.biff||(r.biff=3);case"biff4":return r.biff||(r.biff=4),ig(ZB(e,r),r);case"biff5":r.biff||(r.biff=5);case"biff8":case"xla":case"xls":return r.biff||(r.biff=8),N2e(e,r);case"xlsx":case"xlsm":case"xlam":case"xlsb":case"numbers":case"ods":return w2e(e,r);default:throw new Error("Unrecognized bookType |"+r.bookType+"|")}}function k2e(e){if(!e.bookType){var t={xls:"biff8",htm:"html",slk:"sylk",socialcalc:"eth",Sh33tJS:"WTF"},r=e.file.slice(e.file.lastIndexOf(".")).toLowerCase();r.match(/^\.[a-z]+$/)&&(e.bookType=r.slice(1)),e.bookType=t[e.bookType]||e.bookType}}function s$(e,t,r){var n={};return n.type="file",n.file=t,k2e(n),a$(e,n)}function _2e(e,t,r,n,a,i,l,c){var d=Gn(r),f=c.defval,h=c.raw||!Object.prototype.hasOwnProperty.call(c,"raw"),p=!0,g=a===1?[]:{};if(a!==1)if(Object.defineProperty)try{Object.defineProperty(g,"__rowNum__",{value:r,enumerable:!1})}catch{g.__rowNum__=r}else g.__rowNum__=r;if(!l||e[r])for(var y=t.s.c;y<=t.e.c;++y){var b=l?e[r][y]:e[n[y]+d];if(b===void 0||b.t===void 0){if(f===void 0)continue;i[y]!=null&&(g[i[y]]=f);continue}var w=b.v;switch(b.t){case"z":if(w==null)break;continue;case"e":w=w==0?null:void 0;break;case"s":case"d":case"b":case"n":break;default:throw new Error("unrecognized type "+b.t)}if(i[y]!=null){if(w==null)if(b.t=="e"&&w===null)g[i[y]]=null;else if(f!==void 0)g[i[y]]=f;else if(h&&w===null)g[i[y]]=null;else continue;else g[i[y]]=h&&(b.t!=="n"||b.t==="n"&&c.rawNumbers!==!1)?w:Al(b,w,c);w!=null&&(p=!1)}}return{row:g,isempty:p}}function Tx(e,t){if(e==null||e["!ref"]==null)return[];var r={t:"n",v:0},n=0,a=1,i=[],l=0,c="",d={s:{r:0,c:0},e:{r:0,c:0}},f=t||{},h=f.range!=null?f.range:e["!ref"];switch(f.header===1?n=1:f.header==="A"?n=2:Array.isArray(f.header)?n=3:f.header==null&&(n=0),typeof h){case"string":d=_r(h);break;case"number":d=_r(e["!ref"]),d.s.r=h;break;default:d=h}n>0&&(a=0);var p=Gn(d.s.r),g=[],y=[],b=0,w=0,j=Array.isArray(e),S=d.s.r,_=0,E={};j&&!e[S]&&(e[S]=[]);var T=f.skipHidden&&e["!cols"]||[],A=f.skipHidden&&e["!rows"]||[];for(_=d.s.c;_<=d.e.c;++_)if(!(T[_]||{}).hidden)switch(g[_]=na(_),r=j?e[S][_]:e[g[_]+p],n){case 1:i[_]=_-d.s.c;break;case 2:i[_]=g[_];break;case 3:i[_]=f.header[_-d.s.c];break;default:if(r==null&&(r={w:"__EMPTY",t:"s"}),c=l=Al(r,null,f),w=E[l]||0,!w)E[l]=1;else{do c=l+"_"+w++;while(E[c]);E[l]=w,E[c]=1}i[_]=c}for(S=d.s.r+a;S<=d.e.r;++S)if(!(A[S]||{}).hidden){var C=_2e(e,d,S,g,n,i,j,f);(C.isempty===!1||(n===1?f.blankrows!==!1:f.blankrows))&&(y[b++]=C.row)}return y.length=b,y}var xP=/"/g;function E2e(e,t,r,n,a,i,l,c){for(var d=!0,f=[],h="",p=Gn(r),g=t.s.c;g<=t.e.c;++g)if(n[g]){var y=c.dense?(e[r]||[])[g]:e[n[g]+p];if(y==null)h="";else if(y.v!=null){d=!1,h=""+(c.rawNumbers&&y.t=="n"?y.v:Al(y,null,c));for(var b=0,w=0;b!==h.length;++b)if((w=h.charCodeAt(b))===a||w===i||w===34||c.forceQuotes){h='"'+h.replace(xP,'""')+'"';break}h=="ID"&&(h='"ID"')}else y.f!=null&&!y.F?(d=!1,h="="+y.f,h.indexOf(",")>=0&&(h='"'+h.replace(xP,'""')+'"')):h="";f.push(h)}return c.blankrows===!1&&d?null:f.join(l)}function q_(e,t){var r=[],n=t??{};if(e==null||e["!ref"]==null)return"";var a=_r(e["!ref"]),i=n.FS!==void 0?n.FS:",",l=i.charCodeAt(0),c=n.RS!==void 0?n.RS:`
`,d=c.charCodeAt(0),f=new RegExp((i=="|"?"\\|":i)+"+$"),h="",p=[];n.dense=Array.isArray(e);for(var g=n.skipHidden&&e["!cols"]||[],y=n.skipHidden&&e["!rows"]||[],b=a.s.c;b<=a.e.c;++b)(g[b]||{}).hidden||(p[b]=na(b));for(var w=0,j=a.s.r;j<=a.e.r;++j)(y[j]||{}).hidden||(h=E2e(e,a,j,p,l,d,i,n),h!=null&&(n.strip&&(h=h.replace(f,"")),(h||n.blankrows!==!1)&&r.push((w++?c:"")+h)));return delete n.dense,r.join("")}function i$(e,t){t||(t={}),t.FS="	",t.RS=`
`;var r=q_(e,t);return r}function A2e(e){var t="",r,n="";if(e==null||e["!ref"]==null)return[];var a=_r(e["!ref"]),i="",l=[],c,d=[],f=Array.isArray(e);for(c=a.s.c;c<=a.e.c;++c)l[c]=na(c);for(var h=a.s.r;h<=a.e.r;++h)for(i=Gn(h),c=a.s.c;c<=a.e.c;++c)if(t=l[c]+i,r=f?(e[h]||[])[c]:e[t],n="",r!==void 0){if(r.F!=null){if(t=r.F,!r.f)continue;n=r.f,t.indexOf(":")==-1&&(t=t+":"+t)}if(r.f!=null)n=r.f;else{if(r.t=="z")continue;if(r.t=="n"&&r.v!=null)n=""+r.v;else if(r.t=="b")n=r.v?"TRUE":"FALSE";else if(r.w!==void 0)n="'"+r.w;else{if(r.v===void 0)continue;r.t=="s"?n="'"+r.v:n=""+r.v}}d[d.length]=t+"="+n}return d}function l$(e,t,r){var n=r||{},a=+!n.skipHeader,i=e||{},l=0,c=0;if(i&&n.origin!=null)if(typeof n.origin=="number")l=n.origin;else{var d=typeof n.origin=="string"?_n(n.origin):n.origin;l=d.r,c=d.c}var f,h={s:{c:0,r:0},e:{c,r:l+t.length-1+a}};if(i["!ref"]){var p=_r(i["!ref"]);h.e.c=Math.max(h.e.c,p.e.c),h.e.r=Math.max(h.e.r,p.e.r),l==-1&&(l=p.e.r+1,h.e.r=l+t.length-1+a)}else l==-1&&(l=0,h.e.r=t.length-1+a);var g=n.header||[],y=0;t.forEach(function(w,j){Kn(w).forEach(function(S){(y=g.indexOf(S))==-1&&(g[y=g.length]=S);var _=w[S],E="z",T="",A=nr({c:c+y,r:l+j+a});f=Lh(i,A),_&&typeof _=="object"&&!(_ instanceof Date)?i[A]=_:(typeof _=="number"?E="n":typeof _=="boolean"?E="b":typeof _=="string"?E="s":_ instanceof Date?(E="d",n.cellDates||(E="n",_=Ma(_)),T=n.dateNF||qr[14]):_===null&&n.nullError&&(E="e",_=0),f?(f.t=E,f.v=_,delete f.w,delete f.R,T&&(f.z=T)):i[A]=f={t:E,v:_},T&&(f.z=T))})}),h.e.c=Math.max(h.e.c,c+g.length-1);var b=Gn(l);if(a)for(y=0;y<g.length;++y)i[na(y+c)+b]={t:"s",v:g[y]};return i["!ref"]=cn(h),i}function T2e(e,t){return l$(null,e,t)}function Lh(e,t,r){if(typeof t=="string"){if(Array.isArray(e)){var n=_n(t);return e[n.r]||(e[n.r]=[]),e[n.r][n.c]||(e[n.r][n.c]={t:"z"})}return e[t]||(e[t]={t:"z"})}return typeof t!="number"?Lh(e,nr(t)):Lh(e,nr({r:t,c:r||0}))}function C2e(e,t){if(typeof t=="number"){if(t>=0&&e.SheetNames.length>t)return t;throw new Error("Cannot find sheet # "+t)}else if(typeof t=="string"){var r=e.SheetNames.indexOf(t);if(r>-1)return r;throw new Error("Cannot find sheet name |"+t+"|")}else throw new Error("Cannot find sheet |"+t+"|")}function O2e(){return{SheetNames:[],Sheets:{}}}function D2e(e,t,r,n){var a=1;if(!r)for(;a<=65535&&e.SheetNames.indexOf(r="Sheet"+a)!=-1;++a,r=void 0);if(!r||e.SheetNames.length>=65535)throw new Error("Too many worksheets");if(n&&e.SheetNames.indexOf(r)>=0){var i=r.match(/(^.*?)(\d+)$/);a=i&&+i[2]||0;var l=i&&i[1]||r;for(++a;a<=65535&&e.SheetNames.indexOf(r=l+a)!=-1;++a);}if(YB(r),e.SheetNames.indexOf(r)>=0)throw new Error("Worksheet with name |"+r+"| already exists!");return e.SheetNames.push(r),e.Sheets[r]=t,r}function P2e(e,t,r){e.Workbook||(e.Workbook={}),e.Workbook.Sheets||(e.Workbook.Sheets=[]);var n=C2e(e,t);switch(e.Workbook.Sheets[n]||(e.Workbook.Sheets[n]={}),r){case 0:case 1:case 2:break;default:throw new Error("Bad sheet visibility setting "+r)}e.Workbook.Sheets[n].Hidden=r}function M2e(e,t){return e.z=t,e}function o$(e,t,r){return t?(e.l={Target:t},r&&(e.l.Tooltip=r)):delete e.l,e}function R2e(e,t,r){return o$(e,"#"+t,r)}function I2e(e,t,r){e.c||(e.c=[]),e.c.push({t,a:r||"SheetJS"})}function F2e(e,t,r,n){for(var a=typeof t!="string"?t:_r(t),i=typeof t=="string"?t:cn(t),l=a.s.r;l<=a.e.r;++l)for(var c=a.s.c;c<=a.e.c;++c){var d=Lh(e,l,c);d.t="n",d.F=i,delete d.v,l==a.s.r&&c==a.s.c&&(d.f=r,n&&(d.D=!0))}return e}var jd={encode_col:na,encode_row:Gn,encode_cell:nr,encode_range:cn,decode_col:M_,decode_row:P_,split_cell:Zge,decode_cell:_n,decode_range:ds,format_cell:Al,sheet_add_aoa:lB,sheet_add_json:l$,sheet_add_dom:e$,aoa_to_sheet:of,json_to_sheet:T2e,table_to_sheet:t$,table_to_book:l2e,sheet_to_csv:q_,sheet_to_txt:i$,sheet_to_json:Tx,sheet_to_html:JB,sheet_to_formulae:A2e,sheet_to_row_object_array:Tx,sheet_get_cell:Lh,book_new:O2e,book_append_sheet:D2e,book_set_sheet_visibility:P2e,cell_set_number_format:M2e,cell_set_hyperlink:o$,cell_set_internal_link:R2e,cell_add_comment:I2e,sheet_set_array_formula:F2e,consts:{SHEET_VISIBLE:0,SHEET_HIDDEN:1,SHEET_VERY_HIDDEN:2}};const c$="lead_utm_attribution";function L2e(e){const t=new URLSearchParams(e.startsWith("?")?e:`?${e}`),r={};return t.forEach((n,a)=>{r[a]=n}),r}function B2e(e,t){try{const r=new URL(e),n=L2e(r.search),a={utm_source:n.utm_source||void 0,utm_medium:n.utm_medium||void 0,utm_campaign:n.utm_campaign||void 0,utm_term:n.utm_term||void 0,utm_content:n.utm_content||void 0,referrer_url:t||void 0,landing_page_url:r.origin+r.pathname+(r.search||""),gclid:n.gclid||void 0,fbclid:n.fbclid||void 0};return Object.values(a).some(l=>typeof l=="string"&&l.length>0)?(localStorage.setItem(c$,JSON.stringify(a)),a):null}catch{return null}}function u$(){try{const e=localStorage.getItem(c$);return e?JSON.parse(e):null}catch{return null}}async function ad(){return Ee("/api/leads")}async function $2e(e){return Ee(`/api/leads/${e}`)}async function U2e(e){const t=u$()||{};return Ee("/api/leads",{method:"POST",body:JSON.stringify({...t,...e})})}async function z2e(e,t){return Ee(`/api/leads/${e}`,{method:"PUT",body:JSON.stringify(t)})}async function H2e(e){return Ee(`/api/leads/${e}`,{method:"DELETE"})}async function V2e(e,t){return Ee(`/api/leads/${e}/convert-to-deal`,{method:"POST",body:JSON.stringify({title:`Deal from Lead ${e}`,description:"Deal converted from lead",value:0})})}async function q2e(e,t){return Ee(`/api/contacts/${e}/convert-to-lead`,{method:"POST",body:JSON.stringify(t||{title:`Lead from Contact ${e}`,status:"new",source:"contact_conversion",score:50})})}async function W2e(){const e=await fetch(`${pd}/api/leads/score-all`,{method:"POST",headers:{"Content-Type":"application/json"}});if(!e.ok)throw new Error("Failed to score all leads");return e.json()}async function G2e(){const e=await fetch(`${pd}/api/leads/scoring-analytics`);if(!e.ok)throw new Error("Failed to get scoring analytics");return e.json()}function K2e(e){return e>=80?"text-red-600 bg-red-100":e>=60?"text-orange-600 bg-orange-100":e>=40?"text-yellow-600 bg-yellow-100":"text-gray-600 bg-gray-100"}function Y2e(e){return e>=80?"Hot Lead":e>=60?"Warm Lead":e>=40?"Lukewarm Lead":"Cold Lead"}var X2e=Object.defineProperty,Q2e=(e,t,r)=>t in e?X2e(e,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):e[t]=r,g2=(e,t,r)=>(Q2e(e,typeof t!="symbol"?t+"":t,r),r);let Z2e=class{constructor(){g2(this,"current",this.detect()),g2(this,"handoffState","pending"),g2(this,"currentId",0)}set(t){this.current!==t&&(this.handoffState="pending",this.currentId=0,this.current=t)}reset(){this.set(this.detect())}nextId(){return++this.currentId}get isServer(){return this.current==="server"}get isClient(){return this.current==="client"}detect(){return typeof window>"u"||typeof document>"u"?"server":"client"}handoff(){this.handoffState==="pending"&&(this.handoffState="complete")}get isHandoffComplete(){return this.handoffState==="complete"}},xl=new Z2e;function By(e){var t,r;return xl.isServer?null:e?"ownerDocument"in e?e.ownerDocument:"current"in e?(r=(t=e.current)==null?void 0:t.ownerDocument)!=null?r:document:null:document}function $y(e){typeof queueMicrotask=="function"?queueMicrotask(e):Promise.resolve().then(e).catch(t=>setTimeout(()=>{throw t}))}function Il(){let e=[],t={addEventListener(r,n,a,i){return r.addEventListener(n,a,i),t.add(()=>r.removeEventListener(n,a,i))},requestAnimationFrame(...r){let n=requestAnimationFrame(...r);return t.add(()=>cancelAnimationFrame(n))},nextFrame(...r){return t.requestAnimationFrame(()=>t.requestAnimationFrame(...r))},setTimeout(...r){let n=setTimeout(...r);return t.add(()=>clearTimeout(n))},microTask(...r){let n={current:!0};return $y(()=>{n.current&&r[0]()}),t.add(()=>{n.current=!1})},style(r,n,a){let i=r.style.getPropertyValue(n);return Object.assign(r.style,{[n]:a}),this.add(()=>{Object.assign(r.style,{[n]:i})})},group(r){let n=Il();return r(n),this.add(()=>n.dispose())},add(r){return e.includes(r)||e.push(r),()=>{let n=e.indexOf(r);if(n>=0)for(let a of e.splice(n,1))a()}},dispose(){for(let r of e.splice(0))r()}};return t}function Uy(){let[e]=v.useState(Il);return v.useEffect(()=>()=>e.dispose(),[e]),e}let Da=(e,t)=>{xl.isServer?v.useEffect(e,t):v.useLayoutEffect(e,t)};function vu(e){let t=v.useRef(e);return Da(()=>{t.current=e},[e]),t}let gr=function(e){let t=vu(e);return Qe.useCallback((...r)=>t.current(...r),[t])};function bm(e){return v.useMemo(()=>e,Object.values(e))}let J2e=v.createContext(void 0);function eje(){return v.useContext(J2e)}function gN(...e){return Array.from(new Set(e.flatMap(t=>typeof t=="string"?t.split(" "):[]))).filter(Boolean).join(" ")}function Tl(e,t,...r){if(e in t){let a=t[e];return typeof a=="function"?a(...r):a}let n=new Error(`Tried to handle "${e}" but there is no handler defined. Only defined handlers are: ${Object.keys(t).map(a=>`"${a}"`).join(", ")}.`);throw Error.captureStackTrace&&Error.captureStackTrace(n,Tl),n}var Cx=(e=>(e[e.None=0]="None",e[e.RenderStrategy=1]="RenderStrategy",e[e.Static=2]="Static",e))(Cx||{}),bo=(e=>(e[e.Unmount=0]="Unmount",e[e.Hidden=1]="Hidden",e))(bo||{});function Ks(){let e=rje();return v.useCallback(t=>tje({mergeRefs:e,...t}),[e])}function tje({ourProps:e,theirProps:t,slot:r,defaultTag:n,features:a,visible:i=!0,name:l,mergeRefs:c}){c=c??nje;let d=d$(t,e);if(i)return lg(d,r,n,l,c);let f=a??0;if(f&2){let{static:h=!1,...p}=d;if(h)return lg(p,r,n,l,c)}if(f&1){let{unmount:h=!0,...p}=d;return Tl(h?0:1,{0(){return null},1(){return lg({...p,hidden:!0,style:{display:"none"}},r,n,l,c)}})}return lg(d,r,n,l,c)}function lg(e,t={},r,n,a){let{as:i=r,children:l,refName:c="ref",...d}=x2(e,["unmount","static"]),f=e.ref!==void 0?{[c]:e.ref}:{},h=typeof l=="function"?l(t):l;"className"in d&&d.className&&typeof d.className=="function"&&(d.className=d.className(t)),d["aria-labelledby"]&&d["aria-labelledby"]===d.id&&(d["aria-labelledby"]=void 0);let p={};if(t){let g=!1,y=[];for(let[b,w]of Object.entries(t))typeof w=="boolean"&&(g=!0),w===!0&&y.push(b.replace(/([A-Z])/g,j=>`-${j.toLowerCase()}`));if(g){p["data-headlessui-state"]=y.join(" ");for(let b of y)p[`data-${b}`]=""}}if(th(i)&&(Object.keys(Nc(d)).length>0||Object.keys(Nc(p)).length>0))if(!v.isValidElement(h)||Array.isArray(h)&&h.length>1||sje(h)){if(Object.keys(Nc(d)).length>0)throw new Error(['Passing props on "Fragment"!',"",`The current component <${n} /> is rendering a "Fragment".`,"However we need to passthrough the following props:",Object.keys(Nc(d)).concat(Object.keys(Nc(p))).map(g=>`  - ${g}`).join(`
`),"","You can apply a few solutions:",['Add an `as="..."` prop, to ensure that we render an actual element instead of a "Fragment".',"Render a single element as the child so that we can forward the props onto that element."].map(g=>`  - ${g}`).join(`
`)].join(`
`))}else{let g=h.props,y=g?.className,b=typeof y=="function"?(...S)=>gN(y(...S),d.className):gN(y,d.className),w=b?{className:b}:{},j=d$(h.props,Nc(x2(d,["ref"])));for(let S in p)S in j&&delete p[S];return v.cloneElement(h,Object.assign({},j,p,f,{ref:a(aje(h),f.ref)},w))}return v.createElement(i,Object.assign({},x2(d,["ref"]),!th(i)&&f,!th(i)&&p),h)}function rje(){let e=v.useRef([]),t=v.useCallback(r=>{for(let n of e.current)n!=null&&(typeof n=="function"?n(r):n.current=r)},[]);return(...r)=>{if(!r.every(n=>n==null))return e.current=r,t}}function nje(...e){return e.every(t=>t==null)?void 0:t=>{for(let r of e)r!=null&&(typeof r=="function"?r(t):r.current=t)}}function d$(...e){if(e.length===0)return{};if(e.length===1)return e[0];let t={},r={};for(let n of e)for(let a in n)a.startsWith("on")&&typeof n[a]=="function"?(r[a]!=null||(r[a]=[]),r[a].push(n[a])):t[a]=n[a];if(t.disabled||t["aria-disabled"])for(let n in r)/^(on(?:Click|Pointer|Mouse|Key)(?:Down|Up|Press)?)$/.test(n)&&(r[n]=[a=>{var i;return(i=a?.preventDefault)==null?void 0:i.call(a)}]);for(let n in r)Object.assign(t,{[n](a,...i){let l=r[n];for(let c of l){if((a instanceof Event||a?.nativeEvent instanceof Event)&&a.defaultPrevented)return;c(a,...i)}}});return t}function Ia(e){var t;return Object.assign(v.forwardRef(e),{displayName:(t=e.displayName)!=null?t:e.name})}function Nc(e){let t=Object.assign({},e);for(let r in t)t[r]===void 0&&delete t[r];return t}function x2(e,t=[]){let r=Object.assign({},e);for(let n of t)n in r&&delete r[n];return r}function aje(e){return Qe.version.split(".")[0]>="19"?e.props.ref:e.ref}function th(e){return e===v.Fragment||e===Symbol.for("react.fragment")}function sje(e){return th(e.type)}let ije="span";var Ox=(e=>(e[e.None=1]="None",e[e.Focusable=2]="Focusable",e[e.Hidden=4]="Hidden",e))(Ox||{});function lje(e,t){var r;let{features:n=1,...a}=e,i={ref:t,"aria-hidden":(n&2)===2?!0:(r=a["aria-hidden"])!=null?r:void 0,hidden:(n&4)===4?!0:void 0,style:{position:"fixed",top:1,left:1,width:1,height:0,padding:0,margin:-1,overflow:"hidden",clip:"rect(0, 0, 0, 0)",whiteSpace:"nowrap",borderWidth:"0",...(n&4)===4&&(n&2)!==2&&{display:"none"}}};return Ks()({ourProps:i,theirProps:a,slot:{},defaultTag:ije,name:"Hidden"})}let xN=Ia(lje);function oje(e){return typeof e!="object"||e===null?!1:"nodeType"in e}function ko(e){return oje(e)&&"tagName"in e}function iu(e){return ko(e)&&"accessKey"in e}function wo(e){return ko(e)&&"tabIndex"in e}function cje(e){return ko(e)&&"style"in e}function uje(e){return iu(e)&&e.nodeName==="IFRAME"}function dje(e){return iu(e)&&e.nodeName==="INPUT"}let f$=Symbol();function fje(e,t=!0){return Object.assign(e,{[f$]:t})}function $i(...e){let t=v.useRef(e);v.useEffect(()=>{t.current=e},[e]);let r=gr(n=>{for(let a of t.current)a!=null&&(typeof a=="function"?a(n):a.current=n)});return e.every(n=>n==null||n?.[f$])?void 0:r}let W_=v.createContext(null);W_.displayName="DescriptionContext";function h$(){let e=v.useContext(W_);if(e===null){let t=new Error("You used a <Description /> component, but it is not inside a relevant parent.");throw Error.captureStackTrace&&Error.captureStackTrace(t,h$),t}return e}function hje(){let[e,t]=v.useState([]);return[e.length>0?e.join(" "):void 0,v.useMemo(()=>function(r){let n=gr(i=>(t(l=>[...l,i]),()=>t(l=>{let c=l.slice(),d=c.indexOf(i);return d!==-1&&c.splice(d,1),c}))),a=v.useMemo(()=>({register:n,slot:r.slot,name:r.name,props:r.props,value:r.value}),[n,r.slot,r.name,r.props,r.value]);return Qe.createElement(W_.Provider,{value:a},r.children)},[t])]}let mje="p";function pje(e,t){let r=v.useId(),n=eje(),{id:a=`headlessui-description-${r}`,...i}=e,l=h$(),c=$i(t);Da(()=>l.register(a),[a,l.register]);let d=bm({...l.slot,disabled:n||!1}),f={ref:c,...l.props,id:a};return Ks()({ourProps:f,theirProps:i,slot:d,defaultTag:mje,name:l.name||"Description"})}let gje=Ia(pje),xje=Object.assign(gje,{});var m$=(e=>(e.Space=" ",e.Enter="Enter",e.Escape="Escape",e.Backspace="Backspace",e.Delete="Delete",e.ArrowLeft="ArrowLeft",e.ArrowUp="ArrowUp",e.ArrowRight="ArrowRight",e.ArrowDown="ArrowDown",e.Home="Home",e.End="End",e.PageUp="PageUp",e.PageDown="PageDown",e.Tab="Tab",e))(m$||{});let yje=v.createContext(()=>{});function vje({value:e,children:t}){return Qe.createElement(yje.Provider,{value:e},t)}let p$=class extends Map{constructor(t){super(),this.factory=t}get(t){let r=super.get(t);return r===void 0&&(r=this.factory(t),this.set(t,r)),r}};var bje=Object.defineProperty,wje=(e,t,r)=>t in e?bje(e,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):e[t]=r,jje=(e,t,r)=>(wje(e,t+"",r),r),g$=(e,t,r)=>{if(!t.has(e))throw TypeError("Cannot "+r)},_s=(e,t,r)=>(g$(e,t,"read from private field"),r?r.call(e):t.get(e)),y2=(e,t,r)=>{if(t.has(e))throw TypeError("Cannot add the same private member more than once");t instanceof WeakSet?t.add(e):t.set(e,r)},yP=(e,t,r,n)=>(g$(e,t,"write to private field"),t.set(e,r),r),_i,F0,L0;let Nje=class{constructor(t){y2(this,_i,{}),y2(this,F0,new p$(()=>new Set)),y2(this,L0,new Set),jje(this,"disposables",Il()),yP(this,_i,t),xl.isServer&&this.disposables.microTask(()=>{this.dispose()})}dispose(){this.disposables.dispose()}get state(){return _s(this,_i)}subscribe(t,r){if(xl.isServer)return()=>{};let n={selector:t,callback:r,current:t(_s(this,_i))};return _s(this,L0).add(n),this.disposables.add(()=>{_s(this,L0).delete(n)})}on(t,r){return xl.isServer?()=>{}:(_s(this,F0).get(t).add(r),this.disposables.add(()=>{_s(this,F0).get(t).delete(r)}))}send(t){let r=this.reduce(_s(this,_i),t);if(r!==_s(this,_i)){yP(this,_i,r);for(let n of _s(this,L0)){let a=n.selector(_s(this,_i));x$(n.current,a)||(n.current=a,n.callback(a))}for(let n of _s(this,F0).get(t.type))n(_s(this,_i),t)}}};_i=new WeakMap,F0=new WeakMap,L0=new WeakMap;function x$(e,t){return Object.is(e,t)?!0:typeof e!="object"||e===null||typeof t!="object"||t===null?!1:Array.isArray(e)&&Array.isArray(t)?e.length!==t.length?!1:v2(e[Symbol.iterator](),t[Symbol.iterator]()):e instanceof Map&&t instanceof Map||e instanceof Set&&t instanceof Set?e.size!==t.size?!1:v2(e.entries(),t.entries()):vP(e)&&vP(t)?v2(Object.entries(e)[Symbol.iterator](),Object.entries(t)[Symbol.iterator]()):!1}function v2(e,t){do{let r=e.next(),n=t.next();if(r.done&&n.done)return!0;if(r.done||n.done||!Object.is(r.value,n.value))return!1}while(!0)}function vP(e){if(Object.prototype.toString.call(e)!=="[object Object]")return!1;let t=Object.getPrototypeOf(e);return t===null||Object.getPrototypeOf(t)===null}var Sje=Object.defineProperty,kje=(e,t,r)=>t in e?Sje(e,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):e[t]=r,bP=(e,t,r)=>(kje(e,typeof t!="symbol"?t+"":t,r),r),_je=(e=>(e[e.Push=0]="Push",e[e.Pop=1]="Pop",e))(_je||{});let Eje={0(e,t){let r=t.id,n=e.stack,a=e.stack.indexOf(r);if(a!==-1){let i=e.stack.slice();return i.splice(a,1),i.push(r),n=i,{...e,stack:n}}return{...e,stack:[...e.stack,r]}},1(e,t){let r=t.id,n=e.stack.indexOf(r);if(n===-1)return e;let a=e.stack.slice();return a.splice(n,1),{...e,stack:a}}},Aje=class y$ extends Nje{constructor(){super(...arguments),bP(this,"actions",{push:t=>this.send({type:0,id:t}),pop:t=>this.send({type:1,id:t})}),bP(this,"selectors",{isTop:(t,r)=>t.stack[t.stack.length-1]===r,inStack:(t,r)=>t.stack.includes(r)})}static new(){return new y$({stack:[]})}reduce(t,r){return Tl(r.type,Eje,t,r)}};const v$=new p$(()=>Aje.new());function b$(e,t,r=x$){return ome.useSyncExternalStoreWithSelector(gr(n=>e.subscribe(Tje,n)),gr(()=>e.state),gr(()=>e.state),gr(t),r)}function Tje(e){return e}function wm(e,t){let r=v.useId(),n=v$.get(t),[a,i]=b$(n,v.useCallback(l=>[n.selectors.isTop(l,r),n.selectors.inStack(l,r)],[n,r]));return Da(()=>{if(e)return n.actions.push(r),()=>n.actions.pop(r)},[n,e,r]),e?i?a:!0:!1}let yN=new Map,rh=new Map;function wP(e){var t;let r=(t=rh.get(e))!=null?t:0;return rh.set(e,r+1),r!==0?()=>jP(e):(yN.set(e,{"aria-hidden":e.getAttribute("aria-hidden"),inert:e.inert}),e.setAttribute("aria-hidden","true"),e.inert=!0,()=>jP(e))}function jP(e){var t;let r=(t=rh.get(e))!=null?t:1;if(r===1?rh.delete(e):rh.set(e,r-1),r!==1)return;let n=yN.get(e);n&&(n["aria-hidden"]===null?e.removeAttribute("aria-hidden"):e.setAttribute("aria-hidden",n["aria-hidden"]),e.inert=n.inert,yN.delete(e))}function Cje(e,{allowed:t,disallowed:r}={}){let n=wm(e,"inert-others");Da(()=>{var a,i;if(!n)return;let l=Il();for(let d of(a=r?.())!=null?a:[])d&&l.add(wP(d));let c=(i=t?.())!=null?i:[];for(let d of c){if(!d)continue;let f=By(d);if(!f)continue;let h=d.parentElement;for(;h&&h!==f.body;){for(let p of h.children)c.some(g=>p.contains(g))||l.add(wP(p));h=h.parentElement}}return l.dispose},[n,t,r])}function Oje(e,t,r){let n=vu(a=>{let i=a.getBoundingClientRect();i.x===0&&i.y===0&&i.width===0&&i.height===0&&r()});v.useEffect(()=>{if(!e)return;let a=t===null?null:iu(t)?t:t.current;if(!a)return;let i=Il();if(typeof ResizeObserver<"u"){let l=new ResizeObserver(()=>n.current(a));l.observe(a),i.add(()=>l.disconnect())}if(typeof IntersectionObserver<"u"){let l=new IntersectionObserver(()=>n.current(a));l.observe(a),i.add(()=>l.disconnect())}return()=>i.dispose()},[t,n,e])}let Dx=["[contentEditable=true]","[tabindex]","a[href]","area[href]","button:not([disabled])","iframe","input:not([disabled])","select:not([disabled])","details>summary","textarea:not([disabled])"].map(e=>`${e}:not([tabindex='-1'])`).join(","),Dje=["[data-autofocus]"].map(e=>`${e}:not([tabindex='-1'])`).join(",");var il=(e=>(e[e.First=1]="First",e[e.Previous=2]="Previous",e[e.Next=4]="Next",e[e.Last=8]="Last",e[e.WrapAround=16]="WrapAround",e[e.NoScroll=32]="NoScroll",e[e.AutoFocus=64]="AutoFocus",e))(il||{}),vN=(e=>(e[e.Error=0]="Error",e[e.Overflow=1]="Overflow",e[e.Success=2]="Success",e[e.Underflow=3]="Underflow",e))(vN||{}),Pje=(e=>(e[e.Previous=-1]="Previous",e[e.Next=1]="Next",e))(Pje||{});function Mje(e=document.body){return e==null?[]:Array.from(e.querySelectorAll(Dx)).sort((t,r)=>Math.sign((t.tabIndex||Number.MAX_SAFE_INTEGER)-(r.tabIndex||Number.MAX_SAFE_INTEGER)))}function Rje(e=document.body){return e==null?[]:Array.from(e.querySelectorAll(Dje)).sort((t,r)=>Math.sign((t.tabIndex||Number.MAX_SAFE_INTEGER)-(r.tabIndex||Number.MAX_SAFE_INTEGER)))}var w$=(e=>(e[e.Strict=0]="Strict",e[e.Loose=1]="Loose",e))(w$||{});function Ije(e,t=0){var r;return e===((r=By(e))==null?void 0:r.body)?!1:Tl(t,{0(){return e.matches(Dx)},1(){let n=e;for(;n!==null;){if(n.matches(Dx))return!0;n=n.parentElement}return!1}})}var Fje=(e=>(e[e.Keyboard=0]="Keyboard",e[e.Mouse=1]="Mouse",e))(Fje||{});typeof window<"u"&&typeof document<"u"&&(document.addEventListener("keydown",e=>{e.metaKey||e.altKey||e.ctrlKey||(document.documentElement.dataset.headlessuiFocusVisible="")},!0),document.addEventListener("click",e=>{e.detail===1?delete document.documentElement.dataset.headlessuiFocusVisible:e.detail===0&&(document.documentElement.dataset.headlessuiFocusVisible="")},!0));function yl(e){e?.focus({preventScroll:!0})}let Lje=["textarea","input"].join(",");function Bje(e){var t,r;return(r=(t=e?.matches)==null?void 0:t.call(e,Lje))!=null?r:!1}function $je(e,t=r=>r){return e.slice().sort((r,n)=>{let a=t(r),i=t(n);if(a===null||i===null)return 0;let l=a.compareDocumentPosition(i);return l&Node.DOCUMENT_POSITION_FOLLOWING?-1:l&Node.DOCUMENT_POSITION_PRECEDING?1:0})}function nh(e,t,{sorted:r=!0,relativeTo:n=null,skipElements:a=[]}={}){let i=Array.isArray(e)?e.length>0?e[0].ownerDocument:document:e.ownerDocument,l=Array.isArray(e)?r?$je(e):e:t&64?Rje(e):Mje(e);a.length>0&&l.length>1&&(l=l.filter(y=>!a.some(b=>b!=null&&"current"in b?b?.current===y:b===y))),n=n??i.activeElement;let c=(()=>{if(t&5)return 1;if(t&10)return-1;throw new Error("Missing Focus.First, Focus.Previous, Focus.Next or Focus.Last")})(),d=(()=>{if(t&1)return 0;if(t&2)return Math.max(0,l.indexOf(n))-1;if(t&4)return Math.max(0,l.indexOf(n))+1;if(t&8)return l.length-1;throw new Error("Missing Focus.First, Focus.Previous, Focus.Next or Focus.Last")})(),f=t&32?{preventScroll:!0}:{},h=0,p=l.length,g;do{if(h>=p||h+p<=0)return 0;let y=d+h;if(t&16)y=(y+p)%p;else{if(y<0)return 3;if(y>=p)return 1}g=l[y],g?.focus(f),h+=c}while(g!==i.activeElement);return t&6&&Bje(g)&&g.select(),2}function j$(){return/iPhone/gi.test(window.navigator.platform)||/Mac/gi.test(window.navigator.platform)&&window.navigator.maxTouchPoints>0}function Uje(){return/Android/gi.test(window.navigator.userAgent)}function NP(){return j$()||Uje()}function og(e,t,r,n){let a=vu(r);v.useEffect(()=>{if(!e)return;function i(l){a.current(l)}return document.addEventListener(t,i,n),()=>document.removeEventListener(t,i,n)},[e,t,n])}function N$(e,t,r,n){let a=vu(r);v.useEffect(()=>{if(!e)return;function i(l){a.current(l)}return window.addEventListener(t,i,n),()=>window.removeEventListener(t,i,n)},[e,t,n])}const SP=30;function zje(e,t,r){let n=vu(r),a=v.useCallback(function(c,d){if(c.defaultPrevented)return;let f=d(c);if(f===null||!f.getRootNode().contains(f)||!f.isConnected)return;let h=function p(g){return typeof g=="function"?p(g()):Array.isArray(g)||g instanceof Set?g:[g]}(t);for(let p of h)if(p!==null&&(p.contains(f)||c.composed&&c.composedPath().includes(p)))return;return!Ije(f,w$.Loose)&&f.tabIndex!==-1&&c.preventDefault(),n.current(c,f)},[n,t]),i=v.useRef(null);og(e,"pointerdown",c=>{var d,f;NP()||(i.current=((f=(d=c.composedPath)==null?void 0:d.call(c))==null?void 0:f[0])||c.target)},!0),og(e,"pointerup",c=>{if(NP()||!i.current)return;let d=i.current;return i.current=null,a(c,()=>d)},!0);let l=v.useRef({x:0,y:0});og(e,"touchstart",c=>{l.current.x=c.touches[0].clientX,l.current.y=c.touches[0].clientY},!0),og(e,"touchend",c=>{let d={x:c.changedTouches[0].clientX,y:c.changedTouches[0].clientY};if(!(Math.abs(d.x-l.current.x)>=SP||Math.abs(d.y-l.current.y)>=SP))return a(c,()=>wo(c.target)?c.target:null)},!0),N$(e,"blur",c=>a(c,()=>uje(window.document.activeElement)?window.document.activeElement:null),!0)}function zy(...e){return v.useMemo(()=>By(...e),[...e])}function S$(e,t,r,n){let a=vu(r);v.useEffect(()=>{e=e??window;function i(l){a.current(l)}return e.addEventListener(t,i,n),()=>e.removeEventListener(t,i,n)},[e,t,n])}function Hje(e){return v.useSyncExternalStore(e.subscribe,e.getSnapshot,e.getSnapshot)}function Vje(e,t){let r=e(),n=new Set;return{getSnapshot(){return r},subscribe(a){return n.add(a),()=>n.delete(a)},dispatch(a,...i){let l=t[a].call(r,...i);l&&(r=l,n.forEach(c=>c()))}}}function qje(){let e;return{before({doc:t}){var r;let n=t.documentElement,a=(r=t.defaultView)!=null?r:window;e=Math.max(0,a.innerWidth-n.clientWidth)},after({doc:t,d:r}){let n=t.documentElement,a=Math.max(0,n.clientWidth-n.offsetWidth),i=Math.max(0,e-a);r.style(n,"paddingRight",`${i}px`)}}}function Wje(){return j$()?{before({doc:e,d:t,meta:r}){function n(a){return r.containers.flatMap(i=>i()).some(i=>i.contains(a))}t.microTask(()=>{var a;if(window.getComputedStyle(e.documentElement).scrollBehavior!=="auto"){let c=Il();c.style(e.documentElement,"scrollBehavior","auto"),t.add(()=>t.microTask(()=>c.dispose()))}let i=(a=window.scrollY)!=null?a:window.pageYOffset,l=null;t.addEventListener(e,"click",c=>{if(wo(c.target))try{let d=c.target.closest("a");if(!d)return;let{hash:f}=new URL(d.href),h=e.querySelector(f);wo(h)&&!n(h)&&(l=h)}catch{}},!0),t.addEventListener(e,"touchstart",c=>{if(wo(c.target)&&cje(c.target))if(n(c.target)){let d=c.target;for(;d.parentElement&&n(d.parentElement);)d=d.parentElement;t.style(d,"overscrollBehavior","contain")}else t.style(c.target,"touchAction","none")}),t.addEventListener(e,"touchmove",c=>{if(wo(c.target)){if(dje(c.target))return;if(n(c.target)){let d=c.target;for(;d.parentElement&&d.dataset.headlessuiPortal!==""&&!(d.scrollHeight>d.clientHeight||d.scrollWidth>d.clientWidth);)d=d.parentElement;d.dataset.headlessuiPortal===""&&c.preventDefault()}else c.preventDefault()}},{passive:!1}),t.add(()=>{var c;let d=(c=window.scrollY)!=null?c:window.pageYOffset;i!==d&&window.scrollTo(0,i),l&&l.isConnected&&(l.scrollIntoView({block:"nearest"}),l=null)})})}}:{}}function Gje(){return{before({doc:e,d:t}){t.style(e.documentElement,"overflow","hidden")}}}function Kje(e){let t={};for(let r of e)Object.assign(t,r(t));return t}let Fc=Vje(()=>new Map,{PUSH(e,t){var r;let n=(r=this.get(e))!=null?r:{doc:e,count:0,d:Il(),meta:new Set};return n.count++,n.meta.add(t),this.set(e,n),this},POP(e,t){let r=this.get(e);return r&&(r.count--,r.meta.delete(t)),this},SCROLL_PREVENT({doc:e,d:t,meta:r}){let n={doc:e,d:t,meta:Kje(r)},a=[Wje(),qje(),Gje()];a.forEach(({before:i})=>i?.(n)),a.forEach(({after:i})=>i?.(n))},SCROLL_ALLOW({d:e}){e.dispose()},TEARDOWN({doc:e}){this.delete(e)}});Fc.subscribe(()=>{let e=Fc.getSnapshot(),t=new Map;for(let[r]of e)t.set(r,r.documentElement.style.overflow);for(let r of e.values()){let n=t.get(r.doc)==="hidden",a=r.count!==0;(a&&!n||!a&&n)&&Fc.dispatch(r.count>0?"SCROLL_PREVENT":"SCROLL_ALLOW",r),r.count===0&&Fc.dispatch("TEARDOWN",r)}});function Yje(e,t,r=()=>({containers:[]})){let n=Hje(Fc),a=t?n.get(t):void 0,i=a?a.count>0:!1;return Da(()=>{if(!(!t||!e))return Fc.dispatch("PUSH",t,r),()=>Fc.dispatch("POP",t,r)},[e,t]),i}function Xje(e,t,r=()=>[document.body]){let n=wm(e,"scroll-lock");Yje(n,t,a=>{var i;return{containers:[...(i=a.containers)!=null?i:[],r]}})}function Qje(e=0){let[t,r]=v.useState(e),n=v.useCallback(d=>r(d),[]),a=v.useCallback(d=>r(f=>f|d),[]),i=v.useCallback(d=>(t&d)===d,[t]),l=v.useCallback(d=>r(f=>f&~d),[]),c=v.useCallback(d=>r(f=>f^d),[]);return{flags:t,setFlag:n,addFlag:a,hasFlag:i,removeFlag:l,toggleFlag:c}}var Zje={},kP,_P;typeof process<"u"&&typeof globalThis<"u"&&typeof Element<"u"&&((kP=process==null?void 0:Zje)==null?void 0:kP.NODE_ENV)==="test"&&typeof((_P=Element?.prototype)==null?void 0:_P.getAnimations)>"u"&&(Element.prototype.getAnimations=function(){return console.warn(["Headless UI has polyfilled `Element.prototype.getAnimations` for your tests.","Please install a proper polyfill e.g. `jsdom-testing-mocks`, to silence these warnings.","","Example usage:","```js","import { mockAnimationsApi } from 'jsdom-testing-mocks'","mockAnimationsApi()","```"].join(`
`)),[]});var Jje=(e=>(e[e.None=0]="None",e[e.Closed=1]="Closed",e[e.Enter=2]="Enter",e[e.Leave=4]="Leave",e))(Jje||{});function eNe(e){let t={};for(let r in e)e[r]===!0&&(t[`data-${r}`]="");return t}function tNe(e,t,r,n){let[a,i]=v.useState(r),{hasFlag:l,addFlag:c,removeFlag:d}=Qje(e&&a?3:0),f=v.useRef(!1),h=v.useRef(!1),p=Uy();return Da(()=>{var g;if(e){if(r&&i(!0),!t){r&&c(3);return}return(g=n?.start)==null||g.call(n,r),rNe(t,{inFlight:f,prepare(){h.current?h.current=!1:h.current=f.current,f.current=!0,!h.current&&(r?(c(3),d(4)):(c(4),d(2)))},run(){h.current?r?(d(3),c(4)):(d(4),c(3)):r?d(1):c(1)},done(){var y;h.current&&typeof t.getAnimations=="function"&&t.getAnimations().length>0||(f.current=!1,d(7),r||i(!1),(y=n?.end)==null||y.call(n,r))}})}},[e,r,t,p]),e?[a,{closed:l(1),enter:l(2),leave:l(4),transition:l(2)||l(4)}]:[r,{closed:void 0,enter:void 0,leave:void 0,transition:void 0}]}function rNe(e,{prepare:t,run:r,done:n,inFlight:a}){let i=Il();return aNe(e,{prepare:t,inFlight:a}),i.nextFrame(()=>{r(),i.requestAnimationFrame(()=>{i.add(nNe(e,n))})}),i.dispose}function nNe(e,t){var r,n;let a=Il();if(!e)return a.dispose;let i=!1;a.add(()=>{i=!0});let l=(n=(r=e.getAnimations)==null?void 0:r.call(e).filter(c=>c instanceof CSSTransition))!=null?n:[];return l.length===0?(t(),a.dispose):(Promise.allSettled(l.map(c=>c.finished)).then(()=>{i||t()}),a.dispose)}function aNe(e,{inFlight:t,prepare:r}){if(t!=null&&t.current){r();return}let n=e.style.transition;e.style.transition="none",r(),e.offsetHeight,e.style.transition=n}function G_(e,t){let r=v.useRef([]),n=gr(e);v.useEffect(()=>{let a=[...r.current];for(let[i,l]of t.entries())if(r.current[i]!==l){let c=n(t,a);return r.current=t,c}},[n,...t])}let Hy=v.createContext(null);Hy.displayName="OpenClosedContext";var oi=(e=>(e[e.Open=1]="Open",e[e.Closed=2]="Closed",e[e.Closing=4]="Closing",e[e.Opening=8]="Opening",e))(oi||{});function Vy(){return v.useContext(Hy)}function sNe({value:e,children:t}){return Qe.createElement(Hy.Provider,{value:e},t)}function iNe({children:e}){return Qe.createElement(Hy.Provider,{value:null},e)}function lNe(e){function t(){document.readyState!=="loading"&&(e(),document.removeEventListener("DOMContentLoaded",t))}typeof window<"u"&&typeof document<"u"&&(document.addEventListener("DOMContentLoaded",t),t())}let po=[];lNe(()=>{function e(t){if(!wo(t.target)||t.target===document.body||po[0]===t.target)return;let r=t.target;r=r.closest(Dx),po.unshift(r??t.target),po=po.filter(n=>n!=null&&n.isConnected),po.splice(10)}window.addEventListener("click",e,{capture:!0}),window.addEventListener("mousedown",e,{capture:!0}),window.addEventListener("focus",e,{capture:!0}),document.body.addEventListener("click",e,{capture:!0}),document.body.addEventListener("mousedown",e,{capture:!0}),document.body.addEventListener("focus",e,{capture:!0})});function k$(e){let t=gr(e),r=v.useRef(!1);v.useEffect(()=>(r.current=!1,()=>{r.current=!0,$y(()=>{r.current&&t()})}),[t])}let _$=v.createContext(!1);function oNe(){return v.useContext(_$)}function EP(e){return Qe.createElement(_$.Provider,{value:e.force},e.children)}function cNe(e){let t=oNe(),r=v.useContext(A$),[n,a]=v.useState(()=>{var i;if(!t&&r!==null)return(i=r.current)!=null?i:null;if(xl.isServer)return null;let l=e?.getElementById("headlessui-portal-root");if(l)return l;if(e===null)return null;let c=e.createElement("div");return c.setAttribute("id","headlessui-portal-root"),e.body.appendChild(c)});return v.useEffect(()=>{n!==null&&(e!=null&&e.body.contains(n)||e==null||e.body.appendChild(n))},[n,e]),v.useEffect(()=>{t||r!==null&&a(r.current)},[r,a,t]),n}let E$=v.Fragment,uNe=Ia(function(e,t){let{ownerDocument:r=null,...n}=e,a=v.useRef(null),i=$i(fje(g=>{a.current=g}),t),l=zy(a),c=r??l,d=cNe(c),f=v.useContext(bN),h=Uy(),p=Ks();return k$(()=>{var g;d&&d.childNodes.length<=0&&((g=d.parentElement)==null||g.removeChild(d))}),d?qd.createPortal(Qe.createElement("div",{"data-headlessui-portal":"",ref:g=>{h.dispose(),f&&g&&h.add(f.register(g))}},p({ourProps:{ref:i},theirProps:n,slot:{},defaultTag:E$,name:"Portal"})),d):null});function dNe(e,t){let r=$i(t),{enabled:n=!0,ownerDocument:a,...i}=e,l=Ks();return n?Qe.createElement(uNe,{...i,ownerDocument:a,ref:r}):l({ourProps:{ref:r},theirProps:i,slot:{},defaultTag:E$,name:"Portal"})}let fNe=v.Fragment,A$=v.createContext(null);function hNe(e,t){let{target:r,...n}=e,a={ref:$i(t)},i=Ks();return Qe.createElement(A$.Provider,{value:r},i({ourProps:a,theirProps:n,defaultTag:fNe,name:"Popover.Group"}))}let bN=v.createContext(null);function mNe(){let e=v.useContext(bN),t=v.useRef([]),r=gr(i=>(t.current.push(i),e&&e.register(i),()=>n(i))),n=gr(i=>{let l=t.current.indexOf(i);l!==-1&&t.current.splice(l,1),e&&e.unregister(i)}),a=v.useMemo(()=>({register:r,unregister:n,portals:t}),[r,n,t]);return[t,v.useMemo(()=>function({children:i}){return Qe.createElement(bN.Provider,{value:a},i)},[a])]}let pNe=Ia(dNe),T$=Ia(hNe),gNe=Object.assign(pNe,{Group:T$});function xNe(e,t=typeof document<"u"?document.defaultView:null,r){let n=wm(e,"escape");S$(t,"keydown",a=>{n&&(a.defaultPrevented||a.key===m$.Escape&&r(a))})}function yNe(){var e;let[t]=v.useState(()=>typeof window<"u"&&typeof window.matchMedia=="function"?window.matchMedia("(pointer: coarse)"):null),[r,n]=v.useState((e=t?.matches)!=null?e:!1);return Da(()=>{if(!t)return;function a(i){n(i.matches)}return t.addEventListener("change",a),()=>t.removeEventListener("change",a)},[t]),r}function vNe({defaultContainers:e=[],portals:t,mainTreeNode:r}={}){let n=zy(r),a=gr(()=>{var i,l;let c=[];for(let d of e)d!==null&&(ko(d)?c.push(d):"current"in d&&ko(d.current)&&c.push(d.current));if(t!=null&&t.current)for(let d of t.current)c.push(d);for(let d of(i=n?.querySelectorAll("html > *, body > *"))!=null?i:[])d!==document.body&&d!==document.head&&ko(d)&&d.id!=="headlessui-portal-root"&&(r&&(d.contains(r)||d.contains((l=r?.getRootNode())==null?void 0:l.host))||c.some(f=>d.contains(f))||c.push(d));return c});return{resolveContainers:a,contains:gr(i=>a().some(l=>l.contains(i)))}}let C$=v.createContext(null);function AP({children:e,node:t}){let[r,n]=v.useState(null),a=O$(t??r);return Qe.createElement(C$.Provider,{value:a},e,a===null&&Qe.createElement(xN,{features:Ox.Hidden,ref:i=>{var l,c;if(i){for(let d of(c=(l=By(i))==null?void 0:l.querySelectorAll("html > *, body > *"))!=null?c:[])if(d!==document.body&&d!==document.head&&ko(d)&&d!=null&&d.contains(i)){n(d);break}}}}))}function O$(e=null){var t;return(t=v.useContext(C$))!=null?t:e}function bNe(){let e=typeof document>"u";return"useSyncExternalStore"in zT?(t=>t.useSyncExternalStore)(zT)(()=>()=>{},()=>!1,()=>!e):!1}function qy(){let e=bNe(),[t,r]=v.useState(xl.isHandoffComplete);return t&&xl.isHandoffComplete===!1&&r(!1),v.useEffect(()=>{t!==!0&&r(!0)},[t]),v.useEffect(()=>xl.handoff(),[]),e?!1:t}function K_(){let e=v.useRef(!1);return Da(()=>(e.current=!0,()=>{e.current=!1}),[]),e}var B0=(e=>(e[e.Forwards=0]="Forwards",e[e.Backwards=1]="Backwards",e))(B0||{});function wNe(){let e=v.useRef(0);return N$(!0,"keydown",t=>{t.key==="Tab"&&(e.current=t.shiftKey?1:0)},!0),e}function D$(e){if(!e)return new Set;if(typeof e=="function")return new Set(e());let t=new Set;for(let r of e.current)ko(r.current)&&t.add(r.current);return t}let jNe="div";var Ac=(e=>(e[e.None=0]="None",e[e.InitialFocus=1]="InitialFocus",e[e.TabLock=2]="TabLock",e[e.FocusLock=4]="FocusLock",e[e.RestoreFocus=8]="RestoreFocus",e[e.AutoFocus=16]="AutoFocus",e))(Ac||{});function NNe(e,t){let r=v.useRef(null),n=$i(r,t),{initialFocus:a,initialFocusFallback:i,containers:l,features:c=15,...d}=e;qy()||(c=0);let f=zy(r);ENe(c,{ownerDocument:f});let h=ANe(c,{ownerDocument:f,container:r,initialFocus:a,initialFocusFallback:i});TNe(c,{ownerDocument:f,container:r,containers:l,previousActiveElement:h});let p=wNe(),g=gr(_=>{if(!iu(r.current))return;let E=r.current;(T=>T())(()=>{Tl(p.current,{[B0.Forwards]:()=>{nh(E,il.First,{skipElements:[_.relatedTarget,i]})},[B0.Backwards]:()=>{nh(E,il.Last,{skipElements:[_.relatedTarget,i]})}})})}),y=wm(!!(c&2),"focus-trap#tab-lock"),b=Uy(),w=v.useRef(!1),j={ref:n,onKeyDown(_){_.key=="Tab"&&(w.current=!0,b.requestAnimationFrame(()=>{w.current=!1}))},onBlur(_){if(!(c&4))return;let E=D$(l);iu(r.current)&&E.add(r.current);let T=_.relatedTarget;wo(T)&&T.dataset.headlessuiFocusGuard!=="true"&&(P$(E,T)||(w.current?nh(r.current,Tl(p.current,{[B0.Forwards]:()=>il.Next,[B0.Backwards]:()=>il.Previous})|il.WrapAround,{relativeTo:_.target}):wo(_.target)&&yl(_.target)))}},S=Ks();return Qe.createElement(Qe.Fragment,null,y&&Qe.createElement(xN,{as:"button",type:"button","data-headlessui-focus-guard":!0,onFocus:g,features:Ox.Focusable}),S({ourProps:j,theirProps:d,defaultTag:jNe,name:"FocusTrap"}),y&&Qe.createElement(xN,{as:"button",type:"button","data-headlessui-focus-guard":!0,onFocus:g,features:Ox.Focusable}))}let SNe=Ia(NNe),kNe=Object.assign(SNe,{features:Ac});function _Ne(e=!0){let t=v.useRef(po.slice());return G_(([r],[n])=>{n===!0&&r===!1&&$y(()=>{t.current.splice(0)}),n===!1&&r===!0&&(t.current=po.slice())},[e,po,t]),gr(()=>{var r;return(r=t.current.find(n=>n!=null&&n.isConnected))!=null?r:null})}function ENe(e,{ownerDocument:t}){let r=!!(e&8),n=_Ne(r);G_(()=>{r||t?.activeElement===t?.body&&yl(n())},[r]),k$(()=>{r&&yl(n())})}function ANe(e,{ownerDocument:t,container:r,initialFocus:n,initialFocusFallback:a}){let i=v.useRef(null),l=wm(!!(e&1),"focus-trap#initial-focus"),c=K_();return G_(()=>{if(e===0)return;if(!l){a!=null&&a.current&&yl(a.current);return}let d=r.current;d&&$y(()=>{if(!c.current)return;let f=t?.activeElement;if(n!=null&&n.current){if(n?.current===f){i.current=f;return}}else if(d.contains(f)){i.current=f;return}if(n!=null&&n.current)yl(n.current);else{if(e&16){if(nh(d,il.First|il.AutoFocus)!==vN.Error)return}else if(nh(d,il.First)!==vN.Error)return;if(a!=null&&a.current&&(yl(a.current),t?.activeElement===a.current))return;console.warn("There are no focusable elements inside the <FocusTrap />")}i.current=t?.activeElement})},[a,l,e]),i}function TNe(e,{ownerDocument:t,container:r,containers:n,previousActiveElement:a}){let i=K_(),l=!!(e&4);S$(t?.defaultView,"focus",c=>{if(!l||!i.current)return;let d=D$(n);iu(r.current)&&d.add(r.current);let f=a.current;if(!f)return;let h=c.target;iu(h)?P$(d,h)?(a.current=h,yl(h)):(c.preventDefault(),c.stopPropagation(),yl(f)):yl(a.current)},!0)}function P$(e,t){for(let r of e)if(r.contains(t))return!0;return!1}function M$(e){var t;return!!(e.enter||e.enterFrom||e.enterTo||e.leave||e.leaveFrom||e.leaveTo)||!th((t=e.as)!=null?t:I$)||Qe.Children.count(e.children)===1}let Wy=v.createContext(null);Wy.displayName="TransitionContext";var CNe=(e=>(e.Visible="visible",e.Hidden="hidden",e))(CNe||{});function ONe(){let e=v.useContext(Wy);if(e===null)throw new Error("A <Transition.Child /> is used but it is missing a parent <Transition /> or <Transition.Root />.");return e}function DNe(){let e=v.useContext(Gy);if(e===null)throw new Error("A <Transition.Child /> is used but it is missing a parent <Transition /> or <Transition.Root />.");return e}let Gy=v.createContext(null);Gy.displayName="NestingContext";function Ky(e){return"children"in e?Ky(e.children):e.current.filter(({el:t})=>t.current!==null).filter(({state:t})=>t==="visible").length>0}function R$(e,t){let r=vu(e),n=v.useRef([]),a=K_(),i=Uy(),l=gr((y,b=bo.Hidden)=>{let w=n.current.findIndex(({el:j})=>j===y);w!==-1&&(Tl(b,{[bo.Unmount](){n.current.splice(w,1)},[bo.Hidden](){n.current[w].state="hidden"}}),i.microTask(()=>{var j;!Ky(n)&&a.current&&((j=r.current)==null||j.call(r))}))}),c=gr(y=>{let b=n.current.find(({el:w})=>w===y);return b?b.state!=="visible"&&(b.state="visible"):n.current.push({el:y,state:"visible"}),()=>l(y,bo.Unmount)}),d=v.useRef([]),f=v.useRef(Promise.resolve()),h=v.useRef({enter:[],leave:[]}),p=gr((y,b,w)=>{d.current.splice(0),t&&(t.chains.current[b]=t.chains.current[b].filter(([j])=>j!==y)),t?.chains.current[b].push([y,new Promise(j=>{d.current.push(j)})]),t?.chains.current[b].push([y,new Promise(j=>{Promise.all(h.current[b].map(([S,_])=>_)).then(()=>j())})]),b==="enter"?f.current=f.current.then(()=>t?.wait.current).then(()=>w(b)):w(b)}),g=gr((y,b,w)=>{Promise.all(h.current[b].splice(0).map(([j,S])=>S)).then(()=>{var j;(j=d.current.shift())==null||j()}).then(()=>w(b))});return v.useMemo(()=>({children:n,register:c,unregister:l,onStart:p,onStop:g,wait:f,chains:h}),[c,l,n,p,g,h,f])}let I$=v.Fragment,F$=Cx.RenderStrategy;function PNe(e,t){var r,n;let{transition:a=!0,beforeEnter:i,afterEnter:l,beforeLeave:c,afterLeave:d,enter:f,enterFrom:h,enterTo:p,entered:g,leave:y,leaveFrom:b,leaveTo:w,...j}=e,[S,_]=v.useState(null),E=v.useRef(null),T=M$(e),A=$i(...T?[E,t,_]:t===null?[]:[t]),C=(r=j.unmount)==null||r?bo.Unmount:bo.Hidden,{show:O,appear:P,initial:F}=ONe(),[G,W]=v.useState(O?"visible":"hidden"),ee=DNe(),{register:ue,unregister:fe}=ee;Da(()=>ue(E),[ue,E]),Da(()=>{if(C===bo.Hidden&&E.current){if(O&&G!=="visible"){W("visible");return}return Tl(G,{hidden:()=>fe(E),visible:()=>ue(E)})}},[G,E,ue,fe,O,C]);let Q=qy();Da(()=>{if(T&&Q&&G==="visible"&&E.current===null)throw new Error("Did you forget to passthrough the `ref` to the actual DOM node?")},[E,G,Q,T]);let K=F&&!P,J=P&&O&&F,se=v.useRef(!1),xe=R$(()=>{se.current||(W("hidden"),fe(E))},ee),U=gr(De=>{se.current=!0;let re=De?"enter":"leave";xe.onStart(E,re,ie=>{ie==="enter"?i?.():ie==="leave"&&c?.()})}),ae=gr(De=>{let re=De?"enter":"leave";se.current=!1,xe.onStop(E,re,ie=>{ie==="enter"?l?.():ie==="leave"&&d?.()}),re==="leave"&&!Ky(xe)&&(W("hidden"),fe(E))});v.useEffect(()=>{T&&a||(U(O),ae(O))},[O,T,a]);let D=!(!a||!T||!Q||K),[,H]=tNe(D,S,O,{start:U,end:ae}),B=Nc({ref:A,className:((n=gN(j.className,J&&f,J&&h,H.enter&&f,H.enter&&H.closed&&h,H.enter&&!H.closed&&p,H.leave&&y,H.leave&&!H.closed&&b,H.leave&&H.closed&&w,!H.transition&&O&&g))==null?void 0:n.trim())||void 0,...eNe(H)}),V=0;G==="visible"&&(V|=oi.Open),G==="hidden"&&(V|=oi.Closed),O&&G==="hidden"&&(V|=oi.Opening),!O&&G==="visible"&&(V|=oi.Closing);let le=Ks();return Qe.createElement(Gy.Provider,{value:xe},Qe.createElement(sNe,{value:V},le({ourProps:B,theirProps:j,defaultTag:I$,features:F$,visible:G==="visible",name:"Transition.Child"})))}function MNe(e,t){let{show:r,appear:n=!1,unmount:a=!0,...i}=e,l=v.useRef(null),c=M$(e),d=$i(...c?[l,t]:t===null?[]:[t]);qy();let f=Vy();if(r===void 0&&f!==null&&(r=(f&oi.Open)===oi.Open),r===void 0)throw new Error("A <Transition /> is used but it is missing a `show={true | false}` prop.");let[h,p]=v.useState(r?"visible":"hidden"),g=R$(()=>{r||p("hidden")}),[y,b]=v.useState(!0),w=v.useRef([r]);Da(()=>{y!==!1&&w.current[w.current.length-1]!==r&&(w.current.push(r),b(!1))},[w,r]);let j=v.useMemo(()=>({show:r,appear:n,initial:y}),[r,n,y]);Da(()=>{r?p("visible"):!Ky(g)&&l.current!==null&&p("hidden")},[r,g]);let S={unmount:a},_=gr(()=>{var A;y&&b(!1),(A=e.beforeEnter)==null||A.call(e)}),E=gr(()=>{var A;y&&b(!1),(A=e.beforeLeave)==null||A.call(e)}),T=Ks();return Qe.createElement(Gy.Provider,{value:g},Qe.createElement(Wy.Provider,{value:j},T({ourProps:{...S,as:v.Fragment,children:Qe.createElement(L$,{ref:d,...S,...i,beforeEnter:_,beforeLeave:E})},theirProps:{},defaultTag:v.Fragment,features:F$,visible:h==="visible",name:"Transition"})))}function RNe(e,t){let r=v.useContext(Wy)!==null,n=Vy()!==null;return Qe.createElement(Qe.Fragment,null,!r&&n?Qe.createElement(wN,{ref:t,...e}):Qe.createElement(L$,{ref:t,...e}))}let wN=Ia(MNe),L$=Ia(PNe),Y_=Ia(RNe),wg=Object.assign(wN,{Child:Y_,Root:wN});var INe=(e=>(e[e.Open=0]="Open",e[e.Closed=1]="Closed",e))(INe||{}),FNe=(e=>(e[e.SetTitleId=0]="SetTitleId",e))(FNe||{});let LNe={0(e,t){return e.titleId===t.id?e:{...e,titleId:t.id}}},X_=v.createContext(null);X_.displayName="DialogContext";function Yy(e){let t=v.useContext(X_);if(t===null){let r=new Error(`<${e} /> is missing a parent <Dialog /> component.`);throw Error.captureStackTrace&&Error.captureStackTrace(r,Yy),r}return t}function BNe(e,t){return Tl(t.type,LNe,e,t)}let TP=Ia(function(e,t){let r=v.useId(),{id:n=`headlessui-dialog-${r}`,open:a,onClose:i,initialFocus:l,role:c="dialog",autoFocus:d=!0,__demoMode:f=!1,unmount:h=!1,...p}=e,g=v.useRef(!1);c=function(){return c==="dialog"||c==="alertdialog"?c:(g.current||(g.current=!0,console.warn(`Invalid role [${c}] passed to <Dialog />. Only \`dialog\` and and \`alertdialog\` are supported. Using \`dialog\` instead.`)),"dialog")}();let y=Vy();a===void 0&&y!==null&&(a=(y&oi.Open)===oi.Open);let b=v.useRef(null),w=$i(b,t),j=zy(b),S=a?0:1,[_,E]=v.useReducer(BNe,{titleId:null,descriptionId:null,panelRef:v.createRef()}),T=gr(()=>i(!1)),A=gr(H=>E({type:0,id:H})),C=qy()?S===0:!1,[O,P]=mNe(),F={get current(){var H;return(H=_.panelRef.current)!=null?H:b.current}},G=O$(),{resolveContainers:W}=vNe({mainTreeNode:G,portals:O,defaultContainers:[F]}),ee=y!==null?(y&oi.Closing)===oi.Closing:!1;Cje(f||ee?!1:C,{allowed:gr(()=>{var H,B;return[(B=(H=b.current)==null?void 0:H.closest("[data-headlessui-portal]"))!=null?B:null]}),disallowed:gr(()=>{var H;return[(H=G?.closest("body > *:not(#headlessui-portal-root)"))!=null?H:null]})});let ue=v$.get(null);Da(()=>{if(C)return ue.actions.push(n),()=>ue.actions.pop(n)},[ue,n,C]);let fe=b$(ue,v.useCallback(H=>ue.selectors.isTop(H,n),[ue,n]));zje(fe,W,H=>{H.preventDefault(),T()}),xNe(fe,j?.defaultView,H=>{H.preventDefault(),H.stopPropagation(),document.activeElement&&"blur"in document.activeElement&&typeof document.activeElement.blur=="function"&&document.activeElement.blur(),T()}),Xje(f||ee?!1:C,j,W),Oje(C,b,T);let[Q,K]=hje(),J=v.useMemo(()=>[{dialogState:S,close:T,setTitleId:A,unmount:h},_],[S,T,A,h,_]),se=bm({open:S===0}),xe={ref:w,id:n,role:c,tabIndex:-1,"aria-modal":f?void 0:S===0?!0:void 0,"aria-labelledby":_.titleId,"aria-describedby":Q,unmount:h},U=!yNe(),ae=Ac.None;C&&!f&&(ae|=Ac.RestoreFocus,ae|=Ac.TabLock,d&&(ae|=Ac.AutoFocus),U&&(ae|=Ac.InitialFocus));let D=Ks();return Qe.createElement(iNe,null,Qe.createElement(EP,{force:!0},Qe.createElement(gNe,null,Qe.createElement(X_.Provider,{value:J},Qe.createElement(T$,{target:b},Qe.createElement(EP,{force:!1},Qe.createElement(K,{slot:se},Qe.createElement(P,null,Qe.createElement(kNe,{initialFocus:l,initialFocusFallback:b,containers:W,features:ae},Qe.createElement(vje,{value:T},D({ourProps:xe,theirProps:p,slot:se,defaultTag:$Ne,features:UNe,visible:S===0,name:"Dialog"})))))))))))}),$Ne="div",UNe=Cx.RenderStrategy|Cx.Static;function zNe(e,t){let{transition:r=!1,open:n,...a}=e,i=Vy(),l=e.hasOwnProperty("open")||i!==null,c=e.hasOwnProperty("onClose");if(!l&&!c)throw new Error("You have to provide an `open` and an `onClose` prop to the `Dialog` component.");if(!l)throw new Error("You provided an `onClose` prop to the `Dialog`, but forgot an `open` prop.");if(!c)throw new Error("You provided an `open` prop to the `Dialog`, but forgot an `onClose` prop.");if(!i&&typeof e.open!="boolean")throw new Error(`You provided an \`open\` prop to the \`Dialog\`, but the value is not a boolean. Received: ${e.open}`);if(typeof e.onClose!="function")throw new Error(`You provided an \`onClose\` prop to the \`Dialog\`, but the value is not a function. Received: ${e.onClose}`);return(n!==void 0||r)&&!a.static?Qe.createElement(AP,null,Qe.createElement(wg,{show:n,transition:r,unmount:a.unmount},Qe.createElement(TP,{ref:t,...a}))):Qe.createElement(AP,null,Qe.createElement(TP,{ref:t,open:n,...a}))}let HNe="div";function VNe(e,t){let r=v.useId(),{id:n=`headlessui-dialog-panel-${r}`,transition:a=!1,...i}=e,[{dialogState:l,unmount:c},d]=Yy("Dialog.Panel"),f=$i(t,d.panelRef),h=bm({open:l===0}),p=gr(j=>{j.stopPropagation()}),g={ref:f,id:n,onClick:p},y=a?Y_:v.Fragment,b=a?{unmount:c}:{},w=Ks();return Qe.createElement(y,{...b},w({ourProps:g,theirProps:i,slot:h,defaultTag:HNe,name:"Dialog.Panel"}))}let qNe="div";function WNe(e,t){let{transition:r=!1,...n}=e,[{dialogState:a,unmount:i}]=Yy("Dialog.Backdrop"),l=bm({open:a===0}),c={ref:t,"aria-hidden":!0},d=r?Y_:v.Fragment,f=r?{unmount:i}:{},h=Ks();return Qe.createElement(d,{...f},h({ourProps:c,theirProps:n,slot:l,defaultTag:qNe,name:"Dialog.Backdrop"}))}let GNe="h2";function KNe(e,t){let r=v.useId(),{id:n=`headlessui-dialog-title-${r}`,...a}=e,[{dialogState:i,setTitleId:l}]=Yy("Dialog.Title"),c=$i(t);v.useEffect(()=>(l(n),()=>l(null)),[n,l]);let d=bm({open:i===0}),f={ref:c,id:n};return Ks()({ourProps:f,theirProps:a,slot:d,defaultTag:GNe,name:"Dialog.Title"})}let YNe=Ia(zNe),XNe=Ia(VNe);Ia(WNe);let QNe=Ia(KNe),Px=Object.assign(YNe,{Panel:XNe,Title:QNe,Description:xje});const Mx=({open:e,onClose:t,title:r,children:n})=>s.jsx(Px,{open:e,onClose:t,className:"fixed z-50 inset-0 overflow-y-auto",children:s.jsxs("div",{className:"flex items-center justify-center min-h-screen px-4",children:[s.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-30","aria-hidden":"true"}),s.jsxs("div",{className:"relative bg-white dark:bg-gray-900 rounded-2xl p-8 max-w-md w-full mx-auto z-10 shadow-xl border border-gray-200 dark:border-gray-800",children:[s.jsx("button",{className:"absolute top-4 right-4 p-2 rounded-full hover:bg-gray-100 dark:hover:bg-gray-800",onClick:t,title:"Close",children:s.jsx(Tr,{className:"w-5 h-5 text-gray-500"})}),s.jsx(Px.Title,{className:"text-2xl font-bold mb-4 text-gray-900 dark:text-white",children:r}),s.jsx("div",{className:"space-y-2 text-lg",children:n})]})]})});function b2({score:e,confidence:t,showDetails:r=!1,size:n="md",className:a=""}){if(e==null)return s.jsx("div",{className:`flex items-center gap-2 ${a}`,children:s.jsx("div",{className:"text-gray-400 text-sm",children:"No score"})});const i=K2e(e),l=Y2e(e),d={sm:{container:"text-xs",score:"text-lg font-bold",category:"text-xs",circle:"w-8 h-8"},md:{container:"text-sm",score:"text-xl font-bold",category:"text-sm",circle:"w-12 h-12"},lg:{container:"text-base",score:"text-2xl font-bold",category:"text-base",circle:"w-16 h-16"}}[n],f=n==="sm"?14:n==="md"?20:28,h=2*Math.PI*f,g=`${e/100*h} ${h}`,y=()=>e>=80?s.jsx(Vr,{className:"w-3 h-3 text-green-600"}):e>=60?s.jsx(Vr,{className:"w-3 h-3 text-orange-600"}):e>=40?s.jsx(NG,{className:"w-3 h-3 text-yellow-600"}):s.jsx(aR,{className:"w-3 h-3 text-gray-600"});return s.jsxs("div",{className:`flex items-center gap-3 ${d.container} ${a}`,children:[s.jsxs("div",{className:"relative",children:[s.jsxs("svg",{className:d.circle,children:[s.jsx("circle",{cx:f+2,cy:f+2,r:f,stroke:"currentColor",strokeWidth:"2",fill:"none",className:"text-gray-200"}),s.jsx("circle",{cx:f+2,cy:f+2,r:f,stroke:"currentColor",strokeWidth:"2",fill:"none",strokeDasharray:g,strokeLinecap:"round",className:`${e>=80?"text-red-500":e>=60?"text-orange-500":e>=40?"text-yellow-500":"text-gray-400"}`,style:{transform:"rotate(-90deg)",transformOrigin:"center"}})]}),s.jsx("div",{className:"absolute inset-0 flex items-center justify-center",children:s.jsx("span",{className:`${d.score} ${e>=80?"text-red-600":e>=60?"text-orange-600":e>=40?"text-yellow-600":"text-gray-600"}`,children:e})})]}),s.jsxs("div",{className:"flex flex-col",children:[s.jsxs("div",{className:"flex items-center gap-1",children:[s.jsx("span",{className:`font-semibold ${d.category}`,children:l}),y()]}),r&&t!==void 0&&s.jsxs("div",{className:"text-gray-500 text-xs",children:["Confidence: ",Math.round(t*100),"%"]})]}),!r&&s.jsx("span",{className:`px-2 py-1 rounded-full text-xs font-semibold ${i}`,children:e})]})}const Ft=({open:e,onClose:t,title:r,children:n,animationType:a="scale",size:i="md"})=>{const l={sm:"max-w-sm",md:"max-w-md",lg:"max-w-lg",xl:"max-w-xl"},d=(()=>{switch(a){case"slideUp":return{enter:"transform transition-all duration-300 ease-out",enterFrom:"translate-y-full opacity-0",enterTo:"translate-y-0 opacity-100",leave:"transform transition-all duration-200 ease-in",leaveFrom:"translate-y-0 opacity-100",leaveTo:"translate-y-full opacity-0"};case"scale":return{enter:"transform transition-all duration-300 ease-out",enterFrom:"scale-95 opacity-0",enterTo:"scale-100 opacity-100",leave:"transform transition-all duration-200 ease-in",leaveFrom:"scale-100 opacity-100",leaveTo:"scale-95 opacity-0"};case"fade":return{enter:"transition-opacity duration-300 ease-out",enterFrom:"opacity-0",enterTo:"opacity-100",leave:"transition-opacity duration-200 ease-in",leaveFrom:"opacity-100",leaveTo:"opacity-0"};case"slideDown":return{enter:"transform transition-all duration-300 ease-out",enterFrom:"-translate-y-full opacity-0",enterTo:"translate-y-0 opacity-100",leave:"transform transition-all duration-200 ease-in",leaveFrom:"translate-y-0 opacity-100",leaveTo:"-translate-y-full opacity-0"};default:return{enter:"transform transition-all duration-300 ease-out",enterFrom:"scale-95 opacity-0",enterTo:"scale-100 opacity-100",leave:"transform transition-all duration-200 ease-in",leaveFrom:"scale-100 opacity-100",leaveTo:"scale-95 opacity-0"}}})();return s.jsx(wg,{appear:!0,show:e,as:v.Fragment,children:s.jsx(Px,{as:"div",className:"fixed z-50 inset-0 overflow-y-auto",onClose:t,children:s.jsxs("div",{className:"flex items-center justify-center min-h-screen px-4",children:[s.jsx(wg.Child,{as:v.Fragment,enter:"transition-opacity duration-300",enterFrom:"opacity-0",enterTo:"opacity-100",leave:"transition-opacity duration-200",leaveFrom:"opacity-100",leaveTo:"opacity-0",children:s.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 backdrop-blur-sm"})}),s.jsx(wg.Child,{as:v.Fragment,enter:d.enter,enterFrom:d.enterFrom,enterTo:d.enterTo,leave:d.leave,leaveFrom:d.leaveFrom,leaveTo:d.leaveTo,children:s.jsxs("div",{className:`relative bg-white dark:bg-gray-900 rounded-2xl p-8 ${l[i]} w-full mx-auto z-10 shadow-2xl border border-gray-200 dark:border-gray-800`,children:[s.jsx("button",{className:"absolute top-4 right-4 p-2 rounded-full hover:bg-gray-100 dark:hover:bg-gray-800 transition-colors duration-200 group",onClick:t,title:"Close",children:s.jsx(Tr,{className:"w-5 h-5 text-gray-500 group-hover:text-gray-700 dark:group-hover:text-gray-300 transition-colors duration-200"})}),s.jsx(Px.Title,{className:"text-2xl font-bold mb-6 text-gray-900 dark:text-white",children:r}),s.jsx("div",{className:"space-y-2 text-lg",children:n})]})})]})})})},ZNe={New:"bg-blue-100 text-blue-700",Contacted:"bg-yellow-100 text-yellow-700",Qualified:"bg-green-100 text-green-700",Lost:"bg-red-100 text-red-700",new:"bg-blue-100 text-blue-700",contacted:"bg-yellow-100 text-yellow-700",qualified:"bg-green-100 text-green-700",lost:"bg-red-100 text-red-700",converted:"bg-purple-100 text-purple-700"},CP={new:"bg-blue-100 text-blue-700",qualified:"bg-green-100 text-green-700",lost:"bg-red-100 text-red-700",converted:"bg-purple-100 text-purple-700",contacted:"bg-yellow-100 text-yellow-700",proposal:"bg-pink-100 text-pink-700",negotiation:"bg-orange-100 text-orange-700",won:"bg-green-200 text-green-800"},OP=[{key:"title",label:"Name",sortable:!0},{key:"company",label:"Company",sortable:!0},{key:"status",label:"Status",sortable:!0},{key:"score",label:"Score",sortable:!0},{key:"owner_name",label:"Owner",sortable:!0},{key:"created_at",label:"Created",sortable:!0}];function JNe(){const[e,t]=v.useState([]),[r,n]=v.useState(!0),[a,i]=v.useState(null),[l,c]=v.useState(""),[d,f]=v.useState(""),[h,p]=v.useState(""),[g,y]=v.useState(null),[b,w]=v.useState(null),[j,S]=v.useState(""),[_,E]=v.useState("created"),[T,A]=v.useState("desc"),[C,O]=v.useState(1),[P,F]=v.useState([]),G=10,[W,ee]=v.useState(!1),[ue,fe]=v.useState(null),[Q,K]=v.useState(null),[J,se]=v.useState(!1),[xe,U]=v.useState({title:"",status:"new",source:"manual",contact_id:null,owner_id:1}),[ae,D]=v.useState(null),[H,B]=v.useState(null),[V,le]=v.useState(!1),[De,re]=v.useState(!1),[ie,de]=v.useState(null);if(v.useEffect(()=>{ad().then(ge=>{t(ge),n(!1)}).catch(ge=>{console.error("Failed to load leads:",ge),i("Failed to load leads"),n(!1)});try{D(u$())}catch{}},[]),r)return s.jsx("div",{className:"p-8 text-lg",children:"Loading..."});if(a)return s.jsx("div",{className:"p-8 text-red-500",children:a});let oe=e.filter(ge=>{const ct=!l||ge.title?.toLowerCase().includes(l.toLowerCase())||ge.company?.toLowerCase().includes(l.toLowerCase()),At=!d||ge.status&&(ge.status.toLowerCase()===d.toLowerCase()||ge.status===d);let te=!0;if(h){const Ce=ge.score??0;switch(h){case"hot":te=Ce>=80;break;case"warm":te=Ce>=60&&Ce<80;break;case"lukewarm":te=Ce>=40&&Ce<60;break;case"cold":te=Ce<40;break;case"scored":te=Ce>0;break;case"unscored":te=Ce===0||Ce===null;break}}return ct&&At&&te});oe=oe.sort((ge,ct)=>{let At=ge[_],te=ct[_];return _==="score"&&(At=At??0,te=te??0),_==="created_at"&&(At=new Date(At||0),te=new Date(te||0)),typeof At=="string"&&typeof te=="string"&&(At=At.toLowerCase(),te=te.toLowerCase()),At<te?T==="asc"?-1:1:At>te?T==="asc"?1:-1:0});const me=Math.ceil(oe.length/G),Xe=oe.slice((C-1)*G,C*G),Ue=ge=>{_===ge?A(T==="asc"?"desc":"asc"):(E(ge),A("asc")),O(1)},xt=Xe.length>0&&Xe.every(ge=>P.includes(ge.id)),Ye=Xe.some(ge=>P.includes(ge.id)),Be=()=>{F(xt?P.filter(ge=>!Xe.some(ct=>ct.id===ge)):[...P,...Xe.filter(ge=>!P.includes(ge.id)).map(ge=>ge.id)])},Dt=ge=>{F(P.includes(ge)?P.filter(ct=>ct!==ge):[...P,ge])},Kt=()=>F([]),yt=()=>{alert(`Deleted ${P.length} leads (demo only)`),Kt()},Vt=(ge,ct,At)=>{w({id:ge,field:ct}),S(At)},Rr=async(ge,ct)=>{ee(!0);try{await z2e(ge,{[ct]:j}),t(At=>At.map(te=>te.id===ge?{...te,[ct]:j}:te)),fe("Lead updated!"),setTimeout(()=>fe(null),2e3)}catch{alert("Failed to update lead")}w(null),S(""),ee(!1)},Wr=(ge,ct,At)=>{ge.key==="Enter"&&Rr(ct,At),ge.key==="Escape"&&w(null)};function yr(){const ge=["Name","Company","Status","Owner","Created"],ct=oe.map(ut=>[ut.name,ut.company,ut.status,ut.owner,ut.created]),At=[ge,...ct].map(ut=>ut.map(ot=>`"${String(ot).replace(/"/g,'""')}"`).join(",")).join(`
`),te=new Blob([At],{type:"text/csv"}),Ce=URL.createObjectURL(te),Ae=document.createElement("a");Ae.href=Ce,Ae.download="leads.csv",Ae.click(),URL.revokeObjectURL(Ce)}function Pn(){const ge=["Name","Company","Status","Owner","Created"],ct=oe.map(Ce=>[Ce.name,Ce.company,Ce.status,Ce.owner,Ce.created]),At=jd.aoa_to_sheet([ge,...ct]),te=jd.book_new();jd.book_append_sheet(te,At,"Leads"),s$(te,"leads.xlsx")}const Mn=async ge=>{ee(!0);try{const ct=await $2e(ge);y(ct)}catch{alert("Failed to fetch lead details")}ee(!1)},vt=async ge=>{K(ge)},ur=async()=>{if(Q!==null){ee(!0);try{await H2e(Q),ad().then(t),fe("Lead deleted!"),setTimeout(()=>fe(null),2e3)}catch{alert("Failed to delete lead")}ee(!1),K(null)}},pt=()=>K(null),qt=async ge=>{ee(!0);try{const ct=await V2e(ge);t(await ad()),fe(`Lead converted to deal: ${ct.message}`),setTimeout(()=>fe(null),3e3)}catch{alert("Failed to convert lead to deal")}ee(!1)},dn=async()=>{if(!xe.title.trim()){alert("Please enter a lead title");return}ee(!0);try{await U2e(xe),t(await ad()),se(!1),U({title:"",status:"new",source:"manual",contact_id:null,owner_id:1}),fe("Lead created successfully!"),setTimeout(()=>fe(null),2e3)}catch{alert("Failed to create lead")}ee(!1)},at=()=>{U({title:"",status:"new",source:"manual",contact_id:null,owner_id:1})},Mt=async()=>{re(!0);try{const ge=await W2e();t(await ad()),fe(`Successfully scored ${ge.results.length} leads!`),setTimeout(()=>fe(null),3e3)}catch{fe("Failed to score leads"),setTimeout(()=>fe(null),3e3)}re(!1)},Zr=async()=>{re(!0);try{const ge=await G2e();B(ge),le(!0)}catch{fe("Failed to load scoring analytics"),setTimeout(()=>fe(null),3e3)}re(!1)},Nr=()=>{if(!e||e.length===0)return["new","qualified","lost","converted","contacted"];const ge=[...new Set(e.map(ct=>ct.status).filter(Boolean))];return ge.length>0?ge:["new","qualified","lost","converted","contacted"]};return s.jsxs("div",{className:"p-2 md:p-6",children:[P.length>0&&s.jsxs("div",{className:"flex items-center justify-between bg-pink-50 dark:bg-pink-900/30 border border-pink-200 dark:border-pink-800 rounded-xl px-4 py-2 mb-4 shadow animate-fade-in",children:[s.jsxs("span",{className:"text-pink-700 dark:text-pink-200 font-semibold",children:[P.length," selected"]}),s.jsxs("div",{className:"flex gap-2",children:[s.jsx("button",{className:"px-4 py-1 rounded-full bg-red-500 text-white font-semibold hover:bg-red-600 transition",onClick:yt,children:"Delete Selected"}),s.jsx("button",{className:"px-4 py-1 rounded-full bg-gray-200 dark:bg-gray-800 text-gray-700 dark:text-gray-200 font-semibold hover:bg-gray-300 dark:hover:bg-gray-700 transition",onClick:Kt,children:"Clear"})]})]}),s.jsxs("div",{className:"flex flex-col lg:flex-row lg:items-center lg:justify-between gap-6 mb-6",children:[s.jsx("h1",{className:"text-3xl font-extrabold text-gray-900 dark:text-white",children:"Leads"}),s.jsxs("div",{className:"flex flex-col sm:flex-row gap-4 items-start sm:items-center",children:[s.jsxs("div",{className:"flex flex-wrap gap-3",children:[s.jsx(Ur,{variant:"pink",size:"md",icon:Cr,onClick:ge=>{ge&&de(ge.currentTarget.getBoundingClientRect()),se(!0)},children:"Create Lead"}),s.jsx(Ur,{variant:"blue",size:"md",icon:Qc,onClick:Mt,disabled:De,loading:De,children:"Score All Leads"}),s.jsx(Ur,{variant:"success",size:"md",icon:Pa,onClick:Zr,disabled:De,children:"Analytics"})]}),s.jsxs("div",{className:"flex flex-wrap gap-3",children:[s.jsx(Ur,{variant:"purple",size:"sm",icon:Vr,onClick:()=>{E("score"),A("desc"),O(1)},children:"Sort by Score"}),s.jsx(Ur,{variant:"primary",size:"sm",icon:uh,onClick:yr,children:"Export CSV"}),s.jsx(Ur,{variant:"green",size:"sm",icon:uh,onClick:Pn,children:"Export Excel"})]})]})]}),s.jsxs("div",{className:"flex flex-col lg:flex-row gap-4 mb-6",children:[s.jsxs("div",{className:"flex flex-col sm:flex-row gap-3 flex-1",children:[s.jsxs("div",{className:"relative flex-1 max-w-md",children:[s.jsx("input",{type:"text",value:l,onChange:ge=>c(ge.target.value),placeholder:"Search leads...",className:"w-full rounded-full pl-10 pr-4 py-2 bg-white/80 dark:bg-gray-800/80 text-gray-900 dark:text-white placeholder:text-gray-400 focus:outline-none focus:ring-2 focus:ring-pink-400 shadow"}),s.jsx(fi,{className:"absolute left-3 top-2.5 w-5 h-5 text-gray-400"})]}),s.jsxs("div",{className:"relative",children:[s.jsxs("select",{value:d,onChange:ge=>f(ge.target.value),className:"rounded-full pl-10 pr-4 py-2 bg-white/80 dark:bg-gray-800/80 text-gray-900 dark:text-white focus:outline-none focus:ring-2 focus:ring-blue-400 w-40 shadow appearance-none",children:[s.jsx("option",{value:"",children:"All Statuses"}),Nr().map(ge=>s.jsx("option",{value:ge,children:ge.charAt(0).toUpperCase()+ge.slice(1)},ge))]}),s.jsx(q2,{className:"absolute left-3 top-2.5 w-5 h-5 text-gray-400"})]}),s.jsxs("div",{className:"relative",children:[s.jsxs("select",{value:h,onChange:ge=>p(ge.target.value),className:"rounded-full pl-10 pr-4 py-2 bg-white/80 dark:bg-gray-800/80 text-gray-900 dark:text-white focus:outline-none focus:ring-2 focus:ring-pink-400 w-40 shadow appearance-none",children:[s.jsx("option",{value:"",children:"All Scores"}),s.jsx("option",{value:"hot",children:"Hot Leads (80+)"}),s.jsx("option",{value:"warm",children:"Warm Leads (60-79)"}),s.jsx("option",{value:"lukewarm",children:"Lukewarm (40-59)"}),s.jsx("option",{value:"cold",children:"Cold Leads (0-39)"}),s.jsx("option",{value:"scored",children:"Scored Leads"}),s.jsx("option",{value:"unscored",children:"Unscored Leads"})]}),s.jsx(q2,{className:"absolute left-3 top-2.5 w-5 h-5 text-gray-400"})]})]}),(l||d||h)&&s.jsx("div",{className:"flex justify-end",children:s.jsx(Ur,{variant:"gray",size:"sm",icon:Tr,onClick:()=>{c(""),f(""),p(""),E("created_at"),A("desc"),O(1)},children:"Clear Filters"})})]}),(l||d||h||_!=="created_at")&&s.jsx("div",{className:"mb-4 p-3 bg-blue-50 dark:bg-blue-900/30 rounded-xl border border-blue-200 dark:border-blue-800",children:s.jsxs("div",{className:"flex flex-wrap items-center gap-2 text-sm",children:[s.jsx("span",{className:"font-semibold text-blue-700 dark:text-blue-300",children:"Active Filters:"}),l&&s.jsxs("span",{className:"px-2 py-1 bg-blue-100 dark:bg-blue-800 text-blue-700 dark:text-blue-300 rounded-full",children:['Search: "',l,'"']}),d&&s.jsxs("span",{className:"px-2 py-1 bg-blue-100 dark:bg-blue-800 text-blue-700 dark:text-blue-300 rounded-full",children:["Status: ",d]}),h&&s.jsxs("span",{className:"px-2 py-1 bg-blue-100 dark:bg-blue-800 text-blue-700 dark:text-blue-300 rounded-full",children:["Score: ",h]}),s.jsxs("span",{className:"px-2 py-1 bg-green-100 dark:bg-green-800 text-green-700 dark:text-green-300 rounded-full",children:["Sort: ",OP.find(ge=>ge.key===_)?.label," (",T.toUpperCase(),")"]}),s.jsxs("span",{className:"text-gray-500 dark:text-gray-400",children:["Showing ",oe.length," of ",e.length," leads"]})]})}),s.jsx("div",{className:"overflow-x-auto rounded-2xl shadow border bg-white dark:bg-gray-900 hidden sm:block",children:s.jsxs("table",{className:"min-w-full bg-white dark:bg-gray-900 rounded shadow overflow-hidden",children:[s.jsx("thead",{children:s.jsxs("tr",{className:"bg-gray-100 dark:bg-gray-700",children:[s.jsx("th",{className:"px-4 py-2",children:s.jsx("input",{type:"checkbox",checked:xt,ref:ge=>{ge&&(ge.indeterminate=Ye&&!xt)},onChange:Be,"aria-label":"Select all leads on this page",className:"accent-pink-500 w-5 h-5 rounded focus:ring-pink-400"})}),OP.map(ge=>s.jsx("th",{className:"px-4 py-2 text-left text-sm font-semibold text-gray-700 dark:text-gray-200 cursor-pointer hover:bg-gray-200 dark:hover:bg-gray-600 transition-colors",onClick:()=>ge.sortable&&Ue(ge.key),children:s.jsxs("div",{className:"flex items-center gap-1",children:[ge.label,ge.sortable&&s.jsxs("div",{className:"flex flex-col",children:[s.jsx(PW,{className:`w-3 h-3 ${_===ge.key&&T==="asc"?"text-pink-500":"text-gray-400"}`}),s.jsx(QM,{className:`w-3 h-3 ${_===ge.key&&T==="desc"?"text-pink-500":"text-gray-400"}`})]})]})},ge.key)),s.jsx("th",{className:"px-4 py-2 text-left text-sm font-semibold text-gray-700 dark:text-gray-200",children:"Actions"})]})}),s.jsx("tbody",{children:Xe.map(ge=>s.jsxs("tr",{className:"border-b border-gray-200 dark:border-gray-700 hover:bg-pink-50 dark:hover:bg-pink-900/20 transition cursor-pointer",children:[s.jsx("td",{className:"px-4 py-2",children:s.jsx("input",{type:"checkbox",checked:P.includes(ge.id),onChange:()=>Dt(ge.id),"aria-label":`Select lead ${ge.title||ge.contact_name}`,className:"accent-pink-500 w-5 h-5 rounded focus:ring-pink-400"})}),s.jsx("td",{className:"px-4 py-2 text-gray-900 dark:text-white",children:b&&b.id===ge.id&&b.field==="title"?s.jsx("input",{autoFocus:!0,value:j,onChange:ct=>S(ct.target.value),onBlur:()=>Rr(ge.id,"title"),onKeyDown:ct=>Wr(ct,ge.id,"title"),className:"rounded px-2 py-1 border-2 border-pink-400 focus:outline-none focus:ring-2 focus:ring-pink-400 bg-white dark:bg-gray-800 text-gray-900 dark:text-white"}):s.jsx("span",{className:"cursor-pointer hover:underline",onClick:()=>Vt(ge.id,"title",ge.title),children:ge.title||ge.contact_name})}),s.jsx("td",{className:"px-4 py-2 text-gray-700 dark:text-gray-300",children:ge.company}),s.jsx("td",{className:"px-4 py-2",children:b&&b.id===ge.id&&b.field==="status"?s.jsx("select",{autoFocus:!0,value:j,onChange:ct=>S(ct.target.value),onBlur:()=>Rr(ge.id,"status"),onKeyDown:ct=>Wr(ct,ge.id,"status"),className:"rounded px-2 py-1 border-2 border-pink-400 focus:outline-none focus:ring-2 focus:ring-pink-400 bg-white dark:bg-gray-800 text-gray-900 dark:text-white",children:Object.keys(CP).map(ct=>s.jsx("option",{value:ct,children:ct},ct))}):s.jsx("span",{className:`cursor-pointer hover:underline px-3 py-1 rounded-full text-xs font-bold capitalize ${CP[ge.status?.toLowerCase()]||"bg-gray-200 text-gray-700"}`,onClick:()=>Vt(ge.id,"status",ge.status),children:ge.status?ge.status.charAt(0).toUpperCase()+ge.status.slice(1):"Unknown"})}),s.jsx("td",{className:"px-4 py-2",children:s.jsx(b2,{score:ge.score,size:"sm"})}),s.jsx("td",{className:"px-4 py-2 text-gray-700 dark:text-gray-300",children:ge.owner_name}),s.jsx("td",{className:"px-4 py-2 text-gray-500 dark:text-gray-400",children:ge.created_at?.slice(0,10)}),s.jsxs("td",{className:"px-4 py-2 flex gap-2",children:[s.jsx("button",{className:"text-blue-500 hover:text-blue-700",title:"View",onClick:()=>Mn(ge.id).then(()=>y(ge)),disabled:W,children:s.jsx(gn,{})}),ge.status!=="converted"&&s.jsx("button",{className:"text-green-500 hover:text-green-700",title:"Convert to Deal",onClick:()=>qt(ge.id),disabled:W,children:s.jsx(Ao,{})}),s.jsx("button",{className:"text-red-500 hover:text-red-700",title:"Delete",onClick:()=>vt(ge.id),disabled:W,children:s.jsx(Mi,{})})]})]},ge.id))})]})}),s.jsxs("div",{className:"sm:hidden space-y-4",children:[s.jsx(Ur,{variant:"pink",size:"lg",icon:Cr,className:"w-full",onClick:ge=>{ge&&de(ge.currentTarget.getBoundingClientRect()),se(!0)},children:"Create New Lead"}),Xe.map(ge=>s.jsxs("div",{className:`rounded-2xl shadow border p-4 bg-white dark:bg-gray-900 transition ${P.includes(ge.id)?"bg-pink-100 dark:bg-pink-900/40 border-pink-300 dark:border-pink-800":"hover:bg-pink-50 dark:hover:bg-pink-900/20"}`,children:[s.jsxs("div",{className:"flex items-center justify-between mb-2",children:[s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx("input",{type:"checkbox",checked:P.includes(ge.id),onChange:()=>Dt(ge.id),className:"accent-pink-500 w-5 h-5 rounded focus:ring-pink-400"}),s.jsx("span",{className:"font-bold text-lg text-gray-900 dark:text-white",children:ge.name})]}),s.jsxs("div",{className:"flex gap-2",children:[s.jsx("button",{className:"p-2 rounded-full hover:bg-blue-100 dark:hover:bg-blue-900 transition",title:"View",onClick:()=>y(ge),children:s.jsx(gn,{className:"w-5 h-5 text-blue-500"})}),ge.status!=="converted"&&s.jsx("button",{className:"p-2 rounded-full hover:bg-green-100 dark:hover:bg-green-900 transition",title:"Convert to Deal",onClick:()=>qt(ge.id),disabled:W,children:s.jsx(Ao,{className:"w-5 h-5 text-green-500"})}),s.jsx("button",{className:"p-2 rounded-full hover:bg-red-100 dark:hover:bg-red-900 transition",title:"Delete",children:s.jsx(Mi,{className:"w-5 h-5 text-red-500"})})]})]}),s.jsxs("div",{className:"text-gray-700 dark:text-gray-200 text-sm mb-1",children:[s.jsx("span",{className:"font-semibold",children:"Company:"})," ",ge.company]}),s.jsxs("div",{className:"flex items-center justify-between mb-1",children:[s.jsx("div",{className:"text-sm",children:s.jsx("span",{className:`px-3 py-1 rounded-full text-xs font-bold ${ZNe[ge.status]}`,children:ge.status?ge.status.charAt(0).toUpperCase()+ge.status.slice(1):"Unknown"})}),s.jsx(b2,{score:ge.score,size:"sm"})]}),s.jsxs("div",{className:"text-gray-700 dark:text-gray-200 text-sm mb-1",children:[s.jsx("span",{className:"font-semibold",children:"Owner:"})," ",ge.owner_name]}),s.jsxs("div",{className:"text-gray-500 dark:text-gray-400 text-xs",children:[s.jsx("span",{className:"font-semibold",children:"Created:"})," ",ge.created_at?.slice(0,10)]})]},ge.id)),Xe.length===0&&s.jsx("div",{className:"text-center py-8 text-gray-400 dark:text-gray-600",children:"No leads found."})]}),s.jsxs("div",{className:"flex justify-end items-center gap-2 mt-4",children:[s.jsx("button",{className:"px-3 py-1 rounded-full bg-gray-100 dark:bg-gray-800 text-gray-500 dark:text-gray-300 font-semibold disabled:opacity-50",onClick:()=>O(ge=>Math.max(1,ge-1)),disabled:C===1,children:"Prev"}),s.jsxs("span",{className:"text-gray-700 dark:text-gray-200 text-sm",children:["Page ",C," of ",me]}),s.jsx("button",{className:"px-3 py-1 rounded-full bg-gray-100 dark:bg-gray-800 text-gray-500 dark:text-gray-300 font-semibold disabled:opacity-50",onClick:()=>O(ge=>Math.min(me,ge+1)),disabled:C===me,children:"Next"})]}),g&&s.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center bg-black/40",children:s.jsxs("div",{className:"bg-white dark:bg-gray-900 rounded-2xl shadow-2xl p-8 w-full max-w-md relative",children:[s.jsx("button",{className:"absolute top-4 right-4 p-2 rounded-full hover:bg-gray-100 dark:hover:bg-gray-800",onClick:()=>y(null),title:"Close",children:s.jsx(Tr,{className:"w-5 h-5 text-gray-500"})}),s.jsx("h2",{className:"text-2xl font-bold mb-4 text-gray-900 dark:text-white",children:"Lead Details"}),s.jsxs("div",{className:"space-y-2",children:[s.jsxs("div",{children:[s.jsx("span",{className:"font-semibold",children:"Name:"})," ",g.name]}),s.jsxs("div",{children:[s.jsx("span",{className:"font-semibold",children:"Company:"})," ",g.company]}),s.jsxs("div",{children:[s.jsx("span",{className:"font-semibold",children:"Status:"})," ",g.status]}),s.jsxs("div",{children:[s.jsx("span",{className:"font-semibold",children:"Owner:"})," ",g.owner]}),s.jsxs("div",{children:[s.jsx("span",{className:"font-semibold",children:"Created:"})," ",g.created]})]})]})}),s.jsx(Mx,{open:!!g,onClose:()=>y(null),title:"Lead Details",children:g&&s.jsxs(s.Fragment,{children:[s.jsxs("div",{children:[s.jsx("b",{children:"Name:"})," ",g.title||g.contact_name]}),s.jsxs("div",{children:[s.jsx("b",{children:"Company:"})," ",g.company]}),s.jsxs("div",{children:[s.jsx("b",{children:"Status:"})," ",g.status]}),s.jsxs("div",{children:[s.jsx("b",{children:"Owner:"})," ",g.owner_name]}),s.jsxs("div",{children:[s.jsx("b",{children:"Created:"})," ",g.created_at?.slice(0,10)]})]})}),s.jsxs(Mx,{open:Q!==null,onClose:pt,title:"Delete Lead?",children:[s.jsx("div",{children:"Are you sure you want to delete this lead?"}),s.jsxs("div",{className:"flex gap-4 mt-6 justify-end",children:[s.jsx("button",{className:"px-4 py-2 rounded-full bg-gray-200 dark:bg-gray-800 text-gray-700 dark:text-gray-200 font-semibold hover:bg-gray-300 dark:hover:bg-gray-700 transition",onClick:pt,disabled:W,children:"Cancel"}),s.jsx("button",{className:"px-4 py-2 rounded-full bg-red-500 text-white font-semibold hover:bg-red-600 transition",onClick:ur,disabled:W,children:"Delete"})]})]}),s.jsx(Ft,{open:J,onClose:()=>{se(!1),at()},title:"Create Lead",children:s.jsxs("div",{className:"p-8 w-full max-w-md relative",children:[s.jsx("button",{className:"absolute top-4 right-4 p-2 rounded-full hover:bg-gray-100 dark:hover:bg-gray-800",onClick:()=>{se(!1),at()},title:"Close",children:s.jsx(Tr,{className:"w-5 h-5 text-gray-500"})}),s.jsx("h2",{className:"text-2xl font-bold mb-6 text-gray-900 dark:text-white",children:"Create New Lead"}),s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Lead Title *"}),s.jsx("input",{type:"text",value:xe.title,onChange:ge=>U({...xe,title:ge.target.value}),className:"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-lg focus:outline-none focus:ring-2 focus:ring-pink-400 bg-white dark:bg-gray-800 text-gray-900 dark:text-white",placeholder:"Enter lead title"})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Status"}),s.jsxs("select",{value:xe.status,onChange:ge=>U({...xe,status:ge.target.value}),className:"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-lg focus:outline-none focus:ring-2 focus:ring-pink-400 bg-white dark:bg-gray-800 text-gray-900 dark:text-white",children:[s.jsx("option",{value:"new",children:"New"}),s.jsx("option",{value:"contacted",children:"Contacted"}),s.jsx("option",{value:"qualified",children:"Qualified"}),s.jsx("option",{value:"proposal",children:"Proposal"}),s.jsx("option",{value:"negotiation",children:"Negotiation"}),s.jsx("option",{value:"won",children:"Won"}),s.jsx("option",{value:"lost",children:"Lost"})]})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Source"}),s.jsxs("select",{value:xe.source,onChange:ge=>U({...xe,source:ge.target.value}),className:"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-lg focus:outline-none focus:ring-2 focus:ring-pink-400 bg-white dark:bg-gray-800 text-gray-900 dark:text-white",children:[s.jsx("option",{value:"manual",children:"Manual"}),s.jsx("option",{value:"website",children:"Website"}),s.jsx("option",{value:"referral",children:"Referral"}),s.jsx("option",{value:"social",children:"Social Media"}),s.jsx("option",{value:"email",children:"Email Campaign"})]})]}),s.jsxs("div",{className:"rounded-lg border border-dashed border-gray-300 dark:border-gray-700 p-3 mt-2",children:[s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsx("span",{className:"text-sm font-semibold text-gray-800 dark:text-gray-200",children:"Attribution (UTM)"}),!ae&&s.jsx("span",{className:"text-xs text-gray-500",children:"No UTM detected"})]}),ae&&s.jsxs("div",{className:"mt-2 grid grid-cols-1 gap-2 text-sm text-gray-700 dark:text-gray-300",children:[ae.utm_source&&s.jsxs("div",{children:[s.jsx("b",{children:"utm_source:"})," ",ae.utm_source]}),ae.utm_medium&&s.jsxs("div",{children:[s.jsx("b",{children:"utm_medium:"})," ",ae.utm_medium]}),ae.utm_campaign&&s.jsxs("div",{children:[s.jsx("b",{children:"utm_campaign:"})," ",ae.utm_campaign]}),ae.utm_term&&s.jsxs("div",{children:[s.jsx("b",{children:"utm_term:"})," ",ae.utm_term]}),ae.utm_content&&s.jsxs("div",{children:[s.jsx("b",{children:"utm_content:"})," ",ae.utm_content]}),ae.gclid&&s.jsxs("div",{children:[s.jsx("b",{children:"gclid:"})," ",ae.gclid]}),ae.fbclid&&s.jsxs("div",{children:[s.jsx("b",{children:"fbclid:"})," ",ae.fbclid]}),ae.referrer_url&&s.jsxs("div",{className:"truncate",children:[s.jsx("b",{children:"referrer:"})," ",ae.referrer_url]}),ae.landing_page_url&&s.jsxs("div",{className:"truncate",children:[s.jsx("b",{children:"landing:"})," ",ae.landing_page_url]})]}),s.jsx("div",{className:"mt-2 text-xs text-gray-500",children:"These values are captured from the URL and will be saved with the lead."})]}),s.jsxs("div",{className:"flex gap-4 pt-4",children:[s.jsx("button",{className:"flex-1 px-4 py-2 rounded-lg bg-gray-200 dark:bg-gray-800 text-gray-700 dark:text-gray-200 font-semibold hover:bg-gray-300 dark:hover:bg-gray-700 transition",onClick:()=>{se(!1),at()},disabled:W,children:"Cancel"}),s.jsx(Ur,{variant:"pink",size:"md",className:"flex-1",onClick:dn,disabled:W,loading:W,children:"Create Lead"})]})]})]})}),V&&H&&s.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center bg-black/40",children:s.jsxs("div",{className:"bg-white dark:bg-gray-900 rounded-2xl shadow-2xl p-8 w-full max-w-2xl relative max-h-[80vh] overflow-y-auto",children:[s.jsx("button",{className:"absolute top-4 right-4 p-2 rounded-full hover:bg-gray-100 dark:hover:bg-gray-800",onClick:()=>le(!1),title:"Close",children:s.jsx(Tr,{className:"w-5 h-5 text-gray-500"})}),s.jsx("h2",{className:"text-2xl font-bold mb-6 text-gray-900 dark:text-white",children:"Lead Scoring Analytics"}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{className:"bg-gradient-to-r from-blue-50 to-cyan-50 dark:from-blue-900/30 dark:to-cyan-900/30 rounded-xl p-4",children:[s.jsx("h3",{className:"font-semibold text-gray-900 dark:text-white mb-2",children:"Summary"}),s.jsxs("div",{className:"space-y-2",children:[s.jsxs("div",{className:"flex justify-between",children:[s.jsx("span",{className:"text-gray-600 dark:text-gray-300",children:"Total Leads:"}),s.jsx("span",{className:"font-semibold",children:H.total_leads})]}),s.jsxs("div",{className:"flex justify-between",children:[s.jsx("span",{className:"text-gray-600 dark:text-gray-300",children:"Average Score:"}),s.jsx("span",{className:"font-semibold",children:H.average_score})]})]})]}),s.jsxs("div",{className:"bg-gradient-to-r from-green-50 to-emerald-50 dark:from-green-900/30 dark:to-emerald-900/30 rounded-xl p-4",children:[s.jsx("h3",{className:"font-semibold text-gray-900 dark:text-white mb-2",children:"Score Distribution"}),s.jsx("div",{className:"space-y-2",children:Object.entries(H.score_distribution).map(([ge,ct])=>s.jsxs("div",{className:"flex justify-between items-center",children:[s.jsxs("span",{className:"text-gray-600 dark:text-gray-300",children:[ge,":"]}),s.jsx("span",{className:"font-semibold",children:ct})]},ge))})]})]}),s.jsxs("div",{className:"bg-gradient-to-r from-purple-50 to-pink-50 dark:from-purple-900/30 dark:to-pink-900/30 rounded-xl p-4",children:[s.jsx("h3",{className:"font-semibold text-gray-900 dark:text-white mb-4",children:"Top Scoring Leads"}),s.jsx("div",{className:"space-y-3",children:H.top_scoring_leads.map(ge=>s.jsxs("div",{className:"flex items-center justify-between p-3 bg-white dark:bg-gray-800 rounded-lg",children:[s.jsxs("div",{children:[s.jsx("div",{className:"font-medium text-gray-900 dark:text-white",children:ge.title}),s.jsx("div",{className:"text-sm text-gray-500 dark:text-gray-400",children:ge.status})]}),s.jsx(b2,{score:ge.score,size:"sm"})]},ge.id))})]})]})]})}),ue&&s.jsx("div",{className:"fixed bottom-6 right-6 bg-green-600 text-white px-6 py-3 rounded-xl shadow-lg z-50 animate-fade-in",children:ue})]})}async function B$(){return Ee("/api/contacts")}async function eSe(e){return Ee(`/api/contacts/${e}`)}async function tSe(e){return Ee("/api/contacts",{method:"POST",body:JSON.stringify(e)})}async function rSe(e,t){return Ee(`/api/contacts/${e}`,{method:"PUT",body:JSON.stringify(t)})}async function nSe(e){return Ee(`/api/contacts/${e}`,{method:"DELETE"})}function aSe(){const[e,t]=v.useState([]),[r,n]=v.useState(!0),[a,i]=v.useState(null),[l,c]=v.useState(""),[d,f]=v.useState(null),[h,p]=v.useState(!1),[g,y]=v.useState(!1),[b,w]=v.useState(null),[j,S]=v.useState(""),[_,E]=v.useState(!1),[T,A]=v.useState(null),[C,O]=v.useState(null),[P,F]=v.useState({name:"",email:"",phone:"",company:"",owner_id:1}),[G,W]=v.useState(null);v.useEffect(()=>{B$().then(B=>{t(B),n(!1)}).catch(()=>{i("Failed to load contacts"),n(!1)})},[]);const ee=v.useMemo(()=>{if(!l)return e;const B=l.toLowerCase();return e.filter(V=>(V.name||"").toLowerCase().includes(B)||(V.email||"").toLowerCase().includes(B)||(V.phone||"").toLowerCase().includes(B)||(V.company||"").toLowerCase().includes(B))},[e,l]),ue=async()=>{if(!P.name.trim()){O("Name is required"),setTimeout(()=>O(null),3e3);return}y(!0);try{const B=await tSe(P);t(V=>[B,...V]),p(!1),F({name:"",email:"",phone:"",company:"",owner_id:1}),O("Contact created successfully!"),setTimeout(()=>O(null),3e3)}catch{O("Failed to create contact"),setTimeout(()=>O(null),3e3)}finally{y(!1)}},fe=async B=>{try{const V=await eSe(B);f(V)}catch{O("Failed to fetch contact details"),setTimeout(()=>O(null),3e3)}},Q=async B=>{A(B)},K=async()=>{if(T!==null){E(!0);try{await nSe(T),t(B=>B.filter(V=>V.id!==T)),O("Contact deleted successfully!"),setTimeout(()=>O(null),3e3)}catch(B){console.error("Delete error:",B),B?.response?.data?.type==="foreign_key_violation"?O("Cannot delete contact: Contact is referenced by deals or other records. Please remove associated records first."):O("Failed to delete contact"),setTimeout(()=>O(null),5e3)}E(!1),A(null)}},J=()=>{A(null)},se=async B=>{E(!0);try{const V={title:`${B.name} - ${B.company}`,status:"new",source:"contact_conversion",score:75},le=await q2e(B.id,V);O(`Contact converted to lead: ${le.message}`),setTimeout(()=>O(null),3e3)}catch{alert("Failed to create lead from contact")}E(!1)},xe=(B,V,le)=>{w({id:B,field:V}),S(le||"")},U=async(B,V)=>{E(!0);try{await rSe(B,{[V]:j}),t(le=>le.map(De=>De.id===B?{...De,[V]:j}:De)),O("Contact updated successfully!"),setTimeout(()=>O(null),3e3)}catch{O("Failed to update contact"),setTimeout(()=>O(null),3e3)}w(null),S(""),E(!1)},ae=(B,V,le)=>{B.key==="Enter"&&U(V,le),B.key==="Escape"&&w(null)};function D(){const B=["Name","Email","Phone","Company","Owner","Created"],V=ee.map(de=>[de.name,de.email,de.phone,de.company,de.owner_name,de.created_at?.slice(0,10)]),le=[B,...V].map(de=>de.map(oe=>`"${String(oe).replace(/"/g,'""')}"`).join(",")).join(`
`),De=new Blob([le],{type:"text/csv"}),re=URL.createObjectURL(De),ie=document.createElement("a");ie.href=re,ie.download="contacts.csv",ie.click(),URL.revokeObjectURL(re)}function H(){const B=["Name","Email","Phone","Company","Owner","Created"],V=ee.map(re=>[re.name,re.email,re.phone,re.company,re.owner_name,re.created_at?.slice(0,10)]),le=jd.aoa_to_sheet([B,...V]),De=jd.book_new();jd.book_append_sheet(De,le,"Contacts"),s$(De,"contacts.xlsx")}return r?s.jsx("div",{className:"p-8 text-lg",children:"Loading..."}):s.jsxs("div",{className:"p-6",children:[C&&s.jsx("div",{className:"fixed top-4 right-4 bg-green-500 text-white px-6 py-3 rounded-lg shadow-lg z-50",children:C}),a&&s.jsxs("div",{className:"mb-4 p-4 bg-red-100 border border-red-400 text-red-700 rounded-lg",children:[a,s.jsx("button",{onClick:()=>i(null),className:"ml-2 text-red-500 hover:text-red-700",children:""})]}),s.jsxs("div",{className:"flex flex-col md:flex-row md:items-center md:justify-between gap-4 mb-6",children:[s.jsx("h1",{className:"text-3xl font-extrabold text-gray-900 dark:text-white",children:"Contacts"}),s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsxs("div",{className:"relative",children:[s.jsx("input",{value:l,onChange:B=>c(B.target.value),placeholder:"Search name, email, phone, company...",className:"rounded-full pl-10 pr-4 py-2 bg-white/80 dark:bg-gray-800/80 text-gray-900 dark:text-white placeholder:text-gray-400 focus:outline-none focus:ring-2 focus:ring-pink-400 w-72 shadow"}),s.jsx(fi,{className:"absolute left-3 top-2.5 w-5 h-5 text-gray-400"})]}),s.jsx(Ur,{variant:"success",size:"md",icon:uh,onClick:D,children:"Export CSV"}),s.jsx(Ur,{variant:"purple",size:"md",icon:uh,onClick:H,children:"Export XLS"}),s.jsx(Ur,{variant:"blue",size:"md",icon:Cr,onClick:B=>{B&&W(B.currentTarget.getBoundingClientRect()),p(!0)},children:"Add Contact"})]})]}),s.jsx("div",{className:"overflow-x-auto rounded-2xl shadow border bg-white dark:bg-gray-900",children:s.jsxs("table",{className:"min-w-full",children:[s.jsx("thead",{children:s.jsxs("tr",{className:"bg-gray-50 dark:bg-gray-800",children:[s.jsx("th",{className:"px-6 py-3 text-left text-sm font-semibold",children:"Name"}),s.jsx("th",{className:"px-6 py-3 text-left text-sm font-semibold",children:"Email"}),s.jsx("th",{className:"px-6 py-3 text-left text-sm font-semibold",children:"Phone"}),s.jsx("th",{className:"px-6 py-3 text-left text-sm font-semibold",children:"Company"}),s.jsx("th",{className:"px-6 py-3 text-left text-sm font-semibold",children:"Actions"})]})}),s.jsx("tbody",{className:"divide-y divide-gray-200 dark:divide-gray-800",children:ee.map(B=>s.jsxs("tr",{className:"hover:bg-gray-50 dark:hover:bg-gray-800",children:[s.jsx("td",{className:"px-6 py-3",children:b&&b.id===B.id&&b.field==="name"?s.jsx("input",{autoFocus:!0,value:j,onChange:V=>S(V.target.value),onBlur:()=>U(B.id,"name"),onKeyDown:V=>ae(V,B.id,"name"),className:"rounded px-2 py-1 border-2 border-blue-400 focus:outline-none focus:ring-2 focus:ring-blue-400 bg-white dark:bg-gray-800 text-gray-900 dark:text-white"}):s.jsx("span",{className:"cursor-pointer hover:underline",onClick:()=>xe(B.id,"name",B.name),children:B.name})}),s.jsx("td",{className:"px-6 py-3",children:b&&b.id===B.id&&b.field==="email"?s.jsx("input",{autoFocus:!0,type:"email",value:j,onChange:V=>S(V.target.value),onBlur:()=>U(B.id,"email"),onKeyDown:V=>ae(V,B.id,"email"),className:"rounded px-2 py-1 border-2 border-blue-400 focus:outline-none focus:ring-2 focus:ring-blue-400 bg-white dark:bg-gray-800 text-gray-900 dark:text-white"}):s.jsx("span",{className:"cursor-pointer hover:underline",onClick:()=>xe(B.id,"email",B.email),children:B.email})}),s.jsx("td",{className:"px-6 py-3",children:b&&b.id===B.id&&b.field==="phone"?s.jsx("input",{autoFocus:!0,value:j,onChange:V=>S(V.target.value),onBlur:()=>U(B.id,"phone"),onKeyDown:V=>ae(V,B.id,"phone"),className:"rounded px-2 py-1 border-2 border-blue-400 focus:outline-none focus:ring-2 focus:ring-blue-400 bg-white dark:bg-gray-800 text-gray-900 dark:text-white"}):s.jsx("span",{className:"cursor-pointer hover:underline",onClick:()=>xe(B.id,"phone",B.phone),children:B.phone})}),s.jsx("td",{className:"px-6 py-3",children:b&&b.id===B.id&&b.field==="company"?s.jsx("input",{autoFocus:!0,value:j,onChange:V=>S(V.target.value),onBlur:()=>U(B.id,"company"),onKeyDown:V=>ae(V,B.id,"company"),className:"rounded px-2 py-1 border-2 border-blue-400 focus:outline-none focus:ring-2 focus:ring-blue-400 bg-white dark:bg-gray-800 text-gray-900 dark:text-white"}):s.jsx("span",{className:"cursor-pointer hover:underline",onClick:()=>xe(B.id,"company",B.company),children:B.company})}),s.jsx("td",{className:"px-6 py-3",children:s.jsxs("div",{className:"flex gap-2",children:[s.jsx("button",{className:"text-blue-600 hover:text-blue-800",onClick:()=>fe(B.id),disabled:_,title:"View Contact",children:s.jsx(gn,{className:"w-4 h-4"})}),s.jsx("button",{className:"text-green-600 hover:text-green-800",onClick:()=>se(B),disabled:_,title:"Create Lead",children:s.jsx(Ao,{className:"w-4 h-4"})}),s.jsx("button",{className:"text-red-600 hover:text-red-800",onClick:()=>Q(B.id),disabled:_,title:"Delete Contact",children:s.jsx(Mi,{className:"w-4 h-4"})})]})})]},B.id))})]})}),s.jsx(Ft,{open:h,onClose:()=>p(!1),title:"Create Contact",children:s.jsxs("div",{className:"p-6 w-full max-w-md",children:[s.jsxs("div",{className:"flex items-center justify-between mb-4",children:[s.jsx("h2",{className:"text-xl font-bold",children:"Create Contact"}),s.jsx("button",{className:"p-2 hover:bg-gray-100 dark:hover:bg-gray-800 rounded-lg",onClick:()=>p(!1),children:s.jsx(Tr,{className:"w-5 h-5 text-gray-500"})})]}),s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium mb-1",children:"Name *"}),s.jsx("input",{value:P.name,onChange:B=>F({...P,name:B.target.value}),className:"w-full px-3 py-2 border rounded-lg bg-white dark:bg-gray-800",placeholder:"Full name"})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium mb-1",children:"Email"}),s.jsx("input",{type:"email",value:P.email,onChange:B=>F({...P,email:B.target.value}),className:"w-full px-3 py-2 border rounded-lg bg-white dark:bg-gray-800",placeholder:"name@company.com"})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium mb-1",children:"Phone"}),s.jsx("input",{value:P.phone,onChange:B=>F({...P,phone:B.target.value}),className:"w-full px-3 py-2 border rounded-lg bg-white dark:bg-gray-800",placeholder:"+1 555 123 4567"})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium mb-1",children:"Company"}),s.jsx("input",{value:P.company,onChange:B=>F({...P,company:B.target.value}),className:"w-full px-3 py-2 border rounded-lg bg-white dark:bg-gray-800",placeholder:"Company name"})]})]}),s.jsxs("div",{className:"flex gap-3 mt-6",children:[s.jsx("button",{className:"flex-1 px-4 py-2 border rounded-lg",onClick:()=>p(!1),children:"Cancel"}),s.jsx(Ur,{variant:"blue",size:"md",className:"flex-1",onClick:ue,disabled:g||!P.name.trim(),loading:g,children:"Create Contact"})]})]})}),s.jsx(Mx,{open:!!d,onClose:()=>f(null),title:"Contact Details",children:d&&s.jsxs(s.Fragment,{children:[s.jsxs("div",{children:[s.jsx("b",{children:"Name:"})," ",d.name]}),s.jsxs("div",{children:[s.jsx("b",{children:"Email:"})," ",d.email]}),s.jsxs("div",{children:[s.jsx("b",{children:"Phone:"})," ",d.phone]}),s.jsxs("div",{children:[s.jsx("b",{children:"Company:"})," ",d.company]}),s.jsxs("div",{children:[s.jsx("b",{children:"Owner:"})," ",d.owner_name]}),s.jsxs("div",{children:[s.jsx("b",{children:"Created:"})," ",d.created_at?.slice(0,10)]})]})}),s.jsxs(Mx,{open:T!==null,onClose:J,title:"Delete Contact?",children:[s.jsx("div",{children:"Are you sure you want to delete this contact? This action cannot be undone."}),s.jsxs("div",{className:"flex gap-4 mt-6 justify-end",children:[s.jsx("button",{className:"px-4 py-2 rounded-full bg-gray-200 dark:bg-gray-800 text-gray-700 dark:text-gray-200 font-semibold hover:bg-gray-300 dark:hover:bg-gray-700 transition",onClick:J,disabled:_,children:"Cancel"}),s.jsx("button",{className:"px-4 py-2 rounded-full bg-red-600 text-white font-semibold hover:bg-red-700 transition disabled:opacity-50",onClick:K,disabled:_,children:_?"Deleting...":"Delete Contact"})]})]})]})}var ci=function(t){var r=t.top,n=t.right,a=t.bottom,i=t.left,l=n-i,c=a-r,d={top:r,right:n,bottom:a,left:i,width:l,height:c,x:i,y:r,center:{x:(n+i)/2,y:(a+r)/2}};return d},Q_=function(t,r){return{top:t.top-r.top,left:t.left-r.left,bottom:t.bottom+r.bottom,right:t.right+r.right}},DP=function(t,r){return{top:t.top+r.top,left:t.left+r.left,bottom:t.bottom-r.bottom,right:t.right-r.right}},sSe=function(t,r){return{top:t.top+r.y,left:t.left+r.x,bottom:t.bottom+r.y,right:t.right+r.x}},w2={top:0,right:0,bottom:0,left:0},Z_=function(t){var r=t.borderBox,n=t.margin,a=n===void 0?w2:n,i=t.border,l=i===void 0?w2:i,c=t.padding,d=c===void 0?w2:c,f=ci(Q_(r,a)),h=ci(DP(r,l)),p=ci(DP(h,d));return{marginBox:f,borderBox:ci(r),paddingBox:h,contentBox:p,margin:a,border:l,padding:d}},Es=function(t){var r=t.slice(0,-2),n=t.slice(-2);if(n!=="px")return 0;var a=Number(r);return isNaN(a)&&F7(),a},iSe=function(){return{x:window.pageXOffset,y:window.pageYOffset}},Rx=function(t,r){var n=t.borderBox,a=t.border,i=t.margin,l=t.padding,c=sSe(n,r);return Z_({borderBox:c,border:a,margin:i,padding:l})},Ix=function(t,r){return r===void 0&&(r=iSe()),Rx(t,r)},$$=function(t,r){var n={top:Es(r.marginTop),right:Es(r.marginRight),bottom:Es(r.marginBottom),left:Es(r.marginLeft)},a={top:Es(r.paddingTop),right:Es(r.paddingRight),bottom:Es(r.paddingBottom),left:Es(r.paddingLeft)},i={top:Es(r.borderTopWidth),right:Es(r.borderRightWidth),bottom:Es(r.borderBottomWidth),left:Es(r.borderLeftWidth)};return Z_({borderBox:t,margin:n,padding:a,border:i})},U$=function(t){var r=t.getBoundingClientRect(),n=window.getComputedStyle(t);return $$(r,n)},Bh=function(t){var r=[],n=null,a=function(){for(var l=arguments.length,c=new Array(l),d=0;d<l;d++)c[d]=arguments[d];r=c,!n&&(n=requestAnimationFrame(function(){n=null,t.apply(void 0,r)}))};return a.cancel=function(){n&&(cancelAnimationFrame(n),n=null)},a};function Fx(){return Fx=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Fx.apply(null,arguments)}function z$(e,t){}z$.bind(null,"warn");z$.bind(null,"error");function _o(){}function lSe(e,t){return{...e,...t}}function Bs(e,t,r){const n=t.map(a=>{const i=lSe(r,a.options);return e.addEventListener(a.eventName,a.fn,i),function(){e.removeEventListener(a.eventName,a.fn,i)}});return function(){n.forEach(i=>{i()})}}const oSe="Invariant failed";class Lx extends Error{}Lx.prototype.toString=function(){return this.message};function We(e,t){throw new Lx(oSe)}class cSe extends Qe.Component{constructor(...t){super(...t),this.callbacks=null,this.unbind=_o,this.onWindowError=r=>{const n=this.getCallbacks();n.isDragging()&&n.tryAbort(),r.error instanceof Lx&&r.preventDefault()},this.getCallbacks=()=>{if(!this.callbacks)throw new Error("Unable to find AppCallbacks in <ErrorBoundary/>");return this.callbacks},this.setCallbacks=r=>{this.callbacks=r}}componentDidMount(){this.unbind=Bs(window,[{eventName:"error",fn:this.onWindowError}])}componentDidCatch(t){if(t instanceof Lx){this.setState({});return}throw t}componentWillUnmount(){this.unbind()}render(){return this.props.children(this.setCallbacks)}}const uSe=`
  Press space bar to start a drag.
  When dragging you can use the arrow keys to move the item around and escape to cancel.
  Some screen readers may require you to be in focus mode or to use your pass through key
`,Bx=e=>e+1,dSe=e=>`
  You have lifted an item in position ${Bx(e.source.index)}
`,H$=(e,t)=>{const r=e.droppableId===t.droppableId,n=Bx(e.index),a=Bx(t.index);return r?`
      You have moved the item from position ${n}
      to position ${a}
    `:`
    You have moved the item from position ${n}
    in list ${e.droppableId}
    to list ${t.droppableId}
    in position ${a}
  `},V$=(e,t,r)=>t.droppableId===r.droppableId?`
      The item ${e}
      has been combined with ${r.draggableId}`:`
      The item ${e}
      in list ${t.droppableId}
      has been combined with ${r.draggableId}
      in list ${r.droppableId}
    `,fSe=e=>{const t=e.destination;if(t)return H$(e.source,t);const r=e.combine;return r?V$(e.draggableId,e.source,r):"You are over an area that cannot be dropped on"},PP=e=>`
  The item has returned to its starting position
  of ${Bx(e.index)}
`,hSe=e=>{if(e.reason==="CANCEL")return`
      Movement cancelled.
      ${PP(e.source)}
    `;const t=e.destination,r=e.combine;return t?`
      You have dropped the item.
      ${H$(e.source,t)}
    `:r?`
      You have dropped the item.
      ${V$(e.draggableId,e.source,r)}
    `:`
    The item has been dropped while not over a drop area.
    ${PP(e.source)}
  `},jg={dragHandleUsageInstructions:uSe,onDragStart:dSe,onDragUpdate:fSe,onDragEnd:hSe};function mSe(e,t){return!!(e===t||Number.isNaN(e)&&Number.isNaN(t))}function q$(e,t){if(e.length!==t.length)return!1;for(let r=0;r<e.length;r++)if(!mSe(e[r],t[r]))return!1;return!0}function Ot(e,t){const r=v.useState(()=>({inputs:t,result:e()}))[0],n=v.useRef(!0),a=v.useRef(r),l=n.current||!!(t&&a.current.inputs&&q$(t,a.current.inputs))?a.current:{inputs:t,result:e()};return v.useEffect(()=>{n.current=!1,a.current=l},[l]),l.result}function lt(e,t){return Ot(()=>e,t)}const Cn={x:0,y:0},Wn=(e,t)=>({x:e.x+t.x,y:e.y+t.y}),rs=(e,t)=>({x:e.x-t.x,y:e.y-t.y}),Eo=(e,t)=>e.x===t.x&&e.y===t.y,df=e=>({x:e.x!==0?-e.x:0,y:e.y!==0?-e.y:0}),lu=(e,t,r=0)=>e==="x"?{x:t,y:r}:{x:r,y:t},$h=(e,t)=>Math.sqrt((t.x-e.x)**2+(t.y-e.y)**2),MP=(e,t)=>Math.min(...t.map(r=>$h(e,r))),W$=e=>t=>({x:e(t.x),y:e(t.y)});var pSe=(e,t)=>{const r=ci({top:Math.max(t.top,e.top),right:Math.min(t.right,e.right),bottom:Math.min(t.bottom,e.bottom),left:Math.max(t.left,e.left)});return r.width<=0||r.height<=0?null:r};const jm=(e,t)=>({top:e.top+t.y,left:e.left+t.x,bottom:e.bottom+t.y,right:e.right+t.x}),RP=e=>[{x:e.left,y:e.top},{x:e.right,y:e.top},{x:e.left,y:e.bottom},{x:e.right,y:e.bottom}],gSe={top:0,right:0,bottom:0,left:0},xSe=(e,t)=>t?jm(e,t.scroll.diff.displacement):e,ySe=(e,t,r)=>r&&r.increasedBy?{...e,[t.end]:e[t.end]+r.increasedBy[t.line]}:e,vSe=(e,t)=>t&&t.shouldClipSubject?pSe(t.pageMarginBox,e):ci(e);var Ld=({page:e,withPlaceholder:t,axis:r,frame:n})=>{const a=xSe(e.marginBox,n),i=ySe(a,r,t),l=vSe(i,n);return{page:e,withPlaceholder:t,active:l}},J_=(e,t)=>{e.frame||We();const r=e.frame,n=rs(t,r.scroll.initial),a=df(n),i={...r,scroll:{initial:r.scroll.initial,current:t,diff:{value:n,displacement:a},max:r.scroll.max}},l=Ld({page:e.subject.page,withPlaceholder:e.subject.withPlaceholder,axis:e.axis,frame:i});return{...e,frame:i,subject:l}};function An(e,t=q$){let r=null;function n(...a){if(r&&r.lastThis===this&&t(a,r.lastArgs))return r.lastResult;const i=e.apply(this,a);return r={lastResult:i,lastArgs:a,lastThis:this},i}return n.clear=function(){r=null},n}const G$=An(e=>e.reduce((t,r)=>(t[r.descriptor.id]=r,t),{})),K$=An(e=>e.reduce((t,r)=>(t[r.descriptor.id]=r,t),{})),Xy=An(e=>Object.values(e)),bSe=An(e=>Object.values(e));var ff=An((e,t)=>bSe(t).filter(n=>e===n.descriptor.droppableId).sort((n,a)=>n.descriptor.index-a.descriptor.index));function e4(e){return e.at&&e.at.type==="REORDER"?e.at.destination:null}function Qy(e){return e.at&&e.at.type==="COMBINE"?e.at.combine:null}var Zy=An((e,t)=>t.filter(r=>r.descriptor.id!==e.descriptor.id)),wSe=({isMovingForward:e,draggable:t,destination:r,insideDestination:n,previousImpact:a})=>{if(!r.isCombineEnabled||!e4(a))return null;function l(y){const b={type:"COMBINE",combine:{draggableId:y,droppableId:r.descriptor.id}};return{...a,at:b}}const c=a.displaced.all,d=c.length?c[0]:null;if(e)return d?l(d):null;const f=Zy(t,n);if(!d){if(!f.length)return null;const y=f[f.length-1];return l(y.descriptor.id)}const h=f.findIndex(y=>y.descriptor.id===d);h===-1&&We();const p=h-1;if(p<0)return null;const g=f[p];return l(g.descriptor.id)},hf=(e,t)=>e.descriptor.droppableId===t.descriptor.id;const Y$={point:Cn,value:0},Uh={invisible:{},visible:{},all:[]},jSe={displaced:Uh,displacedBy:Y$,at:null};var Us=(e,t)=>r=>e<=r&&r<=t,X$=e=>{const t=Us(e.top,e.bottom),r=Us(e.left,e.right);return n=>{if(t(n.top)&&t(n.bottom)&&r(n.left)&&r(n.right))return!0;const i=t(n.top)||t(n.bottom),l=r(n.left)||r(n.right);if(i&&l)return!0;const d=n.top<e.top&&n.bottom>e.bottom,f=n.left<e.left&&n.right>e.right;return d&&f?!0:d&&l||f&&i}},NSe=e=>{const t=Us(e.top,e.bottom),r=Us(e.left,e.right);return n=>t(n.top)&&t(n.bottom)&&r(n.left)&&r(n.right)};const t4={direction:"vertical",line:"y",crossAxisLine:"x",start:"top",end:"bottom",size:"height",crossAxisStart:"left",crossAxisEnd:"right",crossAxisSize:"width"},Q$={direction:"horizontal",line:"x",crossAxisLine:"y",start:"left",end:"right",size:"width",crossAxisStart:"top",crossAxisEnd:"bottom",crossAxisSize:"height"};var SSe=e=>t=>{const r=Us(t.top,t.bottom),n=Us(t.left,t.right);return a=>e===t4?r(a.top)&&r(a.bottom):n(a.left)&&n(a.right)};const kSe=(e,t)=>{const r=t.frame?t.frame.scroll.diff.displacement:Cn;return jm(e,r)},_Se=(e,t,r)=>t.subject.active?r(t.subject.active)(e):!1,ESe=(e,t,r)=>r(t)(e),r4=({target:e,destination:t,viewport:r,withDroppableDisplacement:n,isVisibleThroughFrameFn:a})=>{const i=n?kSe(e,t):e;return _Se(i,t,a)&&ESe(i,r,a)},ASe=e=>r4({...e,isVisibleThroughFrameFn:X$}),Z$=e=>r4({...e,isVisibleThroughFrameFn:NSe}),TSe=e=>r4({...e,isVisibleThroughFrameFn:SSe(e.destination.axis)}),CSe=(e,t,r)=>{if(typeof r=="boolean")return r;if(!t)return!0;const{invisible:n,visible:a}=t;if(n[e])return!1;const i=a[e];return i?i.shouldAnimate:!0};function OSe(e,t){const r=e.page.marginBox,n={top:t.point.y,right:0,bottom:0,left:t.point.x};return ci(Q_(r,n))}function zh({afterDragging:e,destination:t,displacedBy:r,viewport:n,forceShouldAnimate:a,last:i}){return e.reduce(function(c,d){const f=OSe(d,r),h=d.descriptor.id;if(c.all.push(h),!ASe({target:f,destination:t,viewport:n,withDroppableDisplacement:!0}))return c.invisible[d.descriptor.id]=!0,c;const g=CSe(h,i,a),y={draggableId:h,shouldAnimate:g};return c.visible[h]=y,c},{all:[],visible:{},invisible:{}})}function DSe(e,t){if(!e.length)return 0;const r=e[e.length-1].descriptor.index;return t.inHomeList?r:r+1}function IP({insideDestination:e,inHomeList:t,displacedBy:r,destination:n}){const a=DSe(e,{inHomeList:t});return{displaced:Uh,displacedBy:r,at:{type:"REORDER",destination:{droppableId:n.descriptor.id,index:a}}}}function $x({draggable:e,insideDestination:t,destination:r,viewport:n,displacedBy:a,last:i,index:l,forceShouldAnimate:c}){const d=hf(e,r);if(l==null)return IP({insideDestination:t,inHomeList:d,displacedBy:a,destination:r});const f=t.find(b=>b.descriptor.index===l);if(!f)return IP({insideDestination:t,inHomeList:d,displacedBy:a,destination:r});const h=Zy(e,t),p=t.indexOf(f),g=h.slice(p);return{displaced:zh({afterDragging:g,destination:r,displacedBy:a,last:i,viewport:n.frame,forceShouldAnimate:c}),displacedBy:a,at:{type:"REORDER",destination:{droppableId:r.descriptor.id,index:l}}}}function $o(e,t){return!!t.effected[e]}var PSe=({isMovingForward:e,destination:t,draggables:r,combine:n,afterCritical:a})=>{if(!t.isCombineEnabled)return null;const i=n.draggableId,c=r[i].descriptor.index;return $o(i,a)?e?c:c-1:e?c+1:c},MSe=({isMovingForward:e,isInHomeList:t,insideDestination:r,location:n})=>{if(!r.length)return null;const a=n.index,i=e?a+1:a-1,l=r[0].descriptor.index,c=r[r.length-1].descriptor.index,d=t?c:c+1;return i<l||i>d?null:i},RSe=({isMovingForward:e,isInHomeList:t,draggable:r,draggables:n,destination:a,insideDestination:i,previousImpact:l,viewport:c,afterCritical:d})=>{const f=l.at;if(f||We(),f.type==="REORDER"){const p=MSe({isMovingForward:e,isInHomeList:t,location:f.destination,insideDestination:i});return p==null?null:$x({draggable:r,insideDestination:i,destination:a,viewport:c,last:l.displaced,displacedBy:l.displacedBy,index:p})}const h=PSe({isMovingForward:e,destination:a,displaced:l.displaced,draggables:n,combine:f.combine,afterCritical:d});return h==null?null:$x({draggable:r,insideDestination:i,destination:a,viewport:c,last:l.displaced,displacedBy:l.displacedBy,index:h})},ISe=({displaced:e,afterCritical:t,combineWith:r,displacedBy:n})=>{const a=!!(e.visible[r]||e.invisible[r]);return $o(r,t)?a?Cn:df(n.point):a?n.point:Cn},FSe=({afterCritical:e,impact:t,draggables:r})=>{const n=Qy(t);n||We();const a=n.draggableId,i=r[a].page.borderBox.center,l=ISe({displaced:t.displaced,afterCritical:e,combineWith:a,displacedBy:t.displacedBy});return Wn(i,l)};const J$=(e,t)=>t.margin[e.start]+t.borderBox[e.size]/2,LSe=(e,t)=>t.margin[e.end]+t.borderBox[e.size]/2,n4=(e,t,r)=>t[e.crossAxisStart]+r.margin[e.crossAxisStart]+r.borderBox[e.crossAxisSize]/2,FP=({axis:e,moveRelativeTo:t,isMoving:r})=>lu(e.line,t.marginBox[e.end]+J$(e,r),n4(e,t.marginBox,r)),LP=({axis:e,moveRelativeTo:t,isMoving:r})=>lu(e.line,t.marginBox[e.start]-LSe(e,r),n4(e,t.marginBox,r)),BSe=({axis:e,moveInto:t,isMoving:r})=>lu(e.line,t.contentBox[e.start]+J$(e,r),n4(e,t.contentBox,r));var $Se=({impact:e,draggable:t,draggables:r,droppable:n,afterCritical:a})=>{const i=ff(n.descriptor.id,r),l=t.page,c=n.axis;if(!i.length)return BSe({axis:c,moveInto:n.page,isMoving:l});const{displaced:d,displacedBy:f}=e,h=d.all[0];if(h){const g=r[h];if($o(h,a))return LP({axis:c,moveRelativeTo:g.page,isMoving:l});const y=Rx(g.page,f.point);return LP({axis:c,moveRelativeTo:y,isMoving:l})}const p=i[i.length-1];if(p.descriptor.id===t.descriptor.id)return l.borderBox.center;if($o(p.descriptor.id,a)){const g=Rx(p.page,df(a.displacedBy.point));return FP({axis:c,moveRelativeTo:g,isMoving:l})}return FP({axis:c,moveRelativeTo:p.page,isMoving:l})},jN=(e,t)=>{const r=e.frame;return r?Wn(t,r.scroll.diff.displacement):t};const USe=({impact:e,draggable:t,droppable:r,draggables:n,afterCritical:a})=>{const i=t.page.borderBox.center,l=e.at;return!r||!l?i:l.type==="REORDER"?$Se({impact:e,draggable:t,draggables:n,droppable:r,afterCritical:a}):FSe({impact:e,draggables:n,afterCritical:a})};var Jy=e=>{const t=USe(e),r=e.droppable;return r?jN(r,t):t},eU=(e,t)=>{const r=rs(t,e.scroll.initial),n=df(r);return{frame:ci({top:t.y,bottom:t.y+e.frame.height,left:t.x,right:t.x+e.frame.width}),scroll:{initial:e.scroll.initial,max:e.scroll.max,current:t,diff:{value:r,displacement:n}}}};function BP(e,t){return e.map(r=>t[r])}function zSe(e,t){for(let r=0;r<t.length;r++){const n=t[r].visible[e];if(n)return n}return null}var HSe=({impact:e,viewport:t,destination:r,draggables:n,maxScrollChange:a})=>{const i=eU(t,Wn(t.scroll.current,a)),l=r.frame?J_(r,Wn(r.frame.scroll.current,a)):r,c=e.displaced,d=zh({afterDragging:BP(c.all,n),destination:r,displacedBy:e.displacedBy,viewport:i.frame,last:c,forceShouldAnimate:!1}),f=zh({afterDragging:BP(c.all,n),destination:l,displacedBy:e.displacedBy,viewport:t.frame,last:c,forceShouldAnimate:!1}),h={},p={},g=[c,d,f];return c.all.forEach(b=>{const w=zSe(b,g);if(w){p[b]=w;return}h[b]=!0}),{...e,displaced:{all:c.all,invisible:h,visible:p}}},VSe=(e,t)=>Wn(e.scroll.diff.displacement,t),a4=({pageBorderBoxCenter:e,draggable:t,viewport:r})=>{const n=VSe(r,e),a=rs(n,t.page.borderBox.center);return Wn(t.client.borderBox.center,a)},tU=({draggable:e,destination:t,newPageBorderBoxCenter:r,viewport:n,withDroppableDisplacement:a,onlyOnMainAxis:i=!1})=>{const l=rs(r,e.page.borderBox.center),d={target:jm(e.page.borderBox,l),destination:t,withDroppableDisplacement:a,viewport:n};return i?TSe(d):Z$(d)},qSe=({isMovingForward:e,draggable:t,destination:r,draggables:n,previousImpact:a,viewport:i,previousPageBorderBoxCenter:l,previousClientSelection:c,afterCritical:d})=>{if(!r.isEnabled)return null;const f=ff(r.descriptor.id,n),h=hf(t,r),p=wSe({isMovingForward:e,draggable:t,destination:r,insideDestination:f,previousImpact:a})||RSe({isMovingForward:e,isInHomeList:h,draggable:t,draggables:n,destination:r,insideDestination:f,previousImpact:a,viewport:i,afterCritical:d});if(!p)return null;const g=Jy({impact:p,draggable:t,droppable:r,draggables:n,afterCritical:d});if(tU({draggable:t,destination:r,newPageBorderBoxCenter:g,viewport:i.frame,withDroppableDisplacement:!1,onlyOnMainAxis:!0}))return{clientSelection:a4({pageBorderBoxCenter:g,draggable:t,viewport:i}),impact:p,scrollJumpRequest:null};const b=rs(g,l),w=HSe({impact:p,viewport:i,destination:r,draggables:n,maxScrollChange:b});return{clientSelection:c,impact:w,scrollJumpRequest:b}};const la=e=>{const t=e.subject.active;return t||We(),t};var WSe=({isMovingForward:e,pageBorderBoxCenter:t,source:r,droppables:n,viewport:a})=>{const i=r.subject.active;if(!i)return null;const l=r.axis,c=Us(i[l.start],i[l.end]),d=Xy(n).filter(h=>h!==r).filter(h=>h.isEnabled).filter(h=>!!h.subject.active).filter(h=>X$(a.frame)(la(h))).filter(h=>{const p=la(h);return e?i[l.crossAxisEnd]<p[l.crossAxisEnd]:p[l.crossAxisStart]<i[l.crossAxisStart]}).filter(h=>{const p=la(h),g=Us(p[l.start],p[l.end]);return c(p[l.start])||c(p[l.end])||g(i[l.start])||g(i[l.end])}).sort((h,p)=>{const g=la(h)[l.crossAxisStart],y=la(p)[l.crossAxisStart];return e?g-y:y-g}).filter((h,p,g)=>la(h)[l.crossAxisStart]===la(g[0])[l.crossAxisStart]);if(!d.length)return null;if(d.length===1)return d[0];const f=d.filter(h=>Us(la(h)[l.start],la(h)[l.end])(t[l.line]));return f.length===1?f[0]:f.length>1?f.sort((h,p)=>la(h)[l.start]-la(p)[l.start])[0]:d.sort((h,p)=>{const g=MP(t,RP(la(h))),y=MP(t,RP(la(p)));return g!==y?g-y:la(h)[l.start]-la(p)[l.start]})[0]};const $P=(e,t)=>{const r=e.page.borderBox.center;return $o(e.descriptor.id,t)?rs(r,t.displacedBy.point):r},GSe=(e,t)=>{const r=e.page.borderBox;return $o(e.descriptor.id,t)?jm(r,df(t.displacedBy.point)):r};var KSe=({pageBorderBoxCenter:e,viewport:t,destination:r,insideDestination:n,afterCritical:a})=>n.filter(l=>Z$({target:GSe(l,a),destination:r,viewport:t.frame,withDroppableDisplacement:!0})).sort((l,c)=>{const d=$h(e,jN(r,$P(l,a))),f=$h(e,jN(r,$P(c,a)));return d<f?-1:f<d?1:l.descriptor.index-c.descriptor.index})[0]||null,Nm=An(function(t,r){const n=r[t.line];return{value:n,point:lu(t.line,n)}});const YSe=(e,t,r)=>{const n=e.axis;if(e.descriptor.mode==="virtual")return lu(n.line,t[n.line]);const a=e.subject.page.contentBox[n.size],d=ff(e.descriptor.id,r).reduce((f,h)=>f+h.client.marginBox[n.size],0)+t[n.line]-a;return d<=0?null:lu(n.line,d)},rU=(e,t)=>({...e,scroll:{...e.scroll,max:t}}),nU=(e,t,r)=>{const n=e.frame;hf(t,e)&&We(),e.subject.withPlaceholder&&We();const a=Nm(e.axis,t.displaceBy).point,i=YSe(e,a,r),l={placeholderSize:a,increasedBy:i,oldFrameMaxScroll:e.frame?e.frame.scroll.max:null};if(!n){const h=Ld({page:e.subject.page,withPlaceholder:l,axis:e.axis,frame:e.frame});return{...e,subject:h}}const c=i?Wn(n.scroll.max,i):n.scroll.max,d=rU(n,c),f=Ld({page:e.subject.page,withPlaceholder:l,axis:e.axis,frame:d});return{...e,subject:f,frame:d}},XSe=e=>{const t=e.subject.withPlaceholder;t||We();const r=e.frame;if(!r){const l=Ld({page:e.subject.page,axis:e.axis,frame:null,withPlaceholder:null});return{...e,subject:l}}const n=t.oldFrameMaxScroll;n||We();const a=rU(r,n),i=Ld({page:e.subject.page,axis:e.axis,frame:a,withPlaceholder:null});return{...e,subject:i,frame:a}};var QSe=({previousPageBorderBoxCenter:e,moveRelativeTo:t,insideDestination:r,draggable:n,draggables:a,destination:i,viewport:l,afterCritical:c})=>{if(!t){if(r.length)return null;const p={displaced:Uh,displacedBy:Y$,at:{type:"REORDER",destination:{droppableId:i.descriptor.id,index:0}}},g=Jy({impact:p,draggable:n,droppable:i,draggables:a,afterCritical:c}),y=hf(n,i)?i:nU(i,n,a);return tU({draggable:n,destination:y,newPageBorderBoxCenter:g,viewport:l.frame,withDroppableDisplacement:!1,onlyOnMainAxis:!0})?p:null}const d=e[i.axis.line]<=t.page.borderBox.center[i.axis.line],f=(()=>{const p=t.descriptor.index;return t.descriptor.id===n.descriptor.id||d?p:p+1})(),h=Nm(i.axis,n.displaceBy);return $x({draggable:n,insideDestination:r,destination:i,viewport:l,displacedBy:h,last:Uh,index:f})},ZSe=({isMovingForward:e,previousPageBorderBoxCenter:t,draggable:r,isOver:n,draggables:a,droppables:i,viewport:l,afterCritical:c})=>{const d=WSe({isMovingForward:e,pageBorderBoxCenter:t,source:n,droppables:i,viewport:l});if(!d)return null;const f=ff(d.descriptor.id,a),h=KSe({pageBorderBoxCenter:t,viewport:l,destination:d,insideDestination:f,afterCritical:c}),p=QSe({previousPageBorderBoxCenter:t,destination:d,draggable:r,draggables:a,moveRelativeTo:h,insideDestination:f,viewport:l,afterCritical:c});if(!p)return null;const g=Jy({impact:p,draggable:r,droppable:d,draggables:a,afterCritical:c});return{clientSelection:a4({pageBorderBoxCenter:g,draggable:r,viewport:l}),impact:p,scrollJumpRequest:null}},as=e=>{const t=e.at;return t?t.type==="REORDER"?t.destination.droppableId:t.combine.droppableId:null};const JSe=(e,t)=>{const r=as(e);return r?t[r]:null};var eke=({state:e,type:t})=>{const r=JSe(e.impact,e.dimensions.droppables),n=!!r,a=e.dimensions.droppables[e.critical.droppable.id],i=r||a,l=i.axis.direction,c=l==="vertical"&&(t==="MOVE_UP"||t==="MOVE_DOWN")||l==="horizontal"&&(t==="MOVE_LEFT"||t==="MOVE_RIGHT");if(c&&!n)return null;const d=t==="MOVE_DOWN"||t==="MOVE_RIGHT",f=e.dimensions.draggables[e.critical.draggable.id],h=e.current.page.borderBoxCenter,{draggables:p,droppables:g}=e.dimensions;return c?qSe({isMovingForward:d,previousPageBorderBoxCenter:h,draggable:f,destination:i,draggables:p,viewport:e.viewport,previousClientSelection:e.current.client.selection,previousImpact:e.impact,afterCritical:e.afterCritical}):ZSe({isMovingForward:d,previousPageBorderBoxCenter:h,draggable:f,isOver:i,draggables:p,droppables:g,viewport:e.viewport,afterCritical:e.afterCritical})};function Sc(e){return e.phase==="DRAGGING"||e.phase==="COLLECTING"}function aU(e){const t=Us(e.top,e.bottom),r=Us(e.left,e.right);return function(a){return t(a.y)&&r(a.x)}}function tke(e,t){return e.left<t.right&&e.right>t.left&&e.top<t.bottom&&e.bottom>t.top}function rke({pageBorderBox:e,draggable:t,candidates:r}){const n=t.page.borderBox.center,a=r.map(i=>{const l=i.axis,c=lu(i.axis.line,e.center[l.line],i.page.borderBox.center[l.crossAxisLine]);return{id:i.descriptor.id,distance:$h(n,c)}}).sort((i,l)=>l.distance-i.distance);return a[0]?a[0].id:null}function nke({pageBorderBox:e,draggable:t,droppables:r}){const n=Xy(r).filter(a=>{if(!a.isEnabled)return!1;const i=a.subject.active;if(!i||!tke(e,i))return!1;if(aU(i)(e.center))return!0;const l=a.axis,c=i.center[l.crossAxisLine],d=e[l.crossAxisStart],f=e[l.crossAxisEnd],h=Us(i[l.crossAxisStart],i[l.crossAxisEnd]),p=h(d),g=h(f);return!p&&!g?!0:p?d<c:f>c});return n.length?n.length===1?n[0].descriptor.id:rke({pageBorderBox:e,draggable:t,candidates:n}):null}const sU=(e,t)=>ci(jm(e,t));var ake=(e,t)=>{const r=e.frame;return r?sU(t,r.scroll.diff.value):t};function iU({displaced:e,id:t}){return!!(e.visible[t]||e.invisible[t])}function ske({draggable:e,closest:t,inHomeList:r}){return t?r&&t.descriptor.index>e.descriptor.index?t.descriptor.index-1:t.descriptor.index:null}var ike=({pageBorderBoxWithDroppableScroll:e,draggable:t,destination:r,insideDestination:n,last:a,viewport:i,afterCritical:l})=>{const c=r.axis,d=Nm(r.axis,t.displaceBy),f=d.value,h=e[c.start],p=e[c.end],y=Zy(t,n).find(w=>{const j=w.descriptor.id,S=w.page.borderBox.center[c.line],_=$o(j,l),E=iU({displaced:a,id:j});return _?E?p<=S:h<S-f:E?p<=S+f:h<S})||null,b=ske({draggable:t,closest:y,inHomeList:hf(t,r)});return $x({draggable:t,insideDestination:n,destination:r,viewport:i,last:a,displacedBy:d,index:b})};const lke=4;var oke=({draggable:e,pageBorderBoxWithDroppableScroll:t,previousImpact:r,destination:n,insideDestination:a,afterCritical:i})=>{if(!n.isCombineEnabled)return null;const l=n.axis,c=Nm(n.axis,e.displaceBy),d=c.value,f=t[l.start],h=t[l.end],g=Zy(e,a).find(b=>{const w=b.descriptor.id,j=b.page.borderBox,_=j[l.size]/lke,E=$o(w,i),T=iU({displaced:r.displaced,id:w});return E?T?h>j[l.start]+_&&h<j[l.end]-_:f>j[l.start]-d+_&&f<j[l.end]-d-_:T?h>j[l.start]+d+_&&h<j[l.end]+d-_:f>j[l.start]+_&&f<j[l.end]-_});return g?{displacedBy:c,displaced:r.displaced,at:{type:"COMBINE",combine:{draggableId:g.descriptor.id,droppableId:n.descriptor.id}}}:null},lU=({pageOffset:e,draggable:t,draggables:r,droppables:n,previousImpact:a,viewport:i,afterCritical:l})=>{const c=sU(t.page.borderBox,e),d=nke({pageBorderBox:c,draggable:t,droppables:n});if(!d)return jSe;const f=n[d],h=ff(f.descriptor.id,r),p=ake(f,c);return oke({pageBorderBoxWithDroppableScroll:p,draggable:t,previousImpact:a,destination:f,insideDestination:h,afterCritical:l})||ike({pageBorderBoxWithDroppableScroll:p,draggable:t,destination:f,insideDestination:h,last:a.displaced,viewport:i,afterCritical:l})},s4=(e,t)=>({...e,[t.descriptor.id]:t});const cke=({previousImpact:e,impact:t,droppables:r})=>{const n=as(e),a=as(t);if(!n||n===a)return r;const i=r[n];if(!i.subject.withPlaceholder)return r;const l=XSe(i);return s4(r,l)};var uke=({draggable:e,draggables:t,droppables:r,previousImpact:n,impact:a})=>{const i=cke({previousImpact:n,impact:a,droppables:r}),l=as(a);if(!l)return i;const c=r[l];if(hf(e,c)||c.subject.withPlaceholder)return i;const d=nU(c,e,t);return s4(i,d)},ah=({state:e,clientSelection:t,dimensions:r,viewport:n,impact:a,scrollJumpRequest:i})=>{const l=n||e.viewport,c=r||e.dimensions,d=t||e.current.client.selection,f=rs(d,e.initial.client.selection),h={offset:f,selection:d,borderBoxCenter:Wn(e.initial.client.borderBoxCenter,f)},p={selection:Wn(h.selection,l.scroll.current),borderBoxCenter:Wn(h.borderBoxCenter,l.scroll.current),offset:Wn(h.offset,l.scroll.diff.value)},g={client:h,page:p};if(e.phase==="COLLECTING")return{...e,dimensions:c,viewport:l,current:g};const y=c.draggables[e.critical.draggable.id],b=a||lU({pageOffset:p.offset,draggable:y,draggables:c.draggables,droppables:c.droppables,previousImpact:e.impact,viewport:l,afterCritical:e.afterCritical}),w=uke({draggable:y,impact:b,previousImpact:e.impact,draggables:c.draggables,droppables:c.droppables});return{...e,current:g,dimensions:{draggables:c.draggables,droppables:w},impact:b,viewport:l,scrollJumpRequest:i||null,forceShouldAnimate:i?!1:null}};function dke(e,t){return e.map(r=>t[r])}var oU=({impact:e,viewport:t,draggables:r,destination:n,forceShouldAnimate:a})=>{const i=e.displaced,l=dke(i.all,r),c=zh({afterDragging:l,destination:n,displacedBy:e.displacedBy,viewport:t.frame,forceShouldAnimate:a,last:i});return{...e,displaced:c}},cU=({impact:e,draggable:t,droppable:r,draggables:n,viewport:a,afterCritical:i})=>{const l=Jy({impact:e,draggable:t,draggables:n,droppable:r,afterCritical:i});return a4({pageBorderBoxCenter:l,draggable:t,viewport:a})},uU=({state:e,dimensions:t,viewport:r})=>{e.movementMode!=="SNAP"&&We();const n=e.impact,a=r||e.viewport,i=t||e.dimensions,{draggables:l,droppables:c}=i,d=l[e.critical.draggable.id],f=as(n);f||We();const h=c[f],p=oU({impact:n,viewport:a,destination:h,draggables:l}),g=cU({impact:p,draggable:d,droppable:h,draggables:l,viewport:a,afterCritical:e.afterCritical});return ah({impact:p,clientSelection:g,state:e,dimensions:i,viewport:a})},fke=e=>({index:e.index,droppableId:e.droppableId}),dU=({draggable:e,home:t,draggables:r,viewport:n})=>{const a=Nm(t.axis,e.displaceBy),i=ff(t.descriptor.id,r),l=i.indexOf(e);l===-1&&We();const c=i.slice(l+1),d=c.reduce((g,y)=>(g[y.descriptor.id]=!0,g),{}),f={inVirtualList:t.descriptor.mode==="virtual",displacedBy:a,effected:d};return{impact:{displaced:zh({afterDragging:c,destination:t,displacedBy:a,last:null,viewport:n.frame,forceShouldAnimate:!1}),displacedBy:a,at:{type:"REORDER",destination:fke(e.descriptor)}},afterCritical:f}},hke=(e,t)=>({draggables:e.draggables,droppables:s4(e.droppables,t)}),mke=({draggable:e,offset:t,initialWindowScroll:r})=>{const n=Rx(e.client,t),a=Ix(n,r);return{...e,placeholder:{...e.placeholder,client:n},client:n,page:a}},pke=e=>{const t=e.frame;return t||We(),t},gke=({additions:e,updatedDroppables:t,viewport:r})=>{const n=r.scroll.diff.value;return e.map(a=>{const i=a.descriptor.droppableId,l=t[i],d=pke(l).scroll.diff.value,f=Wn(n,d);return mke({draggable:a,offset:f,initialWindowScroll:r.scroll.initial})})},xke=({state:e,published:t})=>{const r=t.modified.map(S=>{const _=e.dimensions.droppables[S.droppableId];return J_(_,S.scroll)}),n={...e.dimensions.droppables,...G$(r)},a=K$(gke({additions:t.additions,updatedDroppables:n,viewport:e.viewport})),i={...e.dimensions.draggables,...a};t.removals.forEach(S=>{delete i[S]});const l={droppables:n,draggables:i},c=as(e.impact),d=c?l.droppables[c]:null,f=l.draggables[e.critical.draggable.id],h=l.droppables[e.critical.droppable.id],{impact:p,afterCritical:g}=dU({draggable:f,home:h,draggables:i,viewport:e.viewport}),y=d&&d.isCombineEnabled?e.impact:p,b=lU({pageOffset:e.current.page.offset,draggable:l.draggables[e.critical.draggable.id],draggables:l.draggables,droppables:l.droppables,previousImpact:y,viewport:e.viewport,afterCritical:g}),w={...e,phase:"DRAGGING",impact:b,onLiftImpact:p,dimensions:l,afterCritical:g,forceShouldAnimate:!1};return e.phase==="COLLECTING"?w:{...w,phase:"DROP_PENDING",reason:e.reason,isWaiting:!1}};const NN=e=>e.movementMode==="SNAP",j2=(e,t,r)=>{const n=hke(e.dimensions,t);return!NN(e)||r?ah({state:e,dimensions:n}):uU({state:e,dimensions:n})};function N2(e){return e.isDragging&&e.movementMode==="SNAP"?{...e,scrollJumpRequest:null}:e}const UP={phase:"IDLE",completed:null,shouldFlush:!1};var yke=(e=UP,t)=>{if(t.type==="FLUSH")return{...UP,shouldFlush:!0};if(t.type==="INITIAL_PUBLISH"){e.phase!=="IDLE"&&We();const{critical:r,clientSelection:n,viewport:a,dimensions:i,movementMode:l}=t.payload,c=i.draggables[r.draggable.id],d=i.droppables[r.droppable.id],f={selection:n,borderBoxCenter:c.client.borderBox.center,offset:Cn},h={client:f,page:{selection:Wn(f.selection,a.scroll.initial),borderBoxCenter:Wn(f.selection,a.scroll.initial),offset:Wn(f.selection,a.scroll.diff.value)}},p=Xy(i.droppables).every(w=>!w.isFixedOnPage),{impact:g,afterCritical:y}=dU({draggable:c,home:d,draggables:i.draggables,viewport:a});return{phase:"DRAGGING",isDragging:!0,critical:r,movementMode:l,dimensions:i,initial:h,current:h,isWindowScrollAllowed:p,impact:g,afterCritical:y,onLiftImpact:g,viewport:a,scrollJumpRequest:null,forceShouldAnimate:null}}if(t.type==="COLLECTION_STARTING")return e.phase==="COLLECTING"||e.phase==="DROP_PENDING"?e:(e.phase!=="DRAGGING"&&We(),{...e,phase:"COLLECTING"});if(t.type==="PUBLISH_WHILE_DRAGGING")return e.phase==="COLLECTING"||e.phase==="DROP_PENDING"||We(),xke({state:e,published:t.payload});if(t.type==="MOVE"){if(e.phase==="DROP_PENDING")return e;Sc(e)||We();const{client:r}=t.payload;return Eo(r,e.current.client.selection)?e:ah({state:e,clientSelection:r,impact:NN(e)?e.impact:null})}if(t.type==="UPDATE_DROPPABLE_SCROLL"){if(e.phase==="DROP_PENDING"||e.phase==="COLLECTING")return N2(e);Sc(e)||We();const{id:r,newScroll:n}=t.payload,a=e.dimensions.droppables[r];if(!a)return e;const i=J_(a,n);return j2(e,i,!1)}if(t.type==="UPDATE_DROPPABLE_IS_ENABLED"){if(e.phase==="DROP_PENDING")return e;Sc(e)||We();const{id:r,isEnabled:n}=t.payload,a=e.dimensions.droppables[r];a||We(),a.isEnabled===n&&We();const i={...a,isEnabled:n};return j2(e,i,!0)}if(t.type==="UPDATE_DROPPABLE_IS_COMBINE_ENABLED"){if(e.phase==="DROP_PENDING")return e;Sc(e)||We();const{id:r,isCombineEnabled:n}=t.payload,a=e.dimensions.droppables[r];a||We(),a.isCombineEnabled===n&&We();const i={...a,isCombineEnabled:n};return j2(e,i,!0)}if(t.type==="MOVE_BY_WINDOW_SCROLL"){if(e.phase==="DROP_PENDING"||e.phase==="DROP_ANIMATING")return e;Sc(e)||We(),e.isWindowScrollAllowed||We();const r=t.payload.newScroll;if(Eo(e.viewport.scroll.current,r))return N2(e);const n=eU(e.viewport,r);return NN(e)?uU({state:e,viewport:n}):ah({state:e,viewport:n})}if(t.type==="UPDATE_VIEWPORT_MAX_SCROLL"){if(!Sc(e))return e;const r=t.payload.maxScroll;if(Eo(r,e.viewport.scroll.max))return e;const n={...e.viewport,scroll:{...e.viewport.scroll,max:r}};return{...e,viewport:n}}if(t.type==="MOVE_UP"||t.type==="MOVE_DOWN"||t.type==="MOVE_LEFT"||t.type==="MOVE_RIGHT"){if(e.phase==="COLLECTING"||e.phase==="DROP_PENDING")return e;e.phase!=="DRAGGING"&&We();const r=eke({state:e,type:t.type});return r?ah({state:e,impact:r.impact,clientSelection:r.clientSelection,scrollJumpRequest:r.scrollJumpRequest}):e}if(t.type==="DROP_PENDING"){const r=t.payload.reason;return e.phase!=="COLLECTING"&&We(),{...e,phase:"DROP_PENDING",isWaiting:!0,reason:r}}if(t.type==="DROP_ANIMATE"){const{completed:r,dropDuration:n,newHomeClientOffset:a}=t.payload;return e.phase==="DRAGGING"||e.phase==="DROP_PENDING"||We(),{phase:"DROP_ANIMATING",completed:r,dropDuration:n,newHomeClientOffset:a,dimensions:e.dimensions}}if(t.type==="DROP_COMPLETE"){const{completed:r}=t.payload;return{phase:"IDLE",completed:r,shouldFlush:!1}}return e};function Gt(e,t){return e instanceof Object&&"type"in e&&e.type===t}const vke=e=>({type:"BEFORE_INITIAL_CAPTURE",payload:e}),bke=e=>({type:"LIFT",payload:e}),wke=e=>({type:"INITIAL_PUBLISH",payload:e}),jke=e=>({type:"PUBLISH_WHILE_DRAGGING",payload:e}),Nke=()=>({type:"COLLECTION_STARTING",payload:null}),Ske=e=>({type:"UPDATE_DROPPABLE_SCROLL",payload:e}),kke=e=>({type:"UPDATE_DROPPABLE_IS_ENABLED",payload:e}),_ke=e=>({type:"UPDATE_DROPPABLE_IS_COMBINE_ENABLED",payload:e}),fU=e=>({type:"MOVE",payload:e}),Eke=e=>({type:"MOVE_BY_WINDOW_SCROLL",payload:e}),Ake=e=>({type:"UPDATE_VIEWPORT_MAX_SCROLL",payload:e}),Tke=()=>({type:"MOVE_UP",payload:null}),Cke=()=>({type:"MOVE_DOWN",payload:null}),Oke=()=>({type:"MOVE_RIGHT",payload:null}),Dke=()=>({type:"MOVE_LEFT",payload:null}),i4=()=>({type:"FLUSH",payload:null}),Pke=e=>({type:"DROP_ANIMATE",payload:e}),l4=e=>({type:"DROP_COMPLETE",payload:e}),hU=e=>({type:"DROP",payload:e}),Mke=e=>({type:"DROP_PENDING",payload:e}),mU=()=>({type:"DROP_ANIMATION_FINISHED",payload:null});var Rke=e=>({getState:t,dispatch:r})=>n=>a=>{if(!Gt(a,"LIFT")){n(a);return}const{id:i,clientSelection:l,movementMode:c}=a.payload,d=t();d.phase==="DROP_ANIMATING"&&r(l4({completed:d.completed})),t().phase!=="IDLE"&&We(),r(i4()),r(vke({draggableId:i,movementMode:c}));const h={draggableId:i,scrollOptions:{shouldPublishImmediately:c==="SNAP"}},{critical:p,dimensions:g,viewport:y}=e.startPublishing(h);r(wke({critical:p,dimensions:g,clientSelection:l,movementMode:c,viewport:y}))},Ike=e=>()=>t=>r=>{Gt(r,"INITIAL_PUBLISH")&&e.dragging(),Gt(r,"DROP_ANIMATE")&&e.dropping(r.payload.completed.result.reason),(Gt(r,"FLUSH")||Gt(r,"DROP_COMPLETE"))&&e.resting(),t(r)};const o4={outOfTheWay:"cubic-bezier(0.2, 0, 0, 1)",drop:"cubic-bezier(.2,1,.1,1)"},Hh={opacity:{drop:0,combining:.7},scale:{drop:.75}},pU={outOfTheWay:.2,minDropTime:.33,maxDropTime:.55},yc=`${pU.outOfTheWay}s ${o4.outOfTheWay}`,sh={fluid:`opacity ${yc}`,snap:`transform ${yc}, opacity ${yc}`,drop:e=>{const t=`${e}s ${o4.drop}`;return`transform ${t}, opacity ${t}`},outOfTheWay:`transform ${yc}`,placeholder:`height ${yc}, width ${yc}, margin ${yc}`},zP=e=>Eo(e,Cn)?void 0:`translate(${e.x}px, ${e.y}px)`,SN={moveTo:zP,drop:(e,t)=>{const r=zP(e);if(r)return t?`${r} scale(${Hh.scale.drop})`:r}},{minDropTime:kN,maxDropTime:gU}=pU,Fke=gU-kN,HP=1500,Lke=.6;var Bke=({current:e,destination:t,reason:r})=>{const n=$h(e,t);if(n<=0)return kN;if(n>=HP)return gU;const a=n/HP,i=kN+Fke*a,l=r==="CANCEL"?i*Lke:i;return Number(l.toFixed(2))},$ke=({impact:e,draggable:t,dimensions:r,viewport:n,afterCritical:a})=>{const{draggables:i,droppables:l}=r,c=as(e),d=c?l[c]:null,f=l[t.descriptor.droppableId],h=cU({impact:e,draggable:t,draggables:i,afterCritical:a,droppable:d||f,viewport:n});return rs(h,t.client.borderBox.center)},Uke=({draggables:e,reason:t,lastImpact:r,home:n,viewport:a,onLiftImpact:i})=>!r.at||t!=="DROP"?{impact:oU({draggables:e,impact:i,destination:n,viewport:a,forceShouldAnimate:!0}),didDropInsideDroppable:!1}:r.at.type==="REORDER"?{impact:r,didDropInsideDroppable:!0}:{impact:{...r,displaced:Uh},didDropInsideDroppable:!0};const zke=({getState:e,dispatch:t})=>r=>n=>{if(!Gt(n,"DROP")){r(n);return}const a=e(),i=n.payload.reason;if(a.phase==="COLLECTING"){t(Mke({reason:i}));return}if(a.phase==="IDLE")return;a.phase==="DROP_PENDING"&&a.isWaiting&&We(),a.phase==="DRAGGING"||a.phase==="DROP_PENDING"||We();const c=a.critical,d=a.dimensions,f=d.draggables[a.critical.draggable.id],{impact:h,didDropInsideDroppable:p}=Uke({reason:i,lastImpact:a.impact,afterCritical:a.afterCritical,onLiftImpact:a.onLiftImpact,home:a.dimensions.droppables[a.critical.droppable.id],viewport:a.viewport,draggables:a.dimensions.draggables}),g=p?e4(h):null,y=p?Qy(h):null,b={index:c.draggable.index,droppableId:c.droppable.id},w={draggableId:f.descriptor.id,type:f.descriptor.type,source:b,reason:i,mode:a.movementMode,destination:g,combine:y},j=$ke({impact:h,draggable:f,dimensions:d,viewport:a.viewport,afterCritical:a.afterCritical}),S={critical:a.critical,afterCritical:a.afterCritical,result:w,impact:h};if(!(!Eo(a.current.client.offset,j)||!!w.combine)){t(l4({completed:S}));return}const E=Bke({current:a.current.client.offset,destination:j,reason:i});t(Pke({newHomeClientOffset:j,dropDuration:E,completed:S}))};var xU=()=>({x:window.pageXOffset,y:window.pageYOffset});function Hke(e){return{eventName:"scroll",options:{passive:!0,capture:!1},fn:t=>{t.target!==window&&t.target!==window.document||e()}}}function Vke({onWindowScroll:e}){function t(){e(xU())}const r=Bh(t),n=Hke(r);let a=_o;function i(){return a!==_o}function l(){i()&&We(),a=Bs(window,[n])}function c(){i()||We(),r.cancel(),a(),a=_o}return{start:l,stop:c,isActive:i}}const qke=e=>Gt(e,"DROP_COMPLETE")||Gt(e,"DROP_ANIMATE")||Gt(e,"FLUSH"),Wke=e=>{const t=Vke({onWindowScroll:r=>{e.dispatch(Eke({newScroll:r}))}});return r=>n=>{!t.isActive()&&Gt(n,"INITIAL_PUBLISH")&&t.start(),t.isActive()&&qke(n)&&t.stop(),r(n)}};var Gke=e=>{let t=!1,r=!1;const n=setTimeout(()=>{r=!0}),a=i=>{t||r||(t=!0,e(i),clearTimeout(n))};return a.wasCalled=()=>t,a},Kke=()=>{const e=[],t=a=>{const i=e.findIndex(c=>c.timerId===a);i===-1&&We();const[l]=e.splice(i,1);l.callback()};return{add:a=>{const i=setTimeout(()=>t(i)),l={timerId:i,callback:a};e.push(l)},flush:()=>{if(!e.length)return;const a=[...e];e.length=0,a.forEach(i=>{clearTimeout(i.timerId),i.callback()})}}};const Yke=(e,t)=>e==null&&t==null?!0:e==null||t==null?!1:e.droppableId===t.droppableId&&e.index===t.index,Xke=(e,t)=>e==null&&t==null?!0:e==null||t==null?!1:e.draggableId===t.draggableId&&e.droppableId===t.droppableId,Qke=(e,t)=>{if(e===t)return!0;const r=e.draggable.id===t.draggable.id&&e.draggable.droppableId===t.draggable.droppableId&&e.draggable.type===t.draggable.type&&e.draggable.index===t.draggable.index,n=e.droppable.id===t.droppable.id&&e.droppable.type===t.droppable.type;return r&&n},k0=(e,t)=>{t()},cg=(e,t)=>({draggableId:e.draggable.id,type:e.droppable.type,source:{droppableId:e.droppable.id,index:e.draggable.index},mode:t});function S2(e,t,r,n){if(!e){r(n(t));return}const a=Gke(r);e(t,{announce:a}),a.wasCalled()||r(n(t))}var Zke=(e,t)=>{const r=Kke();let n=null;const a=(p,g)=>{n&&We(),k0("onBeforeCapture",()=>{const y=e().onBeforeCapture;y&&y({draggableId:p,mode:g})})},i=(p,g)=>{n&&We(),k0("onBeforeDragStart",()=>{const y=e().onBeforeDragStart;y&&y(cg(p,g))})},l=(p,g)=>{n&&We();const y=cg(p,g);n={mode:g,lastCritical:p,lastLocation:y.source,lastCombine:null},r.add(()=>{k0("onDragStart",()=>S2(e().onDragStart,y,t,jg.onDragStart))})},c=(p,g)=>{const y=e4(g),b=Qy(g);n||We();const w=!Qke(p,n.lastCritical);w&&(n.lastCritical=p);const j=!Yke(n.lastLocation,y);j&&(n.lastLocation=y);const S=!Xke(n.lastCombine,b);if(S&&(n.lastCombine=b),!w&&!j&&!S)return;const _={...cg(p,n.mode),combine:b,destination:y};r.add(()=>{k0("onDragUpdate",()=>S2(e().onDragUpdate,_,t,jg.onDragUpdate))})},d=()=>{n||We(),r.flush()},f=p=>{n||We(),n=null,k0("onDragEnd",()=>S2(e().onDragEnd,p,t,jg.onDragEnd))};return{beforeCapture:a,beforeStart:i,start:l,update:c,flush:d,drop:f,abort:()=>{if(!n)return;const p={...cg(n.lastCritical,n.mode),combine:null,destination:null,reason:"CANCEL"};f(p)}}},Jke=(e,t)=>{const r=Zke(e,t);return n=>a=>i=>{if(Gt(i,"BEFORE_INITIAL_CAPTURE")){r.beforeCapture(i.payload.draggableId,i.payload.movementMode);return}if(Gt(i,"INITIAL_PUBLISH")){const c=i.payload.critical;r.beforeStart(c,i.payload.movementMode),a(i),r.start(c,i.payload.movementMode);return}if(Gt(i,"DROP_COMPLETE")){const c=i.payload.completed.result;r.flush(),a(i),r.drop(c);return}if(a(i),Gt(i,"FLUSH")){r.abort();return}const l=n.getState();l.phase==="DRAGGING"&&r.update(l.critical,l.impact)}};const e_e=e=>t=>r=>{if(!Gt(r,"DROP_ANIMATION_FINISHED")){t(r);return}const n=e.getState();n.phase!=="DROP_ANIMATING"&&We(),e.dispatch(l4({completed:n.completed}))},t_e=e=>{let t=null,r=null;function n(){r&&(cancelAnimationFrame(r),r=null),t&&(t(),t=null)}return a=>i=>{if((Gt(i,"FLUSH")||Gt(i,"DROP_COMPLETE")||Gt(i,"DROP_ANIMATION_FINISHED"))&&n(),a(i),!Gt(i,"DROP_ANIMATE"))return;const l={eventName:"scroll",options:{capture:!0,passive:!1,once:!0},fn:function(){e.getState().phase==="DROP_ANIMATING"&&e.dispatch(mU())}};r=requestAnimationFrame(()=>{r=null,t=Bs(window,[l])})}};var r_e=e=>()=>t=>r=>{(Gt(r,"DROP_COMPLETE")||Gt(r,"FLUSH")||Gt(r,"DROP_ANIMATE"))&&e.stopPublishing(),t(r)},n_e=e=>{let t=!1;return()=>r=>n=>{if(Gt(n,"INITIAL_PUBLISH")){t=!0,e.tryRecordFocus(n.payload.critical.draggable.id),r(n),e.tryRestoreFocusRecorded();return}if(r(n),!!t){if(Gt(n,"FLUSH")){t=!1,e.tryRestoreFocusRecorded();return}if(Gt(n,"DROP_COMPLETE")){t=!1;const a=n.payload.completed.result;a.combine&&e.tryShiftRecord(a.draggableId,a.combine.draggableId),e.tryRestoreFocusRecorded()}}}};const a_e=e=>Gt(e,"DROP_COMPLETE")||Gt(e,"DROP_ANIMATE")||Gt(e,"FLUSH");var s_e=e=>t=>r=>n=>{if(a_e(n)){e.stop(),r(n);return}if(Gt(n,"INITIAL_PUBLISH")){r(n);const a=t.getState();a.phase!=="DRAGGING"&&We(),e.start(a);return}r(n),e.scroll(t.getState())};const i_e=e=>t=>r=>{if(t(r),!Gt(r,"PUBLISH_WHILE_DRAGGING"))return;const n=e.getState();n.phase==="DROP_PENDING"&&(n.isWaiting||e.dispatch(hU({reason:n.reason})))},l_e=vh;var o_e=({dimensionMarshal:e,focusMarshal:t,styleMarshal:r,getResponders:n,announce:a,autoScroller:i})=>BS(yke,l_e(SI(Ike(r),r_e(e),Rke(e),zke,e_e,t_e,i_e,s_e(i),Wke,n_e(t),Jke(n,a))));const k2=()=>({additions:{},removals:{},modified:{}});function c_e({registry:e,callbacks:t}){let r=k2(),n=null;const a=()=>{n||(t.collectionStarting(),n=requestAnimationFrame(()=>{n=null;const{additions:d,removals:f,modified:h}=r,p=Object.keys(d).map(b=>e.draggable.getById(b).getDimension(Cn)).sort((b,w)=>b.descriptor.index-w.descriptor.index),g=Object.keys(h).map(b=>{const j=e.droppable.getById(b).callbacks.getScrollWhileDragging();return{droppableId:b,scroll:j}}),y={additions:p,removals:Object.keys(f),modified:g};r=k2(),t.publish(y)}))};return{add:d=>{const f=d.descriptor.id;r.additions[f]=d,r.modified[d.descriptor.droppableId]=!0,r.removals[f]&&delete r.removals[f],a()},remove:d=>{const f=d.descriptor;r.removals[f.id]=!0,r.modified[f.droppableId]=!0,r.additions[f.id]&&delete r.additions[f.id],a()},stop:()=>{n&&(cancelAnimationFrame(n),n=null,r=k2())}}}var yU=({scrollHeight:e,scrollWidth:t,height:r,width:n})=>{const a=rs({x:t,y:e},{x:n,y:r});return{x:Math.max(0,a.x),y:Math.max(0,a.y)}},vU=()=>{const e=document.documentElement;return e||We(),e},bU=()=>{const e=vU();return yU({scrollHeight:e.scrollHeight,scrollWidth:e.scrollWidth,width:e.clientWidth,height:e.clientHeight})},u_e=()=>{const e=xU(),t=bU(),r=e.y,n=e.x,a=vU(),i=a.clientWidth,l=a.clientHeight,c=n+i,d=r+l;return{frame:ci({top:r,left:n,right:c,bottom:d}),scroll:{initial:e,current:e,max:t,diff:{value:Cn,displacement:Cn}}}},d_e=({critical:e,scrollOptions:t,registry:r})=>{const n=u_e(),a=n.scroll.current,i=e.droppable,l=r.droppable.getAllByType(i.type).map(h=>h.callbacks.getDimensionAndWatchScroll(a,t)),c=r.draggable.getAllByType(e.draggable.type).map(h=>h.getDimension(a));return{dimensions:{draggables:K$(c),droppables:G$(l)},critical:e,viewport:n}};function VP(e,t,r){return!(r.descriptor.id===t.id||r.descriptor.type!==t.type||e.droppable.getById(r.descriptor.droppableId).descriptor.mode!=="virtual")}var f_e=(e,t)=>{let r=null;const n=c_e({callbacks:{publish:t.publishWhileDragging,collectionStarting:t.collectionStarting},registry:e}),a=(g,y)=>{e.droppable.exists(g)||We(),r&&t.updateDroppableIsEnabled({id:g,isEnabled:y})},i=(g,y)=>{r&&(e.droppable.exists(g)||We(),t.updateDroppableIsCombineEnabled({id:g,isCombineEnabled:y}))},l=(g,y)=>{r&&(e.droppable.exists(g)||We(),t.updateDroppableScroll({id:g,newScroll:y}))},c=(g,y)=>{r&&e.droppable.getById(g).callbacks.scroll(y)},d=()=>{if(!r)return;n.stop();const g=r.critical.droppable;e.droppable.getAllByType(g.type).forEach(y=>y.callbacks.dragStopped()),r.unsubscribe(),r=null},f=g=>{r||We();const y=r.critical.draggable;g.type==="ADDITION"&&VP(e,y,g.value)&&n.add(g.value),g.type==="REMOVAL"&&VP(e,y,g.value)&&n.remove(g.value)};return{updateDroppableIsEnabled:a,updateDroppableIsCombineEnabled:i,scrollDroppable:c,updateDroppableScroll:l,startPublishing:g=>{r&&We();const y=e.draggable.getById(g.draggableId),b=e.droppable.getById(y.descriptor.droppableId),w={draggable:y.descriptor,droppable:b.descriptor},j=e.subscribe(f);return r={critical:w,unsubscribe:j},d_e({critical:w,registry:e,scrollOptions:g.scrollOptions})},stopPublishing:d}},wU=(e,t)=>e.phase==="IDLE"?!0:e.phase!=="DROP_ANIMATING"||e.completed.result.draggableId===t?!1:e.completed.result.reason==="DROP",h_e=e=>{window.scrollBy(e.x,e.y)};const m_e=An(e=>Xy(e).filter(t=>!(!t.isEnabled||!t.frame))),p_e=(e,t)=>m_e(t).find(n=>(n.frame||We(),aU(n.frame.pageMarginBox)(e)))||null;var g_e=({center:e,destination:t,droppables:r})=>{if(t){const a=r[t];return a.frame?a:null}return p_e(e,r)};const Vh={startFromPercentage:.25,maxScrollAtPercentage:.05,maxPixelScroll:28,ease:e=>e**2,durationDampening:{stopDampeningAt:1200,accelerateAt:360},disabled:!1};var x_e=(e,t,r=()=>Vh)=>{const n=r(),a=e[t.size]*n.startFromPercentage,i=e[t.size]*n.maxScrollAtPercentage;return{startScrollingFrom:a,maxScrollValueAt:i}},jU=({startOfRange:e,endOfRange:t,current:r})=>{const n=t-e;return n===0?0:(r-e)/n},c4=1,y_e=(e,t,r=()=>Vh)=>{const n=r();if(e>t.startScrollingFrom)return 0;if(e<=t.maxScrollValueAt)return n.maxPixelScroll;if(e===t.startScrollingFrom)return c4;const i=1-jU({startOfRange:t.maxScrollValueAt,endOfRange:t.startScrollingFrom,current:e}),l=n.maxPixelScroll*n.ease(i);return Math.ceil(l)},v_e=(e,t,r)=>{const n=r(),a=n.durationDampening.accelerateAt,i=n.durationDampening.stopDampeningAt,l=t,c=i,f=Date.now()-l;if(f>=i)return e;if(f<a)return c4;const h=jU({startOfRange:a,endOfRange:c,current:f}),p=e*n.ease(h);return Math.ceil(p)},qP=({distanceToEdge:e,thresholds:t,dragStartTime:r,shouldUseTimeDampening:n,getAutoScrollerOptions:a})=>{const i=y_e(e,t,a);return i===0?0:n?Math.max(v_e(i,r,a),c4):i},WP=({container:e,distanceToEdges:t,dragStartTime:r,axis:n,shouldUseTimeDampening:a,getAutoScrollerOptions:i})=>{const l=x_e(e,n,i);return t[n.end]<t[n.start]?qP({distanceToEdge:t[n.end],thresholds:l,dragStartTime:r,shouldUseTimeDampening:a,getAutoScrollerOptions:i}):-1*qP({distanceToEdge:t[n.start],thresholds:l,dragStartTime:r,shouldUseTimeDampening:a,getAutoScrollerOptions:i})},b_e=({container:e,subject:t,proposedScroll:r})=>{const n=t.height>e.height,a=t.width>e.width;return!a&&!n?r:a&&n?null:{x:a?0:r.x,y:n?0:r.y}};const w_e=W$(e=>e===0?0:e);var NU=({dragStartTime:e,container:t,subject:r,center:n,shouldUseTimeDampening:a,getAutoScrollerOptions:i})=>{const l={top:n.y-t.top,right:t.right-n.x,bottom:t.bottom-n.y,left:n.x-t.left},c=WP({container:t,distanceToEdges:l,dragStartTime:e,axis:t4,shouldUseTimeDampening:a,getAutoScrollerOptions:i}),d=WP({container:t,distanceToEdges:l,dragStartTime:e,axis:Q$,shouldUseTimeDampening:a,getAutoScrollerOptions:i}),f=w_e({x:d,y:c});if(Eo(f,Cn))return null;const h=b_e({container:t,subject:r,proposedScroll:f});return h?Eo(h,Cn)?null:h:null};const j_e=W$(e=>e===0?0:e>0?1:-1),u4=(()=>{const e=(t,r)=>t<0?t:t>r?t-r:0;return({current:t,max:r,change:n})=>{const a=Wn(t,n),i={x:e(a.x,r.x),y:e(a.y,r.y)};return Eo(i,Cn)?null:i}})(),SU=({max:e,current:t,change:r})=>{const n={x:Math.max(t.x,e.x),y:Math.max(t.y,e.y)},a=j_e(r),i=u4({max:n,current:t,change:a});return!i||a.x!==0&&i.x===0||a.y!==0&&i.y===0},d4=(e,t)=>SU({current:e.scroll.current,max:e.scroll.max,change:t}),N_e=(e,t)=>{if(!d4(e,t))return null;const r=e.scroll.max,n=e.scroll.current;return u4({current:n,max:r,change:t})},f4=(e,t)=>{const r=e.frame;return r?SU({current:r.scroll.current,max:r.scroll.max,change:t}):!1},S_e=(e,t)=>{const r=e.frame;return!r||!f4(e,t)?null:u4({current:r.scroll.current,max:r.scroll.max,change:t})};var k_e=({viewport:e,subject:t,center:r,dragStartTime:n,shouldUseTimeDampening:a,getAutoScrollerOptions:i})=>{const l=NU({dragStartTime:n,container:e.frame,subject:t,center:r,shouldUseTimeDampening:a,getAutoScrollerOptions:i});return l&&d4(e,l)?l:null},__e=({droppable:e,subject:t,center:r,dragStartTime:n,shouldUseTimeDampening:a,getAutoScrollerOptions:i})=>{const l=e.frame;if(!l)return null;const c=NU({dragStartTime:n,container:l.pageMarginBox,subject:t,center:r,shouldUseTimeDampening:a,getAutoScrollerOptions:i});return c&&f4(e,c)?c:null},GP=({state:e,dragStartTime:t,shouldUseTimeDampening:r,scrollWindow:n,scrollDroppable:a,getAutoScrollerOptions:i})=>{const l=e.current.page.borderBoxCenter,d=e.dimensions.draggables[e.critical.draggable.id].page.marginBox;if(e.isWindowScrollAllowed){const p=e.viewport,g=k_e({dragStartTime:t,viewport:p,subject:d,center:l,shouldUseTimeDampening:r,getAutoScrollerOptions:i});if(g){n(g);return}}const f=g_e({center:l,destination:as(e.impact),droppables:e.dimensions.droppables});if(!f)return;const h=__e({dragStartTime:t,droppable:f,subject:d,center:l,shouldUseTimeDampening:r,getAutoScrollerOptions:i});h&&a(f.descriptor.id,h)},E_e=({scrollWindow:e,scrollDroppable:t,getAutoScrollerOptions:r=()=>Vh})=>{const n=Bh(e),a=Bh(t);let i=null;const l=f=>{i||We();const{shouldUseTimeDampening:h,dragStartTime:p}=i;GP({state:f,scrollWindow:n,scrollDroppable:a,dragStartTime:p,shouldUseTimeDampening:h,getAutoScrollerOptions:r})};return{start:f=>{i&&We();const h=Date.now();let p=!1;const g=()=>{p=!0};GP({state:f,dragStartTime:0,shouldUseTimeDampening:!1,scrollWindow:g,scrollDroppable:g,getAutoScrollerOptions:r}),i={dragStartTime:h,shouldUseTimeDampening:p},p&&l(f)},stop:()=>{i&&(n.cancel(),a.cancel(),i=null)},scroll:l}},A_e=({move:e,scrollDroppable:t,scrollWindow:r})=>{const n=(c,d)=>{const f=Wn(c.current.client.selection,d);e({client:f})},a=(c,d)=>{if(!f4(c,d))return d;const f=S_e(c,d);if(!f)return t(c.descriptor.id,d),null;const h=rs(d,f);return t(c.descriptor.id,h),rs(d,h)},i=(c,d,f)=>{if(!c||!d4(d,f))return f;const h=N_e(d,f);if(!h)return r(f),null;const p=rs(f,h);return r(p),rs(f,p)};return c=>{const d=c.scrollJumpRequest;if(!d)return;const f=as(c.impact);f||We();const h=a(c.dimensions.droppables[f],d);if(!h)return;const p=c.viewport,g=i(c.isWindowScrollAllowed,p,h);g&&n(c,g)}},T_e=({scrollDroppable:e,scrollWindow:t,move:r,getAutoScrollerOptions:n})=>{const a=E_e({scrollWindow:t,scrollDroppable:e,getAutoScrollerOptions:n}),i=A_e({move:r,scrollWindow:t,scrollDroppable:e});return{scroll:d=>{if(!(n().disabled||d.phase!=="DRAGGING")){if(d.movementMode==="FLUID"){a.scroll(d);return}d.scrollJumpRequest&&i(d)}},start:a.start,stop:a.stop}};const Bd="data-rfd",$d=(()=>{const e=`${Bd}-drag-handle`;return{base:e,draggableId:`${e}-draggable-id`,contextId:`${e}-context-id`}})(),_N=(()=>{const e=`${Bd}-draggable`;return{base:e,contextId:`${e}-context-id`,id:`${e}-id`}})(),C_e=(()=>{const e=`${Bd}-droppable`;return{base:e,contextId:`${e}-context-id`,id:`${e}-id`}})(),KP={contextId:`${Bd}-scroll-container-context-id`},O_e=e=>t=>`[${t}="${e}"]`,_0=(e,t)=>e.map(r=>{const n=r.styles[t];return n?`${r.selector} { ${n} }`:""}).join(" "),D_e="pointer-events: none;";var P_e=e=>{const t=O_e(e),r=(()=>{const c=`
      cursor: -webkit-grab;
      cursor: grab;
    `;return{selector:t($d.contextId),styles:{always:`
          -webkit-touch-callout: none;
          -webkit-tap-highlight-color: rgba(0,0,0,0);
          touch-action: manipulation;
        `,resting:c,dragging:D_e,dropAnimating:c}}})(),n=(()=>{const c=`
      transition: ${sh.outOfTheWay};
    `;return{selector:t(_N.contextId),styles:{dragging:c,dropAnimating:c,userCancel:c}}})(),a={selector:t(C_e.contextId),styles:{always:"overflow-anchor: none;"}},l=[n,r,a,{selector:"body",styles:{dragging:`
        cursor: grabbing;
        cursor: -webkit-grabbing;
        user-select: none;
        -webkit-user-select: none;
        -moz-user-select: none;
        -ms-user-select: none;
        overflow-anchor: none;
      `}}];return{always:_0(l,"always"),resting:_0(l,"resting"),dragging:_0(l,"dragging"),dropAnimating:_0(l,"dropAnimating"),userCancel:_0(l,"userCancel")}};const ss=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u"?v.useLayoutEffect:v.useEffect,_2=()=>{const e=document.querySelector("head");return e||We(),e},YP=e=>{const t=document.createElement("style");return e&&t.setAttribute("nonce",e),t.type="text/css",t};function M_e(e,t){const r=Ot(()=>P_e(e),[e]),n=v.useRef(null),a=v.useRef(null),i=lt(An(p=>{const g=a.current;g||We(),g.textContent=p}),[]),l=lt(p=>{const g=n.current;g||We(),g.textContent=p},[]);ss(()=>{!n.current&&!a.current||We();const p=YP(t),g=YP(t);return n.current=p,a.current=g,p.setAttribute(`${Bd}-always`,e),g.setAttribute(`${Bd}-dynamic`,e),_2().appendChild(p),_2().appendChild(g),l(r.always),i(r.resting),()=>{const y=b=>{const w=b.current;w||We(),_2().removeChild(w),b.current=null};y(n),y(a)}},[t,l,i,r.always,r.resting,e]);const c=lt(()=>i(r.dragging),[i,r.dragging]),d=lt(p=>{if(p==="DROP"){i(r.dropAnimating);return}i(r.userCancel)},[i,r.dropAnimating,r.userCancel]),f=lt(()=>{a.current&&i(r.resting)},[i,r.resting]);return Ot(()=>({dragging:c,dropping:d,resting:f}),[c,d,f])}function kU(e,t){return Array.from(e.querySelectorAll(t))}var _U=e=>e&&e.ownerDocument&&e.ownerDocument.defaultView?e.ownerDocument.defaultView:window;function ev(e){return e instanceof _U(e).HTMLElement}function R_e(e,t){const r=`[${$d.contextId}="${e}"]`,n=kU(document,r);if(!n.length)return null;const a=n.find(i=>i.getAttribute($d.draggableId)===t);return!a||!ev(a)?null:a}function I_e(e){const t=v.useRef({}),r=v.useRef(null),n=v.useRef(null),a=v.useRef(!1),i=lt(function(g,y){const b={id:g,focus:y};return t.current[g]=b,function(){const j=t.current;j[g]!==b&&delete j[g]}},[]),l=lt(function(g){const y=R_e(e,g);y&&y!==document.activeElement&&y.focus()},[e]),c=lt(function(g,y){r.current===g&&(r.current=y)},[]),d=lt(function(){n.current||a.current&&(n.current=requestAnimationFrame(()=>{n.current=null;const g=r.current;g&&l(g)}))},[l]),f=lt(function(g){r.current=null;const y=document.activeElement;y&&y.getAttribute($d.draggableId)===g&&(r.current=g)},[]);return ss(()=>(a.current=!0,function(){a.current=!1;const g=n.current;g&&cancelAnimationFrame(g)}),[]),Ot(()=>({register:i,tryRecordFocus:f,tryRestoreFocusRecorded:d,tryShiftRecord:c}),[i,f,d,c])}function F_e(){const e={draggables:{},droppables:{}},t=[];function r(p){return t.push(p),function(){const y=t.indexOf(p);y!==-1&&t.splice(y,1)}}function n(p){t.length&&t.forEach(g=>g(p))}function a(p){return e.draggables[p]||null}function i(p){const g=a(p);return g||We(),g}const l={register:p=>{e.draggables[p.descriptor.id]=p,n({type:"ADDITION",value:p})},update:(p,g)=>{const y=e.draggables[g.descriptor.id];y&&y.uniqueId===p.uniqueId&&(delete e.draggables[g.descriptor.id],e.draggables[p.descriptor.id]=p)},unregister:p=>{const g=p.descriptor.id,y=a(g);y&&p.uniqueId===y.uniqueId&&(delete e.draggables[g],e.droppables[p.descriptor.droppableId]&&n({type:"REMOVAL",value:p}))},getById:i,findById:a,exists:p=>!!a(p),getAllByType:p=>Object.values(e.draggables).filter(g=>g.descriptor.type===p)};function c(p){return e.droppables[p]||null}function d(p){const g=c(p);return g||We(),g}const f={register:p=>{e.droppables[p.descriptor.id]=p},unregister:p=>{const g=c(p.descriptor.id);g&&p.uniqueId===g.uniqueId&&delete e.droppables[p.descriptor.id]},getById:d,findById:c,exists:p=>!!c(p),getAllByType:p=>Object.values(e.droppables).filter(g=>g.descriptor.type===p)};function h(){e.draggables={},e.droppables={},t.length=0}return{draggable:l,droppable:f,subscribe:r,clean:h}}function L_e(){const e=Ot(F_e,[]);return v.useEffect(()=>function(){e.clean()},[e]),e}var h4=Qe.createContext(null),Ux=()=>{const e=document.body;return e||We(),e};const B_e={position:"absolute",width:"1px",height:"1px",margin:"-1px",border:"0",padding:"0",overflow:"hidden",clip:"rect(0 0 0 0)","clip-path":"inset(100%)"},$_e=e=>`rfd-announcement-${e}`;function U_e(e){const t=Ot(()=>$_e(e),[e]),r=v.useRef(null);return v.useEffect(function(){const i=document.createElement("div");return r.current=i,i.id=t,i.setAttribute("aria-live","assertive"),i.setAttribute("aria-atomic","true"),Fx(i.style,B_e),Ux().appendChild(i),function(){setTimeout(function(){const d=Ux();d.contains(i)&&d.removeChild(i),i===r.current&&(r.current=null)})}},[t]),lt(a=>{const i=r.current;if(i){i.textContent=a;return}},[])}const z_e={separator:"::"};function m4(e,t=z_e){const r=Qe.useId();return Ot(()=>`${e}${t.separator}${r}`,[t.separator,e,r])}function H_e({contextId:e,uniqueId:t}){return`rfd-hidden-text-${e}-${t}`}function V_e({contextId:e,text:t}){const r=m4("hidden-text",{separator:"-"}),n=Ot(()=>H_e({contextId:e,uniqueId:r}),[r,e]);return v.useEffect(function(){const i=document.createElement("div");return i.id=n,i.textContent=t,i.style.display="none",Ux().appendChild(i),function(){const c=Ux();c.contains(i)&&c.removeChild(i)}},[n,t]),n}var tv=Qe.createContext(null);function EU(e){const t=v.useRef(e);return v.useEffect(()=>{t.current=e}),t}function q_e(){let e=null;function t(){return!!e}function r(l){return l===e}function n(l){e&&We();const c={abandon:l};return e=c,c}function a(){e||We(),e=null}function i(){e&&(e.abandon(),a())}return{isClaimed:t,isActive:r,claim:n,release:a,tryAbandon:i}}function qh(e){return e.phase==="IDLE"||e.phase==="DROP_ANIMATING"?!1:e.isDragging}const W_e=9,G_e=13,p4=27,AU=32,K_e=33,Y_e=34,X_e=35,Q_e=36,Z_e=37,J_e=38,e4e=39,t4e=40,r4e={[G_e]:!0,[W_e]:!0};var TU=e=>{r4e[e.keyCode]&&e.preventDefault()};const rv=(()=>{const e="visibilitychange";return typeof document>"u"?e:[e,`ms${e}`,`webkit${e}`,`moz${e}`,`o${e}`].find(n=>`on${n}`in document)||e})(),CU=0,XP=5;function n4e(e,t){return Math.abs(t.x-e.x)>=XP||Math.abs(t.y-e.y)>=XP}const QP={type:"IDLE"};function a4e({cancel:e,completed:t,getPhase:r,setPhase:n}){return[{eventName:"mousemove",fn:a=>{const{button:i,clientX:l,clientY:c}=a;if(i!==CU)return;const d={x:l,y:c},f=r();if(f.type==="DRAGGING"){a.preventDefault(),f.actions.move(d);return}f.type!=="PENDING"&&We();const h=f.point;if(!n4e(h,d))return;a.preventDefault();const p=f.actions.fluidLift(d);n({type:"DRAGGING",actions:p})}},{eventName:"mouseup",fn:a=>{const i=r();if(i.type!=="DRAGGING"){e();return}a.preventDefault(),i.actions.drop({shouldBlockNextClick:!0}),t()}},{eventName:"mousedown",fn:a=>{r().type==="DRAGGING"&&a.preventDefault(),e()}},{eventName:"keydown",fn:a=>{if(r().type==="PENDING"){e();return}if(a.keyCode===p4){a.preventDefault(),e();return}TU(a)}},{eventName:"resize",fn:e},{eventName:"scroll",options:{passive:!0,capture:!1},fn:()=>{r().type==="PENDING"&&e()}},{eventName:"webkitmouseforcedown",fn:a=>{const i=r();if(i.type==="IDLE"&&We(),i.actions.shouldRespectForcePress()){e();return}a.preventDefault()}},{eventName:rv,fn:e}]}function s4e(e){const t=v.useRef(QP),r=v.useRef(_o),n=Ot(()=>({eventName:"mousedown",fn:function(p){if(p.defaultPrevented||p.button!==CU||p.ctrlKey||p.metaKey||p.shiftKey||p.altKey)return;const g=e.findClosestDraggableId(p);if(!g)return;const y=e.tryGetLock(g,l,{sourceEvent:p});if(!y)return;p.preventDefault();const b={x:p.clientX,y:p.clientY};r.current(),f(y,b)}}),[e]),a=Ot(()=>({eventName:"webkitmouseforcewillbegin",fn:h=>{if(h.defaultPrevented)return;const p=e.findClosestDraggableId(h);if(!p)return;const g=e.findOptionsForDraggable(p);g&&(g.shouldRespectForcePress||e.canGetLock(p)&&h.preventDefault())}}),[e]),i=lt(function(){const p={passive:!1,capture:!0};r.current=Bs(window,[a,n],p)},[a,n]),l=lt(()=>{t.current.type!=="IDLE"&&(t.current=QP,r.current(),i())},[i]),c=lt(()=>{const h=t.current;l(),h.type==="DRAGGING"&&h.actions.cancel({shouldBlockNextClick:!0}),h.type==="PENDING"&&h.actions.abort()},[l]),d=lt(function(){const p={capture:!0,passive:!1},g=a4e({cancel:c,completed:l,getPhase:()=>t.current,setPhase:y=>{t.current=y}});r.current=Bs(window,g,p)},[c,l]),f=lt(function(p,g){t.current.type!=="IDLE"&&We(),t.current={type:"PENDING",point:g,actions:p},d()},[d]);ss(function(){return i(),function(){r.current()}},[i])}function i4e(){}const l4e={[Y_e]:!0,[K_e]:!0,[Q_e]:!0,[X_e]:!0};function o4e(e,t){function r(){t(),e.cancel()}function n(){t(),e.drop()}return[{eventName:"keydown",fn:a=>{if(a.keyCode===p4){a.preventDefault(),r();return}if(a.keyCode===AU){a.preventDefault(),n();return}if(a.keyCode===t4e){a.preventDefault(),e.moveDown();return}if(a.keyCode===J_e){a.preventDefault(),e.moveUp();return}if(a.keyCode===e4e){a.preventDefault(),e.moveRight();return}if(a.keyCode===Z_e){a.preventDefault(),e.moveLeft();return}if(l4e[a.keyCode]){a.preventDefault();return}TU(a)}},{eventName:"mousedown",fn:r},{eventName:"mouseup",fn:r},{eventName:"click",fn:r},{eventName:"touchstart",fn:r},{eventName:"resize",fn:r},{eventName:"wheel",fn:r,options:{passive:!0}},{eventName:rv,fn:r}]}function c4e(e){const t=v.useRef(i4e),r=Ot(()=>({eventName:"keydown",fn:function(i){if(i.defaultPrevented||i.keyCode!==AU)return;const l=e.findClosestDraggableId(i);if(!l)return;const c=e.tryGetLock(l,h,{sourceEvent:i});if(!c)return;i.preventDefault();let d=!0;const f=c.snapLift();t.current();function h(){d||We(),d=!1,t.current(),n()}t.current=Bs(window,o4e(f,h),{capture:!0,passive:!1})}}),[e]),n=lt(function(){const i={passive:!1,capture:!0};t.current=Bs(window,[r],i)},[r]);ss(function(){return n(),function(){t.current()}},[n])}const E2={type:"IDLE"},u4e=120,d4e=.15;function f4e({cancel:e,getPhase:t}){return[{eventName:"orientationchange",fn:e},{eventName:"resize",fn:e},{eventName:"contextmenu",fn:r=>{r.preventDefault()}},{eventName:"keydown",fn:r=>{if(t().type!=="DRAGGING"){e();return}r.keyCode===p4&&r.preventDefault(),e()}},{eventName:rv,fn:e}]}function h4e({cancel:e,completed:t,getPhase:r}){return[{eventName:"touchmove",options:{capture:!1},fn:n=>{const a=r();if(a.type!=="DRAGGING"){e();return}a.hasMoved=!0;const{clientX:i,clientY:l}=n.touches[0],c={x:i,y:l};n.preventDefault(),a.actions.move(c)}},{eventName:"touchend",fn:n=>{const a=r();if(a.type!=="DRAGGING"){e();return}n.preventDefault(),a.actions.drop({shouldBlockNextClick:!0}),t()}},{eventName:"touchcancel",fn:n=>{if(r().type!=="DRAGGING"){e();return}n.preventDefault(),e()}},{eventName:"touchforcechange",fn:n=>{const a=r();a.type==="IDLE"&&We();const i=n.touches[0];if(!i||!(i.force>=d4e))return;const c=a.actions.shouldRespectForcePress();if(a.type==="PENDING"){c&&e();return}if(c){if(a.hasMoved){n.preventDefault();return}e();return}n.preventDefault()}},{eventName:rv,fn:e}]}function m4e(e){const t=v.useRef(E2),r=v.useRef(_o),n=lt(function(){return t.current},[]),a=lt(function(y){t.current=y},[]),i=Ot(()=>({eventName:"touchstart",fn:function(y){if(y.defaultPrevented)return;const b=e.findClosestDraggableId(y);if(!b)return;const w=e.tryGetLock(b,c,{sourceEvent:y});if(!w)return;const j=y.touches[0],{clientX:S,clientY:_}=j,E={x:S,y:_};r.current(),p(w,E)}}),[e]),l=lt(function(){const y={capture:!0,passive:!1};r.current=Bs(window,[i],y)},[i]),c=lt(()=>{const g=t.current;g.type!=="IDLE"&&(g.type==="PENDING"&&clearTimeout(g.longPressTimerId),a(E2),r.current(),l())},[l,a]),d=lt(()=>{const g=t.current;c(),g.type==="DRAGGING"&&g.actions.cancel({shouldBlockNextClick:!0}),g.type==="PENDING"&&g.actions.abort()},[c]),f=lt(function(){const y={capture:!0,passive:!1},b={cancel:d,completed:c,getPhase:n},w=Bs(window,h4e(b),y),j=Bs(window,f4e(b),y);r.current=function(){w(),j()}},[d,n,c]),h=lt(function(){const y=n();y.type!=="PENDING"&&We();const b=y.actions.fluidLift(y.point);a({type:"DRAGGING",actions:b,hasMoved:!1})},[n,a]),p=lt(function(y,b){n().type!=="IDLE"&&We();const w=setTimeout(h,u4e);a({type:"PENDING",point:b,actions:y,longPressTimerId:w}),f()},[f,n,a,h]);ss(function(){return l(),function(){r.current();const b=n();b.type==="PENDING"&&(clearTimeout(b.longPressTimerId),a(E2))}},[n,l,a]),ss(function(){return Bs(window,[{eventName:"touchmove",fn:()=>{},options:{capture:!1,passive:!1}}])},[])}const p4e=["input","button","textarea","select","option","optgroup","video","audio"];function OU(e,t){if(t==null)return!1;if(p4e.includes(t.tagName.toLowerCase()))return!0;const n=t.getAttribute("contenteditable");return n==="true"||n===""?!0:t===e?!1:OU(e,t.parentElement)}function g4e(e,t){const r=t.target;return ev(r)?OU(e,r):!1}var x4e=e=>ci(e.getBoundingClientRect()).center;function y4e(e){return e instanceof _U(e).Element}const v4e=(()=>{const e="matches";return typeof document>"u"?e:[e,"msMatchesSelector","webkitMatchesSelector"].find(n=>n in Element.prototype)||e})();function DU(e,t){return e==null?null:e[v4e](t)?e:DU(e.parentElement,t)}function b4e(e,t){return e.closest?e.closest(t):DU(e,t)}function w4e(e){return`[${$d.contextId}="${e}"]`}function j4e(e,t){const r=t.target;if(!y4e(r))return null;const n=w4e(e),a=b4e(r,n);return!a||!ev(a)?null:a}function N4e(e,t){const r=j4e(e,t);return r?r.getAttribute($d.draggableId):null}function S4e(e,t){const r=`[${_N.contextId}="${e}"]`,a=kU(document,r).find(i=>i.getAttribute(_N.id)===t);return!a||!ev(a)?null:a}function k4e(e){e.preventDefault()}function ug({expected:e,phase:t,isLockActive:r,shouldWarn:n}){return!(!r()||e!==t)}function PU({lockAPI:e,store:t,registry:r,draggableId:n}){if(e.isClaimed())return!1;const a=r.draggable.findById(n);return!(!a||!a.options.isEnabled||!wU(t.getState(),n))}function _4e({lockAPI:e,contextId:t,store:r,registry:n,draggableId:a,forceSensorStop:i,sourceEvent:l}){if(!PU({lockAPI:e,store:r,registry:n,draggableId:a}))return null;const d=n.draggable.getById(a),f=S4e(t,d.descriptor.id);if(!f||l&&!d.options.canDragInteractiveElements&&g4e(f,l))return null;const h=e.claim(i||_o);let p="PRE_DRAG";function g(){return d.options.shouldRespectForcePress}function y(){return e.isActive(h)}function b(A,C){ug({expected:A,phase:p,isLockActive:y,shouldWarn:!0})&&r.dispatch(C())}const w=b.bind(null,"DRAGGING");function j(A){function C(){e.release(),p="COMPLETED"}p!=="PRE_DRAG"&&(C(),We()),r.dispatch(bke(A.liftActionArgs)),p="DRAGGING";function O(P,F={shouldBlockNextClick:!1}){if(A.cleanup(),F.shouldBlockNextClick){const G=Bs(window,[{eventName:"click",fn:k4e,options:{once:!0,passive:!1,capture:!0}}]);setTimeout(G)}C(),r.dispatch(hU({reason:P}))}return{isActive:()=>ug({expected:"DRAGGING",phase:p,isLockActive:y,shouldWarn:!1}),shouldRespectForcePress:g,drop:P=>O("DROP",P),cancel:P=>O("CANCEL",P),...A.actions}}function S(A){const C=Bh(P=>{w(()=>fU({client:P}))});return{...j({liftActionArgs:{id:a,clientSelection:A,movementMode:"FLUID"},cleanup:()=>C.cancel(),actions:{move:C}}),move:C}}function _(){const A={moveUp:()=>w(Tke),moveRight:()=>w(Oke),moveDown:()=>w(Cke),moveLeft:()=>w(Dke)};return j({liftActionArgs:{id:a,clientSelection:x4e(f),movementMode:"SNAP"},cleanup:_o,actions:A})}function E(){ug({expected:"PRE_DRAG",phase:p,isLockActive:y,shouldWarn:!0})&&e.release()}return{isActive:()=>ug({expected:"PRE_DRAG",phase:p,isLockActive:y,shouldWarn:!1}),shouldRespectForcePress:g,fluidLift:S,snapLift:_,abort:E}}const E4e=[s4e,c4e,m4e];function A4e({contextId:e,store:t,registry:r,customSensors:n,enableDefaultSensors:a}){const i=[...a?E4e:[],...n||[]],l=v.useState(()=>q_e())[0],c=lt(function(j,S){qh(j)&&!qh(S)&&l.tryAbandon()},[l]);ss(function(){let j=t.getState();return t.subscribe(()=>{const _=t.getState();c(j,_),j=_})},[l,t,c]),ss(()=>l.tryAbandon,[l.tryAbandon]);const d=lt(w=>PU({lockAPI:l,registry:r,store:t,draggableId:w}),[l,r,t]),f=lt((w,j,S)=>_4e({lockAPI:l,registry:r,contextId:e,store:t,draggableId:w,forceSensorStop:j||null,sourceEvent:S&&S.sourceEvent?S.sourceEvent:null}),[e,l,r,t]),h=lt(w=>N4e(e,w),[e]),p=lt(w=>{const j=r.draggable.findById(w);return j?j.options:null},[r.draggable]),g=lt(function(){l.isClaimed()&&(l.tryAbandon(),t.getState().phase!=="IDLE"&&t.dispatch(i4()))},[l,t]),y=lt(()=>l.isClaimed(),[l]),b=Ot(()=>({canGetLock:d,tryGetLock:f,findClosestDraggableId:h,findOptionsForDraggable:p,tryReleaseLock:g,isLockClaimed:y}),[d,f,h,p,g,y]);for(let w=0;w<i.length;w++)i[w](b)}const T4e=e=>({onBeforeCapture:t=>{const r=()=>{e.onBeforeCapture&&e.onBeforeCapture(t)};qd.flushSync(r)},onBeforeDragStart:e.onBeforeDragStart,onDragStart:e.onDragStart,onDragEnd:e.onDragEnd,onDragUpdate:e.onDragUpdate}),C4e=e=>({...Vh,...e.autoScrollerOptions,durationDampening:{...Vh.durationDampening,...e.autoScrollerOptions}});function E0(e){return e.current||We(),e.current}function O4e(e){const{contextId:t,setCallbacks:r,sensors:n,nonce:a,dragHandleUsageInstructions:i}=e,l=v.useRef(null),c=EU(e),d=lt(()=>T4e(c.current),[c]),f=lt(()=>C4e(c.current),[c]),h=U_e(t),p=V_e({contextId:t,text:i}),g=M_e(t,a),y=lt(G=>{E0(l).dispatch(G)},[]),b=Ot(()=>PO({publishWhileDragging:jke,updateDroppableScroll:Ske,updateDroppableIsEnabled:kke,updateDroppableIsCombineEnabled:_ke,collectionStarting:Nke},y),[y]),w=L_e(),j=Ot(()=>f_e(w,b),[w,b]),S=Ot(()=>T_e({scrollWindow:h_e,scrollDroppable:j.scrollDroppable,getAutoScrollerOptions:f,...PO({move:fU},y)}),[j.scrollDroppable,y,f]),_=I_e(t),E=Ot(()=>o_e({announce:h,autoScroller:S,dimensionMarshal:j,focusMarshal:_,getResponders:d,styleMarshal:g}),[h,S,j,_,d,g]);l.current=E;const T=lt(()=>{const G=E0(l);G.getState().phase!=="IDLE"&&G.dispatch(i4())},[]),A=lt(()=>{const G=E0(l).getState();return G.phase==="DROP_ANIMATING"?!0:G.phase==="IDLE"?!1:G.isDragging},[]),C=Ot(()=>({isDragging:A,tryAbort:T}),[A,T]);r(C);const O=lt(G=>wU(E0(l).getState(),G),[]),P=lt(()=>Sc(E0(l).getState()),[]),F=Ot(()=>({marshal:j,focus:_,contextId:t,canLift:O,isMovementAllowed:P,dragHandleUsageInstructionsId:p,registry:w}),[t,j,p,_,O,P,w]);return A4e({contextId:t,store:E,registry:w,customSensors:n||null,enableDefaultSensors:e.enableDefaultSensors!==!1}),v.useEffect(()=>T,[T]),Qe.createElement(tv.Provider,{value:F},Qe.createElement(f9,{context:h4,store:E},e.children))}function D4e(){return Qe.useId()}function P4e(e){const t=D4e(),r=e.dragHandleUsageInstructions||jg.dragHandleUsageInstructions;return Qe.createElement(cSe,null,n=>Qe.createElement(O4e,{nonce:e.nonce,contextId:t,setCallbacks:n,dragHandleUsageInstructions:r,enableDefaultSensors:e.enableDefaultSensors,sensors:e.sensors,onBeforeCapture:e.onBeforeCapture,onBeforeDragStart:e.onBeforeDragStart,onDragStart:e.onDragStart,onDragUpdate:e.onDragUpdate,onDragEnd:e.onDragEnd,autoScrollerOptions:e.autoScrollerOptions},e.children))}const ZP={dragging:5e3,dropAnimating:4500},M4e=(e,t)=>t?sh.drop(t.duration):e?sh.snap:sh.fluid,R4e=(e,t)=>{if(e)return t?Hh.opacity.drop:Hh.opacity.combining},I4e=e=>e.forceShouldAnimate!=null?e.forceShouldAnimate:e.mode==="SNAP";function F4e(e){const r=e.dimension.client,{offset:n,combineWith:a,dropping:i}=e,l=!!a,c=I4e(e),d=!!i,f=d?SN.drop(n,l):SN.moveTo(n);return{position:"fixed",top:r.marginBox.top,left:r.marginBox.left,boxSizing:"border-box",width:r.borderBox.width,height:r.borderBox.height,transition:M4e(c,i),transform:f,opacity:R4e(l,d),zIndex:d?ZP.dropAnimating:ZP.dragging,pointerEvents:"none"}}function L4e(e){return{transform:SN.moveTo(e.offset),transition:e.shouldAnimateDisplacement?void 0:"none"}}function B4e(e){return e.type==="DRAGGING"?F4e(e):L4e(e)}function $4e(e,t,r=Cn){const n=window.getComputedStyle(t),a=t.getBoundingClientRect(),i=$$(a,n),l=Ix(i,r),c={client:i,tagName:t.tagName.toLowerCase(),display:n.display},d={x:i.marginBox.width,y:i.marginBox.height};return{descriptor:e,placeholder:c,displaceBy:d,client:i,page:l}}function U4e(e){const t=m4("draggable"),{descriptor:r,registry:n,getDraggableRef:a,canDragInteractiveElements:i,shouldRespectForcePress:l,isEnabled:c}=e,d=Ot(()=>({canDragInteractiveElements:i,shouldRespectForcePress:l,isEnabled:c}),[i,c,l]),f=lt(y=>{const b=a();return b||We(),$4e(r,b,y)},[r,a]),h=Ot(()=>({uniqueId:t,descriptor:r,options:d,getDimension:f}),[r,f,d,t]),p=v.useRef(h),g=v.useRef(!0);ss(()=>(n.draggable.register(p.current),()=>n.draggable.unregister(p.current)),[n.draggable]),ss(()=>{if(g.current){g.current=!1;return}const y=p.current;p.current=h,n.draggable.update(h,y)},[h,n.draggable])}var g4=Qe.createContext(null);function zx(e){const t=v.useContext(e);return t||We(),t}function z4e(e){e.preventDefault()}const H4e=e=>{const t=v.useRef(null),r=lt((C=null)=>{t.current=C},[]),n=lt(()=>t.current,[]),{contextId:a,dragHandleUsageInstructionsId:i,registry:l}=zx(tv),{type:c,droppableId:d}=zx(g4),f=Ot(()=>({id:e.draggableId,index:e.index,type:c,droppableId:d}),[e.draggableId,e.index,c,d]),{children:h,draggableId:p,isEnabled:g,shouldRespectForcePress:y,canDragInteractiveElements:b,isClone:w,mapped:j,dropAnimationFinished:S}=e;if(!w){const C=Ot(()=>({descriptor:f,registry:l,getDraggableRef:n,canDragInteractiveElements:b,shouldRespectForcePress:y,isEnabled:g}),[f,l,n,b,y,g]);U4e(C)}const _=Ot(()=>g?{tabIndex:0,role:"button","aria-describedby":i,"data-rfd-drag-handle-draggable-id":p,"data-rfd-drag-handle-context-id":a,draggable:!1,onDragStart:z4e}:null,[a,i,p,g]),E=lt(C=>{j.type==="DRAGGING"&&j.dropping&&C.propertyName==="transform"&&qd.flushSync(S)},[S,j]),T=Ot(()=>{const C=B4e(j),O=j.type==="DRAGGING"&&j.dropping?E:void 0;return{innerRef:r,draggableProps:{"data-rfd-draggable-context-id":a,"data-rfd-draggable-id":p,style:C,onTransitionEnd:O},dragHandleProps:_}},[a,_,p,j,E,r]),A=Ot(()=>({draggableId:f.id,type:f.type,source:{index:f.index,droppableId:f.droppableId}}),[f.droppableId,f.id,f.index,f.type]);return Qe.createElement(Qe.Fragment,null,h(T,j.snapshot,A))};var MU=(e,t)=>e===t,RU=e=>{const{combine:t,destination:r}=e;return r?r.droppableId:t?t.droppableId:null};const V4e=e=>e.combine?e.combine.draggableId:null,q4e=e=>e.at&&e.at.type==="COMBINE"?e.at.combine.draggableId:null;function W4e(){const e=An((a,i)=>({x:a,y:i})),t=An((a,i,l=null,c=null,d=null)=>({isDragging:!0,isClone:i,isDropAnimating:!!d,dropAnimation:d,mode:a,draggingOver:l,combineWith:c,combineTargetFor:null})),r=An((a,i,l,c,d=null,f=null,h=null)=>({mapped:{type:"DRAGGING",dropping:null,draggingOver:d,combineWith:f,mode:i,offset:a,dimension:l,forceShouldAnimate:h,snapshot:t(i,c,d,f,null)}}));return(a,i)=>{if(qh(a)){if(a.critical.draggable.id!==i.draggableId)return null;const l=a.current.client.offset,c=a.dimensions.draggables[i.draggableId],d=as(a.impact),f=q4e(a.impact),h=a.forceShouldAnimate;return r(e(l.x,l.y),a.movementMode,c,i.isClone,d,f,h)}if(a.phase==="DROP_ANIMATING"){const l=a.completed;if(l.result.draggableId!==i.draggableId)return null;const c=i.isClone,d=a.dimensions.draggables[i.draggableId],f=l.result,h=f.mode,p=RU(f),g=V4e(f),b={duration:a.dropDuration,curve:o4.drop,moveTo:a.newHomeClientOffset,opacity:g?Hh.opacity.drop:null,scale:g?Hh.scale.drop:null};return{mapped:{type:"DRAGGING",offset:a.newHomeClientOffset,dimension:d,dropping:b,draggingOver:p,combineWith:g,mode:h,forceShouldAnimate:null,snapshot:t(h,c,p,g,b)}}}return null}}function IU(e=null){return{isDragging:!1,isDropAnimating:!1,isClone:!1,dropAnimation:null,mode:null,draggingOver:null,combineTargetFor:e,combineWith:null}}const G4e={mapped:{type:"SECONDARY",offset:Cn,combineTargetFor:null,shouldAnimateDisplacement:!0,snapshot:IU(null)}};function K4e(){const e=An((l,c)=>({x:l,y:c})),t=An(IU),r=An((l,c=null,d)=>({mapped:{type:"SECONDARY",offset:l,combineTargetFor:c,shouldAnimateDisplacement:d,snapshot:t(c)}})),n=l=>l?r(Cn,l,!0):null,a=(l,c,d,f)=>{const h=d.displaced.visible[l],p=!!(f.inVirtualList&&f.effected[l]),g=Qy(d),y=g&&g.draggableId===l?c:null;if(!h){if(!p)return n(y);if(d.displaced.invisible[l])return null;const j=df(f.displacedBy.point),S=e(j.x,j.y);return r(S,y,!0)}if(p)return n(y);const b=d.displacedBy.point,w=e(b.x,b.y);return r(w,y,h.shouldAnimate)};return(l,c)=>{if(qh(l))return l.critical.draggable.id===c.draggableId?null:a(c.draggableId,l.critical.draggable.id,l.impact,l.afterCritical);if(l.phase==="DROP_ANIMATING"){const d=l.completed;return d.result.draggableId===c.draggableId?null:a(c.draggableId,d.result.draggableId,d.impact,d.afterCritical)}return null}}const Y4e=()=>{const e=W4e(),t=K4e();return(n,a)=>e(n,a)||t(n,a)||G4e},X4e={dropAnimationFinished:mU},Q4e=d9(Y4e,X4e,null,{context:h4,areStatePropsEqual:MU})(H4e);function FU(e){return zx(g4).isUsingCloneFor===e.draggableId&&!e.isClone?null:Qe.createElement(Q4e,e)}function Z4e(e){const t=typeof e.isDragDisabled=="boolean"?!e.isDragDisabled:!0,r=!!e.disableInteractiveElementBlocking,n=!!e.shouldRespectForcePress;return Qe.createElement(FU,Fx({},e,{isClone:!1,isEnabled:t,canDragInteractiveElements:r,shouldRespectForcePress:n}))}const LU=e=>t=>e===t,J4e=LU("scroll"),eEe=LU("auto"),JP=(e,t)=>t(e.overflowX)||t(e.overflowY),tEe=e=>{const t=window.getComputedStyle(e),r={overflowX:t.overflowX,overflowY:t.overflowY};return JP(r,J4e)||JP(r,eEe)},rEe=()=>!1,BU=e=>e==null?null:e===document.body?rEe()?e:null:e===document.documentElement?null:tEe(e)?e:BU(e.parentElement);var EN=e=>({x:e.scrollLeft,y:e.scrollTop});const $U=e=>e?window.getComputedStyle(e).position==="fixed"?!0:$U(e.parentElement):!1;var nEe=e=>{const t=BU(e),r=$U(e);return{closestScrollable:t,isFixedOnPage:r}},aEe=({descriptor:e,isEnabled:t,isCombineEnabled:r,isFixedOnPage:n,direction:a,client:i,page:l,closest:c})=>{const d=(()=>{if(!c)return null;const{scrollSize:g,client:y}=c,b=yU({scrollHeight:g.scrollHeight,scrollWidth:g.scrollWidth,height:y.paddingBox.height,width:y.paddingBox.width});return{pageMarginBox:c.page.marginBox,frameClient:y,scrollSize:g,shouldClipSubject:c.shouldClipSubject,scroll:{initial:c.scroll,current:c.scroll,max:b,diff:{value:Cn,displacement:Cn}}}})(),f=a==="vertical"?t4:Q$,h=Ld({page:l,withPlaceholder:null,axis:f,frame:d});return{descriptor:e,isCombineEnabled:r,isFixedOnPage:n,axis:f,isEnabled:t,client:i,page:l,frame:d,subject:h}};const sEe=(e,t)=>{const r=U$(e);if(!t||e!==t)return r;const n=r.paddingBox.top-t.scrollTop,a=r.paddingBox.left-t.scrollLeft,i=n+t.scrollHeight,l=a+t.scrollWidth,d=Q_({top:n,right:l,bottom:i,left:a},r.border);return Z_({borderBox:d,margin:r.margin,border:r.border,padding:r.padding})};var iEe=({ref:e,descriptor:t,env:r,windowScroll:n,direction:a,isDropDisabled:i,isCombineEnabled:l,shouldClipSubject:c})=>{const d=r.closestScrollable,f=sEe(e,d),h=Ix(f,n),p=(()=>{if(!d)return null;const y=U$(d),b={scrollHeight:d.scrollHeight,scrollWidth:d.scrollWidth};return{client:y,page:Ix(y,n),scroll:EN(d),scrollSize:b,shouldClipSubject:c}})();return aEe({descriptor:t,isEnabled:!i,isCombineEnabled:l,isFixedOnPage:r.isFixedOnPage,direction:a,client:f,page:h,closest:p})};const lEe={passive:!1},oEe={passive:!0};var eM=e=>e.shouldPublishImmediately?lEe:oEe;const dg=e=>e&&e.env.closestScrollable||null;function cEe(e){const t=v.useRef(null),r=zx(tv),n=m4("droppable"),{registry:a,marshal:i}=r,l=EU(e),c=Ot(()=>({id:e.droppableId,type:e.type,mode:e.mode}),[e.droppableId,e.mode,e.type]),d=v.useRef(c),f=Ot(()=>An((T,A)=>{t.current||We();const C={x:T,y:A};i.updateDroppableScroll(c.id,C)}),[c.id,i]),h=lt(()=>{const T=t.current;return!T||!T.env.closestScrollable?Cn:EN(T.env.closestScrollable)},[]),p=lt(()=>{const T=h();f(T.x,T.y)},[h,f]),g=Ot(()=>Bh(p),[p]),y=lt(()=>{const T=t.current,A=dg(T);if(T&&A||We(),T.scrollOptions.shouldPublishImmediately){p();return}g()},[g,p]),b=lt((T,A)=>{t.current&&We();const C=l.current,O=C.getDroppableRef();O||We();const P=nEe(O),F={ref:O,descriptor:c,env:P,scrollOptions:A};t.current=F;const G=iEe({ref:O,descriptor:c,env:P,windowScroll:T,direction:C.direction,isDropDisabled:C.isDropDisabled,isCombineEnabled:C.isCombineEnabled,shouldClipSubject:!C.ignoreContainerClipping}),W=P.closestScrollable;return W&&(W.setAttribute(KP.contextId,r.contextId),W.addEventListener("scroll",y,eM(F.scrollOptions))),G},[r.contextId,c,y,l]),w=lt(()=>{const T=t.current,A=dg(T);return T&&A||We(),EN(A)},[]),j=lt(()=>{const T=t.current;T||We();const A=dg(T);t.current=null,A&&(g.cancel(),A.removeAttribute(KP.contextId),A.removeEventListener("scroll",y,eM(T.scrollOptions)))},[y,g]),S=lt(T=>{const A=t.current;A||We();const C=dg(A);C||We(),C.scrollTop+=T.y,C.scrollLeft+=T.x},[]),_=Ot(()=>({getDimensionAndWatchScroll:b,getScrollWhileDragging:w,dragStopped:j,scroll:S}),[j,b,w,S]),E=Ot(()=>({uniqueId:n,descriptor:c,callbacks:_}),[_,c,n]);ss(()=>(d.current=E.descriptor,a.droppable.register(E),()=>{t.current&&j(),a.droppable.unregister(E)}),[_,c,j,E,i,a.droppable]),ss(()=>{t.current&&i.updateDroppableIsEnabled(d.current.id,!e.isDropDisabled)},[e.isDropDisabled,i]),ss(()=>{t.current&&i.updateDroppableIsCombineEnabled(d.current.id,e.isCombineEnabled)},[e.isCombineEnabled,i])}function A2(){}const tM={width:0,height:0,margin:gSe},uEe=({isAnimatingOpenOnMount:e,placeholder:t,animate:r})=>e||r==="close"?tM:{height:t.client.borderBox.height,width:t.client.borderBox.width,margin:t.client.margin},dEe=({isAnimatingOpenOnMount:e,placeholder:t,animate:r})=>{const n=uEe({isAnimatingOpenOnMount:e,placeholder:t,animate:r});return{display:t.display,boxSizing:"border-box",width:n.width,height:n.height,marginTop:n.margin.top,marginRight:n.margin.right,marginBottom:n.margin.bottom,marginLeft:n.margin.left,flexShrink:"0",flexGrow:"0",pointerEvents:"none",transition:r!=="none"?sh.placeholder:null}},fEe=e=>{const t=v.useRef(null),r=lt(()=>{t.current&&(clearTimeout(t.current),t.current=null)},[]),{animate:n,onTransitionEnd:a,onClose:i,contextId:l}=e,[c,d]=v.useState(e.animate==="open");v.useEffect(()=>c?n!=="open"?(r(),d(!1),A2):t.current?A2:(t.current=setTimeout(()=>{t.current=null,d(!1)}),r):A2,[n,c,r]);const f=lt(p=>{p.propertyName==="height"&&(a(),n==="close"&&i())},[n,i,a]),h=dEe({isAnimatingOpenOnMount:c,animate:e.animate,placeholder:e.placeholder});return Qe.createElement(e.placeholder.tagName,{style:h,"data-rfd-placeholder-context-id":l,onTransitionEnd:f,ref:e.innerRef})};var hEe=Qe.memo(fEe);class mEe extends Qe.PureComponent{constructor(...t){super(...t),this.state={isVisible:!!this.props.on,data:this.props.on,animate:this.props.shouldAnimate&&this.props.on?"open":"none"},this.onClose=()=>{this.state.animate==="close"&&this.setState({isVisible:!1})}}static getDerivedStateFromProps(t,r){return t.shouldAnimate?t.on?{isVisible:!0,data:t.on,animate:"open"}:r.isVisible?{isVisible:!0,data:r.data,animate:"close"}:{isVisible:!1,animate:"close",data:null}:{isVisible:!!t.on,data:t.on,animate:"none"}}render(){if(!this.state.isVisible)return null;const t={onClose:this.onClose,data:this.state.data,animate:this.state.animate};return this.props.children(t)}}const pEe=e=>{const t=v.useContext(tv);t||We();const{contextId:r,isMovementAllowed:n}=t,a=v.useRef(null),i=v.useRef(null),{children:l,droppableId:c,type:d,mode:f,direction:h,ignoreContainerClipping:p,isDropDisabled:g,isCombineEnabled:y,snapshot:b,useClone:w,updateViewportMaxScroll:j,getContainerForClone:S}=e,_=lt(()=>a.current,[]),E=lt((W=null)=>{a.current=W},[]);lt(()=>i.current,[]);const T=lt((W=null)=>{i.current=W},[]),A=lt(()=>{n()&&j({maxScroll:bU()})},[n,j]);cEe({droppableId:c,type:d,mode:f,direction:h,isDropDisabled:g,isCombineEnabled:y,ignoreContainerClipping:p,getDroppableRef:_});const C=Ot(()=>Qe.createElement(mEe,{on:e.placeholder,shouldAnimate:e.shouldAnimatePlaceholder},({onClose:W,data:ee,animate:ue})=>Qe.createElement(hEe,{placeholder:ee,onClose:W,innerRef:T,animate:ue,contextId:r,onTransitionEnd:A})),[r,A,e.placeholder,e.shouldAnimatePlaceholder,T]),O=Ot(()=>({innerRef:E,placeholder:C,droppableProps:{"data-rfd-droppable-id":c,"data-rfd-droppable-context-id":r}}),[r,c,C,E]),P=w?w.dragging.draggableId:null,F=Ot(()=>({droppableId:c,type:d,isUsingCloneFor:P}),[c,P,d]);function G(){if(!w)return null;const{dragging:W,render:ee}=w,ue=Qe.createElement(FU,{draggableId:W.draggableId,index:W.source.index,isClone:!0,isEnabled:!0,shouldRespectForcePress:!1,canDragInteractiveElements:!0},(fe,Q)=>ee(fe,Q,W));return aW.createPortal(ue,S())}return Qe.createElement(g4.Provider,{value:F},l(O,b),G())};function gEe(){return document.body||We(),document.body}const rM={mode:"standard",type:"DEFAULT",direction:"vertical",isDropDisabled:!1,isCombineEnabled:!1,ignoreContainerClipping:!1,renderClone:null,getContainerForClone:gEe},UU=e=>{let t={...e},r;for(r in rM)e[r]===void 0&&(t={...t,[r]:rM[r]});return t},T2=(e,t)=>e===t.droppable.type,nM=(e,t)=>t.draggables[e.draggable.id],xEe=()=>{const e={placeholder:null,shouldAnimatePlaceholder:!0,snapshot:{isDraggingOver:!1,draggingOverWith:null,draggingFromThisWith:null,isUsingPlaceholder:!1},useClone:null},t={...e,shouldAnimatePlaceholder:!1},r=An(i=>({draggableId:i.id,type:i.type,source:{index:i.index,droppableId:i.droppableId}})),n=An((i,l,c,d,f,h)=>{const p=f.descriptor.id;if(f.descriptor.droppableId===i){const b=h?{render:h,dragging:r(f.descriptor)}:null,w={isDraggingOver:c,draggingOverWith:c?p:null,draggingFromThisWith:p,isUsingPlaceholder:!0};return{placeholder:f.placeholder,shouldAnimatePlaceholder:!1,snapshot:w,useClone:b}}if(!l)return t;if(!d)return e;const y={isDraggingOver:c,draggingOverWith:p,draggingFromThisWith:null,isUsingPlaceholder:!0};return{placeholder:f.placeholder,shouldAnimatePlaceholder:!0,snapshot:y,useClone:null}});return(i,l)=>{const c=UU(l),d=c.droppableId,f=c.type,h=!c.isDropDisabled,p=c.renderClone;if(qh(i)){const g=i.critical;if(!T2(f,g))return t;const y=nM(g,i.dimensions),b=as(i.impact)===d;return n(d,h,b,b,y,p)}if(i.phase==="DROP_ANIMATING"){const g=i.completed;if(!T2(f,g.critical))return t;const y=nM(g.critical,i.dimensions);return n(d,h,RU(g.result)===d,as(g.impact)===d,y,p)}if(i.phase==="IDLE"&&i.completed&&!i.shouldFlush){const g=i.completed;if(!T2(f,g.critical))return t;const y=as(g.impact)===d,b=!!(g.impact.at&&g.impact.at.type==="COMBINE"),w=g.critical.droppable.id===d;return y?b?e:t:w?e:t}return t}},yEe={updateViewportMaxScroll:Ake},vEe=d9(xEe,yEe,(e,t,r)=>({...UU(r),...e,...t}),{context:h4,areStatePropsEqual:MU})(pEe),fg={async getStages(){return Ee("/stages","GET")},async createStage(e){return Ee("/stages","POST",e)},async updateStage(e,t){return Ee(`/stages/${e}`,"PUT",t)},async deleteStage(e){return Ee(`/stages/${e}`,"DELETE")}},bEe=async()=>Ee("/api/kanban/board"),wEe=async(e,t)=>Ee(`/api/kanban/deals/${e}`,{method:"PUT",body:JSON.stringify(t)}),aM=async(e,t,r)=>Ee(`/api/kanban/deals/${e}/move`,{method:"POST",body:JSON.stringify({to_stage_id:t,position:r})}),jEe=async e=>Ee(`/api/kanban/deals/${e}/watch`,{method:"POST"}),NEe=async e=>Ee(`/api/kanban/deals/${e}/watch`,{method:"POST"});function SEe({isOpen:e,onClose:t,onStagesUpdated:r}){const[n,a]=v.useState([]),[i,l]=v.useState(!1),[c,d]=v.useState(null),[f,h]=v.useState(!1),[p,g]=v.useState(null),[y,b]=v.useState({name:"",order:0,wip_limit:void 0});v.useEffect(()=>{e&&w()},[e]);const w=async()=>{l(!0),d(null);try{const T=await fg.getStages();a(T)}catch(T){d("Failed to load stages"),console.error("Error loading stages:",T)}finally{l(!1)}},j=async()=>{if(y.name.trim()){l(!0);try{const T=Math.max(...n.map(A=>A.order),0)+1;await fg.createStage({...y,order:T}),b({name:"",order:0,wip_limit:void 0}),h(!1),await w(),r()}catch(T){d("Failed to create stage"),console.error("Error creating stage:",T)}finally{l(!1)}}},S=async T=>{l(!0);try{await fg.updateStage(T.id,{name:T.name,order:T.order,wip_limit:T.wip_limit}),g(null),await w(),r()}catch(A){d("Failed to update stage"),console.error("Error updating stage:",A)}finally{l(!1)}},_=async T=>{if(window.confirm("Are you sure you want to delete this stage? Deals in this stage will be moved to the first stage.")){l(!0);try{await fg.deleteStage(T),await w(),r()}catch(A){d("Failed to delete stage"),console.error("Error deleting stage:",A)}finally{l(!1)}}},E=(T,A)=>{const C=[...n],O=A==="up"?T-1:T+1;O<0||O>=C.length||([C[T],C[O]]=[C[O],C[T]],C.forEach((P,F)=>{P.order=F+1}),a(C))};return e?s.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center bg-black bg-opacity-50",children:s.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-2xl shadow-2xl w-full max-w-2xl max-h-[90vh] overflow-hidden",children:[s.jsxs("div",{className:"flex items-center justify-between p-6 border-b border-gray-200 dark:border-gray-700",children:[s.jsx("h2",{className:"text-2xl font-bold text-gray-900 dark:text-white",children:"Manage Stages"}),s.jsx("button",{onClick:t,className:"p-2 hover:bg-gray-100 dark:hover:bg-gray-700 rounded-full transition-colors",children:s.jsx(Tr,{className:"w-5 h-5"})})]}),s.jsxs("div",{className:"p-6 overflow-y-auto max-h-[calc(90vh-140px)]",children:[c&&s.jsx("div",{className:"mb-4 p-3 bg-red-100 dark:bg-red-900 text-red-700 dark:text-red-300 rounded-lg",children:c}),s.jsxs("div",{className:"mb-6",children:[s.jsxs("button",{onClick:()=>h(!f),className:"flex items-center gap-2 px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors",children:[s.jsx(Cr,{className:"w-4 h-4"}),"Add New Stage"]}),f&&s.jsx("div",{className:"mt-4 p-4 border border-gray-200 dark:border-gray-700 rounded-lg",children:s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:"Stage Name"}),s.jsx("input",{type:"text",value:y.name,onChange:T=>b({...y,name:T.target.value}),className:"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent dark:bg-gray-700 dark:text-white",placeholder:"Enter stage name"})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:"WIP Limit (optional)"}),s.jsx("input",{type:"number",value:y.wip_limit||"",onChange:T=>b({...y,wip_limit:T.target.value?parseInt(T.target.value):void 0}),className:"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent dark:bg-gray-700 dark:text-white",placeholder:"Maximum deals in this stage"})]}),s.jsxs("div",{className:"flex gap-2",children:[s.jsx("button",{onClick:j,disabled:i||!y.name.trim(),className:"px-4 py-2 bg-green-600 text-white rounded-lg hover:bg-green-700 disabled:opacity-50 disabled:cursor-not-allowed transition-colors",children:"Create Stage"}),s.jsx("button",{onClick:()=>{h(!1),b({name:"",order:0,wip_limit:void 0})},className:"px-4 py-2 bg-gray-500 text-white rounded-lg hover:bg-gray-600 transition-colors",children:"Cancel"})]})]})})]}),s.jsxs("div",{className:"space-y-3",children:[s.jsx("h3",{className:"text-lg font-semibold text-gray-900 dark:text-white",children:"Current Stages"}),i&&n.length===0?s.jsx("div",{className:"text-center py-8 text-gray-500",children:"Loading stages..."}):n.length===0?s.jsx("div",{className:"text-center py-8 text-gray-500",children:"No stages found"}):n.map((T,A)=>s.jsxs("div",{className:"flex items-center gap-3 p-4 border border-gray-200 dark:border-gray-700 rounded-lg hover:bg-gray-50 dark:hover:bg-gray-700 transition-colors",children:[s.jsx(nG,{className:"w-5 h-5 text-gray-400 cursor-move"}),s.jsx("div",{className:"flex-1",children:p?.id===T.id?s.jsxs("div",{className:"space-y-2",children:[s.jsx("input",{type:"text",value:p.name,onChange:C=>g({...p,name:C.target.value}),className:"w-full px-3 py-1 border border-gray-300 dark:border-gray-600 rounded focus:ring-2 focus:ring-blue-500 focus:border-transparent dark:bg-gray-700 dark:text-white"}),s.jsx("input",{type:"number",value:p.wip_limit||"",onChange:C=>g({...p,wip_limit:C.target.value?parseInt(C.target.value):void 0}),className:"w-full px-3 py-1 border border-gray-300 dark:border-gray-600 rounded focus:ring-2 focus:ring-blue-500 focus:border-transparent dark:bg-gray-700 dark:text-white",placeholder:"WIP Limit"})]}):s.jsxs("div",{children:[s.jsx("div",{className:"font-medium text-gray-900 dark:text-white",children:T.name}),s.jsxs("div",{className:"text-sm text-gray-500",children:["Order: ",T.order,T.wip_limit&&`  WIP Limit: ${T.wip_limit}`]})]})}),s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx("button",{onClick:()=>E(A,"up"),disabled:A===0,className:"p-1 text-gray-400 hover:text-gray-600 disabled:opacity-30 disabled:cursor-not-allowed",title:"Move up",children:""}),s.jsx("button",{onClick:()=>E(A,"down"),disabled:A===n.length-1,className:"p-1 text-gray-400 hover:text-gray-600 disabled:opacity-30 disabled:cursor-not-allowed",title:"Move down",children:""}),p?.id===T.id?s.jsx("button",{onClick:()=>S(p),disabled:i,className:"p-2 text-green-600 hover:text-green-700 disabled:opacity-50",title:"Save changes",children:""}):s.jsx("button",{onClick:()=>g(T),className:"p-2 text-blue-600 hover:text-blue-700",title:"Edit stage",children:s.jsx(OG,{className:"w-4 h-4"})}),s.jsx("button",{onClick:()=>_(T.id),disabled:i,className:"p-2 text-red-600 hover:text-red-700 disabled:opacity-50",title:"Delete stage",children:s.jsx(Mi,{className:"w-4 h-4"})})]})]},T.id))]})]}),s.jsx("div",{className:"flex justify-end gap-3 p-6 border-t border-gray-200 dark:border-gray-700",children:s.jsx("button",{onClick:t,className:"px-6 py-2 bg-gray-500 text-white rounded-lg hover:bg-gray-600 transition-colors",children:"Close"})})]})}):null}var Ng={exports:{}},kEe=Ng.exports,sM;function _Ee(){return sM||(sM=1,function(e,t){(function(r,n){e.exports=n()})(kEe,function(){var r=1e3,n=6e4,a=36e5,i="millisecond",l="second",c="minute",d="hour",f="day",h="week",p="month",g="quarter",y="year",b="date",w="Invalid Date",j=/^(\d{4})[-/]?(\d{1,2})?[-/]?(\d{0,2})[Tt\s]*(\d{1,2})?:?(\d{1,2})?:?(\d{1,2})?[.:]?(\d+)?$/,S=/\[([^\]]+)]|Y{1,4}|M{1,4}|D{1,2}|d{1,4}|H{1,2}|h{1,2}|a|A|m{1,2}|s{1,2}|Z{1,2}|SSS/g,_={name:"en",weekdays:"Sunday_Monday_Tuesday_Wednesday_Thursday_Friday_Saturday".split("_"),months:"January_February_March_April_May_June_July_August_September_October_November_December".split("_"),ordinal:function(fe){var Q=["th","st","nd","rd"],K=fe%100;return"["+fe+(Q[(K-20)%10]||Q[K]||Q[0])+"]"}},E=function(fe,Q,K){var J=String(fe);return!J||J.length>=Q?fe:""+Array(Q+1-J.length).join(K)+fe},T={s:E,z:function(fe){var Q=-fe.utcOffset(),K=Math.abs(Q),J=Math.floor(K/60),se=K%60;return(Q<=0?"+":"-")+E(J,2,"0")+":"+E(se,2,"0")},m:function fe(Q,K){if(Q.date()<K.date())return-fe(K,Q);var J=12*(K.year()-Q.year())+(K.month()-Q.month()),se=Q.clone().add(J,p),xe=K-se<0,U=Q.clone().add(J+(xe?-1:1),p);return+(-(J+(K-se)/(xe?se-U:U-se))||0)},a:function(fe){return fe<0?Math.ceil(fe)||0:Math.floor(fe)},p:function(fe){return{M:p,y,w:h,d:f,D:b,h:d,m:c,s:l,ms:i,Q:g}[fe]||String(fe||"").toLowerCase().replace(/s$/,"")},u:function(fe){return fe===void 0}},A="en",C={};C[A]=_;var O="$isDayjsObject",P=function(fe){return fe instanceof ee||!(!fe||!fe[O])},F=function fe(Q,K,J){var se;if(!Q)return A;if(typeof Q=="string"){var xe=Q.toLowerCase();C[xe]&&(se=xe),K&&(C[xe]=K,se=xe);var U=Q.split("-");if(!se&&U.length>1)return fe(U[0])}else{var ae=Q.name;C[ae]=Q,se=ae}return!J&&se&&(A=se),se||!J&&A},G=function(fe,Q){if(P(fe))return fe.clone();var K=typeof Q=="object"?Q:{};return K.date=fe,K.args=arguments,new ee(K)},W=T;W.l=F,W.i=P,W.w=function(fe,Q){return G(fe,{locale:Q.$L,utc:Q.$u,x:Q.$x,$offset:Q.$offset})};var ee=function(){function fe(K){this.$L=F(K.locale,null,!0),this.parse(K),this.$x=this.$x||K.x||{},this[O]=!0}var Q=fe.prototype;return Q.parse=function(K){this.$d=function(J){var se=J.date,xe=J.utc;if(se===null)return new Date(NaN);if(W.u(se))return new Date;if(se instanceof Date)return new Date(se);if(typeof se=="string"&&!/Z$/i.test(se)){var U=se.match(j);if(U){var ae=U[2]-1||0,D=(U[7]||"0").substring(0,3);return xe?new Date(Date.UTC(U[1],ae,U[3]||1,U[4]||0,U[5]||0,U[6]||0,D)):new Date(U[1],ae,U[3]||1,U[4]||0,U[5]||0,U[6]||0,D)}}return new Date(se)}(K),this.init()},Q.init=function(){var K=this.$d;this.$y=K.getFullYear(),this.$M=K.getMonth(),this.$D=K.getDate(),this.$W=K.getDay(),this.$H=K.getHours(),this.$m=K.getMinutes(),this.$s=K.getSeconds(),this.$ms=K.getMilliseconds()},Q.$utils=function(){return W},Q.isValid=function(){return this.$d.toString()!==w},Q.isSame=function(K,J){var se=G(K);return this.startOf(J)<=se&&se<=this.endOf(J)},Q.isAfter=function(K,J){return G(K)<this.startOf(J)},Q.isBefore=function(K,J){return this.endOf(J)<G(K)},Q.$g=function(K,J,se){return W.u(K)?this[J]:this.set(se,K)},Q.unix=function(){return Math.floor(this.valueOf()/1e3)},Q.valueOf=function(){return this.$d.getTime()},Q.startOf=function(K,J){var se=this,xe=!!W.u(J)||J,U=W.p(K),ae=function(ie,de){var oe=W.w(se.$u?Date.UTC(se.$y,de,ie):new Date(se.$y,de,ie),se);return xe?oe:oe.endOf(f)},D=function(ie,de){return W.w(se.toDate()[ie].apply(se.toDate("s"),(xe?[0,0,0,0]:[23,59,59,999]).slice(de)),se)},H=this.$W,B=this.$M,V=this.$D,le="set"+(this.$u?"UTC":"");switch(U){case y:return xe?ae(1,0):ae(31,11);case p:return xe?ae(1,B):ae(0,B+1);case h:var De=this.$locale().weekStart||0,re=(H<De?H+7:H)-De;return ae(xe?V-re:V+(6-re),B);case f:case b:return D(le+"Hours",0);case d:return D(le+"Minutes",1);case c:return D(le+"Seconds",2);case l:return D(le+"Milliseconds",3);default:return this.clone()}},Q.endOf=function(K){return this.startOf(K,!1)},Q.$set=function(K,J){var se,xe=W.p(K),U="set"+(this.$u?"UTC":""),ae=(se={},se[f]=U+"Date",se[b]=U+"Date",se[p]=U+"Month",se[y]=U+"FullYear",se[d]=U+"Hours",se[c]=U+"Minutes",se[l]=U+"Seconds",se[i]=U+"Milliseconds",se)[xe],D=xe===f?this.$D+(J-this.$W):J;if(xe===p||xe===y){var H=this.clone().set(b,1);H.$d[ae](D),H.init(),this.$d=H.set(b,Math.min(this.$D,H.daysInMonth())).$d}else ae&&this.$d[ae](D);return this.init(),this},Q.set=function(K,J){return this.clone().$set(K,J)},Q.get=function(K){return this[W.p(K)]()},Q.add=function(K,J){var se,xe=this;K=Number(K);var U=W.p(J),ae=function(B){var V=G(xe);return W.w(V.date(V.date()+Math.round(B*K)),xe)};if(U===p)return this.set(p,this.$M+K);if(U===y)return this.set(y,this.$y+K);if(U===f)return ae(1);if(U===h)return ae(7);var D=(se={},se[c]=n,se[d]=a,se[l]=r,se)[U]||1,H=this.$d.getTime()+K*D;return W.w(H,this)},Q.subtract=function(K,J){return this.add(-1*K,J)},Q.format=function(K){var J=this,se=this.$locale();if(!this.isValid())return se.invalidDate||w;var xe=K||"YYYY-MM-DDTHH:mm:ssZ",U=W.z(this),ae=this.$H,D=this.$m,H=this.$M,B=se.weekdays,V=se.months,le=se.meridiem,De=function(de,oe,me,Xe){return de&&(de[oe]||de(J,xe))||me[oe].slice(0,Xe)},re=function(de){return W.s(ae%12||12,de,"0")},ie=le||function(de,oe,me){var Xe=de<12?"AM":"PM";return me?Xe.toLowerCase():Xe};return xe.replace(S,function(de,oe){return oe||function(me){switch(me){case"YY":return String(J.$y).slice(-2);case"YYYY":return W.s(J.$y,4,"0");case"M":return H+1;case"MM":return W.s(H+1,2,"0");case"MMM":return De(se.monthsShort,H,V,3);case"MMMM":return De(V,H);case"D":return J.$D;case"DD":return W.s(J.$D,2,"0");case"d":return String(J.$W);case"dd":return De(se.weekdaysMin,J.$W,B,2);case"ddd":return De(se.weekdaysShort,J.$W,B,3);case"dddd":return B[J.$W];case"H":return String(ae);case"HH":return W.s(ae,2,"0");case"h":return re(1);case"hh":return re(2);case"a":return ie(ae,D,!0);case"A":return ie(ae,D,!1);case"m":return String(D);case"mm":return W.s(D,2,"0");case"s":return String(J.$s);case"ss":return W.s(J.$s,2,"0");case"SSS":return W.s(J.$ms,3,"0");case"Z":return U}return null}(de)||U.replace(":","")})},Q.utcOffset=function(){return 15*-Math.round(this.$d.getTimezoneOffset()/15)},Q.diff=function(K,J,se){var xe,U=this,ae=W.p(J),D=G(K),H=(D.utcOffset()-this.utcOffset())*n,B=this-D,V=function(){return W.m(U,D)};switch(ae){case y:xe=V()/12;break;case p:xe=V();break;case g:xe=V()/3;break;case h:xe=(B-H)/6048e5;break;case f:xe=(B-H)/864e5;break;case d:xe=B/a;break;case c:xe=B/n;break;case l:xe=B/r;break;default:xe=B}return se?xe:W.a(xe)},Q.daysInMonth=function(){return this.endOf(p).$D},Q.$locale=function(){return C[this.$L]},Q.locale=function(K,J){if(!K)return this.$L;var se=this.clone(),xe=F(K,J,!0);return xe&&(se.$L=xe),se},Q.clone=function(){return W.w(this.$d,this)},Q.toDate=function(){return new Date(this.valueOf())},Q.toJSON=function(){return this.isValid()?this.toISOString():null},Q.toISOString=function(){return this.$d.toISOString()},Q.toString=function(){return this.$d.toUTCString()},fe}(),ue=ee.prototype;return G.prototype=ue,[["$ms",i],["$s",l],["$m",c],["$H",d],["$W",f],["$M",p],["$y",y],["$D",b]].forEach(function(fe){ue[fe[1]]=function(Q){return this.$g(Q,fe[0],fe[1])}}),G.extend=function(fe,Q){return fe.$i||(fe(Q,ee,G),fe.$i=!0),G},G.locale=F,G.isDayjs=P,G.unix=function(fe){return G(1e3*fe)},G.en=C[A],G.Ls=C,G.p={},G})}(Ng)),Ng.exports}var EEe=_Ee();const Cs=fs(EEe);var Sg={exports:{}},AEe=Sg.exports,iM;function TEe(){return iM||(iM=1,function(e,t){(function(r,n){e.exports=n()})(AEe,function(){return function(r,n,a){r=r||{};var i=n.prototype,l={future:"in %s",past:"%s ago",s:"a few seconds",m:"a minute",mm:"%d minutes",h:"an hour",hh:"%d hours",d:"a day",dd:"%d days",M:"a month",MM:"%d months",y:"a year",yy:"%d years"};function c(f,h,p,g){return i.fromToBase(f,h,p,g)}a.en.relativeTime=l,i.fromToBase=function(f,h,p,g,y){for(var b,w,j,S=p.$locale().relativeTime||l,_=r.thresholds||[{l:"s",r:44,d:"second"},{l:"m",r:89},{l:"mm",r:44,d:"minute"},{l:"h",r:89},{l:"hh",r:21,d:"hour"},{l:"d",r:35},{l:"dd",r:25,d:"day"},{l:"M",r:45},{l:"MM",r:10,d:"month"},{l:"y",r:17},{l:"yy",d:"year"}],E=_.length,T=0;T<E;T+=1){var A=_[T];A.d&&(b=g?a(f).diff(p,A.d,!0):p.diff(f,A.d,!0));var C=(r.rounding||Math.round)(Math.abs(b));if(j=b>0,C<=A.r||!A.r){C<=1&&T>0&&(A=_[T-1]);var O=S[A.l];y&&(C=y(""+C)),w=typeof O=="string"?O.replace("%d",C):O(C,h,A.l,j);break}}if(h)return w;var P=j?S.future:S.past;return typeof P=="function"?P(w):P.replace("%s",w)},i.to=function(f,h){return c(f,h,this,!0)},i.from=function(f,h){return c(f,h,this)};var d=function(f){return f.$u?a.utc():a()};i.toNow=function(f){return this.to(d(this),f)},i.fromNow=function(f){return this.from(d(this),f)}}})}(Sg)),Sg.exports}var CEe=TEe();const OEe=fs(CEe);Cs.extend(OEe);const DEe=[{label:"High Priority",color:"bg-red-500"},{label:"VIP",color:"bg-yellow-500"},{label:"Follow Up",color:"bg-blue-500"},{label:"Demo",color:"bg-purple-500"}],lM={New:"bg-blue-500",Contacted:"bg-purple-500","Proposal Sent":"bg-yellow-500",Negotiation:"bg-green-500",Won:"bg-green-500",Lost:"bg-red-500"},A0=({active:e,payload:t,label:r})=>!e||!t||!t.length?null:s.jsxs("div",{style:{background:"#fff",border:"1px solid #eee",borderRadius:4,padding:"2px 8px",fontSize:12,color:"#222",boxShadow:"0 1px 4px rgba(0,0,0,0.04)"},children:[r&&s.jsx("div",{style:{fontWeight:600},children:r}),t.map((n,a)=>s.jsxs("div",{children:[s.jsxs("span",{style:{color:n.color,fontWeight:600},children:[n.name||n.dataKey,":"]})," ",n.value]},a))]});function oM(e,t=[]){const n={New:.2,Contacted:.4,"Proposal Sent":.6,Negotiation:.8,Won:1,Lost:0}[e.stage]??.3,a=Math.min(parseFloat(e.value.replace(/[^\d.]/g,""))/2e4,1)*.3,i=Math.min((t?.length||0)/10,1)*.3;let l=n+a+i;return e.stage==="Lost"&&(l=0),e.stage==="Won"&&(l=1),Math.round(l*100)}function cM(e){switch(e.stage){case"New":return"Contact the lead";case"Contacted":return"Send proposal";case"Proposal Sent":return"Follow up";case"Negotiation":return"Close the deal";case"Won":return"Onboard client";case"Lost":return"Review lost reason";default:return"Review deal"}}function C2(e){return e.split(" ").map(t=>t[0]).join("").toUpperCase()}function PEe(){const e=CM(),[t,r]=v.useState(null),[n,a]=v.useState(!1),[i,l]=v.useState(!1),[c,d]=v.useState("board"),[f,h]=v.useState("All"),[p,g]=v.useState(""),y=v.useRef(null);v.useEffect(()=>{const te=Ce=>{Ce.ctrlKey&&Ce.key==="f"&&(Ce.preventDefault(),y.current?.focus())};return document.addEventListener("keydown",te),()=>document.removeEventListener("keydown",te)},[]);const[b,w]=v.useState(null),[j,S]=v.useState({watchers:[]}),[_,E]=v.useState(!1),[T,A]=v.useState(!1),C=v.useRef(null),[O,P]=v.useState(!1),[F,G]=v.useState(null),[W,ee]=v.useState({}),[ue,fe]=v.useState(""),[Q,K]=v.useState({}),[J,se]=v.useState(!1),[xe,U]=v.useState({}),[ae,D]=v.useState(null),[H,B]=v.useState(null),{data:V,isLoading:le,error:De}=DM({queryKey:["kanban"],queryFn:bEe}),re=v.useMemo(()=>{if(!V?.deals||!V?.stages)return{};const te=new Map;return V.stages.forEach(Ce=>te.set(Ce.id,Ce.name)),V.deals.reduce((Ce,Ae)=>{const ut=Ae.stage_id;Ce[ut]||(Ce[ut]=[]);const ot={...Ae,id:String(Ae.id),value:`$${Ae.value?.toLocaleString()||"0"}`,owner:Ae.owner_name||"Unassigned",stage:te.get(ut)||"Unknown",tags:[],watchers:Ae.watchers||[]};return Ce[ut].push(ot),Ce},{})},[V]),ie=v.useMemo(()=>V?.stages?[...V.stages].sort((te,Ce)=>te.order-Ce.order):[],[V?.stages]),de=v.useMemo(()=>{const te=Object.values(re).flat();return Array.from(new Set(te.map(Ce=>Ce.owner)))},[re]),{user:oe}=ma(),me=oe?.name||"Unknown User",Xe={Alex:{color:"bg-blue-500"},Sam:{color:"bg-green-500"},Chris:{color:"bg-purple-500"}},Ue=v.useCallback((te,Ce,Ae)=>{const ut={id:Date.now().toString(),user:me,type:Ce,message:Ae,timestamp:new Date().toISOString()};U(ot=>({...ot,[te]:[...ot[te]||[],ut]}))},[me]),xt=v.useCallback(te=>{if(!ue.trim())return;const Ce={id:Date.now().toString(),author:me,text:ue.trim(),timestamp:new Date().toISOString()};ee(Ae=>({...Ae,[te]:[...Ae[te]||[],Ce]})),fe(""),Ue(te,"comment","Added a comment")},[ue,me,Ue]),Ye=v.useCallback((te,Ce)=>{ee(Ae=>({...Ae,[te]:(Ae[te]||[]).filter(ut=>ut.id!==Ce)})),Ue(te,"comment","Deleted a comment")},[Ue]),Be=v.useCallback((te,Ce)=>{se(!0),setTimeout(()=>{const Ae={id:Date.now().toString(),name:Ce.name,size:Ce.size,type:Ce.type,url:URL.createObjectURL(Ce),uploadedAt:new Date().toISOString()};K(ut=>({...ut,[te]:[...ut[te]||[],Ae]})),se(!1),Ue(te,"attachment",`Uploaded ${Ce.name}`)},1e3)},[Ue]),Dt=v.useCallback((te,Ce)=>{K(Ae=>({...Ae,[te]:(Ae[te]||[]).filter(ut=>ut.id!==Ce)})),Ue(te,"attachment","Deleted an attachment")},[Ue]),Kt=v.useCallback((te,Ce)=>{S(Ae=>({...Ae,[te]:Ce}))},[]),yt=v.useCallback(async()=>{if(b){E(!0);try{const te={};j.title&&(te.title=j.title),j.description!==void 0&&(te.description=j.description),j.value&&(te.value=j.value),j.reminderDate&&(te.reminder_date=j.reminderDate),await wEe(parseInt(b.id),te),e.setQueryData(["kanban"],Ce=>Ce&&{...Ce,deals:Ce.deals.map(Ae=>Ae.id===parseInt(b.id)?{...Ae,title:j.title||Ae.title,description:j.description||Ae.description,value:j.value?parseFloat(j.value.replace(/[^\d.]/g,"")):Ae.value,reminder_date:j.reminderDate||Ae.reminder_date}:Ae)}),Ue(b.id,"edit","Updated deal details"),w(null),S({})}catch(te){console.error("Failed to update deal:",te),e.invalidateQueries({queryKey:["kanban"]})}finally{E(!1)}}},[b,j,e,Ue]),Vt=v.useCallback(te=>{C.current=te,A(!0)},[]),Rr=v.useCallback(()=>{C.current&&(e.setQueryData(["kanban"],te=>te&&{...te,deals:te.deals.filter(Ce=>Ce.id!==parseInt(C.current.id))}),A(!1),C.current=null)},[e]),Wr=v.useCallback(te=>{e.setQueryData(["kanban"],Ce=>Ce&&{...Ce,stages:Ce.stages.filter(Ae=>Ae.name!==te),deals:Ce.deals.filter(Ae=>Ce.stages.find(ot=>ot.id===Ae.stage_id)?.name!==te)}),D(null)},[e]),yr=v.useCallback(te=>{G(te),P(!0)},[]),Pn=v.useCallback(async te=>{if(F)try{await aM(parseInt(F.id),te,0),e.invalidateQueries({queryKey:["kanban"]}),P(!1),G(null)}catch(Ce){console.error("Failed to move deal:",Ce)}},[F,e]),Mn=v.useCallback(async te=>{try{const Ce=await fetch("/api/approval-requests",{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${localStorage.getItem("access_token")}`},body:JSON.stringify({entity_type:"deal",entity_id:parseInt(te.id),request_reason:`Approval request for deal: ${te.title}`,priority:"medium",request_data:{deal_title:te.title,deal_value:te.value,deal_stage:te.stage,deal_owner:te.owner}})}),Ae=await Ce.json();Ce.ok?alert("Approval request submitted successfully!"):alert(`Failed to submit approval request: ${Ae.error}`)}catch(Ce){console.error("Error submitting approval request:",Ce),alert("Error submitting approval request")}},[]),vt=v.useCallback(te=>{const{source:Ce,destination:Ae}=te;if(!Ae||Ce.droppableId===Ae.droppableId&&Ce.index===Ae.index)return;const ut=parseInt(Ae.droppableId),ot=parseInt(te.draggableId);e.setQueryData(["kanban"],Er=>{if(!Er||!Er.deals.find(Xn=>Xn.id===ot))return Er;const hs=Er.deals.map(Xn=>({...Xn,stage_id:Xn.id===ot?ut:Xn.stage_id}));return{...Er,deals:hs}}),aM(ot,ut,Ae.index).then(()=>{console.log(`Deal ${ot} moved to stage ${ut}`)}).catch(Er=>{console.error("Failed to move deal:",Er),e.invalidateQueries({queryKey:["kanban"]})})},[e]),ur=v.useMemo(()=>ie.reduce((te,Ce)=>{let Ae=re[Ce.id]||[];if(f!=="All"&&(Ae=Ae.filter(ut=>ut.owner===f)),p.trim()){const ut=p.toLowerCase().trim();Ae=Ae.filter(ot=>ot.title.toLowerCase().includes(ut)||ot.value.toLowerCase().includes(ut)||ot.owner.toLowerCase().includes(ut)||ot.stage.toLowerCase().includes(ut)||ot.description&&ot.description.toLowerCase().includes(ut)||ot.tags&&ot.tags.some(Er=>Er.label.toLowerCase().includes(ut)))}return te[Ce.id]=Ae,te},{}),[re,f,p,ie]),pt=Object.values(re).flat(),qt=ie.map(te=>({stage:te.name,count:te.deal_count||(re[te.id]||[]).length})),dn=ie.map(te=>{const Ce=re[te.id]||[],Ae=Ce.length?Ce.reduce((ut,ot)=>ut+parseFloat(ot.value.replace(/[^\d.]/g,"")),0)/Ce.length:0;return{stage:te.name,avg:Math.round(Ae)}}),at=ie.map((te,Ce)=>({stage:te.name,count:(re[te.id]||[]).length,next:Ce<ie.length-1?(re[ie[Ce+1].id]||[]).length:0})),Mt=["#6366f1","#f59e42","#10b981","#f43f5e","#a21caf","#fbbf24","#0ea5e9","#eab308"],Zr=de.map(te=>({owner:te,count:pt.filter(Ce=>Ce.owner===te&&Ce.stage==="Won").length})).sort((te,Ce)=>Ce.count-te.count).slice(0,10),Nr=de.map(te=>({owner:te,count:pt.filter(Ce=>Ce.owner===te).length})).sort((te,Ce)=>Ce.count-te.count).slice(0,10),ge=de.map(te=>({owner:te,value:pt.filter(Ce=>Ce.owner===te).reduce((Ce,Ae)=>Ce+parseFloat(Ae.value.replace(/[^\d.]/g,"")),0)})).sort((te,Ce)=>Ce.value-te.value).slice(0,10),ct=()=>s.jsx("div",{className:"flex items-center justify-center h-64",children:s.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-t-2 border-b-2 border-blue-500"})}),At=({error:te,onRetry:Ce})=>s.jsx("div",{className:"bg-red-50 dark:bg-red-900/20 border border-red-200 dark:border-red-800 rounded-lg p-4 text-red-700 dark:text-red-400",children:s.jsxs("div",{className:"flex",children:[s.jsx("div",{className:"flex-shrink-0",children:s.jsx("svg",{className:"h-5 w-5 text-red-400",viewBox:"0 0 20 20",fill:"currentColor",children:s.jsx("path",{fillRule:"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zM8.28 7.22a.75.75 0 00-1.06 1.06L8.94 10l-1.72 1.72a.75.75 0 101.06 1.06L10 11.06l1.72 1.72a.75.75 0 101.06-1.06L11.06 10l1.72-1.72a.75.75 0 00-1.06-1.06L10 8.94 8.28 7.22z",clipRule:"evenodd"})})}),s.jsxs("div",{className:"ml-3",children:[s.jsx("h3",{className:"text-sm font-medium",children:"Error loading Kanban board"}),s.jsx("div",{className:"mt-2 text-sm",children:s.jsx("p",{children:te?.message||"An error occurred"})}),s.jsx("div",{className:"mt-4",children:s.jsx("button",{type:"button",onClick:Ce,className:"rounded-md bg-red-50 dark:bg-red-900/30 px-2 py-1.5 text-sm font-medium text-red-800 dark:text-red-300 hover:bg-red-100 dark:hover:bg-red-900/40 focus:outline-none focus:ring-2 focus:ring-red-600 focus:ring-offset-2 focus:ring-offset-red-50 dark:focus:ring-offset-gray-800",children:"Try again"})})]})]})});return le?s.jsx(ct,{}):De?s.jsx(At,{error:De,onRetry:()=>e.invalidateQueries({queryKey:["kanban"]})}):s.jsxs("div",{className:"p-2 md:p-6",children:[s.jsx("h1",{className:"text-3xl font-extrabold text-gray-900 dark:text-white mb-6",children:"Deals Pipeline"}),s.jsxs("div",{className:"mb-4 flex flex-col md:flex-row md:items-center md:gap-4 gap-2",children:[s.jsxs("div",{className:"flex items-center gap-2 flex-1",children:[s.jsx("label",{className:"font-medium text-gray-700 dark:text-gray-200",children:"Search:"}),s.jsx("input",{ref:y,type:"text",placeholder:"Search deals by title, value, owner, stage, tags... (Ctrl+F)",className:"flex-1 rounded px-3 py-2 border border-gray-300 dark:border-gray-700 bg-white dark:bg-gray-800 text-gray-900 dark:text-white placeholder-gray-500 dark:placeholder-gray-400 focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent",value:p,onChange:te=>g(te.target.value),onKeyDown:te=>{te.key==="Escape"&&g("")}}),p&&s.jsx("button",{onClick:()=>g(""),className:"px-2 py-1 text-gray-500 hover:text-gray-700 dark:text-gray-400 dark:hover:text-gray-200",title:"Clear search",children:""})]}),s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx("label",{className:"font-medium text-gray-700 dark:text-gray-200",children:"Owner:"}),s.jsxs("select",{className:"rounded px-2 py-1 border border-gray-300 dark:border-gray-700 bg-white dark:bg-gray-800 text-gray-900 dark:text-white min-w-[100px]",value:f,onChange:te=>h(te.target.value),children:[s.jsx("option",{value:"All",children:"All"}),de.map(te=>s.jsx("option",{value:te,children:te},te))]})]})]}),p&&s.jsx("div",{className:"mb-4 p-3 bg-blue-50 dark:bg-blue-900/20 border border-blue-200 dark:border-blue-800 rounded-lg",children:s.jsxs("div",{className:"flex items-center gap-2 text-blue-700 dark:text-blue-300",children:[s.jsx("span",{className:"font-medium",children:"Search Results:"}),s.jsxs("span",{children:[Object.values(ur).flat().length,' deal(s) found for "',p,'"']}),s.jsx("button",{onClick:()=>g(""),className:"ml-2 px-2 py-1 text-blue-600 hover:text-blue-800 dark:text-blue-400 dark:hover:text-blue-200 text-sm border border-blue-300 dark:border-blue-600 rounded",children:"Clear search"})]})}),s.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-4 gap-6 mb-8",children:[s.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-2xl shadow p-6 flex flex-col items-center text-center border transition duration-300 ease hover:shadow-2xl hover:scale-105",children:[s.jsx("div",{className:"bg-blue-100 dark:bg-blue-900 p-3 rounded-full mb-3",children:s.jsx("svg",{className:"w-7 h-7 text-blue-600 dark:text-blue-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 5H7a2 2 0 00-2 2v10a2 2 0 002 2h8a2 2 0 002-2V7a2 2 0 00-2-2h-2M9 5a2 2 0 002 2h2a2 2 0 002-2M9 5a2 2 0 012-2h2a2 2 0 012 2"})})}),s.jsx("div",{className:"text-3xl font-extrabold text-blue-600 dark:text-blue-400 mb-1",children:V?.total_deals||pt.length}),s.jsx("div",{className:"text-gray-700 dark:text-gray-200 text-lg font-semibold mb-1",children:"Total Deals"}),s.jsx("div",{className:"text-xs text-purple-500",children:"Active pipeline"})]}),s.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-2xl shadow p-6 flex flex-col items-center text-center border transition duration-300 ease hover:shadow-2xl hover:scale-105",children:[s.jsx("div",{className:"bg-yellow-100 dark:bg-yellow-900 p-3 rounded-full mb-3",children:s.jsx("svg",{className:"w-7 h-7 text-yellow-600 dark:text-yellow-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 8v4l3 3m6-3a9 9 0 11-18 0 9 9 0 0118 0z"})})}),s.jsx("div",{className:"text-3xl font-extrabold text-yellow-600 dark:text-yellow-400 mb-1",children:pt.filter(te=>te.stage!=="Won"&&te.stage!=="Lost").length}),s.jsx("div",{className:"text-gray-700 dark:text-gray-200 text-lg font-semibold mb-1",children:"In Progress"}),s.jsx("div",{className:"text-xs text-blue-500",children:"Active negotiations"})]}),s.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-2xl shadow p-6 flex flex-col items-center text-center border transition duration-300 ease hover:shadow-2xl hover:scale-105",children:[s.jsx("div",{className:"bg-green-100 dark:bg-green-900 p-3 rounded-full mb-3",children:s.jsx("svg",{className:"w-7 h-7 text-green-600 dark:text-green-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 8c-1.657 0-3 .895-3 2s1.343 2 3 2 3 .895 3 2-1.343 2-3 2m0-8c1.11 0 2.08.402 2.599 1M12 8V7m0 1v8m0 0v1m0-1c-1.11 0-2.08-.402-2.599-1"})})}),s.jsxs("div",{className:"text-3xl font-extrabold text-green-600 dark:text-green-400 mb-1",children:["$",pt.reduce((te,Ce)=>te+parseFloat(Ce.value.replace(/[^\d.]/g,"")),0).toLocaleString()]}),s.jsx("div",{className:"text-gray-700 dark:text-gray-200 text-lg font-semibold mb-1",children:"Total Value"}),s.jsx("div",{className:"text-xs text-pink-500",children:"Pipeline worth"})]}),s.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-2xl shadow p-6 flex flex-col items-center text-center border transition duration-300 ease hover:shadow-2xl hover:scale-105",children:[s.jsx("div",{className:"bg-purple-100 dark:bg-purple-900 p-3 rounded-full mb-3",children:s.jsx("svg",{className:"w-7 h-7 text-purple-600 dark:text-purple-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M13 7h8m0 0v8m0-8l-8 8-4-4-6 6"})})}),s.jsxs("div",{className:"text-3xl font-extrabold text-purple-600 dark:text-purple-400 mb-1",children:[pt.length>0?Math.round(pt.filter(te=>te.stage==="Won").length/pt.length*100):0,"%"]}),s.jsx("div",{className:"text-gray-700 dark:text-gray-200 text-lg font-semibold mb-1",children:"Win Rate"}),s.jsx("div",{className:"text-xs text-green-500",children:"Success ratio"})]})]}),s.jsx("div",{className:"flex justify-end mb-2",children:s.jsxs("button",{className:"flex items-center gap-2 px-4 py-2 rounded-full bg-gradient-to-r from-fuchsia-600 to-pink-500 text-white font-semibold shadow hover:from-fuchsia-700 hover:to-pink-600 transition",onClick:()=>l(!0),children:[s.jsx(Cr,{className:"w-4 h-4"})," Manage Stages"]})}),s.jsxs("div",{children:[s.jsxs("div",{className:"flex gap-2 mb-6",children:[s.jsx("button",{className:`px-4 py-2 rounded-full font-semibold transition ${c==="board"?"bg-gradient-to-r from-blue-500 to-purple-500 text-white shadow":"bg-gray-200 dark:bg-gray-700 text-gray-700 dark:text-gray-200"}`,onClick:()=>d("board"),children:"Board"}),s.jsx("button",{className:`px-4 py-2 rounded-full font-semibold transition ${c==="analytics"?"bg-gradient-to-r from-blue-500 to-purple-500 text-white shadow":"bg-gray-200 dark:bg-gray-700 text-gray-700 dark:text-gray-200"}`,onClick:()=>d("analytics"),children:"Analytics"})]}),c==="board"&&s.jsxs("div",{className:"relative",children:[s.jsx("div",{className:"absolute top-0 right-0 z-10 bg-gradient-to-l from-white to-transparent dark:from-gray-900 w-8 h-full pointer-events-none"}),s.jsx(P4e,{onDragEnd:vt,children:s.jsx("div",{className:"flex gap-3 pb-4 overflow-x-auto scrollbar-thin scrollbar-thumb-gray-300 scrollbar-track-gray-100 dark:scrollbar-thumb-gray-600 dark:scrollbar-track-gray-800",style:{scrollbarWidth:"thin"},children:ie.map(te=>s.jsx("div",{className:"flex-shrink-0 w-64",children:s.jsxs("div",{className:"flex-shrink-0 w-64 bg-gray-50 dark:bg-gray-900 rounded-2xl shadow border border-gray-200 dark:border-gray-800 p-3 flex flex-col transition",children:[s.jsxs("div",{className:"font-bold text-lg mb-3 text-gray-700 dark:text-gray-200 flex items-center gap-2",children:[s.jsx("span",{className:`inline-block w-3 h-3 rounded-full mr-2 ${lM[te.name]||"bg-gray-500"}`}),te.name,s.jsx("span",{className:"bg-pink-100 dark:bg-pink-900 text-pink-600 dark:text-pink-200 rounded-full px-2 py-0.5 text-xs font-semibold",children:te.deal_count||ur[te.id]?.length||0})]}),s.jsx(vEe,{droppableId:String(te.id),isDropDisabled:!1,children:Ce=>s.jsxs("div",{ref:Ce.innerRef,...Ce.droppableProps,className:"flex-1 space-y-4 pr-1 min-h-0",children:[ur[te.id]?.length===0&&s.jsx("div",{className:"text-gray-400 dark:text-gray-600 text-sm text-center mt-8",children:"No deals"}),ur[te.id]?.map((Ae,ut)=>s.jsx(Z4e,{draggableId:Ae.id,index:ut,isDragDisabled:!1,children:(ot,Er)=>s.jsxs("div",{ref:ot.innerRef,...ot.draggableProps,...ot.dragHandleProps,className:`rounded-xl bg-white dark:bg-gray-800 shadow p-3 border border-gray-100 dark:border-gray-800 hover:shadow-xl hover:scale-105 transition-all duration-300 cursor-pointer transform ${Er.isDragging?"ring-2 ring-blue-400 scale-105":""}`,onClick:()=>r(Ae),children:[s.jsxs("div",{className:"flex items-start justify-between mb-2",children:[s.jsxs("div",{className:"flex-1 min-w-0",children:[s.jsxs("div",{className:"flex items-center gap-1 mb-1",children:[s.jsx("span",{className:`inline-block w-2 h-2 rounded-full ${lM[Ae.stage]||"bg-gray-500"}`}),s.jsx("div",{className:"font-semibold text-gray-900 dark:text-white text-xs truncate",children:Ae.title}),s.jsxs("span",{className:"px-1 py-0.5 rounded-full text-xs font-bold bg-gradient-to-r from-green-400 to-blue-400 text-white",title:"AI Score",children:[oM(Ae,xe[Ae.id]),"%"]})]}),s.jsx("div",{className:"text-blue-600 dark:text-blue-400 font-bold text-sm",children:Ae.value}),s.jsxs("div",{className:"text-xs text-gray-500 dark:text-gray-400",children:["Owner: ",Ae.owner]})]}),s.jsx("button",{className:`ml-2 focus:outline-none rounded-full p-2 transition shadow ${Array.isArray(Ae.watchers)&&Ae.watchers.includes(me)?"bg-pink-100 dark:bg-pink-900":"bg-gray-100 dark:bg-gray-800"} hover:scale-110 hover:shadow-lg`,style:{minWidth:36,minHeight:36,position:"relative"},onClick:async vr=>{vr.stopPropagation(),B(Number(Ae.id)),Array.isArray(Ae.watchers)&&Ae.watchers.includes(me)?await NEe(Number(Ae.id)):await jEe(Number(Ae.id)),B(null),e.invalidateQueries({queryKey:["kanban"]})},title:Array.isArray(Ae.watchers)&&Ae.watchers.length>0?`Watchers: ${Ae.watchers.join(", ")}`:"No watchers",disabled:H===Number(Ae.id),children:H===Number(Ae.id)?s.jsx("span",{className:"w-6 h-6 block animate-spin border-2 border-blue-400 border-t-transparent rounded-full mx-auto"}):s.jsxs("span",{className:"relative flex items-center",children:[s.jsx(gn,{className:`w-6 h-6 ${Array.isArray(Ae.watchers)&&Ae.watchers.includes(me)?"text-pink-500":"text-gray-400"}`}),Array.isArray(Ae.watchers)&&Ae.watchers.length>0&&s.jsx("span",{className:"absolute -top-1 -right-2 bg-blue-500 text-white text-xs font-bold rounded-full px-1.5 py-0.5 shadow border border-white dark:border-gray-900",children:Ae.watchers.length})]})})]}),s.jsxs("div",{className:"flex items-center justify-between mb-2",children:[Ae.tags&&Ae.tags.length>0&&s.jsxs("div",{className:"flex gap-1",children:[Ae.tags.slice(0,2).map(vr=>s.jsx("span",{className:`px-1.5 py-0.5 rounded-full text-xs font-semibold text-white ${vr.color}`,children:vr.label},vr.label)),Ae.tags.length>2&&s.jsxs("span",{className:"px-1.5 py-0.5 rounded-full text-xs font-semibold bg-gray-500 text-white",children:["+",Ae.tags.length-2]})]}),Ae.reminderDate&&s.jsxs("div",{className:"flex items-center gap-1 text-xs",children:[s.jsx(UN,{className:"w-3 h-3"}),s.jsx("span",{className:Cs(Ae.reminderDate).isBefore(Cs(),"day")?"text-red-500":Cs(Ae.reminderDate).isSame(Cs(),"day")?"text-yellow-500":"text-blue-500",children:Cs(Ae.reminderDate).format("MMM D")})]})]}),s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{className:"flex gap-1",children:[s.jsx("button",{className:"px-2 py-1 rounded-full bg-gradient-to-r from-blue-500 to-purple-500 text-white text-xs font-semibold shadow hover:from-blue-600 hover:to-purple-600 transition-all duration-300 hover:scale-110 hover:shadow-lg transform",onClick:vr=>{vr.stopPropagation(),r(Ae),a(!0)},title:"View Details",children:"View"}),s.jsx("button",{className:"px-2 py-1 rounded-full bg-gradient-to-r from-yellow-400 to-pink-500 text-white text-xs font-semibold shadow hover:from-yellow-500 hover:to-pink-600 transition-all duration-300 hover:scale-110 hover:shadow-lg transform",onClick:vr=>{vr.stopPropagation(),w(Ae)},title:"Edit Deal",children:"Edit"}),s.jsx("button",{className:"px-1.5 py-1 rounded-full bg-gradient-to-r from-green-500 to-blue-500 text-white text-xs font-semibold shadow hover:from-green-600 hover:to-blue-600 transition-all duration-300 hover:scale-110 hover:shadow-lg transform flex items-center gap-1",onClick:vr=>{vr.stopPropagation(),yr(Ae)},title:"Move to Stage",children:s.jsx(Ao,{size:12})}),s.jsx("button",{className:"px-1.5 py-1 rounded-full bg-gradient-to-r from-purple-500 to-pink-500 text-white text-xs font-semibold shadow hover:from-purple-600 hover:to-pink-600 transition-all duration-300 hover:scale-110 hover:shadow-lg transform flex items-center gap-1",onClick:vr=>{vr.stopPropagation(),Mn(Ae)},title:"Request Approval",children:s.jsx(Lt,{size:12})})]}),s.jsx("div",{className:"flex items-center gap-1",children:Array.isArray(Ae.watchers)&&Ae.watchers.length>0&&s.jsxs("div",{className:"flex -space-x-1",children:[Ae.watchers.slice(0,3).map(vr=>s.jsx("span",{className:"w-5 h-5 rounded-full bg-gradient-to-r from-blue-500 to-indigo-500 flex items-center justify-center text-xs font-bold text-white border border-white dark:border-gray-900",children:C2(vr)},vr)),Ae.watchers.length>3&&s.jsxs("span",{className:"w-5 h-5 rounded-full bg-gray-300 dark:bg-gray-600 flex items-center justify-center text-xs font-bold text-gray-600 dark:text-gray-300 border border-white dark:border-gray-900",children:["+",Ae.watchers.length-3]})]})})]}),s.jsxs("div",{className:"text-xs text-pink-600 dark:text-pink-300 mt-1 font-medium",children:["Next: ",cM(Ae)]})]})},Ae.id)),Ce.placeholder]})})]})},te.id))})})]}),c==="analytics"&&s.jsx(s.Fragment,{children:s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 xl:grid-cols-3 gap-6",children:[s.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-2xl shadow p-6 border flex flex-col items-center",children:[s.jsx("div",{className:"font-bold text-lg mb-4 text-gray-900 dark:text-white",children:"Conversion Funnel"}),s.jsx(Ai,{width:"100%",height:220,children:s.jsxs(R0,{data:at,margin:{top:10,right:10,left:0,bottom:0},children:[s.jsx(Ic,{strokeDasharray:"3 3"}),s.jsx(go,{dataKey:"stage"}),s.jsx(xo,{allowDecimals:!1}),s.jsx(Ei,{content:s.jsx(A0,{})}),s.jsx(cl,{dataKey:"count",fill:"#6366f1",radius:[8,8,0,0]})]})})]}),s.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-2xl shadow p-6 border flex flex-col items-center",children:[s.jsx("div",{className:"font-bold text-lg mb-4 text-gray-900 dark:text-white",children:"Deals per Stage"}),s.jsx(Ai,{width:"100%",height:220,children:s.jsxs(mx,{children:[s.jsx(Rd,{data:qt,dataKey:"count",nameKey:"stage",cx:"50%",cy:"50%",outerRadius:70,label:!0,children:qt.map((te,Ce)=>s.jsx(Io,{fill:Mt[Ce%Mt.length]},`cell-${te.stage}`))}),s.jsx(Ei,{content:s.jsx(A0,{})}),s.jsx(Do,{})]})})]}),s.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-2xl shadow p-6 border flex flex-col items-center",children:[s.jsx("div",{className:"font-bold text-lg mb-4 text-gray-900 dark:text-white",children:"Average Deal Size"}),s.jsx(Ai,{width:"100%",height:220,children:s.jsxs(R0,{data:dn,margin:{top:10,right:10,left:0,bottom:0},children:[s.jsx(Ic,{strokeDasharray:"3 3"}),s.jsx(go,{dataKey:"stage"}),s.jsx(xo,{allowDecimals:!1}),s.jsx(Ei,{content:s.jsx(A0,{})}),s.jsx(cl,{dataKey:"avg",fill:"#f59e42",radius:[8,8,0,0]})]})})]}),s.jsxs("div",{className:"col-span-1 md:col-span-2 xl:col-span-1 bg-white dark:bg-gray-800 rounded-2xl shadow p-6 border flex flex-col items-center mt-6",children:[s.jsx("div",{className:"font-bold text-lg mb-4 text-gray-900 dark:text-white",children:"Top 10 Owners (Deals Closed)"}),s.jsx(Ai,{width:"100%",height:220,children:s.jsxs(R0,{data:Zr,margin:{top:10,right:10,left:0,bottom:0},children:[s.jsx(Ic,{strokeDasharray:"3 3"}),s.jsx(go,{dataKey:"owner"}),s.jsx(xo,{allowDecimals:!1}),s.jsx(Ei,{content:s.jsx(A0,{})}),s.jsx(cl,{dataKey:"count",fill:"#10b981",radius:[8,8,0,0]})]})})]}),s.jsxs("div",{className:"col-span-1 md:col-span-2 xl:col-span-1 bg-white dark:bg-gray-800 rounded-2xl shadow p-6 border flex flex-col items-center mt-6",children:[s.jsx("div",{className:"font-bold text-lg mb-4 text-gray-900 dark:text-white",children:"Top 10 Deal Count by Owner"}),s.jsx(Ai,{width:"100%",height:220,children:s.jsxs(mx,{children:[s.jsx(Rd,{data:Nr,dataKey:"count",nameKey:"owner",cx:"50%",cy:"50%",outerRadius:70,label:!0,children:Nr.map((te,Ce)=>s.jsx(Io,{fill:Mt[Ce%Mt.length]},`cell-${te.owner}`))}),s.jsx(Ei,{content:s.jsx(A0,{})}),s.jsx(Do,{})]})})]}),s.jsxs("div",{className:"col-span-1 md:col-span-2 xl:col-span-1 bg-white dark:bg-gray-800 rounded-2xl shadow p-6 border flex flex-col items-center mt-6",children:[s.jsx("div",{className:"font-bold text-lg mb-4 text-gray-900 dark:text-white",children:"Top 10 Deal Value by Owner"}),s.jsx(Ai,{width:"100%",height:220,children:s.jsxs(R0,{data:ge,margin:{top:10,right:10,left:0,bottom:0},children:[s.jsx(Ic,{strokeDasharray:"3 3"}),s.jsx(go,{dataKey:"owner"}),s.jsx(xo,{allowDecimals:!1}),s.jsx(Ei,{formatter:te=>`$${te}`}),s.jsx(cl,{dataKey:"value",fill:"#f59e42",radius:[8,8,0,0]})]})})]})]})})]}),s.jsx(Ft,{open:n,onClose:()=>a(!1),title:t?`Deal: ${t.title}`:"Deal Details",animationType:"slideUp",size:"lg",children:t&&s.jsxs("div",{className:"space-y-6",children:[s.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[s.jsxs("div",{children:[s.jsx("h3",{className:"font-semibold text-gray-900 dark:text-white text-sm",children:"Title"}),s.jsx("p",{className:"text-gray-600 dark:text-gray-300",children:t.title})]}),s.jsxs("div",{children:[s.jsx("h3",{className:"font-semibold text-gray-900 dark:text-white text-sm",children:"Value"}),s.jsx("p",{className:"text-blue-600 dark:text-blue-400 font-bold",children:t.value})]}),s.jsxs("div",{children:[s.jsx("h3",{className:"font-semibold text-gray-900 dark:text-white text-sm",children:"Owner"}),s.jsx("p",{className:"text-gray-600 dark:text-gray-300",children:t.owner})]}),s.jsxs("div",{children:[s.jsx("h3",{className:"font-semibold text-gray-900 dark:text-white text-sm",children:"Stage"}),s.jsx("p",{className:"text-gray-600 dark:text-gray-300",children:t.stage})]}),s.jsxs("div",{children:[s.jsx("h3",{className:"font-semibold text-gray-900 dark:text-white text-sm",children:"AI Score"}),s.jsxs("p",{className:"text-gray-600 dark:text-gray-300",children:[oM(t,xe[t.id]),"%"]})]}),s.jsxs("div",{children:[s.jsx("h3",{className:"font-semibold text-gray-900 dark:text-white text-sm",children:"Next Step"}),s.jsx("p",{className:"text-gray-600 dark:text-gray-300",children:cM(t)})]})]}),t.description&&s.jsxs("div",{children:[s.jsx("h3",{className:"font-semibold text-gray-900 dark:text-white text-sm mb-2",children:"Description"}),s.jsx("p",{className:"text-gray-600 dark:text-gray-300 text-sm",children:t.description})]}),t.tags&&t.tags.length>0&&s.jsxs("div",{children:[s.jsx("h3",{className:"font-semibold text-gray-900 dark:text-white text-sm mb-2",children:"Tags"}),s.jsx("div",{className:"flex flex-wrap gap-2",children:t.tags.map(te=>s.jsx("span",{className:`px-2 py-1 rounded-full text-xs font-semibold text-white ${te.color}`,children:te.label},te.label))})]}),s.jsxs("div",{children:[s.jsx("h3",{className:"font-semibold text-gray-900 dark:text-white text-sm mb-2",children:"Comments"}),s.jsxs("div",{className:"space-y-2 max-h-32 overflow-y-auto text-xs",children:[(W[t.id]||[]).length===0&&s.jsx("div",{className:"text-gray-400",children:"No comments yet."}),(W[t.id]||[]).map(te=>s.jsxs("div",{className:"flex items-start gap-2 bg-gray-50 dark:bg-gray-800 rounded p-2",children:[s.jsx("span",{className:`w-5 h-5 rounded-full flex items-center justify-center text-xs font-bold text-white shadow ${Xe[te.author]?.color||"bg-gray-400"}`,children:C2(te.author)}),s.jsxs("div",{className:"flex-1",children:[s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsxs("span",{className:"font-bold text-blue-600 dark:text-blue-400",children:["[",te.author,"]"]}),s.jsx("span",{className:"text-gray-400",children:Cs(te.timestamp).fromNow()})]}),s.jsx("p",{className:"text-gray-900 dark:text-gray-100 mt-1",children:te.text})]}),s.jsx("button",{className:"text-xs text-gray-400 hover:text-red-500 transition",title:"Delete",onClick:()=>Ye(t.id,te.id),children:""})]},te.id))]}),s.jsxs("form",{className:"flex gap-2 mt-2 items-center",onSubmit:te=>{te.preventDefault(),xt(t.id)},children:[s.jsx("input",{type:"text",className:"flex-1 px-2 py-1 text-xs border border-gray-300 dark:border-gray-600 rounded bg-white dark:bg-gray-800 text-gray-900 dark:text-white",placeholder:"Add a comment...",value:ue,onChange:te=>fe(te.target.value)}),s.jsx("button",{type:"submit",className:"px-3 py-1 rounded bg-blue-500 text-white text-xs font-semibold hover:bg-blue-600 transition",disabled:!ue.trim(),children:"Add"})]})]}),s.jsxs("div",{children:[s.jsx("h3",{className:"font-semibold text-gray-900 dark:text-white text-sm mb-2",children:"Attachments"}),s.jsxs("div",{className:"space-y-2 max-h-32 overflow-y-auto text-xs",children:[(Q[t.id]||[]).length===0&&s.jsx("div",{className:"text-gray-400",children:"No attachments yet."}),(Q[t.id]||[]).map(te=>s.jsxs("div",{className:"flex items-center gap-2 bg-gray-50 dark:bg-gray-800 rounded px-3 py-2",children:[s.jsx("a",{href:te.url,download:te.name,target:"_blank",rel:"noopener noreferrer",className:"text-blue-600 dark:text-blue-400 font-medium hover:underline truncate max-w-[120px]",title:te.name,children:te.name}),s.jsxs("span",{className:"text-xs text-gray-500",children:["(",(te.size/1024).toFixed(1)," KB)"]}),s.jsx("span",{className:"text-xs text-gray-400",children:te.type.startsWith("image/")?"Image":te.type==="application/pdf"?"PDF":te.type}),s.jsx("span",{className:"text-xs text-gray-400 ml-auto",children:Cs(te.uploadedAt).fromNow()}),s.jsx("button",{className:"ml-2 text-xs text-gray-400 hover:text-red-500 transition",title:"Delete",onClick:()=>Dt(t.id,te.id),children:""})]},te.id))]}),s.jsx("form",{className:"flex gap-2 mt-2 items-center",onSubmit:te=>te.preventDefault(),children:s.jsxs("label",{className:"px-3 py-1 rounded bg-blue-500 text-white text-xs font-semibold hover:bg-blue-600 transition cursor-pointer",children:[s.jsx("input",{type:"file",accept:"image/*,application/pdf",className:"hidden",onChange:te=>{const Ce=te.target.files?.[0];Ce&&t&&Be(t.id,Ce),te.target.value=""},disabled:J}),J?"Uploading...":"Upload"]})})]}),s.jsxs("div",{children:[s.jsx("h3",{className:"font-semibold text-gray-900 dark:text-white text-sm mb-2",children:"Activity Log"}),s.jsxs("div",{className:"space-y-2 max-h-32 overflow-y-auto text-xs",children:[(xe[t.id]||[]).length===0&&s.jsx("div",{className:"text-gray-400",children:"No activity yet."}),(xe[t.id]||[]).map(te=>s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx("span",{className:`w-5 h-5 rounded-full flex items-center justify-center text-xs font-bold text-white shadow ${Xe[te.user]?.color||"bg-gray-400"}`,children:C2(te.user)}),s.jsxs("span",{className:"font-bold text-blue-600 dark:text-blue-400",children:["[",te.user,"]"]}),s.jsx("span",{className:"font-bold text-gray-700 dark:text-gray-200",children:te.type.charAt(0).toUpperCase()+te.type.slice(1)}),s.jsx("span",{className:"text-gray-900 dark:text-gray-100",children:te.message}),s.jsx("span",{className:"text-gray-400 ml-auto",children:Cs(te.timestamp).fromNow()})]},te.id))]})]})]})}),s.jsxs(Ft,{open:!!b,onClose:()=>w(null),title:b?`Edit Deal: ${b.title}`:"Edit Deal",animationType:"scale",size:"md",children:[b&&s.jsx("form",{onSubmit:te=>{te.preventDefault(),yt()},children:s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-200 mb-1",children:"Title"}),s.jsx("input",{type:"text",value:j.title||b.title,onChange:te=>Kt("title",te.target.value),className:"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-md bg-white dark:bg-gray-800 text-gray-900 dark:text-white",required:!0})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-200 mb-1",children:"Value"}),s.jsx("input",{type:"text",value:j.value||b.value,onChange:te=>Kt("value",te.target.value),className:"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-md bg-white dark:bg-gray-800 text-gray-900 dark:text-white",required:!0})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-200 mb-1",children:"Owner"}),s.jsx("select",{className:"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-md bg-white dark:bg-gray-800 text-gray-900 dark:text-white",value:j.owner||b.owner,onChange:te=>Kt("owner",te.target.value),required:!0,children:de.map(te=>s.jsx("option",{value:te,children:te},te))})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-200 mb-1",children:"Stage"}),s.jsx("select",{className:"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-md bg-white dark:bg-gray-800 text-gray-900 dark:text-white",value:j.stage||b.stage,onChange:te=>Kt("stage",te.target.value),required:!0,children:ie.map(te=>s.jsx("option",{value:te.name,children:te.name},te.id))})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-200 mb-1",children:"Tags"}),s.jsx("div",{className:"flex flex-wrap gap-2",children:DEe.map(te=>{const Ce=(j.tags||b.tags||[]).some(Ae=>Ae.label===te.label);return s.jsx("button",{type:"button",className:`px-2 py-1 rounded-full text-xs font-semibold border transition ${te.color} text-white ${Ce?"ring-2 ring-pink-400":"opacity-70"}`,onClick:()=>{let Ae=j.tags?[...j.tags]:[...b.tags||[]];Ce?Ae=Ae.filter(ut=>ut.label!==te.label):Ae.push(te),Kt("tags",Ae)},children:te.label},te.label)})})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-200 mb-1",children:"Description"}),s.jsx("textarea",{value:j.description||b.description||"",onChange:te=>Kt("description",te.target.value),rows:3,className:"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-md bg-white dark:bg-gray-800 text-gray-900 dark:text-white"})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-200 mb-1",children:"Reminder / Follow-up Date"}),s.jsx("input",{type:"date",className:"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-md bg-white dark:bg-gray-800 text-gray-900 dark:text-white",value:j.reminderDate?Cs(j.reminderDate).format("YYYY-MM-DD"):b.reminderDate?Cs(b.reminderDate).format("YYYY-MM-DD"):"",onChange:te=>Kt("reminderDate",te.target.value?Cs(te.target.value).toISOString():void 0)})]}),s.jsxs("div",{className:"flex gap-2 pt-4",children:[s.jsx("button",{type:"submit",disabled:_,className:"flex-1 px-4 py-2 bg-blue-600 text-white rounded-md hover:bg-blue-700 transition-all duration-300 hover:scale-105 hover:shadow-lg transform disabled:opacity-50 disabled:cursor-not-allowed disabled:transform-none",children:_?"Saving...":"Save Changes"}),s.jsx("button",{type:"button",onClick:()=>{w(null),S({})},className:"flex-1 px-4 py-2 bg-gray-300 dark:bg-gray-600 text-gray-700 dark:text-gray-200 rounded-md hover:bg-gray-400 dark:hover:bg-gray-500 transition-all duration-300 hover:scale-105 hover:shadow-lg transform",children:"Cancel"})]})]})}),b&&s.jsx("div",{className:"mt-4 pt-4 border-t border-gray-200 dark:border-gray-700",children:s.jsx("button",{type:"button",className:"w-full px-4 py-2 bg-red-600 text-white rounded-md hover:bg-red-700 transition",onClick:()=>Vt(b),children:"Delete Deal"})})]}),s.jsx(Ft,{open:T,onClose:()=>A(!1),title:"Delete Deal",animationType:"slideDown",size:"sm",children:s.jsxs("div",{className:"space-y-4",children:[s.jsx("p",{className:"text-gray-700 dark:text-gray-200",children:"Are you sure you want to delete this deal? This action cannot be undone."}),s.jsxs("div",{className:"flex gap-2 pt-4",children:[s.jsx("button",{onClick:Rr,className:"flex-1 px-4 py-2 bg-red-600 text-white rounded-md hover:bg-red-700 transition",children:"Delete"}),s.jsx("button",{onClick:()=>A(!1),className:"flex-1 px-4 py-2 bg-gray-300 dark:bg-gray-600 text-gray-700 dark:text-gray-200 rounded-md hover:bg-gray-400 dark:hover:bg-gray-500 transition",children:"Cancel"})]})]})}),s.jsx(Ft,{open:O,onClose:()=>P(!1),title:F?`Move "${F.title}" to Stage`:"Select Stage",animationType:"scale",size:"sm",children:F&&s.jsxs("div",{className:"p-4",children:[s.jsx("p",{className:"text-gray-600 dark:text-gray-300 mb-4",children:"Select a new stage for this deal:"}),s.jsx("div",{className:"space-y-2",children:V?.stages?.filter(te=>te.id!==F.stage_id)?.map(te=>s.jsx("button",{onClick:()=>Pn(te.id),className:"w-full text-left px-4 py-3 rounded-lg border border-gray-200 dark:border-gray-600 hover:bg-gray-50 dark:hover:bg-gray-700 transition-colors",children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsx("span",{className:"font-medium text-gray-900 dark:text-gray-100",children:te.name}),s.jsxs("span",{className:"text-sm text-gray-500 dark:text-gray-400",children:[re[te.id]?.length||0," deals"]})]})},te.id))}),s.jsx("div",{className:"flex justify-end mt-6",children:s.jsx("button",{onClick:()=>P(!1),className:"px-4 py-2 text-gray-600 dark:text-gray-300 hover:text-gray-800 dark:hover:text-gray-100 transition-colors",children:"Cancel"})})]})}),s.jsx(Ft,{open:!!ae,onClose:()=>D(null),title:"Delete Stage",animationType:"fade",size:"sm",children:s.jsxs("div",{className:"space-y-4",children:[s.jsxs("p",{className:"text-gray-700 dark:text-gray-200",children:['Are you sure you want to delete the stage "',ae,'"? All deals in this stage will be removed. This action cannot be undone.']}),s.jsxs("div",{className:"flex gap-2 pt-4",children:[s.jsx("button",{onClick:()=>ae&&Wr(ae),className:"flex-1 px-4 py-2 bg-red-600 text-white rounded-md hover:bg-red-700 transition",children:"Delete"}),s.jsx("button",{onClick:()=>D(null),className:"flex-1 px-4 py-2 bg-gray-300 dark:bg-gray-600 text-gray-700 dark:text-gray-200 rounded-md hover:bg-gray-400 dark:hover:bg-gray-500 transition",children:"Cancel"})]})]})}),s.jsx(SEe,{isOpen:i,onClose:()=>l(!1),onStagesUpdated:()=>{e.invalidateQueries({queryKey:["kanban-board"]})}})]})}const Lc={async getRooms(){return Ee("/chat/rooms","GET")},async createRoom(e){return Ee("/chat/rooms","POST",e)},async getRoom(e){return Ee(`/chat/rooms/${e}`,"GET")},async getMessages(e,t=50,r=0){return Ee(`/chat/rooms/${e}/messages?limit=${t}&offset=${r}`,"GET")},async sendMessage(e,t){return Ee(`/chat/rooms/${e}/messages`,"POST",t)},async getParticipants(e){return Ee(`/chat/rooms/${e}/participants`,"GET")},async addParticipant(e,t){return Ee(`/chat/rooms/${e}/participants`,"POST",{user_id:t})},async removeParticipant(e,t){return Ee(`/chat/rooms/${e}/participants/${t}`,"DELETE")},async getOrganizationUsers(e){return Ee(`/chat/organizations/${e}/users`,"GET")}},MEe=(e={})=>{const{roomId:t,onMessage:r,onError:n,onOpen:a,onClose:i}=e,{getAuthToken:l}=ma(),[c,d]=v.useState(!1),[f,h]=v.useState(null),p=v.useRef(null),g=v.useRef(null),y=v.useRef(0),b=5,w=v.useCallback(()=>{if(p.current?.readyState!==WebSocket.OPEN)try{const C=l();if(!C){h("No authentication token available");return}const O=`ws://localhost:8000/ws/chat/${t||0}?token=${encodeURIComponent(C)}`,P=new WebSocket(O);P.onopen=()=>{d(!0),h(null),y.current=0,a?.()},P.onmessage=F=>{try{const G=JSON.parse(F.data);r?.(G)}catch{}},P.onerror=F=>{h("WebSocket connection error"),n?.(F)},P.onclose=F=>{if(d(!1),i?.(),F.code!==1e3&&y.current<b){const G=Math.min(1e3*Math.pow(2,y.current),3e4);g.current=setTimeout(()=>{y.current++,w()},G)}},p.current=P}catch{h("Failed to create WebSocket connection")}},[t,l,r,n,a,i]),j=v.useCallback(()=>{g.current&&(clearTimeout(g.current),g.current=null),p.current&&(p.current.close(1e3,"User disconnected"),p.current=null),d(!1)},[]),S=v.useCallback(C=>{p.current?.readyState===WebSocket.OPEN&&p.current.send(JSON.stringify(C))},[]),_=v.useCallback((C,O="text",P)=>{S({type:"message",content:C,message_type:O,reply_to_id:P})},[S]),E=v.useCallback(C=>{S({type:"typing",is_typing:C})},[S]),T=v.useCallback(C=>{S({type:"join_room",room_id:C})},[S]),A=v.useCallback(C=>{S({type:"leave_room",room_id:C})},[S]);return v.useEffect(()=>(t&&w(),()=>{j()}),[t]),v.useEffect(()=>()=>{j()},[j]),{isConnected:c,connectionError:f,sendMessage:S,sendChatMessage:_,sendTypingIndicator:E,joinRoom:T,leaveRoom:A,connect:w,disconnect:j}},zU=6048e5,REe=864e5,uM=Symbol.for("constructDateFrom");function Uo(e,t){return typeof e=="function"?e(t):e&&typeof e=="object"&&uM in e?e[uM](t):e instanceof Date?new e.constructor(t):new Date(t)}function gi(e,t){return Uo(t||e,e)}let IEe={};function nv(){return IEe}function Wh(e,t){const r=nv(),n=t?.weekStartsOn??t?.locale?.options?.weekStartsOn??r.weekStartsOn??r.locale?.options?.weekStartsOn??0,a=gi(e,t?.in),i=a.getDay(),l=(i<n?7:0)+i-n;return a.setDate(a.getDate()-l),a.setHours(0,0,0,0),a}function Hx(e,t){return Wh(e,{...t,weekStartsOn:1})}function HU(e,t){const r=gi(e,t?.in),n=r.getFullYear(),a=Uo(r,0);a.setFullYear(n+1,0,4),a.setHours(0,0,0,0);const i=Hx(a),l=Uo(r,0);l.setFullYear(n,0,4),l.setHours(0,0,0,0);const c=Hx(l);return r.getTime()>=i.getTime()?n+1:r.getTime()>=c.getTime()?n:n-1}function dM(e){const t=gi(e),r=new Date(Date.UTC(t.getFullYear(),t.getMonth(),t.getDate(),t.getHours(),t.getMinutes(),t.getSeconds(),t.getMilliseconds()));return r.setUTCFullYear(t.getFullYear()),+e-+r}function FEe(e,...t){const r=Uo.bind(null,t.find(n=>typeof n=="object"));return t.map(r)}function fM(e,t){const r=gi(e,t?.in);return r.setHours(0,0,0,0),r}function LEe(e,t,r){const[n,a]=FEe(r?.in,e,t),i=fM(n),l=fM(a),c=+i-dM(i),d=+l-dM(l);return Math.round((c-d)/REe)}function BEe(e,t){const r=HU(e,t),n=Uo(e,0);return n.setFullYear(r,0,4),n.setHours(0,0,0,0),Hx(n)}function $Ee(e){return e instanceof Date||typeof e=="object"&&Object.prototype.toString.call(e)==="[object Date]"}function UEe(e){return!(!$Ee(e)&&typeof e!="number"||isNaN(+gi(e)))}function zEe(e,t){const r=gi(e,t?.in);return r.setFullYear(r.getFullYear(),0,1),r.setHours(0,0,0,0),r}const HEe={lessThanXSeconds:{one:"less than a second",other:"less than {{count}} seconds"},xSeconds:{one:"1 second",other:"{{count}} seconds"},halfAMinute:"half a minute",lessThanXMinutes:{one:"less than a minute",other:"less than {{count}} minutes"},xMinutes:{one:"1 minute",other:"{{count}} minutes"},aboutXHours:{one:"about 1 hour",other:"about {{count}} hours"},xHours:{one:"1 hour",other:"{{count}} hours"},xDays:{one:"1 day",other:"{{count}} days"},aboutXWeeks:{one:"about 1 week",other:"about {{count}} weeks"},xWeeks:{one:"1 week",other:"{{count}} weeks"},aboutXMonths:{one:"about 1 month",other:"about {{count}} months"},xMonths:{one:"1 month",other:"{{count}} months"},aboutXYears:{one:"about 1 year",other:"about {{count}} years"},xYears:{one:"1 year",other:"{{count}} years"},overXYears:{one:"over 1 year",other:"over {{count}} years"},almostXYears:{one:"almost 1 year",other:"almost {{count}} years"}},VEe=(e,t,r)=>{let n;const a=HEe[e];return typeof a=="string"?n=a:t===1?n=a.one:n=a.other.replace("{{count}}",t.toString()),r?.addSuffix?r.comparison&&r.comparison>0?"in "+n:n+" ago":n};function O2(e){return(t={})=>{const r=t.width?String(t.width):e.defaultWidth;return e.formats[r]||e.formats[e.defaultWidth]}}const qEe={full:"EEEE, MMMM do, y",long:"MMMM do, y",medium:"MMM d, y",short:"MM/dd/yyyy"},WEe={full:"h:mm:ss a zzzz",long:"h:mm:ss a z",medium:"h:mm:ss a",short:"h:mm a"},GEe={full:"{{date}} 'at' {{time}}",long:"{{date}} 'at' {{time}}",medium:"{{date}}, {{time}}",short:"{{date}}, {{time}}"},KEe={date:O2({formats:qEe,defaultWidth:"full"}),time:O2({formats:WEe,defaultWidth:"full"}),dateTime:O2({formats:GEe,defaultWidth:"full"})},YEe={lastWeek:"'last' eeee 'at' p",yesterday:"'yesterday at' p",today:"'today at' p",tomorrow:"'tomorrow at' p",nextWeek:"eeee 'at' p",other:"P"},XEe=(e,t,r,n)=>YEe[e];function T0(e){return(t,r)=>{const n=r?.context?String(r.context):"standalone";let a;if(n==="formatting"&&e.formattingValues){const l=e.defaultFormattingWidth||e.defaultWidth,c=r?.width?String(r.width):l;a=e.formattingValues[c]||e.formattingValues[l]}else{const l=e.defaultWidth,c=r?.width?String(r.width):e.defaultWidth;a=e.values[c]||e.values[l]}const i=e.argumentCallback?e.argumentCallback(t):t;return a[i]}}const QEe={narrow:["B","A"],abbreviated:["BC","AD"],wide:["Before Christ","Anno Domini"]},ZEe={narrow:["1","2","3","4"],abbreviated:["Q1","Q2","Q3","Q4"],wide:["1st quarter","2nd quarter","3rd quarter","4th quarter"]},JEe={narrow:["J","F","M","A","M","J","J","A","S","O","N","D"],abbreviated:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],wide:["January","February","March","April","May","June","July","August","September","October","November","December"]},eAe={narrow:["S","M","T","W","T","F","S"],short:["Su","Mo","Tu","We","Th","Fr","Sa"],abbreviated:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],wide:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"]},tAe={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"}},rAe={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"}},nAe=(e,t)=>{const r=Number(e),n=r%100;if(n>20||n<10)switch(n%10){case 1:return r+"st";case 2:return r+"nd";case 3:return r+"rd"}return r+"th"},aAe={ordinalNumber:nAe,era:T0({values:QEe,defaultWidth:"wide"}),quarter:T0({values:ZEe,defaultWidth:"wide",argumentCallback:e=>e-1}),month:T0({values:JEe,defaultWidth:"wide"}),day:T0({values:eAe,defaultWidth:"wide"}),dayPeriod:T0({values:tAe,defaultWidth:"wide",formattingValues:rAe,defaultFormattingWidth:"wide"})};function C0(e){return(t,r={})=>{const n=r.width,a=n&&e.matchPatterns[n]||e.matchPatterns[e.defaultMatchWidth],i=t.match(a);if(!i)return null;const l=i[0],c=n&&e.parsePatterns[n]||e.parsePatterns[e.defaultParseWidth],d=Array.isArray(c)?iAe(c,p=>p.test(l)):sAe(c,p=>p.test(l));let f;f=e.valueCallback?e.valueCallback(d):d,f=r.valueCallback?r.valueCallback(f):f;const h=t.slice(l.length);return{value:f,rest:h}}}function sAe(e,t){for(const r in e)if(Object.prototype.hasOwnProperty.call(e,r)&&t(e[r]))return r}function iAe(e,t){for(let r=0;r<e.length;r++)if(t(e[r]))return r}function lAe(e){return(t,r={})=>{const n=t.match(e.matchPattern);if(!n)return null;const a=n[0],i=t.match(e.parsePattern);if(!i)return null;let l=e.valueCallback?e.valueCallback(i[0]):i[0];l=r.valueCallback?r.valueCallback(l):l;const c=t.slice(a.length);return{value:l,rest:c}}}const oAe=/^(\d+)(th|st|nd|rd)?/i,cAe=/\d+/i,uAe={narrow:/^(b|a)/i,abbreviated:/^(b\.?\s?c\.?|b\.?\s?c\.?\s?e\.?|a\.?\s?d\.?|c\.?\s?e\.?)/i,wide:/^(before christ|before common era|anno domini|common era)/i},dAe={any:[/^b/i,/^(a|c)/i]},fAe={narrow:/^[1234]/i,abbreviated:/^q[1234]/i,wide:/^[1234](th|st|nd|rd)? quarter/i},hAe={any:[/1/i,/2/i,/3/i,/4/i]},mAe={narrow:/^[jfmasond]/i,abbreviated:/^(jan|feb|mar|apr|may|jun|jul|aug|sep|oct|nov|dec)/i,wide:/^(january|february|march|april|may|june|july|august|september|october|november|december)/i},pAe={narrow:[/^j/i,/^f/i,/^m/i,/^a/i,/^m/i,/^j/i,/^j/i,/^a/i,/^s/i,/^o/i,/^n/i,/^d/i],any:[/^ja/i,/^f/i,/^mar/i,/^ap/i,/^may/i,/^jun/i,/^jul/i,/^au/i,/^s/i,/^o/i,/^n/i,/^d/i]},gAe={narrow:/^[smtwf]/i,short:/^(su|mo|tu|we|th|fr|sa)/i,abbreviated:/^(sun|mon|tue|wed|thu|fri|sat)/i,wide:/^(sunday|monday|tuesday|wednesday|thursday|friday|saturday)/i},xAe={narrow:[/^s/i,/^m/i,/^t/i,/^w/i,/^t/i,/^f/i,/^s/i],any:[/^su/i,/^m/i,/^tu/i,/^w/i,/^th/i,/^f/i,/^sa/i]},yAe={narrow:/^(a|p|mi|n|(in the|at) (morning|afternoon|evening|night))/i,any:/^([ap]\.?\s?m\.?|midnight|noon|(in the|at) (morning|afternoon|evening|night))/i},vAe={any:{am:/^a/i,pm:/^p/i,midnight:/^mi/i,noon:/^no/i,morning:/morning/i,afternoon:/afternoon/i,evening:/evening/i,night:/night/i}},bAe={ordinalNumber:lAe({matchPattern:oAe,parsePattern:cAe,valueCallback:e=>parseInt(e,10)}),era:C0({matchPatterns:uAe,defaultMatchWidth:"wide",parsePatterns:dAe,defaultParseWidth:"any"}),quarter:C0({matchPatterns:fAe,defaultMatchWidth:"wide",parsePatterns:hAe,defaultParseWidth:"any",valueCallback:e=>e+1}),month:C0({matchPatterns:mAe,defaultMatchWidth:"wide",parsePatterns:pAe,defaultParseWidth:"any"}),day:C0({matchPatterns:gAe,defaultMatchWidth:"wide",parsePatterns:xAe,defaultParseWidth:"any"}),dayPeriod:C0({matchPatterns:yAe,defaultMatchWidth:"any",parsePatterns:vAe,defaultParseWidth:"any"})},wAe={code:"en-US",formatDistance:VEe,formatLong:KEe,formatRelative:XEe,localize:aAe,match:bAe,options:{weekStartsOn:0,firstWeekContainsDate:1}};function jAe(e,t){const r=gi(e,t?.in);return LEe(r,zEe(r))+1}function NAe(e,t){const r=gi(e,t?.in),n=+Hx(r)-+BEe(r);return Math.round(n/zU)+1}function VU(e,t){const r=gi(e,t?.in),n=r.getFullYear(),a=nv(),i=t?.firstWeekContainsDate??t?.locale?.options?.firstWeekContainsDate??a.firstWeekContainsDate??a.locale?.options?.firstWeekContainsDate??1,l=Uo(t?.in||e,0);l.setFullYear(n+1,0,i),l.setHours(0,0,0,0);const c=Wh(l,t),d=Uo(t?.in||e,0);d.setFullYear(n,0,i),d.setHours(0,0,0,0);const f=Wh(d,t);return+r>=+c?n+1:+r>=+f?n:n-1}function SAe(e,t){const r=nv(),n=t?.firstWeekContainsDate??t?.locale?.options?.firstWeekContainsDate??r.firstWeekContainsDate??r.locale?.options?.firstWeekContainsDate??1,a=VU(e,t),i=Uo(t?.in||e,0);return i.setFullYear(a,0,n),i.setHours(0,0,0,0),Wh(i,t)}function kAe(e,t){const r=gi(e,t?.in),n=+Wh(r,t)-+SAe(r,t);return Math.round(n/zU)+1}function Jt(e,t){const r=e<0?"-":"",n=Math.abs(e).toString().padStart(t,"0");return r+n}const uo={y(e,t){const r=e.getFullYear(),n=r>0?r:1-r;return Jt(t==="yy"?n%100:n,t.length)},M(e,t){const r=e.getMonth();return t==="M"?String(r+1):Jt(r+1,2)},d(e,t){return Jt(e.getDate(),t.length)},a(e,t){const r=e.getHours()/12>=1?"pm":"am";switch(t){case"a":case"aa":return r.toUpperCase();case"aaa":return r;case"aaaaa":return r[0];case"aaaa":default:return r==="am"?"a.m.":"p.m."}},h(e,t){return Jt(e.getHours()%12||12,t.length)},H(e,t){return Jt(e.getHours(),t.length)},m(e,t){return Jt(e.getMinutes(),t.length)},s(e,t){return Jt(e.getSeconds(),t.length)},S(e,t){const r=t.length,n=e.getMilliseconds(),a=Math.trunc(n*Math.pow(10,r-3));return Jt(a,t.length)}},td={midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},hM={G:function(e,t,r){const n=e.getFullYear()>0?1:0;switch(t){case"G":case"GG":case"GGG":return r.era(n,{width:"abbreviated"});case"GGGGG":return r.era(n,{width:"narrow"});case"GGGG":default:return r.era(n,{width:"wide"})}},y:function(e,t,r){if(t==="yo"){const n=e.getFullYear(),a=n>0?n:1-n;return r.ordinalNumber(a,{unit:"year"})}return uo.y(e,t)},Y:function(e,t,r,n){const a=VU(e,n),i=a>0?a:1-a;if(t==="YY"){const l=i%100;return Jt(l,2)}return t==="Yo"?r.ordinalNumber(i,{unit:"year"}):Jt(i,t.length)},R:function(e,t){const r=HU(e);return Jt(r,t.length)},u:function(e,t){const r=e.getFullYear();return Jt(r,t.length)},Q:function(e,t,r){const n=Math.ceil((e.getMonth()+1)/3);switch(t){case"Q":return String(n);case"QQ":return Jt(n,2);case"Qo":return r.ordinalNumber(n,{unit:"quarter"});case"QQQ":return r.quarter(n,{width:"abbreviated",context:"formatting"});case"QQQQQ":return r.quarter(n,{width:"narrow",context:"formatting"});case"QQQQ":default:return r.quarter(n,{width:"wide",context:"formatting"})}},q:function(e,t,r){const n=Math.ceil((e.getMonth()+1)/3);switch(t){case"q":return String(n);case"qq":return Jt(n,2);case"qo":return r.ordinalNumber(n,{unit:"quarter"});case"qqq":return r.quarter(n,{width:"abbreviated",context:"standalone"});case"qqqqq":return r.quarter(n,{width:"narrow",context:"standalone"});case"qqqq":default:return r.quarter(n,{width:"wide",context:"standalone"})}},M:function(e,t,r){const n=e.getMonth();switch(t){case"M":case"MM":return uo.M(e,t);case"Mo":return r.ordinalNumber(n+1,{unit:"month"});case"MMM":return r.month(n,{width:"abbreviated",context:"formatting"});case"MMMMM":return r.month(n,{width:"narrow",context:"formatting"});case"MMMM":default:return r.month(n,{width:"wide",context:"formatting"})}},L:function(e,t,r){const n=e.getMonth();switch(t){case"L":return String(n+1);case"LL":return Jt(n+1,2);case"Lo":return r.ordinalNumber(n+1,{unit:"month"});case"LLL":return r.month(n,{width:"abbreviated",context:"standalone"});case"LLLLL":return r.month(n,{width:"narrow",context:"standalone"});case"LLLL":default:return r.month(n,{width:"wide",context:"standalone"})}},w:function(e,t,r,n){const a=kAe(e,n);return t==="wo"?r.ordinalNumber(a,{unit:"week"}):Jt(a,t.length)},I:function(e,t,r){const n=NAe(e);return t==="Io"?r.ordinalNumber(n,{unit:"week"}):Jt(n,t.length)},d:function(e,t,r){return t==="do"?r.ordinalNumber(e.getDate(),{unit:"date"}):uo.d(e,t)},D:function(e,t,r){const n=jAe(e);return t==="Do"?r.ordinalNumber(n,{unit:"dayOfYear"}):Jt(n,t.length)},E:function(e,t,r){const n=e.getDay();switch(t){case"E":case"EE":case"EEE":return r.day(n,{width:"abbreviated",context:"formatting"});case"EEEEE":return r.day(n,{width:"narrow",context:"formatting"});case"EEEEEE":return r.day(n,{width:"short",context:"formatting"});case"EEEE":default:return r.day(n,{width:"wide",context:"formatting"})}},e:function(e,t,r,n){const a=e.getDay(),i=(a-n.weekStartsOn+8)%7||7;switch(t){case"e":return String(i);case"ee":return Jt(i,2);case"eo":return r.ordinalNumber(i,{unit:"day"});case"eee":return r.day(a,{width:"abbreviated",context:"formatting"});case"eeeee":return r.day(a,{width:"narrow",context:"formatting"});case"eeeeee":return r.day(a,{width:"short",context:"formatting"});case"eeee":default:return r.day(a,{width:"wide",context:"formatting"})}},c:function(e,t,r,n){const a=e.getDay(),i=(a-n.weekStartsOn+8)%7||7;switch(t){case"c":return String(i);case"cc":return Jt(i,t.length);case"co":return r.ordinalNumber(i,{unit:"day"});case"ccc":return r.day(a,{width:"abbreviated",context:"standalone"});case"ccccc":return r.day(a,{width:"narrow",context:"standalone"});case"cccccc":return r.day(a,{width:"short",context:"standalone"});case"cccc":default:return r.day(a,{width:"wide",context:"standalone"})}},i:function(e,t,r){const n=e.getDay(),a=n===0?7:n;switch(t){case"i":return String(a);case"ii":return Jt(a,t.length);case"io":return r.ordinalNumber(a,{unit:"day"});case"iii":return r.day(n,{width:"abbreviated",context:"formatting"});case"iiiii":return r.day(n,{width:"narrow",context:"formatting"});case"iiiiii":return r.day(n,{width:"short",context:"formatting"});case"iiii":default:return r.day(n,{width:"wide",context:"formatting"})}},a:function(e,t,r){const a=e.getHours()/12>=1?"pm":"am";switch(t){case"a":case"aa":return r.dayPeriod(a,{width:"abbreviated",context:"formatting"});case"aaa":return r.dayPeriod(a,{width:"abbreviated",context:"formatting"}).toLowerCase();case"aaaaa":return r.dayPeriod(a,{width:"narrow",context:"formatting"});case"aaaa":default:return r.dayPeriod(a,{width:"wide",context:"formatting"})}},b:function(e,t,r){const n=e.getHours();let a;switch(n===12?a=td.noon:n===0?a=td.midnight:a=n/12>=1?"pm":"am",t){case"b":case"bb":return r.dayPeriod(a,{width:"abbreviated",context:"formatting"});case"bbb":return r.dayPeriod(a,{width:"abbreviated",context:"formatting"}).toLowerCase();case"bbbbb":return r.dayPeriod(a,{width:"narrow",context:"formatting"});case"bbbb":default:return r.dayPeriod(a,{width:"wide",context:"formatting"})}},B:function(e,t,r){const n=e.getHours();let a;switch(n>=17?a=td.evening:n>=12?a=td.afternoon:n>=4?a=td.morning:a=td.night,t){case"B":case"BB":case"BBB":return r.dayPeriod(a,{width:"abbreviated",context:"formatting"});case"BBBBB":return r.dayPeriod(a,{width:"narrow",context:"formatting"});case"BBBB":default:return r.dayPeriod(a,{width:"wide",context:"formatting"})}},h:function(e,t,r){if(t==="ho"){let n=e.getHours()%12;return n===0&&(n=12),r.ordinalNumber(n,{unit:"hour"})}return uo.h(e,t)},H:function(e,t,r){return t==="Ho"?r.ordinalNumber(e.getHours(),{unit:"hour"}):uo.H(e,t)},K:function(e,t,r){const n=e.getHours()%12;return t==="Ko"?r.ordinalNumber(n,{unit:"hour"}):Jt(n,t.length)},k:function(e,t,r){let n=e.getHours();return n===0&&(n=24),t==="ko"?r.ordinalNumber(n,{unit:"hour"}):Jt(n,t.length)},m:function(e,t,r){return t==="mo"?r.ordinalNumber(e.getMinutes(),{unit:"minute"}):uo.m(e,t)},s:function(e,t,r){return t==="so"?r.ordinalNumber(e.getSeconds(),{unit:"second"}):uo.s(e,t)},S:function(e,t){return uo.S(e,t)},X:function(e,t,r){const n=e.getTimezoneOffset();if(n===0)return"Z";switch(t){case"X":return pM(n);case"XXXX":case"XX":return kc(n);case"XXXXX":case"XXX":default:return kc(n,":")}},x:function(e,t,r){const n=e.getTimezoneOffset();switch(t){case"x":return pM(n);case"xxxx":case"xx":return kc(n);case"xxxxx":case"xxx":default:return kc(n,":")}},O:function(e,t,r){const n=e.getTimezoneOffset();switch(t){case"O":case"OO":case"OOO":return"GMT"+mM(n,":");case"OOOO":default:return"GMT"+kc(n,":")}},z:function(e,t,r){const n=e.getTimezoneOffset();switch(t){case"z":case"zz":case"zzz":return"GMT"+mM(n,":");case"zzzz":default:return"GMT"+kc(n,":")}},t:function(e,t,r){const n=Math.trunc(+e/1e3);return Jt(n,t.length)},T:function(e,t,r){return Jt(+e,t.length)}};function mM(e,t=""){const r=e>0?"-":"+",n=Math.abs(e),a=Math.trunc(n/60),i=n%60;return i===0?r+String(a):r+String(a)+t+Jt(i,2)}function pM(e,t){return e%60===0?(e>0?"-":"+")+Jt(Math.abs(e)/60,2):kc(e,t)}function kc(e,t=""){const r=e>0?"-":"+",n=Math.abs(e),a=Jt(Math.trunc(n/60),2),i=Jt(n%60,2);return r+a+t+i}const gM=(e,t)=>{switch(e){case"P":return t.date({width:"short"});case"PP":return t.date({width:"medium"});case"PPP":return t.date({width:"long"});case"PPPP":default:return t.date({width:"full"})}},qU=(e,t)=>{switch(e){case"p":return t.time({width:"short"});case"pp":return t.time({width:"medium"});case"ppp":return t.time({width:"long"});case"pppp":default:return t.time({width:"full"})}},_Ae=(e,t)=>{const r=e.match(/(P+)(p+)?/)||[],n=r[1],a=r[2];if(!a)return gM(e,t);let i;switch(n){case"P":i=t.dateTime({width:"short"});break;case"PP":i=t.dateTime({width:"medium"});break;case"PPP":i=t.dateTime({width:"long"});break;case"PPPP":default:i=t.dateTime({width:"full"});break}return i.replace("{{date}}",gM(n,t)).replace("{{time}}",qU(a,t))},EAe={p:qU,P:_Ae},AAe=/^D+$/,TAe=/^Y+$/,CAe=["D","DD","YY","YYYY"];function OAe(e){return AAe.test(e)}function DAe(e){return TAe.test(e)}function PAe(e,t,r){const n=MAe(e,t,r);if(console.warn(n),CAe.includes(e))throw new RangeError(n)}function MAe(e,t,r){const n=e[0]==="Y"?"years":"days of the month";return`Use \`${e.toLowerCase()}\` instead of \`${e}\` (in \`${t}\`) for formatting ${n} to the input \`${r}\`; see: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md`}const RAe=/[yYQqMLwIdDecihHKkms]o|(\w)\1*|''|'(''|[^'])+('|$)|./g,IAe=/P+p+|P+|p+|''|'(''|[^'])+('|$)|./g,FAe=/^'([^]*?)'?$/,LAe=/''/g,BAe=/[a-zA-Z]/;function O0(e,t,r){const n=nv(),a=n.locale??wAe,i=n.firstWeekContainsDate??n.locale?.options?.firstWeekContainsDate??1,l=n.weekStartsOn??n.locale?.options?.weekStartsOn??0,c=gi(e,r?.in);if(!UEe(c))throw new RangeError("Invalid time value");let d=t.match(IAe).map(h=>{const p=h[0];if(p==="p"||p==="P"){const g=EAe[p];return g(h,a.formatLong)}return h}).join("").match(RAe).map(h=>{if(h==="''")return{isToken:!1,value:"'"};const p=h[0];if(p==="'")return{isToken:!1,value:$Ae(h)};if(hM[p])return{isToken:!0,value:h};if(p.match(BAe))throw new RangeError("Format string contains an unescaped latin alphabet character `"+p+"`");return{isToken:!1,value:h}});a.localize.preprocessor&&(d=a.localize.preprocessor(c,d));const f={firstWeekContainsDate:i,weekStartsOn:l,locale:a};return d.map(h=>{if(!h.isToken)return h.value;const p=h.value;(DAe(p)||OAe(p))&&PAe(p,t,String(e));const g=hM[p[0]];return g(c,p,a.localize,f)}).join("")}function $Ae(e){const t=e.match(FAe);return t?t[1].replace(LAe,"'"):e}const UAe=({messages:e,currentUserId:t,onReply:r})=>{const n=f=>{const h=new Date(f),g=(new Date().getTime()-h.getTime())/(1e3*60*60);return g<24?O0(h,"HH:mm"):g<168?O0(h,"EEE HH:mm"):O0(h,"MMM dd, HH:mm")},a=f=>{const h=new Date(f),g=Math.floor((new Date().getTime()-h.getTime())/(1e3*60*60*24));return g===0?"Today":g===1?"Yesterday":g<7?O0(h,"EEEE"):O0(h,"MMMM dd, yyyy")},i=(f,h)=>{if(!h)return!0;const p=new Date(f.created_at).toDateString(),g=new Date(h.created_at).toDateString();return p!==g},l=(f,h)=>h?f.sender_id!==h.sender_id||new Date(h.created_at).getTime()-new Date(f.created_at).getTime()>3e5:!0,c=f=>{const h=f.sender_id===t,p="max-w-xs lg:max-w-md px-4 py-2 rounded-2xl";return h?`${p} bg-gradient-to-r from-fuchsia-600 to-pink-500 text-white ml-auto`:`${p} bg-gray-100 text-gray-900`},d=f=>`w-8 h-8 rounded-full flex items-center justify-center text-white text-sm font-medium ${f.sender_id===t?"bg-gradient-to-r from-fuchsia-600 to-pink-500":"bg-gradient-to-r from-blue-500 to-purple-500"}`;return e.length===0?s.jsx("div",{className:"flex-1 flex items-center justify-center p-8",children:s.jsxs("div",{className:"text-center",children:[s.jsx("div",{className:"w-16 h-16 bg-gray-100 rounded-full flex items-center justify-center mx-auto mb-4",children:s.jsx("span",{className:"text-2xl",children:""})}),s.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-2",children:"No messages yet"}),s.jsx("p",{className:"text-gray-500",children:"Start the conversation by sending a message!"})]})}):s.jsx("div",{className:"flex-1 overflow-y-auto p-4 space-y-4 min-h-0",children:e.map((f,h)=>{const p=h>0?e[h-1]:void 0,g=h<e.length-1?e[h+1]:void 0,y=i(f,p),b=l(f,g),w=f.sender_id===t;return s.jsxs("div",{children:[y&&s.jsx("div",{className:"flex items-center justify-center my-6",children:s.jsx("div",{className:"bg-gray-100 text-gray-600 text-sm px-3 py-1 rounded-full",children:a(f.created_at)})}),s.jsxs("div",{className:`flex items-end space-x-2 ${w?"flex-row-reverse space-x-reverse":""}`,children:[b?s.jsx("div",{className:d(f),children:f.sender_name?.charAt(0).toUpperCase()||"?"}):s.jsx("div",{className:"w-8 h-8"}),s.jsxs("div",{className:`flex flex-col ${w?"items-end":"items-start"}`,children:[!w&&b&&s.jsx("span",{className:"text-sm font-medium text-gray-700 mb-1",children:f.sender_name}),s.jsxs("div",{className:"group relative",children:[s.jsxs("div",{className:c(f),children:[f.reply_to_id&&s.jsx("div",{className:"text-xs opacity-75 mb-1 border-l-2 border-current pl-2",children:"Replying to message"}),s.jsx("p",{className:"text-sm whitespace-pre-wrap break-words",children:f.content})]}),s.jsxs("div",{className:`absolute top-0 ${w?"left-0 -translate-x-12":"right-0 translate-x-12"} opacity-0 group-hover:opacity-100 transition-opacity flex items-center space-x-1`,children:[s.jsx("button",{onClick:()=>r?.(f.id),className:"p-1 text-gray-400 hover:text-gray-600 rounded-full hover:bg-gray-100 transition-colors",title:"Reply",children:s.jsx(zG,{className:"w-4 h-4"})}),s.jsx("button",{className:"p-1 text-gray-400 hover:text-gray-600 rounded-full hover:bg-gray-100 transition-colors",children:s.jsx(KW,{className:"w-4 h-4"})})]})]}),s.jsx("span",{className:"text-xs text-gray-500 mt-1",children:n(f.created_at)})]})]})]},f.id)})})},zAe=({onSendMessage:e,onTyping:t,disabled:r=!1,placeholder:n="Type a message...",replyTo:a,onCancelReply:i})=>{const[l,c]=v.useState(""),[d,f]=v.useState(!1),h=v.useRef(null),p=v.useRef(null);v.useEffect(()=>{h.current&&(h.current.style.height="auto",h.current.style.height=`${h.current.scrollHeight}px`)},[l]),v.useEffect(()=>(l.trim()&&!d?(f(!0),t?.(!0)):!l.trim()&&d&&(f(!1),t?.(!1)),p.current&&clearTimeout(p.current),l.trim()&&(p.current=setTimeout(()=>{f(!1),t?.(!1)},1e3)),()=>{p.current&&clearTimeout(p.current)}),[l,d,t]);const g=j=>{j.preventDefault(),!(!l.trim()||r)&&(e(l.trim(),"text",a?.id),c(""),d&&(f(!1),t?.(!1)))},y=j=>{j.key==="Enter"&&!j.shiftKey&&(j.preventDefault(),g(j))},b=()=>{},w=()=>{};return s.jsxs("div",{className:"border-t border-gray-200 bg-white p-4",children:[a&&s.jsx("div",{className:"mb-3 p-3 bg-gray-50 rounded-lg border-l-4 border-fuchsia-500",children:s.jsxs("div",{className:"flex items-start justify-between",children:[s.jsxs("div",{className:"flex-1",children:[s.jsxs("div",{className:"text-sm font-medium text-gray-700 mb-1",children:["Replying to ",a.senderName]}),s.jsx("div",{className:"text-sm text-gray-600 truncate",children:a.content})]}),s.jsx("button",{onClick:i,className:"p-1 text-gray-400 hover:text-gray-600 rounded-full hover:bg-gray-200 transition-colors",children:s.jsx(Tr,{className:"w-4 h-4"})})]})}),s.jsxs("form",{onSubmit:g,className:"flex items-end space-x-3",children:[s.jsxs("div",{className:"flex-1 relative",children:[s.jsx("textarea",{ref:h,value:l,onChange:j=>c(j.target.value),onKeyDown:y,placeholder:n,disabled:r,className:"w-full px-4 py-3 pr-12 border border-gray-300 rounded-2xl resize-none focus:outline-none focus:ring-2 focus:ring-fuchsia-500 focus:border-transparent disabled:bg-gray-100 disabled:cursor-not-allowed",rows:1,style:{minHeight:"48px",maxHeight:"120px"}}),s.jsxs("div",{className:"absolute right-3 bottom-3 flex items-center space-x-1",children:[s.jsx("button",{type:"button",onClick:w,className:"p-1 text-gray-400 hover:text-gray-600 rounded-full hover:bg-gray-100 transition-colors",disabled:r,children:s.jsx(YG,{className:"w-5 h-5"})}),s.jsx("button",{type:"button",onClick:b,className:"p-1 text-gray-400 hover:text-gray-600 rounded-full hover:bg-gray-100 transition-colors",disabled:r,children:s.jsx(EG,{className:"w-5 h-5"})})]})]}),s.jsx("button",{type:"submit",disabled:!l.trim()||r,className:"p-3 bg-gradient-to-r from-fuchsia-600 to-pink-500 text-white rounded-full hover:from-fuchsia-700 hover:to-pink-600 disabled:from-gray-300 disabled:to-gray-400 disabled:cursor-not-allowed transition-all duration-200 transform hover:scale-105 disabled:hover:scale-100",children:s.jsx(Xc,{className:"w-5 h-5"})})]}),d&&s.jsx("div",{className:"mt-2 text-sm text-gray-500",children:"Typing..."}),r&&s.jsx("div",{className:"mt-2 text-sm text-red-500",children:"Disconnected - messages will be sent when connection is restored"})]})},HAe=({room:e,participants:t,onClose:r})=>{const[n,a]=v.useState("members"),i=c=>{switch(c){case"admin":return s.jsx(pg,{className:"w-4 h-4 text-yellow-500"});case"moderator":return s.jsx(zN,{className:"w-4 h-4 text-blue-500"});default:return s.jsx(Gd,{className:"w-4 h-4 text-gray-500"})}},l=c=>{switch(c){case"admin":return"text-yellow-600 bg-yellow-50";case"moderator":return"text-blue-600 bg-blue-50";default:return"text-gray-600 bg-gray-50"}};return e?s.jsxs("div",{className:"w-80 bg-white border-l border-gray-200 flex flex-col",children:[s.jsx("div",{className:"p-4 border-b border-gray-200",children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:"Room Info"}),s.jsx("button",{onClick:r,className:"p-1 text-gray-400 hover:text-gray-600 rounded-full hover:bg-gray-100 transition-colors",children:s.jsx(Tr,{className:"w-5 h-5"})})]})}),s.jsx("div",{className:"p-4 border-b border-gray-200",children:s.jsxs("div",{className:"space-y-3",children:[s.jsxs("div",{children:[s.jsx("h4",{className:"font-medium text-gray-900",children:e.name}),e.description&&s.jsx("p",{className:"text-sm text-gray-500 mt-1",children:e.description})]}),s.jsxs("div",{className:"flex items-center space-x-4 text-sm text-gray-500",children:[s.jsxs("div",{className:"flex items-center space-x-1",children:[s.jsx(jr,{className:"w-4 h-4"}),s.jsxs("span",{children:[t.length," members"]})]}),s.jsx("div",{className:"flex items-center space-x-1",children:s.jsx("span",{className:"capitalize",children:e.room_type})})]})]})}),s.jsxs("div",{className:"flex border-b border-gray-200",children:[s.jsx("button",{onClick:()=>a("members"),className:`flex-1 px-4 py-3 text-sm font-medium transition-colors ${n==="members"?"text-fuchsia-600 border-b-2 border-fuchsia-600 bg-fuchsia-50":"text-gray-500 hover:text-gray-700"}`,children:s.jsxs("div",{className:"flex items-center justify-center space-x-2",children:[s.jsx(jr,{className:"w-4 h-4"}),s.jsx("span",{children:"Members"})]})}),s.jsx("button",{onClick:()=>a("settings"),className:`flex-1 px-4 py-3 text-sm font-medium transition-colors ${n==="settings"?"text-fuchsia-600 border-b-2 border-fuchsia-600 bg-fuchsia-50":"text-gray-500 hover:text-gray-700"}`,children:s.jsxs("div",{className:"flex items-center justify-center space-x-2",children:[s.jsx(Fs,{className:"w-4 h-4"}),s.jsx("span",{children:"Settings"})]})})]}),s.jsxs("div",{className:"flex-1 overflow-y-auto",children:[n==="members"&&s.jsxs("div",{className:"p-4",children:[s.jsxs("div",{className:"flex items-center justify-between mb-4",children:[s.jsxs("h4",{className:"font-medium text-gray-900",children:["Members (",t.length,")"]}),s.jsx("button",{className:"p-1 text-gray-400 hover:text-gray-600 rounded-full hover:bg-gray-100 transition-colors",children:s.jsx(Gx,{className:"w-4 h-4"})})]}),s.jsx("div",{className:"space-y-3",children:t.map(c=>s.jsxs("div",{className:"flex items-center space-x-3 p-2 rounded-lg hover:bg-gray-50 transition-colors",children:[s.jsx("div",{className:"w-10 h-10 bg-gradient-to-r from-blue-500 to-purple-500 rounded-full flex items-center justify-center text-white font-medium",children:c.user_name?.charAt(0).toUpperCase()||"?"}),s.jsxs("div",{className:"flex-1 min-w-0",children:[s.jsxs("div",{className:"flex items-center space-x-2",children:[s.jsx("p",{className:"text-sm font-medium text-gray-900 truncate",children:c.user_name}),i(c.role)]}),s.jsx("p",{className:"text-xs text-gray-500 truncate",children:c.user_email})]}),s.jsx("span",{className:`px-2 py-1 text-xs font-medium rounded-full ${l(c.role)}`,children:c.role})]},c.id))})]}),n==="settings"&&s.jsxs("div",{className:"p-4 space-y-4",children:[s.jsxs("div",{children:[s.jsx("h4",{className:"font-medium text-gray-900 mb-3",children:"Room Settings"}),s.jsxs("div",{className:"space-y-3",children:[s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{children:[s.jsx("p",{className:"text-sm font-medium text-gray-900",children:"Notifications"}),s.jsx("p",{className:"text-xs text-gray-500",children:"Get notified about new messages"})]}),s.jsxs("label",{className:"relative inline-flex items-center cursor-pointer",children:[s.jsx("input",{type:"checkbox",className:"sr-only peer",defaultChecked:!0}),s.jsx("div",{className:"w-11 h-6 bg-gray-200 peer-focus:outline-none peer-focus:ring-4 peer-focus:ring-fuchsia-300 rounded-full peer peer-checked:after:translate-x-full peer-checked:after:border-white after:content-[''] after:absolute after:top-[2px] after:left-[2px] after:bg-white after:border-gray-300 after:border after:rounded-full after:h-5 after:w-5 after:transition-all peer-checked:bg-fuchsia-600"})]})]}),s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{children:[s.jsx("p",{className:"text-sm font-medium text-gray-900",children:"Mute Room"}),s.jsx("p",{className:"text-xs text-gray-500",children:"Hide notifications from this room"})]}),s.jsxs("label",{className:"relative inline-flex items-center cursor-pointer",children:[s.jsx("input",{type:"checkbox",className:"sr-only peer"}),s.jsx("div",{className:"w-11 h-6 bg-gray-200 peer-focus:outline-none peer-focus:ring-4 peer-focus:ring-fuchsia-300 rounded-full peer peer-checked:after:translate-x-full peer-checked:after:border-white after:content-[''] after:absolute after:top-[2px] after:left-[2px] after:bg-white after:border-gray-300 after:border after:rounded-full after:h-5 after:w-5 after:transition-all peer-checked:bg-fuchsia-600"})]})]})]})]}),s.jsxs("div",{className:"border-t border-gray-200 pt-4",children:[s.jsx("h4",{className:"font-medium text-gray-900 mb-3",children:"Danger Zone"}),s.jsxs("div",{className:"space-y-2",children:[s.jsx("button",{className:"w-full text-left px-3 py-2 text-sm text-red-600 hover:bg-red-50 rounded-lg transition-colors",children:"Leave Room"}),e.room_type==="group"&&s.jsx("button",{className:"w-full text-left px-3 py-2 text-sm text-red-600 hover:bg-red-50 rounded-lg transition-colors",children:"Delete Room"})]})]})]})]})]}):null},VAe=({roomId:e,onRoomSelect:t})=>{const{user:r}=ma(),[n,a]=v.useState(null),[i,l]=v.useState([]),[c,d]=v.useState([]),[f,h]=v.useState(!1),[p,g]=v.useState(null),[y,b]=v.useState(!1),w=v.useRef(null),{isConnected:j,sendChatMessage:S,sendTypingIndicator:_,joinRoom:E}=MEe({roomId:e,onMessage:T,onError:()=>g("Connection error"),onOpen:()=>g(null)});function T(P){switch(P.type){case"new_message":l(F=>[P.message,...F]);break;case"typing":break;case"user_joined":case"user_left":break;case"connection_established":g(null);break;case"error":g(P.message);break}}v.useEffect(()=>{e?A(e):(a(null),l([]),d([]))},[e]);const A=async P=>{h(!0),g(null);try{const[F,G,W]=await Promise.all([Lc.getRoom(P),Lc.getMessages(P),Lc.getParticipants(P)]);a(F),l(G.reverse()),d(W),E(P)}catch(F){g("Failed to load room data"),console.error("Error loading room data:",F)}finally{h(!1)}},C=async(P,F="text",G)=>{if(!(!n||!P.trim()))try{S(P,F,G),await Lc.sendMessage(n.id,{content:P,message_type:F,reply_to_id:G})}catch(W){g("Failed to send message"),console.error("Error sending message:",W)}},O=P=>{_(P)};return v.useEffect(()=>{w.current?.scrollIntoView({behavior:"smooth"})},[i]),e?f?s.jsx("div",{className:"flex-1 flex items-center justify-center bg-gray-50",children:s.jsxs("div",{className:"text-center",children:[s.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-fuchsia-600 mx-auto mb-4"}),s.jsx("p",{className:"text-gray-500",children:"Loading conversation..."})]})}):p?s.jsx("div",{className:"flex-1 flex items-center justify-center bg-gray-50",children:s.jsxs("div",{className:"text-center",children:[s.jsx("div",{className:"text-red-500 mb-4",children:""}),s.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-2",children:"Error"}),s.jsx("p",{className:"text-gray-500 mb-4",children:p}),s.jsx("button",{onClick:()=>e&&A(e),className:"px-4 py-2 bg-fuchsia-600 text-white rounded-lg hover:bg-fuchsia-700 transition-colors",children:"Retry"})]})}):s.jsxs("div",{className:"h-full flex flex-col bg-white",children:[s.jsxs("div",{className:"flex items-center justify-between p-4 border-b border-gray-200 bg-white",children:[s.jsxs("div",{className:"flex items-center space-x-3",children:[s.jsx("div",{className:"w-10 h-10 bg-gradient-to-r from-fuchsia-600 to-pink-500 rounded-full flex items-center justify-center",children:s.jsx(Sd,{className:"w-5 h-5 text-white"})}),s.jsxs("div",{children:[s.jsx("h2",{className:"text-lg font-semibold text-gray-900",children:n?.name}),s.jsxs("div",{className:"flex items-center space-x-2 text-sm text-gray-500",children:[s.jsx(jr,{className:"w-4 h-4"}),s.jsxs("span",{children:[c.length," members"]}),!j&&s.jsx("span",{className:"text-red-500",children:" Disconnected"})]})]})]}),s.jsxs("div",{className:"flex items-center space-x-2",children:[s.jsx("button",{onClick:()=>b(!y),className:"p-2 text-gray-500 hover:text-gray-700 hover:bg-gray-100 rounded-lg transition-colors",children:s.jsx(jr,{className:"w-5 h-5"})}),s.jsx("button",{className:"p-2 text-gray-500 hover:text-gray-700 hover:bg-gray-100 rounded-lg transition-colors",children:s.jsx(Fs,{className:"w-5 h-5"})})]})]}),s.jsxs("div",{className:"flex-1 flex overflow-hidden min-h-0",children:[s.jsxs("div",{className:"flex-1 flex flex-col min-h-0",children:[s.jsx(UAe,{messages:i,currentUserId:r?.id,onReply:P=>{}}),s.jsx("div",{ref:w}),s.jsx(zAe,{onSendMessage:C,onTyping:O,disabled:!j,placeholder:`Message ${n?.name}...`})]}),y&&s.jsx(HAe,{room:n,participants:c,onClose:()=>b(!1)})]})]}):s.jsx("div",{className:"flex-1 flex items-center justify-center bg-gray-50",children:s.jsxs("div",{className:"text-center",children:[s.jsx(Sd,{className:"w-16 h-16 text-gray-400 mx-auto mb-4"}),s.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-2",children:"Welcome to Chat"}),s.jsx("p",{className:"text-gray-500",children:"Select a conversation to start messaging"})]})})},qAe=({onClose:e,onRoomCreated:t})=>{const{user:r}=ma(),[n,a]=v.useState(""),[i,l]=v.useState(""),[c,d]=v.useState("group"),[f,h]=v.useState([]),[p,g]=v.useState([]),[y,b]=v.useState(!1),[w,j]=v.useState(null);v.useEffect(()=>{r?.organization_id&&S()},[r]);const S=async()=>{try{const C=await Lc.getOrganizationUsers(r.organization_id);g(C.filter(O=>O.id!==r.id))}catch{}},_=async C=>{if(C.preventDefault(),!(!n.trim()||!r?.organization_id)){b(!0),j(null);try{const O=await Lc.createRoom({name:n.trim(),description:i.trim()||void 0,room_type:c,organization_id:r.organization_id,participant_ids:f});t(O)}catch{j("Failed to create room")}finally{b(!1)}}},E=C=>{h(O=>O.includes(C)?O.filter(P=>P!==C):[...O,C])},T=C=>{switch(C){case"direct":return s.jsx(Gd,{className:"w-5 h-5"});case"group":return s.jsx(jr,{className:"w-5 h-5"});case"channel":return s.jsx(sG,{className:"w-5 h-5"});default:return s.jsx(jr,{className:"w-5 h-5"})}},A=C=>{switch(C){case"direct":return"Private conversation between two people";case"group":return"Private group conversation";case"channel":return"Public channel for team discussions";default:return""}};return s.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4",children:s.jsxs("div",{className:"bg-white rounded-lg shadow-xl w-full max-w-md max-h-[90vh] overflow-hidden",children:[s.jsxs("div",{className:"flex items-center justify-between p-6 border-b border-gray-200",children:[s.jsx("h2",{className:"text-xl font-semibold text-gray-900",children:"Create New Room"}),s.jsx("button",{onClick:e,className:"p-1 text-gray-400 hover:text-gray-600 rounded-full hover:bg-gray-100 transition-colors",children:s.jsx(Tr,{className:"w-5 h-5"})})]}),s.jsxs("form",{onSubmit:_,className:"p-6 space-y-6",children:[s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Room Name *"}),s.jsx("input",{type:"text",value:n,onChange:C=>a(C.target.value),placeholder:"Enter room name...",className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-fuchsia-500 focus:border-transparent",required:!0})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Description"}),s.jsx("textarea",{value:i,onChange:C=>l(C.target.value),placeholder:"Enter room description (optional)...",rows:3,className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-fuchsia-500 focus:border-transparent resize-none"})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-3",children:"Room Type"}),s.jsx("div",{className:"space-y-2",children:["group","channel","direct"].map(C=>s.jsxs("label",{className:`flex items-center p-3 border rounded-lg cursor-pointer transition-colors ${c===C?"border-fuchsia-500 bg-fuchsia-50":"border-gray-300 hover:border-gray-400"}`,children:[s.jsx("input",{type:"radio",name:"roomType",value:C,checked:c===C,onChange:O=>d(O.target.value),className:"sr-only"}),s.jsxs("div",{className:"flex items-center space-x-3",children:[s.jsx("div",{className:`p-2 rounded-lg ${c===C?"bg-fuchsia-100 text-fuchsia-600":"bg-gray-100 text-gray-500"}`,children:T(C)}),s.jsxs("div",{children:[s.jsx("div",{className:"font-medium text-gray-900 capitalize",children:C}),s.jsx("div",{className:"text-sm text-gray-500",children:A(C)})]})]})]},C))})]}),c!=="direct"&&s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-3",children:"Add Members"}),s.jsx("div",{className:"max-h-40 overflow-y-auto space-y-2",children:p.map(C=>s.jsxs("label",{className:"flex items-center space-x-3 p-2 rounded-lg hover:bg-gray-50 cursor-pointer",children:[s.jsx("input",{type:"checkbox",checked:f.includes(C.id),onChange:()=>E(C.id),className:"w-4 h-4 text-fuchsia-600 border-gray-300 rounded focus:ring-fuchsia-500"}),s.jsx("div",{className:"w-8 h-8 bg-gradient-to-r from-blue-500 to-purple-500 rounded-full flex items-center justify-center text-white text-sm font-medium",children:C.name.charAt(0).toUpperCase()}),s.jsxs("div",{className:"flex-1 min-w-0",children:[s.jsx("div",{className:"text-sm font-medium text-gray-900 truncate",children:C.name}),s.jsx("div",{className:"text-xs text-gray-500 truncate",children:C.email})]})]},C.id))}),f.length>0&&s.jsxs("div",{className:"mt-2 text-sm text-gray-600",children:[f.length," member",f.length!==1?"s":""," selected"]})]}),w&&s.jsx("div",{className:"p-3 bg-red-50 border border-red-200 rounded-lg",children:s.jsx("p",{className:"text-sm text-red-600",children:w})}),s.jsxs("div",{className:"flex items-center justify-end space-x-3 pt-4 border-t border-gray-200",children:[s.jsx("button",{type:"button",onClick:e,className:"px-4 py-2 text-gray-700 bg-gray-100 rounded-lg hover:bg-gray-200 transition-colors",children:"Cancel"}),s.jsx("button",{type:"submit",disabled:!n.trim()||y,className:"px-4 py-2 bg-gradient-to-r from-fuchsia-600 to-pink-500 text-white rounded-lg hover:from-fuchsia-700 hover:to-pink-600 disabled:from-gray-300 disabled:to-gray-400 disabled:cursor-not-allowed transition-all duration-200",children:y?"Creating...":"Create Room"})]})]})]})})},WAe=()=>{const{user:e}=ma(),[t,r]=v.useState([]),[n,a]=v.useState(),[i,l]=v.useState(!0),[c,d]=v.useState(null),[f,h]=v.useState(""),[p,g]=v.useState(!1);v.useEffect(()=>{y()},[]);const y=async()=>{try{l(!0);const _=await Lc.getRooms();r(_),_.length>0&&!n&&a(_[0].id)}catch{d("Failed to load chat rooms")}finally{l(!1)}},b=_=>{a(_)},w=_=>{r(E=>[_,...E]),a(_.id),g(!1)},j=t.filter(_=>_&&typeof _=="object").filter(_=>(_.name||"").toLowerCase().includes((f||"").toLowerCase())),S=_=>{switch(_){case"direct":return"";case"group":return"";case"channel":return"";default:return""}};return i?s.jsx("div",{className:"flex-1 flex items-center justify-center",children:s.jsxs("div",{className:"text-center",children:[s.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-fuchsia-600 mx-auto mb-4"}),s.jsx("p",{className:"text-gray-500",children:"Loading chat rooms..."})]})}):s.jsxs("div",{className:"h-full flex bg-gray-50 -m-6",children:[s.jsxs("div",{className:"w-80 bg-white border-r border-gray-200 flex flex-col",children:[s.jsxs("div",{className:"p-4 border-b border-gray-200",children:[s.jsxs("div",{className:"flex items-center justify-between mb-4",children:[s.jsx("h1",{className:"text-xl font-semibold text-gray-900",children:"Chat"}),s.jsx("button",{onClick:()=>g(!0),className:"p-2 bg-gradient-to-r from-fuchsia-600 to-pink-500 text-white rounded-full hover:from-fuchsia-700 hover:to-pink-600 transition-all duration-200 transform hover:scale-105",children:s.jsx(Cr,{className:"w-5 h-5"})})]}),s.jsxs("div",{className:"relative",children:[s.jsx(fi,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400 w-4 h-4"}),s.jsx("input",{type:"text",placeholder:"Search conversations...",value:f,onChange:_=>h(_.target.value),className:"w-full pl-10 pr-4 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-fuchsia-500 focus:border-transparent"})]})]}),s.jsxs("div",{className:"flex-1 overflow-y-auto",children:[c&&s.jsxs("div",{className:"p-4 text-center",children:[s.jsx("div",{className:"text-red-500 mb-2",children:""}),s.jsx("p",{className:"text-sm text-gray-600 mb-3",children:c}),s.jsx("button",{onClick:y,className:"px-3 py-1 bg-fuchsia-600 text-white text-sm rounded-lg hover:bg-fuchsia-700 transition-colors",children:"Retry"})]}),j.length===0&&!c&&s.jsxs("div",{className:"p-4 text-center",children:[s.jsx(Sd,{className:"w-12 h-12 text-gray-400 mx-auto mb-3"}),s.jsx("h3",{className:"text-sm font-medium text-gray-900 mb-1",children:"No conversations"}),s.jsx("p",{className:"text-xs text-gray-500 mb-3",children:"Start a new conversation"}),s.jsx("button",{onClick:()=>g(!0),className:"px-3 py-1 bg-fuchsia-600 text-white text-sm rounded-lg hover:bg-fuchsia-700 transition-colors",children:"Create Room"})]}),s.jsx("div",{className:"space-y-1 p-2",children:j.map((_,E)=>{const T=_.updated_at||_.created_at,A=T?(()=>{const C=new Date(T);return isNaN(C.getTime())?"":C.toLocaleDateString()})():"";return s.jsx("button",{onClick:()=>b(_.id),className:`w-full text-left p-3 rounded-lg transition-colors ${n===_.id?"bg-gradient-to-r from-fuchsia-50 to-pink-50 border border-fuchsia-200":"hover:bg-gray-50"}`,children:s.jsxs("div",{className:"flex items-center space-x-3",children:[s.jsx("div",{className:"w-10 h-10 bg-gradient-to-r from-fuchsia-600 to-pink-500 rounded-full flex items-center justify-center text-white text-lg",children:S(_.room_type)}),s.jsxs("div",{className:"flex-1 min-w-0",children:[s.jsxs("div",{className:"flex items-center space-x-2",children:[s.jsx("h3",{className:"text-sm font-medium text-gray-900 truncate",children:_.name||"Untitled room"}),_.room_type==="direct"&&s.jsx("span",{className:"w-2 h-2 bg-green-500 rounded-full"})]}),_.description&&s.jsx("p",{className:"text-xs text-gray-500 truncate",children:_.description}),A&&s.jsxs("p",{className:"text-xs text-gray-400",children:[_.room_type,"  ",A]})]})]})},_.id??E)})})]})]}),s.jsx("div",{className:"flex-1 flex flex-col",children:s.jsx(VAe,{roomId:n,onRoomSelect:b})}),p&&s.jsx(qAe,{onClose:()=>g(!1),onRoomCreated:w})]})},GAe=()=>{const{user:e}=ma(),t=zo(),[r,n]=v.useState([{id:"1",content:` Hello! I'm your AI Sales Assistant, powered by advanced CRM analytics.

 I can help you with:
 **Pipeline Analysis** - Deep insights into your sales funnel
 **Lead Intelligence** - Find your hottest prospects automatically
 **Deal Strategy** - Personalized recommendations for each opportunity
 **Revenue Optimization** - Data-driven tactics to boost your numbers
 **Follow-up Automation** - Smart reminders and next steps

 Try asking me:
 "What are my top 3 deals this month?"
 "Which leads need immediate attention?"
 "How can I improve my pipeline?"

What would you like to explore today?`,sender:"ai",timestamp:new Date}]),[a,i]=v.useState(""),[l,c]=v.useState(!1),[d,f]=v.useState(null),h=v.useRef(null),p=v.useRef(null),g=()=>{h.current?.scrollIntoView({behavior:"smooth"})};v.useEffect(()=>{g()},[r]);const y=async()=>{if(!a.trim()||l)return;const _={id:Date.now().toString(),content:a.trim(),sender:"user",timestamp:new Date};n(E=>[...E,_]),i(""),c(!0);try{const E=localStorage.getItem("access_token"),T=await fetch("/api/ai/assistant",{method:"POST",headers:{"Content-Type":"application/json",...E&&{Authorization:`Bearer ${E}`}},body:JSON.stringify({message:a.trim(),user_id:e?.id||1})});if(!T.ok)throw new Error("Failed to get AI response");const A=await T.json(),C={id:(Date.now()+1).toString(),content:A.response,sender:"ai",timestamp:new Date};n(O=>[...O,C])}catch(E){console.error("Error sending message:",E);const T={id:(Date.now()+1).toString(),content:"Sorry, I'm having trouble connecting right now. Please try again in a moment.",sender:"ai",timestamp:new Date};n(A=>[...A,T])}finally{c(!1)}},b=_=>{_.key==="Enter"&&!_.shiftKey&&(_.preventDefault(),y())},w=async(_,E)=>{try{await navigator.clipboard.writeText(_),f(E),setTimeout(()=>f(null),2e3)}catch(T){console.error("Failed to copy text: ",T)}},j=["Show me my top 3 deals this month","Which leads need immediate attention?","Analyze my pipeline performance","Find my hottest prospects","What deals are at risk of stalling?","Suggest follow-up actions for this week"],S=_=>{i(_),p.current?.focus()};return s.jsxs("div",{className:"flex flex-col h-full bg-white",children:[s.jsxs("div",{className:"flex items-center justify-between p-4 border-b border-gray-200 bg-gradient-to-r from-indigo-600 to-purple-600 text-white",children:[s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx("div",{className:"p-2 bg-white/20 rounded-lg",children:s.jsx(dl,{className:"h-6 w-6"})}),s.jsxs("div",{children:[s.jsx("h2",{className:"text-lg font-semibold",children:"AI Sales Assistant"}),s.jsx("p",{className:"text-sm text-white/80",children:"Powered by AI"})]})]}),s.jsxs("button",{onClick:()=>t("/ai-help"),className:"flex items-center gap-2 px-3 py-2 bg-white/20 hover:bg-white/30 rounded-lg transition-colors",title:"Open AI Help Guide",children:[s.jsx($N,{className:"h-4 w-4"}),s.jsx("span",{className:"text-sm font-medium",children:"Help"})]})]}),s.jsxs("div",{className:"flex-1 overflow-y-auto p-4 space-y-4",children:[r.map(_=>s.jsxs("div",{className:`flex gap-3 ${_.sender==="user"?"justify-end":"justify-start"}`,children:[_.sender==="ai"&&s.jsx("div",{className:"flex-shrink-0 w-8 h-8 bg-gradient-to-r from-indigo-500 to-purple-600 rounded-full flex items-center justify-center",children:s.jsx(dl,{className:"h-4 w-4 text-white"})}),s.jsxs("div",{className:`max-w-[80%] rounded-2xl px-4 py-3 ${_.sender==="user"?"bg-gradient-to-r from-indigo-600 to-purple-600 text-white":"bg-gray-100 text-gray-900"}`,children:[s.jsx("div",{className:"whitespace-pre-wrap text-sm leading-relaxed",children:_.content}),s.jsxs("div",{className:"flex items-center justify-between mt-2",children:[s.jsx("span",{className:`text-xs ${_.sender==="user"?"text-white/70":"text-gray-500"}`,children:_.timestamp.toLocaleTimeString([],{hour:"2-digit",minute:"2-digit"})}),_.sender==="ai"&&s.jsx("button",{onClick:()=>w(_.content,_.id),className:"ml-2 p-1 hover:bg-gray-200 rounded transition-colors",title:"Copy message",children:d===_.id?s.jsx(XM,{className:"h-3 w-3 text-green-600"}):s.jsx(zW,{className:"h-3 w-3 text-gray-500"})})]})]}),_.sender==="user"&&s.jsx("div",{className:"flex-shrink-0 w-8 h-8 bg-gray-300 rounded-full flex items-center justify-center",children:s.jsx(Gd,{className:"h-4 w-4 text-gray-600"})})]},_.id)),l&&s.jsxs("div",{className:"flex gap-3 justify-start",children:[s.jsx("div",{className:"flex-shrink-0 w-8 h-8 bg-gradient-to-r from-indigo-500 to-purple-600 rounded-full flex items-center justify-center",children:s.jsx(dl,{className:"h-4 w-4 text-white"})}),s.jsx("div",{className:"bg-gray-100 rounded-2xl px-4 py-3",children:s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsxs("div",{className:"flex space-x-1",children:[s.jsx("div",{className:"w-2 h-2 bg-gray-400 rounded-full animate-bounce"}),s.jsx("div",{className:"w-2 h-2 bg-gray-400 rounded-full animate-bounce",style:{animationDelay:"0.1s"}}),s.jsx("div",{className:"w-2 h-2 bg-gray-400 rounded-full animate-bounce",style:{animationDelay:"0.2s"}})]}),s.jsx("span",{className:"text-sm text-gray-500",children:"AI is thinking..."})]})})]}),r.length===1&&s.jsxs("div",{className:"mt-6",children:[s.jsx("p",{className:"text-sm text-gray-500 mb-3 text-center",children:"Try these suggestions:"}),s.jsx("div",{className:"flex flex-wrap gap-2 justify-center",children:j.map((_,E)=>s.jsx("button",{onClick:()=>S(_),className:"px-4 py-2 bg-gradient-to-r from-indigo-100 to-purple-100 hover:from-indigo-200 hover:to-purple-200 text-indigo-700 rounded-full text-sm font-medium transition-all duration-200 transform hover:scale-105",children:_},E))})]}),s.jsx("div",{ref:h})]}),s.jsxs("div",{className:"p-4 border-t border-gray-200",children:[s.jsxs("div",{className:"flex gap-3",children:[s.jsxs("div",{className:"flex-1 relative",children:[s.jsx("textarea",{ref:p,value:a,onChange:_=>i(_.target.value),onKeyPress:b,placeholder:"Ask me about your sales data...",className:"w-full px-4 py-3 pr-12 border border-gray-200 rounded-xl focus:ring-2 focus:ring-indigo-500 focus:border-transparent resize-none",rows:1,style:{minHeight:"48px",maxHeight:"120px"},disabled:l}),s.jsx("div",{className:"absolute right-3 top-1/2 transform -translate-y-1/2",children:s.jsx(fh,{className:"h-5 w-5 text-gray-400"})})]}),s.jsx("button",{onClick:y,disabled:!a.trim()||l,className:"px-6 py-3 bg-gradient-to-r from-indigo-600 to-purple-600 text-white rounded-xl hover:from-indigo-700 hover:to-purple-700 disabled:opacity-50 disabled:cursor-not-allowed transition-all duration-200 transform hover:scale-105 disabled:hover:scale-100",children:s.jsx(Xc,{className:"h-5 w-5"})})]}),s.jsx("p",{className:"text-xs text-gray-500 mt-2 text-center",children:"Press Enter to send  Shift+Enter for new line"})]})]})},KAe=[{id:"lead-scoring",title:"AI Lead Scoring",description:"Automatically score leads based on behavior, engagement, and company data to prioritize high-value prospects.",icon:s.jsx(Aa,{className:"w-8 h-8"}),status:"implemented",category:"lead-management",details:{howItWorks:"Our AI analyzes multiple data points including email engagement, website activity, company size, industry, and interaction patterns to assign a score from 0-100. The algorithm learns from your historical conversion data to improve accuracy over time.",businessBenefits:["Focus sales efforts on high-probability leads","Reduce time spent on low-value prospects","Improve conversion rates by 40-60%","Better resource allocation and forecasting"],technicalDetails:"Uses machine learning models trained on your CRM data, integrates with email tracking, website analytics, and company databases. Updates scores in real-time as new data becomes available.",useCases:["Prioritizing daily lead follow-ups","Segmenting leads for different sales approaches","Identifying upsell opportunities","Predicting deal closure probability"]}},{id:"email-automation",title:"Smart Email Automation",description:"AI-powered email campaigns with personalization, timing optimization, and behavioral triggers.",icon:s.jsx(Wd,{className:"w-8 h-8"}),status:"implemented",category:"automation",details:{howItWorks:"The system analyzes recipient behavior patterns, optimal sending times, and content preferences to automatically send personalized emails. It uses A/B testing to optimize subject lines, content, and timing for maximum engagement.",businessBenefits:["Increase email open rates by 25-35%","Reduce manual email management by 80%","Improve lead nurturing efficiency","Scale personalized communication"],technicalDetails:"Integrates with email providers, uses natural language processing for content personalization, machine learning for timing optimization, and behavioral analytics for trigger-based automation.",useCases:["Welcome series for new leads","Follow-up sequences after meetings","Re-engagement campaigns for cold leads","Product announcement campaigns"]}},{id:"chat-assistant",title:"AI Chat Assistant",description:"Intelligent chatbot that handles customer inquiries, qualifies leads, and provides instant support.",icon:s.jsx(dh,{className:"w-8 h-8"}),status:"implemented",category:"communication",details:{howItWorks:"The AI assistant uses natural language processing to understand customer queries and provide relevant responses. It can qualify leads, schedule meetings, answer FAQs, and escalate complex issues to human agents.",businessBenefits:["Provide 24/7 customer support","Qualify leads automatically","Reduce response time to seconds","Handle multiple conversations simultaneously"],technicalDetails:"Built on advanced language models, integrates with your CRM, calendar, and knowledge base. Continuously learns from conversations to improve accuracy and response quality.",useCases:["Website live chat support","Lead qualification and scheduling","FAQ handling and troubleshooting","Meeting scheduling and reminders"]}},{id:"predictive-analytics",title:"Predictive Analytics",description:"Forecast sales trends, identify opportunities, and predict customer behavior using AI algorithms.",icon:s.jsx(Vr,{className:"w-8 h-8"}),status:"implemented",category:"analytics",details:{howItWorks:"Advanced machine learning models analyze historical sales data, customer behavior patterns, market trends, and external factors to predict future outcomes. The system provides actionable insights and recommendations.",businessBenefits:["Accurate sales forecasting","Identify at-risk customers early","Optimize pricing strategies","Improve inventory management"],technicalDetails:"Uses time-series analysis, regression models, and deep learning algorithms. Integrates with multiple data sources including CRM, ERP, and external market data for comprehensive predictions.",useCases:["Monthly/quarterly sales forecasting","Customer churn prediction","Revenue optimization","Market opportunity identification"]}},{id:"sentiment-analysis",title:"Sentiment Analysis",description:"Analyze customer emotions and satisfaction levels from emails, chats, and social media interactions.",icon:s.jsx(Kc,{className:"w-8 h-8"}),status:"upcoming",category:"analytics",details:{howItWorks:"Natural language processing algorithms analyze text content to determine emotional tone, sentiment polarity, and customer satisfaction levels. Provides real-time insights into customer mood and satisfaction.",businessBenefits:["Identify unhappy customers early","Improve customer satisfaction scores","Optimize communication tone","Reduce customer churn"],technicalDetails:"Uses transformer-based models trained on customer communication data. Analyzes emails, chat transcripts, social media mentions, and survey responses for comprehensive sentiment tracking.",useCases:["Customer satisfaction monitoring","Support ticket prioritization","Product feedback analysis","Brand reputation monitoring"]}},{id:"customer-segmentation",title:"AI Customer Segmentation",description:"Automatically segment customers based on behavior, value, and engagement patterns for targeted marketing and sales strategies.",icon:s.jsx(jr,{className:"w-8 h-8"}),status:"implemented",category:"analytics",details:{howItWorks:"Our AI analyzes customer data including deal values, engagement patterns, company size, and activity levels to automatically create meaningful customer segments. The system continuously updates segments and provides actionable insights for each group.",businessBenefits:["Target high-value customers for upselling","Identify at-risk customers early","Personalize marketing campaigns by segment","Improve sales efficiency and conversion rates"],technicalDetails:"Uses machine learning algorithms to analyze customer behavior patterns, deal history, and engagement metrics. Creates dynamic segments with real-time updates and provides risk/opportunity scoring for each segment.",useCases:["High-value customer identification","At-risk customer early warning","Targeted marketing campaigns","Sales team prioritization"]}},{id:"smart-scheduling",title:"AI Meeting Scheduler",description:"Intelligent scheduling that optimizes meeting times based on availability, time zones, and preferences.",icon:s.jsx(is,{className:"w-8 h-8"}),status:"upcoming",category:"automation",details:{howItWorks:"The AI analyzes calendar availability, time zone differences, meeting preferences, and historical scheduling patterns to suggest optimal meeting times. Automatically handles scheduling conflicts and sends reminders.",businessBenefits:["Reduce scheduling back-and-forth by 90%","Optimize meeting attendance rates","Save 2-3 hours per week on scheduling","Improve customer experience"],technicalDetails:"Integrates with major calendar platforms (Google Calendar, Outlook), uses machine learning for preference learning, and provides smart conflict resolution and time zone handling.",useCases:["Sales meeting scheduling","Customer discovery calls","Team meeting coordination","Client consultation booking"]}},{id:"competitor-analysis",title:"Competitor Intelligence",description:"AI-powered competitive analysis that monitors competitors' activities, pricing, and market positioning.",icon:s.jsx(zN,{className:"w-8 h-8"}),status:"upcoming",category:"analytics",details:{howItWorks:"Continuously monitors competitor websites, social media, pricing changes, and market activities. Uses web scraping, social media analysis, and market data to provide actionable competitive insights.",businessBenefits:["Stay ahead of competitor moves","Optimize pricing strategies","Identify market opportunities","Improve competitive positioning"],technicalDetails:"Uses web scraping, social media APIs, price monitoring tools, and machine learning for pattern recognition. Provides real-time alerts and comprehensive competitive reports.",useCases:["Pricing strategy optimization","Market positioning analysis","Product feature comparison","Marketing campaign monitoring"]}},{id:"sales-coaching",title:"AI Sales Coach",description:"Personalized coaching and training recommendations based on sales performance and conversation analysis.",icon:s.jsx(jr,{className:"w-8 h-8"}),status:"upcoming",category:"lead-management",details:{howItWorks:"Analyzes sales calls, emails, and performance metrics to identify improvement areas. Provides personalized coaching tips, conversation suggestions, and training recommendations for each sales rep.",businessBenefits:["Improve sales team performance by 30%","Reduce training time and costs","Standardize best practices","Accelerate new hire ramp-up"],technicalDetails:"Uses speech-to-text, conversation analysis, performance tracking, and machine learning to provide personalized insights and recommendations for each sales representative.",useCases:["New hire training and onboarding","Performance improvement coaching","Best practice identification","Sales methodology optimization"]}},{id:"conversation-intelligence",title:"Conversation Intelligence",description:"Real-time analysis of sales calls and customer interactions to extract insights and improve performance.",icon:s.jsx(dC,{className:"w-8 h-8"}),status:"premium",category:"analytics",details:{howItWorks:"Advanced speech recognition and natural language processing analyze sales calls in real-time, extracting key insights, objection patterns, and conversation quality metrics. Provides instant feedback and coaching recommendations.",businessBenefits:["Improve sales conversion rates by 25-40%","Identify winning conversation patterns","Reduce training time for new reps","Optimize sales scripts and approaches"],technicalDetails:"Uses real-time speech-to-text, sentiment analysis, keyword extraction, and machine learning to analyze call patterns. Integrates with CRM and provides detailed conversation analytics.",useCases:["Sales call analysis and coaching","Objection handling improvement","Script optimization","Performance benchmarking"]}},{id:"smart-nurturing",title:"Smart Nurturing",description:"Automated lead nurturing sequences that adapt based on behavior, engagement, and conversion probability.",icon:s.jsx(vW,{className:"w-8 h-8"}),status:"premium",category:"automation",details:{howItWorks:"AI-driven nurturing campaigns that automatically adapt content, timing, and channels based on lead behavior, engagement levels, and conversion signals. Creates personalized journeys for each prospect.",businessBenefits:["Increase lead-to-customer conversion by 50%","Reduce manual nurturing tasks by 90%","Improve lead engagement rates","Scale personalized communication"],technicalDetails:"Uses behavioral analytics, machine learning for journey optimization, multi-channel automation, and real-time decision making to create dynamic nurturing sequences.",useCases:["Lead nurturing campaigns","Customer onboarding sequences","Re-engagement programs","Upsell/cross-sell automation"]}},{id:"document-processing",title:"Document Processing",description:"OCR and AI-powered data extraction from contracts, forms, and business documents with intelligent classification.",icon:s.jsx(Is,{className:"w-8 h-8"}),status:"premium",category:"automation",details:{howItWorks:"Advanced OCR and natural language processing extract key information from contracts, invoices, forms, and other business documents. Automatically classifies documents and populates CRM fields.",businessBenefits:["Reduce manual data entry by 80%","Improve data accuracy and consistency","Accelerate document processing","Enhance compliance and audit trails"],technicalDetails:"Uses state-of-the-art OCR, document classification, entity extraction, and machine learning to process various document types and extract structured data automatically.",useCases:["Contract analysis and data extraction","Invoice processing and approval","Form data capture and validation","Document classification and routing"]}},{id:"voice-intelligence",title:"Voice Intelligence",description:"Advanced call analysis with emotion detection, speaker identification, and real-time insights.",icon:s.jsx(dC,{className:"w-8 h-8"}),status:"premium",category:"analytics",details:{howItWorks:"Real-time voice analysis detects emotions, speaker identification, call quality metrics, and provides instant insights during and after calls. Identifies patterns and opportunities for improvement.",businessBenefits:["Improve call quality and outcomes","Identify customer emotions and satisfaction","Optimize sales team performance","Enhance customer experience"],technicalDetails:"Uses voice biometrics, emotion recognition, speaker diarization, and real-time analytics to provide comprehensive call intelligence and actionable insights.",useCases:["Sales call quality analysis","Customer service optimization","Emotion detection and response","Call center performance monitoring"]}},{id:"market-intelligence",title:"Market Intelligence",description:"External data integration and market analysis to identify opportunities and competitive threats.",icon:s.jsx(ZM,{className:"w-8 h-8"}),status:"premium",category:"analytics",details:{howItWorks:"Integrates external data sources including market reports, social media, news, and industry databases to provide comprehensive market insights and competitive intelligence.",businessBenefits:["Identify new market opportunities","Stay ahead of industry trends","Optimize pricing and positioning","Improve strategic decision making"],technicalDetails:"Uses data aggregation, natural language processing, trend analysis, and machine learning to process multiple external data sources and provide actionable market intelligence.",useCases:["Market opportunity identification","Competitive threat monitoring","Industry trend analysis","Strategic planning and forecasting"]}},{id:"advanced-forecasting",title:"Advanced Forecasting",description:"ML-powered sales forecasting with multiple models and scenario planning for accurate predictions.",icon:s.jsx(YM,{className:"w-8 h-8"}),status:"premium",category:"analytics",details:{howItWorks:"Advanced machine learning models analyze historical data, market conditions, seasonality, and external factors to provide accurate sales forecasts with confidence intervals and scenario planning.",businessBenefits:["Improve forecast accuracy by 30-50%","Better resource planning and allocation","Identify revenue risks and opportunities","Optimize sales strategies"],technicalDetails:"Uses ensemble learning, time series analysis, external data integration, and scenario modeling to provide comprehensive forecasting with multiple prediction horizons.",useCases:["Sales pipeline forecasting","Revenue planning and budgeting","Resource allocation optimization","Risk assessment and mitigation"]}},{id:"advanced-forecasting",title:"Advanced Forecasting",description:"AI-powered time-series forecasting for revenue, pipeline, customer growth, and churn prediction with multiple algorithms and confidence intervals.",icon:s.jsx(Vr,{className:"w-8 h-8"}),status:"implemented",category:"analytics",details:{howItWorks:"Our advanced forecasting system uses multiple algorithms including Linear Regression, Exponential Smoothing, ARIMA, and Prophet to analyze historical data and predict future trends. Each model provides confidence intervals, accuracy scores, and actionable insights.",businessBenefits:["Accurate revenue and pipeline forecasting","Predict customer growth and churn rates","Optimize resource allocation and planning","Identify trends and seasonal patterns","Make data-driven strategic decisions"],technicalDetails:"Implements time-series analysis with multiple forecasting algorithms, confidence intervals, accuracy metrics, trend analysis, seasonality detection, and anomaly identification for comprehensive business forecasting.",useCases:["Monthly and quarterly revenue forecasting","Sales pipeline value prediction","Customer acquisition rate forecasting","Churn prediction and prevention","Budget planning and resource allocation","Market trend analysis and planning"]}}];function YAe(){const[e,t]=v.useState(null),[r,n]=v.useState("all"),[a,i]=v.useState(!1),l=KAe.filter(f=>r==="all"||f.status===r),c=f=>{switch(f){case"implemented":return"bg-green-100 text-green-800 dark:bg-green-900/30 dark:text-green-400";case"upcoming":return"bg-blue-100 text-blue-800 dark:bg-blue-900/30 dark:text-blue-400";case"premium":return"bg-gradient-to-r from-amber-100 to-yellow-100 text-amber-800 dark:from-amber-900/30 dark:to-yellow-900/30 dark:text-amber-400";default:return"bg-gray-100 text-gray-800 dark:bg-gray-900/30 dark:text-gray-400"}},d=f=>{switch(f){case"implemented":return s.jsx(Lt,{className:"w-4 h-4"});case"upcoming":return s.jsx(is,{className:"w-4 h-4"});case"premium":return s.jsx(pg,{className:"w-4 h-4"});default:return s.jsx(is,{className:"w-4 h-4"})}};return s.jsxs("div",{className:"p-6",children:[s.jsxs("div",{className:"mb-8",children:[s.jsx("h1",{className:"text-4xl font-bold text-gray-900 dark:text-white mb-4",children:"AI Features Showcase"}),s.jsx("p",{className:"text-lg text-gray-600 dark:text-gray-300 mb-6",children:"Discover how AI is transforming your CRM experience. Explore implemented features, upcoming capabilities, and premium features available on request."}),s.jsxs("div",{className:"flex gap-4 items-center mb-6",children:[s.jsxs("button",{onClick:()=>i(!0),className:"flex items-center gap-3 px-6 py-3 bg-gradient-to-r from-indigo-600 to-purple-600 text-white rounded-xl hover:from-indigo-700 hover:to-purple-700 transition-all duration-200 transform hover:scale-105 shadow-lg",children:[s.jsx(dl,{className:"h-5 w-5"}),s.jsx("span",{className:"font-medium",children:"Try AI Assistant"}),s.jsx(fh,{className:"h-4 w-4"})]}),s.jsx("p",{className:"text-sm text-gray-500",children:"Chat with our AI assistant to get personalized sales insights"})]}),s.jsxs("div",{className:"flex gap-2 mb-6 flex-wrap",children:[s.jsx("button",{onClick:()=>n("all"),className:`px-4 py-2 rounded-full font-medium transition ${r==="all"?"bg-gradient-to-r from-purple-600 to-pink-600 text-white":"bg-gray-100 dark:bg-gray-800 text-gray-700 dark:text-gray-300 hover:bg-gray-200 dark:hover:bg-gray-700"}`,children:"All Features"}),s.jsx("button",{onClick:()=>n("implemented"),className:`px-4 py-2 rounded-full font-medium transition ${r==="implemented"?"bg-gradient-to-r from-green-600 to-emerald-600 text-white":"bg-gray-100 dark:bg-gray-800 text-gray-700 dark:text-gray-300 hover:bg-gray-200 dark:hover:bg-gray-700"}`,children:"Implemented"}),s.jsx("button",{onClick:()=>n("upcoming"),className:`px-4 py-2 rounded-full font-medium transition ${r==="upcoming"?"bg-gradient-to-r from-blue-600 to-cyan-600 text-white":"bg-gray-100 dark:bg-gray-800 text-gray-700 dark:text-gray-300 hover:bg-gray-200 dark:hover:bg-gray-700"}`,children:"Upcoming"}),s.jsx("button",{onClick:()=>n("premium"),className:`px-4 py-2 rounded-full font-medium transition ${r==="premium"?"bg-gradient-to-r from-amber-500 to-yellow-500 text-white":"bg-gray-100 dark:bg-gray-800 text-gray-700 dark:text-gray-300 hover:bg-gray-200 dark:hover:bg-gray-700"}`,children:"Premium Features"})]}),r==="premium"&&s.jsx("div",{className:"mb-6 p-4 bg-gradient-to-r from-amber-50 to-yellow-50 dark:from-amber-900/20 dark:to-yellow-900/20 border border-amber-200 dark:border-amber-700 rounded-lg",children:s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx(pg,{className:"w-6 h-6 text-amber-600"}),s.jsxs("div",{children:[s.jsx("h3",{className:"font-semibold text-amber-800 dark:text-amber-300",children:"Premium Features Available on Request"}),s.jsx("p",{className:"text-amber-700 dark:text-amber-400 text-sm",children:"These advanced AI features are available for custom development. Contact us to discuss implementation options and pricing."})]})]})})]}),s.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6",children:l.map(f=>s.jsxs("div",{className:`bg-white dark:bg-gray-900 rounded-2xl shadow-lg border border-gray-200 dark:border-gray-700 p-6 hover:shadow-xl transition-all duration-300 cursor-pointer group ${f.status==="premium"?"ring-2 ring-amber-200 dark:ring-amber-700":""}`,onClick:()=>t(f),children:[s.jsxs("div",{className:"flex items-center justify-between mb-4",children:[s.jsx("div",{className:`p-3 rounded-xl ${f.status==="premium"?"bg-gradient-to-br from-amber-100 to-yellow-100 dark:from-amber-900/30 dark:to-yellow-900/30":"bg-gradient-to-br from-purple-100 to-pink-100 dark:from-purple-900/30 dark:to-pink-900/30"}`,children:f.icon}),s.jsxs("span",{className:`px-2 py-1 rounded-full text-xs font-medium flex items-center gap-1 ${c(f.status)}`,children:[d(f.status),f.status==="premium"?"Premium":f.status]})]}),s.jsx("h3",{className:"text-xl font-bold text-gray-900 dark:text-white mb-3 group-hover:text-purple-600 dark:group-hover:text-purple-400 transition",children:f.title}),s.jsx("p",{className:"text-gray-600 dark:text-gray-300 text-sm mb-4 line-clamp-3",children:f.description}),s.jsxs("div",{className:"flex items-center text-purple-600 dark:text-purple-400 font-medium text-sm group-hover:gap-2 transition-all",children:["Learn More",s.jsx(Ao,{className:"w-4 h-4"})]})]},f.id))}),l.length===0&&s.jsxs("div",{className:"text-center py-12",children:[s.jsx(Ag,{className:"w-16 h-16 text-gray-400 mx-auto mb-4"}),s.jsx("h3",{className:"text-xl font-semibold text-gray-900 dark:text-white mb-2",children:"No features found"}),s.jsx("p",{className:"text-gray-600 dark:text-gray-300",children:"Try adjusting your filter to see more features."})]}),e&&s.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center p-4 z-50",children:s.jsxs("div",{className:"bg-white dark:bg-gray-900 rounded-2xl max-w-4xl w-full max-h-[90vh] overflow-y-auto",children:[s.jsx("div",{className:"p-6 border-b border-gray-200 dark:border-gray-700",children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{className:"flex items-center gap-4",children:[s.jsx("div",{className:`p-3 rounded-xl ${e.status==="premium"?"bg-gradient-to-br from-amber-100 to-yellow-100 dark:from-amber-900/30 dark:to-yellow-900/30":"bg-gradient-to-br from-purple-100 to-pink-100 dark:from-purple-900/30 dark:to-pink-900/30"}`,children:e.icon}),s.jsxs("div",{children:[s.jsx("h2",{className:"text-2xl font-bold text-gray-900 dark:text-white",children:e.title}),s.jsx("span",{className:`px-3 py-1 rounded-full text-sm font-medium ${c(e.status)}`,children:e.status==="premium"?"Premium Feature":e.status})]})]}),s.jsx("button",{onClick:()=>t(null),className:"p-2 hover:bg-gray-100 dark:hover:bg-gray-800 rounded-full transition",children:s.jsx(Tr,{className:"w-6 h-6"})})]})}),s.jsxs("div",{className:"p-6 space-y-6",children:[e.status==="premium"&&s.jsx("div",{className:"p-4 bg-gradient-to-r from-amber-50 to-yellow-50 dark:from-amber-900/20 dark:to-yellow-900/20 border border-amber-200 dark:border-amber-700 rounded-lg",children:s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx(pg,{className:"w-5 h-5 text-amber-600"}),s.jsxs("div",{children:[s.jsx("h4",{className:"font-semibold text-amber-800 dark:text-amber-300",children:"Premium Feature"}),s.jsx("p",{className:"text-amber-700 dark:text-amber-400 text-sm",children:"This feature is available for custom development. Contact our team to discuss implementation options, pricing, and timeline."})]})]})}),s.jsxs("div",{children:[s.jsx("h3",{className:"text-lg font-semibold text-gray-900 dark:text-white mb-3",children:"Overview"}),s.jsx("p",{className:"text-gray-600 dark:text-gray-300",children:e.description})]}),s.jsxs("div",{children:[s.jsxs("h3",{className:"text-lg font-semibold text-gray-900 dark:text-white mb-3 flex items-center gap-2",children:[s.jsx(Qc,{className:"w-5 h-5 text-purple-600"}),"How It Works"]}),s.jsx("p",{className:"text-gray-600 dark:text-gray-300",children:e.details.howItWorks})]}),s.jsxs("div",{children:[s.jsxs("h3",{className:"text-lg font-semibold text-gray-900 dark:text-white mb-3 flex items-center gap-2",children:[s.jsx(Vr,{className:"w-5 h-5 text-green-600"}),"Business Benefits"]}),s.jsx("ul",{className:"space-y-2",children:e.details.businessBenefits.map((f,h)=>s.jsxs("li",{className:"flex items-start gap-3",children:[s.jsx(Lt,{className:"w-5 h-5 text-green-500 mt-0.5 flex-shrink-0"}),s.jsx("span",{className:"text-gray-600 dark:text-gray-300",children:f})]},h))})]}),s.jsxs("div",{children:[s.jsxs("h3",{className:"text-lg font-semibold text-gray-900 dark:text-white mb-3 flex items-center gap-2",children:[s.jsx(ch,{className:"w-5 h-5 text-blue-600"}),"Use Cases"]}),s.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-3",children:e.details.useCases.map((f,h)=>s.jsx("div",{className:"bg-gray-50 dark:bg-gray-800 p-3 rounded-lg",children:s.jsx("span",{className:"text-gray-700 dark:text-gray-300 text-sm",children:f})},h))})]}),s.jsxs("div",{children:[s.jsxs("h3",{className:"text-lg font-semibold text-gray-900 dark:text-white mb-3 flex items-center gap-2",children:[s.jsx(H2,{className:"w-5 h-5 text-orange-600"}),"Technical Details"]}),s.jsx("p",{className:"text-gray-600 dark:text-gray-300",children:e.details.technicalDetails})]})]}),s.jsx("div",{className:"p-6 border-t border-gray-200 dark:border-gray-700 flex justify-end",children:s.jsx("button",{onClick:()=>t(null),className:"px-6 py-2 bg-gray-100 dark:bg-gray-800 text-gray-700 dark:text-gray-300 rounded-full hover:bg-gray-200 dark:hover:bg-gray-700 transition",children:"Close"})})]})}),a&&s.jsx("div",{className:"fixed inset-0 bg-black/50 flex items-center justify-center z-50 p-4",children:s.jsxs("div",{className:"bg-white rounded-2xl shadow-2xl w-full max-w-4xl h-[80vh] flex flex-col",children:[s.jsxs("div",{className:"flex items-center justify-between p-4 border-b border-gray-200",children:[s.jsx("h2",{className:"text-xl font-semibold text-gray-900",children:"AI Sales Assistant"}),s.jsx("button",{onClick:()=>i(!1),className:"p-2 hover:bg-gray-100 rounded-lg transition-colors",children:s.jsx(Tr,{className:"h-5 w-5 text-gray-500"})})]}),s.jsx("div",{className:"flex-1 overflow-hidden",children:s.jsx(GAe,{})})]})})]})}const XAe=()=>{const[e,t]=v.useState("overview"),[r,n]=v.useState(null),[a,i]=v.useState(""),[l,c]=v.useState(null),[d,f]=v.useState("grid"),h=[{id:"overview",title:"Getting Started",description:"Master the basics of AI prompting",icon:fC,color:"from-blue-500 to-purple-600",prompts:[{id:"basic-pipeline",title:"Pipeline Overview",description:"Get a quick overview of your sales pipeline",prompt:"Analyze my pipeline and tell me which 3 deals need immediate attention and why",category:"overview",difficulty:"beginner",tags:["pipeline","analysis","priority"]},{id:"basic-email",title:"Simple Email Generation",description:"Generate a personalized email quickly",prompt:"Create a personalized email for [Contact Name] about [Topic] that references our last conversation",category:"overview",difficulty:"beginner",tags:["email","personalization","communication"]}]},{id:"leads",title:"Lead Management",description:"Qualify, nurture, and convert leads",icon:Ag,color:"from-green-500 to-teal-600",prompts:[{id:"lead-qualification",title:"Lead Qualification Analysis",description:"Comprehensive lead assessment and scoring",prompt:"Analyze lead [Lead Name] and provide a comprehensive qualification assessment including: current lead score and factors, qualification status (Hot/Warm/Cold) with reasoning, buying signals and purchase intent indicators, risk factors and potential obstacles, specific next steps to advance the lead, expected sales cycle timeline, required resources to close",category:"leads",difficulty:"intermediate",tags:["qualification","scoring","analysis","strategy"]},{id:"lead-nurturing",title:"Lead Nurturing Strategy",description:"Develop a nurturing sequence for leads",prompt:"Develop a lead nurturing strategy for [Lead Name] including: content strategy and communication cadence, channel mix (email, social, phone, events), personalization approach for each touchpoint, value delivery at each stage, progression triggers and handoff criteria, success metrics to track effectiveness",category:"leads",difficulty:"intermediate",tags:["nurturing","strategy","content","engagement"]},{id:"lead-conversion",title:"Lead to Deal Conversion",description:"Convert qualified leads to active deals",prompt:"Help me convert lead [Lead Name] to a deal by: identifying the best conversion approach, creating a compelling value proposition, addressing potential objections, setting up the deal structure, planning the next steps",category:"leads",difficulty:"intermediate",tags:["conversion","strategy","objection-handling","value-proposition"]}]},{id:"deals",title:"Deal Strategy",description:"Win more deals with strategic planning",icon:fh,color:"from-purple-500 to-pink-600",prompts:[{id:"deal-strategy",title:"Deal Strategy Development",description:"Create comprehensive deal strategies",prompt:"Create a comprehensive strategy for deal [Deal Name]: current status and position in sales process, key stakeholders and decision makers, competitive advantages and differentiators, value proposition for this specific prospect, anticipated objections and response strategies, closing strategy and tactics, critical milestones and timeline, risk mitigation plans",category:"deals",difficulty:"advanced",tags:["strategy","stakeholders","competitive","closing"]},{id:"deal-progression",title:"Deal Advancement",description:"Move deals to the next stage",prompt:"Help me advance deal [Deal Name] to the next stage by: identifying what's needed to move forward, creating a compelling business case, planning stakeholder engagement, addressing any blockers or concerns, setting up next steps and timeline",category:"deals",difficulty:"intermediate",tags:["progression","business-case","stakeholders","timeline"]},{id:"deal-risk",title:"Deal Risk Assessment",description:"Identify and mitigate deal risks",prompt:"Assess the risk level for deal [Deal Name] and provide: risk factors and their impact, probability of closing, mitigation strategies, early warning indicators, contingency plans",category:"deals",difficulty:"intermediate",tags:["risk-assessment","mitigation","probability","contingency"]}]},{id:"communication",title:"Email & Communication",description:"Master personalized communication",icon:bG,color:"from-orange-500 to-red-600",prompts:[{id:"email-personalization",title:"Advanced Email Personalization",description:"Create highly personalized emails",prompt:"Generate a personalized email for [Contact Name] about [Topic/Purpose]: use a professional but warm tone, reference specific interactions or data points, include relevant value propositions, create appropriate urgency, provide clear call-to-action, strengthen the relationship",category:"communication",difficulty:"intermediate",tags:["email","personalization","tone","value-proposition"]},{id:"follow-up-strategy",title:"Follow-up Strategy",description:"Create effective follow-up sequences",prompt:"Create a follow-up strategy for [Contact/Deal Name]: optimal timing for follow-up, best communication channel, key message points, value to provide in follow-up, clear next steps for the prospect, escalation plan if needed",category:"communication",difficulty:"intermediate",tags:["follow-up","timing","channels","escalation"]},{id:"objection-handling",title:"Objection Handling",description:"Handle sales objections effectively",prompt:'Help me handle this objection: "[Objection Text]" for deal [Deal Name]: analyze the root cause of the objection, provide response strategy and talking points, include proof points and examples, suggest alternative approaches, plan follow-up actions, prevent similar objections in future',category:"communication",difficulty:"advanced",tags:["objections","response-strategy","proof-points","prevention"]}]},{id:"analytics",title:"Pipeline & Analytics",description:"Data-driven sales insights",icon:fi,color:"from-indigo-500 to-blue-600",prompts:[{id:"pipeline-analysis",title:"Pipeline Health Check",description:"Comprehensive pipeline analysis",prompt:"Analyze my sales pipeline and provide insights on: overall pipeline health and strength, stage-by-stage bottlenecks and opportunities, revenue forecasting and projections, conversion rates between stages, deal velocity and time in each stage, resource allocation recommendations, risk assessment and mitigation strategies",category:"analytics",difficulty:"advanced",tags:["pipeline","health","forecasting","conversion-rates"]},{id:"sales-forecasting",title:"Sales Forecasting",description:"Predict revenue and outcomes",prompt:"Provide a sales forecast based on my current pipeline: revenue projections by time period, deal probability assessments, timeline predictions for closures, risk factors that could impact forecast, confidence levels for predictions, scenario planning (best/worst/most likely), gap analysis against targets",category:"analytics",difficulty:"advanced",tags:["forecasting","revenue","probability","scenarios"]},{id:"performance-analysis",title:"Performance Analysis",description:"Analyze and improve performance",prompt:"Analyze my sales performance and provide: key performance indicators and trends, strengths and areas for improvement, comparison with team/organization metrics, goal achievement status, recommendations for improvement, action items to boost performance",category:"analytics",difficulty:"intermediate",tags:["performance","kpis","improvement","benchmarking"]}]},{id:"competitive",title:"Competitive Intelligence",description:"Outmaneuver the competition",icon:gn,color:"from-red-500 to-orange-600",prompts:[{id:"competitive-analysis",title:"Competitive Analysis",description:"Analyze competitive landscape",prompt:"Analyze the competitive landscape for deal [Deal Name]: identify key competitors in this deal, our advantages and differentiators, competitor weaknesses to exploit, battle cards and talking points, proof points of our superiority, risk mitigation against competitor advantages, win strategy against competition",category:"competitive",difficulty:"advanced",tags:["competitive","analysis","differentiators","battle-cards"]},{id:"market-positioning",title:"Market Positioning",description:"Position against specific competitors",prompt:"Help me position our solution against [Competitor Name] by: highlighting our key differentiators, creating compelling value propositions, developing proof points and case studies, addressing competitor claims, pricing strategy and positioning, win themes and messaging",category:"competitive",difficulty:"intermediate",tags:["positioning","differentiators","value-proposition","messaging"]}]}],g=h.flatMap(j=>j.prompts).filter(j=>j.title.toLowerCase().includes(a.toLowerCase())||j.description.toLowerCase().includes(a.toLowerCase())||j.tags.some(S=>S.toLowerCase().includes(a.toLowerCase()))),y=async(j,S)=>{try{await navigator.clipboard.writeText(j),c(S),setTimeout(()=>c(null),2e3)}catch(_){console.error("Failed to copy text: ",_)}},b=j=>{switch(j){case"beginner":return"bg-green-100 text-green-800";case"intermediate":return"bg-yellow-100 text-yellow-800";case"advanced":return"bg-red-100 text-red-800";default:return"bg-gray-100 text-gray-800"}},w=j=>{switch(j){case"beginner":return"";case"intermediate":return"";case"advanced":return"";default:return""}};return s.jsxs("div",{className:"min-h-screen bg-gradient-to-br from-slate-50 via-blue-50 to-indigo-100",children:[s.jsxs("div",{className:"relative overflow-hidden bg-gradient-to-r from-indigo-600 via-purple-600 to-pink-600",children:[s.jsx("div",{className:"absolute inset-0 bg-black/20"}),s.jsx("div",{className:"relative px-6 py-16 sm:px-8 lg:px-12",children:s.jsxs("div",{className:"text-center",children:[s.jsx("div",{className:"flex justify-center mb-6",children:s.jsx("div",{className:"p-4 bg-white/20 backdrop-blur-sm rounded-2xl",children:s.jsx(fh,{className:"h-12 w-12 text-white"})})}),s.jsx("h1",{className:"text-4xl md:text-6xl font-bold text-white mb-4",children:"AI Sales Assistant"}),s.jsx("p",{className:"text-xl md:text-2xl text-white/90 mb-8 max-w-3xl mx-auto",children:"Master the art of AI prompting to unlock the full power of your CRM"}),s.jsxs("div",{className:"flex flex-wrap justify-center gap-4 text-white/80",children:[s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(Lt,{className:"h-5 w-5"}),s.jsx("span",{children:"430+ Expert Prompts"})]}),s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(Lt,{className:"h-5 w-5"}),s.jsx("span",{children:"8 Categories"})]}),s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(Lt,{className:"h-5 w-5"}),s.jsx("span",{children:"Interactive Examples"})]})]})]})})]}),s.jsxs("div",{className:"max-w-7xl mx-auto px-6 py-8",children:[s.jsx("div",{className:"mb-8",children:s.jsxs("div",{className:"flex flex-col sm:flex-row gap-4 items-center justify-between",children:[s.jsxs("div",{className:"relative flex-1 max-w-md",children:[s.jsx(fi,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 h-5 w-5 text-gray-400"}),s.jsx("input",{type:"text",placeholder:"Search prompts, categories, or tags...",value:a,onChange:j=>i(j.target.value),className:"w-full pl-10 pr-4 py-3 border border-gray-200 rounded-xl focus:ring-2 focus:ring-indigo-500 focus:border-transparent bg-white shadow-sm"})]}),s.jsxs("div",{className:"flex gap-2",children:[s.jsx("button",{onClick:()=>f("grid"),className:`p-2 rounded-lg ${d==="grid"?"bg-indigo-100 text-indigo-600":"text-gray-400 hover:text-gray-600"}`,children:s.jsx("svg",{className:"h-5 w-5",fill:"currentColor",viewBox:"0 0 20 20",children:s.jsx("path",{d:"M5 3a2 2 0 00-2 2v2a2 2 0 002 2h2a2 2 0 002-2V5a2 2 0 00-2-2H5zM5 11a2 2 0 00-2 2v2a2 2 0 002 2h2a2 2 0 002-2v-2a2 2 0 00-2-2H5zM11 5a2 2 0 012-2h2a2 2 0 012 2v2a2 2 0 01-2 2h-2a2 2 0 01-2-2V5zM11 13a2 2 0 012-2h2a2 2 0 012 2v2a2 2 0 01-2 2h-2a2 2 0 01-2-2v-2z"})})}),s.jsx("button",{onClick:()=>f("list"),className:`p-2 rounded-lg ${d==="list"?"bg-indigo-100 text-indigo-600":"text-gray-400 hover:text-gray-600"}`,children:s.jsx("svg",{className:"h-5 w-5",fill:"currentColor",viewBox:"0 0 20 20",children:s.jsx("path",{fillRule:"evenodd",d:"M3 4a1 1 0 011-1h12a1 1 0 110 2H4a1 1 0 01-1-1zm0 4a1 1 0 011-1h12a1 1 0 110 2H4a1 1 0 01-1-1zm0 4a1 1 0 011-1h12a1 1 0 110 2H4a1 1 0 01-1-1z",clipRule:"evenodd"})})})]})]})}),s.jsx("div",{className:"mb-8",children:s.jsx("div",{className:"flex flex-wrap gap-3",children:h.map(j=>{const S=j.icon;return s.jsxs("button",{onClick:()=>t(j.id),className:`flex items-center gap-3 px-6 py-3 rounded-xl transition-all duration-200 ${e===j.id?`bg-gradient-to-r ${j.color} text-white shadow-lg transform scale-105`:"bg-white text-gray-700 hover:bg-gray-50 shadow-sm hover:shadow-md"}`,children:[s.jsx(S,{className:"h-5 w-5"}),s.jsx("span",{className:"font-medium",children:j.title})]},j.id)})})}),s.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-8",children:[s.jsxs("div",{className:"lg:col-span-2",children:[s.jsxs("div",{className:"mb-6",children:[s.jsx("h2",{className:"text-2xl font-bold text-gray-900 mb-2",children:a?`Search Results (${g.length})`:h.find(j=>j.id===e)?.title}),s.jsx("p",{className:"text-gray-600",children:a?`Found ${g.length} prompts matching "${a}"`:h.find(j=>j.id===e)?.description})]}),s.jsx("div",{className:`grid gap-4 ${d==="grid"?"grid-cols-1 md:grid-cols-2":"grid-cols-1"}`,children:(a?g:h.find(j=>j.id===e)?.prompts||[]).map(j=>s.jsx("div",{className:"bg-white rounded-xl p-6 shadow-sm hover:shadow-md transition-all duration-200 border border-gray-100 hover:border-indigo-200 cursor-pointer group",onClick:()=>n(j),children:s.jsxs("div",{className:"flex items-start justify-between mb-4",children:[s.jsxs("div",{className:"flex-1",children:[s.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[s.jsx("h3",{className:"font-semibold text-gray-900 group-hover:text-indigo-600 transition-colors",children:j.title}),s.jsxs("span",{className:`px-2 py-1 rounded-full text-xs font-medium ${b(j.difficulty)}`,children:[w(j.difficulty)," ",j.difficulty]})]}),s.jsx("p",{className:"text-gray-600 text-sm mb-3",children:j.description}),s.jsxs("div",{className:"flex flex-wrap gap-1",children:[j.tags.slice(0,3).map(S=>s.jsx("span",{className:"px-2 py-1 bg-gray-100 text-gray-600 text-xs rounded-md",children:S},S)),j.tags.length>3&&s.jsxs("span",{className:"px-2 py-1 bg-gray-100 text-gray-600 text-xs rounded-md",children:["+",j.tags.length-3," more"]})]})]}),s.jsx(Ao,{className:"h-5 w-5 text-gray-400 group-hover:text-indigo-500 transition-colors"})]})},j.id))})]}),s.jsx("div",{className:"lg:col-span-1",children:r?s.jsxs("div",{className:"sticky top-8 bg-white rounded-xl p-6 shadow-lg border border-gray-200",children:[s.jsxs("div",{className:"flex items-center justify-between mb-4",children:[s.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:r.title}),s.jsx("button",{onClick:()=>y(r.prompt,r.id),className:"flex items-center gap-2 px-3 py-2 bg-indigo-100 text-indigo-600 rounded-lg hover:bg-indigo-200 transition-colors",children:l===r.id?s.jsxs(s.Fragment,{children:[s.jsx(Lt,{className:"h-4 w-4"}),s.jsx("span",{className:"text-sm",children:"Copied!"})]}):s.jsxs(s.Fragment,{children:[s.jsx(uC,{className:"h-4 w-4"}),s.jsx("span",{className:"text-sm",children:"Copy"})]})})]}),s.jsx("p",{className:"text-gray-600 mb-4",children:r.description}),s.jsx("div",{className:"mb-4",children:s.jsxs("span",{className:`inline-block px-3 py-1 rounded-full text-sm font-medium ${b(r.difficulty)}`,children:[w(r.difficulty)," ",r.difficulty]})}),s.jsxs("div",{className:"mb-6",children:[s.jsx("h4",{className:"font-medium text-gray-900 mb-2",children:"Tags"}),s.jsx("div",{className:"flex flex-wrap gap-2",children:r.tags.map(j=>s.jsx("span",{className:"px-2 py-1 bg-gray-100 text-gray-600 text-sm rounded-md",children:j},j))})]}),s.jsxs("div",{children:[s.jsx("h4",{className:"font-medium text-gray-900 mb-3",children:"Prompt Template"}),s.jsx("div",{className:"bg-gray-50 rounded-lg p-4 border",children:s.jsx("code",{className:"text-sm text-gray-800 whitespace-pre-wrap font-mono",children:r.prompt})})]}),s.jsx("div",{className:"mt-6 p-4 bg-blue-50 rounded-lg border border-blue-200",children:s.jsxs("div",{className:"flex items-start gap-3",children:[s.jsx(Ag,{className:"h-5 w-5 text-blue-600 mt-0.5"}),s.jsxs("div",{children:[s.jsx("h5",{className:"font-medium text-blue-900 mb-1",children:"Pro Tip"}),s.jsx("p",{className:"text-blue-700 text-sm",children:"Replace placeholders like [Contact Name] and [Deal Name] with actual data from your CRM for best results."})]})]})})]}):s.jsxs("div",{className:"sticky top-8 bg-white rounded-xl p-6 shadow-lg border border-gray-200 text-center",children:[s.jsx(Is,{className:"h-12 w-12 text-gray-400 mx-auto mb-4"}),s.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-2",children:"Select a Prompt"}),s.jsx("p",{className:"text-gray-600",children:"Click on any prompt from the list to see the full template and copy it to your clipboard."})]})})]}),s.jsx("div",{className:"mt-16 bg-gradient-to-r from-indigo-600 to-purple-600 rounded-2xl p-8 text-white",children:s.jsxs("div",{className:"text-center",children:[s.jsx(fC,{className:"h-12 w-12 mx-auto mb-4"}),s.jsx("h2",{className:"text-3xl font-bold mb-4",children:"Ready to Get Started?"}),s.jsx("p",{className:"text-xl text-white/90 mb-8 max-w-2xl mx-auto",children:"Try these top-rated prompts to see the AI assistant in action"}),s.jsx("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4 max-w-4xl mx-auto",children:["Analyze my pipeline and tell me which 3 deals need immediate attention and why","Create a personalized email for [Contact Name] about [Topic] that references our last conversation","Develop a strategy to advance [Deal Name] from [Current Stage] to [Next Stage] within [Timeline]"].map((j,S)=>s.jsxs("button",{onClick:()=>y(j,`quick-start-${S}`),className:"p-4 bg-white/10 backdrop-blur-sm rounded-xl hover:bg-white/20 transition-all duration-200 text-left group",children:[s.jsxs("div",{className:"flex items-center justify-between mb-2",children:[s.jsxs("span",{className:"text-sm font-medium text-white/80",children:["Quick Start #",S+1]}),l===`quick-start-${S}`?s.jsx(Lt,{className:"h-4 w-4 text-green-400"}):s.jsx(uC,{className:"h-4 w-4 text-white/60 group-hover:text-white"})]}),s.jsx("p",{className:"text-sm text-white/90",children:j})]},S))})]})})]})]})};async function QAe(e,t=!0){const r=new URLSearchParams;return r.append("active_only",t.toString()),Ee(`/api/email/templates?${r}`,"GET")}async function ZAe(e){return Ee("/api/email/templates","POST",e)}async function JAe(e,t){return Ee(`/api/email/templates/${e}`,"PUT",t)}async function eTe(e){return Ee(`/api/email/templates/${e}`,"DELETE")}async function tTe(e,t,r){return Ee("/api/email/templates/preview","POST",{template_id:e,recipient_type:t,recipient_id:r})}async function rTe(){return Ee("/api/email/templates/sample","POST")}async function nTe(e){const t=new URLSearchParams;return Ee(`/api/email/campaigns?${t}`,"GET")}async function aTe(e){return Ee("/api/email/campaigns","POST",e)}async function sTe(e){return Ee(`/api/email/campaigns/${e}/send`,"POST")}async function iTe(e,t,r=100){const n=new URLSearchParams;return n.append("limit",r.toString()),Ee(`/api/email/logs?${n}`,"GET")}async function lTe(){return Ee("/api/email/logs/analytics","GET")}function oTe(){const[e,t]=v.useState("templates"),[r,n]=v.useState([]),[a,i]=v.useState([]),[l,c]=v.useState([]),[d,f]=v.useState(null),[h,p]=v.useState([]),[g,y]=v.useState([]),[b,w]=v.useState(!1),[j,S]=v.useState(null),[_,E]=v.useState(null);v.useEffect(()=>{if(_){const oe=setTimeout(()=>E(null),3e3);return()=>clearTimeout(oe)}},[_]);const[T,A]=v.useState(!1),[C,O]=v.useState(null),[P,F]=v.useState({name:"",subject:"",body:"",category:""}),[G,W]=v.useState(!1),[ee,ue]=v.useState({name:"",template_id:0,target_type:"leads",target_ids:[],scheduled_at:""}),[fe,Q]=v.useState(!1),[K,J]=v.useState(null),[se,xe]=v.useState({type:"lead",id:0});v.useEffect(()=>{U()},[]);const U=async()=>{w(!0);try{const[oe,me,Xe,Ue,xt,Ye]=await Promise.all([QAe(),nTe(),iTe(),lTe(),ad(),B$()]);n(oe),i(me),c(Xe),f(Ue),p(xt),y(Ye)}catch{S("Failed to load data")}finally{w(!1)}},ae=async()=>{try{await ZAe(P),A(!1),F({name:"",subject:"",body:"",category:""}),U(),E("Template created successfully!")}catch{E("Failed to create template")}},D=async()=>{if(C)try{await JAe(C.id,P),A(!1),O(null),F({name:"",subject:"",body:"",category:""}),U(),E("Template updated successfully!")}catch{E("Failed to update template")}},H=async oe=>{if(window.confirm("Are you sure you want to delete this template?"))try{await eTe(oe),U(),E("Template deleted successfully!")}catch{E("Failed to delete template")}},B=oe=>{O(oe),F({name:oe.name,subject:oe.subject,body:oe.body,category:oe.category||""}),A(!0)},V=async oe=>{if(se.id===0){E("Please select a recipient for preview");return}try{const me=await tTe(oe.id,se.type,se.id);J(me),Q(!0)}catch{E("Failed to preview template")}},le=async()=>{try{await rTe(),U(),E("Sample templates created successfully!")}catch{E("Failed to create sample templates")}},De=async()=>{try{await aTe(ee),W(!1),ue({name:"",template_id:0,target_type:"leads",target_ids:[],scheduled_at:""}),U(),E("Campaign created successfully!")}catch{E("Failed to create campaign")}},re=async oe=>{if(window.confirm("Are you sure you want to send this campaign?"))try{const me=await sTe(oe);U(),E(`Campaign sent! ${me.sent_count} emails delivered.`)}catch{E("Failed to send campaign")}},ie=oe=>{switch(oe){case"draft":return"bg-gray-100 text-gray-700";case"scheduled":return"bg-blue-100 text-blue-700";case"sending":return"bg-yellow-100 text-yellow-700";case"completed":return"bg-green-100 text-green-700";case"paused":return"bg-orange-100 text-orange-700";default:return"bg-gray-100 text-gray-700"}},de=oe=>{switch(oe){case"draft":return s.jsx(Is,{className:"w-4 h-4"});case"scheduled":return s.jsx(is,{className:"w-4 h-4"});case"sending":return s.jsx(rR,{className:"w-4 h-4"});case"completed":return s.jsx(Lt,{className:"w-4 h-4"});case"paused":return s.jsx(TG,{className:"w-4 h-4"});default:return s.jsx(Is,{className:"w-4 h-4"})}};return b?s.jsx("div",{className:"p-8 text-lg",children:"Loading..."}):j?s.jsx("div",{className:"p-8 text-red-500",children:j}):s.jsxs("div",{className:"p-6",children:[_&&s.jsx("div",{className:"fixed top-4 right-4 bg-green-500 text-white px-4 py-2 rounded-lg shadow-lg z-50",children:_}),s.jsxs("div",{className:"flex items-center justify-between mb-6",children:[s.jsxs("div",{children:[s.jsx("h1",{className:"text-3xl font-extrabold text-gray-900 dark:text-white",children:"Email Automation"}),s.jsx("p",{className:"text-gray-600 dark:text-gray-400",children:"Manage templates, campaigns, and automation"})]}),s.jsxs("button",{onClick:le,className:"px-4 py-2 bg-gradient-to-r from-purple-500 to-indigo-500 text-white rounded-lg hover:from-purple-600 hover:to-indigo-600 transition",children:[s.jsx(Cr,{className:"w-4 h-4 inline mr-2"}),"Create Sample Templates"]})]}),s.jsxs("div",{className:"flex space-x-1 bg-gray-100 dark:bg-gray-800 rounded-lg p-1 mb-6",children:[s.jsxs("button",{onClick:()=>t("templates"),className:`flex items-center px-4 py-2 rounded-md transition ${e==="templates"?"bg-white dark:bg-gray-700 text-gray-900 dark:text-white shadow":"text-gray-600 dark:text-gray-400 hover:text-gray-900 dark:hover:text-white"}`,children:[s.jsx(Is,{className:"w-4 h-4 mr-2"}),"Templates"]}),s.jsxs("button",{onClick:()=>t("campaigns"),className:`flex items-center px-4 py-2 rounded-md transition ${e==="campaigns"?"bg-white dark:bg-gray-700 text-gray-900 dark:text-white shadow":"text-gray-600 dark:text-gray-400 hover:text-gray-900 dark:hover:text-white"}`,children:[s.jsx(Xc,{className:"w-4 h-4 mr-2"}),"Campaigns"]}),s.jsxs("button",{onClick:()=>t("analytics"),className:`flex items-center px-4 py-2 rounded-md transition ${e==="analytics"?"bg-white dark:bg-gray-700 text-gray-900 dark:text-white shadow":"text-gray-600 dark:text-gray-400 hover:text-gray-900 dark:hover:text-white"}`,children:[s.jsx(Pa,{className:"w-4 h-4 mr-2"}),"Analytics"]})]}),e==="templates"&&s.jsxs("div",{children:[s.jsxs("div",{className:"flex justify-between items-center mb-4",children:[s.jsx("h2",{className:"text-xl font-semibold",children:"Email Templates"}),s.jsxs("button",{onClick:()=>A(!0),className:"px-4 py-2 bg-blue-500 text-white rounded-lg hover:bg-blue-600 transition",children:[s.jsx(Cr,{className:"w-4 h-4 inline mr-2"}),"Create Template"]})]}),s.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:r.map(oe=>s.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-lg shadow p-4",children:[s.jsxs("div",{className:"flex justify-between items-start mb-3",children:[s.jsx("h3",{className:"font-semibold text-gray-900 dark:text-white",children:oe.name}),s.jsxs("div",{className:"flex space-x-1",children:[s.jsx("button",{onClick:()=>V(oe),className:"p-1 text-gray-400 hover:text-blue-500",title:"Preview",children:s.jsx(gn,{className:"w-4 h-4"})}),s.jsx("button",{onClick:()=>B(oe),className:"p-1 text-gray-400 hover:text-green-500",title:"Edit",children:s.jsx(Wx,{className:"w-4 h-4"})}),s.jsx("button",{onClick:()=>H(oe.id),className:"p-1 text-gray-400 hover:text-red-500",title:"Delete",children:s.jsx(Mi,{className:"w-4 h-4"})})]})]}),s.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-400 mb-2",children:oe.subject}),oe.category&&s.jsx("span",{className:"inline-block px-2 py-1 bg-blue-100 text-blue-700 text-xs rounded-full mb-2",children:oe.category}),s.jsxs("div",{className:"flex items-center justify-between text-xs text-gray-500",children:[s.jsxs("span",{children:["Variables: ",oe.validation.total_variables]}),s.jsx("span",{className:oe.validation.valid?"text-green-500":"text-red-500",children:oe.validation.valid?"Valid":"Invalid"})]})]},oe.id))})]}),e==="campaigns"&&s.jsxs("div",{children:[s.jsxs("div",{className:"flex justify-between items-center mb-4",children:[s.jsx("h2",{className:"text-xl font-semibold",children:"Email Campaigns"}),s.jsxs("button",{onClick:()=>W(!0),className:"px-4 py-2 bg-green-500 text-white rounded-lg hover:bg-green-600 transition",children:[s.jsx(Cr,{className:"w-4 h-4 inline mr-2"}),"Create Campaign"]})]}),s.jsx("div",{className:"bg-white dark:bg-gray-800 rounded-lg shadow overflow-hidden",children:s.jsxs("table",{className:"w-full",children:[s.jsx("thead",{className:"bg-gray-50 dark:bg-gray-700",children:s.jsxs("tr",{children:[s.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Name"}),s.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Template"}),s.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Target"}),s.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Status"}),s.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Created"}),s.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Actions"})]})}),s.jsx("tbody",{className:"divide-y divide-gray-200 dark:divide-gray-700",children:a.map(oe=>s.jsxs("tr",{children:[s.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:s.jsx("div",{className:"text-sm font-medium text-gray-900 dark:text-white",children:oe.name})}),s.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:s.jsx("div",{className:"text-sm text-gray-500",children:r.find(me=>me.id===oe.template_id)?.name||"Unknown"})}),s.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:s.jsxs("div",{className:"text-sm text-gray-500",children:[oe.target_type," (",JSON.parse(oe.target_ids).length,")"]})}),s.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:s.jsxs("span",{className:`inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium ${ie(oe.status)}`,children:[de(oe.status),s.jsx("span",{className:"ml-1",children:oe.status})]})}),s.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:new Date(oe.created_at).toLocaleDateString()}),s.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm font-medium",children:oe.status==="draft"&&s.jsx("button",{onClick:()=>re(oe.id),className:"text-green-600 hover:text-green-900 mr-3",children:s.jsx(Xc,{className:"w-4 h-4"})})})]},oe.id))})]})})]}),e==="analytics"&&d&&s.jsxs("div",{children:[s.jsx("h2",{className:"text-xl font-semibold mb-4",children:"Email Analytics"}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4 mb-6",children:[s.jsx("div",{className:"bg-white dark:bg-gray-800 rounded-lg shadow p-4",children:s.jsxs("div",{className:"flex items-center",children:[s.jsx(Wd,{className:"w-8 h-8 text-blue-500"}),s.jsxs("div",{className:"ml-3",children:[s.jsx("p",{className:"text-sm font-medium text-gray-500",children:"Total Sent"}),s.jsx("p",{className:"text-2xl font-semibold text-gray-900 dark:text-white",children:d.total_sent})]})]})}),s.jsx("div",{className:"bg-white dark:bg-gray-800 rounded-lg shadow p-4",children:s.jsxs("div",{className:"flex items-center",children:[s.jsx(gn,{className:"w-8 h-8 text-green-500"}),s.jsxs("div",{className:"ml-3",children:[s.jsx("p",{className:"text-sm font-medium text-gray-500",children:"Opened"}),s.jsx("p",{className:"text-2xl font-semibold text-gray-900 dark:text-white",children:d.total_opened})]})]})}),s.jsx("div",{className:"bg-white dark:bg-gray-800 rounded-lg shadow p-4",children:s.jsxs("div",{className:"flex items-center",children:[s.jsx(Aa,{className:"w-8 h-8 text-purple-500"}),s.jsxs("div",{className:"ml-3",children:[s.jsx("p",{className:"text-sm font-medium text-gray-500",children:"Clicked"}),s.jsx("p",{className:"text-2xl font-semibold text-gray-900 dark:text-white",children:d.total_clicked})]})]})}),s.jsx("div",{className:"bg-white dark:bg-gray-800 rounded-lg shadow p-4",children:s.jsxs("div",{className:"flex items-center",children:[s.jsx(Pa,{className:"w-8 h-8 text-orange-500"}),s.jsxs("div",{className:"ml-3",children:[s.jsx("p",{className:"text-sm font-medium text-gray-500",children:"Open Rate"}),s.jsxs("p",{className:"text-2xl font-semibold text-gray-900 dark:text-white",children:[d.open_rate,"%"]})]})]})})]}),s.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-lg shadow",children:[s.jsx("div",{className:"px-6 py-4 border-b border-gray-200 dark:border-gray-700",children:s.jsx("h3",{className:"text-lg font-medium",children:"Recent Email Logs"})}),s.jsx("div",{className:"overflow-x-auto",children:s.jsxs("table",{className:"w-full",children:[s.jsx("thead",{className:"bg-gray-50 dark:bg-gray-700",children:s.jsxs("tr",{children:[s.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase",children:"Recipient"}),s.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase",children:"Subject"}),s.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase",children:"Status"}),s.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase",children:"Sent"})]})}),s.jsx("tbody",{className:"divide-y divide-gray-200 dark:divide-gray-700",children:l.slice(0,10).map(oe=>s.jsxs("tr",{children:[s.jsxs("td",{className:"px-6 py-4 whitespace-nowrap",children:[s.jsx("div",{className:"text-sm font-medium text-gray-900 dark:text-white",children:oe.recipient_name}),s.jsx("div",{className:"text-sm text-gray-500",children:oe.recipient_email})]}),s.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:s.jsx("div",{className:"text-sm text-gray-900 dark:text-white",children:oe.subject})}),s.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:s.jsx("span",{className:`inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium ${oe.status==="sent"?"bg-green-100 text-green-700":"bg-gray-100 text-gray-700"}`,children:oe.status})}),s.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:new Date(oe.sent_at).toLocaleDateString()})]},oe.id))})]})})]})]}),T&&s.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:s.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-lg p-6 w-full max-w-4xl max-h-[90vh] overflow-y-auto",children:[s.jsx("h2",{className:"text-xl font-semibold mb-4",children:C?"Edit Template":"Create Template"}),s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium mb-1",children:"Name"}),s.jsx("input",{type:"text",value:P.name,onChange:oe=>F({...P,name:oe.target.value}),className:"w-full px-3 py-2 border rounded-lg focus:ring-2 focus:ring-blue-500"})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium mb-1",children:"Category"}),s.jsxs("select",{value:P.category,onChange:oe=>F({...P,category:oe.target.value}),className:"w-full px-3 py-2 border rounded-lg focus:ring-2 focus:ring-blue-500",children:[s.jsx("option",{value:"",children:"Select Category"}),s.jsx("option",{value:"welcome",children:"Welcome"}),s.jsx("option",{value:"follow_up",children:"Follow-up"}),s.jsx("option",{value:"reminder",children:"Reminder"}),s.jsx("option",{value:"notification",children:"Notification"}),s.jsx("option",{value:"deal_update",children:"Deal Update"})]})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium mb-1",children:"Subject"}),s.jsx("input",{type:"text",value:P.subject,onChange:oe=>F({...P,subject:oe.target.value}),className:"w-full px-3 py-2 border rounded-lg focus:ring-2 focus:ring-blue-500",placeholder:"Welcome to {{contact.company}}, {{contact.name}}!"})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium mb-1",children:"Body (HTML)"}),s.jsx("textarea",{value:P.body,onChange:oe=>F({...P,body:oe.target.value}),rows:10,className:"w-full px-3 py-2 border rounded-lg focus:ring-2 focus:ring-blue-500 font-mono text-sm",placeholder:"<div>Hello {{contact.name}}!</div>"})]}),s.jsxs("div",{className:"bg-gray-50 dark:bg-gray-700 p-3 rounded-lg",children:[s.jsx("h4",{className:"font-medium mb-2",children:"Available Variables:"}),s.jsxs("div",{className:"grid grid-cols-2 gap-2 text-sm",children:[s.jsxs("div",{children:[s.jsx("code",{className:"bg-gray-200 px-1 rounded",children:"{{contact.name}}"})," - Contact Name"]}),s.jsxs("div",{children:[s.jsx("code",{className:"bg-gray-200 px-1 rounded",children:"{{contact.email}}"})," - Contact Email"]}),s.jsxs("div",{children:[s.jsx("code",{className:"bg-gray-200 px-1 rounded",children:"{{contact.company}}"})," - Company"]}),s.jsxs("div",{children:[s.jsx("code",{className:"bg-gray-200 px-1 rounded",children:"{{lead.title}}"})," - Lead Title"]}),s.jsxs("div",{children:[s.jsx("code",{className:"bg-gray-200 px-1 rounded",children:"{{deal.value}}"})," - Deal Value"]}),s.jsxs("div",{children:[s.jsx("code",{className:"bg-gray-200 px-1 rounded",children:"{{user.name}}"})," - User Name"]})]})]})]}),s.jsxs("div",{className:"flex justify-end space-x-3 mt-6",children:[s.jsx("button",{onClick:()=>{A(!1),O(null),F({name:"",subject:"",body:"",category:""})},className:"px-4 py-2 text-gray-600 border rounded-lg hover:bg-gray-50",children:"Cancel"}),s.jsx("button",{onClick:C?D:ae,className:"px-4 py-2 bg-blue-500 text-white rounded-lg hover:bg-blue-600",children:C?"Update":"Create"})]})]})}),G&&s.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:s.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-lg p-6 w-full max-w-2xl",children:[s.jsx("h2",{className:"text-xl font-semibold mb-4",children:"Create Campaign"}),s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium mb-1",children:"Campaign Name"}),s.jsx("input",{type:"text",value:ee.name,onChange:oe=>ue({...ee,name:oe.target.value}),className:"w-full px-3 py-2 border rounded-lg focus:ring-2 focus:ring-blue-500"})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium mb-1",children:"Template"}),s.jsxs("select",{value:ee.template_id,onChange:oe=>ue({...ee,template_id:parseInt(oe.target.value)}),className:"w-full px-3 py-2 border rounded-lg focus:ring-2 focus:ring-blue-500",children:[s.jsx("option",{value:0,children:"Select Template"}),r.map(oe=>s.jsx("option",{value:oe.id,children:oe.name},oe.id))]})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium mb-1",children:"Target Type"}),s.jsxs("select",{value:ee.target_type,onChange:oe=>ue({...ee,target_type:oe.target.value,target_ids:[]}),className:"w-full px-3 py-2 border rounded-lg focus:ring-2 focus:ring-blue-500",children:[s.jsx("option",{value:"leads",children:"Leads"}),s.jsx("option",{value:"contacts",children:"Contacts"}),s.jsx("option",{value:"deals",children:"Deals"})]})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium mb-1",children:"Target Recipients"}),s.jsxs("select",{multiple:!0,value:ee.target_ids.map(String),onChange:oe=>{const me=Array.from(oe.target.selectedOptions,Xe=>parseInt(Xe.value));ue({...ee,target_ids:me})},className:"w-full px-3 py-2 border rounded-lg focus:ring-2 focus:ring-blue-500",size:5,children:[ee.target_type==="leads"&&h.map(oe=>s.jsxs("option",{value:oe.id,children:[oe.title," - ",oe.contact?.name||"Unknown"]},oe.id)),ee.target_type==="contacts"&&g.map(oe=>s.jsxs("option",{value:oe.id,children:[oe.name," - ",oe.company||"No Company"]},oe.id))]})]})]}),s.jsxs("div",{className:"flex justify-end space-x-3 mt-6",children:[s.jsx("button",{onClick:()=>{W(!1),ue({name:"",template_id:0,target_type:"leads",target_ids:[],scheduled_at:""})},className:"px-4 py-2 text-gray-600 border rounded-lg hover:bg-gray-50",children:"Cancel"}),s.jsx("button",{onClick:De,className:"px-4 py-2 bg-green-500 text-white rounded-lg hover:bg-green-600",children:"Create Campaign"})]})]})}),fe&&K&&s.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:s.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-lg p-6 w-full max-w-4xl max-h-[90vh] overflow-y-auto",children:[s.jsx("h2",{className:"text-xl font-semibold mb-4",children:"Template Preview"}),s.jsxs("div",{className:"mb-4",children:[s.jsx("label",{className:"block text-sm font-medium mb-1",children:"Preview Recipient"}),s.jsxs("div",{className:"flex space-x-2",children:[s.jsxs("select",{value:se.type,onChange:oe=>xe({...se,type:oe.target.value,id:0}),className:"px-3 py-2 border rounded-lg",children:[s.jsx("option",{value:"lead",children:"Lead"}),s.jsx("option",{value:"contact",children:"Contact"}),s.jsx("option",{value:"deal",children:"Deal"})]}),s.jsxs("select",{value:se.id,onChange:oe=>xe({...se,id:parseInt(oe.target.value)}),className:"px-3 py-2 border rounded-lg",children:[s.jsx("option",{value:0,children:"Select Recipient"}),se.type==="lead"&&h.map(oe=>s.jsxs("option",{value:oe.id,children:[oe.title," - ",oe.contact?.name||"Unknown"]},oe.id)),se.type==="contact"&&g.map(oe=>s.jsxs("option",{value:oe.id,children:[oe.name," - ",oe.company||"No Company"]},oe.id))]})]})]}),s.jsxs("div",{className:"bg-gray-50 dark:bg-gray-700 p-4 rounded-lg mb-4",children:[s.jsx("h3",{className:"font-medium mb-2",children:"Subject:"}),s.jsx("p",{className:"text-gray-900 dark:text-white",children:K.subject})]}),s.jsxs("div",{className:"bg-gray-50 dark:bg-gray-700 p-4 rounded-lg",children:[s.jsx("h3",{className:"font-medium mb-2",children:"Body:"}),s.jsx("div",{className:"prose max-w-none",dangerouslySetInnerHTML:{__html:K.body}})]}),s.jsx("div",{className:"flex justify-end mt-6",children:s.jsx("button",{onClick:()=>Q(!1),className:"px-4 py-2 bg-gray-500 text-white rounded-lg hover:bg-gray-600",children:"Close"})})]})})]})}const cTe={async getSalesForecast(e=12){return(await Ee(`/api/predictive-analytics/sales-forecast?months=${e}`,"GET")).data},async getChurnPrediction(){return(await Ee("/api/predictive-analytics/churn-prediction","GET")).data},async getRevenueOptimization(){return(await Ee("/api/predictive-analytics/revenue-optimization","GET")).data},async getMarketOpportunities(){return(await Ee("/api/predictive-analytics/market-opportunities","GET")).data},async getDashboardInsights(){return(await Ee("/api/predictive-analytics/dashboard-insights","GET")).data},async healthCheck(){return Ee("/api/predictive-analytics/health-check","GET")}},Wc=e=>new Intl.NumberFormat("en-US",{style:"currency",currency:"USD",minimumFractionDigits:0,maximumFractionDigits:0}).format(e),D2=e=>`${e.toFixed(1)}%`,uTe=e=>{switch(e){case"High":return"text-red-600 bg-red-100";case"Medium":return"text-yellow-600 bg-yellow-100";case"Low":return"text-green-600 bg-green-100";default:return"text-gray-600 bg-gray-100"}},WU=e=>{switch(e){case"High":return"text-red-600";case"Medium":return"text-yellow-600";case"Low":return"text-green-600";default:return"text-gray-600"}},GU=e=>{switch(e){case"High":return"text-red-600";case"Medium":return"text-yellow-600";case"Low":return"text-green-600";default:return"text-gray-600"}},xM=()=>({key_metrics:{forecasted_revenue_6m:125e4,at_risk_customers:23,high_risk_customers:8,avg_deal_size:45e3,total_opportunities:156},sales_forecast:{historical_data:[{month:"2024-01",deals:12,revenue:48e4},{month:"2024-02",deals:15,revenue:6e5},{month:"2024-03",deals:18,revenue:72e4},{month:"2024-04",deals:14,revenue:56e4},{month:"2024-05",deals:16,revenue:64e4},{month:"2024-06",deals:20,revenue:8e5}],forecast:[{month:"2024-07",predicted_revenue:85e4,predicted_deals:21},{month:"2024-08",predicted_revenue:92e4,predicted_deals:23},{month:"2024-09",predicted_revenue:88e4,predicted_deals:22},{month:"2024-10",predicted_revenue:95e4,predicted_deals:24},{month:"2024-11",predicted_revenue:1e6,predicted_deals:25},{month:"2024-12",predicted_revenue:11e5,predicted_deals:27}],trend:"upward",seasonality:{detected:!0,pattern:"Q4 peak",peak_month:"December",low_month:"January"},confidence_intervals:[{month:"2024-07",low_80:68e4,high_80:102e4,low_90:595e3,high_90:1105e3,low_95:51e4,high_95:119e4},{month:"2024-08",low_80:736e3,high_80:1104e3,low_90:644e3,high_90:1196e3,low_95:552e3,high_95:1288e3},{month:"2024-09",low_80:704e3,high_80:1056e3,low_90:616e3,high_90:1144e3,low_95:528e3,high_95:1232e3},{month:"2024-10",low_80:76e4,high_80:114e4,low_90:665e3,high_90:1235e3,low_95:57e4,high_95:133e4},{month:"2024-11",low_80:8e5,high_80:12e5,low_90:7e5,high_90:13e5,low_95:6e5,high_95:14e5},{month:"2024-12",low_80:88e4,high_80:132e4,low_90:77e4,high_90:143e4,low_95:66e4,high_95:154e4}]},churn_prediction:{total_contacts_analyzed:1e3,at_risk_contacts:23,high_risk:8,medium_risk:10,low_risk:5,churn_risks:[{contact_id:1,contact_name:"John Smith",company:"TechCorp Inc",risk_score:85,risk_level:"High",risk_factors:["No activity in 60+ days","Low engagement score"],last_activity:"2024-04-15"},{contact_id:2,contact_name:"Sarah Johnson",company:"InnovateLabs",risk_score:72,risk_level:"High",risk_factors:["Declining interaction frequency","Support ticket escalation"],last_activity:"2024-05-02"}]},revenue_optimization:{total_revenue:42e5,total_deals:95,average_deal_size:44210,stage_analysis:{Prospecting:{count:25,value:75e4},Qualified:{count:18,value:81e4},Proposal:{count:12,value:72e4},Negotiation:{count:8,value:56e4},"Closed Won":{count:32,value:136e4}},conversion_rates:{"Prospecting to Qualified":72,"Qualified to Proposal":67,"Proposal to Negotiation":67,"Negotiation to Closed Won":75},optimization_opportunities:[{type:"Lead Qualification",description:"Improve lead scoring to focus on high-value prospects",potential_impact:"High",effort:"Medium"},{type:"Follow-up Automation",description:"Implement automated follow-up sequences",potential_impact:"Medium",effort:"Low"}],recommendations:["Focus on high-value prospects in the qualification stage","Implement automated follow-up sequences for better conversion","Provide additional training for negotiation stage improvements"]},market_opportunities:{total_leads_analyzed:5e3,source_effectiveness:{Website:{total_leads:1500,qualification_rate:65,conversion_rate:12,effectiveness_score:85},Referral:{total_leads:800,qualification_rate:85,conversion_rate:25,effectiveness_score:95},"Social Media":{total_leads:1200,qualification_rate:45,conversion_rate:8,effectiveness_score:60},"Email Campaign":{total_leads:1e3,qualification_rate:55,conversion_rate:10,effectiveness_score:70},"Trade Show":{total_leads:500,qualification_rate:75,conversion_rate:18,effectiveness_score:88}},industry_analysis:{Technology:{count:1200,qualified:780},Healthcare:{count:800,qualified:520},Finance:{count:600,qualified:390},Manufacturing:{count:400,qualified:260},Retail:{count:300,qualified:195}},market_opportunities:[{type:"Industry Expansion",description:"Expand into the healthcare sector with specialized solutions",potential_impact:"High",effort:"High"},{type:"Referral Program",description:"Launch a formal referral program to increase high-quality leads",potential_impact:"High",effort:"Medium"}],trends:[{trend:"AI Integration Demand",description:"Growing demand for AI-powered business solutions",confidence:"High",impact:"Positive"},{trend:"Remote Work Solutions",description:"Increased need for remote collaboration tools",confidence:"Medium",impact:"Positive"}]}});function dTe(){const[e,t]=v.useState(null),[r,n]=v.useState(!0),[a,i]=v.useState(null),[l,c]=v.useState("overview");v.useEffect(()=>{d()},[]);const d=async()=>{n(!0),i(null);const b=setTimeout(()=>{console.log("API call timed out, using fallback data"),t(xM()),n(!1)},3e3);try{console.log("Attempting to load predictive analytics data...");const w=await cTe.getDashboardInsights();clearTimeout(b),console.log("Successfully loaded predictive analytics data:",w),t(w)}catch(w){clearTimeout(b),console.error("Error loading insights:",w),console.log("Using fallback data due to API error"),t(xM())}finally{n(!1)}};if(r)return s.jsx("div",{className:"flex items-center justify-center min-h-screen",children:s.jsx("div",{className:"animate-spin rounded-full h-32 w-32 border-b-2 border-blue-600"})});if(!e)return s.jsx("div",{className:"flex items-center justify-center min-h-screen",children:s.jsx("div",{className:"animate-spin rounded-full h-32 w-32 border-b-2 border-blue-600"})});const{key_metrics:f,sales_forecast:h,churn_prediction:p,revenue_optimization:g,market_opportunities:y}=e;return s.jsxs("div",{className:"p-6 max-w-7xl mx-auto",children:[s.jsxs("div",{className:"mb-8",children:[s.jsxs("div",{className:"flex items-center gap-3 mb-2",children:[s.jsx("div",{className:"p-2 bg-purple-100 rounded-lg",children:s.jsx(Kc,{className:"w-6 h-6 text-purple-600"})}),s.jsx("h1",{className:"text-3xl font-bold text-gray-900",children:"Predictive Analytics"}),s.jsx("span",{className:"px-3 py-1 bg-blue-100 text-blue-800 text-sm font-medium rounded-full",children:"AI-Powered"})]}),s.jsx("p",{className:"text-gray-600",children:"Forecast sales trends, identify opportunities, and predict customer behavior using AI algorithms"}),s.jsx("div",{className:"mt-4 p-3 bg-yellow-50 border border-yellow-200 rounded-lg",children:s.jsxs("p",{className:"text-yellow-800 text-sm",children:[s.jsx("strong",{children:"Demo Mode:"})," Showing sample predictive analytics data. In production, this would be powered by real-time AI analysis of your CRM data."]})}),a&&s.jsx("div",{className:"mt-4 p-3 bg-red-50 border border-red-200 rounded-lg",children:s.jsxs("p",{className:"text-red-800 text-sm",children:[s.jsx("strong",{children:"API Error:"})," ",a,". Showing demo data instead."]})})]}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-5 gap-6 mb-8",children:[s.jsx("div",{className:"bg-white rounded-xl shadow-sm border p-6",children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{children:[s.jsx("p",{className:"text-sm font-medium text-gray-600",children:"6M Forecasted Revenue"}),s.jsx("p",{className:"text-2xl font-bold text-gray-900",children:Wc(f.forecasted_revenue_6m)})]}),s.jsx("div",{className:"p-3 bg-green-100 rounded-lg",children:s.jsx(Vr,{className:"w-6 h-6 text-green-600"})})]})}),s.jsx("div",{className:"bg-white rounded-xl shadow-sm border p-6",children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{children:[s.jsx("p",{className:"text-sm font-medium text-gray-600",children:"At-Risk Customers"}),s.jsx("p",{className:"text-2xl font-bold text-gray-900",children:f.at_risk_customers})]}),s.jsx("div",{className:"p-3 bg-red-100 rounded-lg",children:s.jsx(bl,{className:"w-6 h-6 text-red-600"})})]})}),s.jsx("div",{className:"bg-white rounded-xl shadow-sm border p-6",children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{children:[s.jsx("p",{className:"text-sm font-medium text-gray-600",children:"High Risk"}),s.jsx("p",{className:"text-2xl font-bold text-gray-900",children:f.high_risk_customers})]}),s.jsx("div",{className:"p-3 bg-orange-100 rounded-lg",children:s.jsx(jr,{className:"w-6 h-6 text-orange-600"})})]})}),s.jsx("div",{className:"bg-white rounded-xl shadow-sm border p-6",children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{children:[s.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Avg Deal Size"}),s.jsx("p",{className:"text-2xl font-bold text-gray-900",children:Wc(f.avg_deal_size)})]}),s.jsx("div",{className:"p-3 bg-blue-100 rounded-lg",children:s.jsx(Yc,{className:"w-6 h-6 text-blue-600"})})]})}),s.jsx("div",{className:"bg-white rounded-xl shadow-sm border p-6",children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{children:[s.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Opportunities"}),s.jsx("p",{className:"text-2xl font-bold text-gray-900",children:f.total_opportunities})]}),s.jsx("div",{className:"p-3 bg-purple-100 rounded-lg",children:s.jsx(Aa,{className:"w-6 h-6 text-purple-600"})})]})})]}),s.jsx("div",{className:"mb-8",children:s.jsx("nav",{className:"flex space-x-8",children:[{id:"overview",label:"Overview",icon:Pa},{id:"forecast",label:"Sales Forecast",icon:kW},{id:"churn",label:"Churn Prediction",icon:jr},{id:"revenue",label:"Revenue Optimization",icon:Yc},{id:"market",label:"Market Opportunities",icon:Aa}].map(({id:b,label:w,icon:j})=>s.jsxs("button",{onClick:()=>c(b),className:`flex items-center gap-2 px-4 py-2 rounded-lg font-medium transition-colors ${l===b?"bg-blue-100 text-blue-700":"text-gray-600 hover:text-gray-900 hover:bg-gray-100"}`,children:[s.jsx(j,{className:"w-4 h-4"}),w]},b))})}),s.jsxs("div",{className:"space-y-6",children:[l==="overview"&&s.jsx(fTe,{insights:e}),l==="forecast"&&s.jsx(hTe,{forecast:h}),l==="churn"&&s.jsx(mTe,{churn:p}),l==="revenue"&&s.jsx(pTe,{revenue:g}),l==="market"&&s.jsx(gTe,{market:y})]})]})}function fTe({insights:e}){const{sales_forecast:t,churn_prediction:r,revenue_optimization:n,market_opportunities:a}=e;return s.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[s.jsxs("div",{className:"bg-white rounded-xl shadow-sm border p-6",children:[s.jsxs("h3",{className:"text-lg font-semibold mb-4 flex items-center gap-2",children:[s.jsx(Vr,{className:"w-5 h-5 text-green-600"}),"Sales Trend"]}),s.jsxs("div",{className:"space-y-3",children:[s.jsxs("div",{className:"flex justify-between items-center",children:[s.jsx("span",{className:"text-sm text-gray-600",children:"Current Trend"}),s.jsx("span",{className:`font-medium ${t.trend.includes("Growth")?"text-green-600":t.trend.includes("Decline")?"text-red-600":"text-gray-600"}`,children:t.trend})]}),s.jsxs("div",{className:"flex justify-between items-center",children:[s.jsx("span",{className:"text-sm text-gray-600",children:"Seasonality"}),s.jsx("span",{className:"text-sm text-gray-900",children:t.seasonality.detected?`Peak: ${t.seasonality.peak_month}`:"No pattern detected"})]})]})]}),s.jsxs("div",{className:"bg-white rounded-xl shadow-sm border p-6",children:[s.jsxs("h3",{className:"text-lg font-semibold mb-4 flex items-center gap-2",children:[s.jsx(bl,{className:"w-5 h-5 text-red-600"}),"Churn Risk Summary"]}),s.jsxs("div",{className:"space-y-3",children:[s.jsxs("div",{className:"flex justify-between items-center",children:[s.jsx("span",{className:"text-sm text-gray-600",children:"Total Analyzed"}),s.jsx("span",{className:"font-medium",children:r.total_contacts_analyzed})]}),s.jsxs("div",{className:"flex justify-between items-center",children:[s.jsx("span",{className:"text-sm text-gray-600",children:"At Risk"}),s.jsx("span",{className:"font-medium text-red-600",children:r.at_risk_contacts})]}),s.jsxs("div",{className:"flex justify-between items-center",children:[s.jsx("span",{className:"text-sm text-gray-600",children:"High Risk"}),s.jsx("span",{className:"font-medium text-red-600",children:r.high_risk})]})]})]}),s.jsxs("div",{className:"bg-white rounded-xl shadow-sm border p-6",children:[s.jsxs("h3",{className:"text-lg font-semibold mb-4 flex items-center gap-2",children:[s.jsx(Yc,{className:"w-5 h-5 text-blue-600"}),"Revenue Insights"]}),s.jsxs("div",{className:"space-y-3",children:[s.jsxs("div",{className:"flex justify-between items-center",children:[s.jsx("span",{className:"text-sm text-gray-600",children:"Total Revenue"}),s.jsx("span",{className:"font-medium",children:Wc(n.total_revenue)})]}),s.jsxs("div",{className:"flex justify-between items-center",children:[s.jsx("span",{className:"text-sm text-gray-600",children:"Total Deals"}),s.jsx("span",{className:"font-medium",children:n.total_deals})]}),s.jsxs("div",{className:"flex justify-between items-center",children:[s.jsx("span",{className:"text-sm text-gray-600",children:"Avg Deal Size"}),s.jsx("span",{className:"font-medium",children:Wc(n.average_deal_size)})]})]})]}),s.jsxs("div",{className:"bg-white rounded-xl shadow-sm border p-6",children:[s.jsxs("h3",{className:"text-lg font-semibold mb-4 flex items-center gap-2",children:[s.jsx(Aa,{className:"w-5 h-5 text-purple-600"}),"Market Opportunities"]}),s.jsx("div",{className:"space-y-2",children:(a.market_opportunities||[]).slice(0,3).map((i,l)=>s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(Ag,{className:"w-4 h-4 text-yellow-500"}),s.jsx("span",{className:"text-sm text-gray-700",children:i.type})]},l))})]})]})}function hTe({forecast:e}){return s.jsx("div",{className:"space-y-6",children:s.jsxs("div",{className:"bg-white rounded-xl shadow-sm border p-6",children:[s.jsx("h3",{className:"text-lg font-semibold mb-4",children:"Sales Forecast (Next 6 Months)"}),s.jsx("div",{className:"overflow-x-auto",children:s.jsxs("table",{className:"w-full",children:[s.jsx("thead",{children:s.jsxs("tr",{className:"border-b",children:[s.jsx("th",{className:"text-left py-3 px-4",children:"Month"}),s.jsx("th",{className:"text-right py-3 px-4",children:"Predicted Revenue"}),s.jsx("th",{className:"text-right py-3 px-4",children:"Predicted Deals"}),s.jsx("th",{className:"text-right py-3 px-4",children:"Confidence (80%)"})]})}),s.jsx("tbody",{children:e.forecast.map((t,r)=>s.jsxs("tr",{className:"border-b",children:[s.jsx("td",{className:"py-3 px-4",children:t.month}),s.jsx("td",{className:"text-right py-3 px-4 font-medium",children:Wc(t.predicted_revenue)}),s.jsx("td",{className:"text-right py-3 px-4",children:t.predicted_deals}),s.jsxs("td",{className:"text-right py-3 px-4 text-sm text-gray-600",children:[Wc(e.confidence_intervals[r]?.low_80||0)," - ",Wc(e.confidence_intervals[r]?.high_80||0)]})]},r))})]})})]})})}function mTe({churn:e}){return s.jsx("div",{className:"space-y-6",children:s.jsxs("div",{className:"bg-white rounded-xl shadow-sm border p-6",children:[s.jsx("h3",{className:"text-lg font-semibold mb-4",children:"Customer Churn Risk Analysis"}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4 mb-6",children:[s.jsxs("div",{className:"text-center p-4 bg-red-50 rounded-lg",children:[s.jsx("div",{className:"text-2xl font-bold text-red-600",children:e.high_risk}),s.jsx("div",{className:"text-sm text-gray-600",children:"High Risk"})]}),s.jsxs("div",{className:"text-center p-4 bg-yellow-50 rounded-lg",children:[s.jsx("div",{className:"text-2xl font-bold text-yellow-600",children:e.medium_risk}),s.jsx("div",{className:"text-sm text-gray-600",children:"Medium Risk"})]}),s.jsxs("div",{className:"text-center p-4 bg-green-50 rounded-lg",children:[s.jsx("div",{className:"text-2xl font-bold text-green-600",children:e.low_risk}),s.jsx("div",{className:"text-sm text-gray-600",children:"Low Risk"})]})]}),s.jsx("div",{className:"space-y-3",children:(e.churn_risks||[]).slice(0,10).map((t,r)=>s.jsxs("div",{className:"flex items-center justify-between p-3 border rounded-lg",children:[s.jsxs("div",{children:[s.jsx("div",{className:"font-medium",children:t.contact_name}),s.jsx("div",{className:"text-sm text-gray-600",children:t.company}),s.jsx("div",{className:"text-xs text-gray-500 mt-1",children:(t.risk_factors||[]).slice(0,2).join(", ")})]}),s.jsxs("div",{className:"text-right",children:[s.jsxs("div",{className:`px-2 py-1 rounded-full text-xs font-medium ${uTe(t.risk_level)}`,children:[t.risk_level," Risk"]}),s.jsxs("div",{className:"text-sm text-gray-600 mt-1",children:["Score: ",t.risk_score]})]})]},r))})]})})}function pTe({revenue:e}){return s.jsxs("div",{className:"space-y-6",children:[s.jsxs("div",{className:"bg-white rounded-xl shadow-sm border p-6",children:[s.jsx("h3",{className:"text-lg font-semibold mb-4",children:"Revenue Optimization Opportunities"}),s.jsx("div",{className:"space-y-4",children:e.optimization_opportunities.map((t,r)=>s.jsxs("div",{className:"p-4 border rounded-lg",children:[s.jsxs("div",{className:"flex items-start justify-between mb-2",children:[s.jsx("h4",{className:"font-medium",children:t.type}),s.jsxs("div",{className:"flex gap-2",children:[s.jsxs("span",{className:`text-xs px-2 py-1 rounded ${WU(t.potential_impact)} bg-opacity-20`,children:[t.potential_impact," Impact"]}),s.jsxs("span",{className:`text-xs px-2 py-1 rounded ${GU(t.effort)} bg-opacity-20`,children:[t.effort," Effort"]})]})]}),s.jsx("p",{className:"text-sm text-gray-600",children:t.description})]},r))})]}),s.jsxs("div",{className:"bg-white rounded-xl shadow-sm border p-6",children:[s.jsx("h3",{className:"text-lg font-semibold mb-4",children:"Recommendations"}),s.jsx("div",{className:"space-y-2",children:e.recommendations.map((t,r)=>s.jsxs("div",{className:"flex items-start gap-2",children:[s.jsx(Lt,{className:"w-4 h-4 text-green-600 mt-0.5 flex-shrink-0"}),s.jsx("span",{className:"text-sm text-gray-700",children:t})]},r))})]})]})}function gTe({market:e}){return s.jsxs("div",{className:"space-y-6",children:[s.jsxs("div",{className:"bg-white rounded-xl shadow-sm border p-6",children:[s.jsx("h3",{className:"text-lg font-semibold mb-4",children:"Source Effectiveness"}),s.jsx("div",{className:"overflow-x-auto",children:s.jsxs("table",{className:"w-full",children:[s.jsx("thead",{children:s.jsxs("tr",{className:"border-b",children:[s.jsx("th",{className:"text-left py-3 px-4",children:"Source"}),s.jsx("th",{className:"text-right py-3 px-4",children:"Total Leads"}),s.jsx("th",{className:"text-right py-3 px-4",children:"Qualification Rate"}),s.jsx("th",{className:"text-right py-3 px-4",children:"Conversion Rate"}),s.jsx("th",{className:"text-right py-3 px-4",children:"Effectiveness Score"})]})}),s.jsx("tbody",{children:Object.entries(e.source_effectiveness).map(([t,r])=>s.jsxs("tr",{className:"border-b",children:[s.jsx("td",{className:"py-3 px-4 font-medium",children:t}),s.jsx("td",{className:"text-right py-3 px-4",children:r.total_leads}),s.jsx("td",{className:"text-right py-3 px-4",children:D2(r.qualification_rate)}),s.jsx("td",{className:"text-right py-3 px-4",children:D2(r.conversion_rate)}),s.jsx("td",{className:"text-right py-3 px-4",children:s.jsx("span",{className:`px-2 py-1 rounded text-xs ${r.effectiveness_score>50?"bg-green-100 text-green-800":r.effectiveness_score>30?"bg-yellow-100 text-yellow-800":"bg-red-100 text-red-800"}`,children:D2(r.effectiveness_score)})})]},t))})]})})]}),s.jsxs("div",{className:"bg-white rounded-xl shadow-sm border p-6",children:[s.jsx("h3",{className:"text-lg font-semibold mb-4",children:"Market Opportunities"}),s.jsx("div",{className:"space-y-4",children:e.market_opportunities.map((t,r)=>s.jsxs("div",{className:"p-4 border rounded-lg",children:[s.jsxs("div",{className:"flex items-start justify-between mb-2",children:[s.jsx("h4",{className:"font-medium",children:t.type}),s.jsxs("div",{className:"flex gap-2",children:[s.jsxs("span",{className:`text-xs px-2 py-1 rounded ${WU(t.potential_impact)} bg-opacity-20`,children:[t.potential_impact," Impact"]}),s.jsxs("span",{className:`text-xs px-2 py-1 rounded ${GU(t.effort)} bg-opacity-20`,children:[t.effort," Effort"]})]})]}),s.jsx("p",{className:"text-sm text-gray-600",children:t.description})]},r))})]})]})}const P2={async getOrganizationUsers(e){return Ee("/api/users","GET")},async createUser(e,t){return Ee("/api/users","POST",t)},async deleteUser(e,t){return Ee(`/api/users/${t}`,"DELETE")}};function xTe(){const{user:e}=ma(),[t,r]=v.useState([]),[n,a]=v.useState(!0),[i,l]=v.useState(null),[c,d]=v.useState(!1),[f,h]=v.useState(null),[p,g]=v.useState(!1),[y,b]=v.useState(null),[w,j]=v.useState(""),[S,_]=v.useState({name:"",email:"",password:""}),E=v.useMemo(()=>{if(!w)return t;const P=w.toLowerCase();return t.filter(F=>(F.name||"").toLowerCase().includes(P)||(F.email||"").toLowerCase().includes(P)||(F.role||"").toLowerCase().includes(P))},[t,w]);v.useEffect(()=>{e?.organization_id&&T()},[e?.organization_id]),v.useEffect(()=>{if(y){const P=setTimeout(()=>b(null),3e3);return()=>clearTimeout(P)}},[y]);const T=async()=>{if(e?.organization_id){a(!0),l(null);try{const P=await P2.getOrganizationUsers(e.organization_id);r(P)}catch(P){l("Failed to fetch users"),console.error("Failed to fetch users:",P)}finally{a(!1)}}},A=async()=>{if(e?.organization_id){if(!S.name||!S.email||!S.password){b("Please fill in all fields");return}g(!0);try{await P2.createUser(e.organization_id,S),b(`User ${S.name} created successfully!`),_({name:"",email:"",password:""}),d(!1),await T()}catch(P){b(P.message||"Failed to create user"),console.error("Failed to create user:",P)}finally{g(!1)}}},C=async(P,F)=>{if(e?.organization_id&&window.confirm(`Are you sure you want to delete user "${F}"?`)){g(!0);try{await P2.deleteUser(e.organization_id,P),b(`User ${F} deleted successfully!`),await T()}catch(G){b(G.message||"Failed to delete user"),console.error("Failed to delete user:",G)}finally{g(!1)}}},O=()=>{_({name:"",email:"",password:""})};return n?s.jsx("div",{className:"flex items-center justify-center h-64",children:s.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-blue-600"})}):s.jsxs("div",{className:"p-6 max-w-7xl mx-auto",children:[s.jsxs("div",{className:"flex flex-col sm:flex-row justify-between items-start sm:items-center gap-4 mb-6",children:[s.jsxs("div",{children:[s.jsxs("h1",{className:"text-2xl font-bold text-gray-900 dark:text-white flex items-center gap-2",children:[s.jsx(jr,{className:"w-6 h-6"}),"User Management"]}),s.jsx("p",{className:"text-gray-600 dark:text-gray-400 mt-1",children:"Manage users in your organization"})]}),s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsxs("div",{className:"relative",children:[s.jsx("input",{value:w,onChange:P=>j(P.target.value),placeholder:"Search users...",className:"rounded-full pl-10 pr-4 py-2 bg-white/80 dark:bg-gray-800/80 text-gray-900 dark:text-white placeholder:text-gray-400 focus:outline-none focus:ring-2 focus:ring-blue-400 w-64 shadow"}),s.jsx(fi,{className:"absolute left-3 top-2.5 w-5 h-5 text-gray-400"})]}),s.jsxs("button",{onClick:P=>{h(P.currentTarget.getBoundingClientRect()),d(!0)},className:"bg-blue-600 hover:bg-blue-700 text-white px-4 py-2 rounded-lg flex items-center gap-2 transition-colors",children:[s.jsx(Gx,{className:"w-4 h-4"}),"Add User"]})]})]}),i&&s.jsx("div",{className:"bg-red-50 border border-red-200 text-red-700 px-4 py-3 rounded-lg mb-6",children:i}),y&&s.jsx("div",{className:"fixed top-4 right-4 bg-green-500 text-white px-6 py-3 rounded-lg shadow-lg z-50",children:y}),s.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-lg shadow overflow-hidden",children:[s.jsx("div",{className:"overflow-x-auto",children:s.jsxs("table",{className:"min-w-full divide-y divide-gray-200 dark:divide-gray-700",children:[s.jsx("thead",{className:"bg-gray-50 dark:bg-gray-700",children:s.jsxs("tr",{children:[s.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-300 uppercase tracking-wider",children:"User"}),s.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-300 uppercase tracking-wider",children:"Email"}),s.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-300 uppercase tracking-wider",children:"Role"}),s.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-300 uppercase tracking-wider",children:"Created"}),s.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-300 uppercase tracking-wider",children:"Actions"})]})}),s.jsx("tbody",{className:"bg-white dark:bg-gray-800 divide-y divide-gray-200 dark:divide-gray-700",children:E.map(P=>s.jsxs("tr",{className:"hover:bg-gray-50 dark:hover:bg-gray-700",children:[s.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:s.jsxs("div",{className:"flex items-center",children:[s.jsx("div",{className:"flex-shrink-0 h-8 w-8",children:s.jsx("div",{className:"h-8 w-8 rounded-full bg-blue-500 flex items-center justify-center text-white text-sm font-medium",children:P.name.charAt(0).toUpperCase()})}),s.jsx("div",{className:"ml-4",children:s.jsx("div",{className:"text-sm font-medium text-gray-900 dark:text-white",children:P.name})})]})}),s.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500 dark:text-gray-300",children:P.email}),s.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:s.jsx("span",{className:"inline-flex px-2 py-1 text-xs font-semibold rounded-full bg-green-100 text-green-800 dark:bg-green-900 dark:text-green-200",children:P.role})}),s.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500 dark:text-gray-300",children:P.created_at?new Date(P.created_at).toLocaleDateString():"N/A"}),s.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm font-medium",children:s.jsx("div",{className:"flex gap-2",children:s.jsx("button",{className:"text-red-600 hover:text-red-900 dark:text-red-400 dark:hover:text-red-300",onClick:()=>C(P.id,P.name),disabled:p||P.id===e?.id,title:P.id===e?.id?"Cannot delete yourself":"Delete user",children:s.jsx(Mi,{className:"w-4 h-4"})})})})]},P.id))})]})}),t.length===0&&s.jsxs("div",{className:"text-center py-12",children:[s.jsx(jr,{className:"mx-auto h-12 w-12 text-gray-400"}),s.jsx("h3",{className:"mt-2 text-sm font-medium text-gray-900 dark:text-white",children:"No users found"}),s.jsx("p",{className:"mt-1 text-sm text-gray-500 dark:text-gray-400",children:"Get started by creating a new user."})]})]}),s.jsx(Ft,{open:c,onClose:()=>{d(!1),O()},title:"Create User",children:s.jsxs("div",{className:"p-6 w-full max-w-md",children:[s.jsxs("div",{className:"flex justify-between items-center mb-4",children:[s.jsx("h2",{className:"text-xl font-bold text-gray-900 dark:text-white",children:"Create New User"}),s.jsx("button",{onClick:()=>{d(!1),O()},className:"text-gray-400 hover:text-gray-600 dark:hover:text-gray-300",children:s.jsx("svg",{className:"w-6 h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})})]}),s.jsxs("form",{onSubmit:P=>{P.preventDefault(),A()},className:"space-y-4",children:[s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:"Full Name"}),s.jsx("input",{type:"text",value:S.name,onChange:P=>_({...S,name:P.target.value}),className:"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent dark:bg-gray-700 dark:text-white",placeholder:"Enter full name",required:!0})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:"Email"}),s.jsx("input",{type:"email",value:S.email,onChange:P=>_({...S,email:P.target.value}),className:"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent dark:bg-gray-700 dark:text-white",placeholder:"Enter email address",required:!0})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:"Password"}),s.jsx("input",{type:"password",value:S.password,onChange:P=>_({...S,password:P.target.value}),className:"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent dark:bg-gray-700 dark:text-white",placeholder:"Enter password",required:!0,minLength:6})]}),s.jsxs("div",{className:"flex gap-3 pt-4",children:[s.jsx("button",{type:"button",onClick:()=>{d(!1),O()},className:"flex-1 px-4 py-2 text-gray-700 dark:text-gray-300 bg-gray-100 dark:bg-gray-600 rounded-lg hover:bg-gray-200 dark:hover:bg-gray-500 transition-colors",children:"Cancel"}),s.jsx("button",{type:"submit",disabled:p,className:"flex-1 px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 disabled:opacity-50 disabled:cursor-not-allowed transition-colors",children:p?"Creating...":"Create User"})]})]})]})})]})}function yTe(){const{user:e}=ma(),[t,r]=v.useState([]),[n,a]=v.useState(!0),[i,l]=v.useState(null),[c,d]=v.useState(null),[f,h]=v.useState(null),[p,g]=v.useState(!1),[y,b]=v.useState(null),[w,j]=v.useState(!1);v.useEffect(()=>{S()},[]);const S=async()=>{try{a(!0);const O=await Ee("/api/customer-accounts");Array.isArray(O)?r(O):(console.error("API returned non-array data:",O),r([]),l("Invalid data format received from server"))}catch(O){l("Failed to load customer accounts"),console.error("Error fetching customer accounts:",O),r([])}finally{a(!1)}},_=async O=>{try{const P=await Ee(`/api/customer-accounts/${O}/success-metrics`);h(P),j(!0)}catch(P){console.error("Error fetching success metrics:",P)}},E=async O=>{try{a(!0);const P=await Ee(`/api/customer-accounts/${O}/onboarding/start`,"POST");b(P),g(!0),S()}catch(P){console.error("Error starting onboarding:",P),l("Failed to start onboarding")}finally{a(!1)}},T=O=>{switch(O){case"completed":return s.jsx(Lt,{className:"w-5 h-5 text-green-500"});case"in_progress":return s.jsx(is,{className:"w-5 h-5 text-yellow-500"});case"pending":return s.jsx(V2,{className:"w-5 h-5 text-gray-500"});default:return s.jsx(V2,{className:"w-5 h-5 text-gray-500"})}},A=O=>{switch(O){case"completed":return"bg-green-100 text-green-800";case"in_progress":return"bg-yellow-100 text-yellow-800";case"pending":return"bg-gray-100 text-gray-800";default:return"bg-gray-100 text-gray-800"}},C=O=>O>=80?"text-green-600":O>=60?"text-yellow-600":"text-red-600";return n?s.jsx("div",{className:"flex items-center justify-center h-64",children:s.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-blue-600"})}):i?s.jsx("div",{className:"bg-red-50 border border-red-200 text-red-700 px-4 py-3 rounded-lg",children:i}):s.jsxs("div",{className:"p-6 max-w-7xl mx-auto",children:[s.jsx("div",{className:"flex flex-col sm:flex-row justify-between items-start sm:items-center gap-4 mb-6",children:s.jsxs("div",{children:[s.jsxs("h1",{className:"text-2xl font-bold text-gray-900 dark:text-white flex items-center gap-2",children:[s.jsx(jr,{className:"w-6 h-6"}),"Customer Accounts"]}),s.jsx("p",{className:"text-gray-600 dark:text-gray-400 mt-1",children:"Manage customer accounts and track success metrics"})]})}),s.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6 mb-8",children:Array.isArray(t)&&t.map(O=>s.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-lg shadow p-6",children:[s.jsxs("div",{className:"flex items-start justify-between mb-4",children:[s.jsxs("div",{children:[s.jsx("h3",{className:"text-lg font-semibold text-gray-900 dark:text-white",children:O.account_name}),s.jsxs("p",{className:"text-sm text-gray-500 dark:text-gray-400",children:["Deal ID: ",O.deal_id]})]}),s.jsx("span",{className:`px-2 py-1 rounded-full text-xs font-medium ${A(O.onboarding_status)}`,children:O.onboarding_status})]}),s.jsxs("div",{className:"space-y-3",children:[s.jsxs("div",{className:"flex items-center gap-2",children:[T(O.onboarding_status),s.jsxs("span",{className:"text-sm text-gray-600 dark:text-gray-300",children:["Onboarding: ",O.onboarding_status]})]}),O.health_score&&s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(Vr,{className:"w-4 h-4 text-blue-500"}),s.jsxs("span",{className:"text-sm text-gray-600 dark:text-gray-300",children:["Health Score: ",s.jsxs("span",{className:`font-medium ${C(O.health_score)}`,children:[O.health_score,"%"]})]})]}),O.renewal_probability&&s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(Pa,{className:"w-4 h-4 text-green-500"}),s.jsxs("span",{className:"text-sm text-gray-600 dark:text-gray-300",children:["Renewal: ",s.jsxs("span",{className:"font-medium text-green-600",children:[O.renewal_probability,"%"]})]})]}),s.jsxs("div",{className:"flex gap-2 pt-2",children:[s.jsxs("button",{onClick:()=>_(O.id),className:"flex items-center gap-1 px-3 py-1 text-sm bg-blue-100 text-blue-700 rounded hover:bg-blue-200",children:[s.jsx(gn,{className:"w-4 h-4"}),"Metrics"]}),O.onboarding_status==="pending"&&s.jsxs("button",{onClick:()=>E(O.id),className:"flex items-center gap-1 px-3 py-1 text-sm bg-green-100 text-green-700 rounded hover:bg-green-200",children:[s.jsx(sR,{className:"w-4 h-4"}),"Start Onboarding"]})]})]})]},O.id))}),w&&f&&s.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:s.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-lg p-6 max-w-2xl w-full mx-4 max-h-[80vh] overflow-y-auto",children:[s.jsxs("div",{className:"flex justify-between items-center mb-4",children:[s.jsx("h2",{className:"text-xl font-bold text-gray-900 dark:text-white",children:"Customer Success Metrics"}),s.jsx("button",{onClick:()=>j(!1),className:"text-gray-500 hover:text-gray-700",children:""})]}),s.jsxs("div",{className:"grid grid-cols-2 gap-4 mb-6",children:[s.jsxs("div",{className:"bg-blue-50 dark:bg-blue-900/20 p-4 rounded-lg",children:[s.jsxs("div",{className:"text-2xl font-bold text-blue-600",children:[f.health_score,"%"]}),s.jsx("div",{className:"text-sm text-blue-600",children:"Health Score"})]}),s.jsxs("div",{className:"bg-green-50 dark:bg-green-900/20 p-4 rounded-lg",children:[s.jsxs("div",{className:"text-2xl font-bold text-green-600",children:[f.renewal_probability,"%"]}),s.jsx("div",{className:"text-sm text-green-600",children:"Renewal Probability"})]})]}),s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{children:[s.jsx("h3",{className:"font-semibold text-gray-900 dark:text-white mb-2",children:"Key Metrics"}),s.jsxs("div",{className:"grid grid-cols-2 gap-4 text-sm",children:[s.jsxs("div",{children:[s.jsx("span",{className:"text-gray-600 dark:text-gray-400",children:"Total Interactions:"}),s.jsx("span",{className:"ml-2 font-medium",children:f.metrics.total_interactions})]}),s.jsxs("div",{children:[s.jsx("span",{className:"text-gray-600 dark:text-gray-400",children:"Avg Response Time:"}),s.jsx("span",{className:"ml-2 font-medium",children:f.metrics.response_time_avg})]}),s.jsxs("div",{children:[s.jsx("span",{className:"text-gray-600 dark:text-gray-400",children:"Feature Adoption:"}),s.jsxs("span",{className:"ml-2 font-medium",children:[f.metrics.feature_adoption,"%"]})]}),s.jsxs("div",{children:[s.jsx("span",{className:"text-gray-600 dark:text-gray-400",children:"Support Tickets:"}),s.jsx("span",{className:"ml-2 font-medium",children:f.metrics.support_tickets})]})]})]}),s.jsxs("div",{children:[s.jsx("h3",{className:"font-semibold text-gray-900 dark:text-white mb-2",children:"Engagement"}),s.jsxs("div",{className:"text-sm",children:[s.jsx("span",{className:"text-gray-600 dark:text-gray-400",children:"Level:"}),s.jsx("span",{className:`ml-2 px-2 py-1 rounded text-xs font-medium ${f.engagement_level==="high"?"bg-green-100 text-green-800":f.engagement_level==="medium"?"bg-yellow-100 text-yellow-800":"bg-red-100 text-red-800"}`,children:f.engagement_level})]}),s.jsxs("div",{className:"text-sm mt-1",children:[s.jsx("span",{className:"text-gray-600 dark:text-gray-400",children:"Last Activity:"}),s.jsx("span",{className:"ml-2 font-medium",children:new Date(f.last_activity).toLocaleDateString()})]})]})]})]})}),s.jsx(Ft,{open:p,onClose:()=>g(!1),title:"Onboarding Started Successfully!",animationType:"scale",size:"lg",children:y&&s.jsxs("div",{className:"space-y-6",children:[s.jsxs("div",{className:"text-center",children:[s.jsx("div",{className:"mx-auto flex items-center justify-center h-16 w-16 rounded-full bg-green-100 dark:bg-green-900 mb-4",children:s.jsx(Lt,{className:"h-8 w-8 text-green-600 dark:text-green-400"})}),s.jsx("h3",{className:"text-lg font-medium text-gray-900 dark:text-white mb-2",children:"Onboarding Process Initiated"}),s.jsxs("p",{className:"text-sm text-gray-600 dark:text-gray-400",children:[y.tasks?.length||0," onboarding tasks have been created and assigned."]})]}),y.tasks&&y.tasks.length>0&&s.jsxs("div",{className:"border-t border-gray-200 dark:border-gray-700 pt-6",children:[s.jsxs("h4",{className:"text-md font-medium text-gray-900 dark:text-white mb-4 flex items-center",children:[s.jsx(nR,{className:"w-5 h-5 mr-2"}),"Onboarding Tasks Created"]}),s.jsx("div",{className:"space-y-3",children:y.tasks.map((O,P)=>s.jsxs("div",{className:"flex items-start space-x-3 p-3 bg-gray-50 dark:bg-gray-800 rounded-lg",children:[s.jsx("div",{className:"flex-shrink-0",children:s.jsx("div",{className:"flex items-center justify-center h-6 w-6 rounded-full bg-blue-100 dark:bg-blue-900",children:s.jsx("span",{className:"text-xs font-medium text-blue-600 dark:text-blue-400",children:P+1})})}),s.jsxs("div",{className:"flex-1 min-w-0",children:[s.jsx("p",{className:"text-sm font-medium text-gray-900 dark:text-white",children:O.title}),s.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-400",children:O.description}),s.jsxs("div",{className:"mt-2 flex items-center text-xs text-gray-500 dark:text-gray-400",children:[s.jsx(UN,{className:"w-3 h-3 mr-1"}),"Due: ",new Date(O.due_date).toLocaleDateString()]})]}),s.jsx("div",{className:"flex-shrink-0",children:s.jsx("span",{className:`inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium ${O.status==="pending"?"bg-yellow-100 text-yellow-800 dark:bg-yellow-900 dark:text-yellow-200":O.status==="in_progress"?"bg-blue-100 text-blue-800 dark:bg-blue-900 dark:text-blue-200":"bg-green-100 text-green-800 dark:bg-green-900 dark:text-green-200"}`,children:O.status})})]},P))})]}),s.jsx("div",{className:"border-t border-gray-200 dark:border-gray-700 pt-6",children:s.jsx("div",{className:"bg-blue-50 dark:bg-blue-900/20 p-4 rounded-lg",children:s.jsxs("div",{className:"flex",children:[s.jsx("div",{className:"flex-shrink-0",children:s.jsx(Gx,{className:"h-5 w-5 text-blue-400"})}),s.jsxs("div",{className:"ml-3",children:[s.jsx("h3",{className:"text-sm font-medium text-blue-800 dark:text-blue-200",children:"What happens next?"}),s.jsx("div",{className:"mt-2 text-sm text-blue-700 dark:text-blue-300",children:s.jsxs("ul",{className:"list-disc list-inside space-y-1",children:[s.jsx("li",{children:"Tasks have been assigned to the success manager"}),s.jsx("li",{children:"Customer will receive welcome email with next steps"}),s.jsx("li",{children:"Onboarding progress will be tracked automatically"}),s.jsx("li",{children:"You can monitor progress in the Customer Accounts section"})]})})]})]})})}),s.jsx("div",{className:"flex justify-end pt-4",children:s.jsx("button",{onClick:()=>g(!1),className:"px-6 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors duration-200",children:"Got it!"})})]})})]})}const yM={async getSettings(){return Ee("/api/company-settings")},async updateSettings(e){return Ee("/api/company-settings",{method:"PUT",body:JSON.stringify(e),headers:{"Content-Type":"application/json"}})},async createSettings(e){return Ee("/api/company-settings",{method:"POST",body:JSON.stringify(e),headers:{"Content-Type":"application/json"}})}},vTe=()=>{const[e,t]=v.useState("dashboard"),[r,n]=v.useState([]),[a,i]=v.useState([]),[l,c]=v.useState([]),[d,f]=v.useState(null),[h,p]=v.useState(!1),[g,y]=v.useState(null),[b,w]=v.useState([]),[j,S]=v.useState([]),[_,E]=v.useState([]),[T,A]=v.useState([]),[C,O]=v.useState(!1),[P,F]=v.useState({invoice_id:"",amount:"",recognition_date:"",recognition_type:"immediate",recognition_period:"",revenue_type:"product",revenue_category:"",notes:""}),[G,W]=v.useState([]),[ee,ue]=v.useState([]),[fe,Q]=v.useState(""),[K,J]=v.useState(!1),[se,xe]=v.useState(null),[U,ae]=v.useState([]),[D,H]=v.useState(!1),[B,V]=v.useState({report_type:"profit_loss",report_name:"",start_date:"",end_date:"",include_charts:!0}),[le,De]=v.useState(null),[re,ie]=v.useState(null),[de,oe]=v.useState(null),[me,Xe]=v.useState(null),[Ue,xt]=v.useState(!1),[Ye,Be]=v.useState({start_date:new Date(new Date().getFullYear(),new Date().getMonth(),1).toISOString().split("T")[0],end_date:new Date().toISOString().split("T")[0]}),[Dt,Kt]=v.useState([]),[yt,Vt]=v.useState([]),[Rr,Wr]=v.useState([]),[yr,Pn]=v.useState([]),[Mn,vt]=v.useState(!1),[ur,pt]=v.useState(!1),[qt,dn]=v.useState(!1),[at,Mt]=v.useState(null),[Zr,Nr]=v.useState(!1),[ge,ct]=v.useState([]),[At,te]=v.useState(!1),[Ce,Ae]=v.useState(!1),[ut,ot]=v.useState(""),[Er,vr]=v.useState([]),[hs,Xn]=v.useState([]),[Fl,xi]=v.useState(""),[ga,dr]=v.useState(!1),[Wt,xa]=v.useState(null),[gt,fr]=v.useState({deal_id:"",customer_account_id:"",due_date:"",subtotal:"",tax_rate:"",discount_amount:"",discount_type:"percentage",advance_payment:"",recurring_invoice:!1,recurring_frequency:"monthly",recurring_end_date:"",description:"",notes:"",terms_conditions:""}),[L,Z]=v.useState(""),[q,Y]=v.useState(""),[M,X]=v.useState(!1),[be,_e]=v.useState(!1),[pe,we]=v.useState(null),[Ne,Fe]=v.useState(null),[Le,Ke]=v.useState({invoice_id:"",amount:"",payment_date:"",payment_method:"credit_card",payment_reference:"",notes:""}),[Me,Ve]=v.useState({company_name:"",company_mobile:"",city:"",area:"",complete_address:"",trn:"",currency:"AED - UAE Dirham (.)",timezone:"Dubai (UAE)"}),[tt,_t]=v.useState({trial_date_enabled:!0,trial_date_days:"3",delivery_date_enabled:!0,delivery_date_days:"3",advance_payment_enabled:!0}),[Yt,ar]=v.useState(null),[Fa,Ys]=v.useState(!1);v.useEffect(()=>{ya(),Sm(),av(),Xo(),pf(),yf()},[]),v.useEffect(()=>{const I=ze=>{ze.target.closest(".dropdown-container")||(X(!1),_e(!1),dr(!1),J(!1))};return document.addEventListener("mousedown",I),()=>{document.removeEventListener("mousedown",I)}},[]),v.useEffect(()=>{e==="invoices"?Qo():e==="payments"?Ui():e==="revenue"?Em():e==="profit-loss"?va(Ye.start_date,Ye.end_date):e==="cash-flow"?yi(Ye.start_date,Ye.end_date):e==="aging"&&ba("receivables")},[e]),v.useEffect(()=>{(r.length>0||a.length>0||l.length>0)&&sa()},[r,a,l]),v.useEffect(()=>{e==="settings"&&mf()},[e]);const ya=async()=>{try{p(!0);const I=await Ee("/api/financial/dashboard");f(I),sa()}catch(I){console.error("Error fetching dashboard data:",I),y("Failed to fetch dashboard data")}finally{p(!1)}},va=async(I,ze)=>{try{xt(!0);const Ge=new URLSearchParams;I&&Ge.append("start_date",I),ze&&Ge.append("end_date",ze);const Pt=await Ee(`/api/financial/reports/profit-loss?${Ge.toString()}`);De(Pt)}catch(Ge){console.error("Error fetching P&L report:",Ge),y("Failed to fetch Profit & Loss report")}finally{xt(!1)}},yi=async(I,ze)=>{try{xt(!0);const Ge=new URLSearchParams;I&&Ge.append("start_date",I),ze&&Ge.append("end_date",ze);const Pt=await Ee(`/api/financial/reports/cash-flow?${Ge.toString()}`);ie(Pt)}catch(Ge){console.error("Error fetching cash flow report:",Ge),y("Failed to fetch Cash Flow report")}finally{xt(!1)}},ba=async(I="receivables")=>{try{xt(!0);const ze=await Ee(`/api/financial/reports/aging?report_type=${I}`);oe(ze)}catch(ze){console.error("Error fetching aging report:",ze),y("Failed to fetch Aging report")}finally{xt(!1)}},mf=async()=>{try{Ys(!0);const I=await yM.getSettings();ar(I),Ve({company_name:I.company_name||"",company_mobile:I.company_mobile||"",city:I.city||"",area:I.area||"",complete_address:I.complete_address||"",trn:I.trn||"",currency:I.currency||"AED - UAE Dirham (.)",timezone:I.timezone||"Dubai (UAE)"}),_t({trial_date_enabled:I.trial_date_enabled,trial_date_days:I.trial_date_days.toString(),delivery_date_enabled:I.delivery_date_enabled,delivery_date_days:I.delivery_date_days.toString(),advance_payment_enabled:I.advance_payment_enabled})}catch(I){console.error("Error fetching company settings:",I),y("Failed to fetch company settings")}finally{Ys(!1)}},sa=()=>{const ze=["Jan","Feb","Mar","Apr","May","Jun"].map((rt,Rn)=>({month:rt,revenue:Math.floor(Math.random()*5e4)+2e4,invoices:Math.floor(Math.random()*20)+10}));S(ze);const Ge=[{method:"Credit Card",count:a.filter(rt=>rt.payment_method==="credit_card").length,amount:45e3},{method:"Bank Transfer",count:a.filter(rt=>rt.payment_method==="bank_transfer").length,amount:32e3},{method:"Cash",count:a.filter(rt=>rt.payment_method==="cash").length,amount:15e3},{method:"Check",count:a.filter(rt=>rt.payment_method==="check").length,amount:8e3}];E(Ge);const Pt=[{status:"Paid",count:r.filter(rt=>rt.status==="paid").length,amount:r.filter(rt=>rt.status==="paid").reduce((rt,Rn)=>rt+Rn.total_amount,0)},{status:"Sent",count:r.filter(rt=>rt.status==="sent").length,amount:r.filter(rt=>rt.status==="sent").reduce((rt,Rn)=>rt+Rn.total_amount,0)},{status:"Overdue",count:r.filter(rt=>rt.status==="overdue").length,amount:r.filter(rt=>rt.status==="overdue").reduce((rt,Rn)=>rt+Rn.total_amount,0)},{status:"Draft",count:r.filter(rt=>rt.status==="draft").length,amount:r.filter(rt=>rt.status==="draft").reduce((rt,Rn)=>rt+Rn.total_amount,0)}];A(Pt);const Tt=[];r.slice(0,3).forEach(rt=>{Tt.push({id:`invoice-${rt.id}`,type:"invoice",title:`Invoice ${rt.invoice_number} created`,description:`Amount: ${st(rt.total_amount)}`,timestamp:new Date(rt.created_at),icon:Is,color:"blue"})}),a.slice(0,3).forEach(rt=>{Tt.push({id:`payment-${rt.id}`,type:"payment",title:`Payment ${rt.payment_number} received`,description:`Amount: ${st(rt.amount)}`,timestamp:new Date(rt.payment_date),icon:rd,color:"green"})}),l.slice(0,2).forEach(rt=>{Tt.push({id:`revenue-${rt.id}`,type:"revenue",title:"Revenue recognized",description:`Amount: ${st(rt.amount)}`,timestamp:new Date(rt.recognition_date),icon:Vr,color:"purple"})}),Tt.sort((rt,Rn)=>Rn.timestamp.getTime()-rt.timestamp.getTime()),w(Tt.slice(0,8))},Sm=async()=>{try{const I=await Ee("/api/kanban/board");if(I&&I.stages&&I.deals){const ze=I.stages.find(Ge=>Ge.name.toLowerCase()==="won"||Ge.name.toLowerCase()==="closed won");if(ze){const Pt=I.deals.filter(Tt=>Tt.stage_id===ze.id).map(Tt=>({id:Tt.id,title:Tt.title,value:Tt.value||0,status:Tt.status||"won",contact_id:Tt.contact_id,contact_name:Tt.contact_name,customer_account_id:Tt.customer_account_id,customer_account_name:Tt.customer_account_name}));Kt(Pt),Wr(Pt)}}}catch(I){console.error("Error fetching won deals:",I)}},av=async()=>{try{const I=await Ee("/api/customer-accounts");Array.isArray(I)&&(Vt(I),Pn(I))}catch(I){console.error("Error fetching customer accounts:",I)}},Xo=async()=>{try{const I=await Ee("/api/invoices");if(Array.isArray(I)){const ze=I.filter(Ge=>Ge.balance_due>0);vr(ze),Xn(ze)}}catch(I){console.error("Error fetching available invoices:",I)}},pf=async()=>{try{const[I,ze]=await Promise.all([Ee("/api/invoices"),Ee("/api/revenue")]);if(Array.isArray(I)&&Array.isArray(ze)){const Ge=new Set(ze.map(Tt=>Tt.invoice_id)),Pt=I.filter(Tt=>Tt.status==="paid"&&!Ge.has(Tt.id));W(Pt),ue(Pt)}}catch(I){console.error("Error fetching available invoices for revenue:",I)}},bu=I=>{Z(I),te(!1);const ze=Dt.filter(Ge=>Ge.title.toLowerCase().includes(I.toLowerCase())||Ge.id.toString().includes(I)||Ge.contact_name&&Ge.contact_name.toLowerCase().includes(I.toLowerCase()));Wr(ze)},sv=I=>{Y(I);const ze=yt.filter(Ge=>Ge.account_name.toLowerCase().includes(I.toLowerCase())||Ge.id.toString().includes(I)||Ge.contact_name&&Ge.contact_name.toLowerCase().includes(I.toLowerCase()));Pn(ze)},wa=I=>{xi(I);const ze=Er.filter(Ge=>Ge.invoice_number.toLowerCase().includes(I.toLowerCase())||Ge.id.toString().includes(I)||Ge.deal_id.toString().includes(I));Xn(ze)},gf=I=>{Q(I);const ze=G.filter(Ge=>Ge.invoice_number.toLowerCase().includes(I.toLowerCase())||Ge.id.toString().includes(I)||Ge.deal_id.toString().includes(I));ue(ze)},km=I=>{xa(I),xi(`${I.invoice_number} - Balance: ${st(I.balance_due)}`),dr(!1),Ke(ze=>({...ze,invoice_id:I.id.toString(),amount:I.balance_due.toString()}))},xf=I=>{xe(I),Q(`${I.invoice_number} - Amount: ${st(I.total_amount)}`),J(!1),F(ze=>({...ze,invoice_id:I.id.toString(),amount:I.total_amount.toString()}))},Ll=I=>{if(we(I),Z(`${I.title} ($${st(I.value)})`),X(!1),I.customer_account_id){const ze=yt.find(Ge=>Ge.id===I.customer_account_id);ze?(Fe(ze),Y(ze.account_name),fr(Ge=>({...Ge,deal_id:I.id.toString(),customer_account_id:ze.id.toString()}))):fr(Ge=>({...Ge,deal_id:I.id.toString()}))}else fr(ze=>({...ze,deal_id:I.id.toString()}));I.value>0&&fr(ze=>({...ze,subtotal:I.value.toString()}))},_m=I=>{Fe(I),Y(I.account_name),_e(!1);const ze=Dt.filter(Ge=>Ge.id===I.deal_id);if(ze.length===0)fr(Ge=>({...Ge,customer_account_id:I.id.toString(),deal_id:"",subtotal:""})),we(null),Z(""),te(!0);else if(ze.length===1){const Ge=ze[0];we(Ge),Z(`${Ge.title} ($${st(Ge.value)})`),fr(Pt=>({...Pt,customer_account_id:I.id.toString(),deal_id:Ge.id.toString(),subtotal:Ge.value.toString()}))}else fr(Ge=>({...Ge,customer_account_id:I.id.toString(),deal_id:"",subtotal:""})),we(null),Z(""),Nr(!0),ct(ze)},Qo=async()=>{try{p(!0);const I=await Ee("/api/invoices");n(Array.isArray(I)?I:[])}catch(I){console.error("Error fetching invoices:",I),y("Failed to fetch invoices")}finally{p(!1)}},Ui=async()=>{try{p(!0);const I=await Ee("/api/payments");i(Array.isArray(I)?I:[])}catch(I){console.error("Error fetching payments:",I),y("Failed to fetch payments")}finally{p(!1)}},Em=async()=>{try{p(!0);const I=await Ee("/api/revenue");c(Array.isArray(I)?I:[])}catch(I){console.error("Error fetching revenue:",I),y("Failed to fetch revenue")}finally{p(!1)}},yf=async()=>{try{const I=await Ee("/api/financial/reports");ae(Array.isArray(I)?I:[])}catch(I){console.error("Error fetching reports:",I)}},Am=async I=>{I.preventDefault();try{p(!0);const ze=parseInt(P.invoice_id);if(l.find(rt=>rt.invoice_id===ze)){y("Revenue for this invoice has already been recognized"),ot("Revenue for this invoice has already been recognized. Please select a different invoice."),Ae(!0),p(!1);return}const Pt={...P,invoice_id:ze,amount:parseFloat(P.amount),recognition_date:P.recognition_date+"T00:00:00Z"},Tt=await Ee("/api/revenue/recognize",{method:"POST",body:JSON.stringify(Pt)});y(null),ot("Revenue recognized successfully!"),Ae(!0),O(!1),F({invoice_id:"",amount:"",recognition_date:"",recognition_type:"immediate",recognition_period:"",revenue_type:"product",revenue_category:"",notes:""}),Q(""),xe(null),J(!1),t("revenue"),Em(),pf()}catch(ze){console.error("Error creating revenue:",ze),y("Failed to recognize revenue"),ot("Failed to recognize revenue. Please try again."),Ae(!0)}finally{p(!1)}},vf=async I=>{I.preventDefault();try{p(!0);const ze={...B,start_date:B.start_date+"T00:00:00Z",end_date:B.end_date+"T23:59:59Z"},Ge=await Ee("/api/financial/reports/generate",{method:"POST",body:JSON.stringify(ze)});y(null),ot("Financial report generated successfully!"),Ae(!0),H(!1),V({report_type:"profit_loss",report_name:"",start_date:"",end_date:"",include_charts:!0}),t("reports"),yf()}catch(ze){console.error("Error generating report:",ze),y("Failed to generate report"),ot("Failed to generate report. Please try again."),Ae(!0)}finally{p(!1)}},iv=I=>{we(I),Z(`${I.title} ($${st(I.value)})`),fr(ze=>({...ze,deal_id:I.id.toString(),subtotal:I.value.toString()})),Nr(!1)},zi=()=>{const I=parseFloat(gt.subtotal)||0,ze=parseFloat(gt.tax_rate)||0,Ge=parseFloat(gt.advance_payment)||0;let Pt=0;if(gt.discount_amount){const ec=parseFloat(gt.discount_amount)||0;gt.discount_type==="percentage"?Pt=I*ec/100:Pt=ec}const Tt=I-Pt,rt=Tt*ze/100,Rn=Tt+rt-Ge;return{subtotal:I,discountAmount:Pt,afterDiscount:Tt,taxAmount:rt,advancePayment:Ge,grandTotal:Math.max(0,Rn)}},Zo=()=>{fr({deal_id:"",customer_account_id:"",due_date:"",subtotal:"",tax_rate:"",discount_amount:"",discount_type:"percentage",advance_payment:"",recurring_invoice:!1,recurring_frequency:"monthly",recurring_end_date:"",description:"",notes:"",terms_conditions:""}),Z(""),Y(""),we(null),Fe(null),X(!1),_e(!1),Nr(!1),ct([]),te(!1),xi(""),xa(null),dr(!1),Q(""),xe(null),J(!1)},bf=async I=>{I.preventDefault();try{p(!0);const ze={...gt,deal_id:gt.deal_id?parseInt(gt.deal_id):null,customer_account_id:gt.customer_account_id?parseInt(gt.customer_account_id):null,subtotal:parseFloat(gt.subtotal)||0,tax_rate:parseFloat(gt.tax_rate)||0},Ge=await Ee("/api/invoices",{method:"POST",body:JSON.stringify(ze)});y(null),ot("Invoice created successfully!"),Ae(!0),vt(!1),Zo(),t("invoices"),Qo()}catch(ze){console.error("Error creating invoice:",ze),y("Failed to create invoice"),ot("Failed to create invoice. Please try again."),Ae(!0)}finally{p(!1)}},wf=async I=>{I.preventDefault();try{p(!0);const ze={...Le,invoice_id:parseInt(Le.invoice_id),amount:parseFloat(Le.amount),payment_date:Le.payment_date+"T00:00:00Z"},Ge=await Ee("/api/payments",{method:"POST",body:JSON.stringify(ze)});y(null),ot("Payment recorded successfully!"),Ae(!0),pt(!1),Ke({invoice_id:"",amount:"",payment_date:"",payment_method:"credit_card",payment_reference:"",notes:""}),xi(""),xa(null),dr(!1),t("payments"),Ui(),Xo(),Qo()}catch(ze){console.error("Error creating payment:",ze),y("Failed to create payment"),ot("Failed to record payment. Please try again."),Ae(!0)}finally{p(!1)}},Hi=async(I,ze)=>{try{await Ee(`/api/invoices/${I}/status`,{method:"PUT",body:JSON.stringify({status:ze})}),Qo()}catch(Ge){console.error("Error updating invoice status:",Ge),y("Failed to update invoice status")}},ms=I=>{switch(I){case"paid":return"bg-green-100 text-green-800";case"sent":return"bg-blue-100 text-blue-800";case"overdue":return"bg-red-100 text-red-800";case"draft":return"bg-gray-100 text-gray-800";case"cancelled":return"bg-gray-100 text-gray-800";default:return"bg-gray-100 text-gray-800"}},Bl=I=>{switch(I){case"paid":return s.jsx(Lt,{className:"w-4 h-4"});case"sent":return s.jsx(Xc,{className:"w-4 h-4"});case"overdue":return s.jsx(bl,{className:"w-4 h-4"});case"draft":return s.jsx(Wx,{className:"w-4 h-4"});case"cancelled":return s.jsx(Mi,{className:"w-4 h-4"});default:return s.jsx(is,{className:"w-4 h-4"})}},st=I=>new Intl.NumberFormat("en-US",{style:"currency",currency:"USD"}).format(I),Xs=I=>new Date(I).toLocaleDateString(),Jo=[{id:"dashboard",name:"Dashboard",icon:s.jsx(Pa,{className:"w-5 h-5"})},{id:"invoices",name:"Invoices",icon:s.jsx(Is,{className:"w-5 h-5"})},{id:"payments",name:"Payments",icon:s.jsx(rd,{className:"w-5 h-5"})},{id:"revenue",name:"Revenue",icon:s.jsx(Vr,{className:"w-5 h-5"})},{id:"profit-loss",name:"P&L Statement",icon:s.jsx(YM,{className:"w-5 h-5"})},{id:"cash-flow",name:"Cash Flow",icon:s.jsx(Vr,{className:"w-5 h-5"})},{id:"aging",name:"Aging Reports",icon:s.jsx(is,{className:"w-5 h-5"})},{id:"reports",name:"Legacy Reports",icon:s.jsx(H2,{className:"w-5 h-5"})},{id:"settings",name:"Settings",icon:s.jsx(Fs,{className:"w-5 h-5"})}];return s.jsxs("div",{className:"p-6 max-w-7xl mx-auto",children:[s.jsxs("div",{className:"mb-8",children:[s.jsx("h1",{className:"text-3xl font-bold text-gray-900 dark:text-white mb-2",children:"Financial Management"}),s.jsx("p",{className:"text-gray-600 dark:text-gray-400",children:"Manage invoices, payments, revenue recognition, and financial reporting"})]}),s.jsx("div",{className:"border-b border-gray-200 dark:border-gray-700 mb-6",children:s.jsx("nav",{className:"-mb-px flex space-x-8",children:Jo.map(I=>s.jsxs("button",{onClick:()=>t(I.id),className:`flex items-center gap-2 py-2 px-1 border-b-2 font-medium text-sm transition-colors duration-200 ${e===I.id?"border-blue-500 text-blue-600 dark:text-blue-400":"border-transparent text-gray-500 hover:text-gray-700 hover:border-gray-300 dark:text-gray-400 dark:hover:text-gray-300"}`,children:[I.icon,I.name]},I.id))})}),g&&s.jsxs("div",{className:"mb-6 bg-red-50 border border-red-200 text-red-700 px-4 py-3 rounded-lg",children:[g,s.jsx("button",{onClick:()=>y(null),className:"ml-2 text-red-500 hover:text-red-700",children:""})]}),e==="dashboard"&&s.jsx("div",{className:"space-y-6",children:h?s.jsx("div",{className:"flex items-center justify-center py-12",children:s.jsx(Ds,{className:"w-8 h-8 animate-spin text-blue-500"})}):d?s.jsxs(s.Fragment,{children:[s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6",children:[s.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-xl shadow-sm border p-6",children:[s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{children:[s.jsx("p",{className:"text-sm font-medium text-gray-600 dark:text-gray-400",children:"Total Revenue"}),s.jsx("p",{className:"text-2xl font-bold text-gray-900 dark:text-white",children:st(d.revenue_metrics?.total_revenue||0)})]}),s.jsx("div",{className:"p-3 bg-green-100 dark:bg-green-900 rounded-lg",children:s.jsx(Yc,{className:"w-6 h-6 text-green-600 dark:text-green-400"})})]}),s.jsxs("div",{className:"mt-4 flex items-center text-sm",children:[s.jsx(Vr,{className:"w-4 h-4 text-green-500 mr-1"}),s.jsxs("span",{className:"text-green-600 dark:text-green-400",children:["+",d.revenue_metrics?.revenue_growth||0,"% from last month"]})]})]}),s.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-xl shadow-sm border p-6",children:[s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{children:[s.jsx("p",{className:"text-sm font-medium text-gray-600 dark:text-gray-400",children:"Outstanding Amount"}),s.jsx("p",{className:"text-2xl font-bold text-gray-900 dark:text-white",children:st(d.outstanding_amounts?.total_outstanding||0)})]}),s.jsx("div",{className:"p-3 bg-yellow-100 dark:bg-yellow-900 rounded-lg",children:s.jsx(bl,{className:"w-6 h-6 text-yellow-600 dark:text-yellow-400"})})]}),s.jsxs("div",{className:"mt-4 text-sm text-gray-600 dark:text-gray-400",children:[d.invoice_metrics?.overdue_invoices||0," overdue invoices"]})]}),s.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-xl shadow-sm border p-6",children:[s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{children:[s.jsx("p",{className:"text-sm font-medium text-gray-600 dark:text-gray-400",children:"Collection Rate"}),s.jsxs("p",{className:"text-2xl font-bold text-gray-900 dark:text-white",children:[(d.invoice_metrics?.collection_rate||0).toFixed(1),"%"]})]}),s.jsx("div",{className:"p-3 bg-blue-100 dark:bg-blue-900 rounded-lg",children:s.jsx(Lt,{className:"w-6 h-6 text-blue-600 dark:text-blue-400"})})]}),s.jsxs("div",{className:"mt-4 text-sm text-gray-600 dark:text-gray-400",children:[d.invoice_metrics?.paid_invoices||0," of ",d.invoice_metrics?.total_invoices||0," invoices paid"]})]}),s.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-xl shadow-sm border p-6",children:[s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{children:[s.jsx("p",{className:"text-sm font-medium text-gray-600 dark:text-gray-400",children:"Payment Success Rate"}),s.jsxs("p",{className:"text-2xl font-bold text-gray-900 dark:text-white",children:[(d.payment_metrics?.payment_success_rate||0).toFixed(1),"%"]})]}),s.jsx("div",{className:"p-3 bg-purple-100 dark:bg-purple-900 rounded-lg",children:s.jsx(rd,{className:"w-6 h-6 text-purple-600 dark:text-purple-400"})})]}),s.jsxs("div",{className:"mt-4 text-sm text-gray-600 dark:text-gray-400",children:["Avg. ",d.payment_metrics?.average_payment_time||0," days to payment"]})]})]}),s.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[s.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-xl shadow-sm border p-6",children:[s.jsxs("div",{className:"flex items-center justify-between mb-4",children:[s.jsx("h3",{className:"text-lg font-semibold text-gray-900 dark:text-white",children:"Revenue Trend"}),s.jsxs("div",{className:"flex items-center text-sm text-green-600 dark:text-green-400",children:[s.jsx(Vr,{className:"w-4 h-4 mr-1"}),"+12.5% vs last month"]})]}),s.jsx("div",{className:"h-64",children:s.jsx("div",{className:"flex items-end justify-between h-full space-x-2",children:j.map((I,ze)=>s.jsxs("div",{className:"flex flex-col items-center flex-1",children:[s.jsx("div",{className:"bg-blue-500 rounded-t w-full mb-2 transition-all duration-300 hover:bg-blue-600",style:{height:`${I.revenue/7e4*200}px`},title:`${I.month}: ${st(I.revenue)}`}),s.jsx("span",{className:"text-xs text-gray-600 dark:text-gray-400",children:I.month}),s.jsxs("span",{className:"text-xs font-medium text-gray-900 dark:text-white",children:[st(I.revenue/1e3),"k"]})]},ze))})})]}),s.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-xl shadow-sm border p-6",children:[s.jsx("h3",{className:"text-lg font-semibold text-gray-900 dark:text-white mb-4",children:"Payment Methods"}),s.jsx("div",{className:"h-64",children:s.jsx("div",{className:"space-y-4",children:_.map((I,ze)=>{const Ge=["bg-blue-500","bg-green-500","bg-yellow-500","bg-purple-500"],Pt=_.reduce((rt,Rn)=>rt+Rn.amount,0),Tt=I.amount/Pt*100;return s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{className:"flex items-center",children:[s.jsx("div",{className:`w-4 h-4 rounded-full ${Ge[ze]} mr-3`}),s.jsx("span",{className:"text-sm font-medium text-gray-900 dark:text-white",children:I.method})]}),s.jsxs("div",{className:"flex items-center space-x-3",children:[s.jsx("div",{className:"w-24 bg-gray-200 dark:bg-gray-700 rounded-full h-2",children:s.jsx("div",{className:`h-2 rounded-full ${Ge[ze]}`,style:{width:`${Tt}%`}})}),s.jsx("span",{className:"text-sm text-gray-600 dark:text-gray-400 w-16 text-right",children:st(I.amount)})]})]},ze)})})})]})]}),s.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6",children:[s.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-xl shadow-sm border p-6",children:[s.jsx("h3",{className:"text-lg font-semibold text-gray-900 dark:text-white mb-4",children:"Invoice Status"}),s.jsx("div",{className:"space-y-3",children:T.map((I,ze)=>{const Ge=["text-green-600","text-blue-600","text-red-600","text-gray-600"],Pt=["bg-green-100","bg-blue-100","bg-red-100","bg-gray-100"],Tt=["dark:text-green-400","dark:text-blue-400","dark:text-red-400","dark:text-gray-400"],rt=["dark:bg-green-900","dark:bg-blue-900","dark:bg-red-900","dark:bg-gray-900"];return s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{className:"flex items-center",children:[s.jsx("div",{className:`w-3 h-3 rounded-full ${Pt[ze]} ${rt[ze]} mr-3`}),s.jsx("span",{className:`text-sm font-medium ${Ge[ze]} ${Tt[ze]}`,children:I.status})]}),s.jsxs("div",{className:"text-right",children:[s.jsx("div",{className:"text-sm font-semibold text-gray-900 dark:text-white",children:I.count}),s.jsx("div",{className:"text-xs text-gray-600 dark:text-gray-400",children:st(I.amount)})]})]},ze)})})]}),s.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-xl shadow-sm border p-6",children:[s.jsxs("div",{className:"flex items-center justify-between mb-4",children:[s.jsx("h3",{className:"text-lg font-semibold text-gray-900 dark:text-white",children:"Recent Activities"}),s.jsx(ch,{className:"w-5 h-5 text-gray-400"})]}),s.jsx("div",{className:"space-y-3 max-h-64 overflow-y-auto",children:b.length>0?b.map(I=>{const ze=I.icon,Ge={blue:"text-blue-600 dark:text-blue-400",green:"text-green-600 dark:text-green-400",purple:"text-purple-600 dark:text-purple-400"};return s.jsxs("div",{className:"flex items-start space-x-3",children:[s.jsx("div",{className:"p-2 rounded-lg bg-gray-100 dark:bg-gray-700",children:s.jsx(ze,{className:`w-4 h-4 ${Ge[I.color]}`})}),s.jsxs("div",{className:"flex-1 min-w-0",children:[s.jsx("p",{className:"text-sm font-medium text-gray-900 dark:text-white",children:I.title}),s.jsx("p",{className:"text-xs text-gray-600 dark:text-gray-400",children:I.description}),s.jsx("p",{className:"text-xs text-gray-500 dark:text-gray-500",children:I.timestamp.toLocaleDateString()})]})]},I.id)}):s.jsxs("div",{className:"text-center py-4",children:[s.jsx(ch,{className:"w-8 h-8 text-gray-400 mx-auto mb-2"}),s.jsx("p",{className:"text-sm text-gray-500 dark:text-gray-400",children:"No recent activities"})]})})]}),s.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-xl shadow-sm border p-6",children:[s.jsx("h3",{className:"text-lg font-semibold text-gray-900 dark:text-white mb-4",children:"Quick Actions"}),s.jsxs("div",{className:"space-y-3",children:[s.jsxs("button",{onClick:()=>vt(!0),className:"w-full flex items-center justify-between p-3 bg-blue-50 dark:bg-blue-900/20 border border-blue-200 dark:border-blue-800 rounded-lg hover:bg-blue-100 dark:hover:bg-blue-900/30 transition-colors",children:[s.jsxs("div",{className:"flex items-center",children:[s.jsx(Is,{className:"w-5 h-5 text-blue-600 dark:text-blue-400 mr-3"}),s.jsx("span",{className:"text-sm font-medium text-blue-900 dark:text-blue-100",children:"Create Invoice"})]}),s.jsx(Mp,{className:"w-4 h-4 text-blue-600 dark:text-blue-400"})]}),s.jsxs("button",{onClick:()=>pt(!0),className:"w-full flex items-center justify-between p-3 bg-green-50 dark:bg-green-900/20 border border-green-200 dark:border-green-800 rounded-lg hover:bg-green-100 dark:hover:bg-green-900/30 transition-colors",children:[s.jsxs("div",{className:"flex items-center",children:[s.jsx(rd,{className:"w-5 h-5 text-green-600 dark:text-green-400 mr-3"}),s.jsx("span",{className:"text-sm font-medium text-green-900 dark:text-green-100",children:"Record Payment"})]}),s.jsx(Mp,{className:"w-4 h-4 text-green-600 dark:text-green-400"})]}),s.jsxs("button",{onClick:()=>O(!0),className:"w-full flex items-center justify-between p-3 bg-purple-50 dark:bg-purple-900/20 border border-purple-200 dark:border-purple-800 rounded-lg hover:bg-purple-100 dark:hover:bg-purple-900/30 transition-colors",children:[s.jsxs("div",{className:"flex items-center",children:[s.jsx(Vr,{className:"w-5 h-5 text-purple-600 dark:text-purple-400 mr-3"}),s.jsx("span",{className:"text-sm font-medium text-purple-900 dark:text-purple-100",children:"Recognize Revenue"})]}),s.jsx(Mp,{className:"w-4 h-4 text-purple-600 dark:text-purple-400"})]}),s.jsxs("button",{onClick:()=>H(!0),className:"w-full flex items-center justify-between p-3 bg-orange-50 dark:bg-orange-900/20 border border-orange-200 dark:border-orange-800 rounded-lg hover:bg-orange-100 dark:hover:bg-orange-900/30 transition-colors",children:[s.jsxs("div",{className:"flex items-center",children:[s.jsx(Pa,{className:"w-5 h-5 text-orange-600 dark:text-orange-400 mr-3"}),s.jsx("span",{className:"text-sm font-medium text-orange-900 dark:text-orange-100",children:"Generate Report"})]}),s.jsx(Mp,{className:"w-4 h-4 text-orange-600 dark:text-orange-400"})]})]})]})]})]}):s.jsx("div",{className:"text-center py-12",children:s.jsx("p",{className:"text-gray-500 dark:text-gray-400",children:"No dashboard data available"})})}),e==="invoices"&&s.jsxs("div",{className:"space-y-6",children:[s.jsxs("div",{className:"flex justify-between items-center",children:[s.jsx("h2",{className:"text-xl font-semibold text-gray-900 dark:text-white",children:"Invoices"}),s.jsxs("button",{onClick:()=>vt(!0),className:"flex items-center gap-2 bg-blue-600 text-white px-4 py-2 rounded-lg hover:bg-blue-700 transition-colors",children:[s.jsx(Cr,{className:"w-4 h-4"}),"Create Invoice"]})]}),h?s.jsx("div",{className:"flex items-center justify-center py-12",children:s.jsx(Ds,{className:"w-8 h-8 animate-spin text-blue-500"})}):s.jsx("div",{className:"bg-white dark:bg-gray-800 rounded-xl shadow-sm border overflow-hidden",children:s.jsx("div",{className:"overflow-x-auto",children:s.jsxs("table",{className:"min-w-full divide-y divide-gray-200 dark:divide-gray-700",children:[s.jsx("thead",{className:"bg-gray-50 dark:bg-gray-700",children:s.jsxs("tr",{children:[s.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-300 uppercase tracking-wider",children:"Invoice"}),s.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-300 uppercase tracking-wider",children:"Amount"}),s.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-300 uppercase tracking-wider",children:"Status"}),s.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-300 uppercase tracking-wider",children:"Due Date"}),s.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-300 uppercase tracking-wider",children:"Actions"})]})}),s.jsx("tbody",{className:"bg-white dark:bg-gray-800 divide-y divide-gray-200 dark:divide-gray-700",children:r.length===0?s.jsx("tr",{children:s.jsx("td",{colSpan:5,className:"px-6 py-12 text-center",children:s.jsxs("div",{className:"flex flex-col items-center space-y-3",children:[s.jsx(Is,{className:"w-12 h-12 text-gray-400"}),s.jsxs("div",{children:[s.jsx("h3",{className:"text-lg font-medium text-gray-900 dark:text-white",children:"No invoices found"}),s.jsx("p",{className:"text-gray-500 dark:text-gray-400",children:"Get started by creating your first invoice."})]})]})})}):r.map(I=>s.jsxs("tr",{className:"hover:bg-gray-50 dark:hover:bg-gray-700",children:[s.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:s.jsxs("div",{children:[s.jsx("div",{className:"text-sm font-medium text-gray-900 dark:text-white",children:I.invoice_number}),s.jsxs("div",{className:"text-sm text-gray-500 dark:text-gray-400",children:["Deal #",I.deal_id]})]})}),s.jsxs("td",{className:"px-6 py-4 whitespace-nowrap",children:[s.jsx("div",{className:"text-sm text-gray-900 dark:text-white",children:st(I.total_amount)}),I.balance_due>0&&s.jsxs("div",{className:"text-sm text-gray-500 dark:text-gray-400",children:["Balance: ",st(I.balance_due)]})]}),s.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:s.jsxs("span",{className:`inline-flex items-center gap-1 px-2.5 py-0.5 rounded-full text-xs font-medium ${ms(I.status)}`,children:[Bl(I.status),I.status]})}),s.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-900 dark:text-white",children:Xs(I.due_date)}),s.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm font-medium",children:s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx("button",{onClick:()=>{Mt(I),dn(!0)},className:"text-blue-600 hover:text-blue-900 dark:text-blue-400 dark:hover:text-blue-300",children:s.jsx(gn,{className:"w-4 h-4"})}),I.status==="draft"&&s.jsx("button",{onClick:()=>Hi(I.id,"sent"),className:"text-green-600 hover:text-green-900 dark:text-green-400 dark:hover:text-green-300",children:s.jsx(Xc,{className:"w-4 h-4"})}),I.status==="sent"&&s.jsx("button",{onClick:()=>Hi(I.id,"paid"),className:"text-green-600 hover:text-green-900 dark:text-green-400 dark:hover:text-green-300",children:s.jsx(Lt,{className:"w-4 h-4"})})]})})]},I.id))})]})})})]}),e==="payments"&&s.jsxs("div",{className:"space-y-6",children:[s.jsxs("div",{className:"flex justify-between items-center",children:[s.jsx("h2",{className:"text-xl font-semibold text-gray-900 dark:text-white",children:"Payments"}),s.jsxs("button",{onClick:()=>pt(!0),className:"flex items-center gap-2 bg-green-600 text-white px-4 py-2 rounded-lg hover:bg-green-700 transition-colors",children:[s.jsx(Cr,{className:"w-4 h-4"}),"Record Payment"]})]}),h?s.jsx("div",{className:"flex items-center justify-center py-12",children:s.jsx(Ds,{className:"w-8 h-8 animate-spin text-blue-500"})}):s.jsx("div",{className:"bg-white dark:bg-gray-800 rounded-xl shadow-sm border overflow-hidden",children:s.jsx("div",{className:"overflow-x-auto",children:s.jsxs("table",{className:"min-w-full divide-y divide-gray-200 dark:divide-gray-700",children:[s.jsx("thead",{className:"bg-gray-50 dark:bg-gray-700",children:s.jsxs("tr",{children:[s.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-300 uppercase tracking-wider",children:"Payment"}),s.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-300 uppercase tracking-wider",children:"Amount"}),s.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-300 uppercase tracking-wider",children:"Method"}),s.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-300 uppercase tracking-wider",children:"Date"}),s.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-300 uppercase tracking-wider",children:"Status"})]})}),s.jsx("tbody",{className:"bg-white dark:bg-gray-800 divide-y divide-gray-200 dark:divide-gray-700",children:a.length===0?s.jsx("tr",{children:s.jsx("td",{colSpan:5,className:"px-6 py-12 text-center",children:s.jsxs("div",{className:"flex flex-col items-center space-y-3",children:[s.jsx(rd,{className:"w-12 h-12 text-gray-400"}),s.jsxs("div",{children:[s.jsx("h3",{className:"text-lg font-medium text-gray-900 dark:text-white",children:"No payments found"}),s.jsx("p",{className:"text-gray-500 dark:text-gray-400",children:"Record payments for your invoices to get started."})]})]})})}):a.map(I=>s.jsxs("tr",{className:"hover:bg-gray-50 dark:hover:bg-gray-700",children:[s.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:s.jsxs("div",{children:[s.jsx("div",{className:"text-sm font-medium text-gray-900 dark:text-white",children:I.payment_number}),s.jsxs("div",{className:"text-sm text-gray-500 dark:text-gray-400",children:["Invoice #",I.invoice_id]})]})}),s.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-900 dark:text-white",children:st(I.amount)}),s.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-900 dark:text-white",children:I.payment_method.replace("_"," ")}),s.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-900 dark:text-white",children:Xs(I.payment_date)}),s.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:s.jsxs("span",{className:`inline-flex items-center gap-1 px-2.5 py-0.5 rounded-full text-xs font-medium ${ms(I.status)}`,children:[Bl(I.status),I.status]})})]},I.id))})]})})})]}),e==="revenue"&&s.jsxs("div",{className:"space-y-6",children:[s.jsxs("div",{className:"flex justify-between items-center",children:[s.jsx("h2",{className:"text-xl font-semibold text-gray-900 dark:text-white",children:"Revenue Recognition"}),s.jsxs("button",{onClick:()=>O(!0),className:"flex items-center gap-2 bg-green-600 text-white px-4 py-2 rounded-lg hover:bg-green-700 transition-colors",children:[s.jsx(Cr,{className:"w-4 h-4"}),"Recognize Revenue"]})]}),h?s.jsx("div",{className:"flex items-center justify-center py-12",children:s.jsx(Ds,{className:"w-8 h-8 animate-spin text-blue-500"})}):s.jsx("div",{className:"bg-white dark:bg-gray-800 rounded-xl shadow-sm border overflow-hidden",children:s.jsx("div",{className:"overflow-x-auto",children:s.jsxs("table",{className:"min-w-full divide-y divide-gray-200 dark:divide-gray-700",children:[s.jsx("thead",{className:"bg-gray-50 dark:bg-gray-700",children:s.jsxs("tr",{children:[s.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-300 uppercase tracking-wider",children:"Revenue Entry"}),s.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-300 uppercase tracking-wider",children:"Amount"}),s.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-300 uppercase tracking-wider",children:"Type"}),s.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-300 uppercase tracking-wider",children:"Recognition Date"}),s.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-300 uppercase tracking-wider",children:"Status"})]})}),s.jsx("tbody",{className:"bg-white dark:bg-gray-800 divide-y divide-gray-200 dark:divide-gray-700",children:l.length===0?s.jsx("tr",{children:s.jsx("td",{colSpan:5,className:"px-6 py-12 text-center",children:s.jsxs("div",{className:"flex flex-col items-center space-y-3",children:[s.jsx(Vr,{className:"w-12 h-12 text-gray-400"}),s.jsxs("div",{children:[s.jsx("h3",{className:"text-lg font-medium text-gray-900 dark:text-white",children:"No revenue entries found"}),s.jsx("p",{className:"text-gray-500 dark:text-gray-400",children:"Recognize revenue from your paid invoices to get started."})]})]})})}):l.map(I=>s.jsxs("tr",{className:"hover:bg-gray-50 dark:hover:bg-gray-700",children:[s.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:s.jsxs("div",{children:[s.jsxs("div",{className:"text-sm font-medium text-gray-900 dark:text-white",children:["Invoice #",I.invoice_id]}),s.jsxs("div",{className:"text-sm text-gray-500 dark:text-gray-400",children:["Deal #",I.deal_id]})]})}),s.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-900 dark:text-white",children:st(I.amount)}),s.jsxs("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-900 dark:text-white",children:[I.revenue_type," - ",I.revenue_category||"N/A"]}),s.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-900 dark:text-white",children:Xs(I.recognition_date)}),s.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:s.jsxs("span",{className:`inline-flex items-center gap-1 px-2.5 py-0.5 rounded-full text-xs font-medium ${ms(I.status)}`,children:[Bl(I.status),I.status]})})]},I.id))})]})})})]}),e==="reports"&&s.jsxs("div",{className:"space-y-6",children:[s.jsxs("div",{className:"flex justify-between items-center",children:[s.jsx("h2",{className:"text-xl font-semibold text-gray-900 dark:text-white",children:"Financial Reports"}),s.jsxs("button",{onClick:()=>H(!0),className:"flex items-center gap-2 bg-purple-600 text-white px-4 py-2 rounded-lg hover:bg-purple-700 transition-colors",children:[s.jsx(Cr,{className:"w-4 h-4"}),"Generate Report"]})]}),h?s.jsx("div",{className:"flex items-center justify-center py-12",children:s.jsx(Ds,{className:"w-8 h-8 animate-spin text-blue-500"})}):s.jsx("div",{className:"bg-white dark:bg-gray-800 rounded-xl shadow-sm border overflow-hidden",children:s.jsx("div",{className:"overflow-x-auto",children:s.jsxs("table",{className:"min-w-full divide-y divide-gray-200 dark:divide-gray-700",children:[s.jsx("thead",{className:"bg-gray-50 dark:bg-gray-700",children:s.jsxs("tr",{children:[s.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-300 uppercase tracking-wider",children:"Report Name"}),s.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-300 uppercase tracking-wider",children:"Type"}),s.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-300 uppercase tracking-wider",children:"Period"}),s.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-300 uppercase tracking-wider",children:"Generated"}),s.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-300 uppercase tracking-wider",children:"Status"}),s.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-300 uppercase tracking-wider",children:"Actions"})]})}),s.jsx("tbody",{className:"bg-white dark:bg-gray-800 divide-y divide-gray-200 dark:divide-gray-700",children:U.length===0?s.jsx("tr",{children:s.jsx("td",{colSpan:6,className:"px-6 py-12 text-center",children:s.jsxs("div",{className:"flex flex-col items-center space-y-3",children:[s.jsx(H2,{className:"w-12 h-12 text-gray-400"}),s.jsxs("div",{children:[s.jsx("h3",{className:"text-lg font-medium text-gray-900 dark:text-white",children:"No reports generated yet"}),s.jsx("p",{className:"text-gray-500 dark:text-gray-400",children:"Generate your first financial report to get started."})]})]})})}):U.map(I=>s.jsxs("tr",{className:"hover:bg-gray-50 dark:hover:bg-gray-700",children:[s.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:s.jsx("div",{className:"text-sm font-medium text-gray-900 dark:text-white",children:I.report_name})}),s.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:s.jsx("span",{className:"inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium bg-blue-100 text-blue-800 dark:bg-blue-900 dark:text-blue-200",children:I.report_type.replace("_"," ").toUpperCase()})}),s.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-900 dark:text-white",children:I.report_period}),s.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-900 dark:text-white",children:Xs(I.created_at)}),s.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:s.jsxs("span",{className:`inline-flex items-center gap-1 px-2.5 py-0.5 rounded-full text-xs font-medium ${ms(I.status)}`,children:[Bl(I.status),I.status]})}),s.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm font-medium",children:s.jsxs("div",{className:"flex space-x-2",children:[s.jsx("button",{className:"text-blue-600 hover:text-blue-900 dark:text-blue-400 dark:hover:text-blue-300",children:"View"}),s.jsx("button",{className:"text-green-600 hover:text-green-900 dark:text-green-400 dark:hover:text-green-300",children:"Export"})]})})]},I.id))})]})})})]}),e==="profit-loss"&&s.jsxs("div",{className:"space-y-6",children:[s.jsxs("div",{className:"flex justify-between items-center",children:[s.jsx("h2",{className:"text-xl font-semibold text-gray-900 dark:text-white",children:"Profit & Loss Statement"}),s.jsxs("div",{className:"flex gap-2",children:[s.jsx("input",{type:"date",value:Ye.start_date,onChange:I=>Be({...Ye,start_date:I.target.value}),className:"px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent dark:bg-gray-700 dark:text-white"}),s.jsx("input",{type:"date",value:Ye.end_date,onChange:I=>Be({...Ye,end_date:I.target.value}),className:"px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent dark:bg-gray-700 dark:text-white"}),s.jsx(Ur,{variant:"primary",onClick:()=>va(Ye.start_date,Ye.end_date),disabled:Ue,children:Ue?"Loading...":"Refresh"})]})]}),Ue?s.jsxs("div",{className:"flex items-center justify-center py-12",children:[s.jsx(Ds,{className:"w-8 h-8 animate-spin text-blue-500"}),s.jsx("span",{className:"ml-2 text-gray-600 dark:text-gray-400",children:"Generating report..."})]}):le&&!le.error?s.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-xl shadow-sm border p-6",children:[s.jsx("div",{className:"mb-6",children:s.jsxs("h3",{className:"text-lg font-semibold text-gray-900 dark:text-white mb-2",children:["P&L Statement for ",le.report_period?.start_date," to ",le.report_period?.end_date]})}),s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{className:"flex justify-between items-center py-2 border-b border-gray-200 dark:border-gray-700",children:[s.jsx("span",{className:"font-medium text-gray-900 dark:text-white",children:"Total Revenue"}),s.jsx("span",{className:"font-semibold text-green-600 dark:text-green-400",children:st(le.revenue?.total_revenue||0)})]}),s.jsxs("div",{className:"flex justify-between items-center py-2 border-b border-gray-200 dark:border-gray-700",children:[s.jsx("span",{className:"text-gray-700 dark:text-gray-300 ml-4",children:"Cost of Goods Sold"}),s.jsx("span",{className:"text-red-600 dark:text-red-400",children:st(le.cost_of_goods_sold?.total_cogs||0)})]}),s.jsxs("div",{className:"flex justify-between items-center py-2 border-b-2 border-gray-300 dark:border-gray-600",children:[s.jsx("span",{className:"font-semibold text-gray-900 dark:text-white",children:"Gross Profit"}),s.jsx("span",{className:"font-semibold text-blue-600 dark:text-blue-400",children:st(le.gross_profit?.amount||0)})]}),s.jsxs("div",{className:"flex justify-between items-center py-2 border-b border-gray-200 dark:border-gray-700",children:[s.jsx("span",{className:"text-gray-700 dark:text-gray-300 ml-4",children:"Operating Expenses"}),s.jsx("span",{className:"text-red-600 dark:text-red-400",children:st(le.operating_expenses?.amount||0)})]}),s.jsxs("div",{className:"flex justify-between items-center py-2 border-b border-gray-200 dark:border-gray-700",children:[s.jsx("span",{className:"font-medium text-gray-900 dark:text-white",children:"Operating Income"}),s.jsx("span",{className:"font-medium text-blue-600 dark:text-blue-400",children:st(le.operating_income?.amount||0)})]}),s.jsxs("div",{className:"flex justify-between items-center py-2 border-b-2 border-gray-300 dark:border-gray-600",children:[s.jsx("span",{className:"font-bold text-gray-900 dark:text-white",children:"Net Income"}),s.jsx("span",{className:"font-bold text-green-600 dark:text-green-400",children:st(le.net_income?.amount||0)})]})]}),s.jsxs("div",{className:"mt-6 grid grid-cols-1 md:grid-cols-3 gap-4",children:[s.jsxs("div",{className:"bg-gray-50 dark:bg-gray-700 rounded-lg p-4",children:[s.jsx("h4",{className:"font-medium text-gray-900 dark:text-white mb-2",children:"Gross Profit Margin"}),s.jsxs("p",{className:"text-2xl font-bold text-blue-600 dark:text-blue-400",children:[le.gross_profit?.margin_percentage||0,"%"]})]}),s.jsxs("div",{className:"bg-gray-50 dark:bg-gray-700 rounded-lg p-4",children:[s.jsx("h4",{className:"font-medium text-gray-900 dark:text-white mb-2",children:"Operating Margin"}),s.jsxs("p",{className:"text-2xl font-bold text-purple-600 dark:text-purple-400",children:[le.operating_income?.margin_percentage||0,"%"]})]}),s.jsxs("div",{className:"bg-gray-50 dark:bg-gray-700 rounded-lg p-4",children:[s.jsx("h4",{className:"font-medium text-gray-900 dark:text-white mb-2",children:"Net Margin"}),s.jsxs("p",{className:"text-2xl font-bold text-green-600 dark:text-green-400",children:[le.net_income?.margin_percentage||0,"%"]})]})]})]}):s.jsx("div",{className:"bg-white dark:bg-gray-800 rounded-xl shadow-sm border p-6 text-center",children:s.jsx("p",{className:"text-gray-600 dark:text-gray-400",children:"No data available for the selected period."})})]}),e==="cash-flow"&&s.jsxs("div",{className:"space-y-6",children:[s.jsxs("div",{className:"flex justify-between items-center",children:[s.jsx("h2",{className:"text-xl font-semibold text-gray-900 dark:text-white",children:"Cash Flow Statement"}),s.jsxs("div",{className:"flex gap-2",children:[s.jsx("input",{type:"date",value:Ye.start_date,onChange:I=>Be({...Ye,start_date:I.target.value}),className:"px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent dark:bg-gray-700 dark:text-white"}),s.jsx("input",{type:"date",value:Ye.end_date,onChange:I=>Be({...Ye,end_date:I.target.value}),className:"px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent dark:bg-gray-700 dark:text-white"}),s.jsx(Ur,{variant:"primary",onClick:()=>yi(Ye.start_date,Ye.end_date),disabled:Ue,children:Ue?"Loading...":"Refresh"})]})]}),Ue?s.jsxs("div",{className:"flex items-center justify-center py-12",children:[s.jsx(Ds,{className:"w-8 h-8 animate-spin text-blue-500"}),s.jsx("span",{className:"ml-2 text-gray-600 dark:text-gray-400",children:"Generating report..."})]}):re&&!re.error?s.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-xl shadow-sm border p-6",children:[s.jsx("div",{className:"mb-6",children:s.jsxs("h3",{className:"text-lg font-semibold text-gray-900 dark:text-white mb-2",children:["Cash Flow Statement for ",re.report_period?.start_date," to ",re.report_period?.end_date]})}),s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{className:"flex justify-between items-center py-2 border-b border-gray-200 dark:border-gray-700",children:[s.jsx("span",{className:"font-medium text-gray-900 dark:text-white",children:"Beginning Cash"}),s.jsx("span",{className:"font-semibold text-gray-600 dark:text-gray-400",children:st(re.beginning_cash||0)})]}),s.jsxs("div",{className:"flex justify-between items-center py-2 border-b border-gray-200 dark:border-gray-700",children:[s.jsx("span",{className:"font-medium text-gray-900 dark:text-white",children:"Cash from Operations"}),s.jsx("span",{className:"font-semibold text-green-600 dark:text-green-400",children:st(re.cash_from_operations?.amount||0)})]}),s.jsxs("div",{className:"flex justify-between items-center py-2 border-b border-gray-200 dark:border-gray-700",children:[s.jsx("span",{className:"font-medium text-gray-900 dark:text-white",children:"Cash from Investing"}),s.jsx("span",{className:"font-semibold text-blue-600 dark:text-blue-400",children:st(re.cash_from_investing?.amount||0)})]}),s.jsxs("div",{className:"flex justify-between items-center py-2 border-b border-gray-200 dark:border-gray-700",children:[s.jsx("span",{className:"font-medium text-gray-900 dark:text-white",children:"Cash from Financing"}),s.jsx("span",{className:"font-semibold text-purple-600 dark:text-purple-400",children:st(re.cash_from_financing?.amount||0)})]}),s.jsxs("div",{className:"flex justify-between items-center py-2 border-b border-gray-200 dark:border-gray-700",children:[s.jsx("span",{className:"font-medium text-gray-900 dark:text-white",children:"Cash Outflows"}),s.jsx("span",{className:"font-semibold text-red-600 dark:text-red-400",children:st(re.cash_outflows?.amount||0)})]}),s.jsxs("div",{className:"flex justify-between items-center py-2 border-b-2 border-gray-300 dark:border-gray-600",children:[s.jsx("span",{className:"font-bold text-gray-900 dark:text-white",children:"Net Cash Flow"}),s.jsx("span",{className:`font-bold ${(re.net_cash_flow||0)>=0?"text-green-600 dark:text-green-400":"text-red-600 dark:text-red-400"}`,children:st(re.net_cash_flow||0)})]}),s.jsxs("div",{className:"flex justify-between items-center py-2 border-b-2 border-gray-300 dark:border-gray-600",children:[s.jsx("span",{className:"font-bold text-gray-900 dark:text-white",children:"Ending Cash"}),s.jsx("span",{className:"font-bold text-blue-600 dark:text-blue-400",children:st(re.ending_cash||0)})]})]})]}):s.jsx("div",{className:"bg-white dark:bg-gray-800 rounded-xl shadow-sm border p-6 text-center",children:s.jsx("p",{className:"text-gray-600 dark:text-gray-400",children:"No data available for the selected period."})})]}),e==="aging"&&s.jsxs("div",{className:"space-y-6",children:[s.jsxs("div",{className:"flex justify-between items-center",children:[s.jsx("h2",{className:"text-xl font-semibold text-gray-900 dark:text-white",children:"Aging Reports"}),s.jsx(Ur,{variant:"primary",onClick:()=>ba("receivables"),disabled:Ue,children:Ue?"Loading...":"Refresh"})]}),Ue?s.jsxs("div",{className:"flex items-center justify-center py-12",children:[s.jsx(Ds,{className:"w-8 h-8 animate-spin text-blue-500"}),s.jsx("span",{className:"ml-2 text-gray-600 dark:text-gray-400",children:"Generating report..."})]}):de&&!de.error?s.jsxs("div",{className:"space-y-6",children:[s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4",children:[s.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-xl shadow-sm border p-4",children:[s.jsx("h3",{className:"text-sm font-medium text-gray-600 dark:text-gray-400 mb-2",children:"Current"}),s.jsx("p",{className:"text-2xl font-bold text-green-600 dark:text-green-400",children:st(de.aging_summary?.current?.amount||0)}),s.jsxs("p",{className:"text-sm text-gray-500 dark:text-gray-400",children:[de.aging_summary?.current?.count||0," invoices"]})]}),s.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-xl shadow-sm border p-4",children:[s.jsx("h3",{className:"text-sm font-medium text-gray-600 dark:text-gray-400 mb-2",children:"1-30 Days"}),s.jsx("p",{className:"text-2xl font-bold text-yellow-600 dark:text-yellow-400",children:st(de.aging_summary?.days_1_30?.amount||0)}),s.jsxs("p",{className:"text-sm text-gray-500 dark:text-gray-400",children:[de.aging_summary?.days_1_30?.count||0," invoices"]})]}),s.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-xl shadow-sm border p-4",children:[s.jsx("h3",{className:"text-sm font-medium text-gray-600 dark:text-gray-400 mb-2",children:"31-60 Days"}),s.jsx("p",{className:"text-2xl font-bold text-orange-600 dark:text-orange-400",children:st(de.aging_summary?.days_31_60?.amount||0)}),s.jsxs("p",{className:"text-sm text-gray-500 dark:text-gray-400",children:[de.aging_summary?.days_31_60?.count||0," invoices"]})]}),s.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-xl shadow-sm border p-4",children:[s.jsx("h3",{className:"text-sm font-medium text-gray-600 dark:text-gray-400 mb-2",children:"90+ Days"}),s.jsx("p",{className:"text-2xl font-bold text-red-600 dark:text-red-400",children:st(de.aging_summary?.days_90_plus?.amount||0)}),s.jsxs("p",{className:"text-sm text-gray-500 dark:text-gray-400",children:[de.aging_summary?.days_90_plus?.count||0," invoices"]})]})]}),s.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-xl shadow-sm border p-6",children:[s.jsx("h3",{className:"text-lg font-semibold text-gray-900 dark:text-white mb-4",children:"Detailed Invoice Aging"}),de.detailed_invoices?.current?.length>0&&s.jsxs("div",{className:"mb-6",children:[s.jsx("h4",{className:"font-medium text-green-600 dark:text-green-400 mb-3",children:"Current (0 days overdue)"}),s.jsx("div",{className:"overflow-x-auto",children:s.jsxs("table",{className:"min-w-full divide-y divide-gray-200 dark:divide-gray-700",children:[s.jsx("thead",{className:"bg-gray-50 dark:bg-gray-700",children:s.jsxs("tr",{children:[s.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-300 uppercase tracking-wider",children:"Invoice"}),s.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-300 uppercase tracking-wider",children:"Customer"}),s.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-300 uppercase tracking-wider",children:"Amount"}),s.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-300 uppercase tracking-wider",children:"Due Date"})]})}),s.jsx("tbody",{className:"bg-white dark:bg-gray-800 divide-y divide-gray-200 dark:divide-gray-700",children:de.detailed_invoices.current.map(I=>s.jsxs("tr",{children:[s.jsx("td",{className:"px-4 py-3 text-sm text-gray-900 dark:text-white",children:I.invoice_number}),s.jsx("td",{className:"px-4 py-3 text-sm text-gray-900 dark:text-white",children:I.customer_name}),s.jsx("td",{className:"px-4 py-3 text-sm text-gray-900 dark:text-white",children:st(I.outstanding_amount)}),s.jsx("td",{className:"px-4 py-3 text-sm text-gray-900 dark:text-white",children:I.due_date})]},I.id))})]})})]}),de.detailed_invoices?.days_1_30?.length>0&&s.jsxs("div",{className:"mb-6",children:[s.jsx("h4",{className:"font-medium text-yellow-600 dark:text-yellow-400 mb-3",children:"1-30 Days Overdue"}),s.jsx("div",{className:"overflow-x-auto",children:s.jsxs("table",{className:"min-w-full divide-y divide-gray-200 dark:divide-gray-700",children:[s.jsx("thead",{className:"bg-gray-50 dark:bg-gray-700",children:s.jsxs("tr",{children:[s.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-300 uppercase tracking-wider",children:"Invoice"}),s.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-300 uppercase tracking-wider",children:"Customer"}),s.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-300 uppercase tracking-wider",children:"Amount"}),s.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-300 uppercase tracking-wider",children:"Days Overdue"})]})}),s.jsx("tbody",{className:"bg-white dark:bg-gray-800 divide-y divide-gray-200 dark:divide-gray-700",children:de.detailed_invoices.days_1_30.map(I=>s.jsxs("tr",{children:[s.jsx("td",{className:"px-4 py-3 text-sm text-gray-900 dark:text-white",children:I.invoice_number}),s.jsx("td",{className:"px-4 py-3 text-sm text-gray-900 dark:text-white",children:I.customer_name}),s.jsx("td",{className:"px-4 py-3 text-sm text-gray-900 dark:text-white",children:st(I.outstanding_amount)}),s.jsxs("td",{className:"px-4 py-3 text-sm text-yellow-600 dark:text-yellow-400",children:[I.days_overdue," days"]})]},I.id))})]})})]})]})]}):s.jsx("div",{className:"bg-white dark:bg-gray-800 rounded-xl shadow-sm border p-6 text-center",children:s.jsx("p",{className:"text-gray-600 dark:text-gray-400",children:"No aging data available."})})]}),e==="settings"&&s.jsxs("div",{className:"space-y-6",children:[s.jsx("h2",{className:"text-xl font-semibold text-gray-900 dark:text-white",children:"Company Settings"}),Fa?s.jsxs("div",{className:"flex items-center justify-center py-12",children:[s.jsx(Ds,{className:"w-8 h-8 animate-spin text-blue-500"}),s.jsx("span",{className:"ml-2 text-gray-600 dark:text-gray-400",children:"Loading settings..."})]}):s.jsxs(s.Fragment,{children:[s.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-xl shadow-sm border p-6",children:[s.jsx("h3",{className:"text-lg font-semibold text-gray-900 dark:text-white mb-6",children:"General Information"}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:"Company Name"}),s.jsx("input",{type:"text",value:Me.company_name,onChange:I=>Ve({...Me,company_name:I.target.value}),className:"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent dark:bg-gray-700 dark:text-white",placeholder:"Enter company name"})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:"Company Mobile"}),s.jsx("input",{type:"tel",value:Me.company_mobile,onChange:I=>Ve({...Me,company_mobile:I.target.value}),className:"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent dark:bg-gray-700 dark:text-white",placeholder:"Enter mobile number"})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:"City"}),s.jsx("input",{type:"text",value:Me.city,onChange:I=>Ve({...Me,city:I.target.value}),className:"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent dark:bg-gray-700 dark:text-white",placeholder:"Enter city"})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:"Area"}),s.jsx("input",{type:"text",value:Me.area,onChange:I=>Ve({...Me,area:I.target.value}),className:"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent dark:bg-gray-700 dark:text-white",placeholder:"Enter area"})]}),s.jsxs("div",{className:"md:col-span-2",children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:"Complete Address"}),s.jsx("textarea",{value:Me.complete_address,onChange:I=>Ve({...Me,complete_address:I.target.value}),rows:3,className:"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent dark:bg-gray-700 dark:text-white",placeholder:"Enter complete address"})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:"TRN"}),s.jsx("input",{type:"text",value:Me.trn,onChange:I=>Ve({...Me,trn:I.target.value}),className:"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent dark:bg-gray-700 dark:text-white",placeholder:"Enter Tax Registration Number"})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:"Currency"}),s.jsxs("select",{value:Me.currency,onChange:I=>Ve({...Me,currency:I.target.value}),className:"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent dark:bg-gray-700 dark:text-white",children:[s.jsx("option",{value:"AED - UAE Dirham (.)",children:"AED - UAE Dirham (.)"}),s.jsx("option",{value:"USD - US Dollar ($)",children:"USD - US Dollar ($)"}),s.jsx("option",{value:"EUR - Euro ()",children:"EUR - Euro ()"}),s.jsx("option",{value:"GBP - British Pound ()",children:"GBP - British Pound ()"}),s.jsx("option",{value:"SAR - Saudi Riyal ()",children:"SAR - Saudi Riyal ()"}),s.jsx("option",{value:"KWD - Kuwaiti Dinar (.)",children:"KWD - Kuwaiti Dinar (.)"})]})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:"Timezone"}),s.jsxs("select",{value:Me.timezone,onChange:I=>Ve({...Me,timezone:I.target.value}),className:"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent dark:bg-gray-700 dark:text-white",children:[s.jsx("option",{value:"Dubai (UAE)",children:"Dubai (UAE)"}),s.jsx("option",{value:"Abu Dhabi (UAE)",children:"Abu Dhabi (UAE)"}),s.jsx("option",{value:"New York (USA)",children:"New York (USA)"}),s.jsx("option",{value:"London (UK)",children:"London (UK)"}),s.jsx("option",{value:"Paris (France)",children:"Paris (France)"}),s.jsx("option",{value:"Tokyo (Japan)",children:"Tokyo (Japan)"}),s.jsx("option",{value:"Singapore",children:"Singapore"})]})]})]})]}),s.jsxs("div",{className:"bg-gradient-to-r from-blue-900 to-blue-800 rounded-xl shadow-sm border p-6",children:[s.jsxs("div",{className:"flex items-center gap-3 mb-6",children:[s.jsx("div",{className:"w-10 h-10 bg-blue-500 rounded-lg flex items-center justify-center",children:s.jsx(Is,{className:"w-6 h-6 text-white"})}),s.jsx("h3",{className:"text-lg font-semibold text-white",children:"Billing Configuration"})]}),s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{className:"bg-blue-800 rounded-lg p-4 flex items-center justify-between",children:[s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx("input",{type:"checkbox",checked:tt.trial_date_enabled,onChange:I=>_t({...tt,trial_date_enabled:I.target.checked}),className:"w-4 h-4 text-blue-600 bg-gray-100 border-gray-300 rounded focus:ring-blue-500 dark:focus:ring-blue-600 dark:ring-offset-gray-800 focus:ring-2 dark:bg-gray-700 dark:border-gray-600"}),s.jsx("span",{className:"text-white font-medium",children:"Trial Date"})]}),tt.trial_date_enabled&&s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx("input",{type:"number",value:tt.trial_date_days,onChange:I=>_t({...tt,trial_date_days:I.target.value}),className:"w-16 px-2 py-1 text-sm border border-gray-300 dark:border-gray-600 rounded focus:ring-2 focus:ring-blue-500 focus:border-transparent dark:bg-gray-700 dark:text-white",min:"1",max:"30"}),s.jsx("span",{className:"text-white text-sm",children:"days"})]})]}),s.jsxs("div",{className:"bg-blue-800 rounded-lg p-4 flex items-center justify-between",children:[s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx("input",{type:"checkbox",checked:tt.delivery_date_enabled,onChange:I=>_t({...tt,delivery_date_enabled:I.target.checked}),className:"w-4 h-4 text-blue-600 bg-gray-100 border-gray-300 rounded focus:ring-blue-500 dark:focus:ring-blue-600 dark:ring-offset-gray-800 focus:ring-2 dark:bg-gray-700 dark:border-gray-600"}),s.jsx("span",{className:"text-white font-medium",children:"Delivery Date"})]}),tt.delivery_date_enabled&&s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx("input",{type:"number",value:tt.delivery_date_days,onChange:I=>_t({...tt,delivery_date_days:I.target.value}),className:"w-16 px-2 py-1 text-sm border border-gray-300 dark:border-gray-600 rounded focus:ring-2 focus:ring-blue-500 focus:border-transparent dark:bg-gray-700 dark:text-white",min:"1",max:"30"}),s.jsx("span",{className:"text-white text-sm",children:"days"})]})]}),s.jsxs("div",{className:"bg-green-800 rounded-lg p-4 flex items-center justify-between",children:[s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx("input",{type:"checkbox",checked:tt.advance_payment_enabled,onChange:I=>_t({...tt,advance_payment_enabled:I.target.checked}),className:"w-4 h-4 text-green-600 bg-gray-100 border-gray-300 rounded focus:ring-green-500 dark:focus:ring-green-600 dark:ring-offset-gray-800 focus:ring-2 dark:bg-gray-700 dark:border-gray-600"}),s.jsx("span",{className:"text-white font-medium",children:"Advance Payment"})]}),s.jsx("span",{className:"text-gray-300 text-sm",children:"Allow partial payments"})]})]})]}),s.jsx("div",{className:"flex justify-end",children:s.jsx(Ur,{variant:"primary",onClick:async()=>{try{const I={company_name:Me.company_name,company_mobile:Me.company_mobile,city:Me.city,area:Me.area,complete_address:Me.complete_address,trn:Me.trn,currency:Me.currency,timezone:Me.timezone,trial_date_enabled:tt.trial_date_enabled,trial_date_days:parseInt(tt.trial_date_days),delivery_date_enabled:tt.delivery_date_enabled,delivery_date_days:parseInt(tt.delivery_date_days),advance_payment_enabled:tt.advance_payment_enabled};await yM.updateSettings(I),ot("Settings saved successfully!"),Ae(!0),mf()}catch(I){console.error("Error saving settings:",I),y("Failed to save settings. Please try again.")}},className:"px-6 py-2",disabled:Fa,children:Fa?"Saving...":"Save Settings"})})]})]}),s.jsx(Ft,{open:Mn,onClose:()=>{vt(!1),Zo()},title:"Create Invoice",animationType:"scale",size:"xl",children:s.jsxs("form",{onSubmit:bf,className:"space-y-6",children:[s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[s.jsxs("div",{className:"relative dropdown-container",children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:"Customer Account *"}),s.jsxs("div",{className:"relative",children:[s.jsx("input",{type:"text",value:q,onChange:I=>{sv(I.target.value),_e(!0)},onFocus:()=>_e(!0),placeholder:"Search customer accounts...",className:"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent dark:bg-gray-700 dark:text-white",required:!0}),be&&s.jsx("div",{className:"absolute z-10 w-full mt-1 bg-white dark:bg-gray-800 border border-gray-300 dark:border-gray-600 rounded-lg shadow-lg max-h-60 overflow-auto",children:yr.length>0?yr.map(I=>s.jsxs("div",{onClick:()=>_m(I),className:"px-3 py-2 hover:bg-gray-100 dark:hover:bg-gray-700 cursor-pointer border-b border-gray-200 dark:border-gray-700 last:border-b-0",children:[s.jsx("div",{className:"font-medium text-gray-900 dark:text-white",children:I.account_name}),s.jsxs("div",{className:"text-sm text-gray-600 dark:text-gray-400",children:["Account #",I.id,I.contact_name&&`  ${I.contact_name}`]})]},I.id)):s.jsx("div",{className:"px-3 py-2 text-gray-500 dark:text-gray-400",children:"No customer accounts found"})})]})]}),s.jsxs("div",{className:"relative dropdown-container",children:[s.jsxs("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:["Won Deal ",!At&&s.jsx("span",{className:"text-red-500",children:"*"})]}),s.jsxs("div",{className:"relative",children:[s.jsx("input",{type:"text",value:L,onChange:I=>{bu(I.target.value),X(!0)},onFocus:()=>X(!0),placeholder:"Search won deals...",className:"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent dark:bg-gray-700 dark:text-white"}),M&&s.jsx("div",{className:"absolute z-10 w-full mt-1 bg-white dark:bg-gray-800 border border-gray-300 dark:border-gray-600 rounded-lg shadow-lg max-h-60 overflow-auto",children:Rr.length>0?Rr.map(I=>s.jsxs("div",{onClick:()=>Ll(I),className:"px-3 py-2 hover:bg-gray-100 dark:hover:bg-gray-700 cursor-pointer border-b border-gray-200 dark:border-gray-700 last:border-b-0",children:[s.jsx("div",{className:"font-medium text-gray-900 dark:text-white",children:I.title}),s.jsxs("div",{className:"text-sm text-gray-600 dark:text-gray-400",children:["Deal #",I.id,"  ",st(I.value),I.contact_name&&`  ${I.contact_name}`]})]},I.id)):s.jsx("div",{className:"px-3 py-2 text-gray-500 dark:text-gray-400",children:L?"No won deals found matching your search":"No won deals found"})}),At&&!M&&s.jsx("div",{className:"mt-2 p-3 bg-blue-50 dark:bg-blue-900/20 border border-blue-200 dark:border-blue-800 rounded-lg",children:s.jsxs("div",{className:"flex items-start",children:[s.jsx("div",{className:"flex-shrink-0",children:s.jsx("svg",{className:"h-5 w-5 text-blue-400",viewBox:"0 0 20 20",fill:"currentColor",children:s.jsx("path",{fillRule:"evenodd",d:"M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-7-4a1 1 0 11-2 0 1 1 0 012 0zM9 9a1 1 0 000 2v3a1 1 0 001 1h1a1 1 0 100-2v-3a1 1 0 00-1-1H9z",clipRule:"evenodd"})})}),s.jsxs("div",{className:"ml-3",children:[s.jsx("h3",{className:"text-sm font-medium text-blue-800 dark:text-blue-200",children:"No won deals for this account"}),s.jsxs("div",{className:"mt-1 text-sm text-blue-700 dark:text-blue-300",children:[s.jsx("p",{children:"You can still create an invoice by:"}),s.jsxs("ul",{className:"list-disc list-inside mt-1 space-y-1",children:[s.jsx("li",{children:"Searching for any won deal in the system"}),s.jsx("li",{children:"Manually entering the deal details"}),s.jsx("li",{children:"Creating a general invoice for this account"})]}),s.jsx("div",{className:"mt-3",children:s.jsx(Ur,{variant:"info",size:"sm",onClick:()=>{te(!1),X(!0),Z(""),Wr(Dt)},children:"Browse All Won Deals"})})]})]})]})})]})]})]}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:"Due Date *"}),s.jsx("input",{type:"date",value:gt.due_date,onChange:I=>fr({...gt,due_date:I.target.value}),className:"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent dark:bg-gray-700 dark:text-white",required:!0})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:"Tax Rate (%)"}),s.jsx("input",{type:"number",step:"0.01",value:gt.tax_rate,onChange:I=>fr({...gt,tax_rate:I.target.value}),className:"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent dark:bg-gray-700 dark:text-white",placeholder:"0.00"})]})]}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:"Subtotal *"}),s.jsx("input",{type:"number",step:"0.01",value:gt.subtotal,onChange:I=>fr({...gt,subtotal:I.target.value}),className:"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent dark:bg-gray-700 dark:text-white",placeholder:"0.00",required:!0})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:"Discount"}),s.jsxs("div",{className:"flex gap-2",children:[s.jsx("input",{type:"number",step:"0.01",value:gt.discount_amount,onChange:I=>fr({...gt,discount_amount:I.target.value}),className:"flex-1 px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent dark:bg-gray-700 dark:text-white",placeholder:"0.00"}),s.jsxs("select",{value:gt.discount_type,onChange:I=>fr({...gt,discount_type:I.target.value}),className:"px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent dark:bg-gray-700 dark:text-white",children:[s.jsx("option",{value:"percentage",children:"%"}),s.jsx("option",{value:"fixed",children:"$"})]})]})]})]}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:"Advance Payment"}),s.jsx("input",{type:"number",step:"0.01",value:gt.advance_payment,onChange:I=>fr({...gt,advance_payment:I.target.value}),className:"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent dark:bg-gray-700 dark:text-white",placeholder:"0.00"})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:"Recurring Invoice"}),s.jsx("div",{className:"flex items-center gap-3",children:s.jsxs("label",{className:"flex items-center",children:[s.jsx("input",{type:"checkbox",checked:gt.recurring_invoice,onChange:I=>fr({...gt,recurring_invoice:I.target.checked}),className:"rounded border-gray-300 text-blue-600 focus:ring-blue-500"}),s.jsx("span",{className:"ml-2 text-sm text-gray-700 dark:text-gray-300",children:"Enable Recurring"})]})})]})]}),gt.recurring_invoice&&s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:"Frequency"}),s.jsxs("select",{value:gt.recurring_frequency,onChange:I=>fr({...gt,recurring_frequency:I.target.value}),className:"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent dark:bg-gray-700 dark:text-white",children:[s.jsx("option",{value:"weekly",children:"Weekly"}),s.jsx("option",{value:"monthly",children:"Monthly"}),s.jsx("option",{value:"quarterly",children:"Quarterly"}),s.jsx("option",{value:"yearly",children:"Yearly"})]})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:"End Date"}),s.jsx("input",{type:"date",value:gt.recurring_end_date,onChange:I=>fr({...gt,recurring_end_date:I.target.value}),className:"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent dark:bg-gray-700 dark:text-white"})]})]}),s.jsxs("div",{className:"bg-gray-50 dark:bg-gray-800 p-4 rounded-lg border",children:[s.jsx("h4",{className:"text-sm font-medium text-gray-700 dark:text-gray-300 mb-3",children:"Invoice Summary"}),s.jsxs("div",{className:"space-y-2 text-sm",children:[s.jsxs("div",{className:"flex justify-between",children:[s.jsx("span",{className:"text-gray-600 dark:text-gray-400",children:"Subtotal:"}),s.jsxs("span",{className:"font-medium",children:["$",st(zi().subtotal)]})]}),zi().discountAmount>0&&s.jsxs("div",{className:"flex justify-between text-green-600 dark:text-green-400",children:[s.jsx("span",{children:"Discount:"}),s.jsxs("span",{children:["-$",st(zi().discountAmount)]})]}),s.jsxs("div",{className:"flex justify-between",children:[s.jsx("span",{className:"text-gray-600 dark:text-gray-400",children:"Tax:"}),s.jsxs("span",{className:"font-medium",children:["$",st(zi().taxAmount)]})]}),zi().advancePayment>0&&s.jsxs("div",{className:"flex justify-between text-blue-600 dark:text-blue-400",children:[s.jsx("span",{children:"Advance Payment:"}),s.jsxs("span",{children:["-$",st(zi().advancePayment)]})]}),s.jsxs("div",{className:"border-t border-gray-200 dark:border-gray-600 pt-2 flex justify-between",children:[s.jsx("span",{className:"font-semibold text-gray-900 dark:text-white",children:"Grand Total:"}),s.jsxs("span",{className:"font-bold text-lg text-blue-600 dark:text-blue-400",children:["$",st(zi().grandTotal)]})]})]})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:"Description"}),s.jsx("textarea",{value:gt.description,onChange:I=>fr({...gt,description:I.target.value}),rows:3,className:"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent dark:bg-gray-700 dark:text-white",placeholder:"Invoice description..."})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:"Notes"}),s.jsx("textarea",{value:gt.notes,onChange:I=>fr({...gt,notes:I.target.value}),rows:2,className:"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent dark:bg-gray-700 dark:text-white",placeholder:"Additional notes..."})]}),s.jsxs("div",{className:"flex justify-end gap-3 pt-4 border-t border-gray-200 dark:border-gray-600",children:[s.jsx(Ur,{variant:"secondary",size:"md",onClick:()=>vt(!1),children:"Cancel"}),s.jsx(Ur,{variant:"primary",size:"md",type:"submit",disabled:h,loading:h,children:"Create Invoice"})]})]})}),s.jsx(Ft,{open:ur,onClose:()=>pt(!1),title:"Record Payment",animationType:"scale",size:"md",children:s.jsxs("form",{onSubmit:wf,className:"space-y-4",children:[s.jsxs("div",{className:"relative dropdown-container",children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:"Invoice *"}),s.jsxs("div",{className:"relative",children:[s.jsx("input",{type:"text",value:Fl,onChange:I=>{wa(I.target.value),dr(!0)},onFocus:()=>dr(!0),placeholder:"Search unpaid invoices...",className:"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent dark:bg-gray-700 dark:text-white",required:!0}),ga&&s.jsx("div",{className:"absolute z-10 w-full mt-1 bg-white dark:bg-gray-800 border border-gray-300 dark:border-gray-600 rounded-lg shadow-lg max-h-60 overflow-auto",children:hs.length>0?hs.map(I=>s.jsxs("div",{onClick:()=>km(I),className:"px-3 py-2 hover:bg-gray-100 dark:hover:bg-gray-700 cursor-pointer border-b border-gray-200 dark:border-gray-700 last:border-b-0",children:[s.jsx("div",{className:"font-medium text-gray-900 dark:text-white",children:I.invoice_number}),s.jsxs("div",{className:"text-sm text-gray-600 dark:text-gray-400",children:["Deal #",I.deal_id,"  Balance: ",st(I.balance_due)]})]},I.id)):s.jsx("div",{className:"px-3 py-2 text-gray-500 dark:text-gray-400",children:"No unpaid invoices found"})})]}),Wt&&s.jsx("div",{className:"mt-2 p-3 bg-blue-50 dark:bg-blue-900/20 border border-blue-200 dark:border-blue-800 rounded-lg",children:s.jsxs("div",{className:"flex items-start",children:[s.jsx("div",{className:"flex-shrink-0",children:s.jsx("svg",{className:"h-5 w-5 text-blue-400",viewBox:"0 0 20 20",fill:"currentColor",children:s.jsx("path",{fillRule:"evenodd",d:"M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-7-4a1 1 0 11-2 0 1 1 0 012 0zM9 9a1 1 0 000 2v3a1 1 0 001 1h1a1 1 0 100-2v-3a1 1 0 00-1-1H9z",clipRule:"evenodd"})})}),s.jsxs("div",{className:"ml-3",children:[s.jsx("h3",{className:"text-sm font-medium text-blue-800 dark:text-blue-200",children:"Invoice Details"}),s.jsxs("div",{className:"mt-1 text-sm text-blue-700 dark:text-blue-300",children:[s.jsxs("p",{children:["Total Amount: ",st(Wt.total_amount)]}),s.jsxs("p",{children:["Balance Due: ",st(Wt.balance_due)]}),s.jsxs("p",{children:["Due Date: ",Xs(Wt.due_date)]})]})]})]})})]}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:"Amount"}),s.jsx("input",{type:"number",step:"0.01",value:Le.amount,onChange:I=>Ke({...Le,amount:I.target.value}),className:`w-full px-3 py-2 border rounded-lg focus:ring-2 focus:border-transparent dark:bg-gray-700 dark:text-white ${Wt&&parseFloat(Le.amount)>Wt.balance_due?"border-red-300 focus:ring-red-500":"border-gray-300 focus:ring-blue-500"}`,required:!0}),Wt&&parseFloat(Le.amount)>Wt.balance_due&&s.jsxs("p",{className:"mt-1 text-sm text-red-600 dark:text-red-400",children:["Payment amount exceeds balance due (",st(Wt.balance_due),")"]})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:"Payment Date"}),s.jsx("input",{type:"date",value:Le.payment_date,onChange:I=>Ke({...Le,payment_date:I.target.value}),className:"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent dark:bg-gray-700 dark:text-white",required:!0})]})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:"Payment Method"}),s.jsxs("select",{value:Le.payment_method,onChange:I=>Ke({...Le,payment_method:I.target.value}),className:"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent dark:bg-gray-700 dark:text-white",children:[s.jsx("option",{value:"credit_card",children:"Credit Card"}),s.jsx("option",{value:"bank_transfer",children:"Bank Transfer"}),s.jsx("option",{value:"check",children:"Check"}),s.jsx("option",{value:"cash",children:"Cash"}),s.jsx("option",{value:"other",children:"Other"})]})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:"Payment Reference"}),s.jsx("input",{type:"text",value:Le.payment_reference,onChange:I=>Ke({...Le,payment_reference:I.target.value}),className:"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent dark:bg-gray-700 dark:text-white",placeholder:"Transaction ID, check number, etc."})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:"Notes"}),s.jsx("textarea",{value:Le.notes,onChange:I=>Ke({...Le,notes:I.target.value}),rows:2,className:"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent dark:bg-gray-700 dark:text-white"})]}),s.jsxs("div",{className:"flex justify-end gap-3 pt-4",children:[s.jsx("button",{type:"button",onClick:()=>pt(!1),className:"px-4 py-2 text-gray-700 dark:text-gray-300 border border-gray-300 dark:border-gray-600 rounded-lg hover:bg-gray-50 dark:hover:bg-gray-700 transition-colors",children:"Cancel"}),s.jsx("button",{type:"submit",disabled:h,className:"px-4 py-2 bg-green-600 text-white rounded-lg hover:bg-green-700 disabled:opacity-50 transition-colors",children:h?"Recording...":"Record Payment"})]})]})}),s.jsx(Ft,{open:qt,onClose:()=>dn(!1),title:at?`Invoice ${at.invoice_number}`:"Invoice Details",animationType:"slideUp",size:"lg",children:at&&s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300",children:"Status"}),s.jsxs("span",{className:`inline-flex items-center gap-1 px-2.5 py-0.5 rounded-full text-xs font-medium ${ms(at.status)}`,children:[Bl(at.status),at.status]})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300",children:"Total Amount"}),s.jsx("p",{className:"text-lg font-semibold text-gray-900 dark:text-white",children:st(at.total_amount)})]})]}),s.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300",children:"Issue Date"}),s.jsx("p",{className:"text-gray-900 dark:text-white",children:Xs(at.issue_date)})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300",children:"Due Date"}),s.jsx("p",{className:"text-gray-900 dark:text-white",children:Xs(at.due_date)})]})]}),s.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300",children:"Subtotal"}),s.jsx("p",{className:"text-gray-900 dark:text-white",children:st(at.subtotal)})]}),s.jsxs("div",{children:[s.jsxs("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300",children:["Tax (",at.tax_rate,"%)"]}),s.jsx("p",{className:"text-gray-900 dark:text-white",children:st(at.tax_amount)})]})]}),at.balance_due>0&&s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300",children:"Balance Due"}),s.jsx("p",{className:"text-lg font-semibold text-red-600 dark:text-red-400",children:st(at.balance_due)})]}),at.description&&s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300",children:"Description"}),s.jsx("p",{className:"text-gray-900 dark:text-white",children:at.description})]}),at.notes&&s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300",children:"Notes"}),s.jsx("p",{className:"text-gray-900 dark:text-white",children:at.notes})]})]})}),s.jsx(Ft,{open:Zr,onClose:()=>Nr(!1),title:"Select Deal",animationType:"scale",size:"lg",children:s.jsxs("div",{className:"space-y-4",children:[s.jsx("div",{className:"text-sm text-gray-600 dark:text-gray-400",children:"This customer account has multiple won deals. Please select which deal to create an invoice for:"}),s.jsx("div",{className:"space-y-3 max-h-96 overflow-y-auto",children:ge.map(I=>s.jsx("div",{onClick:()=>iv(I),className:"p-4 border border-gray-200 dark:border-gray-700 rounded-lg hover:bg-gray-50 dark:hover:bg-gray-800 cursor-pointer transition-colors duration-200",children:s.jsxs("div",{className:"flex justify-between items-start",children:[s.jsxs("div",{className:"flex-1",children:[s.jsx("h3",{className:"font-medium text-gray-900 dark:text-white",children:I.title}),s.jsxs("div",{className:"text-sm text-gray-600 dark:text-gray-400 mt-1",children:["Deal #",I.id,I.contact_name&&`  ${I.contact_name}`]})]}),s.jsxs("div",{className:"text-right",children:[s.jsx("div",{className:"font-semibold text-green-600 dark:text-green-400",children:st(I.value)}),s.jsx("div",{className:"text-xs text-gray-500 dark:text-gray-400",children:"Won Deal"})]})]})},I.id))}),s.jsx("div",{className:"flex justify-end pt-4",children:s.jsx("button",{onClick:()=>Nr(!1),className:"px-4 py-2 text-gray-600 dark:text-gray-400 hover:text-gray-800 dark:hover:text-gray-200 transition-colors duration-200",children:"Cancel"})})]})}),s.jsx(Ft,{open:C,onClose:()=>O(!1),title:"Recognize Revenue",animationType:"scale",size:"md",children:s.jsxs("form",{onSubmit:Am,className:"space-y-4",children:[s.jsxs("div",{className:"relative dropdown-container",children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:"Invoice *"}),s.jsxs("div",{className:"relative",children:[s.jsx("input",{type:"text",value:fe,onChange:I=>{gf(I.target.value),J(!0)},onFocus:()=>J(!0),placeholder:"Search paid invoices...",className:"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent dark:bg-gray-700 dark:text-white",required:!0}),K&&s.jsx("div",{className:"absolute z-10 w-full mt-1 bg-white dark:bg-gray-800 border border-gray-300 dark:border-gray-600 rounded-lg shadow-lg max-h-60 overflow-auto",children:ee.length>0?ee.map(I=>s.jsxs("div",{onClick:()=>xf(I),className:"px-3 py-2 hover:bg-gray-100 dark:hover:bg-gray-700 cursor-pointer border-b border-gray-200 dark:border-gray-700 last:border-b-0",children:[s.jsx("div",{className:"font-medium text-gray-900 dark:text-white",children:I.invoice_number}),s.jsxs("div",{className:"text-sm text-gray-600 dark:text-gray-400",children:["Deal #",I.deal_id,"  Amount: ",st(I.total_amount)]})]},I.id)):s.jsx("div",{className:"px-3 py-2 text-gray-500 dark:text-gray-400",children:G.length===0?"No paid invoices available for revenue recognition":"No matching invoices found"})})]}),se&&s.jsx("div",{className:"mt-2 p-3 bg-blue-50 dark:bg-blue-900/20 border border-blue-200 dark:border-blue-800 rounded-lg",children:s.jsxs("div",{className:"flex items-start",children:[s.jsx("div",{className:"flex-shrink-0",children:s.jsx("svg",{className:"h-5 w-5 text-blue-400",viewBox:"0 0 20 20",fill:"currentColor",children:s.jsx("path",{fillRule:"evenodd",d:"M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-7-4a1 1 0 11-2 0 1 1 0 012 0zM9 9a1 1 0 000 2v3a1 1 0 001 1h1a1 1 0 100-2v-3a1 1 0 00-1-1H9z",clipRule:"evenodd"})})}),s.jsxs("div",{className:"ml-3",children:[s.jsx("h3",{className:"text-sm font-medium text-blue-800 dark:text-blue-200",children:"Invoice Details"}),s.jsxs("div",{className:"mt-1 text-sm text-blue-700 dark:text-blue-300",children:[s.jsxs("p",{children:["Total Amount: ",st(se.total_amount)]}),s.jsxs("p",{children:["Status: ",se.status]}),s.jsxs("p",{children:["Due Date: ",Xs(se.due_date)]})]})]})]})})]}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:"Amount *"}),s.jsx("input",{type:"number",step:"0.01",value:P.amount,onChange:I=>F({...P,amount:I.target.value}),className:"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent dark:bg-gray-700 dark:text-white",required:!0})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:"Recognition Date *"}),s.jsx("input",{type:"date",value:P.recognition_date,onChange:I=>F({...P,recognition_date:I.target.value}),className:"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent dark:bg-gray-700 dark:text-white",required:!0})]})]}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:"Recognition Type"}),s.jsxs("select",{value:P.recognition_type,onChange:I=>F({...P,recognition_type:I.target.value}),className:"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent dark:bg-gray-700 dark:text-white",children:[s.jsx("option",{value:"immediate",children:"Immediate"}),s.jsx("option",{value:"deferred",children:"Deferred"}),s.jsx("option",{value:"milestone",children:"Milestone-based"}),s.jsx("option",{value:"subscription",children:"Subscription"})]})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:"Revenue Type"}),s.jsxs("select",{value:P.revenue_type,onChange:I=>F({...P,revenue_type:I.target.value}),className:"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent dark:bg-gray-700 dark:text-white",children:[s.jsx("option",{value:"product",children:"Product"}),s.jsx("option",{value:"service",children:"Service"}),s.jsx("option",{value:"subscription",children:"Subscription"}),s.jsx("option",{value:"consulting",children:"Consulting"}),s.jsx("option",{value:"support",children:"Support"})]})]})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:"Revenue Category"}),s.jsx("input",{type:"text",value:P.revenue_category,onChange:I=>F({...P,revenue_category:I.target.value}),className:"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent dark:bg-gray-700 dark:text-white",placeholder:"e.g., Software License, Implementation, Training"})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:"Notes"}),s.jsx("textarea",{value:P.notes,onChange:I=>F({...P,notes:I.target.value}),rows:2,className:"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent dark:bg-gray-700 dark:text-white",placeholder:"Additional notes about revenue recognition"})]}),s.jsxs("div",{className:"flex justify-end space-x-3 pt-4",children:[s.jsx("button",{type:"button",onClick:()=>O(!1),className:"px-4 py-2 text-gray-700 dark:text-gray-300 bg-gray-200 dark:bg-gray-700 rounded-lg hover:bg-gray-300 dark:hover:bg-gray-600 transition-colors",children:"Cancel"}),s.jsx("button",{type:"submit",disabled:h,className:"px-4 py-2 bg-green-600 text-white rounded-lg hover:bg-green-700 transition-colors disabled:opacity-50",children:h?"Recognizing...":"Recognize Revenue"})]})]})}),s.jsx(Ft,{open:D,onClose:()=>H(!1),title:"Generate Financial Report",animationType:"scale",size:"lg",children:s.jsxs("form",{onSubmit:vf,className:"space-y-4",children:[s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:"Report Type *"}),s.jsxs("select",{value:B.report_type,onChange:I=>V({...B,report_type:I.target.value}),className:"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent dark:bg-gray-700 dark:text-white",required:!0,children:[s.jsx("option",{value:"profit_loss",children:"Profit & Loss Statement"}),s.jsx("option",{value:"cash_flow",children:"Cash Flow Statement"}),s.jsx("option",{value:"balance_sheet",children:"Balance Sheet"}),s.jsx("option",{value:"revenue_analysis",children:"Revenue Analysis"}),s.jsx("option",{value:"payment_summary",children:"Payment Summary"}),s.jsx("option",{value:"invoice_summary",children:"Invoice Summary"})]})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:"Report Name *"}),s.jsx("input",{type:"text",value:B.report_name,onChange:I=>V({...B,report_name:I.target.value}),className:"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent dark:bg-gray-700 dark:text-white",placeholder:"e.g., Q1 2024 P&L Report",required:!0})]})]}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:"Start Date *"}),s.jsx("input",{type:"date",value:B.start_date,onChange:I=>V({...B,start_date:I.target.value}),className:"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent dark:bg-gray-700 dark:text-white",required:!0})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:"End Date *"}),s.jsx("input",{type:"date",value:B.end_date,onChange:I=>V({...B,end_date:I.target.value}),className:"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent dark:bg-gray-700 dark:text-white",required:!0})]})]}),s.jsxs("div",{className:"flex items-center",children:[s.jsx("input",{type:"checkbox",id:"include_charts",checked:B.include_charts,onChange:I=>V({...B,include_charts:I.target.checked}),className:"h-4 w-4 text-blue-600 focus:ring-blue-500 border-gray-300 rounded"}),s.jsx("label",{htmlFor:"include_charts",className:"ml-2 block text-sm text-gray-700 dark:text-gray-300",children:"Include charts and visualizations"})]}),s.jsxs("div",{className:"flex justify-end space-x-3 pt-4",children:[s.jsx("button",{type:"button",onClick:()=>H(!1),className:"px-4 py-2 text-gray-700 dark:text-gray-300 bg-gray-200 dark:bg-gray-700 rounded-lg hover:bg-gray-300 dark:hover:bg-gray-600 transition-colors",children:"Cancel"}),s.jsx("button",{type:"submit",disabled:h,className:"px-4 py-2 bg-purple-600 text-white rounded-lg hover:bg-purple-700 transition-colors disabled:opacity-50",children:h?"Generating...":"Generate Report"})]})]})}),s.jsx(Ft,{open:Ce,onClose:()=>Ae(!1),title:"Success",animationType:"scale",size:"sm",children:s.jsxs("div",{className:"text-center space-y-4",children:[s.jsx("div",{className:"mx-auto flex items-center justify-center h-16 w-16 rounded-full bg-green-100 dark:bg-green-900",children:s.jsx(Lt,{className:"h-8 w-8 text-green-600 dark:text-green-400"})}),s.jsx("p",{className:"text-lg text-gray-900 dark:text-white",children:ut}),s.jsx("button",{onClick:()=>Ae(!1),className:"w-full px-4 py-2 bg-green-600 text-white rounded-lg hover:bg-green-700 transition-colors duration-200",children:"OK"})]})})]})},bTe=()=>{const[e,t]=v.useState("tickets"),[r,n]=v.useState([]),[a,i]=v.useState([]),[l,c]=v.useState([]),[d,f]=v.useState(null),[h,p]=v.useState(!1),[g,y]=v.useState(null),[b,w]=v.useState(null),[j,S]=v.useState(!1),[_,E]=v.useState(""),[T,A]=v.useState(""),[C,O]=v.useState(""),[P,F]=v.useState(""),[G,W]=v.useState(!1),[ee,ue]=v.useState(!1),[fe,Q]=v.useState(!1),[K,J]=v.useState(!1),[se,xe]=v.useState(!1),[U,ae]=v.useState(null),[D,H]=v.useState(null),[B,V]=v.useState(!1),[le,De]=v.useState(!1),[re,ie]=v.useState(!1),[de,oe]=v.useState(!1),[me,Xe]=v.useState(!1),[Ue,xt]=v.useState([]),[Ye,Be]=v.useState({assigned_to_id:"",reason:"",type:"manual"}),[Dt,Kt]=v.useState({reason:"",escalated_to_id:""}),[yt,Vt]=v.useState({resolution:"",resolution_notes:"",closure_reason:"resolved",closure_category:"technical_fix",follow_up_required:!1,follow_up_date:"",customer_satisfied:null,internal_notes:""}),[Rr,Wr]=v.useState({final_notes:"",customer_satisfied:null}),[yr,Pn]=v.useState({cancellation_reason:"customer_cancelled",cancellation_notes:""}),[Mn,vt]=v.useState(!1),[ur,pt]=v.useState(""),[qt,dn]=v.useState({title:"",description:"",priority:"medium",category:"general",subcategory:"",customer_name:"",customer_email:"",assigned_to_id:""}),[at,Mt]=v.useState({title:"",content:"",summary:"",category:"general",subcategory:"",tags:[],status:"draft",visibility:"public",featured:!1,meta_description:""}),[Zr,Nr]=v.useState({content:"",is_internal:!1});v.useEffect(()=>{ot(),Er(),vr(),ge()},[]);const ge=async()=>{try{const M=await Ee("/api/support/agents");M&&!M.error&&xt(M)}catch(M){console.error("Error fetching agents:",M)}},ct=async()=>{if(U)try{const M=await Ee(`/api/support/tickets/${U.id}/assign`,{method:"PATCH",body:JSON.stringify(Ye)});M&&!M.error?(V(!1),Be({assigned_to_id:"",reason:"",type:"manual"}),ot(),S(!0),w("Ticket assigned successfully")):(vt(!0),pt(M?.error||"Failed to assign ticket"))}catch{vt(!0),pt("Failed to assign ticket")}},At=async M=>{try{const X=await Ee(`/api/support/tickets/${M}/auto-assign`,{method:"POST"});X&&!X.error?(ot(),S(!0),w("Ticket auto-assigned successfully")):(vt(!0),pt(X?.error||"Failed to auto-assign ticket"))}catch{vt(!0),pt("Failed to auto-assign ticket")}},te=async()=>{if(U)try{const M=await Ee(`/api/support/tickets/${U.id}/escalate`,{method:"POST",body:JSON.stringify(Dt)});M&&!M.error?(De(!1),Kt({reason:"",escalated_to_id:""}),ot(),S(!0),w("Ticket escalated successfully")):(vt(!0),pt(M?.error||"Failed to escalate ticket"))}catch{vt(!0),pt("Failed to escalate ticket")}},Ce=async()=>{if(U)try{const M=await Ee(`/api/support/tickets/${U.id}/resolve`,{method:"PATCH",body:JSON.stringify(yt)});M&&!M.error?(ie(!1),Vt({resolution:"",resolution_notes:"",closure_reason:"resolved",closure_category:"technical_fix",follow_up_required:!1,follow_up_date:"",customer_satisfied:null,internal_notes:""}),ot(),S(!0),w("Ticket resolved successfully")):(vt(!0),pt(M?.error||"Failed to resolve ticket"))}catch{vt(!0),pt("Failed to resolve ticket")}},Ae=async()=>{if(U)try{const M=await Ee(`/api/support/tickets/${U.id}/close`,{method:"PATCH",body:JSON.stringify(Rr)});M&&!M.error?(oe(!1),Wr({final_notes:"",customer_satisfied:null}),ot(),S(!0),w("Ticket closed successfully")):(vt(!0),pt(M?.error||"Failed to close ticket"))}catch{vt(!0),pt("Failed to close ticket")}},ut=async()=>{if(U)try{const M=await Ee(`/api/support/tickets/${U.id}/cancel`,{method:"PATCH",body:JSON.stringify(yr)});M&&!M.error?(Xe(!1),Pn({cancellation_reason:"customer_cancelled",cancellation_notes:""}),ot(),S(!0),w("Ticket cancelled successfully")):(vt(!0),pt(M?.error||"Failed to cancel ticket"))}catch{vt(!0),pt("Failed to cancel ticket")}};v.useEffect(()=>{hs()},[r,_,T,C,P]);const ot=async()=>{try{p(!0);const M=await Ee("/api/support/tickets");Array.isArray(M)&&n(M)}catch(M){console.error("Error fetching tickets:",M),y("Failed to fetch support tickets")}finally{p(!1)}},Er=async()=>{try{const M=await Ee("/api/support/knowledge-base"),X=Array.isArray(M)?M:M?.value||[];Array.isArray(X)&&c(X)}catch(M){console.error("Error fetching knowledge articles:",M)}},vr=async()=>{try{const M=await Ee("/api/support/analytics/dashboard");M&&!M.error?f(M):(console.warn("Analytics data not available:",M?.error),f(null))}catch(M){console.error("Error fetching analytics:",M),f(null)}},hs=()=>{let M=r;_&&(M=M.filter(X=>X.status===_)),T&&(M=M.filter(X=>X.priority===T)),C&&(M=M.filter(X=>X.category===C)),P&&(M=M.filter(X=>X.title.toLowerCase().includes(P.toLowerCase())||X.ticket_number.toLowerCase().includes(P.toLowerCase())||X.customer_name.toLowerCase().includes(P.toLowerCase()))),i(M)},Xn=async()=>{try{p(!0);const M=await Ee("/api/support/tickets",{method:"POST",body:JSON.stringify(qt)});y(null),w("Support ticket created successfully!"),S(!0),W(!1),dn({title:"",description:"",priority:"medium",category:"general",subcategory:"",customer_name:"",customer_email:"",assigned_to_id:""}),ot()}catch(M){console.error("Error creating ticket:",M),y("Failed to create support ticket")}finally{p(!1)}},Fl=async()=>{try{p(!0);const M=await Ee("/api/support/knowledge-base",{method:"POST",body:JSON.stringify(at)});M&&!M.error?(y(null),w("Knowledge base article created successfully!"),S(!0),Q(!1),Mt({title:"",content:"",summary:"",category:"general",subcategory:"",tags:[],status:"draft",visibility:"public",featured:!1,meta_description:""}),Er()):y(M?.error||"Failed to create knowledge base article")}catch(M){console.error("Error creating article:",M),y("Failed to create knowledge base article")}finally{p(!1)}},xi=async()=>{if(D)try{p(!0);const M=await Ee(`/api/support/knowledge-base/${D.id}`,{method:"PUT",body:JSON.stringify(at)});M&&!M.error?(y(null),w("Knowledge base article updated successfully!"),S(!0),J(!1),H(null),Mt({title:"",content:"",summary:"",category:"general",subcategory:"",tags:[],status:"draft",visibility:"public",featured:!1,meta_description:""}),Er()):y(M?.error||"Failed to update knowledge base article")}catch(M){console.error("Error updating article:",M),y("Failed to update knowledge base article")}finally{p(!1)}},ga=async()=>{if(D)try{p(!0);const M=await Ee(`/api/support/knowledge-base/${D.id}`,{method:"DELETE"});M&&!M.error?(y(null),w("Knowledge base article deleted successfully!"),S(!0),xe(!1),H(null),Er()):y(M?.error||"Failed to delete knowledge base article")}catch(M){console.error("Error deleting article:",M),y("Failed to delete knowledge base article")}finally{p(!1)}},dr=M=>{H(M),Mt({title:M.title,content:M.content||"",summary:M.summary||"",category:M.category,subcategory:M.subcategory||"",tags:Array.isArray(M.tags)?M.tags:[],status:M.status,visibility:M.visibility,featured:M.featured,meta_description:M.meta_description||""}),J(!0)},Wt=M=>{H(M),xe(!0)},xa=async M=>{try{p(!0);const X=await Ee(`/api/support/tickets/${M}/comments`,{method:"POST",body:JSON.stringify(Zr)});y(null),w("Comment added successfully!"),S(!0),Nr({content:"",is_internal:!1}),ot()}catch(X){console.error("Error adding comment:",X),y("Failed to add comment")}finally{p(!1)}},gt=M=>{switch(M){case"critical":return"text-red-600 bg-red-100 dark:text-red-400 dark:bg-red-900";case"urgent":return"text-orange-600 bg-orange-100 dark:text-orange-400 dark:bg-orange-900";case"high":return"text-yellow-600 bg-yellow-100 dark:text-yellow-400 dark:bg-yellow-900";case"medium":return"text-blue-600 bg-blue-100 dark:text-blue-400 dark:bg-blue-900";case"low":return"text-green-600 bg-green-100 dark:text-green-400 dark:bg-green-900";default:return"text-gray-600 bg-gray-100 dark:text-gray-400 dark:bg-gray-900"}},fr=M=>{switch(M){case"open":return"text-blue-600 bg-blue-100 dark:text-blue-400 dark:bg-blue-900";case"in_progress":return"text-yellow-600 bg-yellow-100 dark:text-yellow-400 dark:bg-yellow-900";case"pending_customer":return"text-orange-600 bg-orange-100 dark:text-orange-400 dark:bg-orange-900";case"resolved":return"text-green-600 bg-green-100 dark:text-green-400 dark:bg-green-900";case"closed":return"text-gray-600 bg-gray-100 dark:text-gray-400 dark:bg-gray-900";case"cancelled":return"text-red-600 bg-red-100 dark:text-red-400 dark:bg-red-900";default:return"text-gray-600 bg-gray-100 dark:text-gray-400 dark:bg-gray-900"}},L=M=>new Date(M).toLocaleDateString("en-US",{year:"numeric",month:"short",day:"numeric",hour:"2-digit",minute:"2-digit"}),Z=()=>s.jsxs("div",{className:"space-y-6",children:[s.jsxs("div",{className:"flex justify-between items-center",children:[s.jsxs("div",{children:[s.jsx("h2",{className:"text-2xl font-bold text-gray-900 dark:text-white",children:"Support Tickets"}),s.jsx("p",{className:"text-gray-600 dark:text-gray-400",children:"Manage customer support requests"})]}),s.jsxs("button",{"data-testid":"cs-create-ticket",onClick:()=>W(!0),className:"flex items-center space-x-2 bg-blue-600 hover:bg-blue-700 text-white px-4 py-2 rounded-lg transition-colors",children:[s.jsx(Cr,{className:"w-5 h-5"}),s.jsx("span",{children:"Create Ticket"})]})]}),s.jsx("div",{className:"bg-white dark:bg-gray-800 p-6 rounded-lg shadow-sm border border-gray-200 dark:border-gray-700",children:s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4",children:[s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Search"}),s.jsxs("div",{className:"relative",children:[s.jsx(fi,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400 w-4 h-4"}),s.jsx("input",{type:"text",placeholder:"Search tickets...",value:P,onChange:M=>F(M.target.value),className:"w-full pl-10 pr-4 py-2 border border-gray-300 dark:border-gray-600 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent dark:bg-gray-700 dark:text-white"})]})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Status"}),s.jsxs("select",{value:_,onChange:M=>E(M.target.value),className:"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent dark:bg-gray-700 dark:text-white",children:[s.jsx("option",{value:"",children:"All Statuses"}),s.jsx("option",{value:"open",children:"Open"}),s.jsx("option",{value:"in_progress",children:"In Progress"}),s.jsx("option",{value:"pending_customer",children:"Pending Customer"}),s.jsx("option",{value:"resolved",children:"Resolved"}),s.jsx("option",{value:"closed",children:"Closed"}),s.jsx("option",{value:"cancelled",children:"Cancelled"})]})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Priority"}),s.jsxs("select",{value:T,onChange:M=>A(M.target.value),className:"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent dark:bg-gray-700 dark:text-white",children:[s.jsx("option",{value:"",children:"All Priorities"}),s.jsx("option",{value:"low",children:"Low"}),s.jsx("option",{value:"medium",children:"Medium"}),s.jsx("option",{value:"high",children:"High"}),s.jsx("option",{value:"urgent",children:"Urgent"}),s.jsx("option",{value:"critical",children:"Critical"})]})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Category"}),s.jsxs("select",{value:C,onChange:M=>O(M.target.value),className:"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent dark:bg-gray-700 dark:text-white",children:[s.jsx("option",{value:"",children:"All Categories"}),s.jsx("option",{value:"technical",children:"Technical"}),s.jsx("option",{value:"billing",children:"Billing"}),s.jsx("option",{value:"feature_request",children:"Feature Request"}),s.jsx("option",{value:"bug_report",children:"Bug Report"}),s.jsx("option",{value:"general",children:"General"})]})]})]})}),s.jsx("div",{className:"bg-white dark:bg-gray-800 rounded-lg shadow-sm border border-gray-200 dark:border-gray-700","data-testid":"cs-ticket-list",children:h?s.jsxs("div",{className:"p-8 text-center",children:[s.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-blue-600 mx-auto"}),s.jsx("p",{className:"mt-2 text-gray-600 dark:text-gray-400",children:"Loading tickets..."})]}):a.length===0?s.jsxs("div",{className:"p-8 text-center",children:[s.jsx($0,{className:"w-12 h-12 text-gray-400 mx-auto mb-4"}),s.jsx("h3",{className:"text-lg font-medium text-gray-900 dark:text-white mb-2",children:"No tickets found"}),s.jsx("p",{className:"text-gray-600 dark:text-gray-400",children:"Create your first support ticket to get started."})]}):s.jsx("div",{className:"overflow-x-auto",children:s.jsxs("table",{className:"w-full",children:[s.jsx("thead",{className:"bg-gray-50 dark:bg-gray-700",children:s.jsxs("tr",{children:[s.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-300 uppercase tracking-wider",children:"Ticket"}),s.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-300 uppercase tracking-wider",children:"Customer"}),s.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-300 uppercase tracking-wider",children:"Priority"}),s.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-300 uppercase tracking-wider",children:"Status"}),s.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-300 uppercase tracking-wider",children:"Assigned To"}),s.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-300 uppercase tracking-wider",children:"Created"}),s.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-300 uppercase tracking-wider",children:"Actions"})]})}),s.jsx("tbody",{className:"bg-white dark:bg-gray-800 divide-y divide-gray-200 dark:divide-gray-700",children:a.map(M=>s.jsxs("tr",{className:"hover:bg-gray-50 dark:hover:bg-gray-700",children:[s.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:s.jsxs("div",{children:[s.jsx("div",{className:"text-sm font-medium text-gray-900 dark:text-white",children:M.ticket_number}),s.jsx("div",{className:"text-sm text-gray-600 dark:text-gray-400 truncate max-w-xs",children:M.title})]})}),s.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:s.jsxs("div",{children:[s.jsx("div",{className:"text-sm font-medium text-gray-900 dark:text-white",children:M.customer_name}),s.jsx("div",{className:"text-sm text-gray-600 dark:text-gray-400",children:M.customer_email})]})}),s.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:s.jsx("span",{className:`inline-flex px-2 py-1 text-xs font-semibold rounded-full ${gt(M.priority)}`,children:M.priority})}),s.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:s.jsx("span",{className:`inline-flex px-2 py-1 text-xs font-semibold rounded-full ${fr(M.status)}`,children:M.status.replace("_"," ")})}),s.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-900 dark:text-white",children:M.assigned_to_name||"Unassigned"}),s.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-600 dark:text-gray-400",children:L(M.created_at)}),s.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm font-medium",children:s.jsxs("div",{className:"flex space-x-2",children:[s.jsx("button",{onClick:()=>{ae(M),ue(!0)},className:"text-blue-600 hover:text-blue-900 dark:text-blue-400 dark:hover:text-blue-300",children:"View"}),!M.assigned_to_id&&s.jsx("button",{onClick:()=>{ae(M),V(!0)},className:"text-green-600 hover:text-green-900 dark:text-green-400 dark:hover:text-green-300",children:"Assign"}),s.jsx("button",{onClick:()=>At(M.id),className:"text-purple-600 hover:text-purple-900 dark:text-purple-400 dark:hover:text-purple-300",children:"Auto"}),s.jsx("button",{onClick:()=>{ae(M),De(!0)},className:"text-orange-600 hover:text-orange-900 dark:text-orange-400 dark:hover:text-orange-300",children:"Escalate"}),M.status==="open"||M.status==="in_progress"||M.status==="pending_customer"?s.jsx("button",{onClick:()=>{ae(M),ie(!0)},className:"text-blue-600 hover:text-blue-900 dark:text-blue-400 dark:hover:text-blue-300",children:"Resolve"}):null,M.status==="resolved"?s.jsx("button",{onClick:()=>{ae(M),oe(!0)},className:"text-green-600 hover:text-green-900 dark:text-green-400 dark:hover:text-green-300",children:"Close"}):null,M.status==="open"||M.status==="in_progress"||M.status==="pending_customer"?s.jsx("button",{onClick:()=>{ae(M),Xe(!0)},className:"text-red-600 hover:text-red-900 dark:text-red-400 dark:hover:text-red-300",children:"Cancel"}):null]})})]},M.id))})]})})})]}),q=()=>s.jsxs("div",{className:"space-y-6",children:[s.jsxs("div",{className:"flex justify-between items-center",children:[s.jsxs("div",{children:[s.jsx("h2",{className:"text-2xl font-bold text-gray-900 dark:text-white",children:"Knowledge Base"}),s.jsx("p",{className:"text-gray-600 dark:text-gray-400",children:"Manage help articles and documentation"})]}),s.jsxs("button",{onClick:()=>Q(!0),className:"flex items-center space-x-2 bg-blue-600 hover:bg-blue-700 text-white px-4 py-2 rounded-lg transition-colors",children:[s.jsx(Cr,{className:"w-5 h-5"}),s.jsx("span",{children:"Create Article"})]})]}),s.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:l.map(M=>s.jsxs("div",{className:"bg-white dark:bg-gray-800 p-6 rounded-lg shadow-sm border border-gray-200 dark:border-gray-700 hover:shadow-md transition-shadow",children:[s.jsxs("div",{className:"flex items-start justify-between mb-4",children:[s.jsxs("div",{className:"flex-1",children:[s.jsx("h3",{className:"text-lg font-semibold text-gray-900 dark:text-white mb-2",children:M.title}),s.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-400 mb-3",children:M.summary})]}),M.featured&&s.jsx(W2,{className:"w-5 h-5 text-yellow-500 flex-shrink-0 ml-2"})]}),s.jsxs("div",{className:"flex items-center justify-between text-sm text-gray-500 dark:text-gray-400 mb-4",children:[s.jsx("span",{className:"bg-gray-100 dark:bg-gray-700 px-2 py-1 rounded",children:M.category}),s.jsxs("div",{className:"flex items-center space-x-4",children:[s.jsxs("span",{className:"flex items-center",children:[s.jsx(gn,{className:"w-4 h-4 mr-1"}),M.view_count]}),s.jsxs("span",{className:"flex items-center",children:[s.jsx(aK,{className:"w-4 h-4 mr-1"}),M.helpful_count]})]})]}),s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsx("span",{className:`text-xs px-2 py-1 rounded-full ${M.status==="published"?"bg-green-100 text-green-800 dark:bg-green-900 dark:text-green-200":"bg-yellow-100 text-yellow-800 dark:bg-yellow-900 dark:text-yellow-200"}`,children:M.status}),s.jsxs("div",{className:"flex space-x-2",children:[s.jsx("button",{onClick:()=>dr(M),className:"text-blue-600 hover:text-blue-800 dark:text-blue-400 dark:hover:text-blue-300",title:"Edit article",children:s.jsx(Wx,{className:"w-4 h-4"})}),s.jsx("button",{onClick:()=>Wt(M),className:"text-red-600 hover:text-red-800 dark:text-red-400 dark:hover:text-red-300",title:"Delete article",children:s.jsx(Mi,{className:"w-4 h-4"})})]})]})]},M.id))})]}),Y=()=>s.jsxs("div",{className:"space-y-6",children:[s.jsxs("div",{children:[s.jsx("h2",{className:"text-2xl font-bold text-gray-900 dark:text-white",children:"Support Analytics"}),s.jsx("p",{className:"text-gray-600 dark:text-gray-400",children:"Track support performance and metrics"})]}),d?s.jsxs(s.Fragment,{children:[s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6",children:[s.jsx("div",{className:"bg-white dark:bg-gray-800 p-6 rounded-lg shadow-sm border border-gray-200 dark:border-gray-700",children:s.jsxs("div",{className:"flex items-center",children:[s.jsx("div",{className:"p-2 bg-blue-100 dark:bg-blue-900 rounded-lg",children:s.jsx($0,{className:"w-6 h-6 text-blue-600 dark:text-blue-400"})}),s.jsxs("div",{className:"ml-4",children:[s.jsx("p",{className:"text-sm font-medium text-gray-600 dark:text-gray-400",children:"Total Tickets"}),s.jsx("p",{className:"text-2xl font-bold text-gray-900 dark:text-white",children:d?.ticket_metrics?.total_tickets||0})]})]})}),s.jsx("div",{className:"bg-white dark:bg-gray-800 p-6 rounded-lg shadow-sm border border-gray-200 dark:border-gray-700",children:s.jsxs("div",{className:"flex items-center",children:[s.jsx("div",{className:"p-2 bg-green-100 dark:bg-green-900 rounded-lg",children:s.jsx(Lt,{className:"w-6 h-6 text-green-600 dark:text-green-400"})}),s.jsxs("div",{className:"ml-4",children:[s.jsx("p",{className:"text-sm font-medium text-gray-600 dark:text-gray-400",children:"Resolution Rate"}),s.jsxs("p",{className:"text-2xl font-bold text-gray-900 dark:text-white",children:[d?.ticket_metrics?.resolution_rate?.toFixed(1)||"0.0","%"]})]})]})}),s.jsx("div",{className:"bg-white dark:bg-gray-800 p-6 rounded-lg shadow-sm border border-gray-200 dark:border-gray-700",children:s.jsxs("div",{className:"flex items-center",children:[s.jsx("div",{className:"p-2 bg-yellow-100 dark:bg-yellow-900 rounded-lg",children:s.jsx(is,{className:"w-6 h-6 text-yellow-600 dark:text-yellow-400"})}),s.jsxs("div",{className:"ml-4",children:[s.jsx("p",{className:"text-sm font-medium text-gray-600 dark:text-gray-400",children:"Avg Response Time"}),s.jsxs("p",{className:"text-2xl font-bold text-gray-900 dark:text-white",children:[d?.response_metrics?.avg_first_response_time?.toFixed(1)||"0.0","h"]})]})]})}),s.jsx("div",{className:"bg-white dark:bg-gray-800 p-6 rounded-lg shadow-sm border border-gray-200 dark:border-gray-700",children:s.jsxs("div",{className:"flex items-center",children:[s.jsx("div",{className:"p-2 bg-purple-100 dark:bg-purple-900 rounded-lg",children:s.jsx(W2,{className:"w-6 h-6 text-purple-600 dark:text-purple-400"})}),s.jsxs("div",{className:"ml-4",children:[s.jsx("p",{className:"text-sm font-medium text-gray-600 dark:text-gray-400",children:"Satisfaction"}),s.jsxs("p",{className:"text-2xl font-bold text-gray-900 dark:text-white",children:[d?.satisfaction_metrics?.avg_satisfaction_rating?.toFixed(1)||"0.0","/5"]})]})]})})]}),s.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[s.jsxs("div",{className:"bg-white dark:bg-gray-800 p-6 rounded-lg shadow-sm border border-gray-200 dark:border-gray-700",children:[s.jsx("h3",{className:"text-lg font-semibold text-gray-900 dark:text-white mb-4",children:"Tickets by Category"}),s.jsx("div",{className:"space-y-3",children:Object.entries(d?.breakdown?.tickets_by_category||{}).map(([M,X])=>s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsx("span",{className:"text-sm text-gray-600 dark:text-gray-400 capitalize",children:M.replace("_"," ")}),s.jsx("span",{className:"text-sm font-medium text-gray-900 dark:text-white",children:X})]},M))})]}),s.jsxs("div",{className:"bg-white dark:bg-gray-800 p-6 rounded-lg shadow-sm border border-gray-200 dark:border-gray-700",children:[s.jsx("h3",{className:"text-lg font-semibold text-gray-900 dark:text-white mb-4",children:"Tickets by Priority"}),s.jsx("div",{className:"space-y-3",children:Object.entries(d?.breakdown?.tickets_by_priority||{}).map(([M,X])=>s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsx("span",{className:`text-sm px-2 py-1 rounded-full ${gt(M)}`,children:M}),s.jsx("span",{className:"text-sm font-medium text-gray-900 dark:text-white",children:X})]},M))})]})]})]}):s.jsxs("div",{className:"text-center py-8",children:[s.jsx(Pa,{className:"w-12 h-12 text-gray-400 mx-auto mb-4"}),s.jsx("p",{className:"text-gray-600 dark:text-gray-400",children:d===null?"Analytics data not available":"Loading analytics..."})]})]});return s.jsx("div",{className:"min-h-screen bg-gray-50 dark:bg-gray-900",children:s.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8",children:[s.jsxs("div",{className:"mb-8",children:[s.jsx("h1",{className:"text-3xl font-bold text-gray-900 dark:text-white",children:"Customer Support"}),s.jsx("p",{className:"text-gray-600 dark:text-gray-400 mt-2",children:"Manage tickets, knowledge base, and support analytics"})]}),s.jsx("div",{className:"mb-8",children:s.jsx("div",{className:"border-b border-gray-200 dark:border-gray-700",children:s.jsx("nav",{className:"-mb-px flex space-x-8",children:[{id:"tickets",label:"Tickets",icon:$0},{id:"knowledge",label:"Knowledge Base",icon:$N},{id:"analytics",label:"Analytics",icon:Pa},{id:"surveys",label:"Surveys",icon:dh}].map(M=>s.jsxs("button",{onClick:()=>t(M.id),className:`flex items-center space-x-2 py-2 px-1 border-b-2 font-medium text-sm ${e===M.id?"border-blue-500 text-blue-600 dark:text-blue-400":"border-transparent text-gray-500 hover:text-gray-700 hover:border-gray-300 dark:text-gray-400 dark:hover:text-gray-300"}`,children:[s.jsx(M.icon,{className:"w-5 h-5"}),s.jsx("span",{children:M.label})]},M.id))})})}),g&&s.jsx("div",{className:"mb-6 bg-red-50 dark:bg-red-900/20 border border-red-200 dark:border-red-800 rounded-lg p-4",children:s.jsxs("div",{className:"flex",children:[s.jsx(V2,{className:"w-5 h-5 text-red-400 mr-3 mt-0.5"}),s.jsxs("div",{children:[s.jsx("h3",{className:"text-sm font-medium text-red-800 dark:text-red-200",children:"Error"}),s.jsx("p",{className:"text-sm text-red-700 dark:text-red-300 mt-1",children:g})]})]})}),e==="tickets"&&Z(),e==="knowledge"&&q(),e==="analytics"&&Y(),e==="surveys"&&s.jsxs("div",{className:"text-center py-8",children:[s.jsx(dh,{className:"w-12 h-12 text-gray-400 mx-auto mb-4"}),s.jsx("h3",{className:"text-lg font-medium text-gray-900 dark:text-white mb-2",children:"Surveys"}),s.jsx("p",{className:"text-gray-600 dark:text-gray-400",children:"Customer satisfaction surveys coming soon."})]}),s.jsx(Ft,{open:G,onClose:()=>W(!1),title:"Create Support Ticket",animationType:"scale",size:"lg",children:s.jsxs("div",{className:"space-y-4","data-testid":"cs-ticket-modal",children:[s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Title"}),s.jsx("input",{"data-testid":"cs-title",type:"text",value:qt.title,onChange:M=>dn({...qt,title:M.target.value}),className:"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent dark:bg-gray-700 dark:text-white",placeholder:"Brief description of the issue"})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Description"}),s.jsx("textarea",{"data-testid":"cs-description",value:qt.description,onChange:M=>dn({...qt,description:M.target.value}),rows:4,className:"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent dark:bg-gray-700 dark:text-white",placeholder:"Detailed description of the issue"})]}),s.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Priority"}),s.jsxs("select",{"data-testid":"cs-priority",value:qt.priority,onChange:M=>dn({...qt,priority:M.target.value}),className:"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent dark:bg-gray-700 dark:text-white",children:[s.jsx("option",{value:"low",children:"Low"}),s.jsx("option",{value:"medium",children:"Medium"}),s.jsx("option",{value:"high",children:"High"}),s.jsx("option",{value:"urgent",children:"Urgent"}),s.jsx("option",{value:"critical",children:"Critical"})]})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Category"}),s.jsxs("select",{"data-testid":"cs-category",value:qt.category,onChange:M=>dn({...qt,category:M.target.value}),className:"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent dark:bg-gray-700 dark:text-white",children:[s.jsx("option",{value:"technical",children:"Technical"}),s.jsx("option",{value:"billing",children:"Billing"}),s.jsx("option",{value:"feature_request",children:"Feature Request"}),s.jsx("option",{value:"bug_report",children:"Bug Report"}),s.jsx("option",{value:"general",children:"General"})]})]})]}),s.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Customer Name"}),s.jsx("input",{"data-testid":"cs-customer-name",type:"text",value:qt.customer_name,onChange:M=>dn({...qt,customer_name:M.target.value}),className:"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent dark:bg-gray-700 dark:text-white",placeholder:"Customer name"})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Customer Email"}),s.jsx("input",{"data-testid":"cs-customer-email",type:"email",value:qt.customer_email,onChange:M=>dn({...qt,customer_email:M.target.value}),className:"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent dark:bg-gray-700 dark:text-white",placeholder:"customer@example.com"})]})]}),s.jsxs("div",{className:"flex justify-end space-x-3 pt-4",children:[s.jsx("button",{onClick:()=>W(!1),className:"px-4 py-2 text-gray-700 dark:text-gray-300 bg-gray-100 dark:bg-gray-700 hover:bg-gray-200 dark:hover:bg-gray-600 rounded-lg transition-colors",children:"Cancel"}),s.jsx("button",{onClick:Xn,disabled:h||!qt.title||!qt.description||!qt.customer_name||!qt.customer_email,className:"px-4 py-2 bg-blue-600 hover:bg-blue-700 disabled:bg-gray-400 text-white rounded-lg transition-colors",children:h?"Creating...":"Create Ticket"})]})]})}),s.jsx(Ft,{open:fe,onClose:()=>Q(!1),title:"Create Knowledge Base Article",animationType:"scale",size:"lg",children:s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Title"}),s.jsx("input",{type:"text",value:at.title,onChange:M=>Mt({...at,title:M.target.value}),className:"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent dark:bg-gray-700 dark:text-white",placeholder:"Article title"})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Summary"}),s.jsx("textarea",{value:at.summary,onChange:M=>Mt({...at,summary:M.target.value}),rows:2,className:"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent dark:bg-gray-700 dark:text-white",placeholder:"Brief summary of the article"})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Content"}),s.jsx("textarea",{value:at.content,onChange:M=>Mt({...at,content:M.target.value}),rows:6,className:"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent dark:bg-gray-700 dark:text-white",placeholder:"Article content (markdown supported)"})]}),s.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Category"}),s.jsxs("select",{value:at.category,onChange:M=>Mt({...at,category:M.target.value}),className:"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent dark:bg-gray-700 dark:text-white",children:[s.jsx("option",{value:"getting_started",children:"Getting Started"}),s.jsx("option",{value:"troubleshooting",children:"Troubleshooting"}),s.jsx("option",{value:"billing",children:"Billing"}),s.jsx("option",{value:"features",children:"Features"}),s.jsx("option",{value:"general",children:"General"})]})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Status"}),s.jsxs("select",{value:at.status,onChange:M=>Mt({...at,status:M.target.value}),className:"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent dark:bg-gray-700 dark:text-white",children:[s.jsx("option",{value:"draft",children:"Draft"}),s.jsx("option",{value:"published",children:"Published"}),s.jsx("option",{value:"archived",children:"Archived"})]})]})]}),s.jsxs("div",{className:"flex items-center",children:[s.jsx("input",{type:"checkbox",id:"featured",checked:at.featured,onChange:M=>Mt({...at,featured:M.target.checked}),className:"h-4 w-4 text-blue-600 focus:ring-blue-500 border-gray-300 rounded"}),s.jsx("label",{htmlFor:"featured",className:"ml-2 block text-sm text-gray-700 dark:text-gray-300",children:"Featured article"})]}),s.jsxs("div",{className:"flex justify-end space-x-3 pt-4",children:[s.jsx("button",{onClick:()=>Q(!1),className:"px-4 py-2 text-gray-700 dark:text-gray-300 bg-gray-100 dark:bg-gray-700 hover:bg-gray-200 dark:hover:bg-gray-600 rounded-lg transition-colors",children:"Cancel"}),s.jsx("button",{onClick:Fl,disabled:h||!at.title||!at.content,className:"px-4 py-2 bg-blue-600 hover:bg-blue-700 disabled:bg-gray-400 text-white rounded-lg transition-colors",children:h?"Creating...":"Create Article"})]})]})}),s.jsx(Ft,{open:B,onClose:()=>V(!1),title:"Assign Ticket",animationType:"scale",size:"md",children:s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Assign to Agent"}),s.jsxs("select",{value:Ye.assigned_to_id,onChange:M=>Be({...Ye,assigned_to_id:M.target.value}),className:"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent dark:bg-gray-700 dark:text-white",children:[s.jsx("option",{value:"",children:"Select an agent"}),Ue.map(M=>s.jsxs("option",{value:M.id,children:[M.name," (",M.role,") - ",M.workload," tickets",M.skills.length>0&&` - Skills: ${M.skills.map(X=>X.name).join(", ")}`]},M.id))]})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Assignment Reason"}),s.jsx("textarea",{value:Ye.reason,onChange:M=>Be({...Ye,reason:M.target.value}),rows:3,className:"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent dark:bg-gray-700 dark:text-white",placeholder:"Why is this ticket being assigned to this agent?"})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Assignment Type"}),s.jsxs("select",{value:Ye.type,onChange:M=>Be({...Ye,type:M.target.value}),className:"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent dark:bg-gray-700 dark:text-white",children:[s.jsx("option",{value:"manual",children:"Manual Assignment"}),s.jsx("option",{value:"skills_based",children:"Skills-Based"}),s.jsx("option",{value:"escalation",children:"Escalation"})]})]}),s.jsxs("div",{className:"flex justify-end space-x-3",children:[s.jsx("button",{onClick:()=>V(!1),className:"px-4 py-2 text-gray-600 dark:text-gray-400 hover:text-gray-800 dark:hover:text-gray-200",children:"Cancel"}),s.jsx("button",{onClick:ct,disabled:!Ye.assigned_to_id||h,className:"px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 disabled:opacity-50 disabled:cursor-not-allowed",children:h?"Assigning...":"Assign Ticket"})]})]})}),s.jsx(Ft,{open:le,onClose:()=>De(!1),title:"Escalate Ticket",animationType:"scale",size:"md",children:s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Escalation Reason *"}),s.jsx("textarea",{value:Dt.reason,onChange:M=>Kt({...Dt,reason:M.target.value}),rows:3,className:"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent dark:bg-gray-700 dark:text-white",placeholder:"Why is this ticket being escalated?",required:!0})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Escalate to Agent (Optional)"}),s.jsxs("select",{value:Dt.escalated_to_id,onChange:M=>Kt({...Dt,escalated_to_id:M.target.value}),className:"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent dark:bg-gray-700 dark:text-white",children:[s.jsx("option",{value:"",children:"Auto-assign to senior agent"}),Ue.filter(M=>M.role==="manager"||M.role==="admin").map(M=>s.jsxs("option",{value:M.id,children:[M.name," (",M.role,") - ",M.workload," tickets"]},M.id))]})]}),s.jsxs("div",{className:"flex justify-end space-x-3",children:[s.jsx("button",{onClick:()=>De(!1),className:"px-4 py-2 text-gray-600 dark:text-gray-400 hover:text-gray-800 dark:hover:text-gray-200",children:"Cancel"}),s.jsx("button",{onClick:te,disabled:!Dt.reason||h,className:"px-4 py-2 bg-orange-600 text-white rounded-lg hover:bg-orange-700 disabled:opacity-50 disabled:cursor-not-allowed",children:h?"Escalating...":"Escalate Ticket"})]})]})}),s.jsx(Ft,{open:j,onClose:()=>S(!1),title:"Success!",animationType:"scale",size:"sm",children:s.jsxs("div",{className:"text-center",children:[s.jsx(Lt,{className:"w-12 h-12 text-green-500 mx-auto mb-4"}),s.jsx("p",{className:"text-gray-600 dark:text-gray-400",children:b})]})}),s.jsx(Ft,{open:re,onClose:()=>ie(!1),title:"Resolve Ticket",animationType:"scale",size:"lg",children:s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Resolution *"}),s.jsx("textarea",{value:yt.resolution,onChange:M=>Vt({...yt,resolution:M.target.value}),rows:4,className:"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent dark:bg-gray-700 dark:text-white",placeholder:"Describe how the issue was resolved...",required:!0})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Resolution Notes"}),s.jsx("textarea",{value:yt.resolution_notes,onChange:M=>Vt({...yt,resolution_notes:M.target.value}),rows:3,className:"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent dark:bg-gray-700 dark:text-white",placeholder:"Additional notes about the resolution..."})]}),s.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Closure Reason"}),s.jsxs("select",{value:yt.closure_reason,onChange:M=>Vt({...yt,closure_reason:M.target.value}),className:"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent dark:bg-gray-700 dark:text-white",children:[s.jsx("option",{value:"resolved",children:"Resolved"}),s.jsx("option",{value:"workaround_provided",children:"Workaround Provided"}),s.jsx("option",{value:"user_education",children:"User Education"}),s.jsx("option",{value:"configuration_fix",children:"Configuration Fix"})]})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Closure Category"}),s.jsxs("select",{value:yt.closure_category,onChange:M=>Vt({...yt,closure_category:M.target.value}),className:"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent dark:bg-gray-700 dark:text-white",children:[s.jsx("option",{value:"technical_fix",children:"Technical Fix"}),s.jsx("option",{value:"bug_fix",children:"Bug Fix"}),s.jsx("option",{value:"configuration_change",children:"Configuration Change"}),s.jsx("option",{value:"user_education",children:"User Education"}),s.jsx("option",{value:"information_provided",children:"Information Provided"})]})]})]}),s.jsxs("div",{className:"flex items-center",children:[s.jsx("input",{type:"checkbox",id:"follow_up_required",checked:yt.follow_up_required,onChange:M=>Vt({...yt,follow_up_required:M.target.checked}),className:"h-4 w-4 text-blue-600 focus:ring-blue-500 border-gray-300 rounded"}),s.jsx("label",{htmlFor:"follow_up_required",className:"ml-2 block text-sm text-gray-700 dark:text-gray-300",children:"Follow-up required"})]}),yt.follow_up_required&&s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Follow-up Date"}),s.jsx("input",{type:"date",value:yt.follow_up_date,onChange:M=>Vt({...yt,follow_up_date:M.target.value}),className:"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent dark:bg-gray-700 dark:text-white"})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Customer Satisfaction"}),s.jsxs("div",{className:"flex space-x-4",children:[s.jsxs("label",{className:"flex items-center",children:[s.jsx("input",{type:"radio",name:"customer_satisfied",value:"true",checked:yt.customer_satisfied===!0,onChange:()=>Vt({...yt,customer_satisfied:!0}),className:"h-4 w-4 text-green-600 focus:ring-green-500 border-gray-300"}),s.jsx("span",{className:"ml-2 text-sm text-gray-700 dark:text-gray-300",children:"Satisfied"})]}),s.jsxs("label",{className:"flex items-center",children:[s.jsx("input",{type:"radio",name:"customer_satisfied",value:"false",checked:yt.customer_satisfied===!1,onChange:()=>Vt({...yt,customer_satisfied:!1}),className:"h-4 w-4 text-red-600 focus:ring-red-500 border-gray-300"}),s.jsx("span",{className:"ml-2 text-sm text-gray-700 dark:text-gray-300",children:"Not Satisfied"})]}),s.jsxs("label",{className:"flex items-center",children:[s.jsx("input",{type:"radio",name:"customer_satisfied",value:"null",checked:yt.customer_satisfied===null,onChange:()=>Vt({...yt,customer_satisfied:null}),className:"h-4 w-4 text-gray-600 focus:ring-gray-500 border-gray-300"}),s.jsx("span",{className:"ml-2 text-sm text-gray-700 dark:text-gray-300",children:"Unknown"})]})]})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Internal Notes"}),s.jsx("textarea",{value:yt.internal_notes,onChange:M=>Vt({...yt,internal_notes:M.target.value}),rows:2,className:"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent dark:bg-gray-700 dark:text-white",placeholder:"Internal notes (not visible to customer)..."})]}),s.jsxs("div",{className:"flex justify-end space-x-3",children:[s.jsx("button",{onClick:()=>ie(!1),className:"px-4 py-2 text-gray-600 dark:text-gray-400 hover:text-gray-800 dark:hover:text-gray-200",children:"Cancel"}),s.jsx("button",{onClick:Ce,disabled:!yt.resolution||h,className:"px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 disabled:opacity-50 disabled:cursor-not-allowed",children:h?"Resolving...":"Resolve Ticket"})]})]})}),s.jsx(Ft,{open:de,onClose:()=>oe(!1),title:"Close Ticket",animationType:"scale",size:"md",children:s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Final Notes"}),s.jsx("textarea",{value:Rr.final_notes,onChange:M=>Wr({...Rr,final_notes:M.target.value}),rows:3,className:"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent dark:bg-gray-700 dark:text-white",placeholder:"Any final notes before closing..."})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Customer Satisfaction"}),s.jsxs("div",{className:"flex space-x-4",children:[s.jsxs("label",{className:"flex items-center",children:[s.jsx("input",{type:"radio",name:"close_customer_satisfied",value:"true",checked:Rr.customer_satisfied===!0,onChange:()=>Wr({...Rr,customer_satisfied:!0}),className:"h-4 w-4 text-green-600 focus:ring-green-500 border-gray-300"}),s.jsx("span",{className:"ml-2 text-sm text-gray-700 dark:text-gray-300",children:"Satisfied"})]}),s.jsxs("label",{className:"flex items-center",children:[s.jsx("input",{type:"radio",name:"close_customer_satisfied",value:"false",checked:Rr.customer_satisfied===!1,onChange:()=>Wr({...Rr,customer_satisfied:!1}),className:"h-4 w-4 text-red-600 focus:ring-red-500 border-gray-300"}),s.jsx("span",{className:"ml-2 text-sm text-gray-700 dark:text-gray-300",children:"Not Satisfied"})]}),s.jsxs("label",{className:"flex items-center",children:[s.jsx("input",{type:"radio",name:"close_customer_satisfied",value:"null",checked:Rr.customer_satisfied===null,onChange:()=>Wr({...Rr,customer_satisfied:null}),className:"h-4 w-4 text-gray-600 focus:ring-gray-500 border-gray-300"}),s.jsx("span",{className:"ml-2 text-sm text-gray-700 dark:text-gray-300",children:"Unknown"})]})]})]}),s.jsxs("div",{className:"flex justify-end space-x-3",children:[s.jsx("button",{onClick:()=>oe(!1),className:"px-4 py-2 text-gray-600 dark:text-gray-400 hover:text-gray-800 dark:hover:text-gray-200",children:"Cancel"}),s.jsx("button",{onClick:Ae,disabled:h,className:"px-4 py-2 bg-green-600 text-white rounded-lg hover:bg-green-700 disabled:opacity-50 disabled:cursor-not-allowed",children:h?"Closing...":"Close Ticket"})]})]})}),s.jsx(Ft,{open:me,onClose:()=>Xe(!1),title:"Cancel Ticket",animationType:"scale",size:"md",children:s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Cancellation Reason *"}),s.jsxs("select",{value:yr.cancellation_reason,onChange:M=>Pn({...yr,cancellation_reason:M.target.value}),className:"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent dark:bg-gray-700 dark:text-white",required:!0,children:[s.jsx("option",{value:"customer_cancelled",children:"Customer Cancelled"}),s.jsx("option",{value:"duplicate",children:"Duplicate Ticket"}),s.jsx("option",{value:"not_reproducible",children:"Not Reproducible"}),s.jsx("option",{value:"invalid_request",children:"Invalid Request"}),s.jsx("option",{value:"spam",children:"Spam"})]})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Cancellation Notes"}),s.jsx("textarea",{value:yr.cancellation_notes,onChange:M=>Pn({...yr,cancellation_notes:M.target.value}),rows:3,className:"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent dark:bg-gray-700 dark:text-white",placeholder:"Explain why the ticket is being cancelled...",required:!0})]}),s.jsxs("div",{className:"flex justify-end space-x-3",children:[s.jsx("button",{onClick:()=>Xe(!1),className:"px-4 py-2 text-gray-600 dark:text-gray-400 hover:text-gray-800 dark:hover:text-gray-200",children:"Cancel"}),s.jsx("button",{onClick:ut,disabled:!yr.cancellation_notes||h,className:"px-4 py-2 bg-red-600 text-white rounded-lg hover:bg-red-700 disabled:opacity-50 disabled:cursor-not-allowed",children:h?"Cancelling...":"Cancel Ticket"})]})]})}),s.jsx(Ft,{open:ee,onClose:()=>ue(!1),title:"Ticket Details",animationType:"scale",size:"lg",children:U&&s.jsxs("div",{className:"space-y-6",children:[s.jsxs("div",{className:"bg-gray-50 dark:bg-gray-700 p-4 rounded-lg",children:[s.jsxs("div",{className:"flex justify-between items-start mb-4",children:[s.jsxs("div",{children:[s.jsx("h3",{className:"text-lg font-semibold text-gray-900 dark:text-white",children:U.ticket_number}),s.jsx("p",{className:"text-gray-600 dark:text-gray-400",children:U.title})]}),s.jsxs("div",{className:"flex space-x-2",children:[s.jsx("span",{className:`inline-flex px-2 py-1 text-xs font-semibold rounded-full ${gt(U.priority)}`,children:U.priority}),s.jsx("span",{className:`inline-flex px-2 py-1 text-xs font-semibold rounded-full ${fr(U.status)}`,children:U.status.replace("_"," ")})]})]}),s.jsxs("div",{className:"grid grid-cols-2 gap-4 text-sm",children:[s.jsxs("div",{children:[s.jsx("span",{className:"font-medium text-gray-700 dark:text-gray-300",children:"Customer:"}),s.jsx("span",{className:"ml-2 text-gray-600 dark:text-gray-400",children:U.customer_name})]}),s.jsxs("div",{children:[s.jsx("span",{className:"font-medium text-gray-700 dark:text-gray-300",children:"Email:"}),s.jsx("span",{className:"ml-2 text-gray-600 dark:text-gray-400",children:U.customer_email})]}),s.jsxs("div",{children:[s.jsx("span",{className:"font-medium text-gray-700 dark:text-gray-300",children:"Category:"}),s.jsx("span",{className:"ml-2 text-gray-600 dark:text-gray-400",children:U.category})]}),s.jsxs("div",{children:[s.jsx("span",{className:"font-medium text-gray-700 dark:text-gray-300",children:"Assigned To:"}),s.jsx("span",{className:"ml-2 text-gray-600 dark:text-gray-400",children:U.assigned_to_name||"Unassigned"})]}),s.jsxs("div",{children:[s.jsx("span",{className:"font-medium text-gray-700 dark:text-gray-300",children:"Created:"}),s.jsx("span",{className:"ml-2 text-gray-600 dark:text-gray-400",children:L(U.created_at)})]}),U.sla_deadline&&s.jsxs("div",{children:[s.jsx("span",{className:"font-medium text-gray-700 dark:text-gray-300",children:"SLA Deadline:"}),s.jsx("span",{className:"ml-2 text-gray-600 dark:text-gray-400",children:L(U.sla_deadline)})]})]})]}),s.jsxs("div",{children:[s.jsx("h4",{className:"text-md font-medium text-gray-900 dark:text-white mb-2",children:"Description"}),s.jsx("div",{className:"bg-gray-50 dark:bg-gray-700 p-4 rounded-lg",children:s.jsx("p",{className:"text-gray-700 dark:text-gray-300 whitespace-pre-wrap",children:U.description})})]}),U.comments&&U.comments.length>0&&s.jsxs("div",{children:[s.jsx("h4",{className:"text-md font-medium text-gray-900 dark:text-white mb-3",children:"Comments"}),s.jsx("div",{className:"space-y-3",children:U.comments.map(M=>s.jsxs("div",{className:"bg-gray-50 dark:bg-gray-700 p-3 rounded-lg",children:[s.jsxs("div",{className:"flex justify-between items-start mb-2",children:[s.jsxs("div",{className:"flex items-center space-x-2",children:[s.jsx("span",{className:"font-medium text-gray-900 dark:text-white",children:M.author_name}),s.jsx("span",{className:`text-xs px-2 py-1 rounded ${M.is_internal?"bg-blue-100 text-blue-800 dark:bg-blue-900 dark:text-blue-200":"bg-green-100 text-green-800 dark:bg-green-900 dark:text-green-200"}`,children:M.is_internal?"Internal":"Public"})]}),s.jsx("span",{className:"text-xs text-gray-500 dark:text-gray-400",children:L(M.created_at)})]}),s.jsx("p",{className:"text-gray-700 dark:text-gray-300 text-sm",children:M.content})]},M.id))})]}),s.jsxs("div",{children:[s.jsx("h4",{className:"text-md font-medium text-gray-900 dark:text-white mb-3",children:"Add Comment"}),s.jsxs("div",{className:"space-y-3",children:[s.jsx("textarea",{value:Zr.content,onChange:M=>Nr({...Zr,content:M.target.value}),rows:3,className:"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent dark:bg-gray-700 dark:text-white",placeholder:"Add a comment..."}),s.jsxs("div",{className:"flex items-center",children:[s.jsx("input",{type:"checkbox",id:"is_internal",checked:Zr.is_internal,onChange:M=>Nr({...Zr,is_internal:M.target.checked}),className:"h-4 w-4 text-blue-600 focus:ring-blue-500 border-gray-300 rounded"}),s.jsx("label",{htmlFor:"is_internal",className:"ml-2 block text-sm text-gray-700 dark:text-gray-300",children:"Internal comment (not visible to customer)"})]}),s.jsx("button",{onClick:()=>xa(U.id),disabled:!Zr.content||h,className:"px-4 py-2 bg-blue-600 hover:bg-blue-700 disabled:bg-gray-400 text-white rounded-lg transition-colors",children:h?"Adding...":"Add Comment"})]})]}),s.jsxs("div",{className:"flex justify-end space-x-3 pt-4 border-t border-gray-200 dark:border-gray-700",children:[s.jsx("button",{onClick:()=>ue(!1),className:"px-4 py-2 text-gray-700 dark:text-gray-300 bg-gray-100 dark:bg-gray-700 hover:bg-gray-200 dark:hover:bg-gray-600 rounded-lg transition-colors",children:"Close"}),!U.assigned_to_id&&s.jsx("button",{onClick:()=>{ue(!1),V(!0)},className:"px-4 py-2 bg-green-600 hover:bg-green-700 text-white rounded-lg transition-colors",children:"Assign Ticket"}),(U.status==="open"||U.status==="in_progress")&&s.jsx("button",{onClick:()=>{ue(!1),ie(!0)},className:"px-4 py-2 bg-blue-600 hover:bg-blue-700 text-white rounded-lg transition-colors",children:"Resolve Ticket"})]})]})}),s.jsx(Ft,{open:K,onClose:()=>J(!1),title:"Edit Knowledge Base Article",animationType:"scale",size:"lg",children:s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Title"}),s.jsx("input",{type:"text",value:at.title,onChange:M=>Mt({...at,title:M.target.value}),className:"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent dark:bg-gray-700 dark:text-white",placeholder:"Article title"})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Summary"}),s.jsx("textarea",{value:at.summary,onChange:M=>Mt({...at,summary:M.target.value}),rows:2,className:"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent dark:bg-gray-700 dark:text-white",placeholder:"Brief summary of the article"})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Content"}),s.jsx("textarea",{value:at.content,onChange:M=>Mt({...at,content:M.target.value}),rows:6,className:"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent dark:bg-gray-700 dark:text-white",placeholder:"Article content (markdown supported)"})]}),s.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Category"}),s.jsxs("select",{value:at.category,onChange:M=>Mt({...at,category:M.target.value}),className:"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent dark:bg-gray-700 dark:text-white",children:[s.jsx("option",{value:"getting_started",children:"Getting Started"}),s.jsx("option",{value:"troubleshooting",children:"Troubleshooting"}),s.jsx("option",{value:"billing",children:"Billing"}),s.jsx("option",{value:"features",children:"Features"}),s.jsx("option",{value:"general",children:"General"})]})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Status"}),s.jsxs("select",{value:at.status,onChange:M=>Mt({...at,status:M.target.value}),className:"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent dark:bg-gray-700 dark:text-white",children:[s.jsx("option",{value:"draft",children:"Draft"}),s.jsx("option",{value:"published",children:"Published"}),s.jsx("option",{value:"archived",children:"Archived"})]})]})]}),s.jsxs("div",{className:"flex items-center",children:[s.jsx("input",{type:"checkbox",id:"edit_featured",checked:at.featured,onChange:M=>Mt({...at,featured:M.target.checked}),className:"h-4 w-4 text-blue-600 focus:ring-blue-500 border-gray-300 rounded"}),s.jsx("label",{htmlFor:"edit_featured",className:"ml-2 block text-sm text-gray-700 dark:text-gray-300",children:"Featured article"})]}),s.jsxs("div",{className:"flex justify-end space-x-3 pt-4",children:[s.jsx("button",{onClick:()=>J(!1),className:"px-4 py-2 text-gray-700 dark:text-gray-300 bg-gray-100 dark:bg-gray-700 hover:bg-gray-200 dark:hover:bg-gray-600 rounded-lg transition-colors",children:"Cancel"}),s.jsx("button",{onClick:xi,disabled:h||!at.title||!at.content,className:"px-4 py-2 bg-blue-600 hover:bg-blue-700 disabled:bg-gray-400 text-white rounded-lg transition-colors",children:h?"Updating...":"Update Article"})]})]})}),s.jsx(Ft,{open:se,onClose:()=>xe(!1),title:"Delete Knowledge Base Article",animationType:"scale",size:"md",children:s.jsxs("div",{className:"text-center",children:[s.jsx(Nd,{className:"w-12 h-12 text-red-500 mx-auto mb-4"}),s.jsxs("p",{className:"text-gray-600 dark:text-gray-400 mb-6",children:['Are you sure you want to delete "',D?.title,'"? This action cannot be undone.']}),s.jsxs("div",{className:"flex justify-end space-x-3",children:[s.jsx("button",{onClick:()=>xe(!1),className:"px-4 py-2 text-gray-700 dark:text-gray-300 bg-gray-100 dark:bg-gray-700 hover:bg-gray-200 dark:hover:bg-gray-600 rounded-lg transition-colors",children:"Cancel"}),s.jsx("button",{onClick:ga,disabled:h,className:"px-4 py-2 bg-red-600 hover:bg-red-700 disabled:bg-gray-400 text-white rounded-lg transition-colors",children:h?"Deleting...":"Delete Article"})]})]})}),s.jsx(Ft,{open:Mn,onClose:()=>vt(!1),title:"Error",animationType:"scale",size:"sm",children:s.jsxs("div",{className:"text-center",children:[s.jsx(Nd,{className:"w-12 h-12 text-red-500 mx-auto mb-4"}),s.jsx("p",{className:"text-gray-600 dark:text-gray-400",children:ur})]})})]})})},wTe=()=>{const[e,t]=v.useState("overview"),[r,n]=v.useState(null),[a,i]=v.useState([]),[l,c]=v.useState([]),[d,f]=v.useState([]),[h,p]=v.useState(!0),[g,y]=v.useState(null),b=async()=>{try{p(!0),y(null);const C=await Ee("/api/sentiment-analysis/overview",{method:"GET"});if(C.error)throw new Error(C.error);if(n(C),e==="tickets"){const O=await Ee("/api/sentiment-analysis/support-tickets",{method:"GET"});i(O.tickets||[])}else if(e==="chats"){const O=await Ee("/api/sentiment-analysis/chat-messages",{method:"GET"});c(O.messages||[])}else if(e==="activities"){const O=await Ee("/api/sentiment-analysis/activities",{method:"GET"});f(O.activities||[])}}catch(C){console.error("Error fetching sentiment data:",C),y("Failed to fetch sentiment analysis data")}finally{p(!1)}};v.useEffect(()=>{b()},[e]);const w=C=>{switch(C){case"positive":return"#10b981";case"negative":return"#ef4444";case"neutral":return"#6b7280";default:return"#6b7280"}},j=C=>{switch(C){case"positive":return"";case"negative":return"";case"neutral":return"";default:return""}},S=C=>{switch(C){case"positive":return s.jsx(Lt,{className:"w-5 h-5 text-green-500"});case"negative":return s.jsx(Nd,{className:"w-5 h-5 text-red-500"});case"neutral":return s.jsx(bl,{className:"w-5 h-5 text-gray-500"});default:return s.jsx(bl,{className:"w-5 h-5 text-gray-500"})}},_=C=>new Date(C).toLocaleDateString("en-US",{year:"numeric",month:"short",day:"numeric",hour:"2-digit",minute:"2-digit"}),E=(C,O=100)=>C.length<=O?C:C.substring(0,O)+"...",T=r?[{category:"Support Tickets",positive:r.support_tickets?.positive||0,negative:r.support_tickets?.negative||0,neutral:r.support_tickets?.neutral||0},{category:"Chat Messages",positive:r.chat_messages?.positive||0,negative:r.chat_messages?.negative||0,neutral:r.chat_messages?.neutral||0},{category:"Activities",positive:r.activities?.positive||0,negative:r.activities?.negative||0,neutral:r.activities?.neutral||0}]:[],A=r?[{name:"Positive",value:(r.support_tickets?.positive||0)+(r.chat_messages?.positive||0)+(r.activities?.positive||0),color:"#10b981"},{name:"Negative",value:(r.support_tickets?.negative||0)+(r.chat_messages?.negative||0)+(r.activities?.negative||0),color:"#ef4444"},{name:"Neutral",value:(r.support_tickets?.neutral||0)+(r.chat_messages?.neutral||0)+(r.activities?.neutral||0),color:"#6b7280"}]:[];return h?s.jsx("div",{className:"p-6",children:s.jsx("div",{className:"flex items-center justify-center h-64",children:s.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-600"})})}):g?s.jsx("div",{className:"p-6",children:s.jsx("div",{className:"bg-red-50 border border-red-200 rounded-lg p-4",children:s.jsxs("div",{className:"flex items-center",children:[s.jsx(Nd,{className:"w-5 h-5 text-red-500 mr-2"}),s.jsx("span",{className:"text-red-700",children:g})]})})}):s.jsxs("div",{className:"p-6",children:[s.jsxs("div",{className:"mb-6",children:[s.jsxs("div",{className:"flex items-center mb-2",children:[s.jsx(Vr,{className:"w-8 h-8 text-blue-600 mr-3"}),s.jsx("h1",{className:"text-3xl font-bold text-gray-900",children:"Sentiment Analysis"})]}),s.jsx("p",{className:"text-gray-600",children:"Analyze customer sentiment across support tickets, chats, and activities"})]}),r&&s.jsx("div",{className:"mb-6",children:s.jsx("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200 p-6",children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{children:[s.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-2",children:"Overall Sentiment"}),s.jsxs("div",{className:"flex items-center",children:[s.jsx("span",{className:"text-4xl font-bold mr-3",children:j(r.overall_label)}),s.jsxs("div",{children:[s.jsx("div",{className:"text-2xl font-bold",style:{color:w(r.overall_label)},children:r.overall_label.toUpperCase()}),s.jsxs("div",{className:"text-sm text-gray-600",children:["Score: ",r.overall_score.toFixed(2)]})]})]})]}),s.jsxs("div",{className:"text-right",children:[s.jsx("div",{className:"text-sm text-gray-600 mb-1",children:"Total Interactions"}),s.jsx("div",{className:"text-2xl font-bold text-gray-900",children:(r.support_tickets?.count||0)+(r.chat_messages?.count||0)+(r.activities?.count||0)})]})]})})}),s.jsx("div",{className:"mb-6",children:s.jsx("div",{className:"border-b border-gray-200",children:s.jsx("nav",{className:"-mb-px flex space-x-8",children:[{id:"overview",label:"Overview",icon:s.jsx(Pa,{className:"w-4 h-4"})},{id:"tickets",label:"Support Tickets",icon:s.jsx($0,{className:"w-4 h-4"})},{id:"chats",label:"Chat Messages",icon:s.jsx(dh,{className:"w-4 h-4"})},{id:"activities",label:"Activities",icon:s.jsx(ch,{className:"w-4 h-4"})}].map(C=>s.jsxs("button",{onClick:()=>t(C.id),className:`flex items-center py-2 px-1 border-b-2 font-medium text-sm ${e===C.id?"border-blue-500 text-blue-600":"border-transparent text-gray-500 hover:text-gray-700 hover:border-gray-300"}`,children:[C.icon,s.jsx("span",{className:"ml-2",children:C.label})]},C.id))})})}),e==="overview"&&r&&s.jsxs("div",{className:"space-y-6",children:[s.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[s.jsxs("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200 p-6",children:[s.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Sentiment Distribution"}),s.jsx(Ai,{width:"100%",height:300,children:s.jsxs(R0,{data:T,children:[s.jsx(Ic,{strokeDasharray:"3 3"}),s.jsx(go,{dataKey:"category"}),s.jsx(xo,{}),s.jsx(Ei,{}),s.jsx(Do,{}),s.jsx(cl,{dataKey:"positive",stackId:"a",fill:"#10b981",name:"Positive"}),s.jsx(cl,{dataKey:"neutral",stackId:"a",fill:"#6b7280",name:"Neutral"}),s.jsx(cl,{dataKey:"negative",stackId:"a",fill:"#ef4444",name:"Negative"})]})})]}),s.jsxs("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200 p-6",children:[s.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Overall Sentiment Breakdown"}),s.jsx(Ai,{width:"100%",height:300,children:s.jsxs(mx,{children:[s.jsx(Rd,{data:A,cx:"50%",cy:"50%",labelLine:!1,label:({name:C,percent:O})=>`${C} ${((O||0)*100).toFixed(0)}%`,outerRadius:80,fill:"#8884d8",dataKey:"value",children:A.map((C,O)=>s.jsx(Io,{fill:C.color},`cell-${O}`))}),s.jsx(Ei,{})]})})]})]}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:[s.jsx("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200 p-6",children:s.jsxs("div",{className:"flex items-center",children:[s.jsx($0,{className:"w-8 h-8 text-blue-600 mr-3"}),s.jsxs("div",{children:[s.jsx("h4",{className:"text-lg font-semibold text-gray-900",children:"Support Tickets"}),s.jsxs("div",{className:"text-sm text-gray-600",children:[r.support_tickets?.positive||0," positive, ",r.support_tickets?.negative||0," negative, ",r.support_tickets?.neutral||0," neutral"]})]})]})}),s.jsx("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200 p-6",children:s.jsxs("div",{className:"flex items-center",children:[s.jsx(dh,{className:"w-8 h-8 text-green-600 mr-3"}),s.jsxs("div",{children:[s.jsx("h4",{className:"text-lg font-semibold text-gray-900",children:"Chat Messages"}),s.jsxs("div",{className:"text-sm text-gray-600",children:[r.chat_messages?.positive||0," positive, ",r.chat_messages?.negative||0," negative, ",r.chat_messages?.neutral||0," neutral"]})]})]})}),s.jsx("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200 p-6",children:s.jsxs("div",{className:"flex items-center",children:[s.jsx(ch,{className:"w-8 h-8 text-purple-600 mr-3"}),s.jsxs("div",{children:[s.jsx("h4",{className:"text-lg font-semibold text-gray-900",children:"Activities"}),s.jsxs("div",{className:"text-sm text-gray-600",children:[r.activities?.positive||0," positive, ",r.activities?.negative||0," negative, ",r.activities?.neutral||0," neutral"]})]})]})})]})]}),e==="tickets"&&s.jsxs("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200",children:[s.jsxs("div",{className:"p-6 border-b border-gray-200",children:[s.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:"Support Ticket Sentiment Analysis"}),s.jsx("p",{className:"text-sm text-gray-600 mt-1",children:"Detailed sentiment analysis for support tickets"})]}),s.jsx("div",{className:"overflow-x-auto",children:s.jsxs("table",{className:"min-w-full divide-y divide-gray-200",children:[s.jsx("thead",{className:"bg-gray-50",children:s.jsxs("tr",{children:[s.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Ticket"}),s.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Title"}),s.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Sentiment"}),s.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Status"}),s.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Created"})]})}),s.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:a.map(C=>s.jsxs("tr",{className:"hover:bg-gray-50",children:[s.jsxs("td",{className:"px-6 py-4 whitespace-nowrap text-sm font-medium text-gray-900",children:["#",C.ticket_number]}),s.jsx("td",{className:"px-6 py-4 text-sm text-gray-900",children:s.jsxs("div",{className:"max-w-xs",children:[s.jsx("div",{className:"font-medium",children:C.title}),s.jsx("div",{className:"text-gray-500 text-xs mt-1",children:E(C.description,80)})]})}),s.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:s.jsxs("div",{className:"flex items-center",children:[S(C.sentiment_label),s.jsx("span",{className:"ml-2 text-sm font-medium",style:{color:w(C.sentiment_label)},children:C.sentiment_label}),s.jsxs("span",{className:"ml-2 text-xs text-gray-500",children:["(",C.sentiment_score.toFixed(2),")"]})]})}),s.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:s.jsx("span",{className:`inline-flex px-2 py-1 text-xs font-semibold rounded-full ${C.status==="open"?"bg-green-100 text-green-800":C.status==="closed"?"bg-gray-100 text-gray-800":"bg-yellow-100 text-yellow-800"}`,children:C.status})}),s.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:_(C.created_at)})]},C.ticket_id))})]})})]}),e==="chats"&&s.jsxs("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200",children:[s.jsxs("div",{className:"p-6 border-b border-gray-200",children:[s.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:"Chat Message Sentiment Analysis"}),s.jsx("p",{className:"text-sm text-gray-600 mt-1",children:"Detailed sentiment analysis for chat messages"})]}),s.jsx("div",{className:"overflow-x-auto",children:s.jsxs("table",{className:"min-w-full divide-y divide-gray-200",children:[s.jsx("thead",{className:"bg-gray-50",children:s.jsxs("tr",{children:[s.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Room"}),s.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Message"}),s.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Sentiment"}),s.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Created"})]})}),s.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:l.map(C=>s.jsxs("tr",{className:"hover:bg-gray-50",children:[s.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm font-medium text-gray-900",children:C.room_name}),s.jsx("td",{className:"px-6 py-4 text-sm text-gray-900",children:s.jsx("div",{className:"max-w-xs",children:E(C.content,100)})}),s.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:s.jsxs("div",{className:"flex items-center",children:[S(C.sentiment_label),s.jsx("span",{className:"ml-2 text-sm font-medium",style:{color:w(C.sentiment_label)},children:C.sentiment_label}),s.jsxs("span",{className:"ml-2 text-xs text-gray-500",children:["(",C.sentiment_score.toFixed(2),")"]})]})}),s.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:_(C.created_at)})]},C.message_id))})]})})]}),e==="activities"&&s.jsxs("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200",children:[s.jsxs("div",{className:"p-6 border-b border-gray-200",children:[s.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:"Activity Sentiment Analysis"}),s.jsx("p",{className:"text-sm text-gray-600 mt-1",children:"Detailed sentiment analysis for activities"})]}),s.jsx("div",{className:"overflow-x-auto",children:s.jsxs("table",{className:"min-w-full divide-y divide-gray-200",children:[s.jsx("thead",{className:"bg-gray-50",children:s.jsxs("tr",{children:[s.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Type"}),s.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Message"}),s.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Sentiment"}),s.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Created"})]})}),s.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:d.map(C=>s.jsxs("tr",{className:"hover:bg-gray-50",children:[s.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm font-medium text-gray-900",children:C.type}),s.jsx("td",{className:"px-6 py-4 text-sm text-gray-900",children:s.jsx("div",{className:"max-w-xs",children:E(C.message,100)})}),s.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:s.jsxs("div",{className:"flex items-center",children:[S(C.sentiment_label),s.jsx("span",{className:"ml-2 text-sm font-medium",style:{color:w(C.sentiment_label)},children:C.sentiment_label}),s.jsxs("span",{className:"ml-2 text-xs text-gray-500",children:["(",C.sentiment_score.toFixed(2),")"]})]})}),s.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:_(C.created_at)})]},C.activity_id))})]})})]})]})};function jTe(){const[e,t]=v.useState([]),[r,n]=v.useState(null),[a,i]=v.useState([]),[l,c]=v.useState(!0),[d,f]=v.useState(null);v.useEffect(()=>{h()},[]);const h=async()=>{try{c(!0);const S=await Ee("/api/customer-segments");t(S)}catch(S){console.error("Error fetching segments:",S)}finally{c(!1)}},p=async S=>{try{const _=await Ee(`/api/customer-segments/${S}/members`);i(_)}catch(_){console.error("Error fetching segment members:",_)}},g=async S=>{try{f(S),await Ee(`/api/customer-segments/${S}/refresh`,"POST"),await h(),r?.id===S&&await p(S)}catch(_){console.error("Error refreshing segment:",_)}finally{f(null)}},y=async S=>{n(S),await p(S.id)},b=S=>{switch(S){case"behavioral":return"bg-blue-100 text-blue-800 dark:bg-blue-900/30 dark:text-blue-400";case"demographic":return"bg-green-100 text-green-800 dark:bg-green-900/30 dark:text-green-400";case"transactional":return"bg-purple-100 text-purple-800 dark:bg-purple-900/30 dark:text-purple-400";case"predictive":return"bg-orange-100 text-orange-800 dark:bg-orange-900/30 dark:text-orange-400";default:return"bg-gray-100 text-gray-800 dark:bg-gray-900/30 dark:text-gray-400"}},w=S=>S<30?"text-green-600":S<70?"text-yellow-600":"text-red-600",j=S=>S>70?"text-green-600":S>40?"text-yellow-600":"text-red-600";return l?s.jsx("div",{className:"p-6",children:s.jsx("div",{className:"flex items-center justify-center h-64",children:s.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-purple-600"})})}):s.jsxs("div",{className:"p-6",children:[s.jsxs("div",{className:"mb-8",children:[s.jsxs("div",{className:"flex items-center gap-3 mb-4",children:[s.jsx("div",{className:"p-2 bg-gradient-to-br from-purple-100 to-pink-100 dark:from-purple-900/30 dark:to-pink-900/30 rounded-xl",children:s.jsx(jr,{className:"w-8 h-8 text-purple-600"})}),s.jsxs("div",{children:[s.jsx("h1",{className:"text-3xl font-bold text-gray-900 dark:text-white",children:"AI Customer Segmentation"}),s.jsx("p",{className:"text-gray-600 dark:text-gray-300",children:"Automatically segment customers based on behavior, value, and engagement patterns"})]})]}),s.jsx("div",{className:"bg-gradient-to-r from-purple-50 to-pink-50 dark:from-purple-900/20 dark:to-pink-900/20 border border-purple-200 dark:border-purple-700 rounded-lg p-4 mb-6",children:s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx(Kc,{className:"w-6 h-6 text-purple-600"}),s.jsxs("div",{children:[s.jsx("h3",{className:"font-semibold text-purple-800 dark:text-purple-300",children:"AI-Powered Segmentation"}),s.jsx("p",{className:"text-purple-700 dark:text-purple-400 text-sm",children:"Our AI continuously analyzes customer data to create meaningful segments with actionable insights and recommendations."})]})]})})]}),s.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6",children:[s.jsx("div",{className:"lg:col-span-2",children:s.jsxs("div",{className:"bg-white dark:bg-gray-900 rounded-xl shadow-lg border border-gray-200 dark:border-gray-700 p-6",children:[s.jsxs("div",{className:"flex items-center justify-between mb-6",children:[s.jsx("h2",{className:"text-xl font-semibold text-gray-900 dark:text-white",children:"Customer Segments"}),s.jsxs("div",{className:"text-sm text-gray-500",children:[e.length," segments"]})]}),s.jsx("div",{className:"space-y-4",children:e.map(S=>s.jsxs("div",{className:`p-4 rounded-lg border-2 cursor-pointer transition-all duration-200 ${r?.id===S.id?"border-purple-500 bg-purple-50 dark:bg-purple-900/20":"border-gray-200 dark:border-gray-700 hover:border-purple-300 dark:hover:border-purple-600"}`,onClick:()=>y(S),children:[s.jsxs("div",{className:"flex items-center justify-between mb-3",children:[s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx("div",{className:"p-2 bg-gradient-to-br from-purple-100 to-pink-100 dark:from-purple-900/30 dark:to-pink-900/30 rounded-lg",children:s.jsx(gK,{className:"w-5 h-5 text-purple-600"})}),s.jsxs("div",{children:[s.jsx("h3",{className:"font-semibold text-gray-900 dark:text-white",children:S.name}),s.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-300",children:S.description})]})]}),s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx("span",{className:`px-2 py-1 rounded-full text-xs font-medium ${b(S.segment_type)}`,children:S.segment_type}),s.jsx("button",{onClick:_=>{_.stopPropagation(),g(S.id)},disabled:d===S.id,className:"p-1 hover:bg-gray-100 dark:hover:bg-gray-800 rounded transition-colors",children:s.jsx(Ds,{className:`w-4 h-4 ${d===S.id?"animate-spin":""}`})})]})]}),s.jsxs("div",{className:"grid grid-cols-4 gap-4 text-sm",children:[s.jsxs("div",{className:"text-center",children:[s.jsx("div",{className:"font-semibold text-gray-900 dark:text-white",children:S.customer_count}),s.jsx("div",{className:"text-gray-500",children:"Customers"})]}),s.jsxs("div",{className:"text-center",children:[s.jsxs("div",{className:"font-semibold text-gray-900 dark:text-white",children:["$",S.avg_deal_value.toLocaleString()]}),s.jsx("div",{className:"text-gray-500",children:"Avg Deal"})]}),s.jsxs("div",{className:"text-center",children:[s.jsxs("div",{className:"font-semibold text-gray-900 dark:text-white",children:[S.conversion_rate.toFixed(1),"%"]}),s.jsx("div",{className:"text-gray-500",children:"Conversion"})]}),s.jsxs("div",{className:"text-center",children:[s.jsxs("div",{className:"font-semibold text-gray-900 dark:text-white",children:["$",S.total_deal_value.toLocaleString()]}),s.jsx("div",{className:"text-gray-500",children:"Total Value"})]})]})]},S.id))})]})}),s.jsx("div",{className:"lg:col-span-1",children:r?s.jsxs("div",{className:"space-y-6",children:[s.jsxs("div",{className:"bg-white dark:bg-gray-900 rounded-xl shadow-lg border border-gray-200 dark:border-gray-700 p-6",children:[s.jsx("h3",{className:"text-lg font-semibold text-gray-900 dark:text-white mb-4",children:"Segment Overview"}),s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{className:"flex justify-between items-center",children:[s.jsx("span",{className:"text-gray-600 dark:text-gray-300",children:"Risk Score"}),s.jsxs("span",{className:`font-semibold ${w(r.risk_score)}`,children:[r.risk_score.toFixed(0),"/100"]})]}),s.jsxs("div",{className:"flex justify-between items-center",children:[s.jsx("span",{className:"text-gray-600 dark:text-gray-300",children:"Opportunity Score"}),s.jsxs("span",{className:`font-semibold ${j(r.opportunity_score)}`,children:[r.opportunity_score.toFixed(0),"/100"]})]}),s.jsxs("div",{className:"flex justify-between items-center",children:[s.jsx("span",{className:"text-gray-600 dark:text-gray-300",children:"Last Updated"}),s.jsx("span",{className:"text-sm text-gray-500",children:new Date(r.last_updated).toLocaleDateString()})]})]})]}),r.insights&&s.jsxs("div",{className:"bg-white dark:bg-gray-900 rounded-xl shadow-lg border border-gray-200 dark:border-gray-700 p-6",children:[s.jsxs("h3",{className:"text-lg font-semibold text-gray-900 dark:text-white mb-4 flex items-center gap-2",children:[s.jsx(Kc,{className:"w-5 h-5 text-purple-600"}),"AI Insights"]}),s.jsxs("div",{className:"space-y-3",children:[r.insights.key_characteristics&&s.jsxs("div",{className:"p-3 bg-blue-50 dark:bg-blue-900/20 rounded-lg",children:[s.jsx("div",{className:"font-medium text-blue-800 dark:text-blue-300",children:"Key Characteristics:"}),s.jsx("div",{className:"text-sm text-blue-700 dark:text-blue-300 mt-1",children:r.insights.key_characteristics})]}),r.insights.performance_summary&&s.jsxs("div",{className:"p-3 bg-green-50 dark:bg-green-900/20 rounded-lg",children:[s.jsx("div",{className:"font-medium text-green-800 dark:text-green-300",children:"Performance Summary:"}),s.jsx("div",{className:"text-sm text-green-700 dark:text-green-300 mt-1",children:r.insights.performance_summary})]}),r.insights.trends&&Array.isArray(r.insights.trends)&&s.jsxs("div",{className:"p-3 bg-purple-50 dark:bg-purple-900/20 rounded-lg",children:[s.jsx("div",{className:"font-medium text-purple-800 dark:text-purple-300",children:"Trends:"}),s.jsx("ul",{className:"text-sm text-purple-700 dark:text-purple-300 mt-1 space-y-1",children:r.insights.trends.map((S,_)=>s.jsxs("li",{children:[" ",S]},_))})]})]})]}),r.recommendations&&r.recommendations.length>0&&s.jsxs("div",{className:"bg-white dark:bg-gray-900 rounded-xl shadow-lg border border-gray-200 dark:border-gray-700 p-6",children:[s.jsxs("h3",{className:"text-lg font-semibold text-gray-900 dark:text-white mb-4 flex items-center gap-2",children:[s.jsx(Qc,{className:"w-5 h-5 text-yellow-600"}),"Recommendations"]}),s.jsx("ul",{className:"space-y-2",children:r.recommendations.map((S,_)=>s.jsxs("li",{className:"flex items-start gap-2",children:[s.jsx("div",{className:"w-1.5 h-1.5 bg-yellow-500 rounded-full mt-2 flex-shrink-0"}),s.jsx("span",{className:"text-sm text-gray-600 dark:text-gray-300",children:S})]},_))})]}),s.jsxs("div",{className:"bg-white dark:bg-gray-900 rounded-xl shadow-lg border border-gray-200 dark:border-gray-700 p-6",children:[s.jsxs("h3",{className:"text-lg font-semibold text-gray-900 dark:text-white mb-4 flex items-center gap-2",children:[s.jsx(gn,{className:"w-5 h-5 text-blue-600"}),"Segment Members (",a.length,")"]}),s.jsx("div",{className:"space-y-3 max-h-64 overflow-y-auto",children:a.map(S=>s.jsx("div",{className:"p-3 bg-gray-50 dark:bg-gray-800 rounded-lg",children:s.jsxs("div",{className:"flex justify-between items-start",children:[s.jsxs("div",{children:[s.jsx("div",{className:"font-medium text-gray-900 dark:text-white",children:S.contact_name}),s.jsx("div",{className:"text-sm text-gray-600 dark:text-gray-300",children:S.contact_company}),s.jsx("div",{className:"text-xs text-gray-500",children:S.contact_email})]}),s.jsxs("div",{className:"text-right",children:[s.jsxs("div",{className:"text-sm font-medium text-gray-900 dark:text-white",children:[(S.membership_score*100).toFixed(0),"%"]}),s.jsx("div",{className:"text-xs text-gray-500",children:"Match"})]})]})},S.id))})]})]}):s.jsx("div",{className:"bg-white dark:bg-gray-900 rounded-xl shadow-lg border border-gray-200 dark:border-gray-700 p-6",children:s.jsxs("div",{className:"text-center text-gray-500 dark:text-gray-400",children:[s.jsx(jr,{className:"w-12 h-12 mx-auto mb-4 opacity-50"}),s.jsx("p",{children:"Select a segment to view details"})]})})})]})]})}const NTe=()=>{const[e,t]=v.useState([]),[r,n]=v.useState(null),[a,i]=v.useState([]),[l,c]=v.useState(null),[d,f]=v.useState(!0),[h,p]=v.useState(null);v.useEffect(()=>{g(),y()},[]);const g=async()=>{try{const T=await Ee("/api/forecasting/dashboard-insights");c(T)}catch(T){console.error("Error fetching dashboard insights:",T),p("Failed to fetch dashboard insights")}},y=async()=>{try{const T=await Ee("/api/forecasting-models");t(T)}catch(T){console.error("Error fetching models:",T),p("Failed to fetch forecasting models")}finally{f(!1)}},b=async T=>{try{const A=await Ee(`/api/forecasting-models/${T}/forecasts`);i(A)}catch(A){console.error("Error fetching model forecasts:",A),p("Failed to fetch model forecasts")}},w=async T=>{try{await Ee(`/api/forecasting-models/${T}/retrain`,"POST"),g(),y(),r&&b(r.id)}catch(A){console.error("Error retraining model:",A),p("Failed to retrain model")}},j=T=>{switch(T){case"increasing":return s.jsx(Vr,{className:"w-4 h-4 text-green-500"});case"decreasing":return s.jsx(aR,{className:"w-4 h-4 text-red-500"});default:return s.jsx(Pa,{className:"w-4 h-4 text-blue-500"})}},S=T=>{switch(T){case"increasing":return"text-green-600 bg-green-100";case"decreasing":return"text-red-600 bg-red-100";default:return"text-blue-600 bg-blue-100"}},_=(T,A)=>A==="revenue"||A==="pipeline"?new Intl.NumberFormat("en-US",{style:"currency",currency:"USD",minimumFractionDigits:0,maximumFractionDigits:0}).format(T):A==="customer_growth"?Math.round(T).toString():A==="churn"?`${(T*100).toFixed(1)}%`:T.toFixed(2),E=T=>new Date(T).toLocaleDateString("en-US",{year:"numeric",month:"short",day:"numeric"});return d?s.jsx("div",{className:"flex items-center justify-center h-64",children:s.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-blue-600"})}):h?s.jsx("div",{className:"bg-red-50 border border-red-200 rounded-lg p-4",children:s.jsxs("div",{className:"flex items-center",children:[s.jsx(bl,{className:"w-5 h-5 text-red-500 mr-2"}),s.jsx("span",{className:"text-red-700",children:h})]})}):s.jsxs("div",{className:"space-y-6",children:[s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{children:[s.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:"Advanced Forecasting"}),s.jsx("p",{className:"text-gray-600 mt-1",children:"AI-powered time-series forecasting for revenue, pipeline, and customer growth"})]}),s.jsxs("button",{className:"bg-blue-600 text-white px-4 py-2 rounded-lg hover:bg-blue-700 flex items-center",children:[s.jsx(Cr,{className:"w-4 h-4 mr-2"}),"New Model"]})]}),l&&s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6",children:[s.jsx("div",{className:"bg-white p-6 rounded-lg shadow-sm border",children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{children:[s.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Total Models"}),s.jsx("p",{className:"text-2xl font-bold text-gray-900",children:l.summary.total_models})]}),s.jsx(Pa,{className:"w-8 h-8 text-blue-500"})]})}),s.jsx("div",{className:"bg-white p-6 rounded-lg shadow-sm border",children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{children:[s.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Active Forecasts"}),s.jsx("p",{className:"text-2xl font-bold text-gray-900",children:l.summary.active_forecasts})]}),s.jsx(Aa,{className:"w-8 h-8 text-green-500"})]})}),s.jsx("div",{className:"bg-white p-6 rounded-lg shadow-sm border",children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{children:[s.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Avg Accuracy"}),s.jsxs("p",{className:"text-2xl font-bold text-gray-900",children:[(l.summary.average_accuracy*100).toFixed(1),"%"]})]}),s.jsx(Lt,{className:"w-8 h-8 text-green-500"})]})}),s.jsx("div",{className:"bg-white p-6 rounded-lg shadow-sm border",children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{children:[s.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Last Updated"}),s.jsx("p",{className:"text-sm text-gray-900",children:E(l.summary.last_updated)})]}),s.jsx(UN,{className:"w-8 h-8 text-purple-500"})]})})]}),l?.trend_analysis&&s.jsxs("div",{className:"bg-white p-6 rounded-lg shadow-sm border",children:[s.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Trend Analysis"}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:[s.jsxs("div",{className:"text-center",children:[s.jsxs("div",{className:`inline-flex items-center px-3 py-1 rounded-full text-sm font-medium ${S(l.trend_analysis.trend)}`,children:[j(l.trend_analysis.trend),s.jsx("span",{className:"ml-2 capitalize",children:l.trend_analysis.trend})]}),s.jsx("p",{className:"text-sm text-gray-600 mt-2",children:"Overall Trend"})]}),s.jsxs("div",{className:"text-center",children:[s.jsxs("p",{className:"text-2xl font-bold text-gray-900",children:[(l.trend_analysis.average_accuracy*100).toFixed(1),"%"]}),s.jsx("p",{className:"text-sm text-gray-600",children:"Average Accuracy"})]}),s.jsxs("div",{className:"text-center",children:[s.jsx("p",{className:"text-2xl font-bold text-gray-900 capitalize",children:l.trend_analysis.confidence}),s.jsx("p",{className:"text-sm text-gray-600",children:"Confidence Level"})]})]}),l.trend_analysis.insights.length>0&&s.jsxs("div",{className:"mt-4",children:[s.jsx("h4",{className:"text-sm font-medium text-gray-900 mb-2",children:"Key Insights"}),s.jsx("ul",{className:"space-y-1",children:l.trend_analysis.insights.map((T,A)=>s.jsxs("li",{className:"text-sm text-gray-600 flex items-center",children:[s.jsx(Lt,{className:"w-4 h-4 text-green-500 mr-2"}),T]},A))})]})]}),s.jsx("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:e.map(T=>s.jsxs("div",{className:"bg-white p-6 rounded-lg shadow-sm border hover:shadow-md transition-shadow",children:[s.jsxs("div",{className:"flex items-start justify-between mb-4",children:[s.jsxs("div",{children:[s.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:T.name}),s.jsx("p",{className:"text-sm text-gray-600 mt-1",children:T.description})]}),s.jsxs("div",{className:"flex space-x-2",children:[s.jsx("button",{onClick:()=>{n(T),b(T.id)},className:"p-2 text-gray-400 hover:text-blue-600",title:"View Forecasts",children:s.jsx(gn,{className:"w-4 h-4"})}),s.jsx("button",{onClick:()=>w(T.id),className:"p-2 text-gray-400 hover:text-green-600",title:"Retrain Model",children:s.jsx(Ds,{className:"w-4 h-4"})})]})]}),s.jsxs("div",{className:"grid grid-cols-2 gap-4 mb-4",children:[s.jsxs("div",{children:[s.jsx("p",{className:"text-xs text-gray-500 uppercase tracking-wide",children:"Algorithm"}),s.jsx("p",{className:"text-sm font-medium text-gray-900",children:T.model_algorithm})]}),s.jsxs("div",{children:[s.jsx("p",{className:"text-xs text-gray-500 uppercase tracking-wide",children:"Horizon"}),s.jsx("p",{className:"text-sm font-medium text-gray-900",children:T.forecast_horizon})]})]}),s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{className:"flex items-center space-x-4",children:[s.jsxs("div",{className:"text-center",children:[s.jsx("p",{className:"text-xs text-gray-500",children:"Accuracy"}),s.jsxs("p",{className:"text-sm font-semibold text-green-600",children:[(T.accuracy_metrics.overall_accuracy*100).toFixed(1),"%"]})]}),s.jsxs("div",{className:"text-center",children:[s.jsx("p",{className:"text-xs text-gray-500",children:"Last Trained"}),s.jsx("p",{className:"text-sm text-gray-900",children:E(T.last_trained)})]})]}),s.jsx("div",{className:`px-2 py-1 rounded-full text-xs font-medium ${T.is_active?"bg-green-100 text-green-800":"bg-gray-100 text-gray-800"}`,children:T.is_active?"Active":"Inactive"})]})]},T.id))}),r&&a.length>0&&s.jsxs("div",{className:"bg-white p-6 rounded-lg shadow-sm border",children:[s.jsxs("div",{className:"flex items-center justify-between mb-6",children:[s.jsxs("h3",{className:"text-lg font-semibold text-gray-900",children:["Forecasts for ",r.name]}),s.jsx("button",{onClick:()=>n(null),className:"text-gray-400 hover:text-gray-600",children:""})]}),s.jsx("div",{className:"overflow-x-auto",children:s.jsxs("table",{className:"min-w-full divide-y divide-gray-200",children:[s.jsx("thead",{className:"bg-gray-50",children:s.jsxs("tr",{children:[s.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Period"}),s.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Forecast Date"}),s.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Forecasted Value"}),s.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Confidence Interval"}),s.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Trend"}),s.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Quality Score"})]})}),s.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:a.map(T=>s.jsxs("tr",{className:"hover:bg-gray-50",children:[s.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm font-medium text-gray-900",children:T.forecast_period}),s.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-900",children:E(T.forecast_date)}),s.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-900",children:_(T.forecasted_value,r.model_type)}),s.jsxs("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-900",children:[_(T.confidence_interval_lower,r.model_type)," - ",_(T.confidence_interval_upper,r.model_type)]}),s.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:s.jsxs("div",{className:`inline-flex items-center px-2 py-1 rounded-full text-xs font-medium ${S(T.trend_direction)}`,children:[j(T.trend_direction),s.jsx("span",{className:"ml-1 capitalize",children:T.trend_direction})]})}),s.jsxs("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-900",children:[(T.forecast_quality_score*100).toFixed(1),"%"]})]},T.id))})]})}),a.length>0&&s.jsxs("div",{className:"mt-6 grid grid-cols-1 md:grid-cols-2 gap-6",children:[s.jsxs("div",{children:[s.jsx("h4",{className:"text-sm font-medium text-gray-900 mb-2",children:"Insights"}),s.jsx("div",{className:"space-y-2",children:Object.entries(a[0].insights).map(([T,A])=>s.jsxs("div",{className:"text-sm text-gray-600",children:[s.jsxs("span",{className:"font-medium capitalize",children:[T,":"]})," ",A]},T))})]}),s.jsxs("div",{children:[s.jsx("h4",{className:"text-sm font-medium text-gray-900 mb-2",children:"Recommendations"}),s.jsx("ul",{className:"space-y-1",children:a[0].recommendations.map((T,A)=>s.jsxs("li",{className:"text-sm text-gray-600 flex items-start",children:[s.jsx(Lt,{className:"w-4 h-4 text-green-500 mr-2 mt-0.5 flex-shrink-0"}),T]},A))})]})]})]})]})},nl={async getDashboard(){return Ee("/api/telephony/dashboard")},async getProviders(){return Ee("/api/telephony/providers")},async createProvider(e){return Ee("/api/telephony/providers","POST",e)},async getProvider(e){return Ee(`/api/telephony/providers/${e}`)},async updateProvider(e,t){return Ee(`/api/telephony/providers/${e}`,"PUT",t)},async deleteProvider(e){return Ee(`/api/telephony/providers/${e}`,"DELETE")},async testProviderConnection(e){return Ee(`/api/telephony/providers/${e}/test`,"POST")},async getCalls(e){const t=new URLSearchParams;e&&Object.entries(e).forEach(([n,a])=>{a!==void 0&&t.append(n,a.toString())});const r=`/api/telephony/calls${t.toString()?`?${t.toString()}`:""}`;return Ee(r)},async getCall(e){return Ee(`/api/telephony/calls/${e}`)},async updateCall(e,t){return Ee(`/api/telephony/calls/${e}`,"PUT",t)},async holdCall(e,t){return Ee(`/api/telephony/calls/${e}/hold`,"POST",t)},async transferCall(e,t){return Ee(`/api/telephony/calls/${e}/transfer`,"POST",t)},async getQueues(e){const t=e?`/api/telephony/queues?provider_id=${e}`:"/api/telephony/queues";return Ee(t)},async createQueue(e){return Ee("/api/telephony/queues","POST",e)},async getQueueMembers(e){const t=e?`/api/telephony/queues/${e}/members`:"/api/telephony/queue-members";return Ee(t)},async addQueueMember(e,t){return Ee(`/api/telephony/queues/${e}/members`,"POST",t)},async updateQueueMember(e,t,r){return Ee(`/api/telephony/queues/${e}/members/${t}`,"PUT",r)},async removeQueueMember(e,t){return Ee(`/api/telephony/queues/${e}/members/${t}`,"DELETE")},async getExtensions(e){const t=e?`/api/telephony/providers/${e}/extensions`:"/api/telephony/extensions";return Ee(t)},async createExtension(e){return Ee("/api/telephony/extensions","POST",e)},async getAnalytics(e){const t=new URLSearchParams;e&&Object.entries(e).forEach(([n,a])=>{a!==void 0&&t.append(n,a.toString())});const r=`/api/telephony/analytics${t.toString()?`?${t.toString()}`:""}`;return Ee(r)}},STe=()=>{const[e,t]=v.useState(null),[r,n]=v.useState([]),[a,i]=v.useState([]),[l,c]=v.useState([]),[d,f]=v.useState([]),[h,p]=v.useState(!0),[g,y]=v.useState(null),[b,w]=v.useState("dashboard"),[j,S]=v.useState({status:"",direction:"",dateRange:"",search:""}),[_,E]=v.useState({status:"",queue:"",search:""}),[T,A]=v.useState(!1),[C,O]=v.useState(null),[P,F]=v.useState({name:"",provider_type:"asterisk",display_name:"",host:"",port:5060,username:"",password:"",api_key:"",description:"",context:"default",caller_id_field:"CallerIDNum",dialplan_context:"from-internal",recording_path:"/var/spool/asterisk/monitor",cdr_enabled:!0,cdr_path:"/var/log/asterisk/cdr-csv",webhook_url:"",webhook_secret:"",auto_assign_calls:!0,is_active:!0,is_primary:!1,recording_enabled:!1,transcription_enabled:!1});v.useEffect(()=>{G()},[]);const G=async()=>{try{p(!0);const[D,H,B,V,le]=await Promise.all([nl.getDashboard(),nl.getCalls({limit:100}),nl.getQueues(),nl.getQueueMembers(),nl.getProviders()]);t(D),n(H),i(B),c(V),f(le),y(null)}catch(D){y("Failed to load telephony data"),console.error("Error fetching telephony data:",D)}finally{p(!1)}},W=D=>{switch(D.toLowerCase()){case"available":case"logged_in":return s.jsx(Lt,{className:"w-4 h-4 text-green-500"});case"busy":case"answered":return s.jsx(Nd,{className:"w-4 h-4 text-red-500"});case"offline":case"logged_out":return s.jsx(Nd,{className:"w-4 h-4 text-gray-400"});case"ringing":return s.jsx(Rp,{className:"w-4 h-4 text-yellow-500"});default:return s.jsx(is,{className:"w-4 h-4 text-yellow-500"})}},ee=()=>{O(null),F({name:"",provider_type:"asterisk",display_name:"",host:"",port:5060,username:"",password:"",api_key:"",description:"",context:"default",caller_id_field:"CallerIDNum",dialplan_context:"from-internal",recording_path:"/var/spool/asterisk/monitor",cdr_enabled:!0,cdr_path:"/var/log/asterisk/cdr-csv",webhook_url:"",webhook_secret:"",auto_assign_calls:!0,is_active:!0,is_primary:!1,recording_enabled:!1,transcription_enabled:!1}),A(!0)},ue=D=>{O(D),F({name:D.name,provider_type:D.provider_type,display_name:D.display_name,host:D.host,port:D.port,username:D.username||"",password:D.password||"",api_key:D.api_key||"",description:D.description||"",context:D.context||"default",caller_id_field:D.caller_id_field||"CallerIDNum",dialplan_context:D.dialplan_context||"from-internal",recording_path:D.recording_path||"/var/spool/asterisk/monitor",cdr_enabled:D.cdr_enabled!==void 0?D.cdr_enabled:!0,cdr_path:D.cdr_path||"/var/log/asterisk/cdr-csv",webhook_url:D.webhook_url||"",webhook_secret:D.webhook_secret||"",auto_assign_calls:D.auto_assign_calls!==void 0?D.auto_assign_calls:!0,is_active:D.is_active,is_primary:D.is_primary,recording_enabled:D.recording_enabled,transcription_enabled:D.transcription_enabled}),A(!0)},fe=async()=>{try{p(!0),C?await nl.updateProvider(C.id,P):await nl.createProvider(P),A(!1),G()}catch(D){console.error("Error saving provider:",D),y("Failed to save provider")}finally{p(!1)}},Q=async D=>{if(window.confirm("Are you sure you want to delete this provider?"))try{p(!0),await nl.deleteProvider(D),G()}catch(H){console.error("Error deleting provider:",H),y("Failed to delete provider")}finally{p(!1)}},K=async D=>{try{p(!0);const H=await nl.testProviderConnection(D);H.success?(y(` ${H.message}
Response time: ${H.response_time}ms`),setTimeout(()=>y(null),5e3)):(y(` ${H.message}
Error: ${H.error}`),setTimeout(()=>y(null),5e3))}catch(H){console.error("Error testing connection:",H),y(" Failed to test connection"),setTimeout(()=>y(null),5e3)}finally{p(!1)}},J=D=>{switch(D.toLowerCase()){case"available":case"logged_in":return"text-green-600 bg-green-50 border-green-200";case"busy":case"answered":return"text-red-600 bg-red-50 border-red-200";case"offline":case"logged_out":return"text-gray-600 bg-gray-50 border-gray-200";case"ringing":return"text-yellow-600 bg-yellow-50 border-yellow-200";default:return"text-blue-600 bg-blue-50 border-blue-200"}},se=D=>{switch(D.toLowerCase()){case"inbound":return s.jsx(MG,{className:"w-4 h-4 text-green-500"});case"outbound":return s.jsx(IG,{className:"w-4 h-4 text-blue-500"});case"internal":return s.jsx(_c,{className:"w-4 h-4 text-purple-500"});default:return s.jsx(Rp,{className:"w-4 h-4 text-gray-500"})}},xe=D=>{if(!D)return"-";const H=Math.floor(D/60),B=D%60;return`${H}:${B.toString().padStart(2,"0")}`},U=r.filter(D=>{if(j.status&&D.status!==j.status||j.direction&&D.direction!==j.direction)return!1;if(j.search){const H=j.search.toLowerCase();return D.caller_id?.toLowerCase().includes(H)||D.called_number?.toLowerCase().includes(H)||D.caller_name?.toLowerCase().includes(H)||D.called_name?.toLowerCase().includes(H)}return!0}),ae=l.filter(D=>{if(_.status&&D.status!==_.status)return!1;if(_.search){const H=_.search.toLowerCase();return D.member_name?.toLowerCase().includes(H)||D.user?.name?.toLowerCase().includes(H)||D.user?.email?.toLowerCase().includes(H)}return!0});return h?s.jsx("div",{className:"flex items-center justify-center h-64",children:s.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-600"})}):g?s.jsx("div",{className:"flex items-center justify-center h-64",children:s.jsxs("div",{className:"text-center",children:[s.jsx(bl,{className:"w-12 h-12 text-red-500 mx-auto mb-4"}),s.jsx("p",{className:"text-red-600",children:g}),s.jsx("button",{onClick:G,className:"mt-4 px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700",children:"Retry"})]})}):s.jsxs("div",{className:"p-6 space-y-6",children:[s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{children:[s.jsxs("h1",{className:"text-3xl font-bold text-gray-900 flex items-center gap-3",children:[s.jsx(_c,{className:"w-8 h-8 text-blue-600"}),"Call Center"]}),s.jsx("p",{className:"text-gray-600 mt-1",children:"Manage your call center operations"})]}),s.jsxs("div",{className:"flex items-center gap-4",children:[s.jsxs("button",{onClick:G,className:"px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 flex items-center gap-2",children:[s.jsx(Ds,{className:"w-4 h-4"}),"Refresh"]}),s.jsxs("button",{className:"px-4 py-2 border border-gray-300 rounded-lg hover:bg-gray-50 flex items-center gap-2",children:[s.jsx(Fs,{className:"w-4 h-4"}),"Settings"]})]})]}),s.jsx("div",{className:"border-b border-gray-200",children:s.jsx("nav",{className:"-mb-px flex space-x-8",children:[{id:"dashboard",label:"Dashboard",icon:Pa},{id:"calls",label:"Calls",icon:Rp},{id:"agents",label:"Agents",icon:jr},{id:"queues",label:"Queues",icon:JM},{id:"settings",label:"Settings",icon:Fs}].map(D=>s.jsxs("button",{onClick:()=>w(D.id),className:`py-2 px-1 border-b-2 font-medium text-sm flex items-center gap-2 ${b===D.id?"border-blue-500 text-blue-600":"border-transparent text-gray-500 hover:text-gray-700 hover:border-gray-300"}`,children:[s.jsx(D.icon,{className:"w-4 h-4"}),D.label]},D.id))})}),b==="dashboard"&&e&&s.jsxs("div",{className:"space-y-6",children:[s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-5 gap-6",children:[s.jsx("div",{className:"bg-white p-6 rounded-lg shadow-sm border border-gray-200",children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{children:[s.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Active Calls"}),s.jsx("p",{className:"text-2xl font-bold text-gray-900",children:e.active_calls})]}),s.jsx(_c,{className:"w-8 h-8 text-green-600"})]})}),s.jsx("div",{className:"bg-white p-6 rounded-lg shadow-sm border border-gray-200",children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{children:[s.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Queued Calls"}),s.jsx("p",{className:"text-2xl font-bold text-gray-900",children:e.queued_calls})]}),s.jsx(is,{className:"w-8 h-8 text-yellow-600"})]})}),s.jsx("div",{className:"bg-white p-6 rounded-lg shadow-sm border border-gray-200",children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{children:[s.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Available Agents"}),s.jsx("p",{className:"text-2xl font-bold text-gray-900",children:e.available_agents})]}),s.jsx(jr,{className:"w-8 h-8 text-blue-600"})]})}),s.jsx("div",{className:"bg-white p-6 rounded-lg shadow-sm border border-gray-200",children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{children:[s.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Busy Agents"}),s.jsx("p",{className:"text-2xl font-bold text-gray-900",children:e.busy_agents})]}),s.jsx(jr,{className:"w-8 h-8 text-red-600"})]})}),s.jsx("div",{className:"bg-white p-6 rounded-lg shadow-sm border border-gray-200",children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{children:[s.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Offline Agents"}),s.jsx("p",{className:"text-2xl font-bold text-gray-900",children:e.offline_agents})]}),s.jsx(jr,{className:"w-8 h-8 text-gray-400"})]})})]}),e.alerts&&e.alerts.length>0&&s.jsx("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200",children:s.jsxs("div",{className:"p-6",children:[s.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Alerts"}),s.jsx("div",{className:"space-y-3",children:e.alerts.map((D,H)=>s.jsxs("div",{className:`p-4 rounded-lg flex items-center gap-3 ${D.type==="error"?"bg-red-50 border border-red-200":"bg-yellow-50 border border-yellow-200"}`,children:[s.jsx(bl,{className:`w-5 h-5 ${D.type==="error"?"text-red-500":"text-yellow-500"}`}),s.jsx("p",{className:`${D.type==="error"?"text-red-700":"text-yellow-700"}`,children:D.message})]},H))})]})}),e.recent_calls&&e.recent_calls.length>0&&s.jsx("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200",children:s.jsxs("div",{className:"p-6",children:[s.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Recent Calls"}),s.jsx("div",{className:"overflow-x-auto",children:s.jsxs("table",{className:"min-w-full divide-y divide-gray-200",children:[s.jsx("thead",{className:"bg-gray-50",children:s.jsxs("tr",{children:[s.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Caller"}),s.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Direction"}),s.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Status"}),s.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Duration"}),s.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Time"})]})}),s.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:e.recent_calls.slice(0,10).map(D=>s.jsxs("tr",{children:[s.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:s.jsxs("div",{className:"flex items-center gap-2",children:[se(D.direction),s.jsx("span",{className:"text-sm font-medium text-gray-900",children:D.caller_id})]})}),s.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:s.jsx("span",{className:"text-sm text-gray-500 capitalize",children:D.direction})}),s.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:s.jsx("span",{className:`inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium ${J(D.status)}`,children:D.status})}),s.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:xe(D.duration)}),s.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:new Date(D.start_time).toLocaleTimeString()})]},D.id))})]})})]})})]}),b==="calls"&&s.jsxs("div",{className:"space-y-6",children:[s.jsx("div",{className:"bg-white p-6 rounded-lg shadow-sm border border-gray-200",children:s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4",children:[s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Status"}),s.jsxs("select",{value:j.status,onChange:D=>S({...j,status:D.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500",children:[s.jsx("option",{value:"",children:"All Statuses"}),s.jsx("option",{value:"ringing",children:"Ringing"}),s.jsx("option",{value:"answered",children:"Answered"}),s.jsx("option",{value:"completed",children:"Completed"}),s.jsx("option",{value:"busy",children:"Busy"}),s.jsx("option",{value:"no-answer",children:"No Answer"}),s.jsx("option",{value:"failed",children:"Failed"})]})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Direction"}),s.jsxs("select",{value:j.direction,onChange:D=>S({...j,direction:D.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500",children:[s.jsx("option",{value:"",children:"All Directions"}),s.jsx("option",{value:"inbound",children:"Inbound"}),s.jsx("option",{value:"outbound",children:"Outbound"}),s.jsx("option",{value:"internal",children:"Internal"})]})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Search"}),s.jsxs("div",{className:"relative",children:[s.jsx(fi,{className:"absolute left-3 top-2.5 w-4 h-4 text-gray-400"}),s.jsx("input",{type:"text",placeholder:"Search calls...",value:j.search,onChange:D=>S({...j,search:D.target.value}),className:"w-full pl-10 pr-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500"})]})]}),s.jsx("div",{className:"flex items-end",children:s.jsx("button",{onClick:()=>S({status:"",direction:"",dateRange:"",search:""}),className:"w-full px-4 py-2 border border-gray-300 rounded-md hover:bg-gray-50",children:"Clear Filters"})})]})}),s.jsx("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200",children:s.jsxs("div",{className:"p-6",children:[s.jsxs("div",{className:"flex items-center justify-between mb-4",children:[s.jsxs("h3",{className:"text-lg font-semibold text-gray-900",children:["All Calls (",U.length,")"]}),s.jsxs("button",{className:"px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 flex items-center gap-2",children:[s.jsx(uh,{className:"w-4 h-4"}),"Export"]})]}),s.jsx("div",{className:"overflow-x-auto",children:s.jsxs("table",{className:"min-w-full divide-y divide-gray-200",children:[s.jsx("thead",{className:"bg-gray-50",children:s.jsxs("tr",{children:[s.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Caller"}),s.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Called"}),s.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Direction"}),s.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Status"}),s.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Duration"}),s.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Start Time"}),s.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Agent"}),s.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Actions"})]})}),s.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:U.map(D=>s.jsxs("tr",{className:"hover:bg-gray-50",children:[s.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:s.jsxs("div",{className:"flex items-center gap-2",children:[se(D.direction),s.jsxs("div",{children:[s.jsx("div",{className:"text-sm font-medium text-gray-900",children:D.caller_id}),D.caller_name&&s.jsx("div",{className:"text-sm text-gray-500",children:D.caller_name})]})]})}),s.jsxs("td",{className:"px-6 py-4 whitespace-nowrap",children:[s.jsx("div",{className:"text-sm text-gray-900",children:D.called_number}),D.called_name&&s.jsx("div",{className:"text-sm text-gray-500",children:D.called_name})]}),s.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:s.jsx("span",{className:"text-sm text-gray-500 capitalize",children:D.direction})}),s.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:s.jsxs("span",{className:`inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium ${J(D.status)}`,children:[W(D.status),s.jsx("span",{className:"ml-1",children:D.status})]})}),s.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:xe(D.duration)}),s.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:new Date(D.start_time).toLocaleString()}),s.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:D.agent_id?`Agent ${D.agent_id}`:"-"}),s.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm font-medium",children:s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx("button",{className:"text-blue-600 hover:text-blue-900",children:s.jsx(gn,{className:"w-4 h-4"})}),s.jsx("button",{className:"text-green-600 hover:text-green-900",children:s.jsx(_c,{className:"w-4 h-4"})}),s.jsx("button",{className:"text-gray-600 hover:text-gray-900",children:s.jsx(XW,{className:"w-4 h-4"})})]})})]},D.id))})]})})]})})]}),b==="agents"&&s.jsxs("div",{className:"space-y-6",children:[s.jsx("div",{className:"bg-white p-6 rounded-lg shadow-sm border border-gray-200",children:s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Status"}),s.jsxs("select",{value:_.status,onChange:D=>E({..._,status:D.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500",children:[s.jsx("option",{value:"",children:"All Statuses"}),s.jsx("option",{value:"logged_in",children:"Available"}),s.jsx("option",{value:"logged_out",children:"Offline"}),s.jsx("option",{value:"paused",children:"Paused"})]})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Queue"}),s.jsxs("select",{value:_.queue,onChange:D=>E({..._,queue:D.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500",children:[s.jsx("option",{value:"",children:"All Queues"}),a.map(D=>s.jsx("option",{value:D.id,children:D.name},D.id))]})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Search"}),s.jsxs("div",{className:"relative",children:[s.jsx(fi,{className:"absolute left-3 top-2.5 w-4 h-4 text-gray-400"}),s.jsx("input",{type:"text",placeholder:"Search agents...",value:_.search,onChange:D=>E({..._,search:D.target.value}),className:"w-full pl-10 pr-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500"})]})]})]})}),s.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:ae.map(D=>s.jsxs("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200 p-6",children:[s.jsxs("div",{className:"flex items-center justify-between mb-4",children:[s.jsxs("div",{className:"flex items-center gap-3",children:[W(D.status),s.jsxs("div",{children:[s.jsx("h3",{className:"font-semibold text-gray-900",children:D.member_name||D.user?.name||"Unknown"}),s.jsx("p",{className:"text-sm text-gray-500",children:D.user?.email||"No email"})]})]}),s.jsx("span",{className:`inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium ${J(D.status)}`,children:D.status})]}),s.jsxs("div",{className:"space-y-3",children:[s.jsxs("div",{className:"flex justify-between text-sm",children:[s.jsx("span",{className:"text-gray-600",children:"Extension:"}),s.jsx("span",{className:"font-medium",children:D.extension_number||"-"})]}),s.jsxs("div",{className:"flex justify-between text-sm",children:[s.jsx("span",{className:"text-gray-600",children:"Queue:"}),s.jsx("span",{className:"font-medium",children:D.queue?.name||"-"})]}),s.jsxs("div",{className:"flex justify-between text-sm",children:[s.jsx("span",{className:"text-gray-600",children:"Penalty:"}),s.jsx("span",{className:"font-medium",children:D.penalty||0})]}),s.jsxs("div",{className:"flex justify-between text-sm",children:[s.jsx("span",{className:"text-gray-600",children:"Total Calls:"}),s.jsx("span",{className:"font-medium",children:D.total_calls||0})]}),s.jsxs("div",{className:"flex justify-between text-sm",children:[s.jsx("span",{className:"text-gray-600",children:"Answer Rate:"}),s.jsx("span",{className:"font-medium",children:D.total_calls>0?`${Math.round(D.answered_calls/D.total_calls*100)}%`:"0%"})]})]}),s.jsxs("div",{className:"mt-4 flex gap-2",children:[s.jsxs("button",{className:"flex-1 px-3 py-2 bg-blue-600 text-white rounded-md hover:bg-blue-700 text-sm",children:[s.jsx(_c,{className:"w-4 h-4 inline mr-1"}),"Call"]}),s.jsx("button",{className:"px-3 py-2 border border-gray-300 rounded-md hover:bg-gray-50",children:s.jsx(Fs,{className:"w-4 h-4"})})]})]},D.id))})]}),b==="queues"&&s.jsxs("div",{className:"space-y-6",children:[s.jsxs("div",{className:"flex justify-between items-center",children:[s.jsx("h2",{className:"text-2xl font-bold text-gray-900",children:"Call Queues"}),s.jsxs("button",{className:"px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 flex items-center gap-2",children:[s.jsx(Cr,{className:"w-4 h-4"}),"Add Queue"]})]}),s.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:a.map(D=>s.jsxs("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200 p-6",children:[s.jsxs("div",{className:"flex items-center justify-between mb-4",children:[s.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:D.name}),s.jsx("span",{className:`inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium ${D.is_active?"text-green-600 bg-green-50":"text-red-600 bg-red-50"}`,children:D.is_active?"Active":"Inactive"})]}),s.jsxs("div",{className:"space-y-3",children:[s.jsxs("div",{className:"flex justify-between text-sm",children:[s.jsx("span",{className:"text-gray-600",children:"Queue Number:"}),s.jsx("span",{className:"font-medium",children:D.queue_number})]}),s.jsxs("div",{className:"flex justify-between text-sm",children:[s.jsx("span",{className:"text-gray-600",children:"Strategy:"}),s.jsx("span",{className:"font-medium",children:D.strategy})]}),s.jsxs("div",{className:"flex justify-between text-sm",children:[s.jsx("span",{className:"text-gray-600",children:"Current Calls:"}),s.jsx("span",{className:"font-medium",children:D.current_calls||0})]}),s.jsxs("div",{className:"flex justify-between text-sm",children:[s.jsx("span",{className:"text-gray-600",children:"Available Agents:"}),s.jsx("span",{className:"font-medium",children:D.current_agents||0})]}),s.jsxs("div",{className:"flex justify-between text-sm",children:[s.jsx("span",{className:"text-gray-600",children:"Total Calls:"}),s.jsx("span",{className:"font-medium",children:D.total_calls||0})]}),s.jsxs("div",{className:"flex justify-between text-sm",children:[s.jsx("span",{className:"text-gray-600",children:"Answer Rate:"}),s.jsx("span",{className:"font-medium",children:D.total_calls>0?`${Math.round(D.answered_calls/D.total_calls*100)}%`:"0%"})]}),s.jsxs("div",{className:"flex justify-between text-sm",children:[s.jsx("span",{className:"text-gray-600",children:"Avg Wait Time:"}),s.jsxs("span",{className:"font-medium",children:[D.avg_wait_time||0,"s"]})]})]}),s.jsxs("div",{className:"mt-4 flex gap-2",children:[s.jsxs("button",{className:"flex-1 px-3 py-2 bg-blue-600 text-white rounded-md hover:bg-blue-700 text-sm",children:[s.jsx(jr,{className:"w-4 h-4 inline mr-1"}),"Manage"]}),s.jsx("button",{className:"px-3 py-2 border border-gray-300 rounded-md hover:bg-gray-50",children:s.jsx(Fs,{className:"w-4 h-4"})})]})]},D.id))})]}),b==="settings"&&s.jsxs("div",{className:"space-y-6",children:[s.jsxs("div",{className:"flex justify-between items-center",children:[s.jsx("h2",{className:"text-2xl font-bold text-gray-900",children:"Telephony Settings"}),s.jsxs("button",{onClick:ee,className:"px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 flex items-center gap-2",children:[s.jsx(Cr,{className:"w-4 h-4"}),"Add Provider"]})]}),s.jsx("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200",children:s.jsxs("div",{className:"p-6",children:[s.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:"PBX Providers"}),s.jsx("div",{className:"space-y-4",children:d.map(D=>s.jsxs("div",{className:"border border-gray-200 rounded-lg p-4",children:[s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx("div",{className:`w-3 h-3 rounded-full ${D.is_active?"bg-green-500":"bg-red-500"}`}),s.jsxs("div",{children:[s.jsx("h4",{className:"font-semibold text-gray-900",children:D.display_name}),s.jsxs("p",{className:"text-sm text-gray-500",children:[D.provider_type," - ",D.host,":",D.port]})]})]}),s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx("span",{className:`inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium ${D.is_primary?"text-blue-600 bg-blue-50":"text-gray-600 bg-gray-50"}`,children:D.is_primary?"Primary":"Secondary"}),s.jsx("button",{onClick:()=>K(D.id),className:"text-green-600 hover:text-green-900",title:"Test Connection",children:s.jsx(Rp,{className:"w-4 h-4"})}),s.jsx("button",{onClick:()=>ue(D),className:"text-blue-600 hover:text-blue-900",title:"Edit Provider",children:s.jsx(Fs,{className:"w-4 h-4"})}),s.jsx("button",{onClick:()=>Q(D.id),className:"text-red-600 hover:text-red-900",title:"Delete Provider",children:s.jsx(Mi,{className:"w-4 h-4"})})]})]}),s.jsxs("div",{className:"mt-3 grid grid-cols-2 md:grid-cols-4 gap-4 text-sm",children:[s.jsxs("div",{children:[s.jsx("span",{className:"text-gray-600",children:"Recording:"}),s.jsx("span",{className:`ml-2 ${D.recording_enabled?"text-green-600":"text-red-600"}`,children:D.recording_enabled?"Enabled":"Disabled"})]}),s.jsxs("div",{children:[s.jsx("span",{className:"text-gray-600",children:"Transcription:"}),s.jsx("span",{className:`ml-2 ${D.transcription_enabled?"text-green-600":"text-red-600"}`,children:D.transcription_enabled?"Enabled":"Disabled"})]}),s.jsxs("div",{children:[s.jsx("span",{className:"text-gray-600",children:"Last Sync:"}),s.jsx("span",{className:"ml-2",children:new Date(D.last_sync).toLocaleString()})]}),s.jsxs("div",{children:[s.jsx("span",{className:"text-gray-600",children:"Created:"}),s.jsx("span",{className:"ml-2",children:new Date(D.created_at).toLocaleDateString()})]})]})]},D.id))})]})}),s.jsx("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200",children:s.jsxs("div",{className:"p-6",children:[s.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:"System Settings"}),s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{children:[s.jsx("h4",{className:"font-medium text-gray-900",children:"Auto Call Recording"}),s.jsx("p",{className:"text-sm text-gray-500",children:"Automatically record all calls"})]}),s.jsx("button",{className:"relative inline-flex h-6 w-11 items-center rounded-full bg-blue-600",children:s.jsx("span",{className:"inline-block h-4 w-4 transform rounded-full bg-white transition translate-x-6"})})]}),s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{children:[s.jsx("h4",{className:"font-medium text-gray-900",children:"Call Transcription"}),s.jsx("p",{className:"text-sm text-gray-500",children:"Automatically transcribe call recordings"})]}),s.jsx("button",{className:"relative inline-flex h-6 w-11 items-center rounded-full bg-gray-200",children:s.jsx("span",{className:"inline-block h-4 w-4 transform rounded-full bg-white transition translate-x-1"})})]}),s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{children:[s.jsx("h4",{className:"font-medium text-gray-900",children:"Real-time Analytics"}),s.jsx("p",{className:"text-sm text-gray-500",children:"Enable real-time call center analytics"})]}),s.jsx("button",{className:"relative inline-flex h-6 w-11 items-center rounded-full bg-blue-600",children:s.jsx("span",{className:"inline-block h-4 w-4 transform rounded-full bg-white transition translate-x-6"})})]})]})]})})]}),T&&s.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:s.jsx("div",{className:"bg-white rounded-lg shadow-xl max-w-2xl w-full mx-4 max-h-[90vh] overflow-y-auto",children:s.jsxs("div",{className:"p-6",children:[s.jsxs("div",{className:"flex justify-between items-center mb-6",children:[s.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:C?"Edit Provider":"Add New Provider"}),s.jsx("button",{onClick:()=>A(!1),className:"text-gray-400 hover:text-gray-600",children:s.jsx(Tr,{className:"w-6 h-6"})})]}),s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Provider Name *"}),s.jsx("input",{type:"text",value:P.name,onChange:D=>F({...P,name:D.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500",placeholder:"e.g., Main PBX"})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Provider Type *"}),s.jsxs("select",{value:P.provider_type,onChange:D=>F({...P,provider_type:D.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500",children:[s.jsx("option",{value:"asterisk",children:"Asterisk"}),s.jsx("option",{value:"freepbx",children:"FreePBX"}),s.jsx("option",{value:"3cx",children:"3CX"}),s.jsx("option",{value:"avaya",children:"Avaya"}),s.jsx("option",{value:"cisco",children:"Cisco"}),s.jsx("option",{value:"other",children:"Other"})]})]})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Display Name"}),s.jsx("input",{type:"text",value:P.display_name,onChange:D=>F({...P,display_name:D.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500",placeholder:"e.g., Main Office PBX"})]}),s.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Host/IP Address *"}),s.jsx("input",{type:"text",value:P.host,onChange:D=>F({...P,host:D.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500",placeholder:"192.168.1.100"})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Port *"}),s.jsx("input",{type:"number",value:P.port,onChange:D=>F({...P,port:parseInt(D.target.value)}),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500",placeholder:"5060"})]})]}),s.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Username"}),s.jsx("input",{type:"text",value:P.username,onChange:D=>F({...P,username:D.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500",placeholder:"admin"})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Password"}),s.jsx("input",{type:"password",value:P.password,onChange:D=>F({...P,password:D.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500",placeholder:""})]})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"API Key"}),s.jsx("input",{type:"password",value:P.api_key,onChange:D=>F({...P,api_key:D.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500",placeholder:"Enter API key for PBX integration"}),s.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"Required for API-based PBX systems like 3CX, FreePBX"})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Description"}),s.jsx("textarea",{value:P.description,onChange:D=>F({...P,description:D.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500",placeholder:"Optional description for this PBX provider",rows:2})]}),s.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Context"}),s.jsx("input",{type:"text",value:P.context,onChange:D=>F({...P,context:D.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500",placeholder:"default"})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Caller ID Field"}),s.jsx("input",{type:"text",value:P.caller_id_field,onChange:D=>F({...P,caller_id_field:D.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500",placeholder:"CallerIDNum"})]})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Dialplan Context"}),s.jsx("input",{type:"text",value:P.dialplan_context,onChange:D=>F({...P,dialplan_context:D.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500",placeholder:"from-internal"})]}),s.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Recording Path"}),s.jsx("input",{type:"text",value:P.recording_path,onChange:D=>F({...P,recording_path:D.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500",placeholder:"/var/spool/asterisk/monitor"})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"CDR Path"}),s.jsx("input",{type:"text",value:P.cdr_path,onChange:D=>F({...P,cdr_path:D.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500",placeholder:"/var/log/asterisk/cdr-csv"})]})]}),s.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Webhook URL"}),s.jsx("input",{type:"url",value:P.webhook_url,onChange:D=>F({...P,webhook_url:D.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500",placeholder:"https://example.com/webhook"})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Webhook Secret"}),s.jsx("input",{type:"password",value:P.webhook_secret,onChange:D=>F({...P,webhook_secret:D.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500",placeholder:""})]})]}),s.jsxs("div",{className:"space-y-3",children:[s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{children:[s.jsx("h4",{className:"font-medium text-gray-900",children:"Active"}),s.jsx("p",{className:"text-sm text-gray-500",children:"Enable this provider"})]}),s.jsx("button",{onClick:()=>F({...P,is_active:!P.is_active}),className:`relative inline-flex h-6 w-11 items-center rounded-full ${P.is_active?"bg-blue-600":"bg-gray-200"}`,children:s.jsx("span",{className:`inline-block h-4 w-4 transform rounded-full bg-white transition ${P.is_active?"translate-x-6":"translate-x-1"}`})})]}),s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{children:[s.jsx("h4",{className:"font-medium text-gray-900",children:"Primary Provider"}),s.jsx("p",{className:"text-sm text-gray-500",children:"Set as the main provider"})]}),s.jsx("button",{onClick:()=>F({...P,is_primary:!P.is_primary}),className:`relative inline-flex h-6 w-11 items-center rounded-full ${P.is_primary?"bg-blue-600":"bg-gray-200"}`,children:s.jsx("span",{className:`inline-block h-4 w-4 transform rounded-full bg-white transition ${P.is_primary?"translate-x-6":"translate-x-1"}`})})]}),s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{children:[s.jsx("h4",{className:"font-medium text-gray-900",children:"Recording Enabled"}),s.jsx("p",{className:"text-sm text-gray-500",children:"Enable call recording"})]}),s.jsx("button",{onClick:()=>F({...P,recording_enabled:!P.recording_enabled}),className:`relative inline-flex h-6 w-11 items-center rounded-full ${P.recording_enabled?"bg-blue-600":"bg-gray-200"}`,children:s.jsx("span",{className:`inline-block h-4 w-4 transform rounded-full bg-white transition ${P.recording_enabled?"translate-x-6":"translate-x-1"}`})})]}),s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{children:[s.jsx("h4",{className:"font-medium text-gray-900",children:"Transcription Enabled"}),s.jsx("p",{className:"text-sm text-gray-500",children:"Enable call transcription"})]}),s.jsx("button",{onClick:()=>F({...P,transcription_enabled:!P.transcription_enabled}),className:`relative inline-flex h-6 w-11 items-center rounded-full ${P.transcription_enabled?"bg-blue-600":"bg-gray-200"}`,children:s.jsx("span",{className:`inline-block h-4 w-4 transform rounded-full bg-white transition ${P.transcription_enabled?"translate-x-6":"translate-x-1"}`})})]}),s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{children:[s.jsx("h4",{className:"font-medium text-gray-900",children:"CDR Enabled"}),s.jsx("p",{className:"text-sm text-gray-500",children:"Enable Call Detail Records"})]}),s.jsx("button",{onClick:()=>F({...P,cdr_enabled:!P.cdr_enabled}),className:`relative inline-flex h-6 w-11 items-center rounded-full ${P.cdr_enabled?"bg-blue-600":"bg-gray-200"}`,children:s.jsx("span",{className:`inline-block h-4 w-4 transform rounded-full bg-white transition ${P.cdr_enabled?"translate-x-6":"translate-x-1"}`})})]}),s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{children:[s.jsx("h4",{className:"font-medium text-gray-900",children:"Auto Assign Calls"}),s.jsx("p",{className:"text-sm text-gray-500",children:"Automatically assign incoming calls"})]}),s.jsx("button",{onClick:()=>F({...P,auto_assign_calls:!P.auto_assign_calls}),className:`relative inline-flex h-6 w-11 items-center rounded-full ${P.auto_assign_calls?"bg-blue-600":"bg-gray-200"}`,children:s.jsx("span",{className:`inline-block h-4 w-4 transform rounded-full bg-white transition ${P.auto_assign_calls?"translate-x-6":"translate-x-1"}`})})]})]})]}),s.jsxs("div",{className:"flex justify-end gap-3 mt-6",children:[s.jsx("button",{onClick:()=>A(!1),className:"px-4 py-2 text-gray-700 bg-gray-100 rounded-md hover:bg-gray-200",children:"Cancel"}),s.jsx("button",{onClick:fe,disabled:!P.name||!P.host||!P.port,className:"px-4 py-2 bg-blue-600 text-white rounded-md hover:bg-blue-700 disabled:bg-gray-300 disabled:cursor-not-allowed",children:C?"Update Provider":"Add Provider"})]})]})})})]})};function kTe({title:e,titleId:t,...r},n){return v.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:n,"aria-labelledby":t},r),e?v.createElement("title",{id:t},e):null,v.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"m16.862 4.487 1.687-1.688a1.875 1.875 0 1 1 2.652 2.652L6.832 19.82a4.5 4.5 0 0 1-1.897 1.13l-2.685.8.8-2.685a4.5 4.5 0 0 1 1.13-1.897L16.863 4.487Zm0 0L19.5 7.125"}))}const _Te=v.forwardRef(kTe);function ETe({title:e,titleId:t,...r},n){return v.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:n,"aria-labelledby":t},r),e?v.createElement("title",{id:t},e):null,v.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M12 4.5v15m7.5-7.5h-15"}))}const ATe=v.forwardRef(ETe);function TTe({title:e,titleId:t,...r},n){return v.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:n,"aria-labelledby":t},r),e?v.createElement("title",{id:t},e):null,v.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"m14.74 9-.346 9m-4.788 0L9.26 9m9.968-3.21c.342.052.682.107 1.022.166m-1.022-.165L18.16 19.673a2.25 2.25 0 0 1-2.244 2.077H8.084a2.25 2.25 0 0 1-2.244-2.077L4.772 5.79m14.456 0a48.108 48.108 0 0 0-3.478-.397m-12 .562c.34-.059.68-.114 1.022-.165m0 0a48.11 48.11 0 0 1 3.478-.397m7.5 0v-.916c0-1.18-.91-2.164-2.09-2.201a51.964 51.964 0 0 0-3.32 0c-1.18.037-2.09 1.022-2.09 2.201v.916m7.5 0a48.667 48.667 0 0 0-7.5 0"}))}const CTe=v.forwardRef(TTe),OTe=()=>{const[e,t]=v.useState([]),[r,n]=v.useState([]),[a,i]=v.useState(!0),[l,c]=v.useState(!1),[d,f]=v.useState(null),[h,p]=v.useState({rule_name:"",rule_description:"",criteria:{source:"",priority:"",location:"",industry:""},assignment_type:"user",assigned_user_id:0,priority:1,is_active:!0});v.useEffect(()=>{g(),y()},[]);const g=async()=>{try{const A=await Ee("/api/lead-assignment-rules","GET");t(A),i(!1)}catch(A){console.error("Error fetching rules:",A),i(!1)}},y=async()=>{try{const A=await Ee("/api/users","GET");n(A)}catch(A){console.error("Error fetching users:",A)}},b=async A=>{A.preventDefault();try{const C={...h,assigned_user_id:h.assignment_type==="user"?h.assigned_user_id:void 0,assigned_team_id:h.assignment_type==="team"?h.assigned_user_id:void 0};d?await Ee(`/api/lead-assignment-rules/${d.id}`,"PUT",C):await Ee("/api/lead-assignment-rules","POST",C),c(!1),f(null),S(),g()}catch(C){console.error("Error saving rule:",C),alert("Error saving rule. Please try again.")}},w=async A=>{if(confirm("Are you sure you want to delete this rule?"))try{await Ee(`/api/lead-assignment-rules/${A}`,"DELETE"),g()}catch(C){console.error("Error deleting rule:",C),alert("Error deleting rule. Please try again.")}},j=A=>{f(A),p({rule_name:A.rule_name,rule_description:A.rule_description||"",criteria:{source:A.criteria?.source||"",priority:A.criteria?.priority||"",location:A.criteria?.location||"",industry:A.criteria?.industry||""},assignment_type:A.assignment_type,assigned_user_id:A.assigned_user_id||0,priority:A.priority,is_active:A.is_active}),c(!0)},S=()=>{p({rule_name:"",rule_description:"",criteria:{source:"",priority:"",location:"",industry:""},assignment_type:"user",assigned_user_id:0,priority:1,is_active:!0})},_=(A,C)=>{p(O=>({...O,criteria:{...O.criteria,[A]:C}}))},E=A=>{switch(A.assignment_type){case"user":const C=r.find(O=>O.id===A.assigned_user_id);return C?C.name:`User ID: ${A.assigned_user_id}`;case"round_robin":return"Round Robin";case"team":return`Team ID: ${A.assigned_team_id}`;default:return"Unknown"}},T=A=>Object.entries(A).filter(([C,O])=>O&&O!=="").map(([C,O])=>`${C}: ${O}`).join(", ")||"No criteria";return a?s.jsx("div",{className:"flex items-center justify-center h-64",children:s.jsx("div",{className:"animate-spin rounded-full h-32 w-32 border-b-2 border-blue-600"})}):s.jsxs("div",{className:"p-6 max-w-7xl mx-auto",children:[s.jsxs("div",{className:"flex justify-between items-center mb-6",children:[s.jsxs("div",{children:[s.jsx("h1",{className:"text-3xl font-bold text-gray-900",children:"Lead Assignment Rules"}),s.jsx("p",{className:"text-gray-600 mt-2",children:"Automatically assign leads based on predefined criteria"})]}),s.jsxs("button",{onClick:()=>{f(null),S(),c(!0)},className:"bg-blue-600 text-white px-4 py-2 rounded-lg hover:bg-blue-700 flex items-center gap-2",children:[s.jsx(ATe,{className:"h-5 w-5"}),"Create Rule"]})]}),l&&s.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:s.jsxs("div",{className:"bg-white rounded-lg p-6 w-full max-w-2xl max-h-[90vh] overflow-y-auto",children:[s.jsx("h2",{className:"text-2xl font-bold mb-4",children:d?"Edit Rule":"Create New Rule"}),s.jsxs("form",{onSubmit:b,className:"space-y-4",children:[s.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Rule Name *"}),s.jsx("input",{type:"text",value:h.rule_name,onChange:A=>p(C=>({...C,rule_name:A.target.value})),className:"w-full border border-gray-300 rounded-lg px-3 py-2 focus:ring-2 focus:ring-blue-500 focus:border-transparent",required:!0})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Priority *"}),s.jsx("input",{type:"number",min:"1",value:h.priority,onChange:A=>p(C=>({...C,priority:parseInt(A.target.value)})),className:"w-full border border-gray-300 rounded-lg px-3 py-2 focus:ring-2 focus:ring-blue-500 focus:border-transparent",required:!0}),s.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"Lower numbers = higher priority"})]})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Description"}),s.jsx("textarea",{value:h.rule_description,onChange:A=>p(C=>({...C,rule_description:A.target.value})),className:"w-full border border-gray-300 rounded-lg px-3 py-2 focus:ring-2 focus:ring-blue-500 focus:border-transparent",rows:3})]}),s.jsxs("div",{className:"border-t pt-4",children:[s.jsx("h3",{className:"text-lg font-medium mb-3",children:"Assignment Criteria"}),s.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Lead Source"}),s.jsxs("select",{value:h.criteria.source,onChange:A=>_("source",A.target.value),className:"w-full border border-gray-300 rounded-lg px-3 py-2 focus:ring-2 focus:ring-blue-500 focus:border-transparent",children:[s.jsx("option",{value:"",children:"Any"}),s.jsx("option",{value:"website",children:"Website"}),s.jsx("option",{value:"referral",children:"Referral"}),s.jsx("option",{value:"email",children:"Email"}),s.jsx("option",{value:"phone",children:"Phone"}),s.jsx("option",{value:"social",children:"Social Media"})]})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Priority Level"}),s.jsxs("select",{value:h.criteria.priority,onChange:A=>_("priority",A.target.value),className:"w-full border border-gray-300 rounded-lg px-3 py-2 focus:ring-2 focus:ring-blue-500 focus:border-transparent",children:[s.jsx("option",{value:"",children:"Any"}),s.jsx("option",{value:"high",children:"High"}),s.jsx("option",{value:"medium",children:"Medium"}),s.jsx("option",{value:"low",children:"Low"})]})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Location"}),s.jsx("input",{type:"text",value:h.criteria.location,onChange:A=>_("location",A.target.value),placeholder:"e.g., Dubai, UAE",className:"w-full border border-gray-300 rounded-lg px-3 py-2 focus:ring-2 focus:ring-blue-500 focus:border-transparent"})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Industry"}),s.jsx("input",{type:"text",value:h.criteria.industry,onChange:A=>_("industry",A.target.value),placeholder:"e.g., Technology, Healthcare",className:"w-full border border-gray-300 rounded-lg px-3 py-2 focus:ring-2 focus:ring-blue-500 focus:border-transparent"})]})]})]}),s.jsxs("div",{className:"border-t pt-4",children:[s.jsx("h3",{className:"text-lg font-medium mb-3",children:"Assignment Method"}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Assignment Type *"}),s.jsxs("select",{value:h.assignment_type,onChange:A=>p(C=>({...C,assignment_type:A.target.value,assigned_user_id:A.target.value==="round_robin"?0:C.assigned_user_id})),className:"w-full border border-gray-300 rounded-lg px-3 py-2 focus:ring-2 focus:ring-blue-500 focus:border-transparent",required:!0,children:[s.jsx("option",{value:"user",children:"Assign to Specific User"}),s.jsx("option",{value:"round_robin",children:"Round Robin Distribution"}),s.jsx("option",{value:"team",children:"Assign to Team"})]})]}),h.assignment_type==="user"&&s.jsxs("div",{className:"mt-3",children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Assign to User *"}),s.jsxs("select",{value:h.assigned_user_id,onChange:A=>p(C=>({...C,assigned_user_id:parseInt(A.target.value)})),className:"w-full border border-gray-300 rounded-lg px-3 py-2 focus:ring-2 focus:ring-blue-500 focus:border-transparent",required:!0,children:[s.jsx("option",{value:0,children:"Select User"}),r.map(A=>s.jsxs("option",{value:A.id,children:[A.name," (",A.email,")"]},A.id))]})]})]}),s.jsxs("div",{className:"flex items-center",children:[s.jsx("input",{type:"checkbox",id:"is_active",checked:h.is_active,onChange:A=>p(C=>({...C,is_active:A.target.checked})),className:"h-4 w-4 text-blue-600 focus:ring-blue-500 border-gray-300 rounded"}),s.jsx("label",{htmlFor:"is_active",className:"ml-2 block text-sm text-gray-900",children:"Active (Rule will be applied to new leads)"})]}),s.jsxs("div",{className:"flex justify-end gap-3 pt-4",children:[s.jsx("button",{type:"button",onClick:()=>{c(!1),f(null),S()},className:"px-4 py-2 text-gray-700 bg-gray-200 rounded-lg hover:bg-gray-300",children:"Cancel"}),s.jsx("button",{type:"submit",className:"px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700",children:d?"Update Rule":"Create Rule"})]})]})]})}),s.jsx("div",{className:"bg-white rounded-lg shadow",children:e.length===0?s.jsxs("div",{className:"text-center py-12",children:[s.jsx("div",{className:"text-gray-400 text-6xl mb-4",children:""}),s.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-2",children:"No assignment rules yet"}),s.jsx("p",{className:"text-gray-600 mb-4",children:"Create your first rule to automatically assign leads"}),s.jsx("button",{onClick:()=>{f(null),S(),c(!0)},className:"bg-blue-600 text-white px-4 py-2 rounded-lg hover:bg-blue-700",children:"Create Your First Rule"})]}):s.jsx("div",{className:"overflow-x-auto",children:s.jsxs("table",{className:"min-w-full divide-y divide-gray-200",children:[s.jsx("thead",{className:"bg-gray-50",children:s.jsxs("tr",{children:[s.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Rule"}),s.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Criteria"}),s.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Assignment"}),s.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Priority"}),s.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Status"}),s.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Actions"})]})}),s.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:e.map(A=>s.jsxs("tr",{className:"hover:bg-gray-50",children:[s.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:s.jsxs("div",{children:[s.jsx("div",{className:"text-sm font-medium text-gray-900",children:A.rule_name}),A.rule_description&&s.jsx("div",{className:"text-sm text-gray-500",children:A.rule_description})]})}),s.jsx("td",{className:"px-6 py-4",children:s.jsx("div",{className:"text-sm text-gray-900",children:T(A.criteria)})}),s.jsxs("td",{className:"px-6 py-4 whitespace-nowrap",children:[s.jsx("div",{className:"text-sm text-gray-900",children:E(A)}),s.jsx("div",{className:"text-sm text-gray-500",children:A.assignment_type.replace("_"," ")})]}),s.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:s.jsxs("span",{className:"inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium bg-blue-100 text-blue-800",children:["Priority ",A.priority]})}),s.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:s.jsx("span",{className:`inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium ${A.is_active?"bg-green-100 text-green-800":"bg-gray-100 text-gray-800"}`,children:A.is_active?"Active":"Inactive"})}),s.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm font-medium",children:s.jsxs("div",{className:"flex space-x-2",children:[s.jsx("button",{onClick:()=>j(A),className:"text-blue-600 hover:text-blue-900",children:s.jsx(_Te,{className:"h-4 w-4"})}),s.jsx("button",{onClick:()=>w(A.id),className:"text-red-600 hover:text-red-900",children:s.jsx(CTe,{className:"h-4 w-4"})})]})})]},A.id))})]})})}),s.jsxs("div",{className:"mt-8 bg-blue-50 rounded-lg p-6",children:[s.jsx("h3",{className:"text-lg font-medium text-blue-900 mb-3",children:"How Lead Assignment Rules Work"}),s.jsxs("div",{className:"text-blue-800 space-y-2",children:[s.jsx("p",{children:" Rules are processed in priority order (1 = highest priority)"}),s.jsx("p",{children:" When a new lead is created, the system checks all active rules"}),s.jsx("p",{children:" The first rule whose criteria match the lead will assign it"}),s.jsx("p",{children:" Use specific criteria (source, priority, location) to target the right leads"}),s.jsx("p",{children:" Round-robin assignment distributes leads evenly among available users"})]})]})]})},DTe=()=>{const[e,t]=v.useState("workflows"),[r,n]=v.useState([]),[a,i]=v.useState([]),[l,c]=v.useState([]),[d,f]=v.useState(!1),[h,p]=v.useState(null),[g,y]=v.useState([]),[b,w]=v.useState(!1),[j,S]=v.useState(!1),[_,E]=v.useState("approve"),[T,A]=v.useState(""),[C,O]=v.useState("all"),[P,F]=v.useState("all"),[G,W]=v.useState(!1),[ee,ue]=v.useState(""),[fe,Q]=v.useState({workflow_name:"",workflow_description:"",entity_type:"deal",trigger_conditions:{},approval_steps:[],is_active:!0}),K=[{id:"workflows",name:"Workflows",icon:s.jsx(Fs,{className:"w-5 h-5"})},{id:"requests",name:"All Requests",icon:s.jsx(Is,{className:"w-5 h-5"})},{id:"my-pending",name:"My Pending",icon:s.jsx(is,{className:"w-5 h-5"})},{id:"settings",name:"Settings",icon:s.jsx(Fs,{className:"w-5 h-5"})}];v.useEffect(()=>{if(!localStorage.getItem("access_token")){console.log("No authentication token found, skipping API calls");return}e==="workflows"?J():e==="requests"?se():e==="my-pending"&&xe()},[e,C,P]);const J=async()=>{f(!0);try{const re=await fetch("/api/approval-workflows",{headers:{Authorization:`Bearer ${localStorage.getItem("access_token")}`}}),ie=await re.json();re.ok?n(Array.isArray(ie)?ie:[]):(console.error("Failed to fetch workflows:",ie.error),re.status===401&&console.error("Authentication failed - please log in again"),n([]))}catch(re){console.error("Error fetching workflows:",re)}finally{f(!1)}},se=async()=>{f(!0);try{let re="/api/approval-requests";const ie=new URLSearchParams;C!=="all"&&ie.append("status",C),P!=="all"&&ie.append("entity_type",P),ie.toString()&&(re+=`?${ie.toString()}`);const de=await fetch(re,{headers:{Authorization:`Bearer ${localStorage.getItem("token")}`}}),oe=await de.json();de.ok?i(Array.isArray(oe)?oe:[]):(console.error("Failed to fetch requests:",oe.error),i([]))}catch(re){console.error("Error fetching requests:",re)}finally{f(!1)}},xe=async()=>{f(!0);try{const re=await fetch("/api/approval-requests/my-pending",{headers:{Authorization:`Bearer ${localStorage.getItem("token")}`}}),ie=await re.json();re.ok?c(Array.isArray(ie)?ie:[]):(console.error("Failed to fetch pending approvals:",ie.error),c([]))}catch(re){console.error("Error fetching pending approvals:",re)}finally{f(!1)}},U=async re=>{try{const ie=await fetch(`/api/approval-requests/${re}/steps`,{headers:{Authorization:`Bearer ${localStorage.getItem("token")}`}}),de=await ie.json();ie.ok?y(de):console.error("Failed to fetch approval steps:",de.error)}catch(ie){console.error("Error fetching approval steps:",ie)}},ae=async()=>{const re=localStorage.getItem("access_token");if(!re){console.error("No authentication token found - please log in first"),alert("Please log in first to create sample workflows");return}try{const ie=await fetch("/api/approval-workflows/create-samples",{method:"POST",headers:{Authorization:`Bearer ${re}`}}),de=await ie.json();ie.ok?(J(),de.already_exists?ue(`Sample workflows already exist: ${de.workflows.map(oe=>oe.name).join(", ")}`):ue(`Successfully created ${de.workflows.length} sample workflows!`),W(!0)):alert(`Failed to create sample workflows: ${de.error}`)}catch(ie){console.error("Error creating sample workflows:",ie),alert("Error creating sample workflows")}},D=async()=>{const re=localStorage.getItem("access_token");if(!re){console.error("No authentication token found - please log in first"),alert("Please log in first to create workflows");return}try{const ie=await fetch("/api/approval-workflows",{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${re}`},body:JSON.stringify(fe)}),de=await ie.json();ie.ok?(w(!1),Q({workflow_name:"",workflow_description:"",entity_type:"deal",trigger_conditions:{},approval_steps:[],is_active:!0}),J(),ue("Workflow created successfully!"),W(!0)):alert(`Failed to create workflow: ${de.error}`)}catch(ie){console.error("Error creating workflow:",ie),alert("Error creating workflow")}},H=async(re,ie)=>{try{const de=await fetch(`/api/approval-requests/${re}/action`,{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${localStorage.getItem("token")}`},body:JSON.stringify({action:ie,comments:T})}),oe=await de.json();de.ok?(S(!1),A(""),xe(),se(),ue(`Request ${ie}d successfully`),W(!0)):alert(`Failed to ${ie} request: ${oe.error}`)}catch(de){console.error(`Error ${ie}ing request:`,de),alert(`Error ${ie}ing request`)}},B=re=>{switch(re){case"approved":return"text-green-600 bg-green-100";case"rejected":return"text-red-600 bg-red-100";case"pending":return"text-yellow-600 bg-yellow-100";case"cancelled":return"text-gray-600 bg-gray-100";default:return"text-gray-600 bg-gray-100"}},V=re=>{switch(re){case"urgent":return"text-red-600 bg-red-100";case"high":return"text-orange-600 bg-orange-100";case"medium":return"text-blue-600 bg-blue-100";case"low":return"text-gray-600 bg-gray-100";default:return"text-gray-600 bg-gray-100"}},le=re=>{switch(re){case"deal":return s.jsx(Yc,{className:"w-4 h-4"});case"task":return s.jsx(Lt,{className:"w-4 h-4"});case"expense":return s.jsx(Vr,{className:"w-4 h-4"});case"lead_qualification":return s.jsx(Aa,{className:"w-4 h-4"});default:return s.jsx(Is,{className:"w-4 h-4"})}},De=re=>new Date(re).toLocaleDateString("en-US",{year:"numeric",month:"short",day:"numeric",hour:"2-digit",minute:"2-digit"});return s.jsxs("div",{className:"min-h-screen bg-gray-50 dark:bg-gray-900",children:[s.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8",children:[s.jsxs("div",{className:"mb-8",children:[s.jsx("h1",{className:"text-3xl font-bold text-gray-900 dark:text-white",children:"Approval Workflows"}),s.jsx("p",{className:"mt-2 text-gray-600 dark:text-gray-400",children:"Manage approval processes for deals, tasks, and other business operations"})]}),s.jsx("div",{className:"mb-6",children:s.jsx("div",{className:"border-b border-gray-200 dark:border-gray-700",children:s.jsx("nav",{className:"-mb-px flex space-x-8",children:K.map(re=>s.jsxs("button",{onClick:()=>t(re.id),className:`flex items-center space-x-2 py-2 px-1 border-b-2 font-medium text-sm ${e===re.id?"border-blue-500 text-blue-600 dark:text-blue-400":"border-transparent text-gray-500 hover:text-gray-700 hover:border-gray-300 dark:text-gray-400 dark:hover:text-gray-300"}`,children:[re.icon,s.jsx("span",{children:re.name})]},re.id))})})}),(e==="requests"||e==="my-pending")&&s.jsxs("div",{className:"mb-6 flex flex-wrap gap-4",children:[s.jsxs("div",{className:"flex items-center space-x-2",children:[s.jsx(q2,{className:"w-4 h-4 text-gray-500"}),s.jsxs("select",{value:C,onChange:re=>O(re.target.value),className:"px-3 py-2 border border-gray-300 rounded-md text-sm focus:outline-none focus:ring-2 focus:ring-blue-500 dark:bg-gray-800 dark:border-gray-600 dark:text-white",children:[s.jsx("option",{value:"all",children:"All Status"}),s.jsx("option",{value:"pending",children:"Pending"}),s.jsx("option",{value:"approved",children:"Approved"}),s.jsx("option",{value:"rejected",children:"Rejected"}),s.jsx("option",{value:"cancelled",children:"Cancelled"})]})]}),s.jsx("div",{className:"flex items-center space-x-2",children:s.jsxs("select",{value:P,onChange:re=>F(re.target.value),className:"px-3 py-2 border border-gray-300 rounded-md text-sm focus:outline-none focus:ring-2 focus:ring-blue-500 dark:bg-gray-800 dark:border-gray-600 dark:text-white",children:[s.jsx("option",{value:"all",children:"All Types"}),s.jsx("option",{value:"deal",children:"Deals"}),s.jsx("option",{value:"task",children:"Tasks"}),s.jsx("option",{value:"expense",children:"Expenses"}),s.jsx("option",{value:"lead_qualification",children:"Lead Qualification"})]})})]}),d?s.jsx("div",{className:"flex justify-center items-center py-12",children:s.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-blue-600"})}):s.jsxs(s.Fragment,{children:[e==="workflows"&&s.jsxs("div",{className:"space-y-6",children:[s.jsxs("div",{className:"flex justify-between items-center",children:[s.jsx("h2",{className:"text-xl font-semibold text-gray-900 dark:text-white",children:"Approval Workflows"}),s.jsxs("div",{className:"flex space-x-3",children:[s.jsxs("button",{onClick:ae,className:"flex items-center space-x-2 px-4 py-2 bg-green-600 text-white rounded-lg hover:bg-green-700 transition-colors",children:[s.jsx(Cr,{className:"w-4 h-4"}),s.jsx("span",{children:"Create Samples"})]}),s.jsxs("button",{onClick:()=>w(!0),className:"flex items-center space-x-2 px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors",children:[s.jsx(Cr,{className:"w-4 h-4"}),s.jsx("span",{children:"Create Workflow"})]})]})]}),s.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:r&&Array.isArray(r)?r.map(re=>s.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-lg shadow-sm border border-gray-200 dark:border-gray-700 p-6",children:[s.jsxs("div",{className:"flex items-start justify-between mb-4",children:[s.jsxs("div",{className:"flex items-center space-x-2",children:[le(re.entity_type),s.jsx("h3",{className:"font-semibold text-gray-900 dark:text-white",children:re.workflow_name})]}),s.jsx("span",{className:`px-2 py-1 text-xs rounded-full ${re.is_active?"bg-green-100 text-green-800 dark:bg-green-900 dark:text-green-200":"bg-gray-100 text-gray-800 dark:bg-gray-700 dark:text-gray-200"}`,children:re.is_active?"Active":"Inactive"})]}),re.workflow_description&&s.jsx("p",{className:"text-gray-600 dark:text-gray-400 text-sm mb-4",children:re.workflow_description}),s.jsxs("div",{className:"space-y-2 text-sm text-gray-600 dark:text-gray-400",children:[s.jsxs("div",{className:"flex justify-between",children:[s.jsx("span",{children:"Entity Type:"}),s.jsx("span",{className:"capitalize",children:re.entity_type.replace("_"," ")})]}),s.jsxs("div",{className:"flex justify-between",children:[s.jsx("span",{children:"Steps:"}),s.jsx("span",{children:re.approval_steps.length})]}),s.jsxs("div",{className:"flex justify-between",children:[s.jsx("span",{children:"Created:"}),s.jsx("span",{children:De(re.created_at)})]})]})]},re.id)):s.jsx("div",{className:"col-span-full text-center py-8 text-gray-500 dark:text-gray-400",children:"No workflows found"})})]}),e==="requests"&&s.jsxs("div",{className:"space-y-6",children:[s.jsx("h2",{className:"text-xl font-semibold text-gray-900 dark:text-white",children:"All Approval Requests"}),s.jsx("div",{className:"bg-white dark:bg-gray-800 rounded-lg shadow-sm border border-gray-200 dark:border-gray-700 overflow-hidden",children:s.jsx("div",{className:"overflow-x-auto",children:s.jsxs("table",{className:"min-w-full divide-y divide-gray-200 dark:divide-gray-700",children:[s.jsx("thead",{className:"bg-gray-50 dark:bg-gray-700",children:s.jsxs("tr",{children:[s.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-300 uppercase tracking-wider",children:"Request"}),s.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-300 uppercase tracking-wider",children:"Type"}),s.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-300 uppercase tracking-wider",children:"Priority"}),s.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-300 uppercase tracking-wider",children:"Status"}),s.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-300 uppercase tracking-wider",children:"Progress"}),s.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-300 uppercase tracking-wider",children:"Requested"}),s.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-300 uppercase tracking-wider",children:"Actions"})]})}),s.jsx("tbody",{className:"bg-white dark:bg-gray-800 divide-y divide-gray-200 dark:divide-gray-700",children:a&&Array.isArray(a)?a.map(re=>s.jsxs("tr",{className:"hover:bg-gray-50 dark:hover:bg-gray-700",children:[s.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:s.jsxs("div",{children:[s.jsx("div",{className:"text-sm font-medium text-gray-900 dark:text-white",children:re.request_reason}),s.jsxs("div",{className:"text-sm text-gray-500 dark:text-gray-400",children:["ID: ",re.id]})]})}),s.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:s.jsxs("div",{className:"flex items-center space-x-2",children:[le(re.entity_type),s.jsx("span",{className:"text-sm text-gray-900 dark:text-white capitalize",children:re.entity_type.replace("_"," ")})]})}),s.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:s.jsx("span",{className:`px-2 py-1 text-xs rounded-full ${V(re.priority)}`,children:re.priority})}),s.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:s.jsx("span",{className:`px-2 py-1 text-xs rounded-full ${B(re.status)}`,children:re.status})}),s.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:s.jsxs("div",{className:"flex items-center space-x-2",children:[s.jsx("div",{className:"w-16 bg-gray-200 rounded-full h-2 dark:bg-gray-700",children:s.jsx("div",{className:"bg-blue-600 h-2 rounded-full",style:{width:`${re.current_step/re.total_steps*100}%`}})}),s.jsxs("span",{className:"text-sm text-gray-600 dark:text-gray-400",children:[re.current_step,"/",re.total_steps]})]})}),s.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500 dark:text-gray-400",children:De(re.requested_at)}),s.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm font-medium",children:s.jsx("button",{onClick:()=>{p(re),U(re.id)},className:"text-blue-600 hover:text-blue-900 dark:text-blue-400 dark:hover:text-blue-300",children:s.jsx(gn,{className:"w-4 h-4"})})})]},re.id)):s.jsx("tr",{children:s.jsx("td",{colSpan:7,className:"px-6 py-4 text-center text-gray-500 dark:text-gray-400",children:"No requests found"})})})]})})})]}),e==="my-pending"&&s.jsxs("div",{className:"space-y-6",children:[s.jsx("h2",{className:"text-xl font-semibold text-gray-900 dark:text-white",children:"My Pending Approvals"}),s.jsx("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:l&&Array.isArray(l)?l.map(re=>s.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-lg shadow-sm border border-gray-200 dark:border-gray-700 p-6",children:[s.jsxs("div",{className:"flex items-start justify-between mb-4",children:[s.jsxs("div",{className:"flex items-center space-x-2",children:[le(re.entity_type),s.jsx("h3",{className:"font-semibold text-gray-900 dark:text-white",children:re.request_reason})]}),s.jsx("span",{className:`px-2 py-1 text-xs rounded-full ${V(re.priority)}`,children:re.priority})]}),s.jsxs("div",{className:"space-y-2 text-sm text-gray-600 dark:text-gray-400 mb-4",children:[s.jsxs("div",{className:"flex justify-between",children:[s.jsx("span",{children:"Type:"}),s.jsx("span",{className:"capitalize",children:re.entity_type.replace("_"," ")})]}),s.jsxs("div",{className:"flex justify-between",children:[s.jsx("span",{children:"Requested by:"}),s.jsx("span",{children:re.requester_name})]}),s.jsxs("div",{className:"flex justify-between",children:[s.jsx("span",{children:"Requested:"}),s.jsx("span",{children:De(re.requested_at)})]}),re.due_date&&s.jsxs("div",{className:"flex justify-between",children:[s.jsx("span",{children:"Due:"}),s.jsx("span",{className:new Date(re.due_date)<new Date?"text-red-600":"",children:De(re.due_date)})]})]}),s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{className:"flex items-center space-x-2",children:[s.jsx("div",{className:"w-20 bg-gray-200 rounded-full h-2 dark:bg-gray-700",children:s.jsx("div",{className:"bg-blue-600 h-2 rounded-full",style:{width:`${re.current_step/re.total_steps*100}%`}})}),s.jsxs("span",{className:"text-sm text-gray-600 dark:text-gray-400",children:[re.current_step,"/",re.total_steps]})]}),s.jsxs("div",{className:"flex space-x-2",children:[s.jsxs("button",{onClick:()=>{p(re),E("approve"),S(!0)},className:"flex items-center space-x-1 px-3 py-1 bg-green-600 text-white rounded-md hover:bg-green-700 transition-colors text-sm",children:[s.jsx(XM,{className:"w-3 h-3"}),s.jsx("span",{children:"Approve"})]}),s.jsxs("button",{onClick:()=>{p(re),E("reject"),S(!0)},className:"flex items-center space-x-1 px-3 py-1 bg-red-600 text-white rounded-md hover:bg-red-700 transition-colors text-sm",children:[s.jsx(Tr,{className:"w-3 h-3"}),s.jsx("span",{children:"Reject"})]})]})]})]},re.id)):s.jsx("div",{className:"col-span-full text-center py-8 text-gray-500 dark:text-gray-400",children:"No pending approvals found"})})]}),e==="settings"&&s.jsxs("div",{className:"space-y-6",children:[s.jsx("h2",{className:"text-xl font-semibold text-gray-900 dark:text-white",children:"Approval Settings"}),s.jsx("div",{className:"bg-white dark:bg-gray-800 rounded-lg shadow-sm border border-gray-200 dark:border-gray-700 p-6",children:s.jsx("p",{className:"text-gray-600 dark:text-gray-400",children:"Approval workflow settings and configuration options will be available here."})})]})]}),b&&s.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:s.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-lg p-6 w-full max-w-2xl max-h-[90vh] overflow-y-auto",children:[s.jsx("h3",{className:"text-lg font-semibold text-gray-900 dark:text-white mb-4",children:"Create New Approval Workflow"}),s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Workflow Name"}),s.jsx("input",{type:"text",value:fe.workflow_name,onChange:re=>Q({...fe,workflow_name:re.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500 dark:bg-gray-700 dark:border-gray-600 dark:text-white",placeholder:"Enter workflow name"})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Description"}),s.jsx("textarea",{value:fe.workflow_description,onChange:re=>Q({...fe,workflow_description:re.target.value}),rows:3,className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500 dark:bg-gray-700 dark:border-gray-600 dark:text-white",placeholder:"Enter workflow description"})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Entity Type"}),s.jsxs("select",{value:fe.entity_type,onChange:re=>Q({...fe,entity_type:re.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500 dark:bg-gray-700 dark:border-gray-600 dark:text-white",children:[s.jsx("option",{value:"deal",children:"Deal"}),s.jsx("option",{value:"task",children:"Task"}),s.jsx("option",{value:"expense",children:"Expense"}),s.jsx("option",{value:"lead_qualification",children:"Lead Qualification"})]})]}),s.jsxs("div",{className:"flex items-center",children:[s.jsx("input",{type:"checkbox",id:"is_active",checked:fe.is_active,onChange:re=>Q({...fe,is_active:re.target.checked}),className:"h-4 w-4 text-blue-600 focus:ring-blue-500 border-gray-300 rounded"}),s.jsx("label",{htmlFor:"is_active",className:"ml-2 block text-sm text-gray-700 dark:text-gray-300",children:"Active"})]})]}),s.jsxs("div",{className:"flex justify-end space-x-3 mt-6",children:[s.jsx("button",{onClick:()=>{w(!1),Q({workflow_name:"",workflow_description:"",entity_type:"deal",trigger_conditions:{},approval_steps:[],is_active:!0})},className:"px-4 py-2 text-gray-700 bg-gray-200 rounded-md hover:bg-gray-300 transition-colors dark:bg-gray-600 dark:text-gray-300 dark:hover:bg-gray-500",children:"Cancel"}),s.jsx("button",{onClick:D,disabled:!fe.workflow_name.trim(),className:"px-4 py-2 bg-blue-600 text-white rounded-md hover:bg-blue-700 transition-colors disabled:bg-gray-400 disabled:cursor-not-allowed",children:"Create Workflow"})]})]})}),j&&h&&s.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:s.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-lg p-6 w-full max-w-md",children:[s.jsx("h3",{className:"text-lg font-semibold text-gray-900 dark:text-white mb-4",children:_==="approve"?"Approve Request":"Reject Request"}),s.jsxs("div",{className:"mb-4",children:[s.jsxs("p",{className:"text-sm text-gray-600 dark:text-gray-400 mb-2",children:["Request: ",h.request_reason]}),s.jsxs("p",{className:"text-sm text-gray-600 dark:text-gray-400",children:["Type: ",h.entity_type.replace("_"," ")]})]}),s.jsxs("div",{className:"mb-4",children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Comments (optional)"}),s.jsx("textarea",{value:T,onChange:re=>A(re.target.value),rows:3,className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500 dark:bg-gray-700 dark:border-gray-600 dark:text-white",placeholder:"Add comments for this approval..."})]}),s.jsxs("div",{className:"flex justify-end space-x-3",children:[s.jsx("button",{onClick:()=>{S(!1),A("")},className:"px-4 py-2 text-gray-700 bg-gray-200 rounded-md hover:bg-gray-300 transition-colors dark:bg-gray-600 dark:text-gray-300 dark:hover:bg-gray-500",children:"Cancel"}),s.jsx("button",{onClick:()=>H(h.id,_),className:`px-4 py-2 text-white rounded-md transition-colors ${_==="approve"?"bg-green-600 hover:bg-green-700":"bg-red-600 hover:bg-red-700"}`,children:_==="approve"?"Approve":"Reject"})]})]})})]}),s.jsx(Ft,{open:G,onClose:()=>W(!1),title:"Success",animationType:"scale",size:"sm",children:s.jsxs("div",{className:"text-center space-y-4",children:[s.jsx("div",{className:"mx-auto flex items-center justify-center h-16 w-16 rounded-full bg-green-100 dark:bg-green-900",children:s.jsx(Lt,{className:"h-8 w-8 text-green-600 dark:text-green-400"})}),s.jsx("p",{className:"text-lg text-gray-900 dark:text-white",children:ee}),s.jsx("button",{onClick:()=>W(!1),className:"w-full px-4 py-2 bg-green-600 text-white rounded-lg hover:bg-green-700 transition-colors duration-200",children:"OK"})]})})]})},PTe=()=>{const[e,t]=v.useState("campaigns"),[r,n]=v.useState([]),[a,i]=v.useState([]),[l,c]=v.useState([]),[d,f]=v.useState(!1),[h,p]=v.useState(!1),[g,y]=v.useState(!1),[b,w]=v.useState(null),[j,S]=v.useState({campaign_name:"",campaign_description:"",campaign_type:"drip",target_segment:"",is_active:!0,start_date:"",end_date:""}),[_,E]=v.useState({step_name:"",step_type:"email",step_order:1,delay_days:0,delay_hours:0,step_data:{},trigger_conditions:{},is_active:!0}),[T,A]=v.useState(!1),[C,O]=v.useState("");v.useEffect(()=>{if(!localStorage.getItem("access_token")){console.log("No authentication token found, skipping API calls");return}e==="campaigns"?P():e==="steps"&&b?F(b.id):e==="enrollments"&&b&&G(b.id)},[e,b]);const P=async()=>{try{const Q=await fetch("/api/lead-nurturing-campaigns",{headers:{Authorization:`Bearer ${localStorage.getItem("access_token")}`}}),K=await Q.json();Q.ok?n(Array.isArray(K)?K:[]):(console.error("Failed to fetch campaigns:",K.error),n([]))}catch(Q){console.error("Error fetching campaigns:",Q),n([])}},F=async Q=>{try{const K=await fetch(`/api/lead-nurturing-campaigns/${Q}/steps`,{headers:{Authorization:`Bearer ${localStorage.getItem("access_token")}`}}),J=await K.json();K.ok?i(Array.isArray(J)?J:[]):(console.error("Failed to fetch steps:",J.error),i([]))}catch(K){console.error("Error fetching steps:",K),i([])}},G=async Q=>{try{const K=await fetch(`/api/lead-nurturing-campaigns/${Q}/enrollments`,{headers:{Authorization:`Bearer ${localStorage.getItem("access_token")}`}}),J=await K.json();K.ok?c(Array.isArray(J)?J:[]):(console.error("Failed to fetch enrollments:",J.error),c([]))}catch(K){console.error("Error fetching enrollments:",K),c([])}},W=async()=>{const Q=localStorage.getItem("access_token");if(!Q){console.error("No authentication token found - please log in first"),alert("Please log in first to create campaigns");return}try{const K={...j,start_date:j.start_date&&j.start_date.trim()!==""?j.start_date:null,end_date:j.end_date&&j.end_date.trim()!==""?j.end_date:null,target_segment:j.target_segment&&j.target_segment.trim()!==""?j.target_segment:null},J=await fetch("/api/lead-nurturing-campaigns",{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${Q}`},body:JSON.stringify(K)}),se=await J.json();J.ok?(P(),p(!1),S({campaign_name:"",campaign_description:"",campaign_type:"drip",target_segment:"",is_active:!0,start_date:"",end_date:""}),O("Campaign created successfully!"),A(!0)):(console.error("Failed to create campaign:",se.error),O(`Failed to create campaign: ${se.error}`),A(!0))}catch(K){console.error("Error creating campaign:",K),O("Error creating campaign"),A(!0)}},ee=async()=>{if(!b)return;const Q=localStorage.getItem("access_token");if(!Q){console.error("No authentication token found - please log in first"),alert("Please log in first to create steps");return}try{const K=await fetch(`/api/lead-nurturing-campaigns/${b.id}/steps`,{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${Q}`},body:JSON.stringify(_)}),J=await K.json();K.ok?(F(b.id),y(!1),E({step_name:"",step_type:"email",step_order:1,delay_days:0,delay_hours:0,step_data:{},trigger_conditions:{},is_active:!0}),O("Step created successfully!"),A(!0)):(console.error("Failed to create step:",J.error),O(`Failed to create step: ${J.error}`),A(!0))}catch(K){console.error("Error creating step:",K),O("Error creating step"),A(!0)}},ue=Q=>{switch(Q){case"email":return s.jsx(Wd,{className:"w-4 h-4"});case"call":return s.jsx(_c,{className:"w-4 h-4"});case"task":return s.jsx(nR,{className:"w-4 h-4"});case"wait":return s.jsx(is,{className:"w-4 h-4"});default:return s.jsx(Aa,{className:"w-4 h-4"})}},fe=Q=>{switch(Q){case"active":return"bg-green-100 text-green-800 dark:bg-green-900 dark:text-green-300";case"paused":return"bg-yellow-100 text-yellow-800 dark:bg-yellow-900 dark:text-yellow-300";case"completed":return"bg-blue-100 text-blue-800 dark:bg-blue-900 dark:text-blue-300";case"converted":return"bg-purple-100 text-purple-800 dark:bg-purple-900 dark:text-purple-300";default:return"bg-gray-100 text-gray-800 dark:bg-gray-900 dark:text-gray-300"}};return s.jsxs("div",{className:"p-6 max-w-7xl mx-auto",children:[s.jsxs("div",{className:"mb-8",children:[s.jsx("h1",{className:"text-3xl font-bold text-gray-900 dark:text-white mb-2",children:"Lead Nurturing Campaigns"}),s.jsx("p",{className:"text-gray-600 dark:text-gray-400",children:"Create and manage automated lead nurturing campaigns to improve conversion rates"})]}),s.jsx("div",{className:"mb-6",children:s.jsx("div",{className:"border-b border-gray-200 dark:border-gray-700",children:s.jsxs("nav",{className:"-mb-px flex space-x-8",children:[s.jsx("button",{onClick:()=>t("campaigns"),className:`py-2 px-1 border-b-2 font-medium text-sm ${e==="campaigns"?"border-blue-500 text-blue-600 dark:text-blue-400":"border-transparent text-gray-500 hover:text-gray-700 hover:border-gray-300 dark:text-gray-400 dark:hover:text-gray-300"}`,children:"Campaigns"}),s.jsx("button",{onClick:()=>t("steps"),className:`py-2 px-1 border-b-2 font-medium text-sm ${e==="steps"?"border-blue-500 text-blue-600 dark:text-blue-400":b?"border-transparent text-gray-500 hover:text-gray-700 hover:border-gray-300 dark:text-gray-400 dark:hover:text-gray-300":"border-transparent text-gray-400 cursor-not-allowed"}`,children:"Campaign Steps"}),s.jsx("button",{onClick:()=>t("enrollments"),className:`py-2 px-1 border-b-2 font-medium text-sm ${e==="enrollments"?"border-blue-500 text-blue-600 dark:text-blue-400":b?"border-transparent text-gray-500 hover:text-gray-700 hover:border-gray-300 dark:text-gray-400 dark:hover:text-gray-300":"border-transparent text-gray-400 cursor-not-allowed"}`,children:"Enrollments"})]})})}),e==="campaigns"&&s.jsxs("div",{children:[s.jsxs("div",{className:"flex justify-between items-center mb-6",children:[s.jsxs("div",{className:"flex items-center space-x-4",children:[s.jsxs("div",{className:"relative",children:[s.jsx(fi,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400 w-4 h-4"}),s.jsx("input",{type:"text",placeholder:"Search campaigns...",className:"pl-10 pr-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent dark:bg-gray-800 dark:border-gray-600 dark:text-white"})]}),s.jsxs("select",{className:"px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent dark:bg-gray-800 dark:border-gray-600 dark:text-white",children:[s.jsx("option",{value:"all",children:"All Types"}),s.jsx("option",{value:"drip",children:"Drip Campaigns"}),s.jsx("option",{value:"behavioral",children:"Behavioral"}),s.jsx("option",{value:"mixed",children:"Mixed"})]})]}),s.jsxs("button",{onClick:()=>p(!0),className:"flex items-center space-x-2 px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors",children:[s.jsx(Cr,{className:"w-4 h-4"}),s.jsx("span",{children:"Create Campaign"})]})]}),s.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:r.map(Q=>s.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-lg shadow-md p-6 border border-gray-200 dark:border-gray-700 hover:shadow-lg transition-shadow cursor-pointer",onClick:()=>w(Q),children:[s.jsxs("div",{className:"flex items-start justify-between mb-4",children:[s.jsxs("div",{children:[s.jsx("h3",{className:"text-lg font-semibold text-gray-900 dark:text-white",children:Q.campaign_name}),s.jsxs("p",{className:"text-sm text-gray-600 dark:text-gray-400",children:[Q.campaign_type.charAt(0).toUpperCase()+Q.campaign_type.slice(1)," Campaign"]})]}),s.jsxs("div",{className:"flex items-center space-x-2",children:[s.jsx("button",{className:"p-1 text-gray-400 hover:text-gray-600 dark:hover:text-gray-300",onClick:K=>{K.stopPropagation(),w(Q),t("steps")},children:s.jsx(Fs,{className:"w-4 h-4"})}),s.jsx("button",{className:"p-1 text-gray-400 hover:text-gray-600 dark:hover:text-gray-300",onClick:K=>{K.stopPropagation(),w(Q),t("enrollments")},children:s.jsx(gn,{className:"w-4 h-4"})})]})]}),Q.campaign_description&&s.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-400 mb-4",children:Q.campaign_description}),s.jsxs("div",{className:"grid grid-cols-2 gap-4 mb-4",children:[s.jsxs("div",{className:"text-center",children:[s.jsx("div",{className:"text-2xl font-bold text-blue-600 dark:text-blue-400",children:Q.total_leads}),s.jsx("div",{className:"text-xs text-gray-600 dark:text-gray-400",children:"Total Leads"})]}),s.jsxs("div",{className:"text-center",children:[s.jsxs("div",{className:"text-2xl font-bold text-green-600 dark:text-green-400",children:[Q.conversion_rate,"%"]}),s.jsx("div",{className:"text-xs text-gray-600 dark:text-gray-400",children:"Conversion Rate"})]})]}),s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsx("span",{className:`px-2 py-1 rounded-full text-xs font-medium ${Q.is_active?"bg-green-100 text-green-800 dark:bg-green-900 dark:text-green-300":"bg-gray-100 text-gray-800 dark:bg-gray-900 dark:text-gray-300"}`,children:Q.is_active?"Active":"Inactive"}),s.jsx("span",{className:"text-xs text-gray-500 dark:text-gray-400",children:new Date(Q.created_at).toLocaleDateString()})]})]},Q.id))}),r.length===0&&s.jsxs("div",{className:"text-center py-12",children:[s.jsx(Aa,{className:"mx-auto h-12 w-12 text-gray-400"}),s.jsx("h3",{className:"mt-2 text-sm font-medium text-gray-900 dark:text-white",children:"No campaigns"}),s.jsx("p",{className:"mt-1 text-sm text-gray-500 dark:text-gray-400",children:"Get started by creating your first lead nurturing campaign."}),s.jsx("div",{className:"mt-6",children:s.jsxs("button",{onClick:()=>p(!0),className:"inline-flex items-center px-4 py-2 border border-transparent shadow-sm text-sm font-medium rounded-md text-white bg-blue-600 hover:bg-blue-700",children:[s.jsx(Cr,{className:"w-4 h-4 mr-2"}),"Create Campaign"]})})]})]}),e==="steps"&&s.jsx("div",{children:b?s.jsxs("div",{children:[s.jsxs("div",{className:"flex justify-between items-center mb-6",children:[s.jsxs("div",{children:[s.jsxs("h2",{className:"text-xl font-semibold text-gray-900 dark:text-white",children:['Steps for "',b.campaign_name,'"']}),s.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-400",children:"Manage the sequence of actions in your campaign"})]}),s.jsxs("button",{onClick:()=>y(!0),className:"flex items-center space-x-2 px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors",children:[s.jsx(Cr,{className:"w-4 h-4"}),s.jsx("span",{children:"Add Step"})]})]}),s.jsx("div",{className:"space-y-4",children:a.map((Q,K)=>s.jsx("div",{className:"bg-white dark:bg-gray-800 rounded-lg shadow-md p-6 border border-gray-200 dark:border-gray-700",children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{className:"flex items-center space-x-4",children:[s.jsx("div",{className:"flex items-center justify-center w-8 h-8 bg-blue-100 dark:bg-blue-900 rounded-full",children:s.jsx("span",{className:"text-sm font-medium text-blue-600 dark:text-blue-400",children:Q.step_order})}),s.jsxs("div",{className:"flex items-center space-x-2",children:[ue(Q.step_type),s.jsx("h3",{className:"text-lg font-medium text-gray-900 dark:text-white",children:Q.step_name})]})]}),s.jsxs("div",{className:"flex items-center space-x-2",children:[s.jsxs("span",{className:"text-sm text-gray-600 dark:text-gray-400",children:[Q.delay_days>0&&`${Q.delay_days}d `,Q.delay_hours>0&&`${Q.delay_hours}h`,Q.delay_days===0&&Q.delay_hours===0&&"Immediate"]}),s.jsx("button",{className:"p-1 text-gray-400 hover:text-gray-600 dark:hover:text-gray-300",children:s.jsx(Wx,{className:"w-4 h-4"})}),s.jsx("button",{className:"p-1 text-gray-400 hover:text-red-600 dark:hover:text-red-400",children:s.jsx(Mi,{className:"w-4 h-4"})})]})]})},Q.id))}),a.length===0&&s.jsxs("div",{className:"text-center py-12",children:[s.jsx(Aa,{className:"mx-auto h-12 w-12 text-gray-400"}),s.jsx("h3",{className:"mt-2 text-sm font-medium text-gray-900 dark:text-white",children:"No steps"}),s.jsx("p",{className:"mt-1 text-sm text-gray-500 dark:text-gray-400",children:"Add steps to create your nurturing sequence."})]})]}):s.jsxs("div",{className:"text-center py-12",children:[s.jsx(Aa,{className:"mx-auto h-12 w-12 text-gray-400"}),s.jsx("h3",{className:"mt-2 text-sm font-medium text-gray-900 dark:text-white",children:"Select a Campaign"}),s.jsx("p",{className:"mt-1 text-sm text-gray-500 dark:text-gray-400",children:"Please select a campaign from the Campaigns tab to view and manage its steps."}),s.jsx("div",{className:"mt-6",children:s.jsx("button",{onClick:()=>t("campaigns"),className:"inline-flex items-center px-4 py-2 border border-transparent shadow-sm text-sm font-medium rounded-md text-white bg-blue-600 hover:bg-blue-700",children:"Go to Campaigns"})})]})}),e==="enrollments"&&s.jsx("div",{children:b?s.jsxs("div",{children:[s.jsx("div",{className:"flex justify-between items-center mb-6",children:s.jsxs("div",{children:[s.jsxs("h2",{className:"text-xl font-semibold text-gray-900 dark:text-white",children:['Enrollments for "',b.campaign_name,'"']}),s.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-400",children:"View and manage lead enrollments in this campaign"})]})}),s.jsx("div",{className:"bg-white dark:bg-gray-800 rounded-lg shadow-md overflow-hidden",children:s.jsxs("table",{className:"min-w-full divide-y divide-gray-200 dark:divide-gray-700",children:[s.jsx("thead",{className:"bg-gray-50 dark:bg-gray-700",children:s.jsxs("tr",{children:[s.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-300 uppercase tracking-wider",children:"Lead ID"}),s.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-300 uppercase tracking-wider",children:"Current Step"}),s.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-300 uppercase tracking-wider",children:"Status"}),s.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-300 uppercase tracking-wider",children:"Enrolled"}),s.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-300 uppercase tracking-wider",children:"Last Activity"})]})}),s.jsx("tbody",{className:"bg-white dark:bg-gray-800 divide-y divide-gray-200 dark:divide-gray-700",children:l.map(Q=>s.jsxs("tr",{children:[s.jsxs("td",{className:"px-6 py-4 whitespace-nowrap text-sm font-medium text-gray-900 dark:text-white",children:["#",Q.lead_id]}),s.jsxs("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-600 dark:text-gray-400",children:["Step ",Q.current_step]}),s.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:s.jsx("span",{className:`px-2 py-1 rounded-full text-xs font-medium ${fe(Q.status)}`,children:Q.status})}),s.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-600 dark:text-gray-400",children:new Date(Q.enrolled_at).toLocaleDateString()}),s.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-600 dark:text-gray-400",children:Q.last_activity?new Date(Q.last_activity).toLocaleDateString():"Never"})]},Q.id))})]})}),l.length===0&&s.jsxs("div",{className:"text-center py-12",children:[s.jsx(jr,{className:"mx-auto h-12 w-12 text-gray-400"}),s.jsx("h3",{className:"mt-2 text-sm font-medium text-gray-900 dark:text-white",children:"No enrollments"}),s.jsx("p",{className:"mt-1 text-sm text-gray-500 dark:text-gray-400",children:"No leads have been enrolled in this campaign yet."})]})]}):s.jsxs("div",{className:"text-center py-12",children:[s.jsx(jr,{className:"mx-auto h-12 w-12 text-gray-400"}),s.jsx("h3",{className:"mt-2 text-sm font-medium text-gray-900 dark:text-white",children:"Select a Campaign"}),s.jsx("p",{className:"mt-1 text-sm text-gray-500 dark:text-gray-400",children:"Please select a campaign from the Campaigns tab to view its enrollments."}),s.jsx("div",{className:"mt-6",children:s.jsx("button",{onClick:()=>t("campaigns"),className:"inline-flex items-center px-4 py-2 border border-transparent shadow-sm text-sm font-medium rounded-md text-white bg-blue-600 hover:bg-blue-700",children:"Go to Campaigns"})})]})}),s.jsx(Ft,{open:h,onClose:()=>p(!1),title:"Create Lead Nurturing Campaign",animationType:"scale",size:"lg",children:s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:"Campaign Name"}),s.jsx("input",{type:"text",value:j.campaign_name,onChange:Q=>S({...j,campaign_name:Q.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent dark:bg-gray-800 dark:border-gray-600 dark:text-white",placeholder:"Enter campaign name"})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:"Description"}),s.jsx("textarea",{value:j.campaign_description,onChange:Q=>S({...j,campaign_description:Q.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent dark:bg-gray-800 dark:border-gray-600 dark:text-white",rows:3,placeholder:"Enter campaign description"})]}),s.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:"Campaign Type"}),s.jsxs("select",{value:j.campaign_type,onChange:Q=>S({...j,campaign_type:Q.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent dark:bg-gray-800 dark:border-gray-600 dark:text-white",children:[s.jsx("option",{value:"drip",children:"Drip Campaign"}),s.jsx("option",{value:"behavioral",children:"Behavioral"}),s.jsx("option",{value:"mixed",children:"Mixed"})]})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:"Target Segment"}),s.jsx("input",{type:"text",value:j.target_segment,onChange:Q=>S({...j,target_segment:Q.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent dark:bg-gray-800 dark:border-gray-600 dark:text-white",placeholder:"e.g., High-value leads"})]})]}),s.jsxs("div",{className:"flex items-center",children:[s.jsx("input",{type:"checkbox",id:"is_active",checked:j.is_active,onChange:Q=>S({...j,is_active:Q.target.checked}),className:"h-4 w-4 text-blue-600 focus:ring-blue-500 border-gray-300 rounded"}),s.jsx("label",{htmlFor:"is_active",className:"ml-2 block text-sm text-gray-700 dark:text-gray-300",children:"Active campaign"})]}),s.jsxs("div",{className:"flex justify-end space-x-3 pt-4",children:[s.jsx("button",{onClick:()=>p(!1),className:"px-4 py-2 text-gray-700 bg-gray-200 rounded-lg hover:bg-gray-300 transition-colors dark:bg-gray-700 dark:text-gray-300 dark:hover:bg-gray-600",children:"Cancel"}),s.jsx("button",{onClick:W,className:"px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors",children:"Create Campaign"})]})]})}),s.jsx(Ft,{open:g,onClose:()=>y(!1),title:"Add Campaign Step",animationType:"scale",size:"lg",children:s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:"Step Name"}),s.jsx("input",{type:"text",value:_.step_name,onChange:Q=>E({..._,step_name:Q.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent dark:bg-gray-800 dark:border-gray-600 dark:text-white",placeholder:"Enter step name"})]}),s.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:"Step Type"}),s.jsxs("select",{value:_.step_type,onChange:Q=>E({..._,step_type:Q.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent dark:bg-gray-800 dark:border-gray-600 dark:text-white",children:[s.jsx("option",{value:"email",children:"Email"}),s.jsx("option",{value:"call",children:"Call"}),s.jsx("option",{value:"task",children:"Task"}),s.jsx("option",{value:"wait",children:"Wait"})]})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:"Step Order"}),s.jsx("input",{type:"number",value:_.step_order,onChange:Q=>E({..._,step_order:parseInt(Q.target.value)}),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent dark:bg-gray-800 dark:border-gray-600 dark:text-white",min:"1"})]})]}),s.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:"Delay (Days)"}),s.jsx("input",{type:"number",value:_.delay_days,onChange:Q=>E({..._,delay_days:parseInt(Q.target.value)}),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent dark:bg-gray-800 dark:border-gray-600 dark:text-white",min:"0"})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:"Delay (Hours)"}),s.jsx("input",{type:"number",value:_.delay_hours,onChange:Q=>E({..._,delay_hours:parseInt(Q.target.value)}),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent dark:bg-gray-800 dark:border-gray-600 dark:text-white",min:"0",max:"23"})]})]}),s.jsxs("div",{className:"flex items-center",children:[s.jsx("input",{type:"checkbox",id:"step_active",checked:_.is_active,onChange:Q=>E({..._,is_active:Q.target.checked}),className:"h-4 w-4 text-blue-600 focus:ring-blue-500 border-gray-300 rounded"}),s.jsx("label",{htmlFor:"step_active",className:"ml-2 block text-sm text-gray-700 dark:text-gray-300",children:"Active step"})]}),s.jsxs("div",{className:"flex justify-end space-x-3 pt-4",children:[s.jsx("button",{onClick:()=>y(!1),className:"px-4 py-2 text-gray-700 bg-gray-200 rounded-lg hover:bg-gray-300 transition-colors dark:bg-gray-700 dark:text-gray-300 dark:hover:bg-gray-600",children:"Cancel"}),s.jsx("button",{onClick:ee,className:"px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors",children:"Add Step"})]})]})}),s.jsx(Ft,{open:T,onClose:()=>A(!1),title:C.includes("Failed")||C.includes("Error")?"Error":"Success",animationType:"scale",size:"sm",children:s.jsxs("div",{className:"text-center space-y-4",children:[s.jsx("div",{className:`mx-auto flex items-center justify-center h-16 w-16 rounded-full ${C.includes("Failed")||C.includes("Error")?"bg-red-100 dark:bg-red-900":"bg-green-100 dark:bg-green-900"}`,children:C.includes("Failed")||C.includes("Error")?s.jsx(Aa,{className:"h-8 w-8 text-red-600 dark:text-red-400"}):s.jsx(Vr,{className:"h-8 w-8 text-green-600 dark:text-green-400"})}),s.jsx("p",{className:"text-lg text-gray-900 dark:text-white",children:C}),s.jsx("button",{onClick:()=>A(!1),className:`w-full px-4 py-2 text-white rounded-lg transition-colors duration-200 ${C.includes("Failed")||C.includes("Error")?"bg-red-600 hover:bg-red-700":"bg-green-600 hover:bg-green-700"}`,children:"Close"})]})})]})},MTe=()=>{const{isAuthenticated:e}=ma(),[t,r]=v.useState(!1);if(e)return s.jsx(FN,{to:"/dashboard",replace:!0});const n=[{icon:s.jsx(Pa,{className:"w-8 h-8"}),title:"AI-Powered Analytics",description:"Get intelligent insights and predictions to boost your sales performance"},{icon:s.jsx(jr,{className:"w-8 h-8"}),title:"Lead Management",description:"Track and nurture leads with automated scoring and personalized follow-ups"},{icon:s.jsx(Aa,{className:"w-8 h-8"}),title:"Pipeline Management",description:"Visualize your sales pipeline with drag-and-drop kanban boards"},{icon:s.jsx(Qc,{className:"w-8 h-8"}),title:"Email Automation",description:"Send personalized emails at scale with smart templates and scheduling"},{icon:s.jsx(zN,{className:"w-8 h-8"}),title:"Secure & Reliable",description:"Enterprise-grade security with 99.9% uptime guarantee"}],a=[{name:"Sarah Johnson",role:"Sales Director",company:"TechCorp",content:"NeuraCRM increased our conversion rate by 40% in just 3 months. The AI insights are game-changing!",rating:5},{name:"Mike Chen",role:"CEO",company:"StartupXYZ",content:"Finally, a CRM that actually helps us close deals. The pipeline management is intuitive and powerful.",rating:5},{name:"Emily Rodriguez",role:"Sales Manager",company:"GrowthCo",content:"The email automation features saved us 10 hours per week. Our team loves the modern interface.",rating:5}],i=[{name:"Starter",price:"$29",period:"/month",description:"Perfect for small teams getting started",features:["Up to 1,000 contacts","Basic pipeline management","Email templates","Standard support"],cta:"Start Free Trial",popular:!1},{name:"Professional",price:"$79",period:"/month",description:"Ideal for growing sales teams",features:["Up to 10,000 contacts","Advanced analytics","AI-powered insights","Email automation","Priority support"],cta:"Start Free Trial",popular:!0},{name:"Enterprise",price:"$199",period:"/month",description:"For large organizations",features:["Unlimited contacts","Custom integrations","Advanced reporting","Dedicated support","Custom training"],cta:"Contact Sales",popular:!1}];return s.jsxs("div",{className:"min-h-screen bg-white",children:[s.jsxs("nav",{className:"fixed w-full bg-white/95 backdrop-blur-sm border-b border-gray-200 z-50",children:[s.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:s.jsxs("div",{className:"flex justify-between items-center h-16",children:[s.jsxs("div",{className:"flex items-center",children:[s.jsx("div",{className:"flex-shrink-0",children:s.jsx("img",{className:"h-8 w-auto",src:"/assets/NeuraCRM--QfIME8Q.png",alt:"NeuraCRM"})}),s.jsx("div",{className:"ml-2",children:s.jsx("span",{className:"text-xl font-bold bg-gradient-to-r from-blue-600 to-purple-600 bg-clip-text text-transparent",children:"NeuraCRM"})})]}),s.jsx("div",{className:"hidden md:block",children:s.jsxs("div",{className:"ml-10 flex items-baseline space-x-8",children:[s.jsx("a",{href:"#features",className:"text-gray-600 hover:text-gray-900 px-3 py-2 text-sm font-medium",children:"Features"}),s.jsx("a",{href:"#pricing",className:"text-gray-600 hover:text-gray-900 px-3 py-2 text-sm font-medium",children:"Pricing"}),s.jsx("a",{href:"#testimonials",className:"text-gray-600 hover:text-gray-900 px-3 py-2 text-sm font-medium",children:"Testimonials"})]})}),s.jsx("div",{className:"hidden md:block",children:s.jsxs("div",{className:"ml-4 flex items-center space-x-4",children:[s.jsx(Ka,{to:"/signin",className:"text-gray-600 hover:text-gray-900 px-3 py-2 text-sm font-medium",children:"Sign In"}),s.jsx(Ka,{to:"/signup",className:"bg-gradient-to-r from-blue-600 to-purple-600 text-white px-6 py-2 rounded-full text-sm font-medium hover:from-blue-700 hover:to-purple-700 transition-all duration-200 shadow-lg hover:shadow-xl",children:"Get Started"})]})}),s.jsx("div",{className:"md:hidden",children:s.jsx("button",{onClick:()=>r(!t),className:"text-gray-600 hover:text-gray-900",children:t?s.jsx(Tr,{className:"w-6 h-6"}):s.jsx(tR,{className:"w-6 h-6"})})})]})}),t&&s.jsx("div",{className:"md:hidden bg-white border-t border-gray-200",children:s.jsxs("div",{className:"px-2 pt-2 pb-3 space-y-1",children:[s.jsx("a",{href:"#features",className:"block px-3 py-2 text-gray-600 hover:text-gray-900",children:"Features"}),s.jsx("a",{href:"#pricing",className:"block px-3 py-2 text-gray-600 hover:text-gray-900",children:"Pricing"}),s.jsx("a",{href:"#testimonials",className:"block px-3 py-2 text-gray-600 hover:text-gray-900",children:"Testimonials"}),s.jsx(Ka,{to:"/signin",className:"block px-3 py-2 text-gray-600 hover:text-gray-900",children:"Sign In"}),s.jsx(Ka,{to:"/signup",className:"block px-3 py-2 bg-gradient-to-r from-blue-600 to-purple-600 text-white rounded-lg mx-3 text-center",children:"Get Started"})]})})]}),s.jsx("section",{className:"pt-20 pb-16 bg-gradient-to-br from-blue-50 via-white to-purple-50",children:s.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:s.jsxs("div",{className:"text-center",children:[s.jsxs("h1",{className:"text-4xl md:text-6xl font-extrabold text-gray-900 mb-6",children:["The Future of",s.jsx("span",{className:"bg-gradient-to-r from-blue-600 to-purple-600 bg-clip-text text-transparent",children:" Sales CRM"})]}),s.jsx("p",{className:"text-xl text-gray-600 mb-8 max-w-3xl mx-auto",children:"Boost your sales with AI-powered insights, automated workflows, and intelligent lead scoring. Close more deals, faster."}),s.jsxs("div",{className:"flex flex-col sm:flex-row gap-4 justify-center items-center",children:[s.jsxs(Ka,{to:"/signup",className:"bg-gradient-to-r from-blue-600 to-purple-600 text-white px-8 py-4 rounded-full text-lg font-semibold hover:from-blue-700 hover:to-purple-700 transition-all duration-200 shadow-lg hover:shadow-xl flex items-center gap-2",children:["Start Free Trial",s.jsx(Ao,{className:"w-5 h-5"})]}),s.jsxs("button",{className:"flex items-center gap-2 text-gray-600 hover:text-gray-900 px-6 py-4 rounded-full border border-gray-300 hover:border-gray-400 transition-all duration-200",children:[s.jsx(rR,{className:"w-5 h-5"}),"Watch Demo"]})]}),s.jsx("p",{className:"text-sm text-gray-500 mt-4",children:"No credit card required  14-day free trial  Cancel anytime"})]})})}),s.jsx("section",{id:"features",className:"py-20 bg-white",children:s.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:[s.jsxs("div",{className:"text-center mb-16",children:[s.jsx("h2",{className:"text-3xl md:text-4xl font-bold text-gray-900 mb-4",children:"Everything you need to grow your sales"}),s.jsx("p",{className:"text-xl text-gray-600 max-w-2xl mx-auto",children:"Powerful features designed to help you manage leads, close deals, and scale your business"})]}),s.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-8",children:n.map((l,c)=>s.jsxs("div",{className:"bg-white p-8 rounded-2xl border border-gray-200 hover:border-blue-300 hover:shadow-lg transition-all duration-200",children:[s.jsx("div",{className:"text-blue-600 mb-4",children:l.icon}),s.jsx("h3",{className:"text-xl font-semibold text-gray-900 mb-3",children:l.title}),s.jsx("p",{className:"text-gray-600",children:l.description})]},c))})]})}),s.jsx("section",{id:"testimonials",className:"py-20 bg-gray-50",children:s.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:[s.jsxs("div",{className:"text-center mb-16",children:[s.jsx("h2",{className:"text-3xl md:text-4xl font-bold text-gray-900 mb-4",children:"Loved by sales teams worldwide"}),s.jsx("p",{className:"text-xl text-gray-600",children:"See what our customers are saying about NeuraCRM"})]}),s.jsx("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-8",children:a.map((l,c)=>s.jsxs("div",{className:"bg-white p-8 rounded-2xl shadow-lg",children:[s.jsx("div",{className:"flex items-center mb-4",children:[...Array(l.rating)].map((d,f)=>s.jsx(W2,{className:"w-5 h-5 text-yellow-400 fill-current"},f))}),s.jsxs("p",{className:"text-gray-600 mb-6 italic",children:['"',l.content,'"']}),s.jsxs("div",{children:[s.jsx("p",{className:"font-semibold text-gray-900",children:l.name}),s.jsxs("p",{className:"text-gray-600",children:[l.role,", ",l.company]})]})]},c))})]})}),s.jsx("section",{id:"pricing",className:"py-20 bg-white",children:s.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:[s.jsxs("div",{className:"text-center mb-16",children:[s.jsx("h2",{className:"text-3xl md:text-4xl font-bold text-gray-900 mb-4",children:"Simple, transparent pricing"}),s.jsx("p",{className:"text-xl text-gray-600",children:"Choose the plan that's right for your team"})]}),s.jsx("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-8",children:i.map((l,c)=>s.jsxs("div",{className:`relative bg-white p-8 rounded-2xl border-2 transition-all duration-200 ${l.popular?"border-blue-500 shadow-xl scale-105":"border-gray-200 hover:border-gray-300 hover:shadow-lg"}`,children:[l.popular&&s.jsx("div",{className:"absolute -top-4 left-1/2 transform -translate-x-1/2",children:s.jsx("span",{className:"bg-gradient-to-r from-blue-600 to-purple-600 text-white px-4 py-1 rounded-full text-sm font-semibold",children:"Most Popular"})}),s.jsxs("div",{className:"text-center mb-8",children:[s.jsx("h3",{className:"text-2xl font-bold text-gray-900 mb-2",children:l.name}),s.jsxs("div",{className:"flex items-baseline justify-center",children:[s.jsx("span",{className:"text-4xl font-bold text-gray-900",children:l.price}),s.jsx("span",{className:"text-gray-600 ml-1",children:l.period})]}),s.jsx("p",{className:"text-gray-600 mt-2",children:l.description})]}),s.jsx("ul",{className:"space-y-4 mb-8",children:l.features.map((d,f)=>s.jsxs("li",{className:"flex items-center",children:[s.jsx(Lt,{className:"w-5 h-5 text-green-500 mr-3 flex-shrink-0"}),s.jsx("span",{className:"text-gray-600",children:d})]},f))}),s.jsx(Ka,{to:"/signup",className:`w-full block text-center py-3 px-6 rounded-full font-semibold transition-all duration-200 ${l.popular?"bg-gradient-to-r from-blue-600 to-purple-600 text-white hover:from-blue-700 hover:to-purple-700 shadow-lg hover:shadow-xl":"bg-gray-100 text-gray-900 hover:bg-gray-200"}`,children:l.cta})]},c))})]})}),s.jsx("section",{className:"py-20 bg-gradient-to-r from-blue-600 to-purple-600",children:s.jsxs("div",{className:"max-w-4xl mx-auto text-center px-4 sm:px-6 lg:px-8",children:[s.jsx("h2",{className:"text-3xl md:text-4xl font-bold text-white mb-4",children:"Ready to transform your sales process?"}),s.jsx("p",{className:"text-xl text-blue-100 mb-8",children:"Join thousands of sales teams already using NeuraCRM to close more deals"}),s.jsxs(Ka,{to:"/organization-signup",className:"bg-white text-blue-600 px-8 py-4 rounded-full text-lg font-semibold hover:bg-gray-100 transition-all duration-200 shadow-lg hover:shadow-xl inline-flex items-center gap-2",children:["Start Your Free Trial",s.jsx(Ao,{className:"w-5 h-5"})]})]})}),s.jsx("footer",{className:"bg-gray-900 text-white py-12",children:s.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:[s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-8",children:[s.jsxs("div",{children:[s.jsxs("div",{className:"flex items-center mb-4",children:[s.jsx("img",{className:"h-8 w-auto",src:"/assets/NeuraCRM--QfIME8Q.png",alt:"NeuraCRM"}),s.jsx("span",{className:"ml-2 text-xl font-bold",children:"NeuraCRM"})]}),s.jsx("p",{className:"text-gray-400",children:"The future of sales CRM, powered by AI and designed for modern teams."})]}),s.jsxs("div",{children:[s.jsx("h3",{className:"text-lg font-semibold mb-4",children:"Product"}),s.jsxs("ul",{className:"space-y-2",children:[s.jsx("li",{children:s.jsx("a",{href:"#features",className:"text-gray-400 hover:text-white",children:"Features"})}),s.jsx("li",{children:s.jsx("a",{href:"#pricing",className:"text-gray-400 hover:text-white",children:"Pricing"})}),s.jsx("li",{children:s.jsx("a",{href:"#",className:"text-gray-400 hover:text-white",children:"Integrations"})}),s.jsx("li",{children:s.jsx("a",{href:"#",className:"text-gray-400 hover:text-white",children:"API"})})]})]}),s.jsxs("div",{children:[s.jsx("h3",{className:"text-lg font-semibold mb-4",children:"Company"}),s.jsxs("ul",{className:"space-y-2",children:[s.jsx("li",{children:s.jsx("a",{href:"#",className:"text-gray-400 hover:text-white",children:"About"})}),s.jsx("li",{children:s.jsx("a",{href:"#",className:"text-gray-400 hover:text-white",children:"Blog"})}),s.jsx("li",{children:s.jsx("a",{href:"#",className:"text-gray-400 hover:text-white",children:"Careers"})}),s.jsx("li",{children:s.jsx("a",{href:"#",className:"text-gray-400 hover:text-white",children:"Contact"})})]})]}),s.jsxs("div",{children:[s.jsx("h3",{className:"text-lg font-semibold mb-4",children:"Support"}),s.jsxs("ul",{className:"space-y-2",children:[s.jsx("li",{children:s.jsx("a",{href:"#",className:"text-gray-400 hover:text-white",children:"Help Center"})}),s.jsx("li",{children:s.jsx("a",{href:"#",className:"text-gray-400 hover:text-white",children:"Documentation"})}),s.jsx("li",{children:s.jsx("a",{href:"#",className:"text-gray-400 hover:text-white",children:"Status"})}),s.jsx("li",{children:s.jsx("a",{href:"#",className:"text-gray-400 hover:text-white",children:"Security"})})]})]})]}),s.jsx("div",{className:"border-t border-gray-800 mt-8 pt-8 text-center",children:s.jsx("p",{className:"text-gray-400",children:" 2024 NeuraCRM. All rights reserved."})})]})})]})},RTe=()=>{const e=zo(),{register:t}=ma(),[r,n]=v.useState({name:"",email:"",password:"",confirmPassword:"",agreeToTerms:!1}),[a,i]=v.useState(!1),[l,c]=v.useState(!1),[d,f]=v.useState(!1),[h,p]=v.useState({}),[g,y]=v.useState(!1),b=()=>{const S={};return r.name.trim()?r.name.trim().length<2&&(S.name="Name must be at least 2 characters"):S.name="Name is required",r.email.trim()?/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(r.email)||(S.email="Please enter a valid email address"):S.email="Email is required",r.password?r.password.length<8?S.password="Password must be at least 8 characters":/(?=.*[a-z])(?=.*[A-Z])(?=.*\d)/.test(r.password)||(S.password="Password must contain at least one uppercase letter, one lowercase letter, and one number"):S.password="Password is required",r.confirmPassword?r.password!==r.confirmPassword&&(S.confirmPassword="Passwords do not match"):S.confirmPassword="Please confirm your password",r.agreeToTerms||(S.agreeToTerms=!0),p(S),Object.keys(S).length===0},w=async S=>{if(S.preventDefault(),!!b()){f(!0),p({});try{await t(r.name.trim(),r.email.trim(),r.password),y(!0),setTimeout(()=>{e("/dashboard")},2e3)}catch(_){_.message==="Email already registered"?p({email:"This email is already registered"}):p({email:_.message||"Registration failed. Please try again."})}finally{f(!1)}}},j=(S,_)=>{n(E=>({...E,[S]:_})),h[S]&&p(E=>({...E,[S]:void 0}))};return g?s.jsx("div",{className:"min-h-screen bg-gradient-to-br from-blue-50 via-white to-purple-50 flex items-center justify-center p-4",children:s.jsxs("div",{className:"max-w-md w-full bg-white rounded-2xl shadow-xl p-8 text-center",children:[s.jsx("div",{className:"w-16 h-16 bg-green-100 rounded-full flex items-center justify-center mx-auto mb-6",children:s.jsx(Lt,{className:"w-8 h-8 text-green-600"})}),s.jsx("h2",{className:"text-2xl font-bold text-gray-900 mb-4",children:"Account Created!"}),s.jsx("p",{className:"text-gray-600 mb-6",children:"Your account has been successfully created. You can now sign in to access your dashboard."}),s.jsx("div",{className:"animate-spin rounded-full h-6 w-6 border-b-2 border-blue-600 mx-auto"}),s.jsx("p",{className:"text-sm text-gray-500 mt-2",children:"Redirecting to sign in..."})]})}):s.jsx("div",{className:"min-h-screen bg-gradient-to-br from-blue-50 via-white to-purple-50 flex items-center justify-center p-4",children:s.jsxs("div",{className:"max-w-md w-full",children:[s.jsx("div",{className:"mb-6",children:s.jsxs(Ka,{to:"/",className:"inline-flex items-center text-gray-600 hover:text-gray-900 transition-colors",children:[s.jsx(KM,{className:"w-4 h-4 mr-2"}),"Back to home"]})}),s.jsxs("div",{className:"bg-white rounded-2xl shadow-xl p-8",children:[s.jsxs("div",{className:"text-center mb-8",children:[s.jsxs("div",{className:"flex items-center justify-center mb-4",children:[s.jsx("img",{className:"h-8 w-auto",src:"/assets/NeuraCRM--QfIME8Q.png",alt:"NeuraCRM"}),s.jsx("span",{className:"ml-2 text-xl font-bold bg-gradient-to-r from-blue-600 to-purple-600 bg-clip-text text-transparent",children:"NeuraCRM"})]}),s.jsx("h2",{className:"text-2xl font-bold text-gray-900 mb-2",children:"Create your account"}),s.jsx("p",{className:"text-gray-600",children:"Start your free trial today. No credit card required."})]}),s.jsxs("form",{onSubmit:w,className:"space-y-6",children:[s.jsxs("div",{children:[s.jsx("label",{htmlFor:"name",className:"block text-sm font-medium text-gray-700 mb-2",children:"Full Name"}),s.jsx("input",{type:"text",id:"name",value:r.name,onChange:S=>j("name",S.target.value),className:`w-full px-4 py-3 border rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent transition-all ${h.name?"border-red-300 bg-red-50":"border-gray-300"}`,placeholder:"Enter your full name"}),h.name&&s.jsxs("div",{className:"flex items-center mt-2 text-red-600 text-sm",children:[s.jsx(Tr,{className:"w-4 h-4 mr-1"}),h.name]})]}),s.jsxs("div",{children:[s.jsx("label",{htmlFor:"email",className:"block text-sm font-medium text-gray-700 mb-2",children:"Email Address"}),s.jsx("input",{type:"email",id:"email",value:r.email,onChange:S=>j("email",S.target.value),className:`w-full px-4 py-3 border rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent transition-all ${h.email?"border-red-300 bg-red-50":"border-gray-300"}`,placeholder:"Enter your email address"}),h.email&&s.jsxs("div",{className:"flex items-center mt-2 text-red-600 text-sm",children:[s.jsx(Tr,{className:"w-4 h-4 mr-1"}),h.email]})]}),s.jsxs("div",{children:[s.jsx("label",{htmlFor:"password",className:"block text-sm font-medium text-gray-700 mb-2",children:"Password"}),s.jsxs("div",{className:"relative",children:[s.jsx("input",{type:a?"text":"password",id:"password",value:r.password,onChange:S=>j("password",S.target.value),className:`w-full px-4 py-3 pr-12 border rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent transition-all ${h.password?"border-red-300 bg-red-50":"border-gray-300"}`,placeholder:"Create a strong password"}),s.jsx("button",{type:"button",onClick:()=>i(!a),className:"absolute right-3 top-1/2 transform -translate-y-1/2 text-gray-400 hover:text-gray-600",children:a?s.jsx(Eg,{className:"w-5 h-5"}):s.jsx(gn,{className:"w-5 h-5"})})]}),h.password&&s.jsxs("div",{className:"flex items-center mt-2 text-red-600 text-sm",children:[s.jsx(Tr,{className:"w-4 h-4 mr-1"}),h.password]})]}),s.jsxs("div",{children:[s.jsx("label",{htmlFor:"confirmPassword",className:"block text-sm font-medium text-gray-700 mb-2",children:"Confirm Password"}),s.jsxs("div",{className:"relative",children:[s.jsx("input",{type:l?"text":"password",id:"confirmPassword",value:r.confirmPassword,onChange:S=>j("confirmPassword",S.target.value),className:`w-full px-4 py-3 pr-12 border rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent transition-all ${h.confirmPassword?"border-red-300 bg-red-50":"border-gray-300"}`,placeholder:"Confirm your password"}),s.jsx("button",{type:"button",onClick:()=>c(!l),className:"absolute right-3 top-1/2 transform -translate-y-1/2 text-gray-400 hover:text-gray-600",children:l?s.jsx(Eg,{className:"w-5 h-5"}):s.jsx(gn,{className:"w-5 h-5"})})]}),h.confirmPassword&&s.jsxs("div",{className:"flex items-center mt-2 text-red-600 text-sm",children:[s.jsx(Tr,{className:"w-4 h-4 mr-1"}),h.confirmPassword]})]}),s.jsxs("div",{children:[s.jsxs("label",{className:"flex items-start",children:[s.jsx("input",{type:"checkbox",checked:r.agreeToTerms,onChange:S=>j("agreeToTerms",S.target.checked),className:"mt-1 h-4 w-4 text-blue-600 focus:ring-blue-500 border-gray-300 rounded"}),s.jsxs("span",{className:"ml-3 text-sm text-gray-600",children:["I agree to the"," ",s.jsx("a",{href:"#",className:"text-blue-600 hover:text-blue-500 font-medium",children:"Terms of Service"})," ","and"," ",s.jsx("a",{href:"#",className:"text-blue-600 hover:text-blue-500 font-medium",children:"Privacy Policy"})]})]}),h.agreeToTerms&&s.jsxs("div",{className:"flex items-center mt-2 text-red-600 text-sm",children:[s.jsx(Tr,{className:"w-4 h-4 mr-1"}),h.agreeToTerms]})]}),s.jsx("button",{type:"submit",disabled:d,className:"w-full bg-gradient-to-r from-blue-600 to-purple-600 text-white py-3 px-4 rounded-lg font-semibold hover:from-blue-700 hover:to-purple-700 focus:ring-2 focus:ring-blue-500 focus:ring-offset-2 transition-all duration-200 disabled:opacity-50 disabled:cursor-not-allowed shadow-lg hover:shadow-xl",children:d?s.jsxs("div",{className:"flex items-center justify-center",children:[s.jsx("div",{className:"animate-spin rounded-full h-5 w-5 border-b-2 border-white mr-2"}),"Creating Account..."]}):"Create Account"})]}),s.jsx("div",{className:"mt-6 text-center",children:s.jsxs("p",{className:"text-gray-600",children:["Already have an account?"," ",s.jsx(Ka,{to:"/signin",className:"text-blue-600 hover:text-blue-500 font-medium",children:"Sign in"})]})})]}),s.jsx("div",{className:"mt-6 text-center",children:s.jsx("p",{className:"text-sm text-gray-500",children:" Your data is protected with enterprise-grade security"})})]})})},ITe=()=>{const e=zo(),t=mi(),{login:r}=ma(),[n,a]=v.useState({email:"",password:"",rememberMe:!1}),[i,l]=v.useState(!1),[c,d]=v.useState(!1),[f,h]=v.useState({}),[p,g]=v.useState(!1),y=t.state?.from?.pathname||"/dashboard",b=()=>{const S={};return n.email.trim()?/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(n.email)||(S.email="Please enter a valid email address"):S.email="Email is required",n.password||(S.password="Password is required"),h(S),Object.keys(S).length===0},w=async S=>{if(S.preventDefault(),!!b()){d(!0),h({});try{await r(n.email.trim(),n.password),g(!0),setTimeout(()=>{e(y,{replace:!0})},1500)}catch(_){_.message==="Incorrect email or password"?h({email:"Invalid email or password"}):h({email:_.message||"Login failed. Please try again."})}finally{d(!1)}}},j=(S,_)=>{a(E=>({...E,[S]:_})),f[S]&&h(E=>({...E,[S]:void 0}))};return p?s.jsx("div",{className:"min-h-screen bg-gradient-to-br from-blue-50 via-white to-purple-50 flex items-center justify-center p-4",children:s.jsxs("div",{className:"max-w-md w-full bg-white rounded-2xl shadow-xl p-8 text-center",children:[s.jsx("div",{className:"w-16 h-16 bg-green-100 rounded-full flex items-center justify-center mx-auto mb-6",children:s.jsx(Lt,{className:"w-8 h-8 text-green-600"})}),s.jsx("h2",{className:"text-2xl font-bold text-gray-900 mb-4",children:"Welcome back!"}),s.jsx("p",{className:"text-gray-600 mb-6",children:"You have successfully signed in. Redirecting to your dashboard..."}),s.jsx("div",{className:"animate-spin rounded-full h-6 w-6 border-b-2 border-blue-600 mx-auto"})]})}):s.jsx("div",{className:"min-h-screen bg-gradient-to-br from-blue-50 via-white to-purple-50 flex items-center justify-center p-4",children:s.jsxs("div",{className:"max-w-md w-full",children:[s.jsx("div",{className:"mb-6",children:s.jsxs(Ka,{to:"/",className:"inline-flex items-center text-gray-600 hover:text-gray-900 transition-colors",children:[s.jsx(KM,{className:"w-4 h-4 mr-2"}),"Back to home"]})}),s.jsxs("div",{className:"bg-white rounded-2xl shadow-xl p-8",children:[s.jsxs("div",{className:"text-center mb-8",children:[s.jsxs("div",{className:"flex items-center justify-center mb-4",children:[s.jsx("img",{className:"h-8 w-auto",src:"/assets/NeuraCRM--QfIME8Q.png",alt:"NeuraCRM"}),s.jsx("span",{className:"ml-2 text-xl font-bold bg-gradient-to-r from-blue-600 to-purple-600 bg-clip-text text-transparent",children:"NeuraCRM"})]}),s.jsx("h2",{className:"text-2xl font-bold text-gray-900 mb-2",children:"Welcome back"}),s.jsx("p",{className:"text-gray-600",children:"Sign in to your account to continue"})]}),s.jsxs("form",{onSubmit:w,className:"space-y-6",children:[s.jsxs("div",{children:[s.jsx("label",{htmlFor:"email",className:"block text-sm font-medium text-gray-700 mb-2",children:"Email Address"}),s.jsxs("div",{className:"relative",children:[s.jsx("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none",children:s.jsx(Wd,{className:"h-5 w-5 text-gray-400"})}),s.jsx("input",{type:"email",id:"email",value:n.email,onChange:S=>j("email",S.target.value),className:`w-full pl-10 pr-4 py-3 border rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent transition-all ${f.email?"border-red-300 bg-red-50":"border-gray-300"}`,placeholder:"Enter your email address"})]}),f.email&&s.jsxs("div",{className:"flex items-center mt-2 text-red-600 text-sm",children:[s.jsx(Tr,{className:"w-4 h-4 mr-1"}),f.email]})]}),s.jsxs("div",{children:[s.jsx("label",{htmlFor:"password",className:"block text-sm font-medium text-gray-700 mb-2",children:"Password"}),s.jsxs("div",{className:"relative",children:[s.jsx("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none",children:s.jsx(eR,{className:"h-5 w-5 text-gray-400"})}),s.jsx("input",{type:i?"text":"password",id:"password",value:n.password,onChange:S=>j("password",S.target.value),className:`w-full pl-10 pr-12 py-3 border rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent transition-all ${f.password?"border-red-300 bg-red-50":"border-gray-300"}`,placeholder:"Enter your password"}),s.jsx("button",{type:"button",onClick:()=>l(!i),className:"absolute right-3 top-1/2 transform -translate-y-1/2 text-gray-400 hover:text-gray-600",children:i?s.jsx(Eg,{className:"w-5 h-5"}):s.jsx(gn,{className:"w-5 h-5"})})]}),f.password&&s.jsxs("div",{className:"flex items-center mt-2 text-red-600 text-sm",children:[s.jsx(Tr,{className:"w-4 h-4 mr-1"}),f.password]})]}),s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("label",{className:"flex items-center",children:[s.jsx("input",{type:"checkbox",checked:n.rememberMe,onChange:S=>j("rememberMe",S.target.checked),className:"h-4 w-4 text-blue-600 focus:ring-blue-500 border-gray-300 rounded"}),s.jsx("span",{className:"ml-2 text-sm text-gray-600",children:"Remember me"})]}),s.jsx("a",{href:"#",className:"text-sm text-blue-600 hover:text-blue-500 font-medium",children:"Forgot password?"})]}),s.jsx("button",{type:"submit",disabled:c,className:"w-full bg-gradient-to-r from-blue-600 to-purple-600 text-white py-3 px-4 rounded-lg font-semibold hover:from-blue-700 hover:to-purple-700 focus:ring-2 focus:ring-blue-500 focus:ring-offset-2 transition-all duration-200 disabled:opacity-50 disabled:cursor-not-allowed shadow-lg hover:shadow-xl",children:c?s.jsxs("div",{className:"flex items-center justify-center",children:[s.jsx("div",{className:"animate-spin rounded-full h-5 w-5 border-b-2 border-white mr-2"}),"Signing In..."]}):"Sign In"})]}),s.jsx("div",{className:"mt-6",children:s.jsxs("div",{className:"relative",children:[s.jsx("div",{className:"absolute inset-0 flex items-center",children:s.jsx("div",{className:"w-full border-t border-gray-300"})}),s.jsx("div",{className:"relative flex justify-center text-sm",children:s.jsx("span",{className:"px-2 bg-white text-gray-500",children:"Or continue with"})})]})}),s.jsxs("div",{className:"mt-6 grid grid-cols-2 gap-3",children:[s.jsxs("button",{className:"w-full inline-flex justify-center py-2 px-4 border border-gray-300 rounded-lg shadow-sm bg-white text-sm font-medium text-gray-500 hover:bg-gray-50 transition-colors",children:[s.jsxs("svg",{className:"w-5 h-5",viewBox:"0 0 24 24",children:[s.jsx("path",{fill:"currentColor",d:"M22.56 12.25c0-.78-.07-1.53-.2-2.25H12v4.26h5.92c-.26 1.37-1.04 2.53-2.21 3.31v2.77h3.57c2.08-1.92 3.28-4.74 3.28-8.09z"}),s.jsx("path",{fill:"currentColor",d:"M12 23c2.97 0 5.46-.98 7.28-2.66l-3.57-2.77c-.98.66-2.23 1.06-3.71 1.06-2.86 0-5.29-1.93-6.16-4.53H2.18v2.84C3.99 20.53 7.7 23 12 23z"}),s.jsx("path",{fill:"currentColor",d:"M5.84 14.09c-.22-.66-.35-1.36-.35-2.09s.13-1.43.35-2.09V7.07H2.18C1.43 8.55 1 10.22 1 12s.43 3.45 1.18 4.93l2.85-2.22.81-.62z"}),s.jsx("path",{fill:"currentColor",d:"M12 5.38c1.62 0 3.06.56 4.21 1.64l3.15-3.15C17.45 2.09 14.97 1 12 1 7.7 1 3.99 3.47 2.18 7.07l3.66 2.84c.87-2.6 3.3-4.53 6.16-4.53z"})]}),s.jsx("span",{className:"ml-2",children:"Google"})]}),s.jsxs("button",{className:"w-full inline-flex justify-center py-2 px-4 border border-gray-300 rounded-lg shadow-sm bg-white text-sm font-medium text-gray-500 hover:bg-gray-50 transition-colors",children:[s.jsx("svg",{className:"w-5 h-5",fill:"currentColor",viewBox:"0 0 24 24",children:s.jsx("path",{d:"M24 4.557c-.883.392-1.832.656-2.828.775 1.017-.609 1.798-1.574 2.165-2.724-.951.564-2.005.974-3.127 1.195-.897-.957-2.178-1.555-3.594-1.555-3.179 0-5.515 2.966-4.797 6.045-4.091-.205-7.719-2.165-10.148-5.144-1.29 2.213-.669 5.108 1.523 6.574-.806-.026-1.566-.247-2.229-.616-.054 2.281 1.581 4.415 3.949 4.89-.693.188-1.452.232-2.224.084.626 1.956 2.444 3.379 4.6 3.419-2.07 1.623-4.678 2.348-7.29 2.04 2.179 1.397 4.768 2.212 7.548 2.212 9.142 0 14.307-7.721 13.995-14.646.962-.695 1.797-1.562 2.457-2.549z"})}),s.jsx("span",{className:"ml-2",children:"Twitter"})]})]}),s.jsx("div",{className:"mt-6 text-center",children:s.jsxs("p",{className:"text-gray-600",children:["Don't have an account?"," ",s.jsx(Ka,{to:"/signup",className:"text-blue-600 hover:text-blue-500 font-medium",children:"Sign up"})]})})]}),s.jsx("div",{className:"mt-6 text-center",children:s.jsx("p",{className:"text-sm text-gray-500",children:" Your data is protected with enterprise-grade security"})})]})})},FTe=()=>{const{logout:e}=ma(),t=zo();return v.useEffect(()=>{e(),t("/",{replace:!0})},[e,t]),s.jsx("div",{className:"min-h-screen flex items-center justify-center bg-gray-50",children:s.jsxs("div",{className:"text-center",children:[s.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-600 mx-auto mb-4"}),s.jsx("p",{className:"text-gray-600",children:"Signing you out..."})]})})},vM={async getSubscriptionPlans(){return Ee("/api/subscription-plans")},async signupOrganization(e){return Ee("/api/organizations/signup",{method:"POST",body:JSON.stringify(e)})},async checkUserLimit(e){return Ee(`/api/organizations/${e}/user-limit`)}},LTe=()=>{const e=zo(),[t,r]=v.useState(1),[n,a]=v.useState([]),[i,l]=v.useState("free"),[c,d]=v.useState(!1),[f,h]=v.useState(!1),[p,g]=v.useState({}),[y,b]=v.useState({organization_name:"",organization_domain:"",admin_name:"",admin_email:"",admin_password:"",plan:"free"});v.useEffect(()=>{w()},[]);const w=async()=>{try{const A=await vM.getSubscriptionPlans();a(A)}catch(A){console.error("Failed to load subscription plans:",A)}},j=()=>{const A={};return y.organization_name.trim()?y.organization_name.trim().length<2&&(A.organization_name="Organization name must be at least 2 characters"):A.organization_name="Organization name is required",y.admin_name.trim()?y.admin_name.trim().length<2&&(A.admin_name="Admin name must be at least 2 characters"):A.admin_name="Admin name is required",y.admin_email.trim()?/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(y.admin_email)||(A.admin_email="Please enter a valid email address"):A.admin_email="Admin email is required",y.admin_password?y.admin_password.length<8?A.admin_password="Password must be at least 8 characters":/(?=.*[a-z])(?=.*[A-Z])(?=.*\d)/.test(y.admin_password)||(A.admin_password="Password must contain at least one uppercase letter, one lowercase letter, and one number"):A.admin_password="Password is required",g(A),Object.keys(A).length===0},S=async A=>{if(A.preventDefault(),!!j()){h(!0),g({});try{const C={...y,plan:i},O=await vM.signupOrganization(C);localStorage.setItem("access_token",O.access_token),e("/dashboard")}catch(C){console.error("Organization signup failed:",C),g({general:C.message||"Failed to create organization. Please try again."})}finally{h(!1)}}},_=(A,C)=>{b(O=>({...O,[A]:C})),p[A]&&g(O=>({...O,[A]:void 0}))},E=()=>s.jsxs("div",{className:"space-y-6",children:[s.jsxs("div",{className:"text-center",children:[s.jsx("h2",{className:"text-2xl font-bold text-gray-900 mb-2",children:"Choose Your Plan"}),s.jsx("p",{className:"text-gray-600",children:"Select the perfect plan for your organization"})]}),s.jsx("div",{className:"grid md:grid-cols-3 gap-6",children:n.map(A=>s.jsxs("div",{className:`relative p-6 rounded-xl border-2 cursor-pointer transition-all ${i===A.name?"border-blue-500 bg-blue-50":"border-gray-200 hover:border-gray-300"}`,onClick:()=>l(A.name),children:[i===A.name&&s.jsx("div",{className:"absolute -top-3 left-1/2 transform -translate-x-1/2",children:s.jsx("div",{className:"bg-blue-500 text-white px-3 py-1 rounded-full text-sm font-medium",children:"Selected"})}),s.jsxs("div",{className:"text-center",children:[s.jsx("h3",{className:"text-xl font-bold text-gray-900 mb-2",children:A.display_name}),s.jsxs("div",{className:"mb-4",children:[s.jsxs("span",{className:"text-3xl font-bold text-gray-900",children:["$",A.price_monthly]}),s.jsx("span",{className:"text-gray-600",children:"/month"})]}),s.jsx("p",{className:"text-gray-600 text-sm mb-4",children:A.description}),s.jsx("div",{className:"space-y-2 text-sm",children:A.features.map((C,O)=>s.jsxs("div",{className:"flex items-center text-gray-700",children:[s.jsx(Lt,{className:"w-4 h-4 text-green-500 mr-2 flex-shrink-0"}),C]},O))})]})]},A.id))}),s.jsx("div",{className:"flex justify-center",children:s.jsx("button",{type:"button",onClick:()=>r(2),className:"bg-blue-600 text-white px-8 py-3 rounded-lg font-medium hover:bg-blue-700 transition-colors",children:"Continue to Organization Details"})})]}),T=()=>s.jsxs("div",{className:"space-y-6",children:[s.jsxs("div",{className:"text-center",children:[s.jsx("h2",{className:"text-2xl font-bold text-gray-900 mb-2",children:"Organization Details"}),s.jsx("p",{className:"text-gray-600",children:"Tell us about your organization"})]}),s.jsxs("form",{onSubmit:S,className:"space-y-6",children:[s.jsxs("div",{className:"grid md:grid-cols-2 gap-6",children:[s.jsxs("div",{children:[s.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:[s.jsx(sd,{className:"w-4 h-4 inline mr-2"}),"Organization Name *"]}),s.jsx("input",{type:"text",value:y.organization_name,onChange:A=>_("organization_name",A.target.value),className:`w-full px-4 py-3 border rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent ${p.organization_name?"border-red-500":"border-gray-300"}`,placeholder:"Your Company Name"}),p.organization_name&&s.jsx("p",{className:"text-red-500 text-sm mt-1",children:p.organization_name})]}),s.jsxs("div",{children:[s.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:[s.jsx(ZM,{className:"w-4 h-4 inline mr-2"}),"Organization Domain (Optional)"]}),s.jsx("input",{type:"text",value:y.organization_domain,onChange:A=>_("organization_domain",A.target.value),className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",placeholder:"yourcompany.com"})]})]}),s.jsxs("div",{className:"grid md:grid-cols-2 gap-6",children:[s.jsxs("div",{children:[s.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:[s.jsx(Gd,{className:"w-4 h-4 inline mr-2"}),"Admin Name *"]}),s.jsx("input",{type:"text",value:y.admin_name,onChange:A=>_("admin_name",A.target.value),className:`w-full px-4 py-3 border rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent ${p.admin_name?"border-red-500":"border-gray-300"}`,placeholder:"Your Full Name"}),p.admin_name&&s.jsx("p",{className:"text-red-500 text-sm mt-1",children:p.admin_name})]}),s.jsxs("div",{children:[s.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:[s.jsx(Wd,{className:"w-4 h-4 inline mr-2"}),"Admin Email *"]}),s.jsx("input",{type:"email",value:y.admin_email,onChange:A=>_("admin_email",A.target.value),className:`w-full px-4 py-3 border rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent ${p.admin_email?"border-red-500":"border-gray-300"}`,placeholder:"admin@yourcompany.com"}),p.admin_email&&s.jsx("p",{className:"text-red-500 text-sm mt-1",children:p.admin_email})]})]}),s.jsxs("div",{children:[s.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:[s.jsx(eR,{className:"w-4 h-4 inline mr-2"}),"Admin Password *"]}),s.jsxs("div",{className:"relative",children:[s.jsx("input",{type:c?"text":"password",value:y.admin_password,onChange:A=>_("admin_password",A.target.value),className:`w-full px-4 py-3 pr-12 border rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent ${p.admin_password?"border-red-500":"border-gray-300"}`,placeholder:"Create a strong password"}),s.jsx("button",{type:"button",onClick:()=>d(!c),className:"absolute right-3 top-1/2 transform -translate-y-1/2 text-gray-500 hover:text-gray-700",children:c?s.jsx(Eg,{className:"w-5 h-5"}):s.jsx(gn,{className:"w-5 h-5"})})]}),p.admin_password&&s.jsx("p",{className:"text-red-500 text-sm mt-1",children:p.admin_password})]}),p.general&&s.jsx("div",{className:"bg-red-50 border border-red-200 rounded-lg p-4",children:s.jsx("p",{className:"text-red-600 text-sm",children:p.general})}),s.jsxs("div",{className:"flex justify-between",children:[s.jsx("button",{type:"button",onClick:()=>r(1),className:"px-6 py-3 border border-gray-300 text-gray-700 rounded-lg font-medium hover:bg-gray-50 transition-colors",children:"Back to Plans"}),s.jsx("button",{type:"submit",disabled:f,className:"bg-blue-600 text-white px-8 py-3 rounded-lg font-medium hover:bg-blue-700 transition-colors disabled:opacity-50 disabled:cursor-not-allowed flex items-center",children:f?s.jsxs(s.Fragment,{children:[s.jsx("div",{className:"animate-spin rounded-full h-4 w-4 border-b-2 border-white mr-2"}),"Creating Organization..."]}):s.jsxs(s.Fragment,{children:[s.jsx(rd,{className:"w-4 h-4 mr-2"}),"Create Organization"]})})]})]})]});return s.jsx("div",{className:"min-h-screen bg-gradient-to-br from-blue-50 via-white to-purple-50",children:s.jsx("div",{className:"container mx-auto px-4 py-12",children:s.jsxs("div",{className:"max-w-4xl mx-auto",children:[s.jsxs("div",{className:"text-center mb-12",children:[s.jsx("h1",{className:"text-4xl font-bold text-gray-900 mb-4",children:"Start Your CRM Journey"}),s.jsx("p",{className:"text-xl text-gray-600",children:"Create your organization and get started with NeuraCRM in minutes"})]}),s.jsx("div",{className:"flex justify-center mb-8",children:s.jsxs("div",{className:"flex items-center space-x-4",children:[s.jsxs("div",{className:`flex items-center ${t>=1?"text-blue-600":"text-gray-400"}`,children:[s.jsx("div",{className:`w-8 h-8 rounded-full flex items-center justify-center ${t>=1?"bg-blue-600 text-white":"bg-gray-200 text-gray-400"}`,children:"1"}),s.jsx("span",{className:"ml-2 font-medium",children:"Choose Plan"})]}),s.jsx("div",{className:"w-8 h-0.5 bg-gray-300"}),s.jsxs("div",{className:`flex items-center ${t>=2?"text-blue-600":"text-gray-400"}`,children:[s.jsx("div",{className:`w-8 h-8 rounded-full flex items-center justify-center ${t>=2?"bg-blue-600 text-white":"bg-gray-200 text-gray-400"}`,children:"2"}),s.jsx("span",{className:"ml-2 font-medium",children:"Organization Details"})]})]})}),s.jsxs("div",{className:"bg-white rounded-2xl shadow-xl p-8",children:[t===1&&E(),t===2&&T()]}),s.jsx("div",{className:"text-center mt-8",children:s.jsxs("p",{className:"text-gray-600",children:["Already have an account?"," ",s.jsx("button",{onClick:()=>e("/signin"),className:"text-blue-600 hover:text-blue-700 font-medium",children:"Sign in here"})]})})]})})})},nn=({children:e})=>{const{isAuthenticated:t,isLoading:r}=ma(),n=mi();return r?s.jsx("div",{className:"min-h-screen bg-gradient-to-br from-blue-50 via-white to-purple-50 flex items-center justify-center",children:s.jsxs("div",{className:"text-center",children:[s.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-600 mx-auto mb-4"}),s.jsx("p",{className:"text-gray-600",children:"Loading..."})]})}):t?s.jsx(s.Fragment,{children:e}):s.jsx(FN,{to:"/signin",state:{from:n},replace:!0})};function BTe(){return s.jsx(iJ,{children:s.jsx(rJ,{children:s.jsx(Yq,{children:s.jsxs(_q,{children:[s.jsx(mr,{path:"/",element:s.jsx(MTe,{})}),s.jsx(mr,{path:"/signup",element:s.jsx(RTe,{})}),s.jsx(mr,{path:"/organization-signup",element:s.jsx(LTe,{})}),s.jsx(mr,{path:"/signin",element:s.jsx(ITe,{})}),s.jsx(mr,{path:"/logout",element:s.jsx(FTe,{})}),s.jsx(mr,{path:"/dashboard",element:s.jsx(nn,{children:s.jsx(tn,{children:s.jsx(Ype,{})})})}),s.jsx(mr,{path:"/leads",element:s.jsx(nn,{children:s.jsx(tn,{children:s.jsx(JNe,{})})})}),s.jsx(mr,{path:"/lead-assignment-rules",element:s.jsx(nn,{children:s.jsx(tn,{children:s.jsx(OTe,{})})})}),s.jsx(mr,{path:"/approval-workflows",element:s.jsx(nn,{children:s.jsx(tn,{children:s.jsx(DTe,{})})})}),s.jsx(mr,{path:"/lead-nurturing",element:s.jsx(nn,{children:s.jsx(tn,{children:s.jsx(PTe,{})})})}),s.jsx(mr,{path:"/contacts",element:s.jsx(nn,{children:s.jsx(tn,{children:s.jsx(aSe,{})})})}),s.jsx(mr,{path:"/kanban",element:s.jsx(nn,{children:s.jsx(tn,{children:s.jsx(PEe,{})})})}),s.jsx(mr,{path:"/chat",element:s.jsx(nn,{children:s.jsx(tn,{children:s.jsx(WAe,{})})})}),s.jsx(mr,{path:"/ai",element:s.jsx(nn,{children:s.jsx(tn,{children:s.jsx(YAe,{})})})}),s.jsx(mr,{path:"/ai-help",element:s.jsx(nn,{children:s.jsx(tn,{children:s.jsx(XAe,{})})})}),s.jsx(mr,{path:"/email-automation",element:s.jsx(nn,{children:s.jsx(tn,{children:s.jsx(oTe,{})})})}),s.jsx(mr,{path:"/predictive-analytics",element:s.jsx(nn,{children:s.jsx(tn,{children:s.jsx(dTe,{})})})}),s.jsx(mr,{path:"/user-management",element:s.jsx(nn,{children:s.jsx(tn,{children:s.jsx(xTe,{})})})}),s.jsx(mr,{path:"/customer-accounts",element:s.jsx(nn,{children:s.jsx(tn,{children:s.jsx(yTe,{})})})}),s.jsx(mr,{path:"/financial-management",element:s.jsx(nn,{children:s.jsx(tn,{children:s.jsx(vTe,{})})})}),s.jsx(mr,{path:"/customer-support",element:s.jsx(nn,{children:s.jsx(tn,{children:s.jsx(bTe,{})})})}),s.jsx(mr,{path:"/sentiment-analysis",element:s.jsx(nn,{children:s.jsx(tn,{children:s.jsx(wTe,{})})})}),s.jsx(mr,{path:"/customer-segmentation",element:s.jsx(nn,{children:s.jsx(tn,{children:s.jsx(jTe,{})})})}),s.jsx(mr,{path:"/advanced-forecasting",element:s.jsx(nn,{children:s.jsx(tn,{children:s.jsx(NTe,{})})})}),s.jsx(mr,{path:"/telephony",element:s.jsx(nn,{children:s.jsx(tn,{children:s.jsx(STe,{})})})}),s.jsx(mr,{path:"*",element:s.jsx(FN,{to:"/",replace:!0})})]})})})})}const $Te=new wV({defaultOptions:{queries:{retry:1,refetchOnWindowFocus:!1}}});try{B2e(window.location.href,document.referrer||"")}catch{}nV.createRoot(document.getElementById("root")).render(s.jsx(v.StrictMode,{children:s.jsx(kV,{client:$Te,children:s.jsx(BTe,{})})}));
