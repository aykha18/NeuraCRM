function eV(e,t){for(var r=0;r<t.length;r++){const n=t[r];if(typeof n!="string"&&!Array.isArray(n)){for(const s in n)if(s!=="default"&&!(s in e)){const i=Object.getOwnPropertyDescriptor(n,s);i&&Object.defineProperty(e,s,i.get?i:{enumerable:!0,get:()=>n[s]})}}}return Object.freeze(Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}))}(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const s of document.querySelectorAll('link[rel="modulepreload"]'))n(s);new MutationObserver(s=>{for(const i of s)if(i.type==="childList")for(const l of i.addedNodes)l.tagName==="LINK"&&l.rel==="modulepreload"&&n(l)}).observe(document,{childList:!0,subtree:!0});function r(s){const i={};return s.integrity&&(i.integrity=s.integrity),s.referrerPolicy&&(i.referrerPolicy=s.referrerPolicy),s.crossOrigin==="use-credentials"?i.credentials="include":s.crossOrigin==="anonymous"?i.credentials="omit":i.credentials="same-origin",i}function n(s){if(s.ep)return;s.ep=!0;const i=r(s);fetch(s.href,i)}})();function xs(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}var a1={exports:{}},m0={};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var zA;function tV(){if(zA)return m0;zA=1;var e=Symbol.for("react.transitional.element"),t=Symbol.for("react.fragment");function r(n,s,i){var l=null;if(i!==void 0&&(l=""+i),s.key!==void 0&&(l=""+s.key),"key"in s){i={};for(var c in s)c!=="key"&&(i[c]=s[c])}else i=s;return s=i.ref,{$$typeof:e,type:n,key:l,ref:s!==void 0?s:null,props:i}}return m0.Fragment=t,m0.jsx=r,m0.jsxs=r,m0}var HA;function rV(){return HA||(HA=1,a1.exports=tV()),a1.exports}var a=rV(),s1={exports:{}},wt={};/**
 * @license React
 * react.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var VA;function nV(){if(VA)return wt;VA=1;var e=Symbol.for("react.transitional.element"),t=Symbol.for("react.portal"),r=Symbol.for("react.fragment"),n=Symbol.for("react.strict_mode"),s=Symbol.for("react.profiler"),i=Symbol.for("react.consumer"),l=Symbol.for("react.context"),c=Symbol.for("react.forward_ref"),d=Symbol.for("react.suspense"),f=Symbol.for("react.memo"),h=Symbol.for("react.lazy"),g=Symbol.iterator;function p(U){return U===null||typeof U!="object"?null:(U=g&&U[g]||U["@@iterator"],typeof U=="function"?U:null)}var y={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},b=Object.assign,w={};function j(U,ie,F){this.props=U,this.context=ie,this.refs=w,this.updater=F||y}j.prototype.isReactComponent={},j.prototype.setState=function(U,ie){if(typeof U!="object"&&typeof U!="function"&&U!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,U,ie,"setState")},j.prototype.forceUpdate=function(U){this.updater.enqueueForceUpdate(this,U,"forceUpdate")};function S(){}S.prototype=j.prototype;function k(U,ie,F){this.props=U,this.context=ie,this.refs=w,this.updater=F||y}var E=k.prototype=new S;E.constructor=k,b(E,j.prototype),E.isPureReactComponent=!0;var C=Array.isArray,T={H:null,A:null,T:null,S:null,V:null},A=Object.prototype.hasOwnProperty;function O(U,ie,F,G,z,q){return F=q.ref,{$$typeof:e,type:U,key:ie,ref:F!==void 0?F:null,props:q}}function D(U,ie){return O(U.type,ie,void 0,void 0,void 0,U.props)}function R(U){return typeof U=="object"&&U!==null&&U.$$typeof===e}function B(U){var ie={"=":"=0",":":"=2"};return"$"+U.replace(/[=:]/g,function(F){return ie[F]})}var V=/\/+/g;function W(U,ie){return typeof U=="object"&&U!==null&&U.key!=null?B(""+U.key):ie.toString(36)}function se(){}function oe(U){switch(U.status){case"fulfilled":return U.value;case"rejected":throw U.reason;default:switch(typeof U.status=="string"?U.then(se,se):(U.status="pending",U.then(function(ie){U.status==="pending"&&(U.status="fulfilled",U.value=ie)},function(ie){U.status==="pending"&&(U.status="rejected",U.reason=ie)})),U.status){case"fulfilled":return U.value;case"rejected":throw U.reason}}throw U}function Y(U,ie,F,G,z){var q=typeof U;(q==="undefined"||q==="boolean")&&(U=null);var de=!1;if(U===null)de=!0;else switch(q){case"bigint":case"string":case"number":de=!0;break;case"object":switch(U.$$typeof){case e:case t:de=!0;break;case h:return de=U._init,Y(de(U._payload),ie,F,G,z)}}if(de)return z=z(U),de=G===""?"."+W(U,0):G,C(z)?(F="",de!=null&&(F=de.replace(V,"$&/")+"/"),Y(z,ie,F,"",function(le){return le})):z!=null&&(R(z)&&(z=D(z,F+(z.key==null||U&&U.key===z.key?"":(""+z.key).replace(V,"$&/")+"/")+de)),ie.push(z)),1;de=0;var De=G===""?".":G+":";if(C(U))for(var ne=0;ne<U.length;ne++)G=U[ne],q=De+W(G,ne),de+=Y(G,ie,F,q,z);else if(ne=p(U),typeof ne=="function")for(U=ne.call(U),ne=0;!(G=U.next()).done;)G=G.value,q=De+W(G,ne++),de+=Y(G,ie,F,q,z);else if(q==="object"){if(typeof U.then=="function")return Y(oe(U),ie,F,G,z);throw ie=String(U),Error("Objects are not valid as a React child (found: "+(ie==="[object Object]"?"object with keys {"+Object.keys(U).join(", ")+"}":ie)+"). If you meant to render a collection of children, use an array instead.")}return de}function Q(U,ie,F){if(U==null)return U;var G=[],z=0;return Y(U,G,"","",function(q){return ie.call(F,q,z++)}),G}function te(U){if(U._status===-1){var ie=U._result;ie=ie(),ie.then(function(F){(U._status===0||U._status===-1)&&(U._status=1,U._result=F)},function(F){(U._status===0||U._status===-1)&&(U._status=2,U._result=F)}),U._status===-1&&(U._status=0,U._result=ie)}if(U._status===1)return U._result.default;throw U._result}var ue=typeof reportError=="function"?reportError:function(U){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var ie=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof U=="object"&&U!==null&&typeof U.message=="string"?String(U.message):String(U),error:U});if(!window.dispatchEvent(ie))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",U);return}console.error(U)};function ve(){}return wt.Children={map:Q,forEach:function(U,ie,F){Q(U,function(){ie.apply(this,arguments)},F)},count:function(U){var ie=0;return Q(U,function(){ie++}),ie},toArray:function(U){return Q(U,function(ie){return ie})||[]},only:function(U){if(!R(U))throw Error("React.Children.only expected to receive a single React element child.");return U}},wt.Component=j,wt.Fragment=r,wt.Profiler=s,wt.PureComponent=k,wt.StrictMode=n,wt.Suspense=d,wt.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=T,wt.__COMPILER_RUNTIME={__proto__:null,c:function(U){return T.H.useMemoCache(U)}},wt.cache=function(U){return function(){return U.apply(null,arguments)}},wt.cloneElement=function(U,ie,F){if(U==null)throw Error("The argument must be a React element, but you passed "+U+".");var G=b({},U.props),z=U.key,q=void 0;if(ie!=null)for(de in ie.ref!==void 0&&(q=void 0),ie.key!==void 0&&(z=""+ie.key),ie)!A.call(ie,de)||de==="key"||de==="__self"||de==="__source"||de==="ref"&&ie.ref===void 0||(G[de]=ie[de]);var de=arguments.length-2;if(de===1)G.children=F;else if(1<de){for(var De=Array(de),ne=0;ne<de;ne++)De[ne]=arguments[ne+2];G.children=De}return O(U.type,z,void 0,void 0,q,G)},wt.createContext=function(U){return U={$$typeof:l,_currentValue:U,_currentValue2:U,_threadCount:0,Provider:null,Consumer:null},U.Provider=U,U.Consumer={$$typeof:i,_context:U},U},wt.createElement=function(U,ie,F){var G,z={},q=null;if(ie!=null)for(G in ie.key!==void 0&&(q=""+ie.key),ie)A.call(ie,G)&&G!=="key"&&G!=="__self"&&G!=="__source"&&(z[G]=ie[G]);var de=arguments.length-2;if(de===1)z.children=F;else if(1<de){for(var De=Array(de),ne=0;ne<de;ne++)De[ne]=arguments[ne+2];z.children=De}if(U&&U.defaultProps)for(G in de=U.defaultProps,de)z[G]===void 0&&(z[G]=de[G]);return O(U,q,void 0,void 0,null,z)},wt.createRef=function(){return{current:null}},wt.forwardRef=function(U){return{$$typeof:c,render:U}},wt.isValidElement=R,wt.lazy=function(U){return{$$typeof:h,_payload:{_status:-1,_result:U},_init:te}},wt.memo=function(U,ie){return{$$typeof:f,type:U,compare:ie===void 0?null:ie}},wt.startTransition=function(U){var ie=T.T,F={};T.T=F;try{var G=U(),z=T.S;z!==null&&z(F,G),typeof G=="object"&&G!==null&&typeof G.then=="function"&&G.then(ve,ue)}catch(q){ue(q)}finally{T.T=ie}},wt.unstable_useCacheRefresh=function(){return T.H.useCacheRefresh()},wt.use=function(U){return T.H.use(U)},wt.useActionState=function(U,ie,F){return T.H.useActionState(U,ie,F)},wt.useCallback=function(U,ie){return T.H.useCallback(U,ie)},wt.useContext=function(U){return T.H.useContext(U)},wt.useDebugValue=function(){},wt.useDeferredValue=function(U,ie){return T.H.useDeferredValue(U,ie)},wt.useEffect=function(U,ie,F){var G=T.H;if(typeof F=="function")throw Error("useEffect CRUD overload is not enabled in this build of React.");return G.useEffect(U,ie)},wt.useId=function(){return T.H.useId()},wt.useImperativeHandle=function(U,ie,F){return T.H.useImperativeHandle(U,ie,F)},wt.useInsertionEffect=function(U,ie){return T.H.useInsertionEffect(U,ie)},wt.useLayoutEffect=function(U,ie){return T.H.useLayoutEffect(U,ie)},wt.useMemo=function(U,ie){return T.H.useMemo(U,ie)},wt.useOptimistic=function(U,ie){return T.H.useOptimistic(U,ie)},wt.useReducer=function(U,ie,F){return T.H.useReducer(U,ie,F)},wt.useRef=function(U){return T.H.useRef(U)},wt.useState=function(U){return T.H.useState(U)},wt.useSyncExternalStore=function(U,ie,F){return T.H.useSyncExternalStore(U,ie,F)},wt.useTransition=function(){return T.H.useTransition()},wt.version="19.1.0",wt}var qA;function Hd(){return qA||(qA=1,s1.exports=nV()),s1.exports}var v=Hd();const Qe=xs(v),WA=eV({__proto__:null,default:Qe},[v]);var i1={exports:{}},g0={},l1={exports:{}},o1={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var GA;function aV(){return GA||(GA=1,function(e){function t(Q,te){var ue=Q.length;Q.push(te);e:for(;0<ue;){var ve=ue-1>>>1,U=Q[ve];if(0<s(U,te))Q[ve]=te,Q[ue]=U,ue=ve;else break e}}function r(Q){return Q.length===0?null:Q[0]}function n(Q){if(Q.length===0)return null;var te=Q[0],ue=Q.pop();if(ue!==te){Q[0]=ue;e:for(var ve=0,U=Q.length,ie=U>>>1;ve<ie;){var F=2*(ve+1)-1,G=Q[F],z=F+1,q=Q[z];if(0>s(G,ue))z<U&&0>s(q,G)?(Q[ve]=q,Q[z]=ue,ve=z):(Q[ve]=G,Q[F]=ue,ve=F);else if(z<U&&0>s(q,ue))Q[ve]=q,Q[z]=ue,ve=z;else break e}}return te}function s(Q,te){var ue=Q.sortIndex-te.sortIndex;return ue!==0?ue:Q.id-te.id}if(e.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var i=performance;e.unstable_now=function(){return i.now()}}else{var l=Date,c=l.now();e.unstable_now=function(){return l.now()-c}}var d=[],f=[],h=1,g=null,p=3,y=!1,b=!1,w=!1,j=!1,S=typeof setTimeout=="function"?setTimeout:null,k=typeof clearTimeout=="function"?clearTimeout:null,E=typeof setImmediate<"u"?setImmediate:null;function C(Q){for(var te=r(f);te!==null;){if(te.callback===null)n(f);else if(te.startTime<=Q)n(f),te.sortIndex=te.expirationTime,t(d,te);else break;te=r(f)}}function T(Q){if(w=!1,C(Q),!b)if(r(d)!==null)b=!0,A||(A=!0,W());else{var te=r(f);te!==null&&Y(T,te.startTime-Q)}}var A=!1,O=-1,D=5,R=-1;function B(){return j?!0:!(e.unstable_now()-R<D)}function V(){if(j=!1,A){var Q=e.unstable_now();R=Q;var te=!0;try{e:{b=!1,w&&(w=!1,k(O),O=-1),y=!0;var ue=p;try{t:{for(C(Q),g=r(d);g!==null&&!(g.expirationTime>Q&&B());){var ve=g.callback;if(typeof ve=="function"){g.callback=null,p=g.priorityLevel;var U=ve(g.expirationTime<=Q);if(Q=e.unstable_now(),typeof U=="function"){g.callback=U,C(Q),te=!0;break t}g===r(d)&&n(d),C(Q)}else n(d);g=r(d)}if(g!==null)te=!0;else{var ie=r(f);ie!==null&&Y(T,ie.startTime-Q),te=!1}}break e}finally{g=null,p=ue,y=!1}te=void 0}}finally{te?W():A=!1}}}var W;if(typeof E=="function")W=function(){E(V)};else if(typeof MessageChannel<"u"){var se=new MessageChannel,oe=se.port2;se.port1.onmessage=V,W=function(){oe.postMessage(null)}}else W=function(){S(V,0)};function Y(Q,te){O=S(function(){Q(e.unstable_now())},te)}e.unstable_IdlePriority=5,e.unstable_ImmediatePriority=1,e.unstable_LowPriority=4,e.unstable_NormalPriority=3,e.unstable_Profiling=null,e.unstable_UserBlockingPriority=2,e.unstable_cancelCallback=function(Q){Q.callback=null},e.unstable_forceFrameRate=function(Q){0>Q||125<Q?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):D=0<Q?Math.floor(1e3/Q):5},e.unstable_getCurrentPriorityLevel=function(){return p},e.unstable_next=function(Q){switch(p){case 1:case 2:case 3:var te=3;break;default:te=p}var ue=p;p=te;try{return Q()}finally{p=ue}},e.unstable_requestPaint=function(){j=!0},e.unstable_runWithPriority=function(Q,te){switch(Q){case 1:case 2:case 3:case 4:case 5:break;default:Q=3}var ue=p;p=Q;try{return te()}finally{p=ue}},e.unstable_scheduleCallback=function(Q,te,ue){var ve=e.unstable_now();switch(typeof ue=="object"&&ue!==null?(ue=ue.delay,ue=typeof ue=="number"&&0<ue?ve+ue:ve):ue=ve,Q){case 1:var U=-1;break;case 2:U=250;break;case 5:U=1073741823;break;case 4:U=1e4;break;default:U=5e3}return U=ue+U,Q={id:h++,callback:te,priorityLevel:Q,startTime:ue,expirationTime:U,sortIndex:-1},ue>ve?(Q.sortIndex=ue,t(f,Q),r(d)===null&&Q===r(f)&&(w?(k(O),O=-1):w=!0,Y(T,ue-ve))):(Q.sortIndex=U,t(d,Q),b||y||(b=!0,A||(A=!0,W()))),Q},e.unstable_shouldYield=B,e.unstable_wrapCallback=function(Q){var te=p;return function(){var ue=p;p=te;try{return Q.apply(this,arguments)}finally{p=ue}}}}(o1)),o1}var KA;function sV(){return KA||(KA=1,l1.exports=aV()),l1.exports}var c1={exports:{}},Zn={};/**
 * @license React
 * react-dom.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var YA;function iV(){if(YA)return Zn;YA=1;var e=Hd();function t(d){var f="https://react.dev/errors/"+d;if(1<arguments.length){f+="?args[]="+encodeURIComponent(arguments[1]);for(var h=2;h<arguments.length;h++)f+="&args[]="+encodeURIComponent(arguments[h])}return"Minified React error #"+d+"; visit "+f+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function r(){}var n={d:{f:r,r:function(){throw Error(t(522))},D:r,C:r,L:r,m:r,X:r,S:r,M:r},p:0,findDOMNode:null},s=Symbol.for("react.portal");function i(d,f,h){var g=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:s,key:g==null?null:""+g,children:d,containerInfo:f,implementation:h}}var l=e.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function c(d,f){if(d==="font")return"";if(typeof f=="string")return f==="use-credentials"?f:""}return Zn.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=n,Zn.createPortal=function(d,f){var h=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!f||f.nodeType!==1&&f.nodeType!==9&&f.nodeType!==11)throw Error(t(299));return i(d,f,null,h)},Zn.flushSync=function(d){var f=l.T,h=n.p;try{if(l.T=null,n.p=2,d)return d()}finally{l.T=f,n.p=h,n.d.f()}},Zn.preconnect=function(d,f){typeof d=="string"&&(f?(f=f.crossOrigin,f=typeof f=="string"?f==="use-credentials"?f:"":void 0):f=null,n.d.C(d,f))},Zn.prefetchDNS=function(d){typeof d=="string"&&n.d.D(d)},Zn.preinit=function(d,f){if(typeof d=="string"&&f&&typeof f.as=="string"){var h=f.as,g=c(h,f.crossOrigin),p=typeof f.integrity=="string"?f.integrity:void 0,y=typeof f.fetchPriority=="string"?f.fetchPriority:void 0;h==="style"?n.d.S(d,typeof f.precedence=="string"?f.precedence:void 0,{crossOrigin:g,integrity:p,fetchPriority:y}):h==="script"&&n.d.X(d,{crossOrigin:g,integrity:p,fetchPriority:y,nonce:typeof f.nonce=="string"?f.nonce:void 0})}},Zn.preinitModule=function(d,f){if(typeof d=="string")if(typeof f=="object"&&f!==null){if(f.as==null||f.as==="script"){var h=c(f.as,f.crossOrigin);n.d.M(d,{crossOrigin:h,integrity:typeof f.integrity=="string"?f.integrity:void 0,nonce:typeof f.nonce=="string"?f.nonce:void 0})}}else f==null&&n.d.M(d)},Zn.preload=function(d,f){if(typeof d=="string"&&typeof f=="object"&&f!==null&&typeof f.as=="string"){var h=f.as,g=c(h,f.crossOrigin);n.d.L(d,h,{crossOrigin:g,integrity:typeof f.integrity=="string"?f.integrity:void 0,nonce:typeof f.nonce=="string"?f.nonce:void 0,type:typeof f.type=="string"?f.type:void 0,fetchPriority:typeof f.fetchPriority=="string"?f.fetchPriority:void 0,referrerPolicy:typeof f.referrerPolicy=="string"?f.referrerPolicy:void 0,imageSrcSet:typeof f.imageSrcSet=="string"?f.imageSrcSet:void 0,imageSizes:typeof f.imageSizes=="string"?f.imageSizes:void 0,media:typeof f.media=="string"?f.media:void 0})}},Zn.preloadModule=function(d,f){if(typeof d=="string")if(f){var h=c(f.as,f.crossOrigin);n.d.m(d,{as:typeof f.as=="string"&&f.as!=="script"?f.as:void 0,crossOrigin:h,integrity:typeof f.integrity=="string"?f.integrity:void 0})}else n.d.m(d)},Zn.requestFormReset=function(d){n.d.r(d)},Zn.unstable_batchedUpdates=function(d,f){return d(f)},Zn.useFormState=function(d,f,h){return l.H.useFormState(d,f,h)},Zn.useFormStatus=function(){return l.H.useHostTransitionStatus()},Zn.version="19.1.0",Zn}var XA;function _M(){if(XA)return c1.exports;XA=1;function e(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(e)}catch(t){console.error(t)}}return e(),c1.exports=iV(),c1.exports}/**
 * @license React
 * react-dom-client.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var QA;function lV(){if(QA)return g0;QA=1;var e=sV(),t=Hd(),r=_M();function n(o){var u="https://react.dev/errors/"+o;if(1<arguments.length){u+="?args[]="+encodeURIComponent(arguments[1]);for(var m=2;m<arguments.length;m++)u+="&args[]="+encodeURIComponent(arguments[m])}return"Minified React error #"+o+"; visit "+u+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function s(o){return!(!o||o.nodeType!==1&&o.nodeType!==9&&o.nodeType!==11)}function i(o){var u=o,m=o;if(o.alternate)for(;u.return;)u=u.return;else{o=u;do u=o,(u.flags&4098)!==0&&(m=u.return),o=u.return;while(o)}return u.tag===3?m:null}function l(o){if(o.tag===13){var u=o.memoizedState;if(u===null&&(o=o.alternate,o!==null&&(u=o.memoizedState)),u!==null)return u.dehydrated}return null}function c(o){if(i(o)!==o)throw Error(n(188))}function d(o){var u=o.alternate;if(!u){if(u=i(o),u===null)throw Error(n(188));return u!==o?null:o}for(var m=o,x=u;;){var N=m.return;if(N===null)break;var _=N.alternate;if(_===null){if(x=N.return,x!==null){m=x;continue}break}if(N.child===_.child){for(_=N.child;_;){if(_===m)return c(N),o;if(_===x)return c(N),u;_=_.sibling}throw Error(n(188))}if(m.return!==x.return)m=N,x=_;else{for(var P=!1,H=N.child;H;){if(H===m){P=!0,m=N,x=_;break}if(H===x){P=!0,x=N,m=_;break}H=H.sibling}if(!P){for(H=_.child;H;){if(H===m){P=!0,m=_,x=N;break}if(H===x){P=!0,x=_,m=N;break}H=H.sibling}if(!P)throw Error(n(189))}}if(m.alternate!==x)throw Error(n(190))}if(m.tag!==3)throw Error(n(188));return m.stateNode.current===m?o:u}function f(o){var u=o.tag;if(u===5||u===26||u===27||u===6)return o;for(o=o.child;o!==null;){if(u=f(o),u!==null)return u;o=o.sibling}return null}var h=Object.assign,g=Symbol.for("react.element"),p=Symbol.for("react.transitional.element"),y=Symbol.for("react.portal"),b=Symbol.for("react.fragment"),w=Symbol.for("react.strict_mode"),j=Symbol.for("react.profiler"),S=Symbol.for("react.provider"),k=Symbol.for("react.consumer"),E=Symbol.for("react.context"),C=Symbol.for("react.forward_ref"),T=Symbol.for("react.suspense"),A=Symbol.for("react.suspense_list"),O=Symbol.for("react.memo"),D=Symbol.for("react.lazy"),R=Symbol.for("react.activity"),B=Symbol.for("react.memo_cache_sentinel"),V=Symbol.iterator;function W(o){return o===null||typeof o!="object"?null:(o=V&&o[V]||o["@@iterator"],typeof o=="function"?o:null)}var se=Symbol.for("react.client.reference");function oe(o){if(o==null)return null;if(typeof o=="function")return o.$$typeof===se?null:o.displayName||o.name||null;if(typeof o=="string")return o;switch(o){case b:return"Fragment";case j:return"Profiler";case w:return"StrictMode";case T:return"Suspense";case A:return"SuspenseList";case R:return"Activity"}if(typeof o=="object")switch(o.$$typeof){case y:return"Portal";case E:return(o.displayName||"Context")+".Provider";case k:return(o._context.displayName||"Context")+".Consumer";case C:var u=o.render;return o=o.displayName,o||(o=u.displayName||u.name||"",o=o!==""?"ForwardRef("+o+")":"ForwardRef"),o;case O:return u=o.displayName||null,u!==null?u:oe(o.type)||"Memo";case D:u=o._payload,o=o._init;try{return oe(o(u))}catch{}}return null}var Y=Array.isArray,Q=t.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,te=r.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,ue={pending:!1,data:null,method:null,action:null},ve=[],U=-1;function ie(o){return{current:o}}function F(o){0>U||(o.current=ve[U],ve[U]=null,U--)}function G(o,u){U++,ve[U]=o.current,o.current=u}var z=ie(null),q=ie(null),de=ie(null),De=ie(null);function ne(o,u){switch(G(de,u),G(q,o),G(z,null),u.nodeType){case 9:case 11:o=(o=u.documentElement)&&(o=o.namespaceURI)?pA(o):0;break;default:if(o=u.tagName,u=u.namespaceURI)u=pA(u),o=xA(u,o);else switch(o){case"svg":o=1;break;case"math":o=2;break;default:o=0}}F(z),G(z,o)}function le(){F(z),F(q),F(de)}function he(o){o.memoizedState!==null&&G(De,o);var u=z.current,m=xA(u,o.type);u!==m&&(G(q,o),G(z,m))}function Le(o){q.current===o&&(F(z),F(q)),De.current===o&&(F(De),c0._currentValue=ue)}var pe=Object.prototype.hasOwnProperty,xe=e.unstable_scheduleCallback,$e=e.unstable_cancelCallback,pt=e.unstable_shouldYield,Xe=e.unstable_requestPaint,Ue=e.unstable_now,At=e.unstable_getCurrentPriorityLevel,Xt=e.unstable_ImmediatePriority,bt=e.unstable_UserBlockingPriority,Wt=e.unstable_NormalPriority,Rr=e.unstable_LowPriority,Gr=e.unstable_IdlePriority,yr=e.log,Dn=e.unstable_setDisableYieldValue,Pn=null,vt=null;function fr(o){if(typeof yr=="function"&&Dn(o),vt&&typeof vt.setStrictMode=="function")try{vt.setStrictMode(Pn,o)}catch{}}var dt=Math.clz32?Math.clz32:gt,Yn=Math.log,wa=Math.LN2;function gt(o){return o>>>=0,o===0?32:31-(Yn(o)/wa|0)|0}var Tr=256,xt=4194304;function _t(o){var u=o&42;if(u!==0)return u;switch(o&-o){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return o&4194048;case 4194304:case 8388608:case 16777216:case 33554432:return o&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return o}}function ge(o,u,m){var x=o.pendingLanes;if(x===0)return 0;var N=0,_=o.suspendedLanes,P=o.pingedLanes;o=o.warmLanes;var H=x&134217727;return H!==0?(x=H&~_,x!==0?N=_t(x):(P&=H,P!==0?N=_t(P):m||(m=H&~o,m!==0&&(N=_t(m))))):(H=x&~_,H!==0?N=_t(H):P!==0?N=_t(P):m||(m=x&~o,m!==0&&(N=_t(m)))),N===0?0:u!==0&&u!==N&&(u&_)===0&&(_=N&-N,m=u&-u,_>=m||_===32&&(m&4194048)!==0)?u:N}function st(o,u){return(o.pendingLanes&~(o.suspendedLanes&~o.pingedLanes)&u)===0}function Pt(o,u){switch(o){case 1:case 2:case 4:case 8:case 64:return u+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return u+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function re(){var o=Tr;return Tr<<=1,(Tr&4194048)===0&&(Tr=256),o}function Ce(){var o=xt;return xt<<=1,(xt&62914560)===0&&(xt=4194304),o}function Te(o){for(var u=[],m=0;31>m;m++)u.push(o);return u}function ot(o,u){o.pendingLanes|=u,u!==268435456&&(o.suspendedLanes=0,o.pingedLanes=0,o.warmLanes=0)}function ft(o,u,m,x,N,_){var P=o.pendingLanes;o.pendingLanes=m,o.suspendedLanes=0,o.pingedLanes=0,o.warmLanes=0,o.expiredLanes&=m,o.entangledLanes&=m,o.errorRecoveryDisabledLanes&=m,o.shellSuspendCounter=0;var H=o.entanglements,ae=o.expirationTimes,we=o.hiddenUpdates;for(m=P&~m;0<m;){var Oe=31-dt(m),Re=1<<Oe;H[Oe]=0,ae[Oe]=-1;var Ne=we[Oe];if(Ne!==null)for(we[Oe]=null,Oe=0;Oe<Ne.length;Oe++){var _e=Ne[Oe];_e!==null&&(_e.lane&=-536870913)}m&=~Re}x!==0&&Kr(o,x,0),_!==0&&N===0&&o.tag!==0&&(o.suspendedLanes|=_&~(P&~u))}function Kr(o,u,m){o.pendingLanes|=u,o.suspendedLanes&=~u;var x=31-dt(u);o.entangledLanes|=u,o.entanglements[x]=o.entanglements[x]|1073741824|m&4194090}function Ct(o,u){var m=o.entangledLanes|=u;for(o=o.entanglements;m;){var x=31-dt(m),N=1<<x;N&u|o[x]&u&&(o[x]|=u),m&=~N}}function la(o){switch(o){case 2:o=1;break;case 8:o=4;break;case 32:o=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:o=128;break;case 268435456:o=134217728;break;default:o=0}return o}function Xn(o){return o&=-o,2<o?8<o?(o&134217727)!==0?32:268435456:8:2}function Ll(){var o=te.p;return o!==0?o:(o=window.event,o===void 0?32:IA(o.type))}function vi(o,u){var m=te.p;try{return te.p=o,u()}finally{te.p=m}}var ja=Math.random().toString(36).slice(2),hr="__reactFiber$"+ja,Gt="__reactProps$"+ja,Na="__reactContainer$"+ja,yt="__reactEvents$"+ja,vr="__reactListeners$"+ja,L="__reactHandles$"+ja,Z="__reactResources$"+ja,K="__reactMarker$"+ja;function X(o){delete o[hr],delete o[Gt],delete o[yt],delete o[vr],delete o[L]}function J(o){var u=o[hr];if(u)return u;for(var m=o.parentNode;m;){if(u=m[Na]||m[hr]){if(m=u.alternate,u.child!==null||m!==null&&m.child!==null)for(o=wA(o);o!==null;){if(m=o[hr])return m;o=wA(o)}return u}o=m,m=o.parentNode}return null}function ee(o){if(o=o[hr]||o[Na]){var u=o.tag;if(u===5||u===6||u===13||u===26||u===27||u===3)return o}return null}function be(o){var u=o.tag;if(u===5||u===26||u===27||u===6)return o.stateNode;throw Error(n(33))}function M(o){var u=o[Z];return u||(u=o[Z]={hoistableStyles:new Map,hoistableScripts:new Map}),u}function ce(o){o[K]=!0}var je=new Set,Se={};function Fe(o,u){Be(o,u),Be(o+"Capture",u)}function Be(o,u){for(Se[o]=u,o=0;o<u.length;o++)je.add(u[o])}var Ye=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),Me={},qe={};function tt(o){return pe.call(qe,o)?!0:pe.call(Me,o)?!1:Ye.test(o)?qe[o]=!0:(Me[o]=!0,!1)}function Ot(o,u,m){if(tt(u))if(m===null)o.removeAttribute(u);else{switch(typeof m){case"undefined":case"function":case"symbol":o.removeAttribute(u);return;case"boolean":var x=u.toLowerCase().slice(0,5);if(x!=="data-"&&x!=="aria-"){o.removeAttribute(u);return}}o.setAttribute(u,""+m)}}function Qt(o,u,m){if(m===null)o.removeAttribute(u);else{switch(typeof m){case"undefined":case"function":case"symbol":case"boolean":o.removeAttribute(u);return}o.setAttribute(u,""+m)}}function ir(o,u,m,x){if(x===null)o.removeAttribute(m);else{switch(typeof x){case"undefined":case"function":case"symbol":case"boolean":o.removeAttribute(m);return}o.setAttributeNS(u,m,""+x)}}var za,Qs;function Sa(o){if(za===void 0)try{throw Error()}catch(m){var u=m.stack.trim().match(/\n( *(at )?)/);za=u&&u[1]||"",Qs=-1<m.stack.indexOf(`
    at`)?" (<anonymous>)":-1<m.stack.indexOf("@")?"@unknown:0:0":""}return`
`+za+o+Qs}var _a=!1;function bi(o,u){if(!o||_a)return"";_a=!0;var m=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var x={DetermineComponentFrameRoot:function(){try{if(u){var Re=function(){throw Error()};if(Object.defineProperty(Re.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(Re,[])}catch(_e){var Ne=_e}Reflect.construct(o,[],Re)}else{try{Re.call()}catch(_e){Ne=_e}o.call(Re.prototype)}}else{try{throw Error()}catch(_e){Ne=_e}(Re=o())&&typeof Re.catch=="function"&&Re.catch(function(){})}}catch(_e){if(_e&&Ne&&typeof _e.stack=="string")return[_e.stack,Ne.stack]}return[null,null]}};x.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var N=Object.getOwnPropertyDescriptor(x.DetermineComponentFrameRoot,"name");N&&N.configurable&&Object.defineProperty(x.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var _=x.DetermineComponentFrameRoot(),P=_[0],H=_[1];if(P&&H){var ae=P.split(`
`),we=H.split(`
`);for(N=x=0;x<ae.length&&!ae[x].includes("DetermineComponentFrameRoot");)x++;for(;N<we.length&&!we[N].includes("DetermineComponentFrameRoot");)N++;if(x===ae.length||N===we.length)for(x=ae.length-1,N=we.length-1;1<=x&&0<=N&&ae[x]!==we[N];)N--;for(;1<=x&&0<=N;x--,N--)if(ae[x]!==we[N]){if(x!==1||N!==1)do if(x--,N--,0>N||ae[x]!==we[N]){var Oe=`
`+ae[x].replace(" at new "," at ");return o.displayName&&Oe.includes("<anonymous>")&&(Oe=Oe.replace("<anonymous>",o.displayName)),Oe}while(1<=x&&0<=N);break}}}finally{_a=!1,Error.prepareStackTrace=m}return(m=o?o.displayName||o.name:"")?Sa(m):""}function ka(o){switch(o.tag){case 26:case 27:case 5:return Sa(o.type);case 16:return Sa("Lazy");case 13:return Sa("Suspense");case 19:return Sa("SuspenseList");case 0:case 15:return bi(o.type,!1);case 11:return bi(o.type.render,!1);case 1:return bi(o.type,!0);case 31:return Sa("Activity");default:return""}}function pf(o){try{var u="";do u+=ka(o),o=o.return;while(o);return u}catch(m){return`
Error generating stack: `+m.message+`
`+m.stack}}function oa(o){switch(typeof o){case"bigint":case"boolean":case"number":case"string":case"undefined":return o;case"object":return o;default:return""}}function Tm(o){var u=o.type;return(o=o.nodeName)&&o.toLowerCase()==="input"&&(u==="checkbox"||u==="radio")}function iv(o){var u=Tm(o)?"checked":"value",m=Object.getOwnPropertyDescriptor(o.constructor.prototype,u),x=""+o[u];if(!o.hasOwnProperty(u)&&typeof m<"u"&&typeof m.get=="function"&&typeof m.set=="function"){var N=m.get,_=m.set;return Object.defineProperty(o,u,{configurable:!0,get:function(){return N.call(this)},set:function(P){x=""+P,_.call(this,P)}}),Object.defineProperty(o,u,{enumerable:m.enumerable}),{getValue:function(){return x},setValue:function(P){x=""+P},stopTracking:function(){o._valueTracker=null,delete o[u]}}}}function ec(o){o._valueTracker||(o._valueTracker=iv(o))}function xf(o){if(!o)return!1;var u=o._valueTracker;if(!u)return!0;var m=u.getValue(),x="";return o&&(x=Tm(o)?o.checked?"true":"false":o.value),o=x,o!==m?(u.setValue(o),!0):!1}function Nu(o){if(o=o||(typeof document<"u"?document:void 0),typeof o>"u")return null;try{return o.activeElement||o.body}catch{return o.body}}var lv=/[\n"\\]/g;function Ea(o){return o.replace(lv,function(u){return"\\"+u.charCodeAt(0).toString(16)+" "})}function yf(o,u,m,x,N,_,P,H){o.name="",P!=null&&typeof P!="function"&&typeof P!="symbol"&&typeof P!="boolean"?o.type=P:o.removeAttribute("type"),u!=null?P==="number"?(u===0&&o.value===""||o.value!=u)&&(o.value=""+oa(u)):o.value!==""+oa(u)&&(o.value=""+oa(u)):P!=="submit"&&P!=="reset"||o.removeAttribute("value"),u!=null?vf(o,P,oa(u)):m!=null?vf(o,P,oa(m)):x!=null&&o.removeAttribute("value"),N==null&&_!=null&&(o.defaultChecked=!!_),N!=null&&(o.checked=N&&typeof N!="function"&&typeof N!="symbol"),H!=null&&typeof H!="function"&&typeof H!="symbol"&&typeof H!="boolean"?o.name=""+oa(H):o.removeAttribute("name")}function Am(o,u,m,x,N,_,P,H){if(_!=null&&typeof _!="function"&&typeof _!="symbol"&&typeof _!="boolean"&&(o.type=_),u!=null||m!=null){if(!(_!=="submit"&&_!=="reset"||u!=null))return;m=m!=null?""+oa(m):"",u=u!=null?""+oa(u):m,H||u===o.value||(o.value=u),o.defaultValue=u}x=x??N,x=typeof x!="function"&&typeof x!="symbol"&&!!x,o.checked=H?o.checked:!!x,o.defaultChecked=!!x,P!=null&&typeof P!="function"&&typeof P!="symbol"&&typeof P!="boolean"&&(o.name=P)}function vf(o,u,m){u==="number"&&Nu(o.ownerDocument)===o||o.defaultValue===""+m||(o.defaultValue=""+m)}function Bl(o,u,m,x){if(o=o.options,u){u={};for(var N=0;N<m.length;N++)u["$"+m[N]]=!0;for(m=0;m<o.length;m++)N=u.hasOwnProperty("$"+o[m].value),o[m].selected!==N&&(o[m].selected=N),N&&x&&(o[m].defaultSelected=!0)}else{for(m=""+oa(m),u=null,N=0;N<o.length;N++){if(o[N].value===m){o[N].selected=!0,x&&(o[N].defaultSelected=!0);return}u!==null||o[N].disabled||(u=o[N])}u!==null&&(u.selected=!0)}}function Cm(o,u,m){if(u!=null&&(u=""+oa(u),u!==o.value&&(o.value=u),m==null)){o.defaultValue!==u&&(o.defaultValue=u);return}o.defaultValue=m!=null?""+oa(m):""}function tc(o,u,m,x){if(u==null){if(x!=null){if(m!=null)throw Error(n(92));if(Y(x)){if(1<x.length)throw Error(n(93));x=x[0]}m=x}m==null&&(m=""),u=m}m=oa(u),o.defaultValue=m,x=o.textContent,x===m&&x!==""&&x!==null&&(o.value=x)}function Vi(o,u){if(u){var m=o.firstChild;if(m&&m===o.lastChild&&m.nodeType===3){m.nodeValue=u;return}}o.textContent=u}var Om=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function bf(o,u,m){var x=u.indexOf("--")===0;m==null||typeof m=="boolean"||m===""?x?o.setProperty(u,""):u==="float"?o.cssFloat="":o[u]="":x?o.setProperty(u,m):typeof m!="number"||m===0||Om.has(u)?u==="float"?o.cssFloat=m:o[u]=(""+m).trim():o[u]=m+"px"}function Dm(o,u,m){if(u!=null&&typeof u!="object")throw Error(n(62));if(o=o.style,m!=null){for(var x in m)!m.hasOwnProperty(x)||u!=null&&u.hasOwnProperty(x)||(x.indexOf("--")===0?o.setProperty(x,""):x==="float"?o.cssFloat="":o[x]="");for(var N in u)x=u[N],u.hasOwnProperty(N)&&m[N]!==x&&bf(o,N,x)}else for(var _ in u)u.hasOwnProperty(_)&&bf(o,_,u[_])}function wf(o){if(o.indexOf("-")===-1)return!1;switch(o){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var ov=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),qi=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function rc(o){return qi.test(""+o)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":o}var jf=null;function Nf(o){return o=o.target||o.srcElement||window,o.correspondingUseElement&&(o=o.correspondingUseElement),o.nodeType===3?o.parentNode:o}var Wi=null,ys=null;function $l(o){var u=ee(o);if(u&&(o=u.stateNode)){var m=o[Gt]||null;e:switch(o=u.stateNode,u.type){case"input":if(yf(o,m.value,m.defaultValue,m.defaultValue,m.checked,m.defaultChecked,m.type,m.name),u=m.name,m.type==="radio"&&u!=null){for(m=o;m.parentNode;)m=m.parentNode;for(m=m.querySelectorAll('input[name="'+Ea(""+u)+'"][type="radio"]'),u=0;u<m.length;u++){var x=m[u];if(x!==o&&x.form===o.form){var N=x[Gt]||null;if(!N)throw Error(n(90));yf(x,N.value,N.defaultValue,N.defaultValue,N.checked,N.defaultChecked,N.type,N.name)}}for(u=0;u<m.length;u++)x=m[u],x.form===o.form&&xf(x)}break e;case"textarea":Cm(o,m.value,m.defaultValue);break e;case"select":u=m.value,u!=null&&Bl(o,!!m.multiple,u,!1)}}}var at=!1;function Zs(o,u,m){if(at)return o(u,m);at=!0;try{var x=o(u);return x}finally{if(at=!1,(Wi!==null||ys!==null)&&(gg(),Wi&&(u=Wi,o=ys,ys=Wi=null,$l(u),o)))for(u=0;u<o.length;u++)$l(o[u])}}function nc(o,u){var m=o.stateNode;if(m===null)return null;var x=m[Gt]||null;if(x===null)return null;m=x[u];e:switch(u){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(x=!x.disabled)||(o=o.type,x=!(o==="button"||o==="input"||o==="select"||o==="textarea")),o=!x;break e;default:o=!1}if(o)return null;if(m&&typeof m!="function")throw Error(n(231,u,typeof m));return m}var I=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),He=!1;if(I)try{var Ke={};Object.defineProperty(Ke,"passive",{get:function(){He=!0}}),window.addEventListener("test",Ke,Ke),window.removeEventListener("test",Ke,Ke)}catch{He=!1}var Ft=null,Mt=null,rt=null;function Mn(){if(rt)return rt;var o,u=Mt,m=u.length,x,N="value"in Ft?Ft.value:Ft.textContent,_=N.length;for(o=0;o<m&&u[o]===N[o];o++);var P=m-o;for(x=1;x<=P&&u[m-x]===N[_-x];x++);return rt=N.slice(o,1<x?1-x:void 0)}function ac(o){var u=o.keyCode;return"charCode"in o?(o=o.charCode,o===0&&u===13&&(o=13)):o=u,o===10&&(o=13),32<=o||o===13?o:0}function Pm(){return!0}function w4(){return!1}function Ta(o){function u(m,x,N,_,P){this._reactName=m,this._targetInst=N,this.type=x,this.nativeEvent=_,this.target=P,this.currentTarget=null;for(var H in o)o.hasOwnProperty(H)&&(m=o[H],this[H]=m?m(_):_[H]);return this.isDefaultPrevented=(_.defaultPrevented!=null?_.defaultPrevented:_.returnValue===!1)?Pm:w4,this.isPropagationStopped=w4,this}return h(u.prototype,{preventDefault:function(){this.defaultPrevented=!0;var m=this.nativeEvent;m&&(m.preventDefault?m.preventDefault():typeof m.returnValue!="unknown"&&(m.returnValue=!1),this.isDefaultPrevented=Pm)},stopPropagation:function(){var m=this.nativeEvent;m&&(m.stopPropagation?m.stopPropagation():typeof m.cancelBubble!="unknown"&&(m.cancelBubble=!0),this.isPropagationStopped=Pm)},persist:function(){},isPersistent:Pm}),u}var sc={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(o){return o.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Mm=Ta(sc),Sf=h({},sc,{view:0,detail:0}),ez=Ta(Sf),cv,uv,_f,Rm=h({},Sf,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:fv,button:0,buttons:0,relatedTarget:function(o){return o.relatedTarget===void 0?o.fromElement===o.srcElement?o.toElement:o.fromElement:o.relatedTarget},movementX:function(o){return"movementX"in o?o.movementX:(o!==_f&&(_f&&o.type==="mousemove"?(cv=o.screenX-_f.screenX,uv=o.screenY-_f.screenY):uv=cv=0,_f=o),cv)},movementY:function(o){return"movementY"in o?o.movementY:uv}}),j4=Ta(Rm),tz=h({},Rm,{dataTransfer:0}),rz=Ta(tz),nz=h({},Sf,{relatedTarget:0}),dv=Ta(nz),az=h({},sc,{animationName:0,elapsedTime:0,pseudoElement:0}),sz=Ta(az),iz=h({},sc,{clipboardData:function(o){return"clipboardData"in o?o.clipboardData:window.clipboardData}}),lz=Ta(iz),oz=h({},sc,{data:0}),N4=Ta(oz),cz={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},uz={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},dz={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function fz(o){var u=this.nativeEvent;return u.getModifierState?u.getModifierState(o):(o=dz[o])?!!u[o]:!1}function fv(){return fz}var hz=h({},Sf,{key:function(o){if(o.key){var u=cz[o.key]||o.key;if(u!=="Unidentified")return u}return o.type==="keypress"?(o=ac(o),o===13?"Enter":String.fromCharCode(o)):o.type==="keydown"||o.type==="keyup"?uz[o.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:fv,charCode:function(o){return o.type==="keypress"?ac(o):0},keyCode:function(o){return o.type==="keydown"||o.type==="keyup"?o.keyCode:0},which:function(o){return o.type==="keypress"?ac(o):o.type==="keydown"||o.type==="keyup"?o.keyCode:0}}),mz=Ta(hz),gz=h({},Rm,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),S4=Ta(gz),pz=h({},Sf,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:fv}),xz=Ta(pz),yz=h({},sc,{propertyName:0,elapsedTime:0,pseudoElement:0}),vz=Ta(yz),bz=h({},Rm,{deltaX:function(o){return"deltaX"in o?o.deltaX:"wheelDeltaX"in o?-o.wheelDeltaX:0},deltaY:function(o){return"deltaY"in o?o.deltaY:"wheelDeltaY"in o?-o.wheelDeltaY:"wheelDelta"in o?-o.wheelDelta:0},deltaZ:0,deltaMode:0}),wz=Ta(bz),jz=h({},sc,{newState:0,oldState:0}),Nz=Ta(jz),Sz=[9,13,27,32],hv=I&&"CompositionEvent"in window,kf=null;I&&"documentMode"in document&&(kf=document.documentMode);var _z=I&&"TextEvent"in window&&!kf,_4=I&&(!hv||kf&&8<kf&&11>=kf),k4=" ",E4=!1;function T4(o,u){switch(o){case"keyup":return Sz.indexOf(u.keyCode)!==-1;case"keydown":return u.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function A4(o){return o=o.detail,typeof o=="object"&&"data"in o?o.data:null}var Su=!1;function kz(o,u){switch(o){case"compositionend":return A4(u);case"keypress":return u.which!==32?null:(E4=!0,k4);case"textInput":return o=u.data,o===k4&&E4?null:o;default:return null}}function Ez(o,u){if(Su)return o==="compositionend"||!hv&&T4(o,u)?(o=Mn(),rt=Mt=Ft=null,Su=!1,o):null;switch(o){case"paste":return null;case"keypress":if(!(u.ctrlKey||u.altKey||u.metaKey)||u.ctrlKey&&u.altKey){if(u.char&&1<u.char.length)return u.char;if(u.which)return String.fromCharCode(u.which)}return null;case"compositionend":return _4&&u.locale!=="ko"?null:u.data;default:return null}}var Tz={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function C4(o){var u=o&&o.nodeName&&o.nodeName.toLowerCase();return u==="input"?!!Tz[o.type]:u==="textarea"}function O4(o,u,m,x){Wi?ys?ys.push(x):ys=[x]:Wi=x,u=wg(u,"onChange"),0<u.length&&(m=new Mm("onChange","change",null,m,x),o.push({event:m,listeners:u}))}var Ef=null,Tf=null;function Az(o){dA(o,0)}function Im(o){var u=be(o);if(xf(u))return o}function D4(o,u){if(o==="change")return u}var P4=!1;if(I){var mv;if(I){var gv="oninput"in document;if(!gv){var M4=document.createElement("div");M4.setAttribute("oninput","return;"),gv=typeof M4.oninput=="function"}mv=gv}else mv=!1;P4=mv&&(!document.documentMode||9<document.documentMode)}function R4(){Ef&&(Ef.detachEvent("onpropertychange",I4),Tf=Ef=null)}function I4(o){if(o.propertyName==="value"&&Im(Tf)){var u=[];O4(u,Tf,o,Nf(o)),Zs(Az,u)}}function Cz(o,u,m){o==="focusin"?(R4(),Ef=u,Tf=m,Ef.attachEvent("onpropertychange",I4)):o==="focusout"&&R4()}function Oz(o){if(o==="selectionchange"||o==="keyup"||o==="keydown")return Im(Tf)}function Dz(o,u){if(o==="click")return Im(u)}function Pz(o,u){if(o==="input"||o==="change")return Im(u)}function Mz(o,u){return o===u&&(o!==0||1/o===1/u)||o!==o&&u!==u}var Ha=typeof Object.is=="function"?Object.is:Mz;function Af(o,u){if(Ha(o,u))return!0;if(typeof o!="object"||o===null||typeof u!="object"||u===null)return!1;var m=Object.keys(o),x=Object.keys(u);if(m.length!==x.length)return!1;for(x=0;x<m.length;x++){var N=m[x];if(!pe.call(u,N)||!Ha(o[N],u[N]))return!1}return!0}function F4(o){for(;o&&o.firstChild;)o=o.firstChild;return o}function L4(o,u){var m=F4(o);o=0;for(var x;m;){if(m.nodeType===3){if(x=o+m.textContent.length,o<=u&&x>=u)return{node:m,offset:u-o};o=x}e:{for(;m;){if(m.nextSibling){m=m.nextSibling;break e}m=m.parentNode}m=void 0}m=F4(m)}}function B4(o,u){return o&&u?o===u?!0:o&&o.nodeType===3?!1:u&&u.nodeType===3?B4(o,u.parentNode):"contains"in o?o.contains(u):o.compareDocumentPosition?!!(o.compareDocumentPosition(u)&16):!1:!1}function $4(o){o=o!=null&&o.ownerDocument!=null&&o.ownerDocument.defaultView!=null?o.ownerDocument.defaultView:window;for(var u=Nu(o.document);u instanceof o.HTMLIFrameElement;){try{var m=typeof u.contentWindow.location.href=="string"}catch{m=!1}if(m)o=u.contentWindow;else break;u=Nu(o.document)}return u}function pv(o){var u=o&&o.nodeName&&o.nodeName.toLowerCase();return u&&(u==="input"&&(o.type==="text"||o.type==="search"||o.type==="tel"||o.type==="url"||o.type==="password")||u==="textarea"||o.contentEditable==="true")}var Rz=I&&"documentMode"in document&&11>=document.documentMode,_u=null,xv=null,Cf=null,yv=!1;function U4(o,u,m){var x=m.window===m?m.document:m.nodeType===9?m:m.ownerDocument;yv||_u==null||_u!==Nu(x)||(x=_u,"selectionStart"in x&&pv(x)?x={start:x.selectionStart,end:x.selectionEnd}:(x=(x.ownerDocument&&x.ownerDocument.defaultView||window).getSelection(),x={anchorNode:x.anchorNode,anchorOffset:x.anchorOffset,focusNode:x.focusNode,focusOffset:x.focusOffset}),Cf&&Af(Cf,x)||(Cf=x,x=wg(xv,"onSelect"),0<x.length&&(u=new Mm("onSelect","select",null,u,m),o.push({event:u,listeners:x}),u.target=_u)))}function ic(o,u){var m={};return m[o.toLowerCase()]=u.toLowerCase(),m["Webkit"+o]="webkit"+u,m["Moz"+o]="moz"+u,m}var ku={animationend:ic("Animation","AnimationEnd"),animationiteration:ic("Animation","AnimationIteration"),animationstart:ic("Animation","AnimationStart"),transitionrun:ic("Transition","TransitionRun"),transitionstart:ic("Transition","TransitionStart"),transitioncancel:ic("Transition","TransitionCancel"),transitionend:ic("Transition","TransitionEnd")},vv={},z4={};I&&(z4=document.createElement("div").style,"AnimationEvent"in window||(delete ku.animationend.animation,delete ku.animationiteration.animation,delete ku.animationstart.animation),"TransitionEvent"in window||delete ku.transitionend.transition);function lc(o){if(vv[o])return vv[o];if(!ku[o])return o;var u=ku[o],m;for(m in u)if(u.hasOwnProperty(m)&&m in z4)return vv[o]=u[m];return o}var H4=lc("animationend"),V4=lc("animationiteration"),q4=lc("animationstart"),Iz=lc("transitionrun"),Fz=lc("transitionstart"),Lz=lc("transitioncancel"),W4=lc("transitionend"),G4=new Map,bv="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");bv.push("scrollEnd");function Js(o,u){G4.set(o,u),Fe(u,[o])}var K4=new WeakMap;function vs(o,u){if(typeof o=="object"&&o!==null){var m=K4.get(o);return m!==void 0?m:(u={value:o,source:u,stack:pf(u)},K4.set(o,u),u)}return{value:o,source:u,stack:pf(u)}}var bs=[],Eu=0,wv=0;function Fm(){for(var o=Eu,u=wv=Eu=0;u<o;){var m=bs[u];bs[u++]=null;var x=bs[u];bs[u++]=null;var N=bs[u];bs[u++]=null;var _=bs[u];if(bs[u++]=null,x!==null&&N!==null){var P=x.pending;P===null?N.next=N:(N.next=P.next,P.next=N),x.pending=N}_!==0&&Y4(m,N,_)}}function Lm(o,u,m,x){bs[Eu++]=o,bs[Eu++]=u,bs[Eu++]=m,bs[Eu++]=x,wv|=x,o.lanes|=x,o=o.alternate,o!==null&&(o.lanes|=x)}function jv(o,u,m,x){return Lm(o,u,m,x),Bm(o)}function Tu(o,u){return Lm(o,null,null,u),Bm(o)}function Y4(o,u,m){o.lanes|=m;var x=o.alternate;x!==null&&(x.lanes|=m);for(var N=!1,_=o.return;_!==null;)_.childLanes|=m,x=_.alternate,x!==null&&(x.childLanes|=m),_.tag===22&&(o=_.stateNode,o===null||o._visibility&1||(N=!0)),o=_,_=_.return;return o.tag===3?(_=o.stateNode,N&&u!==null&&(N=31-dt(m),o=_.hiddenUpdates,x=o[N],x===null?o[N]=[u]:x.push(u),u.lane=m|536870912),_):null}function Bm(o){if(50<t0)throw t0=0,Tb=null,Error(n(185));for(var u=o.return;u!==null;)o=u,u=o.return;return o.tag===3?o.stateNode:null}var Au={};function Bz(o,u,m,x){this.tag=o,this.key=m,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=u,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=x,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Va(o,u,m,x){return new Bz(o,u,m,x)}function Nv(o){return o=o.prototype,!(!o||!o.isReactComponent)}function Gi(o,u){var m=o.alternate;return m===null?(m=Va(o.tag,u,o.key,o.mode),m.elementType=o.elementType,m.type=o.type,m.stateNode=o.stateNode,m.alternate=o,o.alternate=m):(m.pendingProps=u,m.type=o.type,m.flags=0,m.subtreeFlags=0,m.deletions=null),m.flags=o.flags&65011712,m.childLanes=o.childLanes,m.lanes=o.lanes,m.child=o.child,m.memoizedProps=o.memoizedProps,m.memoizedState=o.memoizedState,m.updateQueue=o.updateQueue,u=o.dependencies,m.dependencies=u===null?null:{lanes:u.lanes,firstContext:u.firstContext},m.sibling=o.sibling,m.index=o.index,m.ref=o.ref,m.refCleanup=o.refCleanup,m}function X4(o,u){o.flags&=65011714;var m=o.alternate;return m===null?(o.childLanes=0,o.lanes=u,o.child=null,o.subtreeFlags=0,o.memoizedProps=null,o.memoizedState=null,o.updateQueue=null,o.dependencies=null,o.stateNode=null):(o.childLanes=m.childLanes,o.lanes=m.lanes,o.child=m.child,o.subtreeFlags=0,o.deletions=null,o.memoizedProps=m.memoizedProps,o.memoizedState=m.memoizedState,o.updateQueue=m.updateQueue,o.type=m.type,u=m.dependencies,o.dependencies=u===null?null:{lanes:u.lanes,firstContext:u.firstContext}),o}function $m(o,u,m,x,N,_){var P=0;if(x=o,typeof o=="function")Nv(o)&&(P=1);else if(typeof o=="string")P=UH(o,m,z.current)?26:o==="html"||o==="head"||o==="body"?27:5;else e:switch(o){case R:return o=Va(31,m,u,N),o.elementType=R,o.lanes=_,o;case b:return oc(m.children,N,_,u);case w:P=8,N|=24;break;case j:return o=Va(12,m,u,N|2),o.elementType=j,o.lanes=_,o;case T:return o=Va(13,m,u,N),o.elementType=T,o.lanes=_,o;case A:return o=Va(19,m,u,N),o.elementType=A,o.lanes=_,o;default:if(typeof o=="object"&&o!==null)switch(o.$$typeof){case S:case E:P=10;break e;case k:P=9;break e;case C:P=11;break e;case O:P=14;break e;case D:P=16,x=null;break e}P=29,m=Error(n(130,o===null?"null":typeof o,"")),x=null}return u=Va(P,m,u,N),u.elementType=o,u.type=x,u.lanes=_,u}function oc(o,u,m,x){return o=Va(7,o,x,u),o.lanes=m,o}function Sv(o,u,m){return o=Va(6,o,null,u),o.lanes=m,o}function _v(o,u,m){return u=Va(4,o.children!==null?o.children:[],o.key,u),u.lanes=m,u.stateNode={containerInfo:o.containerInfo,pendingChildren:null,implementation:o.implementation},u}var Cu=[],Ou=0,Um=null,zm=0,ws=[],js=0,cc=null,Ki=1,Yi="";function uc(o,u){Cu[Ou++]=zm,Cu[Ou++]=Um,Um=o,zm=u}function Q4(o,u,m){ws[js++]=Ki,ws[js++]=Yi,ws[js++]=cc,cc=o;var x=Ki;o=Yi;var N=32-dt(x)-1;x&=~(1<<N),m+=1;var _=32-dt(u)+N;if(30<_){var P=N-N%5;_=(x&(1<<P)-1).toString(32),x>>=P,N-=P,Ki=1<<32-dt(u)+N|m<<N|x,Yi=_+o}else Ki=1<<_|m<<N|x,Yi=o}function kv(o){o.return!==null&&(uc(o,1),Q4(o,1,0))}function Ev(o){for(;o===Um;)Um=Cu[--Ou],Cu[Ou]=null,zm=Cu[--Ou],Cu[Ou]=null;for(;o===cc;)cc=ws[--js],ws[js]=null,Yi=ws[--js],ws[js]=null,Ki=ws[--js],ws[js]=null}var ca=null,$r=null,Ht=!1,dc=null,wi=!1,Tv=Error(n(519));function fc(o){var u=Error(n(418,""));throw Pf(vs(u,o)),Tv}function Z4(o){var u=o.stateNode,m=o.type,x=o.memoizedProps;switch(u[hr]=o,u[Gt]=x,m){case"dialog":Et("cancel",u),Et("close",u);break;case"iframe":case"object":case"embed":Et("load",u);break;case"video":case"audio":for(m=0;m<n0.length;m++)Et(n0[m],u);break;case"source":Et("error",u);break;case"img":case"image":case"link":Et("error",u),Et("load",u);break;case"details":Et("toggle",u);break;case"input":Et("invalid",u),Am(u,x.value,x.defaultValue,x.checked,x.defaultChecked,x.type,x.name,!0),ec(u);break;case"select":Et("invalid",u);break;case"textarea":Et("invalid",u),tc(u,x.value,x.defaultValue,x.children),ec(u)}m=x.children,typeof m!="string"&&typeof m!="number"&&typeof m!="bigint"||u.textContent===""+m||x.suppressHydrationWarning===!0||gA(u.textContent,m)?(x.popover!=null&&(Et("beforetoggle",u),Et("toggle",u)),x.onScroll!=null&&Et("scroll",u),x.onScrollEnd!=null&&Et("scrollend",u),x.onClick!=null&&(u.onclick=jg),u=!0):u=!1,u||fc(o)}function J4(o){for(ca=o.return;ca;)switch(ca.tag){case 5:case 13:wi=!1;return;case 27:case 3:wi=!0;return;default:ca=ca.return}}function Of(o){if(o!==ca)return!1;if(!Ht)return J4(o),Ht=!0,!1;var u=o.tag,m;if((m=u!==3&&u!==27)&&((m=u===5)&&(m=o.type,m=!(m!=="form"&&m!=="button")||Vb(o.type,o.memoizedProps)),m=!m),m&&$r&&fc(o),J4(o),u===13){if(o=o.memoizedState,o=o!==null?o.dehydrated:null,!o)throw Error(n(317));e:{for(o=o.nextSibling,u=0;o;){if(o.nodeType===8)if(m=o.data,m==="/$"){if(u===0){$r=ti(o.nextSibling);break e}u--}else m!=="$"&&m!=="$!"&&m!=="$?"||u++;o=o.nextSibling}$r=null}}else u===27?(u=$r,ro(o.type)?(o=Kb,Kb=null,$r=o):$r=u):$r=ca?ti(o.stateNode.nextSibling):null;return!0}function Df(){$r=ca=null,Ht=!1}function eE(){var o=dc;return o!==null&&(Oa===null?Oa=o:Oa.push.apply(Oa,o),dc=null),o}function Pf(o){dc===null?dc=[o]:dc.push(o)}var Av=ie(null),hc=null,Xi=null;function Ul(o,u,m){G(Av,u._currentValue),u._currentValue=m}function Qi(o){o._currentValue=Av.current,F(Av)}function Cv(o,u,m){for(;o!==null;){var x=o.alternate;if((o.childLanes&u)!==u?(o.childLanes|=u,x!==null&&(x.childLanes|=u)):x!==null&&(x.childLanes&u)!==u&&(x.childLanes|=u),o===m)break;o=o.return}}function Ov(o,u,m,x){var N=o.child;for(N!==null&&(N.return=o);N!==null;){var _=N.dependencies;if(_!==null){var P=N.child;_=_.firstContext;e:for(;_!==null;){var H=_;_=N;for(var ae=0;ae<u.length;ae++)if(H.context===u[ae]){_.lanes|=m,H=_.alternate,H!==null&&(H.lanes|=m),Cv(_.return,m,o),x||(P=null);break e}_=H.next}}else if(N.tag===18){if(P=N.return,P===null)throw Error(n(341));P.lanes|=m,_=P.alternate,_!==null&&(_.lanes|=m),Cv(P,m,o),P=null}else P=N.child;if(P!==null)P.return=N;else for(P=N;P!==null;){if(P===o){P=null;break}if(N=P.sibling,N!==null){N.return=P.return,P=N;break}P=P.return}N=P}}function Mf(o,u,m,x){o=null;for(var N=u,_=!1;N!==null;){if(!_){if((N.flags&524288)!==0)_=!0;else if((N.flags&262144)!==0)break}if(N.tag===10){var P=N.alternate;if(P===null)throw Error(n(387));if(P=P.memoizedProps,P!==null){var H=N.type;Ha(N.pendingProps.value,P.value)||(o!==null?o.push(H):o=[H])}}else if(N===De.current){if(P=N.alternate,P===null)throw Error(n(387));P.memoizedState.memoizedState!==N.memoizedState.memoizedState&&(o!==null?o.push(c0):o=[c0])}N=N.return}o!==null&&Ov(u,o,m,x),u.flags|=262144}function Hm(o){for(o=o.firstContext;o!==null;){if(!Ha(o.context._currentValue,o.memoizedValue))return!0;o=o.next}return!1}function mc(o){hc=o,Xi=null,o=o.dependencies,o!==null&&(o.firstContext=null)}function Qn(o){return tE(hc,o)}function Vm(o,u){return hc===null&&mc(o),tE(o,u)}function tE(o,u){var m=u._currentValue;if(u={context:u,memoizedValue:m,next:null},Xi===null){if(o===null)throw Error(n(308));Xi=u,o.dependencies={lanes:0,firstContext:u},o.flags|=524288}else Xi=Xi.next=u;return m}var $z=typeof AbortController<"u"?AbortController:function(){var o=[],u=this.signal={aborted:!1,addEventListener:function(m,x){o.push(x)}};this.abort=function(){u.aborted=!0,o.forEach(function(m){return m()})}},Uz=e.unstable_scheduleCallback,zz=e.unstable_NormalPriority,dn={$$typeof:E,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function Dv(){return{controller:new $z,data:new Map,refCount:0}}function Rf(o){o.refCount--,o.refCount===0&&Uz(zz,function(){o.controller.abort()})}var If=null,Pv=0,Du=0,Pu=null;function Hz(o,u){if(If===null){var m=If=[];Pv=0,Du=Rb(),Pu={status:"pending",value:void 0,then:function(x){m.push(x)}}}return Pv++,u.then(rE,rE),u}function rE(){if(--Pv===0&&If!==null){Pu!==null&&(Pu.status="fulfilled");var o=If;If=null,Du=0,Pu=null;for(var u=0;u<o.length;u++)(0,o[u])()}}function Vz(o,u){var m=[],x={status:"pending",value:null,reason:null,then:function(N){m.push(N)}};return o.then(function(){x.status="fulfilled",x.value=u;for(var N=0;N<m.length;N++)(0,m[N])(u)},function(N){for(x.status="rejected",x.reason=N,N=0;N<m.length;N++)(0,m[N])(void 0)}),x}var nE=Q.S;Q.S=function(o,u){typeof u=="object"&&u!==null&&typeof u.then=="function"&&Hz(o,u),nE!==null&&nE(o,u)};var gc=ie(null);function Mv(){var o=gc.current;return o!==null?o:br.pooledCache}function qm(o,u){u===null?G(gc,gc.current):G(gc,u.pool)}function aE(){var o=Mv();return o===null?null:{parent:dn._currentValue,pool:o}}var Ff=Error(n(460)),sE=Error(n(474)),Wm=Error(n(542)),Rv={then:function(){}};function iE(o){return o=o.status,o==="fulfilled"||o==="rejected"}function Gm(){}function lE(o,u,m){switch(m=o[m],m===void 0?o.push(u):m!==u&&(u.then(Gm,Gm),u=m),u.status){case"fulfilled":return u.value;case"rejected":throw o=u.reason,cE(o),o;default:if(typeof u.status=="string")u.then(Gm,Gm);else{if(o=br,o!==null&&100<o.shellSuspendCounter)throw Error(n(482));o=u,o.status="pending",o.then(function(x){if(u.status==="pending"){var N=u;N.status="fulfilled",N.value=x}},function(x){if(u.status==="pending"){var N=u;N.status="rejected",N.reason=x}})}switch(u.status){case"fulfilled":return u.value;case"rejected":throw o=u.reason,cE(o),o}throw Lf=u,Ff}}var Lf=null;function oE(){if(Lf===null)throw Error(n(459));var o=Lf;return Lf=null,o}function cE(o){if(o===Ff||o===Wm)throw Error(n(483))}var zl=!1;function Iv(o){o.updateQueue={baseState:o.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function Fv(o,u){o=o.updateQueue,u.updateQueue===o&&(u.updateQueue={baseState:o.baseState,firstBaseUpdate:o.firstBaseUpdate,lastBaseUpdate:o.lastBaseUpdate,shared:o.shared,callbacks:null})}function Hl(o){return{lane:o,tag:0,payload:null,callback:null,next:null}}function Vl(o,u,m){var x=o.updateQueue;if(x===null)return null;if(x=x.shared,(Zt&2)!==0){var N=x.pending;return N===null?u.next=u:(u.next=N.next,N.next=u),x.pending=u,u=Bm(o),Y4(o,null,m),u}return Lm(o,x,u,m),Bm(o)}function Bf(o,u,m){if(u=u.updateQueue,u!==null&&(u=u.shared,(m&4194048)!==0)){var x=u.lanes;x&=o.pendingLanes,m|=x,u.lanes=m,Ct(o,m)}}function Lv(o,u){var m=o.updateQueue,x=o.alternate;if(x!==null&&(x=x.updateQueue,m===x)){var N=null,_=null;if(m=m.firstBaseUpdate,m!==null){do{var P={lane:m.lane,tag:m.tag,payload:m.payload,callback:null,next:null};_===null?N=_=P:_=_.next=P,m=m.next}while(m!==null);_===null?N=_=u:_=_.next=u}else N=_=u;m={baseState:x.baseState,firstBaseUpdate:N,lastBaseUpdate:_,shared:x.shared,callbacks:x.callbacks},o.updateQueue=m;return}o=m.lastBaseUpdate,o===null?m.firstBaseUpdate=u:o.next=u,m.lastBaseUpdate=u}var Bv=!1;function $f(){if(Bv){var o=Pu;if(o!==null)throw o}}function Uf(o,u,m,x){Bv=!1;var N=o.updateQueue;zl=!1;var _=N.firstBaseUpdate,P=N.lastBaseUpdate,H=N.shared.pending;if(H!==null){N.shared.pending=null;var ae=H,we=ae.next;ae.next=null,P===null?_=we:P.next=we,P=ae;var Oe=o.alternate;Oe!==null&&(Oe=Oe.updateQueue,H=Oe.lastBaseUpdate,H!==P&&(H===null?Oe.firstBaseUpdate=we:H.next=we,Oe.lastBaseUpdate=ae))}if(_!==null){var Re=N.baseState;P=0,Oe=we=ae=null,H=_;do{var Ne=H.lane&-536870913,_e=Ne!==H.lane;if(_e?(Rt&Ne)===Ne:(x&Ne)===Ne){Ne!==0&&Ne===Du&&(Bv=!0),Oe!==null&&(Oe=Oe.next={lane:0,tag:H.tag,payload:H.payload,callback:null,next:null});e:{var ht=o,ct=H;Ne=u;var cr=m;switch(ct.tag){case 1:if(ht=ct.payload,typeof ht=="function"){Re=ht.call(cr,Re,Ne);break e}Re=ht;break e;case 3:ht.flags=ht.flags&-65537|128;case 0:if(ht=ct.payload,Ne=typeof ht=="function"?ht.call(cr,Re,Ne):ht,Ne==null)break e;Re=h({},Re,Ne);break e;case 2:zl=!0}}Ne=H.callback,Ne!==null&&(o.flags|=64,_e&&(o.flags|=8192),_e=N.callbacks,_e===null?N.callbacks=[Ne]:_e.push(Ne))}else _e={lane:Ne,tag:H.tag,payload:H.payload,callback:H.callback,next:null},Oe===null?(we=Oe=_e,ae=Re):Oe=Oe.next=_e,P|=Ne;if(H=H.next,H===null){if(H=N.shared.pending,H===null)break;_e=H,H=_e.next,_e.next=null,N.lastBaseUpdate=_e,N.shared.pending=null}}while(!0);Oe===null&&(ae=Re),N.baseState=ae,N.firstBaseUpdate=we,N.lastBaseUpdate=Oe,_===null&&(N.shared.lanes=0),Zl|=P,o.lanes=P,o.memoizedState=Re}}function uE(o,u){if(typeof o!="function")throw Error(n(191,o));o.call(u)}function dE(o,u){var m=o.callbacks;if(m!==null)for(o.callbacks=null,o=0;o<m.length;o++)uE(m[o],u)}var Mu=ie(null),Km=ie(0);function fE(o,u){o=al,G(Km,o),G(Mu,u),al=o|u.baseLanes}function $v(){G(Km,al),G(Mu,Mu.current)}function Uv(){al=Km.current,F(Mu),F(Km)}var ql=0,Nt=null,lr=null,en=null,Ym=!1,Ru=!1,pc=!1,Xm=0,zf=0,Iu=null,qz=0;function Yr(){throw Error(n(321))}function zv(o,u){if(u===null)return!1;for(var m=0;m<u.length&&m<o.length;m++)if(!Ha(o[m],u[m]))return!1;return!0}function Hv(o,u,m,x,N,_){return ql=_,Nt=u,u.memoizedState=null,u.updateQueue=null,u.lanes=0,Q.H=o===null||o.memoizedState===null?YE:XE,pc=!1,_=m(x,N),pc=!1,Ru&&(_=mE(u,m,x,N)),hE(o),_}function hE(o){Q.H=rg;var u=lr!==null&&lr.next!==null;if(ql=0,en=lr=Nt=null,Ym=!1,zf=0,Iu=null,u)throw Error(n(300));o===null||yn||(o=o.dependencies,o!==null&&Hm(o)&&(yn=!0))}function mE(o,u,m,x){Nt=o;var N=0;do{if(Ru&&(Iu=null),zf=0,Ru=!1,25<=N)throw Error(n(301));if(N+=1,en=lr=null,o.updateQueue!=null){var _=o.updateQueue;_.lastEffect=null,_.events=null,_.stores=null,_.memoCache!=null&&(_.memoCache.index=0)}Q.H=Zz,_=u(m,x)}while(Ru);return _}function Wz(){var o=Q.H,u=o.useState()[0];return u=typeof u.then=="function"?Hf(u):u,o=o.useState()[0],(lr!==null?lr.memoizedState:null)!==o&&(Nt.flags|=1024),u}function Vv(){var o=Xm!==0;return Xm=0,o}function qv(o,u,m){u.updateQueue=o.updateQueue,u.flags&=-2053,o.lanes&=~m}function Wv(o){if(Ym){for(o=o.memoizedState;o!==null;){var u=o.queue;u!==null&&(u.pending=null),o=o.next}Ym=!1}ql=0,en=lr=Nt=null,Ru=!1,zf=Xm=0,Iu=null}function Aa(){var o={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return en===null?Nt.memoizedState=en=o:en=en.next=o,en}function tn(){if(lr===null){var o=Nt.alternate;o=o!==null?o.memoizedState:null}else o=lr.next;var u=en===null?Nt.memoizedState:en.next;if(u!==null)en=u,lr=o;else{if(o===null)throw Nt.alternate===null?Error(n(467)):Error(n(310));lr=o,o={memoizedState:lr.memoizedState,baseState:lr.baseState,baseQueue:lr.baseQueue,queue:lr.queue,next:null},en===null?Nt.memoizedState=en=o:en=en.next=o}return en}function Gv(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function Hf(o){var u=zf;return zf+=1,Iu===null&&(Iu=[]),o=lE(Iu,o,u),u=Nt,(en===null?u.memoizedState:en.next)===null&&(u=u.alternate,Q.H=u===null||u.memoizedState===null?YE:XE),o}function Qm(o){if(o!==null&&typeof o=="object"){if(typeof o.then=="function")return Hf(o);if(o.$$typeof===E)return Qn(o)}throw Error(n(438,String(o)))}function Kv(o){var u=null,m=Nt.updateQueue;if(m!==null&&(u=m.memoCache),u==null){var x=Nt.alternate;x!==null&&(x=x.updateQueue,x!==null&&(x=x.memoCache,x!=null&&(u={data:x.data.map(function(N){return N.slice()}),index:0})))}if(u==null&&(u={data:[],index:0}),m===null&&(m=Gv(),Nt.updateQueue=m),m.memoCache=u,m=u.data[u.index],m===void 0)for(m=u.data[u.index]=Array(o),x=0;x<o;x++)m[x]=B;return u.index++,m}function Zi(o,u){return typeof u=="function"?u(o):u}function Zm(o){var u=tn();return Yv(u,lr,o)}function Yv(o,u,m){var x=o.queue;if(x===null)throw Error(n(311));x.lastRenderedReducer=m;var N=o.baseQueue,_=x.pending;if(_!==null){if(N!==null){var P=N.next;N.next=_.next,_.next=P}u.baseQueue=N=_,x.pending=null}if(_=o.baseState,N===null)o.memoizedState=_;else{u=N.next;var H=P=null,ae=null,we=u,Oe=!1;do{var Re=we.lane&-536870913;if(Re!==we.lane?(Rt&Re)===Re:(ql&Re)===Re){var Ne=we.revertLane;if(Ne===0)ae!==null&&(ae=ae.next={lane:0,revertLane:0,action:we.action,hasEagerState:we.hasEagerState,eagerState:we.eagerState,next:null}),Re===Du&&(Oe=!0);else if((ql&Ne)===Ne){we=we.next,Ne===Du&&(Oe=!0);continue}else Re={lane:0,revertLane:we.revertLane,action:we.action,hasEagerState:we.hasEagerState,eagerState:we.eagerState,next:null},ae===null?(H=ae=Re,P=_):ae=ae.next=Re,Nt.lanes|=Ne,Zl|=Ne;Re=we.action,pc&&m(_,Re),_=we.hasEagerState?we.eagerState:m(_,Re)}else Ne={lane:Re,revertLane:we.revertLane,action:we.action,hasEagerState:we.hasEagerState,eagerState:we.eagerState,next:null},ae===null?(H=ae=Ne,P=_):ae=ae.next=Ne,Nt.lanes|=Re,Zl|=Re;we=we.next}while(we!==null&&we!==u);if(ae===null?P=_:ae.next=H,!Ha(_,o.memoizedState)&&(yn=!0,Oe&&(m=Pu,m!==null)))throw m;o.memoizedState=_,o.baseState=P,o.baseQueue=ae,x.lastRenderedState=_}return N===null&&(x.lanes=0),[o.memoizedState,x.dispatch]}function Xv(o){var u=tn(),m=u.queue;if(m===null)throw Error(n(311));m.lastRenderedReducer=o;var x=m.dispatch,N=m.pending,_=u.memoizedState;if(N!==null){m.pending=null;var P=N=N.next;do _=o(_,P.action),P=P.next;while(P!==N);Ha(_,u.memoizedState)||(yn=!0),u.memoizedState=_,u.baseQueue===null&&(u.baseState=_),m.lastRenderedState=_}return[_,x]}function gE(o,u,m){var x=Nt,N=tn(),_=Ht;if(_){if(m===void 0)throw Error(n(407));m=m()}else m=u();var P=!Ha((lr||N).memoizedState,m);P&&(N.memoizedState=m,yn=!0),N=N.queue;var H=yE.bind(null,x,N,o);if(Vf(2048,8,H,[o]),N.getSnapshot!==u||P||en!==null&&en.memoizedState.tag&1){if(x.flags|=2048,Fu(9,Jm(),xE.bind(null,x,N,m,u),null),br===null)throw Error(n(349));_||(ql&124)!==0||pE(x,u,m)}return m}function pE(o,u,m){o.flags|=16384,o={getSnapshot:u,value:m},u=Nt.updateQueue,u===null?(u=Gv(),Nt.updateQueue=u,u.stores=[o]):(m=u.stores,m===null?u.stores=[o]:m.push(o))}function xE(o,u,m,x){u.value=m,u.getSnapshot=x,vE(u)&&bE(o)}function yE(o,u,m){return m(function(){vE(u)&&bE(o)})}function vE(o){var u=o.getSnapshot;o=o.value;try{var m=u();return!Ha(o,m)}catch{return!0}}function bE(o){var u=Tu(o,2);u!==null&&Ya(u,o,2)}function Qv(o){var u=Aa();if(typeof o=="function"){var m=o;if(o=m(),pc){fr(!0);try{m()}finally{fr(!1)}}}return u.memoizedState=u.baseState=o,u.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Zi,lastRenderedState:o},u}function wE(o,u,m,x){return o.baseState=m,Yv(o,lr,typeof x=="function"?x:Zi)}function Gz(o,u,m,x,N){if(tg(o))throw Error(n(485));if(o=u.action,o!==null){var _={payload:N,action:o,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(P){_.listeners.push(P)}};Q.T!==null?m(!0):_.isTransition=!1,x(_),m=u.pending,m===null?(_.next=u.pending=_,jE(u,_)):(_.next=m.next,u.pending=m.next=_)}}function jE(o,u){var m=u.action,x=u.payload,N=o.state;if(u.isTransition){var _=Q.T,P={};Q.T=P;try{var H=m(N,x),ae=Q.S;ae!==null&&ae(P,H),NE(o,u,H)}catch(we){Zv(o,u,we)}finally{Q.T=_}}else try{_=m(N,x),NE(o,u,_)}catch(we){Zv(o,u,we)}}function NE(o,u,m){m!==null&&typeof m=="object"&&typeof m.then=="function"?m.then(function(x){SE(o,u,x)},function(x){return Zv(o,u,x)}):SE(o,u,m)}function SE(o,u,m){u.status="fulfilled",u.value=m,_E(u),o.state=m,u=o.pending,u!==null&&(m=u.next,m===u?o.pending=null:(m=m.next,u.next=m,jE(o,m)))}function Zv(o,u,m){var x=o.pending;if(o.pending=null,x!==null){x=x.next;do u.status="rejected",u.reason=m,_E(u),u=u.next;while(u!==x)}o.action=null}function _E(o){o=o.listeners;for(var u=0;u<o.length;u++)(0,o[u])()}function kE(o,u){return u}function EE(o,u){if(Ht){var m=br.formState;if(m!==null){e:{var x=Nt;if(Ht){if($r){t:{for(var N=$r,_=wi;N.nodeType!==8;){if(!_){N=null;break t}if(N=ti(N.nextSibling),N===null){N=null;break t}}_=N.data,N=_==="F!"||_==="F"?N:null}if(N){$r=ti(N.nextSibling),x=N.data==="F!";break e}}fc(x)}x=!1}x&&(u=m[0])}}return m=Aa(),m.memoizedState=m.baseState=u,x={pending:null,lanes:0,dispatch:null,lastRenderedReducer:kE,lastRenderedState:u},m.queue=x,m=WE.bind(null,Nt,x),x.dispatch=m,x=Qv(!1),_=nb.bind(null,Nt,!1,x.queue),x=Aa(),N={state:u,dispatch:null,action:o,pending:null},x.queue=N,m=Gz.bind(null,Nt,N,_,m),N.dispatch=m,x.memoizedState=o,[u,m,!1]}function TE(o){var u=tn();return AE(u,lr,o)}function AE(o,u,m){if(u=Yv(o,u,kE)[0],o=Zm(Zi)[0],typeof u=="object"&&u!==null&&typeof u.then=="function")try{var x=Hf(u)}catch(P){throw P===Ff?Wm:P}else x=u;u=tn();var N=u.queue,_=N.dispatch;return m!==u.memoizedState&&(Nt.flags|=2048,Fu(9,Jm(),Kz.bind(null,N,m),null)),[x,_,o]}function Kz(o,u){o.action=u}function CE(o){var u=tn(),m=lr;if(m!==null)return AE(u,m,o);tn(),u=u.memoizedState,m=tn();var x=m.queue.dispatch;return m.memoizedState=o,[u,x,!1]}function Fu(o,u,m,x){return o={tag:o,create:m,deps:x,inst:u,next:null},u=Nt.updateQueue,u===null&&(u=Gv(),Nt.updateQueue=u),m=u.lastEffect,m===null?u.lastEffect=o.next=o:(x=m.next,m.next=o,o.next=x,u.lastEffect=o),o}function Jm(){return{destroy:void 0,resource:void 0}}function OE(){return tn().memoizedState}function eg(o,u,m,x){var N=Aa();x=x===void 0?null:x,Nt.flags|=o,N.memoizedState=Fu(1|u,Jm(),m,x)}function Vf(o,u,m,x){var N=tn();x=x===void 0?null:x;var _=N.memoizedState.inst;lr!==null&&x!==null&&zv(x,lr.memoizedState.deps)?N.memoizedState=Fu(u,_,m,x):(Nt.flags|=o,N.memoizedState=Fu(1|u,_,m,x))}function DE(o,u){eg(8390656,8,o,u)}function PE(o,u){Vf(2048,8,o,u)}function ME(o,u){return Vf(4,2,o,u)}function RE(o,u){return Vf(4,4,o,u)}function IE(o,u){if(typeof u=="function"){o=o();var m=u(o);return function(){typeof m=="function"?m():u(null)}}if(u!=null)return o=o(),u.current=o,function(){u.current=null}}function FE(o,u,m){m=m!=null?m.concat([o]):null,Vf(4,4,IE.bind(null,u,o),m)}function Jv(){}function LE(o,u){var m=tn();u=u===void 0?null:u;var x=m.memoizedState;return u!==null&&zv(u,x[1])?x[0]:(m.memoizedState=[o,u],o)}function BE(o,u){var m=tn();u=u===void 0?null:u;var x=m.memoizedState;if(u!==null&&zv(u,x[1]))return x[0];if(x=o(),pc){fr(!0);try{o()}finally{fr(!1)}}return m.memoizedState=[x,u],x}function eb(o,u,m){return m===void 0||(ql&1073741824)!==0?o.memoizedState=u:(o.memoizedState=m,o=zT(),Nt.lanes|=o,Zl|=o,m)}function $E(o,u,m,x){return Ha(m,u)?m:Mu.current!==null?(o=eb(o,m,x),Ha(o,u)||(yn=!0),o):(ql&42)===0?(yn=!0,o.memoizedState=m):(o=zT(),Nt.lanes|=o,Zl|=o,u)}function UE(o,u,m,x,N){var _=te.p;te.p=_!==0&&8>_?_:8;var P=Q.T,H={};Q.T=H,nb(o,!1,u,m);try{var ae=N(),we=Q.S;if(we!==null&&we(H,ae),ae!==null&&typeof ae=="object"&&typeof ae.then=="function"){var Oe=Vz(ae,x);qf(o,u,Oe,Ka(o))}else qf(o,u,x,Ka(o))}catch(Re){qf(o,u,{then:function(){},status:"rejected",reason:Re},Ka())}finally{te.p=_,Q.T=P}}function Yz(){}function tb(o,u,m,x){if(o.tag!==5)throw Error(n(476));var N=zE(o).queue;UE(o,N,u,ue,m===null?Yz:function(){return HE(o),m(x)})}function zE(o){var u=o.memoizedState;if(u!==null)return u;u={memoizedState:ue,baseState:ue,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Zi,lastRenderedState:ue},next:null};var m={};return u.next={memoizedState:m,baseState:m,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Zi,lastRenderedState:m},next:null},o.memoizedState=u,o=o.alternate,o!==null&&(o.memoizedState=u),u}function HE(o){var u=zE(o).next.queue;qf(o,u,{},Ka())}function rb(){return Qn(c0)}function VE(){return tn().memoizedState}function qE(){return tn().memoizedState}function Xz(o){for(var u=o.return;u!==null;){switch(u.tag){case 24:case 3:var m=Ka();o=Hl(m);var x=Vl(u,o,m);x!==null&&(Ya(x,u,m),Bf(x,u,m)),u={cache:Dv()},o.payload=u;return}u=u.return}}function Qz(o,u,m){var x=Ka();m={lane:x,revertLane:0,action:m,hasEagerState:!1,eagerState:null,next:null},tg(o)?GE(u,m):(m=jv(o,u,m,x),m!==null&&(Ya(m,o,x),KE(m,u,x)))}function WE(o,u,m){var x=Ka();qf(o,u,m,x)}function qf(o,u,m,x){var N={lane:x,revertLane:0,action:m,hasEagerState:!1,eagerState:null,next:null};if(tg(o))GE(u,N);else{var _=o.alternate;if(o.lanes===0&&(_===null||_.lanes===0)&&(_=u.lastRenderedReducer,_!==null))try{var P=u.lastRenderedState,H=_(P,m);if(N.hasEagerState=!0,N.eagerState=H,Ha(H,P))return Lm(o,u,N,0),br===null&&Fm(),!1}catch{}finally{}if(m=jv(o,u,N,x),m!==null)return Ya(m,o,x),KE(m,u,x),!0}return!1}function nb(o,u,m,x){if(x={lane:2,revertLane:Rb(),action:x,hasEagerState:!1,eagerState:null,next:null},tg(o)){if(u)throw Error(n(479))}else u=jv(o,m,x,2),u!==null&&Ya(u,o,2)}function tg(o){var u=o.alternate;return o===Nt||u!==null&&u===Nt}function GE(o,u){Ru=Ym=!0;var m=o.pending;m===null?u.next=u:(u.next=m.next,m.next=u),o.pending=u}function KE(o,u,m){if((m&4194048)!==0){var x=u.lanes;x&=o.pendingLanes,m|=x,u.lanes=m,Ct(o,m)}}var rg={readContext:Qn,use:Qm,useCallback:Yr,useContext:Yr,useEffect:Yr,useImperativeHandle:Yr,useLayoutEffect:Yr,useInsertionEffect:Yr,useMemo:Yr,useReducer:Yr,useRef:Yr,useState:Yr,useDebugValue:Yr,useDeferredValue:Yr,useTransition:Yr,useSyncExternalStore:Yr,useId:Yr,useHostTransitionStatus:Yr,useFormState:Yr,useActionState:Yr,useOptimistic:Yr,useMemoCache:Yr,useCacheRefresh:Yr},YE={readContext:Qn,use:Qm,useCallback:function(o,u){return Aa().memoizedState=[o,u===void 0?null:u],o},useContext:Qn,useEffect:DE,useImperativeHandle:function(o,u,m){m=m!=null?m.concat([o]):null,eg(4194308,4,IE.bind(null,u,o),m)},useLayoutEffect:function(o,u){return eg(4194308,4,o,u)},useInsertionEffect:function(o,u){eg(4,2,o,u)},useMemo:function(o,u){var m=Aa();u=u===void 0?null:u;var x=o();if(pc){fr(!0);try{o()}finally{fr(!1)}}return m.memoizedState=[x,u],x},useReducer:function(o,u,m){var x=Aa();if(m!==void 0){var N=m(u);if(pc){fr(!0);try{m(u)}finally{fr(!1)}}}else N=u;return x.memoizedState=x.baseState=N,o={pending:null,lanes:0,dispatch:null,lastRenderedReducer:o,lastRenderedState:N},x.queue=o,o=o.dispatch=Qz.bind(null,Nt,o),[x.memoizedState,o]},useRef:function(o){var u=Aa();return o={current:o},u.memoizedState=o},useState:function(o){o=Qv(o);var u=o.queue,m=WE.bind(null,Nt,u);return u.dispatch=m,[o.memoizedState,m]},useDebugValue:Jv,useDeferredValue:function(o,u){var m=Aa();return eb(m,o,u)},useTransition:function(){var o=Qv(!1);return o=UE.bind(null,Nt,o.queue,!0,!1),Aa().memoizedState=o,[!1,o]},useSyncExternalStore:function(o,u,m){var x=Nt,N=Aa();if(Ht){if(m===void 0)throw Error(n(407));m=m()}else{if(m=u(),br===null)throw Error(n(349));(Rt&124)!==0||pE(x,u,m)}N.memoizedState=m;var _={value:m,getSnapshot:u};return N.queue=_,DE(yE.bind(null,x,_,o),[o]),x.flags|=2048,Fu(9,Jm(),xE.bind(null,x,_,m,u),null),m},useId:function(){var o=Aa(),u=br.identifierPrefix;if(Ht){var m=Yi,x=Ki;m=(x&~(1<<32-dt(x)-1)).toString(32)+m,u="«"+u+"R"+m,m=Xm++,0<m&&(u+="H"+m.toString(32)),u+="»"}else m=qz++,u="«"+u+"r"+m.toString(32)+"»";return o.memoizedState=u},useHostTransitionStatus:rb,useFormState:EE,useActionState:EE,useOptimistic:function(o){var u=Aa();u.memoizedState=u.baseState=o;var m={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return u.queue=m,u=nb.bind(null,Nt,!0,m),m.dispatch=u,[o,u]},useMemoCache:Kv,useCacheRefresh:function(){return Aa().memoizedState=Xz.bind(null,Nt)}},XE={readContext:Qn,use:Qm,useCallback:LE,useContext:Qn,useEffect:PE,useImperativeHandle:FE,useInsertionEffect:ME,useLayoutEffect:RE,useMemo:BE,useReducer:Zm,useRef:OE,useState:function(){return Zm(Zi)},useDebugValue:Jv,useDeferredValue:function(o,u){var m=tn();return $E(m,lr.memoizedState,o,u)},useTransition:function(){var o=Zm(Zi)[0],u=tn().memoizedState;return[typeof o=="boolean"?o:Hf(o),u]},useSyncExternalStore:gE,useId:VE,useHostTransitionStatus:rb,useFormState:TE,useActionState:TE,useOptimistic:function(o,u){var m=tn();return wE(m,lr,o,u)},useMemoCache:Kv,useCacheRefresh:qE},Zz={readContext:Qn,use:Qm,useCallback:LE,useContext:Qn,useEffect:PE,useImperativeHandle:FE,useInsertionEffect:ME,useLayoutEffect:RE,useMemo:BE,useReducer:Xv,useRef:OE,useState:function(){return Xv(Zi)},useDebugValue:Jv,useDeferredValue:function(o,u){var m=tn();return lr===null?eb(m,o,u):$E(m,lr.memoizedState,o,u)},useTransition:function(){var o=Xv(Zi)[0],u=tn().memoizedState;return[typeof o=="boolean"?o:Hf(o),u]},useSyncExternalStore:gE,useId:VE,useHostTransitionStatus:rb,useFormState:CE,useActionState:CE,useOptimistic:function(o,u){var m=tn();return lr!==null?wE(m,lr,o,u):(m.baseState=o,[o,m.queue.dispatch])},useMemoCache:Kv,useCacheRefresh:qE},Lu=null,Wf=0;function ng(o){var u=Wf;return Wf+=1,Lu===null&&(Lu=[]),lE(Lu,o,u)}function Gf(o,u){u=u.props.ref,o.ref=u!==void 0?u:null}function ag(o,u){throw u.$$typeof===g?Error(n(525)):(o=Object.prototype.toString.call(u),Error(n(31,o==="[object Object]"?"object with keys {"+Object.keys(u).join(", ")+"}":o)))}function QE(o){var u=o._init;return u(o._payload)}function ZE(o){function u(me,fe){if(o){var ye=me.deletions;ye===null?(me.deletions=[fe],me.flags|=16):ye.push(fe)}}function m(me,fe){if(!o)return null;for(;fe!==null;)u(me,fe),fe=fe.sibling;return null}function x(me){for(var fe=new Map;me!==null;)me.key!==null?fe.set(me.key,me):fe.set(me.index,me),me=me.sibling;return fe}function N(me,fe){return me=Gi(me,fe),me.index=0,me.sibling=null,me}function _(me,fe,ye){return me.index=ye,o?(ye=me.alternate,ye!==null?(ye=ye.index,ye<fe?(me.flags|=67108866,fe):ye):(me.flags|=67108866,fe)):(me.flags|=1048576,fe)}function P(me){return o&&me.alternate===null&&(me.flags|=67108866),me}function H(me,fe,ye,Pe){return fe===null||fe.tag!==6?(fe=Sv(ye,me.mode,Pe),fe.return=me,fe):(fe=N(fe,ye),fe.return=me,fe)}function ae(me,fe,ye,Pe){var et=ye.type;return et===b?Oe(me,fe,ye.props.children,Pe,ye.key):fe!==null&&(fe.elementType===et||typeof et=="object"&&et!==null&&et.$$typeof===D&&QE(et)===fe.type)?(fe=N(fe,ye.props),Gf(fe,ye),fe.return=me,fe):(fe=$m(ye.type,ye.key,ye.props,null,me.mode,Pe),Gf(fe,ye),fe.return=me,fe)}function we(me,fe,ye,Pe){return fe===null||fe.tag!==4||fe.stateNode.containerInfo!==ye.containerInfo||fe.stateNode.implementation!==ye.implementation?(fe=_v(ye,me.mode,Pe),fe.return=me,fe):(fe=N(fe,ye.children||[]),fe.return=me,fe)}function Oe(me,fe,ye,Pe,et){return fe===null||fe.tag!==7?(fe=oc(ye,me.mode,Pe,et),fe.return=me,fe):(fe=N(fe,ye),fe.return=me,fe)}function Re(me,fe,ye){if(typeof fe=="string"&&fe!==""||typeof fe=="number"||typeof fe=="bigint")return fe=Sv(""+fe,me.mode,ye),fe.return=me,fe;if(typeof fe=="object"&&fe!==null){switch(fe.$$typeof){case p:return ye=$m(fe.type,fe.key,fe.props,null,me.mode,ye),Gf(ye,fe),ye.return=me,ye;case y:return fe=_v(fe,me.mode,ye),fe.return=me,fe;case D:var Pe=fe._init;return fe=Pe(fe._payload),Re(me,fe,ye)}if(Y(fe)||W(fe))return fe=oc(fe,me.mode,ye,null),fe.return=me,fe;if(typeof fe.then=="function")return Re(me,ng(fe),ye);if(fe.$$typeof===E)return Re(me,Vm(me,fe),ye);ag(me,fe)}return null}function Ne(me,fe,ye,Pe){var et=fe!==null?fe.key:null;if(typeof ye=="string"&&ye!==""||typeof ye=="number"||typeof ye=="bigint")return et!==null?null:H(me,fe,""+ye,Pe);if(typeof ye=="object"&&ye!==null){switch(ye.$$typeof){case p:return ye.key===et?ae(me,fe,ye,Pe):null;case y:return ye.key===et?we(me,fe,ye,Pe):null;case D:return et=ye._init,ye=et(ye._payload),Ne(me,fe,ye,Pe)}if(Y(ye)||W(ye))return et!==null?null:Oe(me,fe,ye,Pe,null);if(typeof ye.then=="function")return Ne(me,fe,ng(ye),Pe);if(ye.$$typeof===E)return Ne(me,fe,Vm(me,ye),Pe);ag(me,ye)}return null}function _e(me,fe,ye,Pe,et){if(typeof Pe=="string"&&Pe!==""||typeof Pe=="number"||typeof Pe=="bigint")return me=me.get(ye)||null,H(fe,me,""+Pe,et);if(typeof Pe=="object"&&Pe!==null){switch(Pe.$$typeof){case p:return me=me.get(Pe.key===null?ye:Pe.key)||null,ae(fe,me,Pe,et);case y:return me=me.get(Pe.key===null?ye:Pe.key)||null,we(fe,me,Pe,et);case D:var St=Pe._init;return Pe=St(Pe._payload),_e(me,fe,ye,Pe,et)}if(Y(Pe)||W(Pe))return me=me.get(ye)||null,Oe(fe,me,Pe,et,null);if(typeof Pe.then=="function")return _e(me,fe,ye,ng(Pe),et);if(Pe.$$typeof===E)return _e(me,fe,ye,Vm(fe,Pe),et);ag(fe,Pe)}return null}function ht(me,fe,ye,Pe){for(var et=null,St=null,it=fe,ut=fe=0,bn=null;it!==null&&ut<ye.length;ut++){it.index>ut?(bn=it,it=null):bn=it.sibling;var Lt=Ne(me,it,ye[ut],Pe);if(Lt===null){it===null&&(it=bn);break}o&&it&&Lt.alternate===null&&u(me,it),fe=_(Lt,fe,ut),St===null?et=Lt:St.sibling=Lt,St=Lt,it=bn}if(ut===ye.length)return m(me,it),Ht&&uc(me,ut),et;if(it===null){for(;ut<ye.length;ut++)it=Re(me,ye[ut],Pe),it!==null&&(fe=_(it,fe,ut),St===null?et=it:St.sibling=it,St=it);return Ht&&uc(me,ut),et}for(it=x(it);ut<ye.length;ut++)bn=_e(it,me,ut,ye[ut],Pe),bn!==null&&(o&&bn.alternate!==null&&it.delete(bn.key===null?ut:bn.key),fe=_(bn,fe,ut),St===null?et=bn:St.sibling=bn,St=bn);return o&&it.forEach(function(lo){return u(me,lo)}),Ht&&uc(me,ut),et}function ct(me,fe,ye,Pe){if(ye==null)throw Error(n(151));for(var et=null,St=null,it=fe,ut=fe=0,bn=null,Lt=ye.next();it!==null&&!Lt.done;ut++,Lt=ye.next()){it.index>ut?(bn=it,it=null):bn=it.sibling;var lo=Ne(me,it,Lt.value,Pe);if(lo===null){it===null&&(it=bn);break}o&&it&&lo.alternate===null&&u(me,it),fe=_(lo,fe,ut),St===null?et=lo:St.sibling=lo,St=lo,it=bn}if(Lt.done)return m(me,it),Ht&&uc(me,ut),et;if(it===null){for(;!Lt.done;ut++,Lt=ye.next())Lt=Re(me,Lt.value,Pe),Lt!==null&&(fe=_(Lt,fe,ut),St===null?et=Lt:St.sibling=Lt,St=Lt);return Ht&&uc(me,ut),et}for(it=x(it);!Lt.done;ut++,Lt=ye.next())Lt=_e(it,me,ut,Lt.value,Pe),Lt!==null&&(o&&Lt.alternate!==null&&it.delete(Lt.key===null?ut:Lt.key),fe=_(Lt,fe,ut),St===null?et=Lt:St.sibling=Lt,St=Lt);return o&&it.forEach(function(JH){return u(me,JH)}),Ht&&uc(me,ut),et}function cr(me,fe,ye,Pe){if(typeof ye=="object"&&ye!==null&&ye.type===b&&ye.key===null&&(ye=ye.props.children),typeof ye=="object"&&ye!==null){switch(ye.$$typeof){case p:e:{for(var et=ye.key;fe!==null;){if(fe.key===et){if(et=ye.type,et===b){if(fe.tag===7){m(me,fe.sibling),Pe=N(fe,ye.props.children),Pe.return=me,me=Pe;break e}}else if(fe.elementType===et||typeof et=="object"&&et!==null&&et.$$typeof===D&&QE(et)===fe.type){m(me,fe.sibling),Pe=N(fe,ye.props),Gf(Pe,ye),Pe.return=me,me=Pe;break e}m(me,fe);break}else u(me,fe);fe=fe.sibling}ye.type===b?(Pe=oc(ye.props.children,me.mode,Pe,ye.key),Pe.return=me,me=Pe):(Pe=$m(ye.type,ye.key,ye.props,null,me.mode,Pe),Gf(Pe,ye),Pe.return=me,me=Pe)}return P(me);case y:e:{for(et=ye.key;fe!==null;){if(fe.key===et)if(fe.tag===4&&fe.stateNode.containerInfo===ye.containerInfo&&fe.stateNode.implementation===ye.implementation){m(me,fe.sibling),Pe=N(fe,ye.children||[]),Pe.return=me,me=Pe;break e}else{m(me,fe);break}else u(me,fe);fe=fe.sibling}Pe=_v(ye,me.mode,Pe),Pe.return=me,me=Pe}return P(me);case D:return et=ye._init,ye=et(ye._payload),cr(me,fe,ye,Pe)}if(Y(ye))return ht(me,fe,ye,Pe);if(W(ye)){if(et=W(ye),typeof et!="function")throw Error(n(150));return ye=et.call(ye),ct(me,fe,ye,Pe)}if(typeof ye.then=="function")return cr(me,fe,ng(ye),Pe);if(ye.$$typeof===E)return cr(me,fe,Vm(me,ye),Pe);ag(me,ye)}return typeof ye=="string"&&ye!==""||typeof ye=="number"||typeof ye=="bigint"?(ye=""+ye,fe!==null&&fe.tag===6?(m(me,fe.sibling),Pe=N(fe,ye),Pe.return=me,me=Pe):(m(me,fe),Pe=Sv(ye,me.mode,Pe),Pe.return=me,me=Pe),P(me)):m(me,fe)}return function(me,fe,ye,Pe){try{Wf=0;var et=cr(me,fe,ye,Pe);return Lu=null,et}catch(it){if(it===Ff||it===Wm)throw it;var St=Va(29,it,null,me.mode);return St.lanes=Pe,St.return=me,St}finally{}}}var Bu=ZE(!0),JE=ZE(!1),Ns=ie(null),ji=null;function Wl(o){var u=o.alternate;G(fn,fn.current&1),G(Ns,o),ji===null&&(u===null||Mu.current!==null||u.memoizedState!==null)&&(ji=o)}function eT(o){if(o.tag===22){if(G(fn,fn.current),G(Ns,o),ji===null){var u=o.alternate;u!==null&&u.memoizedState!==null&&(ji=o)}}else Gl()}function Gl(){G(fn,fn.current),G(Ns,Ns.current)}function Ji(o){F(Ns),ji===o&&(ji=null),F(fn)}var fn=ie(0);function sg(o){for(var u=o;u!==null;){if(u.tag===13){var m=u.memoizedState;if(m!==null&&(m=m.dehydrated,m===null||m.data==="$?"||Gb(m)))return u}else if(u.tag===19&&u.memoizedProps.revealOrder!==void 0){if((u.flags&128)!==0)return u}else if(u.child!==null){u.child.return=u,u=u.child;continue}if(u===o)break;for(;u.sibling===null;){if(u.return===null||u.return===o)return null;u=u.return}u.sibling.return=u.return,u=u.sibling}return null}function ab(o,u,m,x){u=o.memoizedState,m=m(x,u),m=m==null?u:h({},u,m),o.memoizedState=m,o.lanes===0&&(o.updateQueue.baseState=m)}var sb={enqueueSetState:function(o,u,m){o=o._reactInternals;var x=Ka(),N=Hl(x);N.payload=u,m!=null&&(N.callback=m),u=Vl(o,N,x),u!==null&&(Ya(u,o,x),Bf(u,o,x))},enqueueReplaceState:function(o,u,m){o=o._reactInternals;var x=Ka(),N=Hl(x);N.tag=1,N.payload=u,m!=null&&(N.callback=m),u=Vl(o,N,x),u!==null&&(Ya(u,o,x),Bf(u,o,x))},enqueueForceUpdate:function(o,u){o=o._reactInternals;var m=Ka(),x=Hl(m);x.tag=2,u!=null&&(x.callback=u),u=Vl(o,x,m),u!==null&&(Ya(u,o,m),Bf(u,o,m))}};function tT(o,u,m,x,N,_,P){return o=o.stateNode,typeof o.shouldComponentUpdate=="function"?o.shouldComponentUpdate(x,_,P):u.prototype&&u.prototype.isPureReactComponent?!Af(m,x)||!Af(N,_):!0}function rT(o,u,m,x){o=u.state,typeof u.componentWillReceiveProps=="function"&&u.componentWillReceiveProps(m,x),typeof u.UNSAFE_componentWillReceiveProps=="function"&&u.UNSAFE_componentWillReceiveProps(m,x),u.state!==o&&sb.enqueueReplaceState(u,u.state,null)}function xc(o,u){var m=u;if("ref"in u){m={};for(var x in u)x!=="ref"&&(m[x]=u[x])}if(o=o.defaultProps){m===u&&(m=h({},m));for(var N in o)m[N]===void 0&&(m[N]=o[N])}return m}var ig=typeof reportError=="function"?reportError:function(o){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var u=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof o=="object"&&o!==null&&typeof o.message=="string"?String(o.message):String(o),error:o});if(!window.dispatchEvent(u))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",o);return}console.error(o)};function nT(o){ig(o)}function aT(o){console.error(o)}function sT(o){ig(o)}function lg(o,u){try{var m=o.onUncaughtError;m(u.value,{componentStack:u.stack})}catch(x){setTimeout(function(){throw x})}}function iT(o,u,m){try{var x=o.onCaughtError;x(m.value,{componentStack:m.stack,errorBoundary:u.tag===1?u.stateNode:null})}catch(N){setTimeout(function(){throw N})}}function ib(o,u,m){return m=Hl(m),m.tag=3,m.payload={element:null},m.callback=function(){lg(o,u)},m}function lT(o){return o=Hl(o),o.tag=3,o}function oT(o,u,m,x){var N=m.type.getDerivedStateFromError;if(typeof N=="function"){var _=x.value;o.payload=function(){return N(_)},o.callback=function(){iT(u,m,x)}}var P=m.stateNode;P!==null&&typeof P.componentDidCatch=="function"&&(o.callback=function(){iT(u,m,x),typeof N!="function"&&(Jl===null?Jl=new Set([this]):Jl.add(this));var H=x.stack;this.componentDidCatch(x.value,{componentStack:H!==null?H:""})})}function Jz(o,u,m,x,N){if(m.flags|=32768,x!==null&&typeof x=="object"&&typeof x.then=="function"){if(u=m.alternate,u!==null&&Mf(u,m,N,!0),m=Ns.current,m!==null){switch(m.tag){case 13:return ji===null?Cb():m.alternate===null&&Ur===0&&(Ur=3),m.flags&=-257,m.flags|=65536,m.lanes=N,x===Rv?m.flags|=16384:(u=m.updateQueue,u===null?m.updateQueue=new Set([x]):u.add(x),Db(o,x,N)),!1;case 22:return m.flags|=65536,x===Rv?m.flags|=16384:(u=m.updateQueue,u===null?(u={transitions:null,markerInstances:null,retryQueue:new Set([x])},m.updateQueue=u):(m=u.retryQueue,m===null?u.retryQueue=new Set([x]):m.add(x)),Db(o,x,N)),!1}throw Error(n(435,m.tag))}return Db(o,x,N),Cb(),!1}if(Ht)return u=Ns.current,u!==null?((u.flags&65536)===0&&(u.flags|=256),u.flags|=65536,u.lanes=N,x!==Tv&&(o=Error(n(422),{cause:x}),Pf(vs(o,m)))):(x!==Tv&&(u=Error(n(423),{cause:x}),Pf(vs(u,m))),o=o.current.alternate,o.flags|=65536,N&=-N,o.lanes|=N,x=vs(x,m),N=ib(o.stateNode,x,N),Lv(o,N),Ur!==4&&(Ur=2)),!1;var _=Error(n(520),{cause:x});if(_=vs(_,m),e0===null?e0=[_]:e0.push(_),Ur!==4&&(Ur=2),u===null)return!0;x=vs(x,m),m=u;do{switch(m.tag){case 3:return m.flags|=65536,o=N&-N,m.lanes|=o,o=ib(m.stateNode,x,o),Lv(m,o),!1;case 1:if(u=m.type,_=m.stateNode,(m.flags&128)===0&&(typeof u.getDerivedStateFromError=="function"||_!==null&&typeof _.componentDidCatch=="function"&&(Jl===null||!Jl.has(_))))return m.flags|=65536,N&=-N,m.lanes|=N,N=lT(N),oT(N,o,m,x),Lv(m,N),!1}m=m.return}while(m!==null);return!1}var cT=Error(n(461)),yn=!1;function Rn(o,u,m,x){u.child=o===null?JE(u,null,m,x):Bu(u,o.child,m,x)}function uT(o,u,m,x,N){m=m.render;var _=u.ref;if("ref"in x){var P={};for(var H in x)H!=="ref"&&(P[H]=x[H])}else P=x;return mc(u),x=Hv(o,u,m,P,_,N),H=Vv(),o!==null&&!yn?(qv(o,u,N),el(o,u,N)):(Ht&&H&&kv(u),u.flags|=1,Rn(o,u,x,N),u.child)}function dT(o,u,m,x,N){if(o===null){var _=m.type;return typeof _=="function"&&!Nv(_)&&_.defaultProps===void 0&&m.compare===null?(u.tag=15,u.type=_,fT(o,u,_,x,N)):(o=$m(m.type,null,x,u,u.mode,N),o.ref=u.ref,o.return=u,u.child=o)}if(_=o.child,!mb(o,N)){var P=_.memoizedProps;if(m=m.compare,m=m!==null?m:Af,m(P,x)&&o.ref===u.ref)return el(o,u,N)}return u.flags|=1,o=Gi(_,x),o.ref=u.ref,o.return=u,u.child=o}function fT(o,u,m,x,N){if(o!==null){var _=o.memoizedProps;if(Af(_,x)&&o.ref===u.ref)if(yn=!1,u.pendingProps=x=_,mb(o,N))(o.flags&131072)!==0&&(yn=!0);else return u.lanes=o.lanes,el(o,u,N)}return lb(o,u,m,x,N)}function hT(o,u,m){var x=u.pendingProps,N=x.children,_=o!==null?o.memoizedState:null;if(x.mode==="hidden"){if((u.flags&128)!==0){if(x=_!==null?_.baseLanes|m:m,o!==null){for(N=u.child=o.child,_=0;N!==null;)_=_|N.lanes|N.childLanes,N=N.sibling;u.childLanes=_&~x}else u.childLanes=0,u.child=null;return mT(o,u,x,m)}if((m&536870912)!==0)u.memoizedState={baseLanes:0,cachePool:null},o!==null&&qm(u,_!==null?_.cachePool:null),_!==null?fE(u,_):$v(),eT(u);else return u.lanes=u.childLanes=536870912,mT(o,u,_!==null?_.baseLanes|m:m,m)}else _!==null?(qm(u,_.cachePool),fE(u,_),Gl(),u.memoizedState=null):(o!==null&&qm(u,null),$v(),Gl());return Rn(o,u,N,m),u.child}function mT(o,u,m,x){var N=Mv();return N=N===null?null:{parent:dn._currentValue,pool:N},u.memoizedState={baseLanes:m,cachePool:N},o!==null&&qm(u,null),$v(),eT(u),o!==null&&Mf(o,u,x,!0),null}function og(o,u){var m=u.ref;if(m===null)o!==null&&o.ref!==null&&(u.flags|=4194816);else{if(typeof m!="function"&&typeof m!="object")throw Error(n(284));(o===null||o.ref!==m)&&(u.flags|=4194816)}}function lb(o,u,m,x,N){return mc(u),m=Hv(o,u,m,x,void 0,N),x=Vv(),o!==null&&!yn?(qv(o,u,N),el(o,u,N)):(Ht&&x&&kv(u),u.flags|=1,Rn(o,u,m,N),u.child)}function gT(o,u,m,x,N,_){return mc(u),u.updateQueue=null,m=mE(u,x,m,N),hE(o),x=Vv(),o!==null&&!yn?(qv(o,u,_),el(o,u,_)):(Ht&&x&&kv(u),u.flags|=1,Rn(o,u,m,_),u.child)}function pT(o,u,m,x,N){if(mc(u),u.stateNode===null){var _=Au,P=m.contextType;typeof P=="object"&&P!==null&&(_=Qn(P)),_=new m(x,_),u.memoizedState=_.state!==null&&_.state!==void 0?_.state:null,_.updater=sb,u.stateNode=_,_._reactInternals=u,_=u.stateNode,_.props=x,_.state=u.memoizedState,_.refs={},Iv(u),P=m.contextType,_.context=typeof P=="object"&&P!==null?Qn(P):Au,_.state=u.memoizedState,P=m.getDerivedStateFromProps,typeof P=="function"&&(ab(u,m,P,x),_.state=u.memoizedState),typeof m.getDerivedStateFromProps=="function"||typeof _.getSnapshotBeforeUpdate=="function"||typeof _.UNSAFE_componentWillMount!="function"&&typeof _.componentWillMount!="function"||(P=_.state,typeof _.componentWillMount=="function"&&_.componentWillMount(),typeof _.UNSAFE_componentWillMount=="function"&&_.UNSAFE_componentWillMount(),P!==_.state&&sb.enqueueReplaceState(_,_.state,null),Uf(u,x,_,N),$f(),_.state=u.memoizedState),typeof _.componentDidMount=="function"&&(u.flags|=4194308),x=!0}else if(o===null){_=u.stateNode;var H=u.memoizedProps,ae=xc(m,H);_.props=ae;var we=_.context,Oe=m.contextType;P=Au,typeof Oe=="object"&&Oe!==null&&(P=Qn(Oe));var Re=m.getDerivedStateFromProps;Oe=typeof Re=="function"||typeof _.getSnapshotBeforeUpdate=="function",H=u.pendingProps!==H,Oe||typeof _.UNSAFE_componentWillReceiveProps!="function"&&typeof _.componentWillReceiveProps!="function"||(H||we!==P)&&rT(u,_,x,P),zl=!1;var Ne=u.memoizedState;_.state=Ne,Uf(u,x,_,N),$f(),we=u.memoizedState,H||Ne!==we||zl?(typeof Re=="function"&&(ab(u,m,Re,x),we=u.memoizedState),(ae=zl||tT(u,m,ae,x,Ne,we,P))?(Oe||typeof _.UNSAFE_componentWillMount!="function"&&typeof _.componentWillMount!="function"||(typeof _.componentWillMount=="function"&&_.componentWillMount(),typeof _.UNSAFE_componentWillMount=="function"&&_.UNSAFE_componentWillMount()),typeof _.componentDidMount=="function"&&(u.flags|=4194308)):(typeof _.componentDidMount=="function"&&(u.flags|=4194308),u.memoizedProps=x,u.memoizedState=we),_.props=x,_.state=we,_.context=P,x=ae):(typeof _.componentDidMount=="function"&&(u.flags|=4194308),x=!1)}else{_=u.stateNode,Fv(o,u),P=u.memoizedProps,Oe=xc(m,P),_.props=Oe,Re=u.pendingProps,Ne=_.context,we=m.contextType,ae=Au,typeof we=="object"&&we!==null&&(ae=Qn(we)),H=m.getDerivedStateFromProps,(we=typeof H=="function"||typeof _.getSnapshotBeforeUpdate=="function")||typeof _.UNSAFE_componentWillReceiveProps!="function"&&typeof _.componentWillReceiveProps!="function"||(P!==Re||Ne!==ae)&&rT(u,_,x,ae),zl=!1,Ne=u.memoizedState,_.state=Ne,Uf(u,x,_,N),$f();var _e=u.memoizedState;P!==Re||Ne!==_e||zl||o!==null&&o.dependencies!==null&&Hm(o.dependencies)?(typeof H=="function"&&(ab(u,m,H,x),_e=u.memoizedState),(Oe=zl||tT(u,m,Oe,x,Ne,_e,ae)||o!==null&&o.dependencies!==null&&Hm(o.dependencies))?(we||typeof _.UNSAFE_componentWillUpdate!="function"&&typeof _.componentWillUpdate!="function"||(typeof _.componentWillUpdate=="function"&&_.componentWillUpdate(x,_e,ae),typeof _.UNSAFE_componentWillUpdate=="function"&&_.UNSAFE_componentWillUpdate(x,_e,ae)),typeof _.componentDidUpdate=="function"&&(u.flags|=4),typeof _.getSnapshotBeforeUpdate=="function"&&(u.flags|=1024)):(typeof _.componentDidUpdate!="function"||P===o.memoizedProps&&Ne===o.memoizedState||(u.flags|=4),typeof _.getSnapshotBeforeUpdate!="function"||P===o.memoizedProps&&Ne===o.memoizedState||(u.flags|=1024),u.memoizedProps=x,u.memoizedState=_e),_.props=x,_.state=_e,_.context=ae,x=Oe):(typeof _.componentDidUpdate!="function"||P===o.memoizedProps&&Ne===o.memoizedState||(u.flags|=4),typeof _.getSnapshotBeforeUpdate!="function"||P===o.memoizedProps&&Ne===o.memoizedState||(u.flags|=1024),x=!1)}return _=x,og(o,u),x=(u.flags&128)!==0,_||x?(_=u.stateNode,m=x&&typeof m.getDerivedStateFromError!="function"?null:_.render(),u.flags|=1,o!==null&&x?(u.child=Bu(u,o.child,null,N),u.child=Bu(u,null,m,N)):Rn(o,u,m,N),u.memoizedState=_.state,o=u.child):o=el(o,u,N),o}function xT(o,u,m,x){return Df(),u.flags|=256,Rn(o,u,m,x),u.child}var ob={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function cb(o){return{baseLanes:o,cachePool:aE()}}function ub(o,u,m){return o=o!==null?o.childLanes&~m:0,u&&(o|=Ss),o}function yT(o,u,m){var x=u.pendingProps,N=!1,_=(u.flags&128)!==0,P;if((P=_)||(P=o!==null&&o.memoizedState===null?!1:(fn.current&2)!==0),P&&(N=!0,u.flags&=-129),P=(u.flags&32)!==0,u.flags&=-33,o===null){if(Ht){if(N?Wl(u):Gl(),Ht){var H=$r,ae;if(ae=H){e:{for(ae=H,H=wi;ae.nodeType!==8;){if(!H){H=null;break e}if(ae=ti(ae.nextSibling),ae===null){H=null;break e}}H=ae}H!==null?(u.memoizedState={dehydrated:H,treeContext:cc!==null?{id:Ki,overflow:Yi}:null,retryLane:536870912,hydrationErrors:null},ae=Va(18,null,null,0),ae.stateNode=H,ae.return=u,u.child=ae,ca=u,$r=null,ae=!0):ae=!1}ae||fc(u)}if(H=u.memoizedState,H!==null&&(H=H.dehydrated,H!==null))return Gb(H)?u.lanes=32:u.lanes=536870912,null;Ji(u)}return H=x.children,x=x.fallback,N?(Gl(),N=u.mode,H=cg({mode:"hidden",children:H},N),x=oc(x,N,m,null),H.return=u,x.return=u,H.sibling=x,u.child=H,N=u.child,N.memoizedState=cb(m),N.childLanes=ub(o,P,m),u.memoizedState=ob,x):(Wl(u),db(u,H))}if(ae=o.memoizedState,ae!==null&&(H=ae.dehydrated,H!==null)){if(_)u.flags&256?(Wl(u),u.flags&=-257,u=fb(o,u,m)):u.memoizedState!==null?(Gl(),u.child=o.child,u.flags|=128,u=null):(Gl(),N=x.fallback,H=u.mode,x=cg({mode:"visible",children:x.children},H),N=oc(N,H,m,null),N.flags|=2,x.return=u,N.return=u,x.sibling=N,u.child=x,Bu(u,o.child,null,m),x=u.child,x.memoizedState=cb(m),x.childLanes=ub(o,P,m),u.memoizedState=ob,u=N);else if(Wl(u),Gb(H)){if(P=H.nextSibling&&H.nextSibling.dataset,P)var we=P.dgst;P=we,x=Error(n(419)),x.stack="",x.digest=P,Pf({value:x,source:null,stack:null}),u=fb(o,u,m)}else if(yn||Mf(o,u,m,!1),P=(m&o.childLanes)!==0,yn||P){if(P=br,P!==null&&(x=m&-m,x=(x&42)!==0?1:la(x),x=(x&(P.suspendedLanes|m))!==0?0:x,x!==0&&x!==ae.retryLane))throw ae.retryLane=x,Tu(o,x),Ya(P,o,x),cT;H.data==="$?"||Cb(),u=fb(o,u,m)}else H.data==="$?"?(u.flags|=192,u.child=o.child,u=null):(o=ae.treeContext,$r=ti(H.nextSibling),ca=u,Ht=!0,dc=null,wi=!1,o!==null&&(ws[js++]=Ki,ws[js++]=Yi,ws[js++]=cc,Ki=o.id,Yi=o.overflow,cc=u),u=db(u,x.children),u.flags|=4096);return u}return N?(Gl(),N=x.fallback,H=u.mode,ae=o.child,we=ae.sibling,x=Gi(ae,{mode:"hidden",children:x.children}),x.subtreeFlags=ae.subtreeFlags&65011712,we!==null?N=Gi(we,N):(N=oc(N,H,m,null),N.flags|=2),N.return=u,x.return=u,x.sibling=N,u.child=x,x=N,N=u.child,H=o.child.memoizedState,H===null?H=cb(m):(ae=H.cachePool,ae!==null?(we=dn._currentValue,ae=ae.parent!==we?{parent:we,pool:we}:ae):ae=aE(),H={baseLanes:H.baseLanes|m,cachePool:ae}),N.memoizedState=H,N.childLanes=ub(o,P,m),u.memoizedState=ob,x):(Wl(u),m=o.child,o=m.sibling,m=Gi(m,{mode:"visible",children:x.children}),m.return=u,m.sibling=null,o!==null&&(P=u.deletions,P===null?(u.deletions=[o],u.flags|=16):P.push(o)),u.child=m,u.memoizedState=null,m)}function db(o,u){return u=cg({mode:"visible",children:u},o.mode),u.return=o,o.child=u}function cg(o,u){return o=Va(22,o,null,u),o.lanes=0,o.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null},o}function fb(o,u,m){return Bu(u,o.child,null,m),o=db(u,u.pendingProps.children),o.flags|=2,u.memoizedState=null,o}function vT(o,u,m){o.lanes|=u;var x=o.alternate;x!==null&&(x.lanes|=u),Cv(o.return,u,m)}function hb(o,u,m,x,N){var _=o.memoizedState;_===null?o.memoizedState={isBackwards:u,rendering:null,renderingStartTime:0,last:x,tail:m,tailMode:N}:(_.isBackwards=u,_.rendering=null,_.renderingStartTime=0,_.last=x,_.tail=m,_.tailMode=N)}function bT(o,u,m){var x=u.pendingProps,N=x.revealOrder,_=x.tail;if(Rn(o,u,x.children,m),x=fn.current,(x&2)!==0)x=x&1|2,u.flags|=128;else{if(o!==null&&(o.flags&128)!==0)e:for(o=u.child;o!==null;){if(o.tag===13)o.memoizedState!==null&&vT(o,m,u);else if(o.tag===19)vT(o,m,u);else if(o.child!==null){o.child.return=o,o=o.child;continue}if(o===u)break e;for(;o.sibling===null;){if(o.return===null||o.return===u)break e;o=o.return}o.sibling.return=o.return,o=o.sibling}x&=1}switch(G(fn,x),N){case"forwards":for(m=u.child,N=null;m!==null;)o=m.alternate,o!==null&&sg(o)===null&&(N=m),m=m.sibling;m=N,m===null?(N=u.child,u.child=null):(N=m.sibling,m.sibling=null),hb(u,!1,N,m,_);break;case"backwards":for(m=null,N=u.child,u.child=null;N!==null;){if(o=N.alternate,o!==null&&sg(o)===null){u.child=N;break}o=N.sibling,N.sibling=m,m=N,N=o}hb(u,!0,m,null,_);break;case"together":hb(u,!1,null,null,void 0);break;default:u.memoizedState=null}return u.child}function el(o,u,m){if(o!==null&&(u.dependencies=o.dependencies),Zl|=u.lanes,(m&u.childLanes)===0)if(o!==null){if(Mf(o,u,m,!1),(m&u.childLanes)===0)return null}else return null;if(o!==null&&u.child!==o.child)throw Error(n(153));if(u.child!==null){for(o=u.child,m=Gi(o,o.pendingProps),u.child=m,m.return=u;o.sibling!==null;)o=o.sibling,m=m.sibling=Gi(o,o.pendingProps),m.return=u;m.sibling=null}return u.child}function mb(o,u){return(o.lanes&u)!==0?!0:(o=o.dependencies,!!(o!==null&&Hm(o)))}function eH(o,u,m){switch(u.tag){case 3:ne(u,u.stateNode.containerInfo),Ul(u,dn,o.memoizedState.cache),Df();break;case 27:case 5:he(u);break;case 4:ne(u,u.stateNode.containerInfo);break;case 10:Ul(u,u.type,u.memoizedProps.value);break;case 13:var x=u.memoizedState;if(x!==null)return x.dehydrated!==null?(Wl(u),u.flags|=128,null):(m&u.child.childLanes)!==0?yT(o,u,m):(Wl(u),o=el(o,u,m),o!==null?o.sibling:null);Wl(u);break;case 19:var N=(o.flags&128)!==0;if(x=(m&u.childLanes)!==0,x||(Mf(o,u,m,!1),x=(m&u.childLanes)!==0),N){if(x)return bT(o,u,m);u.flags|=128}if(N=u.memoizedState,N!==null&&(N.rendering=null,N.tail=null,N.lastEffect=null),G(fn,fn.current),x)break;return null;case 22:case 23:return u.lanes=0,hT(o,u,m);case 24:Ul(u,dn,o.memoizedState.cache)}return el(o,u,m)}function wT(o,u,m){if(o!==null)if(o.memoizedProps!==u.pendingProps)yn=!0;else{if(!mb(o,m)&&(u.flags&128)===0)return yn=!1,eH(o,u,m);yn=(o.flags&131072)!==0}else yn=!1,Ht&&(u.flags&1048576)!==0&&Q4(u,zm,u.index);switch(u.lanes=0,u.tag){case 16:e:{o=u.pendingProps;var x=u.elementType,N=x._init;if(x=N(x._payload),u.type=x,typeof x=="function")Nv(x)?(o=xc(x,o),u.tag=1,u=pT(null,u,x,o,m)):(u.tag=0,u=lb(null,u,x,o,m));else{if(x!=null){if(N=x.$$typeof,N===C){u.tag=11,u=uT(null,u,x,o,m);break e}else if(N===O){u.tag=14,u=dT(null,u,x,o,m);break e}}throw u=oe(x)||x,Error(n(306,u,""))}}return u;case 0:return lb(o,u,u.type,u.pendingProps,m);case 1:return x=u.type,N=xc(x,u.pendingProps),pT(o,u,x,N,m);case 3:e:{if(ne(u,u.stateNode.containerInfo),o===null)throw Error(n(387));x=u.pendingProps;var _=u.memoizedState;N=_.element,Fv(o,u),Uf(u,x,null,m);var P=u.memoizedState;if(x=P.cache,Ul(u,dn,x),x!==_.cache&&Ov(u,[dn],m,!0),$f(),x=P.element,_.isDehydrated)if(_={element:x,isDehydrated:!1,cache:P.cache},u.updateQueue.baseState=_,u.memoizedState=_,u.flags&256){u=xT(o,u,x,m);break e}else if(x!==N){N=vs(Error(n(424)),u),Pf(N),u=xT(o,u,x,m);break e}else{switch(o=u.stateNode.containerInfo,o.nodeType){case 9:o=o.body;break;default:o=o.nodeName==="HTML"?o.ownerDocument.body:o}for($r=ti(o.firstChild),ca=u,Ht=!0,dc=null,wi=!0,m=JE(u,null,x,m),u.child=m;m;)m.flags=m.flags&-3|4096,m=m.sibling}else{if(Df(),x===N){u=el(o,u,m);break e}Rn(o,u,x,m)}u=u.child}return u;case 26:return og(o,u),o===null?(m=_A(u.type,null,u.pendingProps,null))?u.memoizedState=m:Ht||(m=u.type,o=u.pendingProps,x=Ng(de.current).createElement(m),x[hr]=u,x[Gt]=o,Fn(x,m,o),ce(x),u.stateNode=x):u.memoizedState=_A(u.type,o.memoizedProps,u.pendingProps,o.memoizedState),null;case 27:return he(u),o===null&&Ht&&(x=u.stateNode=jA(u.type,u.pendingProps,de.current),ca=u,wi=!0,N=$r,ro(u.type)?(Kb=N,$r=ti(x.firstChild)):$r=N),Rn(o,u,u.pendingProps.children,m),og(o,u),o===null&&(u.flags|=4194304),u.child;case 5:return o===null&&Ht&&((N=x=$r)&&(x=TH(x,u.type,u.pendingProps,wi),x!==null?(u.stateNode=x,ca=u,$r=ti(x.firstChild),wi=!1,N=!0):N=!1),N||fc(u)),he(u),N=u.type,_=u.pendingProps,P=o!==null?o.memoizedProps:null,x=_.children,Vb(N,_)?x=null:P!==null&&Vb(N,P)&&(u.flags|=32),u.memoizedState!==null&&(N=Hv(o,u,Wz,null,null,m),c0._currentValue=N),og(o,u),Rn(o,u,x,m),u.child;case 6:return o===null&&Ht&&((o=m=$r)&&(m=AH(m,u.pendingProps,wi),m!==null?(u.stateNode=m,ca=u,$r=null,o=!0):o=!1),o||fc(u)),null;case 13:return yT(o,u,m);case 4:return ne(u,u.stateNode.containerInfo),x=u.pendingProps,o===null?u.child=Bu(u,null,x,m):Rn(o,u,x,m),u.child;case 11:return uT(o,u,u.type,u.pendingProps,m);case 7:return Rn(o,u,u.pendingProps,m),u.child;case 8:return Rn(o,u,u.pendingProps.children,m),u.child;case 12:return Rn(o,u,u.pendingProps.children,m),u.child;case 10:return x=u.pendingProps,Ul(u,u.type,x.value),Rn(o,u,x.children,m),u.child;case 9:return N=u.type._context,x=u.pendingProps.children,mc(u),N=Qn(N),x=x(N),u.flags|=1,Rn(o,u,x,m),u.child;case 14:return dT(o,u,u.type,u.pendingProps,m);case 15:return fT(o,u,u.type,u.pendingProps,m);case 19:return bT(o,u,m);case 31:return x=u.pendingProps,m=u.mode,x={mode:x.mode,children:x.children},o===null?(m=cg(x,m),m.ref=u.ref,u.child=m,m.return=u,u=m):(m=Gi(o.child,x),m.ref=u.ref,u.child=m,m.return=u,u=m),u;case 22:return hT(o,u,m);case 24:return mc(u),x=Qn(dn),o===null?(N=Mv(),N===null&&(N=br,_=Dv(),N.pooledCache=_,_.refCount++,_!==null&&(N.pooledCacheLanes|=m),N=_),u.memoizedState={parent:x,cache:N},Iv(u),Ul(u,dn,N)):((o.lanes&m)!==0&&(Fv(o,u),Uf(u,null,null,m),$f()),N=o.memoizedState,_=u.memoizedState,N.parent!==x?(N={parent:x,cache:x},u.memoizedState=N,u.lanes===0&&(u.memoizedState=u.updateQueue.baseState=N),Ul(u,dn,x)):(x=_.cache,Ul(u,dn,x),x!==N.cache&&Ov(u,[dn],m,!0))),Rn(o,u,u.pendingProps.children,m),u.child;case 29:throw u.pendingProps}throw Error(n(156,u.tag))}function tl(o){o.flags|=4}function jT(o,u){if(u.type!=="stylesheet"||(u.state.loading&4)!==0)o.flags&=-16777217;else if(o.flags|=16777216,!CA(u)){if(u=Ns.current,u!==null&&((Rt&4194048)===Rt?ji!==null:(Rt&62914560)!==Rt&&(Rt&536870912)===0||u!==ji))throw Lf=Rv,sE;o.flags|=8192}}function ug(o,u){u!==null&&(o.flags|=4),o.flags&16384&&(u=o.tag!==22?Ce():536870912,o.lanes|=u,Hu|=u)}function Kf(o,u){if(!Ht)switch(o.tailMode){case"hidden":u=o.tail;for(var m=null;u!==null;)u.alternate!==null&&(m=u),u=u.sibling;m===null?o.tail=null:m.sibling=null;break;case"collapsed":m=o.tail;for(var x=null;m!==null;)m.alternate!==null&&(x=m),m=m.sibling;x===null?u||o.tail===null?o.tail=null:o.tail.sibling=null:x.sibling=null}}function Ir(o){var u=o.alternate!==null&&o.alternate.child===o.child,m=0,x=0;if(u)for(var N=o.child;N!==null;)m|=N.lanes|N.childLanes,x|=N.subtreeFlags&65011712,x|=N.flags&65011712,N.return=o,N=N.sibling;else for(N=o.child;N!==null;)m|=N.lanes|N.childLanes,x|=N.subtreeFlags,x|=N.flags,N.return=o,N=N.sibling;return o.subtreeFlags|=x,o.childLanes=m,u}function tH(o,u,m){var x=u.pendingProps;switch(Ev(u),u.tag){case 31:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Ir(u),null;case 1:return Ir(u),null;case 3:return m=u.stateNode,x=null,o!==null&&(x=o.memoizedState.cache),u.memoizedState.cache!==x&&(u.flags|=2048),Qi(dn),le(),m.pendingContext&&(m.context=m.pendingContext,m.pendingContext=null),(o===null||o.child===null)&&(Of(u)?tl(u):o===null||o.memoizedState.isDehydrated&&(u.flags&256)===0||(u.flags|=1024,eE())),Ir(u),null;case 26:return m=u.memoizedState,o===null?(tl(u),m!==null?(Ir(u),jT(u,m)):(Ir(u),u.flags&=-16777217)):m?m!==o.memoizedState?(tl(u),Ir(u),jT(u,m)):(Ir(u),u.flags&=-16777217):(o.memoizedProps!==x&&tl(u),Ir(u),u.flags&=-16777217),null;case 27:Le(u),m=de.current;var N=u.type;if(o!==null&&u.stateNode!=null)o.memoizedProps!==x&&tl(u);else{if(!x){if(u.stateNode===null)throw Error(n(166));return Ir(u),null}o=z.current,Of(u)?Z4(u):(o=jA(N,x,m),u.stateNode=o,tl(u))}return Ir(u),null;case 5:if(Le(u),m=u.type,o!==null&&u.stateNode!=null)o.memoizedProps!==x&&tl(u);else{if(!x){if(u.stateNode===null)throw Error(n(166));return Ir(u),null}if(o=z.current,Of(u))Z4(u);else{switch(N=Ng(de.current),o){case 1:o=N.createElementNS("http://www.w3.org/2000/svg",m);break;case 2:o=N.createElementNS("http://www.w3.org/1998/Math/MathML",m);break;default:switch(m){case"svg":o=N.createElementNS("http://www.w3.org/2000/svg",m);break;case"math":o=N.createElementNS("http://www.w3.org/1998/Math/MathML",m);break;case"script":o=N.createElement("div"),o.innerHTML="<script><\/script>",o=o.removeChild(o.firstChild);break;case"select":o=typeof x.is=="string"?N.createElement("select",{is:x.is}):N.createElement("select"),x.multiple?o.multiple=!0:x.size&&(o.size=x.size);break;default:o=typeof x.is=="string"?N.createElement(m,{is:x.is}):N.createElement(m)}}o[hr]=u,o[Gt]=x;e:for(N=u.child;N!==null;){if(N.tag===5||N.tag===6)o.appendChild(N.stateNode);else if(N.tag!==4&&N.tag!==27&&N.child!==null){N.child.return=N,N=N.child;continue}if(N===u)break e;for(;N.sibling===null;){if(N.return===null||N.return===u)break e;N=N.return}N.sibling.return=N.return,N=N.sibling}u.stateNode=o;e:switch(Fn(o,m,x),m){case"button":case"input":case"select":case"textarea":o=!!x.autoFocus;break e;case"img":o=!0;break e;default:o=!1}o&&tl(u)}}return Ir(u),u.flags&=-16777217,null;case 6:if(o&&u.stateNode!=null)o.memoizedProps!==x&&tl(u);else{if(typeof x!="string"&&u.stateNode===null)throw Error(n(166));if(o=de.current,Of(u)){if(o=u.stateNode,m=u.memoizedProps,x=null,N=ca,N!==null)switch(N.tag){case 27:case 5:x=N.memoizedProps}o[hr]=u,o=!!(o.nodeValue===m||x!==null&&x.suppressHydrationWarning===!0||gA(o.nodeValue,m)),o||fc(u)}else o=Ng(o).createTextNode(x),o[hr]=u,u.stateNode=o}return Ir(u),null;case 13:if(x=u.memoizedState,o===null||o.memoizedState!==null&&o.memoizedState.dehydrated!==null){if(N=Of(u),x!==null&&x.dehydrated!==null){if(o===null){if(!N)throw Error(n(318));if(N=u.memoizedState,N=N!==null?N.dehydrated:null,!N)throw Error(n(317));N[hr]=u}else Df(),(u.flags&128)===0&&(u.memoizedState=null),u.flags|=4;Ir(u),N=!1}else N=eE(),o!==null&&o.memoizedState!==null&&(o.memoizedState.hydrationErrors=N),N=!0;if(!N)return u.flags&256?(Ji(u),u):(Ji(u),null)}if(Ji(u),(u.flags&128)!==0)return u.lanes=m,u;if(m=x!==null,o=o!==null&&o.memoizedState!==null,m){x=u.child,N=null,x.alternate!==null&&x.alternate.memoizedState!==null&&x.alternate.memoizedState.cachePool!==null&&(N=x.alternate.memoizedState.cachePool.pool);var _=null;x.memoizedState!==null&&x.memoizedState.cachePool!==null&&(_=x.memoizedState.cachePool.pool),_!==N&&(x.flags|=2048)}return m!==o&&m&&(u.child.flags|=8192),ug(u,u.updateQueue),Ir(u),null;case 4:return le(),o===null&&Bb(u.stateNode.containerInfo),Ir(u),null;case 10:return Qi(u.type),Ir(u),null;case 19:if(F(fn),N=u.memoizedState,N===null)return Ir(u),null;if(x=(u.flags&128)!==0,_=N.rendering,_===null)if(x)Kf(N,!1);else{if(Ur!==0||o!==null&&(o.flags&128)!==0)for(o=u.child;o!==null;){if(_=sg(o),_!==null){for(u.flags|=128,Kf(N,!1),o=_.updateQueue,u.updateQueue=o,ug(u,o),u.subtreeFlags=0,o=m,m=u.child;m!==null;)X4(m,o),m=m.sibling;return G(fn,fn.current&1|2),u.child}o=o.sibling}N.tail!==null&&Ue()>hg&&(u.flags|=128,x=!0,Kf(N,!1),u.lanes=4194304)}else{if(!x)if(o=sg(_),o!==null){if(u.flags|=128,x=!0,o=o.updateQueue,u.updateQueue=o,ug(u,o),Kf(N,!0),N.tail===null&&N.tailMode==="hidden"&&!_.alternate&&!Ht)return Ir(u),null}else 2*Ue()-N.renderingStartTime>hg&&m!==536870912&&(u.flags|=128,x=!0,Kf(N,!1),u.lanes=4194304);N.isBackwards?(_.sibling=u.child,u.child=_):(o=N.last,o!==null?o.sibling=_:u.child=_,N.last=_)}return N.tail!==null?(u=N.tail,N.rendering=u,N.tail=u.sibling,N.renderingStartTime=Ue(),u.sibling=null,o=fn.current,G(fn,x?o&1|2:o&1),u):(Ir(u),null);case 22:case 23:return Ji(u),Uv(),x=u.memoizedState!==null,o!==null?o.memoizedState!==null!==x&&(u.flags|=8192):x&&(u.flags|=8192),x?(m&536870912)!==0&&(u.flags&128)===0&&(Ir(u),u.subtreeFlags&6&&(u.flags|=8192)):Ir(u),m=u.updateQueue,m!==null&&ug(u,m.retryQueue),m=null,o!==null&&o.memoizedState!==null&&o.memoizedState.cachePool!==null&&(m=o.memoizedState.cachePool.pool),x=null,u.memoizedState!==null&&u.memoizedState.cachePool!==null&&(x=u.memoizedState.cachePool.pool),x!==m&&(u.flags|=2048),o!==null&&F(gc),null;case 24:return m=null,o!==null&&(m=o.memoizedState.cache),u.memoizedState.cache!==m&&(u.flags|=2048),Qi(dn),Ir(u),null;case 25:return null;case 30:return null}throw Error(n(156,u.tag))}function rH(o,u){switch(Ev(u),u.tag){case 1:return o=u.flags,o&65536?(u.flags=o&-65537|128,u):null;case 3:return Qi(dn),le(),o=u.flags,(o&65536)!==0&&(o&128)===0?(u.flags=o&-65537|128,u):null;case 26:case 27:case 5:return Le(u),null;case 13:if(Ji(u),o=u.memoizedState,o!==null&&o.dehydrated!==null){if(u.alternate===null)throw Error(n(340));Df()}return o=u.flags,o&65536?(u.flags=o&-65537|128,u):null;case 19:return F(fn),null;case 4:return le(),null;case 10:return Qi(u.type),null;case 22:case 23:return Ji(u),Uv(),o!==null&&F(gc),o=u.flags,o&65536?(u.flags=o&-65537|128,u):null;case 24:return Qi(dn),null;case 25:return null;default:return null}}function NT(o,u){switch(Ev(u),u.tag){case 3:Qi(dn),le();break;case 26:case 27:case 5:Le(u);break;case 4:le();break;case 13:Ji(u);break;case 19:F(fn);break;case 10:Qi(u.type);break;case 22:case 23:Ji(u),Uv(),o!==null&&F(gc);break;case 24:Qi(dn)}}function Yf(o,u){try{var m=u.updateQueue,x=m!==null?m.lastEffect:null;if(x!==null){var N=x.next;m=N;do{if((m.tag&o)===o){x=void 0;var _=m.create,P=m.inst;x=_(),P.destroy=x}m=m.next}while(m!==N)}}catch(H){mr(u,u.return,H)}}function Kl(o,u,m){try{var x=u.updateQueue,N=x!==null?x.lastEffect:null;if(N!==null){var _=N.next;x=_;do{if((x.tag&o)===o){var P=x.inst,H=P.destroy;if(H!==void 0){P.destroy=void 0,N=u;var ae=m,we=H;try{we()}catch(Oe){mr(N,ae,Oe)}}}x=x.next}while(x!==_)}}catch(Oe){mr(u,u.return,Oe)}}function ST(o){var u=o.updateQueue;if(u!==null){var m=o.stateNode;try{dE(u,m)}catch(x){mr(o,o.return,x)}}}function _T(o,u,m){m.props=xc(o.type,o.memoizedProps),m.state=o.memoizedState;try{m.componentWillUnmount()}catch(x){mr(o,u,x)}}function Xf(o,u){try{var m=o.ref;if(m!==null){switch(o.tag){case 26:case 27:case 5:var x=o.stateNode;break;case 30:x=o.stateNode;break;default:x=o.stateNode}typeof m=="function"?o.refCleanup=m(x):m.current=x}}catch(N){mr(o,u,N)}}function Ni(o,u){var m=o.ref,x=o.refCleanup;if(m!==null)if(typeof x=="function")try{x()}catch(N){mr(o,u,N)}finally{o.refCleanup=null,o=o.alternate,o!=null&&(o.refCleanup=null)}else if(typeof m=="function")try{m(null)}catch(N){mr(o,u,N)}else m.current=null}function kT(o){var u=o.type,m=o.memoizedProps,x=o.stateNode;try{e:switch(u){case"button":case"input":case"select":case"textarea":m.autoFocus&&x.focus();break e;case"img":m.src?x.src=m.src:m.srcSet&&(x.srcset=m.srcSet)}}catch(N){mr(o,o.return,N)}}function gb(o,u,m){try{var x=o.stateNode;NH(x,o.type,m,u),x[Gt]=u}catch(N){mr(o,o.return,N)}}function ET(o){return o.tag===5||o.tag===3||o.tag===26||o.tag===27&&ro(o.type)||o.tag===4}function pb(o){e:for(;;){for(;o.sibling===null;){if(o.return===null||ET(o.return))return null;o=o.return}for(o.sibling.return=o.return,o=o.sibling;o.tag!==5&&o.tag!==6&&o.tag!==18;){if(o.tag===27&&ro(o.type)||o.flags&2||o.child===null||o.tag===4)continue e;o.child.return=o,o=o.child}if(!(o.flags&2))return o.stateNode}}function xb(o,u,m){var x=o.tag;if(x===5||x===6)o=o.stateNode,u?(m.nodeType===9?m.body:m.nodeName==="HTML"?m.ownerDocument.body:m).insertBefore(o,u):(u=m.nodeType===9?m.body:m.nodeName==="HTML"?m.ownerDocument.body:m,u.appendChild(o),m=m._reactRootContainer,m!=null||u.onclick!==null||(u.onclick=jg));else if(x!==4&&(x===27&&ro(o.type)&&(m=o.stateNode,u=null),o=o.child,o!==null))for(xb(o,u,m),o=o.sibling;o!==null;)xb(o,u,m),o=o.sibling}function dg(o,u,m){var x=o.tag;if(x===5||x===6)o=o.stateNode,u?m.insertBefore(o,u):m.appendChild(o);else if(x!==4&&(x===27&&ro(o.type)&&(m=o.stateNode),o=o.child,o!==null))for(dg(o,u,m),o=o.sibling;o!==null;)dg(o,u,m),o=o.sibling}function TT(o){var u=o.stateNode,m=o.memoizedProps;try{for(var x=o.type,N=u.attributes;N.length;)u.removeAttributeNode(N[0]);Fn(u,x,m),u[hr]=o,u[Gt]=m}catch(_){mr(o,o.return,_)}}var rl=!1,Xr=!1,yb=!1,AT=typeof WeakSet=="function"?WeakSet:Set,vn=null;function nH(o,u){if(o=o.containerInfo,zb=Ag,o=$4(o),pv(o)){if("selectionStart"in o)var m={start:o.selectionStart,end:o.selectionEnd};else e:{m=(m=o.ownerDocument)&&m.defaultView||window;var x=m.getSelection&&m.getSelection();if(x&&x.rangeCount!==0){m=x.anchorNode;var N=x.anchorOffset,_=x.focusNode;x=x.focusOffset;try{m.nodeType,_.nodeType}catch{m=null;break e}var P=0,H=-1,ae=-1,we=0,Oe=0,Re=o,Ne=null;t:for(;;){for(var _e;Re!==m||N!==0&&Re.nodeType!==3||(H=P+N),Re!==_||x!==0&&Re.nodeType!==3||(ae=P+x),Re.nodeType===3&&(P+=Re.nodeValue.length),(_e=Re.firstChild)!==null;)Ne=Re,Re=_e;for(;;){if(Re===o)break t;if(Ne===m&&++we===N&&(H=P),Ne===_&&++Oe===x&&(ae=P),(_e=Re.nextSibling)!==null)break;Re=Ne,Ne=Re.parentNode}Re=_e}m=H===-1||ae===-1?null:{start:H,end:ae}}else m=null}m=m||{start:0,end:0}}else m=null;for(Hb={focusedElem:o,selectionRange:m},Ag=!1,vn=u;vn!==null;)if(u=vn,o=u.child,(u.subtreeFlags&1024)!==0&&o!==null)o.return=u,vn=o;else for(;vn!==null;){switch(u=vn,_=u.alternate,o=u.flags,u.tag){case 0:break;case 11:case 15:break;case 1:if((o&1024)!==0&&_!==null){o=void 0,m=u,N=_.memoizedProps,_=_.memoizedState,x=m.stateNode;try{var ht=xc(m.type,N,m.elementType===m.type);o=x.getSnapshotBeforeUpdate(ht,_),x.__reactInternalSnapshotBeforeUpdate=o}catch(ct){mr(m,m.return,ct)}}break;case 3:if((o&1024)!==0){if(o=u.stateNode.containerInfo,m=o.nodeType,m===9)Wb(o);else if(m===1)switch(o.nodeName){case"HEAD":case"HTML":case"BODY":Wb(o);break;default:o.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((o&1024)!==0)throw Error(n(163))}if(o=u.sibling,o!==null){o.return=u.return,vn=o;break}vn=u.return}}function CT(o,u,m){var x=m.flags;switch(m.tag){case 0:case 11:case 15:Yl(o,m),x&4&&Yf(5,m);break;case 1:if(Yl(o,m),x&4)if(o=m.stateNode,u===null)try{o.componentDidMount()}catch(P){mr(m,m.return,P)}else{var N=xc(m.type,u.memoizedProps);u=u.memoizedState;try{o.componentDidUpdate(N,u,o.__reactInternalSnapshotBeforeUpdate)}catch(P){mr(m,m.return,P)}}x&64&&ST(m),x&512&&Xf(m,m.return);break;case 3:if(Yl(o,m),x&64&&(o=m.updateQueue,o!==null)){if(u=null,m.child!==null)switch(m.child.tag){case 27:case 5:u=m.child.stateNode;break;case 1:u=m.child.stateNode}try{dE(o,u)}catch(P){mr(m,m.return,P)}}break;case 27:u===null&&x&4&&TT(m);case 26:case 5:Yl(o,m),u===null&&x&4&&kT(m),x&512&&Xf(m,m.return);break;case 12:Yl(o,m);break;case 13:Yl(o,m),x&4&&PT(o,m),x&64&&(o=m.memoizedState,o!==null&&(o=o.dehydrated,o!==null&&(m=fH.bind(null,m),CH(o,m))));break;case 22:if(x=m.memoizedState!==null||rl,!x){u=u!==null&&u.memoizedState!==null||Xr,N=rl;var _=Xr;rl=x,(Xr=u)&&!_?Xl(o,m,(m.subtreeFlags&8772)!==0):Yl(o,m),rl=N,Xr=_}break;case 30:break;default:Yl(o,m)}}function OT(o){var u=o.alternate;u!==null&&(o.alternate=null,OT(u)),o.child=null,o.deletions=null,o.sibling=null,o.tag===5&&(u=o.stateNode,u!==null&&X(u)),o.stateNode=null,o.return=null,o.dependencies=null,o.memoizedProps=null,o.memoizedState=null,o.pendingProps=null,o.stateNode=null,o.updateQueue=null}var Ar=null,Ca=!1;function nl(o,u,m){for(m=m.child;m!==null;)DT(o,u,m),m=m.sibling}function DT(o,u,m){if(vt&&typeof vt.onCommitFiberUnmount=="function")try{vt.onCommitFiberUnmount(Pn,m)}catch{}switch(m.tag){case 26:Xr||Ni(m,u),nl(o,u,m),m.memoizedState?m.memoizedState.count--:m.stateNode&&(m=m.stateNode,m.parentNode.removeChild(m));break;case 27:Xr||Ni(m,u);var x=Ar,N=Ca;ro(m.type)&&(Ar=m.stateNode,Ca=!1),nl(o,u,m),s0(m.stateNode),Ar=x,Ca=N;break;case 5:Xr||Ni(m,u);case 6:if(x=Ar,N=Ca,Ar=null,nl(o,u,m),Ar=x,Ca=N,Ar!==null)if(Ca)try{(Ar.nodeType===9?Ar.body:Ar.nodeName==="HTML"?Ar.ownerDocument.body:Ar).removeChild(m.stateNode)}catch(_){mr(m,u,_)}else try{Ar.removeChild(m.stateNode)}catch(_){mr(m,u,_)}break;case 18:Ar!==null&&(Ca?(o=Ar,bA(o.nodeType===9?o.body:o.nodeName==="HTML"?o.ownerDocument.body:o,m.stateNode),h0(o)):bA(Ar,m.stateNode));break;case 4:x=Ar,N=Ca,Ar=m.stateNode.containerInfo,Ca=!0,nl(o,u,m),Ar=x,Ca=N;break;case 0:case 11:case 14:case 15:Xr||Kl(2,m,u),Xr||Kl(4,m,u),nl(o,u,m);break;case 1:Xr||(Ni(m,u),x=m.stateNode,typeof x.componentWillUnmount=="function"&&_T(m,u,x)),nl(o,u,m);break;case 21:nl(o,u,m);break;case 22:Xr=(x=Xr)||m.memoizedState!==null,nl(o,u,m),Xr=x;break;default:nl(o,u,m)}}function PT(o,u){if(u.memoizedState===null&&(o=u.alternate,o!==null&&(o=o.memoizedState,o!==null&&(o=o.dehydrated,o!==null))))try{h0(o)}catch(m){mr(u,u.return,m)}}function aH(o){switch(o.tag){case 13:case 19:var u=o.stateNode;return u===null&&(u=o.stateNode=new AT),u;case 22:return o=o.stateNode,u=o._retryCache,u===null&&(u=o._retryCache=new AT),u;default:throw Error(n(435,o.tag))}}function vb(o,u){var m=aH(o);u.forEach(function(x){var N=hH.bind(null,o,x);m.has(x)||(m.add(x),x.then(N,N))})}function qa(o,u){var m=u.deletions;if(m!==null)for(var x=0;x<m.length;x++){var N=m[x],_=o,P=u,H=P;e:for(;H!==null;){switch(H.tag){case 27:if(ro(H.type)){Ar=H.stateNode,Ca=!1;break e}break;case 5:Ar=H.stateNode,Ca=!1;break e;case 3:case 4:Ar=H.stateNode.containerInfo,Ca=!0;break e}H=H.return}if(Ar===null)throw Error(n(160));DT(_,P,N),Ar=null,Ca=!1,_=N.alternate,_!==null&&(_.return=null),N.return=null}if(u.subtreeFlags&13878)for(u=u.child;u!==null;)MT(u,o),u=u.sibling}var ei=null;function MT(o,u){var m=o.alternate,x=o.flags;switch(o.tag){case 0:case 11:case 14:case 15:qa(u,o),Wa(o),x&4&&(Kl(3,o,o.return),Yf(3,o),Kl(5,o,o.return));break;case 1:qa(u,o),Wa(o),x&512&&(Xr||m===null||Ni(m,m.return)),x&64&&rl&&(o=o.updateQueue,o!==null&&(x=o.callbacks,x!==null&&(m=o.shared.hiddenCallbacks,o.shared.hiddenCallbacks=m===null?x:m.concat(x))));break;case 26:var N=ei;if(qa(u,o),Wa(o),x&512&&(Xr||m===null||Ni(m,m.return)),x&4){var _=m!==null?m.memoizedState:null;if(x=o.memoizedState,m===null)if(x===null)if(o.stateNode===null){e:{x=o.type,m=o.memoizedProps,N=N.ownerDocument||N;t:switch(x){case"title":_=N.getElementsByTagName("title")[0],(!_||_[K]||_[hr]||_.namespaceURI==="http://www.w3.org/2000/svg"||_.hasAttribute("itemprop"))&&(_=N.createElement(x),N.head.insertBefore(_,N.querySelector("head > title"))),Fn(_,x,m),_[hr]=o,ce(_),x=_;break e;case"link":var P=TA("link","href",N).get(x+(m.href||""));if(P){for(var H=0;H<P.length;H++)if(_=P[H],_.getAttribute("href")===(m.href==null||m.href===""?null:m.href)&&_.getAttribute("rel")===(m.rel==null?null:m.rel)&&_.getAttribute("title")===(m.title==null?null:m.title)&&_.getAttribute("crossorigin")===(m.crossOrigin==null?null:m.crossOrigin)){P.splice(H,1);break t}}_=N.createElement(x),Fn(_,x,m),N.head.appendChild(_);break;case"meta":if(P=TA("meta","content",N).get(x+(m.content||""))){for(H=0;H<P.length;H++)if(_=P[H],_.getAttribute("content")===(m.content==null?null:""+m.content)&&_.getAttribute("name")===(m.name==null?null:m.name)&&_.getAttribute("property")===(m.property==null?null:m.property)&&_.getAttribute("http-equiv")===(m.httpEquiv==null?null:m.httpEquiv)&&_.getAttribute("charset")===(m.charSet==null?null:m.charSet)){P.splice(H,1);break t}}_=N.createElement(x),Fn(_,x,m),N.head.appendChild(_);break;default:throw Error(n(468,x))}_[hr]=o,ce(_),x=_}o.stateNode=x}else AA(N,o.type,o.stateNode);else o.stateNode=EA(N,x,o.memoizedProps);else _!==x?(_===null?m.stateNode!==null&&(m=m.stateNode,m.parentNode.removeChild(m)):_.count--,x===null?AA(N,o.type,o.stateNode):EA(N,x,o.memoizedProps)):x===null&&o.stateNode!==null&&gb(o,o.memoizedProps,m.memoizedProps)}break;case 27:qa(u,o),Wa(o),x&512&&(Xr||m===null||Ni(m,m.return)),m!==null&&x&4&&gb(o,o.memoizedProps,m.memoizedProps);break;case 5:if(qa(u,o),Wa(o),x&512&&(Xr||m===null||Ni(m,m.return)),o.flags&32){N=o.stateNode;try{Vi(N,"")}catch(_e){mr(o,o.return,_e)}}x&4&&o.stateNode!=null&&(N=o.memoizedProps,gb(o,N,m!==null?m.memoizedProps:N)),x&1024&&(yb=!0);break;case 6:if(qa(u,o),Wa(o),x&4){if(o.stateNode===null)throw Error(n(162));x=o.memoizedProps,m=o.stateNode;try{m.nodeValue=x}catch(_e){mr(o,o.return,_e)}}break;case 3:if(kg=null,N=ei,ei=Sg(u.containerInfo),qa(u,o),ei=N,Wa(o),x&4&&m!==null&&m.memoizedState.isDehydrated)try{h0(u.containerInfo)}catch(_e){mr(o,o.return,_e)}yb&&(yb=!1,RT(o));break;case 4:x=ei,ei=Sg(o.stateNode.containerInfo),qa(u,o),Wa(o),ei=x;break;case 12:qa(u,o),Wa(o);break;case 13:qa(u,o),Wa(o),o.child.flags&8192&&o.memoizedState!==null!=(m!==null&&m.memoizedState!==null)&&(_b=Ue()),x&4&&(x=o.updateQueue,x!==null&&(o.updateQueue=null,vb(o,x)));break;case 22:N=o.memoizedState!==null;var ae=m!==null&&m.memoizedState!==null,we=rl,Oe=Xr;if(rl=we||N,Xr=Oe||ae,qa(u,o),Xr=Oe,rl=we,Wa(o),x&8192)e:for(u=o.stateNode,u._visibility=N?u._visibility&-2:u._visibility|1,N&&(m===null||ae||rl||Xr||yc(o)),m=null,u=o;;){if(u.tag===5||u.tag===26){if(m===null){ae=m=u;try{if(_=ae.stateNode,N)P=_.style,typeof P.setProperty=="function"?P.setProperty("display","none","important"):P.display="none";else{H=ae.stateNode;var Re=ae.memoizedProps.style,Ne=Re!=null&&Re.hasOwnProperty("display")?Re.display:null;H.style.display=Ne==null||typeof Ne=="boolean"?"":(""+Ne).trim()}}catch(_e){mr(ae,ae.return,_e)}}}else if(u.tag===6){if(m===null){ae=u;try{ae.stateNode.nodeValue=N?"":ae.memoizedProps}catch(_e){mr(ae,ae.return,_e)}}}else if((u.tag!==22&&u.tag!==23||u.memoizedState===null||u===o)&&u.child!==null){u.child.return=u,u=u.child;continue}if(u===o)break e;for(;u.sibling===null;){if(u.return===null||u.return===o)break e;m===u&&(m=null),u=u.return}m===u&&(m=null),u.sibling.return=u.return,u=u.sibling}x&4&&(x=o.updateQueue,x!==null&&(m=x.retryQueue,m!==null&&(x.retryQueue=null,vb(o,m))));break;case 19:qa(u,o),Wa(o),x&4&&(x=o.updateQueue,x!==null&&(o.updateQueue=null,vb(o,x)));break;case 30:break;case 21:break;default:qa(u,o),Wa(o)}}function Wa(o){var u=o.flags;if(u&2){try{for(var m,x=o.return;x!==null;){if(ET(x)){m=x;break}x=x.return}if(m==null)throw Error(n(160));switch(m.tag){case 27:var N=m.stateNode,_=pb(o);dg(o,_,N);break;case 5:var P=m.stateNode;m.flags&32&&(Vi(P,""),m.flags&=-33);var H=pb(o);dg(o,H,P);break;case 3:case 4:var ae=m.stateNode.containerInfo,we=pb(o);xb(o,we,ae);break;default:throw Error(n(161))}}catch(Oe){mr(o,o.return,Oe)}o.flags&=-3}u&4096&&(o.flags&=-4097)}function RT(o){if(o.subtreeFlags&1024)for(o=o.child;o!==null;){var u=o;RT(u),u.tag===5&&u.flags&1024&&u.stateNode.reset(),o=o.sibling}}function Yl(o,u){if(u.subtreeFlags&8772)for(u=u.child;u!==null;)CT(o,u.alternate,u),u=u.sibling}function yc(o){for(o=o.child;o!==null;){var u=o;switch(u.tag){case 0:case 11:case 14:case 15:Kl(4,u,u.return),yc(u);break;case 1:Ni(u,u.return);var m=u.stateNode;typeof m.componentWillUnmount=="function"&&_T(u,u.return,m),yc(u);break;case 27:s0(u.stateNode);case 26:case 5:Ni(u,u.return),yc(u);break;case 22:u.memoizedState===null&&yc(u);break;case 30:yc(u);break;default:yc(u)}o=o.sibling}}function Xl(o,u,m){for(m=m&&(u.subtreeFlags&8772)!==0,u=u.child;u!==null;){var x=u.alternate,N=o,_=u,P=_.flags;switch(_.tag){case 0:case 11:case 15:Xl(N,_,m),Yf(4,_);break;case 1:if(Xl(N,_,m),x=_,N=x.stateNode,typeof N.componentDidMount=="function")try{N.componentDidMount()}catch(we){mr(x,x.return,we)}if(x=_,N=x.updateQueue,N!==null){var H=x.stateNode;try{var ae=N.shared.hiddenCallbacks;if(ae!==null)for(N.shared.hiddenCallbacks=null,N=0;N<ae.length;N++)uE(ae[N],H)}catch(we){mr(x,x.return,we)}}m&&P&64&&ST(_),Xf(_,_.return);break;case 27:TT(_);case 26:case 5:Xl(N,_,m),m&&x===null&&P&4&&kT(_),Xf(_,_.return);break;case 12:Xl(N,_,m);break;case 13:Xl(N,_,m),m&&P&4&&PT(N,_);break;case 22:_.memoizedState===null&&Xl(N,_,m),Xf(_,_.return);break;case 30:break;default:Xl(N,_,m)}u=u.sibling}}function bb(o,u){var m=null;o!==null&&o.memoizedState!==null&&o.memoizedState.cachePool!==null&&(m=o.memoizedState.cachePool.pool),o=null,u.memoizedState!==null&&u.memoizedState.cachePool!==null&&(o=u.memoizedState.cachePool.pool),o!==m&&(o!=null&&o.refCount++,m!=null&&Rf(m))}function wb(o,u){o=null,u.alternate!==null&&(o=u.alternate.memoizedState.cache),u=u.memoizedState.cache,u!==o&&(u.refCount++,o!=null&&Rf(o))}function Si(o,u,m,x){if(u.subtreeFlags&10256)for(u=u.child;u!==null;)IT(o,u,m,x),u=u.sibling}function IT(o,u,m,x){var N=u.flags;switch(u.tag){case 0:case 11:case 15:Si(o,u,m,x),N&2048&&Yf(9,u);break;case 1:Si(o,u,m,x);break;case 3:Si(o,u,m,x),N&2048&&(o=null,u.alternate!==null&&(o=u.alternate.memoizedState.cache),u=u.memoizedState.cache,u!==o&&(u.refCount++,o!=null&&Rf(o)));break;case 12:if(N&2048){Si(o,u,m,x),o=u.stateNode;try{var _=u.memoizedProps,P=_.id,H=_.onPostCommit;typeof H=="function"&&H(P,u.alternate===null?"mount":"update",o.passiveEffectDuration,-0)}catch(ae){mr(u,u.return,ae)}}else Si(o,u,m,x);break;case 13:Si(o,u,m,x);break;case 23:break;case 22:_=u.stateNode,P=u.alternate,u.memoizedState!==null?_._visibility&2?Si(o,u,m,x):Qf(o,u):_._visibility&2?Si(o,u,m,x):(_._visibility|=2,$u(o,u,m,x,(u.subtreeFlags&10256)!==0)),N&2048&&bb(P,u);break;case 24:Si(o,u,m,x),N&2048&&wb(u.alternate,u);break;default:Si(o,u,m,x)}}function $u(o,u,m,x,N){for(N=N&&(u.subtreeFlags&10256)!==0,u=u.child;u!==null;){var _=o,P=u,H=m,ae=x,we=P.flags;switch(P.tag){case 0:case 11:case 15:$u(_,P,H,ae,N),Yf(8,P);break;case 23:break;case 22:var Oe=P.stateNode;P.memoizedState!==null?Oe._visibility&2?$u(_,P,H,ae,N):Qf(_,P):(Oe._visibility|=2,$u(_,P,H,ae,N)),N&&we&2048&&bb(P.alternate,P);break;case 24:$u(_,P,H,ae,N),N&&we&2048&&wb(P.alternate,P);break;default:$u(_,P,H,ae,N)}u=u.sibling}}function Qf(o,u){if(u.subtreeFlags&10256)for(u=u.child;u!==null;){var m=o,x=u,N=x.flags;switch(x.tag){case 22:Qf(m,x),N&2048&&bb(x.alternate,x);break;case 24:Qf(m,x),N&2048&&wb(x.alternate,x);break;default:Qf(m,x)}u=u.sibling}}var Zf=8192;function Uu(o){if(o.subtreeFlags&Zf)for(o=o.child;o!==null;)FT(o),o=o.sibling}function FT(o){switch(o.tag){case 26:Uu(o),o.flags&Zf&&o.memoizedState!==null&&HH(ei,o.memoizedState,o.memoizedProps);break;case 5:Uu(o);break;case 3:case 4:var u=ei;ei=Sg(o.stateNode.containerInfo),Uu(o),ei=u;break;case 22:o.memoizedState===null&&(u=o.alternate,u!==null&&u.memoizedState!==null?(u=Zf,Zf=16777216,Uu(o),Zf=u):Uu(o));break;default:Uu(o)}}function LT(o){var u=o.alternate;if(u!==null&&(o=u.child,o!==null)){u.child=null;do u=o.sibling,o.sibling=null,o=u;while(o!==null)}}function Jf(o){var u=o.deletions;if((o.flags&16)!==0){if(u!==null)for(var m=0;m<u.length;m++){var x=u[m];vn=x,$T(x,o)}LT(o)}if(o.subtreeFlags&10256)for(o=o.child;o!==null;)BT(o),o=o.sibling}function BT(o){switch(o.tag){case 0:case 11:case 15:Jf(o),o.flags&2048&&Kl(9,o,o.return);break;case 3:Jf(o);break;case 12:Jf(o);break;case 22:var u=o.stateNode;o.memoizedState!==null&&u._visibility&2&&(o.return===null||o.return.tag!==13)?(u._visibility&=-3,fg(o)):Jf(o);break;default:Jf(o)}}function fg(o){var u=o.deletions;if((o.flags&16)!==0){if(u!==null)for(var m=0;m<u.length;m++){var x=u[m];vn=x,$T(x,o)}LT(o)}for(o=o.child;o!==null;){switch(u=o,u.tag){case 0:case 11:case 15:Kl(8,u,u.return),fg(u);break;case 22:m=u.stateNode,m._visibility&2&&(m._visibility&=-3,fg(u));break;default:fg(u)}o=o.sibling}}function $T(o,u){for(;vn!==null;){var m=vn;switch(m.tag){case 0:case 11:case 15:Kl(8,m,u);break;case 23:case 22:if(m.memoizedState!==null&&m.memoizedState.cachePool!==null){var x=m.memoizedState.cachePool.pool;x!=null&&x.refCount++}break;case 24:Rf(m.memoizedState.cache)}if(x=m.child,x!==null)x.return=m,vn=x;else e:for(m=o;vn!==null;){x=vn;var N=x.sibling,_=x.return;if(OT(x),x===m){vn=null;break e}if(N!==null){N.return=_,vn=N;break e}vn=_}}}var sH={getCacheForType:function(o){var u=Qn(dn),m=u.data.get(o);return m===void 0&&(m=o(),u.data.set(o,m)),m}},iH=typeof WeakMap=="function"?WeakMap:Map,Zt=0,br=null,kt=null,Rt=0,Jt=0,Ga=null,Ql=!1,zu=!1,jb=!1,al=0,Ur=0,Zl=0,vc=0,Nb=0,Ss=0,Hu=0,e0=null,Oa=null,Sb=!1,_b=0,hg=1/0,mg=null,Jl=null,In=0,eo=null,Vu=null,qu=0,kb=0,Eb=null,UT=null,t0=0,Tb=null;function Ka(){if((Zt&2)!==0&&Rt!==0)return Rt&-Rt;if(Q.T!==null){var o=Du;return o!==0?o:Rb()}return Ll()}function zT(){Ss===0&&(Ss=(Rt&536870912)===0||Ht?re():536870912);var o=Ns.current;return o!==null&&(o.flags|=32),Ss}function Ya(o,u,m){(o===br&&(Jt===2||Jt===9)||o.cancelPendingCommit!==null)&&(Wu(o,0),to(o,Rt,Ss,!1)),ot(o,m),((Zt&2)===0||o!==br)&&(o===br&&((Zt&2)===0&&(vc|=m),Ur===4&&to(o,Rt,Ss,!1)),_i(o))}function HT(o,u,m){if((Zt&6)!==0)throw Error(n(327));var x=!m&&(u&124)===0&&(u&o.expiredLanes)===0||st(o,u),N=x?cH(o,u):Ob(o,u,!0),_=x;do{if(N===0){zu&&!x&&to(o,u,0,!1);break}else{if(m=o.current.alternate,_&&!lH(m)){N=Ob(o,u,!1),_=!1;continue}if(N===2){if(_=u,o.errorRecoveryDisabledLanes&_)var P=0;else P=o.pendingLanes&-536870913,P=P!==0?P:P&536870912?536870912:0;if(P!==0){u=P;e:{var H=o;N=e0;var ae=H.current.memoizedState.isDehydrated;if(ae&&(Wu(H,P).flags|=256),P=Ob(H,P,!1),P!==2){if(jb&&!ae){H.errorRecoveryDisabledLanes|=_,vc|=_,N=4;break e}_=Oa,Oa=N,_!==null&&(Oa===null?Oa=_:Oa.push.apply(Oa,_))}N=P}if(_=!1,N!==2)continue}}if(N===1){Wu(o,0),to(o,u,0,!0);break}e:{switch(x=o,_=N,_){case 0:case 1:throw Error(n(345));case 4:if((u&4194048)!==u)break;case 6:to(x,u,Ss,!Ql);break e;case 2:Oa=null;break;case 3:case 5:break;default:throw Error(n(329))}if((u&62914560)===u&&(N=_b+300-Ue(),10<N)){if(to(x,u,Ss,!Ql),ge(x,0,!0)!==0)break e;x.timeoutHandle=yA(VT.bind(null,x,m,Oa,mg,Sb,u,Ss,vc,Hu,Ql,_,2,-0,0),N);break e}VT(x,m,Oa,mg,Sb,u,Ss,vc,Hu,Ql,_,0,-0,0)}}break}while(!0);_i(o)}function VT(o,u,m,x,N,_,P,H,ae,we,Oe,Re,Ne,_e){if(o.timeoutHandle=-1,Re=u.subtreeFlags,(Re&8192||(Re&16785408)===16785408)&&(o0={stylesheets:null,count:0,unsuspend:zH},FT(u),Re=VH(),Re!==null)){o.cancelPendingCommit=Re(QT.bind(null,o,u,_,m,x,N,P,H,ae,Oe,1,Ne,_e)),to(o,_,P,!we);return}QT(o,u,_,m,x,N,P,H,ae)}function lH(o){for(var u=o;;){var m=u.tag;if((m===0||m===11||m===15)&&u.flags&16384&&(m=u.updateQueue,m!==null&&(m=m.stores,m!==null)))for(var x=0;x<m.length;x++){var N=m[x],_=N.getSnapshot;N=N.value;try{if(!Ha(_(),N))return!1}catch{return!1}}if(m=u.child,u.subtreeFlags&16384&&m!==null)m.return=u,u=m;else{if(u===o)break;for(;u.sibling===null;){if(u.return===null||u.return===o)return!0;u=u.return}u.sibling.return=u.return,u=u.sibling}}return!0}function to(o,u,m,x){u&=~Nb,u&=~vc,o.suspendedLanes|=u,o.pingedLanes&=~u,x&&(o.warmLanes|=u),x=o.expirationTimes;for(var N=u;0<N;){var _=31-dt(N),P=1<<_;x[_]=-1,N&=~P}m!==0&&Kr(o,m,u)}function gg(){return(Zt&6)===0?(r0(0),!1):!0}function Ab(){if(kt!==null){if(Jt===0)var o=kt.return;else o=kt,Xi=hc=null,Wv(o),Lu=null,Wf=0,o=kt;for(;o!==null;)NT(o.alternate,o),o=o.return;kt=null}}function Wu(o,u){var m=o.timeoutHandle;m!==-1&&(o.timeoutHandle=-1,_H(m)),m=o.cancelPendingCommit,m!==null&&(o.cancelPendingCommit=null,m()),Ab(),br=o,kt=m=Gi(o.current,null),Rt=u,Jt=0,Ga=null,Ql=!1,zu=st(o,u),jb=!1,Hu=Ss=Nb=vc=Zl=Ur=0,Oa=e0=null,Sb=!1,(u&8)!==0&&(u|=u&32);var x=o.entangledLanes;if(x!==0)for(o=o.entanglements,x&=u;0<x;){var N=31-dt(x),_=1<<N;u|=o[N],x&=~_}return al=u,Fm(),m}function qT(o,u){Nt=null,Q.H=rg,u===Ff||u===Wm?(u=oE(),Jt=3):u===sE?(u=oE(),Jt=4):Jt=u===cT?8:u!==null&&typeof u=="object"&&typeof u.then=="function"?6:1,Ga=u,kt===null&&(Ur=1,lg(o,vs(u,o.current)))}function WT(){var o=Q.H;return Q.H=rg,o===null?rg:o}function GT(){var o=Q.A;return Q.A=sH,o}function Cb(){Ur=4,Ql||(Rt&4194048)!==Rt&&Ns.current!==null||(zu=!0),(Zl&134217727)===0&&(vc&134217727)===0||br===null||to(br,Rt,Ss,!1)}function Ob(o,u,m){var x=Zt;Zt|=2;var N=WT(),_=GT();(br!==o||Rt!==u)&&(mg=null,Wu(o,u)),u=!1;var P=Ur;e:do try{if(Jt!==0&&kt!==null){var H=kt,ae=Ga;switch(Jt){case 8:Ab(),P=6;break e;case 3:case 2:case 9:case 6:Ns.current===null&&(u=!0);var we=Jt;if(Jt=0,Ga=null,Gu(o,H,ae,we),m&&zu){P=0;break e}break;default:we=Jt,Jt=0,Ga=null,Gu(o,H,ae,we)}}oH(),P=Ur;break}catch(Oe){qT(o,Oe)}while(!0);return u&&o.shellSuspendCounter++,Xi=hc=null,Zt=x,Q.H=N,Q.A=_,kt===null&&(br=null,Rt=0,Fm()),P}function oH(){for(;kt!==null;)KT(kt)}function cH(o,u){var m=Zt;Zt|=2;var x=WT(),N=GT();br!==o||Rt!==u?(mg=null,hg=Ue()+500,Wu(o,u)):zu=st(o,u);e:do try{if(Jt!==0&&kt!==null){u=kt;var _=Ga;t:switch(Jt){case 1:Jt=0,Ga=null,Gu(o,u,_,1);break;case 2:case 9:if(iE(_)){Jt=0,Ga=null,YT(u);break}u=function(){Jt!==2&&Jt!==9||br!==o||(Jt=7),_i(o)},_.then(u,u);break e;case 3:Jt=7;break e;case 4:Jt=5;break e;case 7:iE(_)?(Jt=0,Ga=null,YT(u)):(Jt=0,Ga=null,Gu(o,u,_,7));break;case 5:var P=null;switch(kt.tag){case 26:P=kt.memoizedState;case 5:case 27:var H=kt;if(!P||CA(P)){Jt=0,Ga=null;var ae=H.sibling;if(ae!==null)kt=ae;else{var we=H.return;we!==null?(kt=we,pg(we)):kt=null}break t}}Jt=0,Ga=null,Gu(o,u,_,5);break;case 6:Jt=0,Ga=null,Gu(o,u,_,6);break;case 8:Ab(),Ur=6;break e;default:throw Error(n(462))}}uH();break}catch(Oe){qT(o,Oe)}while(!0);return Xi=hc=null,Q.H=x,Q.A=N,Zt=m,kt!==null?0:(br=null,Rt=0,Fm(),Ur)}function uH(){for(;kt!==null&&!pt();)KT(kt)}function KT(o){var u=wT(o.alternate,o,al);o.memoizedProps=o.pendingProps,u===null?pg(o):kt=u}function YT(o){var u=o,m=u.alternate;switch(u.tag){case 15:case 0:u=gT(m,u,u.pendingProps,u.type,void 0,Rt);break;case 11:u=gT(m,u,u.pendingProps,u.type.render,u.ref,Rt);break;case 5:Wv(u);default:NT(m,u),u=kt=X4(u,al),u=wT(m,u,al)}o.memoizedProps=o.pendingProps,u===null?pg(o):kt=u}function Gu(o,u,m,x){Xi=hc=null,Wv(u),Lu=null,Wf=0;var N=u.return;try{if(Jz(o,N,u,m,Rt)){Ur=1,lg(o,vs(m,o.current)),kt=null;return}}catch(_){if(N!==null)throw kt=N,_;Ur=1,lg(o,vs(m,o.current)),kt=null;return}u.flags&32768?(Ht||x===1?o=!0:zu||(Rt&536870912)!==0?o=!1:(Ql=o=!0,(x===2||x===9||x===3||x===6)&&(x=Ns.current,x!==null&&x.tag===13&&(x.flags|=16384))),XT(u,o)):pg(u)}function pg(o){var u=o;do{if((u.flags&32768)!==0){XT(u,Ql);return}o=u.return;var m=tH(u.alternate,u,al);if(m!==null){kt=m;return}if(u=u.sibling,u!==null){kt=u;return}kt=u=o}while(u!==null);Ur===0&&(Ur=5)}function XT(o,u){do{var m=rH(o.alternate,o);if(m!==null){m.flags&=32767,kt=m;return}if(m=o.return,m!==null&&(m.flags|=32768,m.subtreeFlags=0,m.deletions=null),!u&&(o=o.sibling,o!==null)){kt=o;return}kt=o=m}while(o!==null);Ur=6,kt=null}function QT(o,u,m,x,N,_,P,H,ae){o.cancelPendingCommit=null;do xg();while(In!==0);if((Zt&6)!==0)throw Error(n(327));if(u!==null){if(u===o.current)throw Error(n(177));if(_=u.lanes|u.childLanes,_|=wv,ft(o,m,_,P,H,ae),o===br&&(kt=br=null,Rt=0),Vu=u,eo=o,qu=m,kb=_,Eb=N,UT=x,(u.subtreeFlags&10256)!==0||(u.flags&10256)!==0?(o.callbackNode=null,o.callbackPriority=0,mH(Wt,function(){return rA(),null})):(o.callbackNode=null,o.callbackPriority=0),x=(u.flags&13878)!==0,(u.subtreeFlags&13878)!==0||x){x=Q.T,Q.T=null,N=te.p,te.p=2,P=Zt,Zt|=4;try{nH(o,u,m)}finally{Zt=P,te.p=N,Q.T=x}}In=1,ZT(),JT(),eA()}}function ZT(){if(In===1){In=0;var o=eo,u=Vu,m=(u.flags&13878)!==0;if((u.subtreeFlags&13878)!==0||m){m=Q.T,Q.T=null;var x=te.p;te.p=2;var N=Zt;Zt|=4;try{MT(u,o);var _=Hb,P=$4(o.containerInfo),H=_.focusedElem,ae=_.selectionRange;if(P!==H&&H&&H.ownerDocument&&B4(H.ownerDocument.documentElement,H)){if(ae!==null&&pv(H)){var we=ae.start,Oe=ae.end;if(Oe===void 0&&(Oe=we),"selectionStart"in H)H.selectionStart=we,H.selectionEnd=Math.min(Oe,H.value.length);else{var Re=H.ownerDocument||document,Ne=Re&&Re.defaultView||window;if(Ne.getSelection){var _e=Ne.getSelection(),ht=H.textContent.length,ct=Math.min(ae.start,ht),cr=ae.end===void 0?ct:Math.min(ae.end,ht);!_e.extend&&ct>cr&&(P=cr,cr=ct,ct=P);var me=L4(H,ct),fe=L4(H,cr);if(me&&fe&&(_e.rangeCount!==1||_e.anchorNode!==me.node||_e.anchorOffset!==me.offset||_e.focusNode!==fe.node||_e.focusOffset!==fe.offset)){var ye=Re.createRange();ye.setStart(me.node,me.offset),_e.removeAllRanges(),ct>cr?(_e.addRange(ye),_e.extend(fe.node,fe.offset)):(ye.setEnd(fe.node,fe.offset),_e.addRange(ye))}}}}for(Re=[],_e=H;_e=_e.parentNode;)_e.nodeType===1&&Re.push({element:_e,left:_e.scrollLeft,top:_e.scrollTop});for(typeof H.focus=="function"&&H.focus(),H=0;H<Re.length;H++){var Pe=Re[H];Pe.element.scrollLeft=Pe.left,Pe.element.scrollTop=Pe.top}}Ag=!!zb,Hb=zb=null}finally{Zt=N,te.p=x,Q.T=m}}o.current=u,In=2}}function JT(){if(In===2){In=0;var o=eo,u=Vu,m=(u.flags&8772)!==0;if((u.subtreeFlags&8772)!==0||m){m=Q.T,Q.T=null;var x=te.p;te.p=2;var N=Zt;Zt|=4;try{CT(o,u.alternate,u)}finally{Zt=N,te.p=x,Q.T=m}}In=3}}function eA(){if(In===4||In===3){In=0,Xe();var o=eo,u=Vu,m=qu,x=UT;(u.subtreeFlags&10256)!==0||(u.flags&10256)!==0?In=5:(In=0,Vu=eo=null,tA(o,o.pendingLanes));var N=o.pendingLanes;if(N===0&&(Jl=null),Xn(m),u=u.stateNode,vt&&typeof vt.onCommitFiberRoot=="function")try{vt.onCommitFiberRoot(Pn,u,void 0,(u.current.flags&128)===128)}catch{}if(x!==null){u=Q.T,N=te.p,te.p=2,Q.T=null;try{for(var _=o.onRecoverableError,P=0;P<x.length;P++){var H=x[P];_(H.value,{componentStack:H.stack})}}finally{Q.T=u,te.p=N}}(qu&3)!==0&&xg(),_i(o),N=o.pendingLanes,(m&4194090)!==0&&(N&42)!==0?o===Tb?t0++:(t0=0,Tb=o):t0=0,r0(0)}}function tA(o,u){(o.pooledCacheLanes&=u)===0&&(u=o.pooledCache,u!=null&&(o.pooledCache=null,Rf(u)))}function xg(o){return ZT(),JT(),eA(),rA()}function rA(){if(In!==5)return!1;var o=eo,u=kb;kb=0;var m=Xn(qu),x=Q.T,N=te.p;try{te.p=32>m?32:m,Q.T=null,m=Eb,Eb=null;var _=eo,P=qu;if(In=0,Vu=eo=null,qu=0,(Zt&6)!==0)throw Error(n(331));var H=Zt;if(Zt|=4,BT(_.current),IT(_,_.current,P,m),Zt=H,r0(0,!1),vt&&typeof vt.onPostCommitFiberRoot=="function")try{vt.onPostCommitFiberRoot(Pn,_)}catch{}return!0}finally{te.p=N,Q.T=x,tA(o,u)}}function nA(o,u,m){u=vs(m,u),u=ib(o.stateNode,u,2),o=Vl(o,u,2),o!==null&&(ot(o,2),_i(o))}function mr(o,u,m){if(o.tag===3)nA(o,o,m);else for(;u!==null;){if(u.tag===3){nA(u,o,m);break}else if(u.tag===1){var x=u.stateNode;if(typeof u.type.getDerivedStateFromError=="function"||typeof x.componentDidCatch=="function"&&(Jl===null||!Jl.has(x))){o=vs(m,o),m=lT(2),x=Vl(u,m,2),x!==null&&(oT(m,x,u,o),ot(x,2),_i(x));break}}u=u.return}}function Db(o,u,m){var x=o.pingCache;if(x===null){x=o.pingCache=new iH;var N=new Set;x.set(u,N)}else N=x.get(u),N===void 0&&(N=new Set,x.set(u,N));N.has(m)||(jb=!0,N.add(m),o=dH.bind(null,o,u,m),u.then(o,o))}function dH(o,u,m){var x=o.pingCache;x!==null&&x.delete(u),o.pingedLanes|=o.suspendedLanes&m,o.warmLanes&=~m,br===o&&(Rt&m)===m&&(Ur===4||Ur===3&&(Rt&62914560)===Rt&&300>Ue()-_b?(Zt&2)===0&&Wu(o,0):Nb|=m,Hu===Rt&&(Hu=0)),_i(o)}function aA(o,u){u===0&&(u=Ce()),o=Tu(o,u),o!==null&&(ot(o,u),_i(o))}function fH(o){var u=o.memoizedState,m=0;u!==null&&(m=u.retryLane),aA(o,m)}function hH(o,u){var m=0;switch(o.tag){case 13:var x=o.stateNode,N=o.memoizedState;N!==null&&(m=N.retryLane);break;case 19:x=o.stateNode;break;case 22:x=o.stateNode._retryCache;break;default:throw Error(n(314))}x!==null&&x.delete(u),aA(o,m)}function mH(o,u){return xe(o,u)}var yg=null,Ku=null,Pb=!1,vg=!1,Mb=!1,bc=0;function _i(o){o!==Ku&&o.next===null&&(Ku===null?yg=Ku=o:Ku=Ku.next=o),vg=!0,Pb||(Pb=!0,pH())}function r0(o,u){if(!Mb&&vg){Mb=!0;do for(var m=!1,x=yg;x!==null;){if(o!==0){var N=x.pendingLanes;if(N===0)var _=0;else{var P=x.suspendedLanes,H=x.pingedLanes;_=(1<<31-dt(42|o)+1)-1,_&=N&~(P&~H),_=_&201326741?_&201326741|1:_?_|2:0}_!==0&&(m=!0,oA(x,_))}else _=Rt,_=ge(x,x===br?_:0,x.cancelPendingCommit!==null||x.timeoutHandle!==-1),(_&3)===0||st(x,_)||(m=!0,oA(x,_));x=x.next}while(m);Mb=!1}}function gH(){sA()}function sA(){vg=Pb=!1;var o=0;bc!==0&&(SH()&&(o=bc),bc=0);for(var u=Ue(),m=null,x=yg;x!==null;){var N=x.next,_=iA(x,u);_===0?(x.next=null,m===null?yg=N:m.next=N,N===null&&(Ku=m)):(m=x,(o!==0||(_&3)!==0)&&(vg=!0)),x=N}r0(o)}function iA(o,u){for(var m=o.suspendedLanes,x=o.pingedLanes,N=o.expirationTimes,_=o.pendingLanes&-62914561;0<_;){var P=31-dt(_),H=1<<P,ae=N[P];ae===-1?((H&m)===0||(H&x)!==0)&&(N[P]=Pt(H,u)):ae<=u&&(o.expiredLanes|=H),_&=~H}if(u=br,m=Rt,m=ge(o,o===u?m:0,o.cancelPendingCommit!==null||o.timeoutHandle!==-1),x=o.callbackNode,m===0||o===u&&(Jt===2||Jt===9)||o.cancelPendingCommit!==null)return x!==null&&x!==null&&$e(x),o.callbackNode=null,o.callbackPriority=0;if((m&3)===0||st(o,m)){if(u=m&-m,u===o.callbackPriority)return u;switch(x!==null&&$e(x),Xn(m)){case 2:case 8:m=bt;break;case 32:m=Wt;break;case 268435456:m=Gr;break;default:m=Wt}return x=lA.bind(null,o),m=xe(m,x),o.callbackPriority=u,o.callbackNode=m,u}return x!==null&&x!==null&&$e(x),o.callbackPriority=2,o.callbackNode=null,2}function lA(o,u){if(In!==0&&In!==5)return o.callbackNode=null,o.callbackPriority=0,null;var m=o.callbackNode;if(xg()&&o.callbackNode!==m)return null;var x=Rt;return x=ge(o,o===br?x:0,o.cancelPendingCommit!==null||o.timeoutHandle!==-1),x===0?null:(HT(o,x,u),iA(o,Ue()),o.callbackNode!=null&&o.callbackNode===m?lA.bind(null,o):null)}function oA(o,u){if(xg())return null;HT(o,u,!0)}function pH(){kH(function(){(Zt&6)!==0?xe(Xt,gH):sA()})}function Rb(){return bc===0&&(bc=re()),bc}function cA(o){return o==null||typeof o=="symbol"||typeof o=="boolean"?null:typeof o=="function"?o:rc(""+o)}function uA(o,u){var m=u.ownerDocument.createElement("input");return m.name=u.name,m.value=u.value,o.id&&m.setAttribute("form",o.id),u.parentNode.insertBefore(m,u),o=new FormData(o),m.parentNode.removeChild(m),o}function xH(o,u,m,x,N){if(u==="submit"&&m&&m.stateNode===N){var _=cA((N[Gt]||null).action),P=x.submitter;P&&(u=(u=P[Gt]||null)?cA(u.formAction):P.getAttribute("formAction"),u!==null&&(_=u,P=null));var H=new Mm("action","action",null,x,N);o.push({event:H,listeners:[{instance:null,listener:function(){if(x.defaultPrevented){if(bc!==0){var ae=P?uA(N,P):new FormData(N);tb(m,{pending:!0,data:ae,method:N.method,action:_},null,ae)}}else typeof _=="function"&&(H.preventDefault(),ae=P?uA(N,P):new FormData(N),tb(m,{pending:!0,data:ae,method:N.method,action:_},_,ae))},currentTarget:N}]})}}for(var Ib=0;Ib<bv.length;Ib++){var Fb=bv[Ib],yH=Fb.toLowerCase(),vH=Fb[0].toUpperCase()+Fb.slice(1);Js(yH,"on"+vH)}Js(H4,"onAnimationEnd"),Js(V4,"onAnimationIteration"),Js(q4,"onAnimationStart"),Js("dblclick","onDoubleClick"),Js("focusin","onFocus"),Js("focusout","onBlur"),Js(Iz,"onTransitionRun"),Js(Fz,"onTransitionStart"),Js(Lz,"onTransitionCancel"),Js(W4,"onTransitionEnd"),Be("onMouseEnter",["mouseout","mouseover"]),Be("onMouseLeave",["mouseout","mouseover"]),Be("onPointerEnter",["pointerout","pointerover"]),Be("onPointerLeave",["pointerout","pointerover"]),Fe("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),Fe("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),Fe("onBeforeInput",["compositionend","keypress","textInput","paste"]),Fe("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),Fe("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),Fe("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var n0="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),bH=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(n0));function dA(o,u){u=(u&4)!==0;for(var m=0;m<o.length;m++){var x=o[m],N=x.event;x=x.listeners;e:{var _=void 0;if(u)for(var P=x.length-1;0<=P;P--){var H=x[P],ae=H.instance,we=H.currentTarget;if(H=H.listener,ae!==_&&N.isPropagationStopped())break e;_=H,N.currentTarget=we;try{_(N)}catch(Oe){ig(Oe)}N.currentTarget=null,_=ae}else for(P=0;P<x.length;P++){if(H=x[P],ae=H.instance,we=H.currentTarget,H=H.listener,ae!==_&&N.isPropagationStopped())break e;_=H,N.currentTarget=we;try{_(N)}catch(Oe){ig(Oe)}N.currentTarget=null,_=ae}}}}function Et(o,u){var m=u[yt];m===void 0&&(m=u[yt]=new Set);var x=o+"__bubble";m.has(x)||(fA(u,o,2,!1),m.add(x))}function Lb(o,u,m){var x=0;u&&(x|=4),fA(m,o,x,u)}var bg="_reactListening"+Math.random().toString(36).slice(2);function Bb(o){if(!o[bg]){o[bg]=!0,je.forEach(function(m){m!=="selectionchange"&&(bH.has(m)||Lb(m,!1,o),Lb(m,!0,o))});var u=o.nodeType===9?o:o.ownerDocument;u===null||u[bg]||(u[bg]=!0,Lb("selectionchange",!1,u))}}function fA(o,u,m,x){switch(IA(u)){case 2:var N=GH;break;case 8:N=KH;break;default:N=Jb}m=N.bind(null,u,m,o),N=void 0,!He||u!=="touchstart"&&u!=="touchmove"&&u!=="wheel"||(N=!0),x?N!==void 0?o.addEventListener(u,m,{capture:!0,passive:N}):o.addEventListener(u,m,!0):N!==void 0?o.addEventListener(u,m,{passive:N}):o.addEventListener(u,m,!1)}function $b(o,u,m,x,N){var _=x;if((u&1)===0&&(u&2)===0&&x!==null)e:for(;;){if(x===null)return;var P=x.tag;if(P===3||P===4){var H=x.stateNode.containerInfo;if(H===N)break;if(P===4)for(P=x.return;P!==null;){var ae=P.tag;if((ae===3||ae===4)&&P.stateNode.containerInfo===N)return;P=P.return}for(;H!==null;){if(P=J(H),P===null)return;if(ae=P.tag,ae===5||ae===6||ae===26||ae===27){x=_=P;continue e}H=H.parentNode}}x=x.return}Zs(function(){var we=_,Oe=Nf(m),Re=[];e:{var Ne=G4.get(o);if(Ne!==void 0){var _e=Mm,ht=o;switch(o){case"keypress":if(ac(m)===0)break e;case"keydown":case"keyup":_e=mz;break;case"focusin":ht="focus",_e=dv;break;case"focusout":ht="blur",_e=dv;break;case"beforeblur":case"afterblur":_e=dv;break;case"click":if(m.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":_e=j4;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":_e=rz;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":_e=xz;break;case H4:case V4:case q4:_e=sz;break;case W4:_e=vz;break;case"scroll":case"scrollend":_e=ez;break;case"wheel":_e=wz;break;case"copy":case"cut":case"paste":_e=lz;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":_e=S4;break;case"toggle":case"beforetoggle":_e=Nz}var ct=(u&4)!==0,cr=!ct&&(o==="scroll"||o==="scrollend"),me=ct?Ne!==null?Ne+"Capture":null:Ne;ct=[];for(var fe=we,ye;fe!==null;){var Pe=fe;if(ye=Pe.stateNode,Pe=Pe.tag,Pe!==5&&Pe!==26&&Pe!==27||ye===null||me===null||(Pe=nc(fe,me),Pe!=null&&ct.push(a0(fe,Pe,ye))),cr)break;fe=fe.return}0<ct.length&&(Ne=new _e(Ne,ht,null,m,Oe),Re.push({event:Ne,listeners:ct}))}}if((u&7)===0){e:{if(Ne=o==="mouseover"||o==="pointerover",_e=o==="mouseout"||o==="pointerout",Ne&&m!==jf&&(ht=m.relatedTarget||m.fromElement)&&(J(ht)||ht[Na]))break e;if((_e||Ne)&&(Ne=Oe.window===Oe?Oe:(Ne=Oe.ownerDocument)?Ne.defaultView||Ne.parentWindow:window,_e?(ht=m.relatedTarget||m.toElement,_e=we,ht=ht?J(ht):null,ht!==null&&(cr=i(ht),ct=ht.tag,ht!==cr||ct!==5&&ct!==27&&ct!==6)&&(ht=null)):(_e=null,ht=we),_e!==ht)){if(ct=j4,Pe="onMouseLeave",me="onMouseEnter",fe="mouse",(o==="pointerout"||o==="pointerover")&&(ct=S4,Pe="onPointerLeave",me="onPointerEnter",fe="pointer"),cr=_e==null?Ne:be(_e),ye=ht==null?Ne:be(ht),Ne=new ct(Pe,fe+"leave",_e,m,Oe),Ne.target=cr,Ne.relatedTarget=ye,Pe=null,J(Oe)===we&&(ct=new ct(me,fe+"enter",ht,m,Oe),ct.target=ye,ct.relatedTarget=cr,Pe=ct),cr=Pe,_e&&ht)t:{for(ct=_e,me=ht,fe=0,ye=ct;ye;ye=Yu(ye))fe++;for(ye=0,Pe=me;Pe;Pe=Yu(Pe))ye++;for(;0<fe-ye;)ct=Yu(ct),fe--;for(;0<ye-fe;)me=Yu(me),ye--;for(;fe--;){if(ct===me||me!==null&&ct===me.alternate)break t;ct=Yu(ct),me=Yu(me)}ct=null}else ct=null;_e!==null&&hA(Re,Ne,_e,ct,!1),ht!==null&&cr!==null&&hA(Re,cr,ht,ct,!0)}}e:{if(Ne=we?be(we):window,_e=Ne.nodeName&&Ne.nodeName.toLowerCase(),_e==="select"||_e==="input"&&Ne.type==="file")var et=D4;else if(C4(Ne))if(P4)et=Pz;else{et=Oz;var St=Cz}else _e=Ne.nodeName,!_e||_e.toLowerCase()!=="input"||Ne.type!=="checkbox"&&Ne.type!=="radio"?we&&wf(we.elementType)&&(et=D4):et=Dz;if(et&&(et=et(o,we))){O4(Re,et,m,Oe);break e}St&&St(o,Ne,we),o==="focusout"&&we&&Ne.type==="number"&&we.memoizedProps.value!=null&&vf(Ne,"number",Ne.value)}switch(St=we?be(we):window,o){case"focusin":(C4(St)||St.contentEditable==="true")&&(_u=St,xv=we,Cf=null);break;case"focusout":Cf=xv=_u=null;break;case"mousedown":yv=!0;break;case"contextmenu":case"mouseup":case"dragend":yv=!1,U4(Re,m,Oe);break;case"selectionchange":if(Rz)break;case"keydown":case"keyup":U4(Re,m,Oe)}var it;if(hv)e:{switch(o){case"compositionstart":var ut="onCompositionStart";break e;case"compositionend":ut="onCompositionEnd";break e;case"compositionupdate":ut="onCompositionUpdate";break e}ut=void 0}else Su?T4(o,m)&&(ut="onCompositionEnd"):o==="keydown"&&m.keyCode===229&&(ut="onCompositionStart");ut&&(_4&&m.locale!=="ko"&&(Su||ut!=="onCompositionStart"?ut==="onCompositionEnd"&&Su&&(it=Mn()):(Ft=Oe,Mt="value"in Ft?Ft.value:Ft.textContent,Su=!0)),St=wg(we,ut),0<St.length&&(ut=new N4(ut,o,null,m,Oe),Re.push({event:ut,listeners:St}),it?ut.data=it:(it=A4(m),it!==null&&(ut.data=it)))),(it=_z?kz(o,m):Ez(o,m))&&(ut=wg(we,"onBeforeInput"),0<ut.length&&(St=new N4("onBeforeInput","beforeinput",null,m,Oe),Re.push({event:St,listeners:ut}),St.data=it)),xH(Re,o,we,m,Oe)}dA(Re,u)})}function a0(o,u,m){return{instance:o,listener:u,currentTarget:m}}function wg(o,u){for(var m=u+"Capture",x=[];o!==null;){var N=o,_=N.stateNode;if(N=N.tag,N!==5&&N!==26&&N!==27||_===null||(N=nc(o,m),N!=null&&x.unshift(a0(o,N,_)),N=nc(o,u),N!=null&&x.push(a0(o,N,_))),o.tag===3)return x;o=o.return}return[]}function Yu(o){if(o===null)return null;do o=o.return;while(o&&o.tag!==5&&o.tag!==27);return o||null}function hA(o,u,m,x,N){for(var _=u._reactName,P=[];m!==null&&m!==x;){var H=m,ae=H.alternate,we=H.stateNode;if(H=H.tag,ae!==null&&ae===x)break;H!==5&&H!==26&&H!==27||we===null||(ae=we,N?(we=nc(m,_),we!=null&&P.unshift(a0(m,we,ae))):N||(we=nc(m,_),we!=null&&P.push(a0(m,we,ae)))),m=m.return}P.length!==0&&o.push({event:u,listeners:P})}var wH=/\r\n?/g,jH=/\u0000|\uFFFD/g;function mA(o){return(typeof o=="string"?o:""+o).replace(wH,`
`).replace(jH,"")}function gA(o,u){return u=mA(u),mA(o)===u}function jg(){}function or(o,u,m,x,N,_){switch(m){case"children":typeof x=="string"?u==="body"||u==="textarea"&&x===""||Vi(o,x):(typeof x=="number"||typeof x=="bigint")&&u!=="body"&&Vi(o,""+x);break;case"className":Qt(o,"class",x);break;case"tabIndex":Qt(o,"tabindex",x);break;case"dir":case"role":case"viewBox":case"width":case"height":Qt(o,m,x);break;case"style":Dm(o,x,_);break;case"data":if(u!=="object"){Qt(o,"data",x);break}case"src":case"href":if(x===""&&(u!=="a"||m!=="href")){o.removeAttribute(m);break}if(x==null||typeof x=="function"||typeof x=="symbol"||typeof x=="boolean"){o.removeAttribute(m);break}x=rc(""+x),o.setAttribute(m,x);break;case"action":case"formAction":if(typeof x=="function"){o.setAttribute(m,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof _=="function"&&(m==="formAction"?(u!=="input"&&or(o,u,"name",N.name,N,null),or(o,u,"formEncType",N.formEncType,N,null),or(o,u,"formMethod",N.formMethod,N,null),or(o,u,"formTarget",N.formTarget,N,null)):(or(o,u,"encType",N.encType,N,null),or(o,u,"method",N.method,N,null),or(o,u,"target",N.target,N,null)));if(x==null||typeof x=="symbol"||typeof x=="boolean"){o.removeAttribute(m);break}x=rc(""+x),o.setAttribute(m,x);break;case"onClick":x!=null&&(o.onclick=jg);break;case"onScroll":x!=null&&Et("scroll",o);break;case"onScrollEnd":x!=null&&Et("scrollend",o);break;case"dangerouslySetInnerHTML":if(x!=null){if(typeof x!="object"||!("__html"in x))throw Error(n(61));if(m=x.__html,m!=null){if(N.children!=null)throw Error(n(60));o.innerHTML=m}}break;case"multiple":o.multiple=x&&typeof x!="function"&&typeof x!="symbol";break;case"muted":o.muted=x&&typeof x!="function"&&typeof x!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(x==null||typeof x=="function"||typeof x=="boolean"||typeof x=="symbol"){o.removeAttribute("xlink:href");break}m=rc(""+x),o.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",m);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":x!=null&&typeof x!="function"&&typeof x!="symbol"?o.setAttribute(m,""+x):o.removeAttribute(m);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":x&&typeof x!="function"&&typeof x!="symbol"?o.setAttribute(m,""):o.removeAttribute(m);break;case"capture":case"download":x===!0?o.setAttribute(m,""):x!==!1&&x!=null&&typeof x!="function"&&typeof x!="symbol"?o.setAttribute(m,x):o.removeAttribute(m);break;case"cols":case"rows":case"size":case"span":x!=null&&typeof x!="function"&&typeof x!="symbol"&&!isNaN(x)&&1<=x?o.setAttribute(m,x):o.removeAttribute(m);break;case"rowSpan":case"start":x==null||typeof x=="function"||typeof x=="symbol"||isNaN(x)?o.removeAttribute(m):o.setAttribute(m,x);break;case"popover":Et("beforetoggle",o),Et("toggle",o),Ot(o,"popover",x);break;case"xlinkActuate":ir(o,"http://www.w3.org/1999/xlink","xlink:actuate",x);break;case"xlinkArcrole":ir(o,"http://www.w3.org/1999/xlink","xlink:arcrole",x);break;case"xlinkRole":ir(o,"http://www.w3.org/1999/xlink","xlink:role",x);break;case"xlinkShow":ir(o,"http://www.w3.org/1999/xlink","xlink:show",x);break;case"xlinkTitle":ir(o,"http://www.w3.org/1999/xlink","xlink:title",x);break;case"xlinkType":ir(o,"http://www.w3.org/1999/xlink","xlink:type",x);break;case"xmlBase":ir(o,"http://www.w3.org/XML/1998/namespace","xml:base",x);break;case"xmlLang":ir(o,"http://www.w3.org/XML/1998/namespace","xml:lang",x);break;case"xmlSpace":ir(o,"http://www.w3.org/XML/1998/namespace","xml:space",x);break;case"is":Ot(o,"is",x);break;case"innerText":case"textContent":break;default:(!(2<m.length)||m[0]!=="o"&&m[0]!=="O"||m[1]!=="n"&&m[1]!=="N")&&(m=ov.get(m)||m,Ot(o,m,x))}}function Ub(o,u,m,x,N,_){switch(m){case"style":Dm(o,x,_);break;case"dangerouslySetInnerHTML":if(x!=null){if(typeof x!="object"||!("__html"in x))throw Error(n(61));if(m=x.__html,m!=null){if(N.children!=null)throw Error(n(60));o.innerHTML=m}}break;case"children":typeof x=="string"?Vi(o,x):(typeof x=="number"||typeof x=="bigint")&&Vi(o,""+x);break;case"onScroll":x!=null&&Et("scroll",o);break;case"onScrollEnd":x!=null&&Et("scrollend",o);break;case"onClick":x!=null&&(o.onclick=jg);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!Se.hasOwnProperty(m))e:{if(m[0]==="o"&&m[1]==="n"&&(N=m.endsWith("Capture"),u=m.slice(2,N?m.length-7:void 0),_=o[Gt]||null,_=_!=null?_[m]:null,typeof _=="function"&&o.removeEventListener(u,_,N),typeof x=="function")){typeof _!="function"&&_!==null&&(m in o?o[m]=null:o.hasAttribute(m)&&o.removeAttribute(m)),o.addEventListener(u,x,N);break e}m in o?o[m]=x:x===!0?o.setAttribute(m,""):Ot(o,m,x)}}}function Fn(o,u,m){switch(u){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":Et("error",o),Et("load",o);var x=!1,N=!1,_;for(_ in m)if(m.hasOwnProperty(_)){var P=m[_];if(P!=null)switch(_){case"src":x=!0;break;case"srcSet":N=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(n(137,u));default:or(o,u,_,P,m,null)}}N&&or(o,u,"srcSet",m.srcSet,m,null),x&&or(o,u,"src",m.src,m,null);return;case"input":Et("invalid",o);var H=_=P=N=null,ae=null,we=null;for(x in m)if(m.hasOwnProperty(x)){var Oe=m[x];if(Oe!=null)switch(x){case"name":N=Oe;break;case"type":P=Oe;break;case"checked":ae=Oe;break;case"defaultChecked":we=Oe;break;case"value":_=Oe;break;case"defaultValue":H=Oe;break;case"children":case"dangerouslySetInnerHTML":if(Oe!=null)throw Error(n(137,u));break;default:or(o,u,x,Oe,m,null)}}Am(o,_,H,ae,we,P,N,!1),ec(o);return;case"select":Et("invalid",o),x=P=_=null;for(N in m)if(m.hasOwnProperty(N)&&(H=m[N],H!=null))switch(N){case"value":_=H;break;case"defaultValue":P=H;break;case"multiple":x=H;default:or(o,u,N,H,m,null)}u=_,m=P,o.multiple=!!x,u!=null?Bl(o,!!x,u,!1):m!=null&&Bl(o,!!x,m,!0);return;case"textarea":Et("invalid",o),_=N=x=null;for(P in m)if(m.hasOwnProperty(P)&&(H=m[P],H!=null))switch(P){case"value":x=H;break;case"defaultValue":N=H;break;case"children":_=H;break;case"dangerouslySetInnerHTML":if(H!=null)throw Error(n(91));break;default:or(o,u,P,H,m,null)}tc(o,x,N,_),ec(o);return;case"option":for(ae in m)if(m.hasOwnProperty(ae)&&(x=m[ae],x!=null))switch(ae){case"selected":o.selected=x&&typeof x!="function"&&typeof x!="symbol";break;default:or(o,u,ae,x,m,null)}return;case"dialog":Et("beforetoggle",o),Et("toggle",o),Et("cancel",o),Et("close",o);break;case"iframe":case"object":Et("load",o);break;case"video":case"audio":for(x=0;x<n0.length;x++)Et(n0[x],o);break;case"image":Et("error",o),Et("load",o);break;case"details":Et("toggle",o);break;case"embed":case"source":case"link":Et("error",o),Et("load",o);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(we in m)if(m.hasOwnProperty(we)&&(x=m[we],x!=null))switch(we){case"children":case"dangerouslySetInnerHTML":throw Error(n(137,u));default:or(o,u,we,x,m,null)}return;default:if(wf(u)){for(Oe in m)m.hasOwnProperty(Oe)&&(x=m[Oe],x!==void 0&&Ub(o,u,Oe,x,m,void 0));return}}for(H in m)m.hasOwnProperty(H)&&(x=m[H],x!=null&&or(o,u,H,x,m,null))}function NH(o,u,m,x){switch(u){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var N=null,_=null,P=null,H=null,ae=null,we=null,Oe=null;for(_e in m){var Re=m[_e];if(m.hasOwnProperty(_e)&&Re!=null)switch(_e){case"checked":break;case"value":break;case"defaultValue":ae=Re;default:x.hasOwnProperty(_e)||or(o,u,_e,null,x,Re)}}for(var Ne in x){var _e=x[Ne];if(Re=m[Ne],x.hasOwnProperty(Ne)&&(_e!=null||Re!=null))switch(Ne){case"type":_=_e;break;case"name":N=_e;break;case"checked":we=_e;break;case"defaultChecked":Oe=_e;break;case"value":P=_e;break;case"defaultValue":H=_e;break;case"children":case"dangerouslySetInnerHTML":if(_e!=null)throw Error(n(137,u));break;default:_e!==Re&&or(o,u,Ne,_e,x,Re)}}yf(o,P,H,ae,we,Oe,_,N);return;case"select":_e=P=H=Ne=null;for(_ in m)if(ae=m[_],m.hasOwnProperty(_)&&ae!=null)switch(_){case"value":break;case"multiple":_e=ae;default:x.hasOwnProperty(_)||or(o,u,_,null,x,ae)}for(N in x)if(_=x[N],ae=m[N],x.hasOwnProperty(N)&&(_!=null||ae!=null))switch(N){case"value":Ne=_;break;case"defaultValue":H=_;break;case"multiple":P=_;default:_!==ae&&or(o,u,N,_,x,ae)}u=H,m=P,x=_e,Ne!=null?Bl(o,!!m,Ne,!1):!!x!=!!m&&(u!=null?Bl(o,!!m,u,!0):Bl(o,!!m,m?[]:"",!1));return;case"textarea":_e=Ne=null;for(H in m)if(N=m[H],m.hasOwnProperty(H)&&N!=null&&!x.hasOwnProperty(H))switch(H){case"value":break;case"children":break;default:or(o,u,H,null,x,N)}for(P in x)if(N=x[P],_=m[P],x.hasOwnProperty(P)&&(N!=null||_!=null))switch(P){case"value":Ne=N;break;case"defaultValue":_e=N;break;case"children":break;case"dangerouslySetInnerHTML":if(N!=null)throw Error(n(91));break;default:N!==_&&or(o,u,P,N,x,_)}Cm(o,Ne,_e);return;case"option":for(var ht in m)if(Ne=m[ht],m.hasOwnProperty(ht)&&Ne!=null&&!x.hasOwnProperty(ht))switch(ht){case"selected":o.selected=!1;break;default:or(o,u,ht,null,x,Ne)}for(ae in x)if(Ne=x[ae],_e=m[ae],x.hasOwnProperty(ae)&&Ne!==_e&&(Ne!=null||_e!=null))switch(ae){case"selected":o.selected=Ne&&typeof Ne!="function"&&typeof Ne!="symbol";break;default:or(o,u,ae,Ne,x,_e)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var ct in m)Ne=m[ct],m.hasOwnProperty(ct)&&Ne!=null&&!x.hasOwnProperty(ct)&&or(o,u,ct,null,x,Ne);for(we in x)if(Ne=x[we],_e=m[we],x.hasOwnProperty(we)&&Ne!==_e&&(Ne!=null||_e!=null))switch(we){case"children":case"dangerouslySetInnerHTML":if(Ne!=null)throw Error(n(137,u));break;default:or(o,u,we,Ne,x,_e)}return;default:if(wf(u)){for(var cr in m)Ne=m[cr],m.hasOwnProperty(cr)&&Ne!==void 0&&!x.hasOwnProperty(cr)&&Ub(o,u,cr,void 0,x,Ne);for(Oe in x)Ne=x[Oe],_e=m[Oe],!x.hasOwnProperty(Oe)||Ne===_e||Ne===void 0&&_e===void 0||Ub(o,u,Oe,Ne,x,_e);return}}for(var me in m)Ne=m[me],m.hasOwnProperty(me)&&Ne!=null&&!x.hasOwnProperty(me)&&or(o,u,me,null,x,Ne);for(Re in x)Ne=x[Re],_e=m[Re],!x.hasOwnProperty(Re)||Ne===_e||Ne==null&&_e==null||or(o,u,Re,Ne,x,_e)}var zb=null,Hb=null;function Ng(o){return o.nodeType===9?o:o.ownerDocument}function pA(o){switch(o){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function xA(o,u){if(o===0)switch(u){case"svg":return 1;case"math":return 2;default:return 0}return o===1&&u==="foreignObject"?0:o}function Vb(o,u){return o==="textarea"||o==="noscript"||typeof u.children=="string"||typeof u.children=="number"||typeof u.children=="bigint"||typeof u.dangerouslySetInnerHTML=="object"&&u.dangerouslySetInnerHTML!==null&&u.dangerouslySetInnerHTML.__html!=null}var qb=null;function SH(){var o=window.event;return o&&o.type==="popstate"?o===qb?!1:(qb=o,!0):(qb=null,!1)}var yA=typeof setTimeout=="function"?setTimeout:void 0,_H=typeof clearTimeout=="function"?clearTimeout:void 0,vA=typeof Promise=="function"?Promise:void 0,kH=typeof queueMicrotask=="function"?queueMicrotask:typeof vA<"u"?function(o){return vA.resolve(null).then(o).catch(EH)}:yA;function EH(o){setTimeout(function(){throw o})}function ro(o){return o==="head"}function bA(o,u){var m=u,x=0,N=0;do{var _=m.nextSibling;if(o.removeChild(m),_&&_.nodeType===8)if(m=_.data,m==="/$"){if(0<x&&8>x){m=x;var P=o.ownerDocument;if(m&1&&s0(P.documentElement),m&2&&s0(P.body),m&4)for(m=P.head,s0(m),P=m.firstChild;P;){var H=P.nextSibling,ae=P.nodeName;P[K]||ae==="SCRIPT"||ae==="STYLE"||ae==="LINK"&&P.rel.toLowerCase()==="stylesheet"||m.removeChild(P),P=H}}if(N===0){o.removeChild(_),h0(u);return}N--}else m==="$"||m==="$?"||m==="$!"?N++:x=m.charCodeAt(0)-48;else x=0;m=_}while(m);h0(u)}function Wb(o){var u=o.firstChild;for(u&&u.nodeType===10&&(u=u.nextSibling);u;){var m=u;switch(u=u.nextSibling,m.nodeName){case"HTML":case"HEAD":case"BODY":Wb(m),X(m);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(m.rel.toLowerCase()==="stylesheet")continue}o.removeChild(m)}}function TH(o,u,m,x){for(;o.nodeType===1;){var N=m;if(o.nodeName.toLowerCase()!==u.toLowerCase()){if(!x&&(o.nodeName!=="INPUT"||o.type!=="hidden"))break}else if(x){if(!o[K])switch(u){case"meta":if(!o.hasAttribute("itemprop"))break;return o;case"link":if(_=o.getAttribute("rel"),_==="stylesheet"&&o.hasAttribute("data-precedence"))break;if(_!==N.rel||o.getAttribute("href")!==(N.href==null||N.href===""?null:N.href)||o.getAttribute("crossorigin")!==(N.crossOrigin==null?null:N.crossOrigin)||o.getAttribute("title")!==(N.title==null?null:N.title))break;return o;case"style":if(o.hasAttribute("data-precedence"))break;return o;case"script":if(_=o.getAttribute("src"),(_!==(N.src==null?null:N.src)||o.getAttribute("type")!==(N.type==null?null:N.type)||o.getAttribute("crossorigin")!==(N.crossOrigin==null?null:N.crossOrigin))&&_&&o.hasAttribute("async")&&!o.hasAttribute("itemprop"))break;return o;default:return o}}else if(u==="input"&&o.type==="hidden"){var _=N.name==null?null:""+N.name;if(N.type==="hidden"&&o.getAttribute("name")===_)return o}else return o;if(o=ti(o.nextSibling),o===null)break}return null}function AH(o,u,m){if(u==="")return null;for(;o.nodeType!==3;)if((o.nodeType!==1||o.nodeName!=="INPUT"||o.type!=="hidden")&&!m||(o=ti(o.nextSibling),o===null))return null;return o}function Gb(o){return o.data==="$!"||o.data==="$?"&&o.ownerDocument.readyState==="complete"}function CH(o,u){var m=o.ownerDocument;if(o.data!=="$?"||m.readyState==="complete")u();else{var x=function(){u(),m.removeEventListener("DOMContentLoaded",x)};m.addEventListener("DOMContentLoaded",x),o._reactRetry=x}}function ti(o){for(;o!=null;o=o.nextSibling){var u=o.nodeType;if(u===1||u===3)break;if(u===8){if(u=o.data,u==="$"||u==="$!"||u==="$?"||u==="F!"||u==="F")break;if(u==="/$")return null}}return o}var Kb=null;function wA(o){o=o.previousSibling;for(var u=0;o;){if(o.nodeType===8){var m=o.data;if(m==="$"||m==="$!"||m==="$?"){if(u===0)return o;u--}else m==="/$"&&u++}o=o.previousSibling}return null}function jA(o,u,m){switch(u=Ng(m),o){case"html":if(o=u.documentElement,!o)throw Error(n(452));return o;case"head":if(o=u.head,!o)throw Error(n(453));return o;case"body":if(o=u.body,!o)throw Error(n(454));return o;default:throw Error(n(451))}}function s0(o){for(var u=o.attributes;u.length;)o.removeAttributeNode(u[0]);X(o)}var _s=new Map,NA=new Set;function Sg(o){return typeof o.getRootNode=="function"?o.getRootNode():o.nodeType===9?o:o.ownerDocument}var sl=te.d;te.d={f:OH,r:DH,D:PH,C:MH,L:RH,m:IH,X:LH,S:FH,M:BH};function OH(){var o=sl.f(),u=gg();return o||u}function DH(o){var u=ee(o);u!==null&&u.tag===5&&u.type==="form"?HE(u):sl.r(o)}var Xu=typeof document>"u"?null:document;function SA(o,u,m){var x=Xu;if(x&&typeof u=="string"&&u){var N=Ea(u);N='link[rel="'+o+'"][href="'+N+'"]',typeof m=="string"&&(N+='[crossorigin="'+m+'"]'),NA.has(N)||(NA.add(N),o={rel:o,crossOrigin:m,href:u},x.querySelector(N)===null&&(u=x.createElement("link"),Fn(u,"link",o),ce(u),x.head.appendChild(u)))}}function PH(o){sl.D(o),SA("dns-prefetch",o,null)}function MH(o,u){sl.C(o,u),SA("preconnect",o,u)}function RH(o,u,m){sl.L(o,u,m);var x=Xu;if(x&&o&&u){var N='link[rel="preload"][as="'+Ea(u)+'"]';u==="image"&&m&&m.imageSrcSet?(N+='[imagesrcset="'+Ea(m.imageSrcSet)+'"]',typeof m.imageSizes=="string"&&(N+='[imagesizes="'+Ea(m.imageSizes)+'"]')):N+='[href="'+Ea(o)+'"]';var _=N;switch(u){case"style":_=Qu(o);break;case"script":_=Zu(o)}_s.has(_)||(o=h({rel:"preload",href:u==="image"&&m&&m.imageSrcSet?void 0:o,as:u},m),_s.set(_,o),x.querySelector(N)!==null||u==="style"&&x.querySelector(i0(_))||u==="script"&&x.querySelector(l0(_))||(u=x.createElement("link"),Fn(u,"link",o),ce(u),x.head.appendChild(u)))}}function IH(o,u){sl.m(o,u);var m=Xu;if(m&&o){var x=u&&typeof u.as=="string"?u.as:"script",N='link[rel="modulepreload"][as="'+Ea(x)+'"][href="'+Ea(o)+'"]',_=N;switch(x){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":_=Zu(o)}if(!_s.has(_)&&(o=h({rel:"modulepreload",href:o},u),_s.set(_,o),m.querySelector(N)===null)){switch(x){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(m.querySelector(l0(_)))return}x=m.createElement("link"),Fn(x,"link",o),ce(x),m.head.appendChild(x)}}}function FH(o,u,m){sl.S(o,u,m);var x=Xu;if(x&&o){var N=M(x).hoistableStyles,_=Qu(o);u=u||"default";var P=N.get(_);if(!P){var H={loading:0,preload:null};if(P=x.querySelector(i0(_)))H.loading=5;else{o=h({rel:"stylesheet",href:o,"data-precedence":u},m),(m=_s.get(_))&&Yb(o,m);var ae=P=x.createElement("link");ce(ae),Fn(ae,"link",o),ae._p=new Promise(function(we,Oe){ae.onload=we,ae.onerror=Oe}),ae.addEventListener("load",function(){H.loading|=1}),ae.addEventListener("error",function(){H.loading|=2}),H.loading|=4,_g(P,u,x)}P={type:"stylesheet",instance:P,count:1,state:H},N.set(_,P)}}}function LH(o,u){sl.X(o,u);var m=Xu;if(m&&o){var x=M(m).hoistableScripts,N=Zu(o),_=x.get(N);_||(_=m.querySelector(l0(N)),_||(o=h({src:o,async:!0},u),(u=_s.get(N))&&Xb(o,u),_=m.createElement("script"),ce(_),Fn(_,"link",o),m.head.appendChild(_)),_={type:"script",instance:_,count:1,state:null},x.set(N,_))}}function BH(o,u){sl.M(o,u);var m=Xu;if(m&&o){var x=M(m).hoistableScripts,N=Zu(o),_=x.get(N);_||(_=m.querySelector(l0(N)),_||(o=h({src:o,async:!0,type:"module"},u),(u=_s.get(N))&&Xb(o,u),_=m.createElement("script"),ce(_),Fn(_,"link",o),m.head.appendChild(_)),_={type:"script",instance:_,count:1,state:null},x.set(N,_))}}function _A(o,u,m,x){var N=(N=de.current)?Sg(N):null;if(!N)throw Error(n(446));switch(o){case"meta":case"title":return null;case"style":return typeof m.precedence=="string"&&typeof m.href=="string"?(u=Qu(m.href),m=M(N).hoistableStyles,x=m.get(u),x||(x={type:"style",instance:null,count:0,state:null},m.set(u,x)),x):{type:"void",instance:null,count:0,state:null};case"link":if(m.rel==="stylesheet"&&typeof m.href=="string"&&typeof m.precedence=="string"){o=Qu(m.href);var _=M(N).hoistableStyles,P=_.get(o);if(P||(N=N.ownerDocument||N,P={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},_.set(o,P),(_=N.querySelector(i0(o)))&&!_._p&&(P.instance=_,P.state.loading=5),_s.has(o)||(m={rel:"preload",as:"style",href:m.href,crossOrigin:m.crossOrigin,integrity:m.integrity,media:m.media,hrefLang:m.hrefLang,referrerPolicy:m.referrerPolicy},_s.set(o,m),_||$H(N,o,m,P.state))),u&&x===null)throw Error(n(528,""));return P}if(u&&x!==null)throw Error(n(529,""));return null;case"script":return u=m.async,m=m.src,typeof m=="string"&&u&&typeof u!="function"&&typeof u!="symbol"?(u=Zu(m),m=M(N).hoistableScripts,x=m.get(u),x||(x={type:"script",instance:null,count:0,state:null},m.set(u,x)),x):{type:"void",instance:null,count:0,state:null};default:throw Error(n(444,o))}}function Qu(o){return'href="'+Ea(o)+'"'}function i0(o){return'link[rel="stylesheet"]['+o+"]"}function kA(o){return h({},o,{"data-precedence":o.precedence,precedence:null})}function $H(o,u,m,x){o.querySelector('link[rel="preload"][as="style"]['+u+"]")?x.loading=1:(u=o.createElement("link"),x.preload=u,u.addEventListener("load",function(){return x.loading|=1}),u.addEventListener("error",function(){return x.loading|=2}),Fn(u,"link",m),ce(u),o.head.appendChild(u))}function Zu(o){return'[src="'+Ea(o)+'"]'}function l0(o){return"script[async]"+o}function EA(o,u,m){if(u.count++,u.instance===null)switch(u.type){case"style":var x=o.querySelector('style[data-href~="'+Ea(m.href)+'"]');if(x)return u.instance=x,ce(x),x;var N=h({},m,{"data-href":m.href,"data-precedence":m.precedence,href:null,precedence:null});return x=(o.ownerDocument||o).createElement("style"),ce(x),Fn(x,"style",N),_g(x,m.precedence,o),u.instance=x;case"stylesheet":N=Qu(m.href);var _=o.querySelector(i0(N));if(_)return u.state.loading|=4,u.instance=_,ce(_),_;x=kA(m),(N=_s.get(N))&&Yb(x,N),_=(o.ownerDocument||o).createElement("link"),ce(_);var P=_;return P._p=new Promise(function(H,ae){P.onload=H,P.onerror=ae}),Fn(_,"link",x),u.state.loading|=4,_g(_,m.precedence,o),u.instance=_;case"script":return _=Zu(m.src),(N=o.querySelector(l0(_)))?(u.instance=N,ce(N),N):(x=m,(N=_s.get(_))&&(x=h({},m),Xb(x,N)),o=o.ownerDocument||o,N=o.createElement("script"),ce(N),Fn(N,"link",x),o.head.appendChild(N),u.instance=N);case"void":return null;default:throw Error(n(443,u.type))}else u.type==="stylesheet"&&(u.state.loading&4)===0&&(x=u.instance,u.state.loading|=4,_g(x,m.precedence,o));return u.instance}function _g(o,u,m){for(var x=m.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),N=x.length?x[x.length-1]:null,_=N,P=0;P<x.length;P++){var H=x[P];if(H.dataset.precedence===u)_=H;else if(_!==N)break}_?_.parentNode.insertBefore(o,_.nextSibling):(u=m.nodeType===9?m.head:m,u.insertBefore(o,u.firstChild))}function Yb(o,u){o.crossOrigin==null&&(o.crossOrigin=u.crossOrigin),o.referrerPolicy==null&&(o.referrerPolicy=u.referrerPolicy),o.title==null&&(o.title=u.title)}function Xb(o,u){o.crossOrigin==null&&(o.crossOrigin=u.crossOrigin),o.referrerPolicy==null&&(o.referrerPolicy=u.referrerPolicy),o.integrity==null&&(o.integrity=u.integrity)}var kg=null;function TA(o,u,m){if(kg===null){var x=new Map,N=kg=new Map;N.set(m,x)}else N=kg,x=N.get(m),x||(x=new Map,N.set(m,x));if(x.has(o))return x;for(x.set(o,null),m=m.getElementsByTagName(o),N=0;N<m.length;N++){var _=m[N];if(!(_[K]||_[hr]||o==="link"&&_.getAttribute("rel")==="stylesheet")&&_.namespaceURI!=="http://www.w3.org/2000/svg"){var P=_.getAttribute(u)||"";P=o+P;var H=x.get(P);H?H.push(_):x.set(P,[_])}}return x}function AA(o,u,m){o=o.ownerDocument||o,o.head.insertBefore(m,u==="title"?o.querySelector("head > title"):null)}function UH(o,u,m){if(m===1||u.itemProp!=null)return!1;switch(o){case"meta":case"title":return!0;case"style":if(typeof u.precedence!="string"||typeof u.href!="string"||u.href==="")break;return!0;case"link":if(typeof u.rel!="string"||typeof u.href!="string"||u.href===""||u.onLoad||u.onError)break;switch(u.rel){case"stylesheet":return o=u.disabled,typeof u.precedence=="string"&&o==null;default:return!0}case"script":if(u.async&&typeof u.async!="function"&&typeof u.async!="symbol"&&!u.onLoad&&!u.onError&&u.src&&typeof u.src=="string")return!0}return!1}function CA(o){return!(o.type==="stylesheet"&&(o.state.loading&3)===0)}var o0=null;function zH(){}function HH(o,u,m){if(o0===null)throw Error(n(475));var x=o0;if(u.type==="stylesheet"&&(typeof m.media!="string"||matchMedia(m.media).matches!==!1)&&(u.state.loading&4)===0){if(u.instance===null){var N=Qu(m.href),_=o.querySelector(i0(N));if(_){o=_._p,o!==null&&typeof o=="object"&&typeof o.then=="function"&&(x.count++,x=Eg.bind(x),o.then(x,x)),u.state.loading|=4,u.instance=_,ce(_);return}_=o.ownerDocument||o,m=kA(m),(N=_s.get(N))&&Yb(m,N),_=_.createElement("link"),ce(_);var P=_;P._p=new Promise(function(H,ae){P.onload=H,P.onerror=ae}),Fn(_,"link",m),u.instance=_}x.stylesheets===null&&(x.stylesheets=new Map),x.stylesheets.set(u,o),(o=u.state.preload)&&(u.state.loading&3)===0&&(x.count++,u=Eg.bind(x),o.addEventListener("load",u),o.addEventListener("error",u))}}function VH(){if(o0===null)throw Error(n(475));var o=o0;return o.stylesheets&&o.count===0&&Qb(o,o.stylesheets),0<o.count?function(u){var m=setTimeout(function(){if(o.stylesheets&&Qb(o,o.stylesheets),o.unsuspend){var x=o.unsuspend;o.unsuspend=null,x()}},6e4);return o.unsuspend=u,function(){o.unsuspend=null,clearTimeout(m)}}:null}function Eg(){if(this.count--,this.count===0){if(this.stylesheets)Qb(this,this.stylesheets);else if(this.unsuspend){var o=this.unsuspend;this.unsuspend=null,o()}}}var Tg=null;function Qb(o,u){o.stylesheets=null,o.unsuspend!==null&&(o.count++,Tg=new Map,u.forEach(qH,o),Tg=null,Eg.call(o))}function qH(o,u){if(!(u.state.loading&4)){var m=Tg.get(o);if(m)var x=m.get(null);else{m=new Map,Tg.set(o,m);for(var N=o.querySelectorAll("link[data-precedence],style[data-precedence]"),_=0;_<N.length;_++){var P=N[_];(P.nodeName==="LINK"||P.getAttribute("media")!=="not all")&&(m.set(P.dataset.precedence,P),x=P)}x&&m.set(null,x)}N=u.instance,P=N.getAttribute("data-precedence"),_=m.get(P)||x,_===x&&m.set(null,N),m.set(P,N),this.count++,x=Eg.bind(this),N.addEventListener("load",x),N.addEventListener("error",x),_?_.parentNode.insertBefore(N,_.nextSibling):(o=o.nodeType===9?o.head:o,o.insertBefore(N,o.firstChild)),u.state.loading|=4}}var c0={$$typeof:E,Provider:null,Consumer:null,_currentValue:ue,_currentValue2:ue,_threadCount:0};function WH(o,u,m,x,N,_,P,H){this.tag=1,this.containerInfo=o,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=Te(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Te(0),this.hiddenUpdates=Te(null),this.identifierPrefix=x,this.onUncaughtError=N,this.onCaughtError=_,this.onRecoverableError=P,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=H,this.incompleteTransitions=new Map}function OA(o,u,m,x,N,_,P,H,ae,we,Oe,Re){return o=new WH(o,u,m,P,H,ae,we,Re),u=1,_===!0&&(u|=24),_=Va(3,null,null,u),o.current=_,_.stateNode=o,u=Dv(),u.refCount++,o.pooledCache=u,u.refCount++,_.memoizedState={element:x,isDehydrated:m,cache:u},Iv(_),o}function DA(o){return o?(o=Au,o):Au}function PA(o,u,m,x,N,_){N=DA(N),x.context===null?x.context=N:x.pendingContext=N,x=Hl(u),x.payload={element:m},_=_===void 0?null:_,_!==null&&(x.callback=_),m=Vl(o,x,u),m!==null&&(Ya(m,o,u),Bf(m,o,u))}function MA(o,u){if(o=o.memoizedState,o!==null&&o.dehydrated!==null){var m=o.retryLane;o.retryLane=m!==0&&m<u?m:u}}function Zb(o,u){MA(o,u),(o=o.alternate)&&MA(o,u)}function RA(o){if(o.tag===13){var u=Tu(o,67108864);u!==null&&Ya(u,o,67108864),Zb(o,67108864)}}var Ag=!0;function GH(o,u,m,x){var N=Q.T;Q.T=null;var _=te.p;try{te.p=2,Jb(o,u,m,x)}finally{te.p=_,Q.T=N}}function KH(o,u,m,x){var N=Q.T;Q.T=null;var _=te.p;try{te.p=8,Jb(o,u,m,x)}finally{te.p=_,Q.T=N}}function Jb(o,u,m,x){if(Ag){var N=e1(x);if(N===null)$b(o,u,x,Cg,m),FA(o,x);else if(XH(N,o,u,m,x))x.stopPropagation();else if(FA(o,x),u&4&&-1<YH.indexOf(o)){for(;N!==null;){var _=ee(N);if(_!==null)switch(_.tag){case 3:if(_=_.stateNode,_.current.memoizedState.isDehydrated){var P=_t(_.pendingLanes);if(P!==0){var H=_;for(H.pendingLanes|=2,H.entangledLanes|=2;P;){var ae=1<<31-dt(P);H.entanglements[1]|=ae,P&=~ae}_i(_),(Zt&6)===0&&(hg=Ue()+500,r0(0))}}break;case 13:H=Tu(_,2),H!==null&&Ya(H,_,2),gg(),Zb(_,2)}if(_=e1(x),_===null&&$b(o,u,x,Cg,m),_===N)break;N=_}N!==null&&x.stopPropagation()}else $b(o,u,x,null,m)}}function e1(o){return o=Nf(o),t1(o)}var Cg=null;function t1(o){if(Cg=null,o=J(o),o!==null){var u=i(o);if(u===null)o=null;else{var m=u.tag;if(m===13){if(o=l(u),o!==null)return o;o=null}else if(m===3){if(u.stateNode.current.memoizedState.isDehydrated)return u.tag===3?u.stateNode.containerInfo:null;o=null}else u!==o&&(o=null)}}return Cg=o,null}function IA(o){switch(o){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(At()){case Xt:return 2;case bt:return 8;case Wt:case Rr:return 32;case Gr:return 268435456;default:return 32}default:return 32}}var r1=!1,no=null,ao=null,so=null,u0=new Map,d0=new Map,io=[],YH="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function FA(o,u){switch(o){case"focusin":case"focusout":no=null;break;case"dragenter":case"dragleave":ao=null;break;case"mouseover":case"mouseout":so=null;break;case"pointerover":case"pointerout":u0.delete(u.pointerId);break;case"gotpointercapture":case"lostpointercapture":d0.delete(u.pointerId)}}function f0(o,u,m,x,N,_){return o===null||o.nativeEvent!==_?(o={blockedOn:u,domEventName:m,eventSystemFlags:x,nativeEvent:_,targetContainers:[N]},u!==null&&(u=ee(u),u!==null&&RA(u)),o):(o.eventSystemFlags|=x,u=o.targetContainers,N!==null&&u.indexOf(N)===-1&&u.push(N),o)}function XH(o,u,m,x,N){switch(u){case"focusin":return no=f0(no,o,u,m,x,N),!0;case"dragenter":return ao=f0(ao,o,u,m,x,N),!0;case"mouseover":return so=f0(so,o,u,m,x,N),!0;case"pointerover":var _=N.pointerId;return u0.set(_,f0(u0.get(_)||null,o,u,m,x,N)),!0;case"gotpointercapture":return _=N.pointerId,d0.set(_,f0(d0.get(_)||null,o,u,m,x,N)),!0}return!1}function LA(o){var u=J(o.target);if(u!==null){var m=i(u);if(m!==null){if(u=m.tag,u===13){if(u=l(m),u!==null){o.blockedOn=u,vi(o.priority,function(){if(m.tag===13){var x=Ka();x=la(x);var N=Tu(m,x);N!==null&&Ya(N,m,x),Zb(m,x)}});return}}else if(u===3&&m.stateNode.current.memoizedState.isDehydrated){o.blockedOn=m.tag===3?m.stateNode.containerInfo:null;return}}}o.blockedOn=null}function Og(o){if(o.blockedOn!==null)return!1;for(var u=o.targetContainers;0<u.length;){var m=e1(o.nativeEvent);if(m===null){m=o.nativeEvent;var x=new m.constructor(m.type,m);jf=x,m.target.dispatchEvent(x),jf=null}else return u=ee(m),u!==null&&RA(u),o.blockedOn=m,!1;u.shift()}return!0}function BA(o,u,m){Og(o)&&m.delete(u)}function QH(){r1=!1,no!==null&&Og(no)&&(no=null),ao!==null&&Og(ao)&&(ao=null),so!==null&&Og(so)&&(so=null),u0.forEach(BA),d0.forEach(BA)}function Dg(o,u){o.blockedOn===u&&(o.blockedOn=null,r1||(r1=!0,e.unstable_scheduleCallback(e.unstable_NormalPriority,QH)))}var Pg=null;function $A(o){Pg!==o&&(Pg=o,e.unstable_scheduleCallback(e.unstable_NormalPriority,function(){Pg===o&&(Pg=null);for(var u=0;u<o.length;u+=3){var m=o[u],x=o[u+1],N=o[u+2];if(typeof x!="function"){if(t1(x||m)===null)continue;break}var _=ee(m);_!==null&&(o.splice(u,3),u-=3,tb(_,{pending:!0,data:N,method:m.method,action:x},x,N))}}))}function h0(o){function u(ae){return Dg(ae,o)}no!==null&&Dg(no,o),ao!==null&&Dg(ao,o),so!==null&&Dg(so,o),u0.forEach(u),d0.forEach(u);for(var m=0;m<io.length;m++){var x=io[m];x.blockedOn===o&&(x.blockedOn=null)}for(;0<io.length&&(m=io[0],m.blockedOn===null);)LA(m),m.blockedOn===null&&io.shift();if(m=(o.ownerDocument||o).$$reactFormReplay,m!=null)for(x=0;x<m.length;x+=3){var N=m[x],_=m[x+1],P=N[Gt]||null;if(typeof _=="function")P||$A(m);else if(P){var H=null;if(_&&_.hasAttribute("formAction")){if(N=_,P=_[Gt]||null)H=P.formAction;else if(t1(N)!==null)continue}else H=P.action;typeof H=="function"?m[x+1]=H:(m.splice(x,3),x-=3),$A(m)}}}function n1(o){this._internalRoot=o}Mg.prototype.render=n1.prototype.render=function(o){var u=this._internalRoot;if(u===null)throw Error(n(409));var m=u.current,x=Ka();PA(m,x,o,u,null,null)},Mg.prototype.unmount=n1.prototype.unmount=function(){var o=this._internalRoot;if(o!==null){this._internalRoot=null;var u=o.containerInfo;PA(o.current,2,null,o,null,null),gg(),u[Na]=null}};function Mg(o){this._internalRoot=o}Mg.prototype.unstable_scheduleHydration=function(o){if(o){var u=Ll();o={blockedOn:null,target:o,priority:u};for(var m=0;m<io.length&&u!==0&&u<io[m].priority;m++);io.splice(m,0,o),m===0&&LA(o)}};var UA=t.version;if(UA!=="19.1.0")throw Error(n(527,UA,"19.1.0"));te.findDOMNode=function(o){var u=o._reactInternals;if(u===void 0)throw typeof o.render=="function"?Error(n(188)):(o=Object.keys(o).join(","),Error(n(268,o)));return o=d(u),o=o!==null?f(o):null,o=o===null?null:o.stateNode,o};var ZH={bundleType:0,version:"19.1.0",rendererPackageName:"react-dom",currentDispatcherRef:Q,reconcilerVersion:"19.1.0"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Rg=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Rg.isDisabled&&Rg.supportsFiber)try{Pn=Rg.inject(ZH),vt=Rg}catch{}}return g0.createRoot=function(o,u){if(!s(o))throw Error(n(299));var m=!1,x="",N=nT,_=aT,P=sT,H=null;return u!=null&&(u.unstable_strictMode===!0&&(m=!0),u.identifierPrefix!==void 0&&(x=u.identifierPrefix),u.onUncaughtError!==void 0&&(N=u.onUncaughtError),u.onCaughtError!==void 0&&(_=u.onCaughtError),u.onRecoverableError!==void 0&&(P=u.onRecoverableError),u.unstable_transitionCallbacks!==void 0&&(H=u.unstable_transitionCallbacks)),u=OA(o,1,!1,null,null,m,x,N,_,P,H,null),o[Na]=u.current,Bb(o),new n1(u)},g0.hydrateRoot=function(o,u,m){if(!s(o))throw Error(n(299));var x=!1,N="",_=nT,P=aT,H=sT,ae=null,we=null;return m!=null&&(m.unstable_strictMode===!0&&(x=!0),m.identifierPrefix!==void 0&&(N=m.identifierPrefix),m.onUncaughtError!==void 0&&(_=m.onUncaughtError),m.onCaughtError!==void 0&&(P=m.onCaughtError),m.onRecoverableError!==void 0&&(H=m.onRecoverableError),m.unstable_transitionCallbacks!==void 0&&(ae=m.unstable_transitionCallbacks),m.formState!==void 0&&(we=m.formState)),u=OA(o,1,!0,u,m??null,x,N,_,P,H,ae,we),u.context=DA(null),m=u.current,x=Ka(),x=la(x),N=Hl(x),N.callback=null,Vl(m,N,x),m=x,u.current.lanes=m,ot(u,m),_i(u),o[Na]=u.current,Bb(o),new Mg(u)},g0.version="19.1.0",g0}var ZA;function oV(){if(ZA)return i1.exports;ZA=1;function e(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(e)}catch(t){console.error(t)}}return e(),i1.exports=lV(),i1.exports}var cV=oV(),Xh=class{constructor(){this.listeners=new Set,this.subscribe=this.subscribe.bind(this)}subscribe(e){return this.listeners.add(e),this.onSubscribe(),()=>{this.listeners.delete(e),this.onUnsubscribe()}}hasListeners(){return this.listeners.size>0}onSubscribe(){}onUnsubscribe(){}},Zc=typeof window>"u"||"Deno"in globalThis;function Pa(){}function uV(e,t){return typeof e=="function"?e(t):e}function L2(e){return typeof e=="number"&&e>=0&&e!==1/0}function kM(e,t){return Math.max(e+(t||0)-Date.now(),0)}function No(e,t){return typeof e=="function"?e(t):e}function Fs(e,t){return typeof e=="function"?e(t):e}function JA(e,t){const{type:r="all",exact:n,fetchStatus:s,predicate:i,queryKey:l,stale:c}=e;if(l){if(n){if(t.queryHash!==DN(l,t.options))return!1}else if(!uh(t.queryKey,l))return!1}if(r!=="all"){const d=t.isActive();if(r==="active"&&!d||r==="inactive"&&d)return!1}return!(typeof c=="boolean"&&t.isStale()!==c||s&&s!==t.state.fetchStatus||i&&!i(t))}function eC(e,t){const{exact:r,status:n,predicate:s,mutationKey:i}=e;if(i){if(!t.options.mutationKey)return!1;if(r){if(ch(t.options.mutationKey)!==ch(i))return!1}else if(!uh(t.options.mutationKey,i))return!1}return!(n&&t.state.status!==n||s&&!s(t))}function DN(e,t){return(t?.queryKeyHashFn||ch)(e)}function ch(e){return JSON.stringify(e,(t,r)=>$2(r)?Object.keys(r).sort().reduce((n,s)=>(n[s]=r[s],n),{}):r)}function uh(e,t){return e===t?!0:typeof e!=typeof t?!1:e&&t&&typeof e=="object"&&typeof t=="object"?Object.keys(t).every(r=>uh(e[r],t[r])):!1}function EM(e,t){if(e===t)return e;const r=tC(e)&&tC(t);if(r||$2(e)&&$2(t)){const n=r?e:Object.keys(e),s=n.length,i=r?t:Object.keys(t),l=i.length,c=r?[]:{},d=new Set(n);let f=0;for(let h=0;h<l;h++){const g=r?h:i[h];(!r&&d.has(g)||r)&&e[g]===void 0&&t[g]===void 0?(c[g]=void 0,f++):(c[g]=EM(e[g],t[g]),c[g]===e[g]&&e[g]!==void 0&&f++)}return s===l&&f===s?e:c}return t}function B2(e,t){if(!t||Object.keys(e).length!==Object.keys(t).length)return!1;for(const r in e)if(e[r]!==t[r])return!1;return!0}function tC(e){return Array.isArray(e)&&e.length===Object.keys(e).length}function $2(e){if(!rC(e))return!1;const t=e.constructor;if(t===void 0)return!0;const r=t.prototype;return!(!rC(r)||!r.hasOwnProperty("isPrototypeOf")||Object.getPrototypeOf(e)!==Object.prototype)}function rC(e){return Object.prototype.toString.call(e)==="[object Object]"}function dV(e){return new Promise(t=>{setTimeout(t,e)})}function U2(e,t,r){return typeof r.structuralSharing=="function"?r.structuralSharing(e,t):r.structuralSharing!==!1?EM(e,t):t}function fV(e,t,r=0){const n=[...e,t];return r&&n.length>r?n.slice(1):n}function hV(e,t,r=0){const n=[t,...e];return r&&n.length>r?n.slice(0,-1):n}var PN=Symbol();function TM(e,t){return!e.queryFn&&t?.initialPromise?()=>t.initialPromise:!e.queryFn||e.queryFn===PN?()=>Promise.reject(new Error(`Missing queryFn: '${e.queryHash}'`)):e.queryFn}function mV(e,t){return typeof e=="function"?e(...t):!!e}var gV=class extends Xh{#t;#e;#r;constructor(){super(),this.#r=e=>{if(!Zc&&window.addEventListener){const t=()=>e();return window.addEventListener("visibilitychange",t,!1),()=>{window.removeEventListener("visibilitychange",t)}}}}onSubscribe(){this.#e||this.setEventListener(this.#r)}onUnsubscribe(){this.hasListeners()||(this.#e?.(),this.#e=void 0)}setEventListener(e){this.#r=e,this.#e?.(),this.#e=e(t=>{typeof t=="boolean"?this.setFocused(t):this.onFocus()})}setFocused(e){this.#t!==e&&(this.#t=e,this.onFocus())}onFocus(){const e=this.isFocused();this.listeners.forEach(t=>{t(e)})}isFocused(){return typeof this.#t=="boolean"?this.#t:globalThis.document?.visibilityState!=="hidden"}},MN=new gV,pV=class extends Xh{#t=!0;#e;#r;constructor(){super(),this.#r=e=>{if(!Zc&&window.addEventListener){const t=()=>e(!0),r=()=>e(!1);return window.addEventListener("online",t,!1),window.addEventListener("offline",r,!1),()=>{window.removeEventListener("online",t),window.removeEventListener("offline",r)}}}}onSubscribe(){this.#e||this.setEventListener(this.#r)}onUnsubscribe(){this.hasListeners()||(this.#e?.(),this.#e=void 0)}setEventListener(e){this.#r=e,this.#e?.(),this.#e=e(this.setOnline.bind(this))}setOnline(e){this.#t!==e&&(this.#t=e,this.listeners.forEach(r=>{r(e)}))}isOnline(){return this.#t}},Ep=new pV;function z2(){let e,t;const r=new Promise((s,i)=>{e=s,t=i});r.status="pending",r.catch(()=>{});function n(s){Object.assign(r,s),delete r.resolve,delete r.reject}return r.resolve=s=>{n({status:"fulfilled",value:s}),e(s)},r.reject=s=>{n({status:"rejected",reason:s}),t(s)},r}function xV(e){return Math.min(1e3*2**e,3e4)}function AM(e){return(e??"online")==="online"?Ep.isOnline():!0}var CM=class extends Error{constructor(e){super("CancelledError"),this.revert=e?.revert,this.silent=e?.silent}};function u1(e){return e instanceof CM}function OM(e){let t=!1,r=0,n=!1,s;const i=z2(),l=w=>{n||(p(new CM(w)),e.abort?.())},c=()=>{t=!0},d=()=>{t=!1},f=()=>MN.isFocused()&&(e.networkMode==="always"||Ep.isOnline())&&e.canRun(),h=()=>AM(e.networkMode)&&e.canRun(),g=w=>{n||(n=!0,e.onSuccess?.(w),s?.(),i.resolve(w))},p=w=>{n||(n=!0,e.onError?.(w),s?.(),i.reject(w))},y=()=>new Promise(w=>{s=j=>{(n||f())&&w(j)},e.onPause?.()}).then(()=>{s=void 0,n||e.onContinue?.()}),b=()=>{if(n)return;let w;const j=r===0?e.initialPromise:void 0;try{w=j??e.fn()}catch(S){w=Promise.reject(S)}Promise.resolve(w).then(g).catch(S=>{if(n)return;const k=e.retry??(Zc?0:3),E=e.retryDelay??xV,C=typeof E=="function"?E(r,S):E,T=k===!0||typeof k=="number"&&r<k||typeof k=="function"&&k(r,S);if(t||!T){p(S);return}r++,e.onFail?.(r,S),dV(C).then(()=>f()?void 0:y()).then(()=>{t?p(S):b()})})};return{promise:i,cancel:l,continue:()=>(s?.(),i),cancelRetry:c,continueRetry:d,canStart:h,start:()=>(h()?b():y().then(b),i)}}var yV=e=>setTimeout(e,0);function vV(){let e=[],t=0,r=c=>{c()},n=c=>{c()},s=yV;const i=c=>{t?e.push(c):s(()=>{r(c)})},l=()=>{const c=e;e=[],c.length&&s(()=>{n(()=>{c.forEach(d=>{r(d)})})})};return{batch:c=>{let d;t++;try{d=c()}finally{t--,t||l()}return d},batchCalls:c=>(...d)=>{i(()=>{c(...d)})},schedule:i,setNotifyFunction:c=>{r=c},setBatchNotifyFunction:c=>{n=c},setScheduler:c=>{s=c}}}var zn=vV(),DM=class{#t;destroy(){this.clearGcTimeout()}scheduleGc(){this.clearGcTimeout(),L2(this.gcTime)&&(this.#t=setTimeout(()=>{this.optionalRemove()},this.gcTime))}updateGcTime(e){this.gcTime=Math.max(this.gcTime||0,e??(Zc?1/0:300*1e3))}clearGcTimeout(){this.#t&&(clearTimeout(this.#t),this.#t=void 0)}},bV=class extends DM{#t;#e;#r;#n;#a;#l;#i;constructor(e){super(),this.#i=!1,this.#l=e.defaultOptions,this.setOptions(e.options),this.observers=[],this.#n=e.client,this.#r=this.#n.getQueryCache(),this.queryKey=e.queryKey,this.queryHash=e.queryHash,this.#t=wV(this.options),this.state=e.state??this.#t,this.scheduleGc()}get meta(){return this.options.meta}get promise(){return this.#a?.promise}setOptions(e){this.options={...this.#l,...e},this.updateGcTime(this.options.gcTime)}optionalRemove(){!this.observers.length&&this.state.fetchStatus==="idle"&&this.#r.remove(this)}setData(e,t){const r=U2(this.state.data,e,this.options);return this.#s({data:r,type:"success",dataUpdatedAt:t?.updatedAt,manual:t?.manual}),r}setState(e,t){this.#s({type:"setState",state:e,setStateOptions:t})}cancel(e){const t=this.#a?.promise;return this.#a?.cancel(e),t?t.then(Pa).catch(Pa):Promise.resolve()}destroy(){super.destroy(),this.cancel({silent:!0})}reset(){this.destroy(),this.setState(this.#t)}isActive(){return this.observers.some(e=>Fs(e.options.enabled,this)!==!1)}isDisabled(){return this.getObserversCount()>0?!this.isActive():this.options.queryFn===PN||this.state.dataUpdateCount+this.state.errorUpdateCount===0}isStatic(){return this.getObserversCount()>0?this.observers.some(e=>No(e.options.staleTime,this)==="static"):!1}isStale(){return this.getObserversCount()>0?this.observers.some(e=>e.getCurrentResult().isStale):this.state.data===void 0||this.state.isInvalidated}isStaleByTime(e=0){return this.state.data===void 0?!0:e==="static"?!1:this.state.isInvalidated?!0:!kM(this.state.dataUpdatedAt,e)}onFocus(){this.observers.find(t=>t.shouldFetchOnWindowFocus())?.refetch({cancelRefetch:!1}),this.#a?.continue()}onOnline(){this.observers.find(t=>t.shouldFetchOnReconnect())?.refetch({cancelRefetch:!1}),this.#a?.continue()}addObserver(e){this.observers.includes(e)||(this.observers.push(e),this.clearGcTimeout(),this.#r.notify({type:"observerAdded",query:this,observer:e}))}removeObserver(e){this.observers.includes(e)&&(this.observers=this.observers.filter(t=>t!==e),this.observers.length||(this.#a&&(this.#i?this.#a.cancel({revert:!0}):this.#a.cancelRetry()),this.scheduleGc()),this.#r.notify({type:"observerRemoved",query:this,observer:e}))}getObserversCount(){return this.observers.length}invalidate(){this.state.isInvalidated||this.#s({type:"invalidate"})}fetch(e,t){if(this.state.fetchStatus!=="idle"){if(this.state.data!==void 0&&t?.cancelRefetch)this.cancel({silent:!0});else if(this.#a)return this.#a.continueRetry(),this.#a.promise}if(e&&this.setOptions(e),!this.options.queryFn){const d=this.observers.find(f=>f.options.queryFn);d&&this.setOptions(d.options)}const r=new AbortController,n=d=>{Object.defineProperty(d,"signal",{enumerable:!0,get:()=>(this.#i=!0,r.signal)})},s=()=>{const d=TM(this.options,t),h=(()=>{const g={client:this.#n,queryKey:this.queryKey,meta:this.meta};return n(g),g})();return this.#i=!1,this.options.persister?this.options.persister(d,h,this):d(h)},l=(()=>{const d={fetchOptions:t,options:this.options,queryKey:this.queryKey,client:this.#n,state:this.state,fetchFn:s};return n(d),d})();this.options.behavior?.onFetch(l,this),this.#e=this.state,(this.state.fetchStatus==="idle"||this.state.fetchMeta!==l.fetchOptions?.meta)&&this.#s({type:"fetch",meta:l.fetchOptions?.meta});const c=d=>{u1(d)&&d.silent||this.#s({type:"error",error:d}),u1(d)||(this.#r.config.onError?.(d,this),this.#r.config.onSettled?.(this.state.data,d,this)),this.scheduleGc()};return this.#a=OM({initialPromise:t?.initialPromise,fn:l.fetchFn,abort:r.abort.bind(r),onSuccess:d=>{if(d===void 0){c(new Error(`${this.queryHash} data is undefined`));return}try{this.setData(d)}catch(f){c(f);return}this.#r.config.onSuccess?.(d,this),this.#r.config.onSettled?.(d,this.state.error,this),this.scheduleGc()},onError:c,onFail:(d,f)=>{this.#s({type:"failed",failureCount:d,error:f})},onPause:()=>{this.#s({type:"pause"})},onContinue:()=>{this.#s({type:"continue"})},retry:l.options.retry,retryDelay:l.options.retryDelay,networkMode:l.options.networkMode,canRun:()=>!0}),this.#a.start()}#s(e){const t=r=>{switch(e.type){case"failed":return{...r,fetchFailureCount:e.failureCount,fetchFailureReason:e.error};case"pause":return{...r,fetchStatus:"paused"};case"continue":return{...r,fetchStatus:"fetching"};case"fetch":return{...r,...PM(r.data,this.options),fetchMeta:e.meta??null};case"success":return this.#e=void 0,{...r,data:e.data,dataUpdateCount:r.dataUpdateCount+1,dataUpdatedAt:e.dataUpdatedAt??Date.now(),error:null,isInvalidated:!1,status:"success",...!e.manual&&{fetchStatus:"idle",fetchFailureCount:0,fetchFailureReason:null}};case"error":const n=e.error;return u1(n)&&n.revert&&this.#e?{...this.#e,fetchStatus:"idle"}:{...r,error:n,errorUpdateCount:r.errorUpdateCount+1,errorUpdatedAt:Date.now(),fetchFailureCount:r.fetchFailureCount+1,fetchFailureReason:n,fetchStatus:"idle",status:"error"};case"invalidate":return{...r,isInvalidated:!0};case"setState":return{...r,...e.state}}};this.state=t(this.state),zn.batch(()=>{this.observers.forEach(r=>{r.onQueryUpdate()}),this.#r.notify({query:this,type:"updated",action:e})})}};function PM(e,t){return{fetchFailureCount:0,fetchFailureReason:null,fetchStatus:AM(t.networkMode)?"fetching":"paused",...e===void 0&&{error:null,status:"pending"}}}function wV(e){const t=typeof e.initialData=="function"?e.initialData():e.initialData,r=t!==void 0,n=r?typeof e.initialDataUpdatedAt=="function"?e.initialDataUpdatedAt():e.initialDataUpdatedAt:0;return{data:t,dataUpdateCount:0,dataUpdatedAt:r?n??Date.now():0,error:null,errorUpdateCount:0,errorUpdatedAt:0,fetchFailureCount:0,fetchFailureReason:null,fetchMeta:null,isInvalidated:!1,status:r?"success":"pending",fetchStatus:"idle"}}var jV=class extends Xh{constructor(e={}){super(),this.config=e,this.#t=new Map}#t;build(e,t,r){const n=t.queryKey,s=t.queryHash??DN(n,t);let i=this.get(s);return i||(i=new bV({client:e,queryKey:n,queryHash:s,options:e.defaultQueryOptions(t),state:r,defaultOptions:e.getQueryDefaults(n)}),this.add(i)),i}add(e){this.#t.has(e.queryHash)||(this.#t.set(e.queryHash,e),this.notify({type:"added",query:e}))}remove(e){const t=this.#t.get(e.queryHash);t&&(e.destroy(),t===e&&this.#t.delete(e.queryHash),this.notify({type:"removed",query:e}))}clear(){zn.batch(()=>{this.getAll().forEach(e=>{this.remove(e)})})}get(e){return this.#t.get(e)}getAll(){return[...this.#t.values()]}find(e){const t={exact:!0,...e};return this.getAll().find(r=>JA(t,r))}findAll(e={}){const t=this.getAll();return Object.keys(e).length>0?t.filter(r=>JA(e,r)):t}notify(e){zn.batch(()=>{this.listeners.forEach(t=>{t(e)})})}onFocus(){zn.batch(()=>{this.getAll().forEach(e=>{e.onFocus()})})}onOnline(){zn.batch(()=>{this.getAll().forEach(e=>{e.onOnline()})})}},NV=class extends DM{#t;#e;#r;constructor(e){super(),this.mutationId=e.mutationId,this.#e=e.mutationCache,this.#t=[],this.state=e.state||SV(),this.setOptions(e.options),this.scheduleGc()}setOptions(e){this.options=e,this.updateGcTime(this.options.gcTime)}get meta(){return this.options.meta}addObserver(e){this.#t.includes(e)||(this.#t.push(e),this.clearGcTimeout(),this.#e.notify({type:"observerAdded",mutation:this,observer:e}))}removeObserver(e){this.#t=this.#t.filter(t=>t!==e),this.scheduleGc(),this.#e.notify({type:"observerRemoved",mutation:this,observer:e})}optionalRemove(){this.#t.length||(this.state.status==="pending"?this.scheduleGc():this.#e.remove(this))}continue(){return this.#r?.continue()??this.execute(this.state.variables)}async execute(e){const t=()=>{this.#n({type:"continue"})};this.#r=OM({fn:()=>this.options.mutationFn?this.options.mutationFn(e):Promise.reject(new Error("No mutationFn found")),onFail:(s,i)=>{this.#n({type:"failed",failureCount:s,error:i})},onPause:()=>{this.#n({type:"pause"})},onContinue:t,retry:this.options.retry??0,retryDelay:this.options.retryDelay,networkMode:this.options.networkMode,canRun:()=>this.#e.canRun(this)});const r=this.state.status==="pending",n=!this.#r.canStart();try{if(r)t();else{this.#n({type:"pending",variables:e,isPaused:n}),await this.#e.config.onMutate?.(e,this);const i=await this.options.onMutate?.(e);i!==this.state.context&&this.#n({type:"pending",context:i,variables:e,isPaused:n})}const s=await this.#r.start();return await this.#e.config.onSuccess?.(s,e,this.state.context,this),await this.options.onSuccess?.(s,e,this.state.context),await this.#e.config.onSettled?.(s,null,this.state.variables,this.state.context,this),await this.options.onSettled?.(s,null,e,this.state.context),this.#n({type:"success",data:s}),s}catch(s){try{throw await this.#e.config.onError?.(s,e,this.state.context,this),await this.options.onError?.(s,e,this.state.context),await this.#e.config.onSettled?.(void 0,s,this.state.variables,this.state.context,this),await this.options.onSettled?.(void 0,s,e,this.state.context),s}finally{this.#n({type:"error",error:s})}}finally{this.#e.runNext(this)}}#n(e){const t=r=>{switch(e.type){case"failed":return{...r,failureCount:e.failureCount,failureReason:e.error};case"pause":return{...r,isPaused:!0};case"continue":return{...r,isPaused:!1};case"pending":return{...r,context:e.context,data:void 0,failureCount:0,failureReason:null,error:null,isPaused:e.isPaused,status:"pending",variables:e.variables,submittedAt:Date.now()};case"success":return{...r,data:e.data,failureCount:0,failureReason:null,error:null,status:"success",isPaused:!1};case"error":return{...r,data:void 0,error:e.error,failureCount:r.failureCount+1,failureReason:e.error,isPaused:!1,status:"error"}}};this.state=t(this.state),zn.batch(()=>{this.#t.forEach(r=>{r.onMutationUpdate(e)}),this.#e.notify({mutation:this,type:"updated",action:e})})}};function SV(){return{context:void 0,data:void 0,error:null,failureCount:0,failureReason:null,isPaused:!1,status:"idle",variables:void 0,submittedAt:0}}var _V=class extends Xh{constructor(e={}){super(),this.config=e,this.#t=new Set,this.#e=new Map,this.#r=0}#t;#e;#r;build(e,t,r){const n=new NV({mutationCache:this,mutationId:++this.#r,options:e.defaultMutationOptions(t),state:r});return this.add(n),n}add(e){this.#t.add(e);const t=Ig(e);if(typeof t=="string"){const r=this.#e.get(t);r?r.push(e):this.#e.set(t,[e])}this.notify({type:"added",mutation:e})}remove(e){if(this.#t.delete(e)){const t=Ig(e);if(typeof t=="string"){const r=this.#e.get(t);if(r)if(r.length>1){const n=r.indexOf(e);n!==-1&&r.splice(n,1)}else r[0]===e&&this.#e.delete(t)}}this.notify({type:"removed",mutation:e})}canRun(e){const t=Ig(e);if(typeof t=="string"){const n=this.#e.get(t)?.find(s=>s.state.status==="pending");return!n||n===e}else return!0}runNext(e){const t=Ig(e);return typeof t=="string"?this.#e.get(t)?.find(n=>n!==e&&n.state.isPaused)?.continue()??Promise.resolve():Promise.resolve()}clear(){zn.batch(()=>{this.#t.forEach(e=>{this.notify({type:"removed",mutation:e})}),this.#t.clear(),this.#e.clear()})}getAll(){return Array.from(this.#t)}find(e){const t={exact:!0,...e};return this.getAll().find(r=>eC(t,r))}findAll(e={}){return this.getAll().filter(t=>eC(e,t))}notify(e){zn.batch(()=>{this.listeners.forEach(t=>{t(e)})})}resumePausedMutations(){const e=this.getAll().filter(t=>t.state.isPaused);return zn.batch(()=>Promise.all(e.map(t=>t.continue().catch(Pa))))}};function Ig(e){return e.options.scope?.id}function nC(e){return{onFetch:(t,r)=>{const n=t.options,s=t.fetchOptions?.meta?.fetchMore?.direction,i=t.state.data?.pages||[],l=t.state.data?.pageParams||[];let c={pages:[],pageParams:[]},d=0;const f=async()=>{let h=!1;const g=b=>{Object.defineProperty(b,"signal",{enumerable:!0,get:()=>(t.signal.aborted?h=!0:t.signal.addEventListener("abort",()=>{h=!0}),t.signal)})},p=TM(t.options,t.fetchOptions),y=async(b,w,j)=>{if(h)return Promise.reject();if(w==null&&b.pages.length)return Promise.resolve(b);const k=(()=>{const A={client:t.client,queryKey:t.queryKey,pageParam:w,direction:j?"backward":"forward",meta:t.options.meta};return g(A),A})(),E=await p(k),{maxPages:C}=t.options,T=j?hV:fV;return{pages:T(b.pages,E,C),pageParams:T(b.pageParams,w,C)}};if(s&&i.length){const b=s==="backward",w=b?kV:aC,j={pages:i,pageParams:l},S=w(n,j);c=await y(j,S,b)}else{const b=e??i.length;do{const w=d===0?l[0]??n.initialPageParam:aC(n,c);if(d>0&&w==null)break;c=await y(c,w),d++}while(d<b)}return c};t.options.persister?t.fetchFn=()=>t.options.persister?.(f,{client:t.client,queryKey:t.queryKey,meta:t.options.meta,signal:t.signal},r):t.fetchFn=f}}}function aC(e,{pages:t,pageParams:r}){const n=t.length-1;return t.length>0?e.getNextPageParam(t[n],t,r[n],r):void 0}function kV(e,{pages:t,pageParams:r}){return t.length>0?e.getPreviousPageParam?.(t[0],t,r[0],r):void 0}var EV=class{#t;#e;#r;#n;#a;#l;#i;#s;constructor(e={}){this.#t=e.queryCache||new jV,this.#e=e.mutationCache||new _V,this.#r=e.defaultOptions||{},this.#n=new Map,this.#a=new Map,this.#l=0}mount(){this.#l++,this.#l===1&&(this.#i=MN.subscribe(async e=>{e&&(await this.resumePausedMutations(),this.#t.onFocus())}),this.#s=Ep.subscribe(async e=>{e&&(await this.resumePausedMutations(),this.#t.onOnline())}))}unmount(){this.#l--,this.#l===0&&(this.#i?.(),this.#i=void 0,this.#s?.(),this.#s=void 0)}isFetching(e){return this.#t.findAll({...e,fetchStatus:"fetching"}).length}isMutating(e){return this.#e.findAll({...e,status:"pending"}).length}getQueryData(e){const t=this.defaultQueryOptions({queryKey:e});return this.#t.get(t.queryHash)?.state.data}ensureQueryData(e){const t=this.defaultQueryOptions(e),r=this.#t.build(this,t),n=r.state.data;return n===void 0?this.fetchQuery(e):(e.revalidateIfStale&&r.isStaleByTime(No(t.staleTime,r))&&this.prefetchQuery(t),Promise.resolve(n))}getQueriesData(e){return this.#t.findAll(e).map(({queryKey:t,state:r})=>{const n=r.data;return[t,n]})}setQueryData(e,t,r){const n=this.defaultQueryOptions({queryKey:e}),i=this.#t.get(n.queryHash)?.state.data,l=uV(t,i);if(l!==void 0)return this.#t.build(this,n).setData(l,{...r,manual:!0})}setQueriesData(e,t,r){return zn.batch(()=>this.#t.findAll(e).map(({queryKey:n})=>[n,this.setQueryData(n,t,r)]))}getQueryState(e){const t=this.defaultQueryOptions({queryKey:e});return this.#t.get(t.queryHash)?.state}removeQueries(e){const t=this.#t;zn.batch(()=>{t.findAll(e).forEach(r=>{t.remove(r)})})}resetQueries(e,t){const r=this.#t;return zn.batch(()=>(r.findAll(e).forEach(n=>{n.reset()}),this.refetchQueries({type:"active",...e},t)))}cancelQueries(e,t={}){const r={revert:!0,...t},n=zn.batch(()=>this.#t.findAll(e).map(s=>s.cancel(r)));return Promise.all(n).then(Pa).catch(Pa)}invalidateQueries(e,t={}){return zn.batch(()=>(this.#t.findAll(e).forEach(r=>{r.invalidate()}),e?.refetchType==="none"?Promise.resolve():this.refetchQueries({...e,type:e?.refetchType??e?.type??"active"},t)))}refetchQueries(e,t={}){const r={...t,cancelRefetch:t.cancelRefetch??!0},n=zn.batch(()=>this.#t.findAll(e).filter(s=>!s.isDisabled()&&!s.isStatic()).map(s=>{let i=s.fetch(void 0,r);return r.throwOnError||(i=i.catch(Pa)),s.state.fetchStatus==="paused"?Promise.resolve():i}));return Promise.all(n).then(Pa)}fetchQuery(e){const t=this.defaultQueryOptions(e);t.retry===void 0&&(t.retry=!1);const r=this.#t.build(this,t);return r.isStaleByTime(No(t.staleTime,r))?r.fetch(t):Promise.resolve(r.state.data)}prefetchQuery(e){return this.fetchQuery(e).then(Pa).catch(Pa)}fetchInfiniteQuery(e){return e.behavior=nC(e.pages),this.fetchQuery(e)}prefetchInfiniteQuery(e){return this.fetchInfiniteQuery(e).then(Pa).catch(Pa)}ensureInfiniteQueryData(e){return e.behavior=nC(e.pages),this.ensureQueryData(e)}resumePausedMutations(){return Ep.isOnline()?this.#e.resumePausedMutations():Promise.resolve()}getQueryCache(){return this.#t}getMutationCache(){return this.#e}getDefaultOptions(){return this.#r}setDefaultOptions(e){this.#r=e}setQueryDefaults(e,t){this.#n.set(ch(e),{queryKey:e,defaultOptions:t})}getQueryDefaults(e){const t=[...this.#n.values()],r={};return t.forEach(n=>{uh(e,n.queryKey)&&Object.assign(r,n.defaultOptions)}),r}setMutationDefaults(e,t){this.#a.set(ch(e),{mutationKey:e,defaultOptions:t})}getMutationDefaults(e){const t=[...this.#a.values()],r={};return t.forEach(n=>{uh(e,n.mutationKey)&&Object.assign(r,n.defaultOptions)}),r}defaultQueryOptions(e){if(e._defaulted)return e;const t={...this.#r.queries,...this.getQueryDefaults(e.queryKey),...e,_defaulted:!0};return t.queryHash||(t.queryHash=DN(t.queryKey,t)),t.refetchOnReconnect===void 0&&(t.refetchOnReconnect=t.networkMode!=="always"),t.throwOnError===void 0&&(t.throwOnError=!!t.suspense),!t.networkMode&&t.persister&&(t.networkMode="offlineFirst"),t.queryFn===PN&&(t.enabled=!1),t}defaultMutationOptions(e){return e?._defaulted?e:{...this.#r.mutations,...e?.mutationKey&&this.getMutationDefaults(e.mutationKey),...e,_defaulted:!0}}clear(){this.#t.clear(),this.#e.clear()}},TV=class extends Xh{constructor(e,t){super(),this.options=t,this.#t=e,this.#s=null,this.#i=z2(),this.options.experimental_prefetchInRender||this.#i.reject(new Error("experimental_prefetchInRender feature flag is not enabled")),this.bindMethods(),this.setOptions(t)}#t;#e=void 0;#r=void 0;#n=void 0;#a;#l;#i;#s;#g;#f;#h;#c;#u;#o;#m=new Set;bindMethods(){this.refetch=this.refetch.bind(this)}onSubscribe(){this.listeners.size===1&&(this.#e.addObserver(this),sC(this.#e,this.options)?this.#d():this.updateResult(),this.#v())}onUnsubscribe(){this.hasListeners()||this.destroy()}shouldFetchOnReconnect(){return H2(this.#e,this.options,this.options.refetchOnReconnect)}shouldFetchOnWindowFocus(){return H2(this.#e,this.options,this.options.refetchOnWindowFocus)}destroy(){this.listeners=new Set,this.#b(),this.#w(),this.#e.removeObserver(this)}setOptions(e){const t=this.options,r=this.#e;if(this.options=this.#t.defaultQueryOptions(e),this.options.enabled!==void 0&&typeof this.options.enabled!="boolean"&&typeof this.options.enabled!="function"&&typeof Fs(this.options.enabled,this.#e)!="boolean")throw new Error("Expected enabled to be a boolean or a callback that returns a boolean");this.#j(),this.#e.setOptions(this.options),t._defaulted&&!B2(this.options,t)&&this.#t.getQueryCache().notify({type:"observerOptionsUpdated",query:this.#e,observer:this});const n=this.hasListeners();n&&iC(this.#e,r,this.options,t)&&this.#d(),this.updateResult(),n&&(this.#e!==r||Fs(this.options.enabled,this.#e)!==Fs(t.enabled,this.#e)||No(this.options.staleTime,this.#e)!==No(t.staleTime,this.#e))&&this.#p();const s=this.#x();n&&(this.#e!==r||Fs(this.options.enabled,this.#e)!==Fs(t.enabled,this.#e)||s!==this.#o)&&this.#y(s)}getOptimisticResult(e){const t=this.#t.getQueryCache().build(this.#t,e),r=this.createResult(t,e);return CV(this,r)&&(this.#n=r,this.#l=this.options,this.#a=this.#e.state),r}getCurrentResult(){return this.#n}trackResult(e,t){return new Proxy(e,{get:(r,n)=>(this.trackProp(n),t?.(n),Reflect.get(r,n))})}trackProp(e){this.#m.add(e)}getCurrentQuery(){return this.#e}refetch({...e}={}){return this.fetch({...e})}fetchOptimistic(e){const t=this.#t.defaultQueryOptions(e),r=this.#t.getQueryCache().build(this.#t,t);return r.fetch().then(()=>this.createResult(r,t))}fetch(e){return this.#d({...e,cancelRefetch:e.cancelRefetch??!0}).then(()=>(this.updateResult(),this.#n))}#d(e){this.#j();let t=this.#e.fetch(this.options,e);return e?.throwOnError||(t=t.catch(Pa)),t}#p(){this.#b();const e=No(this.options.staleTime,this.#e);if(Zc||this.#n.isStale||!L2(e))return;const r=kM(this.#n.dataUpdatedAt,e)+1;this.#c=setTimeout(()=>{this.#n.isStale||this.updateResult()},r)}#x(){return(typeof this.options.refetchInterval=="function"?this.options.refetchInterval(this.#e):this.options.refetchInterval)??!1}#y(e){this.#w(),this.#o=e,!(Zc||Fs(this.options.enabled,this.#e)===!1||!L2(this.#o)||this.#o===0)&&(this.#u=setInterval(()=>{(this.options.refetchIntervalInBackground||MN.isFocused())&&this.#d()},this.#o))}#v(){this.#p(),this.#y(this.#x())}#b(){this.#c&&(clearTimeout(this.#c),this.#c=void 0)}#w(){this.#u&&(clearInterval(this.#u),this.#u=void 0)}createResult(e,t){const r=this.#e,n=this.options,s=this.#n,i=this.#a,l=this.#l,d=e!==r?e.state:this.#r,{state:f}=e;let h={...f},g=!1,p;if(t._optimisticResults){const D=this.hasListeners(),R=!D&&sC(e,t),B=D&&iC(e,r,t,n);(R||B)&&(h={...h,...PM(f.data,e.options)}),t._optimisticResults==="isRestoring"&&(h.fetchStatus="idle")}let{error:y,errorUpdatedAt:b,status:w}=h;p=h.data;let j=!1;if(t.placeholderData!==void 0&&p===void 0&&w==="pending"){let D;s?.isPlaceholderData&&t.placeholderData===l?.placeholderData?(D=s.data,j=!0):D=typeof t.placeholderData=="function"?t.placeholderData(this.#h?.state.data,this.#h):t.placeholderData,D!==void 0&&(w="success",p=U2(s?.data,D,t),g=!0)}if(t.select&&p!==void 0&&!j)if(s&&p===i?.data&&t.select===this.#g)p=this.#f;else try{this.#g=t.select,p=t.select(p),p=U2(s?.data,p,t),this.#f=p,this.#s=null}catch(D){this.#s=D}this.#s&&(y=this.#s,p=this.#f,b=Date.now(),w="error");const S=h.fetchStatus==="fetching",k=w==="pending",E=w==="error",C=k&&S,T=p!==void 0,O={status:w,fetchStatus:h.fetchStatus,isPending:k,isSuccess:w==="success",isError:E,isInitialLoading:C,isLoading:C,data:p,dataUpdatedAt:h.dataUpdatedAt,error:y,errorUpdatedAt:b,failureCount:h.fetchFailureCount,failureReason:h.fetchFailureReason,errorUpdateCount:h.errorUpdateCount,isFetched:h.dataUpdateCount>0||h.errorUpdateCount>0,isFetchedAfterMount:h.dataUpdateCount>d.dataUpdateCount||h.errorUpdateCount>d.errorUpdateCount,isFetching:S,isRefetching:S&&!k,isLoadingError:E&&!T,isPaused:h.fetchStatus==="paused",isPlaceholderData:g,isRefetchError:E&&T,isStale:RN(e,t),refetch:this.refetch,promise:this.#i,isEnabled:Fs(t.enabled,e)!==!1};if(this.options.experimental_prefetchInRender){const D=V=>{O.status==="error"?V.reject(O.error):O.data!==void 0&&V.resolve(O.data)},R=()=>{const V=this.#i=O.promise=z2();D(V)},B=this.#i;switch(B.status){case"pending":e.queryHash===r.queryHash&&D(B);break;case"fulfilled":(O.status==="error"||O.data!==B.value)&&R();break;case"rejected":(O.status!=="error"||O.error!==B.reason)&&R();break}}return O}updateResult(){const e=this.#n,t=this.createResult(this.#e,this.options);if(this.#a=this.#e.state,this.#l=this.options,this.#a.data!==void 0&&(this.#h=this.#e),B2(t,e))return;this.#n=t;const r=()=>{if(!e)return!0;const{notifyOnChangeProps:n}=this.options,s=typeof n=="function"?n():n;if(s==="all"||!s&&!this.#m.size)return!0;const i=new Set(s??this.#m);return this.options.throwOnError&&i.add("error"),Object.keys(this.#n).some(l=>{const c=l;return this.#n[c]!==e[c]&&i.has(c)})};this.#N({listeners:r()})}#j(){const e=this.#t.getQueryCache().build(this.#t,this.options);if(e===this.#e)return;const t=this.#e;this.#e=e,this.#r=e.state,this.hasListeners()&&(t?.removeObserver(this),e.addObserver(this))}onQueryUpdate(){this.updateResult(),this.hasListeners()&&this.#v()}#N(e){zn.batch(()=>{e.listeners&&this.listeners.forEach(t=>{t(this.#n)}),this.#t.getQueryCache().notify({query:this.#e,type:"observerResultsUpdated"})})}};function AV(e,t){return Fs(t.enabled,e)!==!1&&e.state.data===void 0&&!(e.state.status==="error"&&t.retryOnMount===!1)}function sC(e,t){return AV(e,t)||e.state.data!==void 0&&H2(e,t,t.refetchOnMount)}function H2(e,t,r){if(Fs(t.enabled,e)!==!1&&No(t.staleTime,e)!=="static"){const n=typeof r=="function"?r(e):r;return n==="always"||n!==!1&&RN(e,t)}return!1}function iC(e,t,r,n){return(e!==t||Fs(n.enabled,e)===!1)&&(!r.suspense||e.state.status!=="error")&&RN(e,r)}function RN(e,t){return Fs(t.enabled,e)!==!1&&e.isStaleByTime(No(t.staleTime,e))}function CV(e,t){return!B2(e.getCurrentResult(),t)}var MM=v.createContext(void 0),RM=e=>{const t=v.useContext(MM);if(!t)throw new Error("No QueryClient set, use QueryClientProvider to set one");return t},OV=({client:e,children:t})=>(v.useEffect(()=>(e.mount(),()=>{e.unmount()}),[e]),a.jsx(MM.Provider,{value:e,children:t})),IM=v.createContext(!1),DV=()=>v.useContext(IM);IM.Provider;function PV(){let e=!1;return{clearReset:()=>{e=!1},reset:()=>{e=!0},isReset:()=>e}}var MV=v.createContext(PV()),RV=()=>v.useContext(MV),IV=(e,t)=>{(e.suspense||e.throwOnError||e.experimental_prefetchInRender)&&(t.isReset()||(e.retryOnMount=!1))},FV=e=>{v.useEffect(()=>{e.clearReset()},[e])},LV=({result:e,errorResetBoundary:t,throwOnError:r,query:n,suspense:s})=>e.isError&&!t.isReset()&&!e.isFetching&&n&&(s&&e.data===void 0||mV(r,[e.error,n])),BV=e=>{if(e.suspense){const t=n=>n==="static"?n:Math.max(n??1e3,1e3),r=e.staleTime;e.staleTime=typeof r=="function"?(...n)=>t(r(...n)):t(r),typeof e.gcTime=="number"&&(e.gcTime=Math.max(e.gcTime,1e3))}},$V=(e,t)=>e.isLoading&&e.isFetching&&!t,UV=(e,t)=>e?.suspense&&t.isPending,lC=(e,t,r)=>t.fetchOptimistic(e).catch(()=>{r.clearReset()});function zV(e,t,r){const n=DV(),s=RV(),i=RM(),l=i.defaultQueryOptions(e);i.getDefaultOptions().queries?._experimental_beforeQuery?.(l),l._optimisticResults=n?"isRestoring":"optimistic",BV(l),IV(l,s),FV(s);const c=!i.getQueryCache().get(l.queryHash),[d]=v.useState(()=>new t(i,l)),f=d.getOptimisticResult(l),h=!n&&e.subscribed!==!1;if(v.useSyncExternalStore(v.useCallback(g=>{const p=h?d.subscribe(zn.batchCalls(g)):Pa;return d.updateResult(),p},[d,h]),()=>d.getCurrentResult(),()=>d.getCurrentResult()),v.useEffect(()=>{d.setOptions(l)},[l,d]),UV(l,f))throw lC(l,d,s);if(LV({result:f,errorResetBoundary:s,throwOnError:l.throwOnError,query:i.getQueryCache().get(l.queryHash),suspense:l.suspense}))throw f.error;return i.getDefaultOptions().queries?._experimental_afterQuery?.(l,f),l.experimental_prefetchInRender&&!Zc&&$V(f,n)&&(c?lC(l,d,s):i.getQueryCache().get(l.queryHash)?.promise)?.catch(Pa).finally(()=>{d.updateResult()}),l.notifyOnChangeProps?f:d.trackResult(f)}function FM(e,t){return zV(e,TV)}/**
 * react-router v7.7.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */var oC="popstate";function HV(e={}){function t(n,s){let{pathname:i,search:l,hash:c}=n.location;return V2("",{pathname:i,search:l,hash:c},s.state&&s.state.usr||null,s.state&&s.state.key||"default")}function r(n,s){return typeof s=="string"?s:dh(s)}return qV(t,r,null,e)}function Pr(e,t){if(e===!1||e===null||typeof e>"u")throw new Error(t)}function hi(e,t){if(!e){typeof console<"u"&&console.warn(t);try{throw new Error(t)}catch{}}}function VV(){return Math.random().toString(36).substring(2,10)}function cC(e,t){return{usr:e.state,key:e.key,idx:t}}function V2(e,t,r=null,n){return{pathname:typeof e=="string"?e:e.pathname,search:"",hash:"",...typeof t=="string"?Vd(t):t,state:r,key:t&&t.key||n||VV()}}function dh({pathname:e="/",search:t="",hash:r=""}){return t&&t!=="?"&&(e+=t.charAt(0)==="?"?t:"?"+t),r&&r!=="#"&&(e+=r.charAt(0)==="#"?r:"#"+r),e}function Vd(e){let t={};if(e){let r=e.indexOf("#");r>=0&&(t.hash=e.substring(r),e=e.substring(0,r));let n=e.indexOf("?");n>=0&&(t.search=e.substring(n),e=e.substring(0,n)),e&&(t.pathname=e)}return t}function qV(e,t,r,n={}){let{window:s=document.defaultView,v5Compat:i=!1}=n,l=s.history,c="POP",d=null,f=h();f==null&&(f=0,l.replaceState({...l.state,idx:f},""));function h(){return(l.state||{idx:null}).idx}function g(){c="POP";let j=h(),S=j==null?null:j-f;f=j,d&&d({action:c,location:w.location,delta:S})}function p(j,S){c="PUSH";let k=V2(w.location,j,S);f=h()+1;let E=cC(k,f),C=w.createHref(k);try{l.pushState(E,"",C)}catch(T){if(T instanceof DOMException&&T.name==="DataCloneError")throw T;s.location.assign(C)}i&&d&&d({action:c,location:w.location,delta:1})}function y(j,S){c="REPLACE";let k=V2(w.location,j,S);f=h();let E=cC(k,f),C=w.createHref(k);l.replaceState(E,"",C),i&&d&&d({action:c,location:w.location,delta:0})}function b(j){return WV(j)}let w={get action(){return c},get location(){return e(s,l)},listen(j){if(d)throw new Error("A history only accepts one active listener");return s.addEventListener(oC,g),d=j,()=>{s.removeEventListener(oC,g),d=null}},createHref(j){return t(s,j)},createURL:b,encodeLocation(j){let S=b(j);return{pathname:S.pathname,search:S.search,hash:S.hash}},push:p,replace:y,go(j){return l.go(j)}};return w}function WV(e,t=!1){let r="http://localhost";typeof window<"u"&&(r=window.location.origin!=="null"?window.location.origin:window.location.href),Pr(r,"No window.location.(origin|href) available to create URL");let n=typeof e=="string"?e:dh(e);return n=n.replace(/ $/,"%20"),!t&&n.startsWith("//")&&(n=r+n),new URL(n,r)}function LM(e,t,r="/"){return GV(e,t,r,!1)}function GV(e,t,r,n){let s=typeof t=="string"?Vd(t):t,i=wl(s.pathname||"/",r);if(i==null)return null;let l=BM(e);KV(l);let c=null;for(let d=0;c==null&&d<l.length;++d){let f=sq(i);c=nq(l[d],f,n)}return c}function BM(e,t=[],r=[],n=""){let s=(i,l,c)=>{let d={relativePath:c===void 0?i.path||"":c,caseSensitive:i.caseSensitive===!0,childrenIndex:l,route:i};d.relativePath.startsWith("/")&&(Pr(d.relativePath.startsWith(n),`Absolute route path "${d.relativePath}" nested under path "${n}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),d.relativePath=d.relativePath.slice(n.length));let f=fl([n,d.relativePath]),h=r.concat(d);i.children&&i.children.length>0&&(Pr(i.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${f}".`),BM(i.children,t,h,f)),!(i.path==null&&!i.index)&&t.push({path:f,score:tq(f,i.index),routesMeta:h})};return e.forEach((i,l)=>{if(i.path===""||!i.path?.includes("?"))s(i,l);else for(let c of $M(i.path))s(i,l,c)}),t}function $M(e){let t=e.split("/");if(t.length===0)return[];let[r,...n]=t,s=r.endsWith("?"),i=r.replace(/\?$/,"");if(n.length===0)return s?[i,""]:[i];let l=$M(n.join("/")),c=[];return c.push(...l.map(d=>d===""?i:[i,d].join("/"))),s&&c.push(...l),c.map(d=>e.startsWith("/")&&d===""?"/":d)}function KV(e){e.sort((t,r)=>t.score!==r.score?r.score-t.score:rq(t.routesMeta.map(n=>n.childrenIndex),r.routesMeta.map(n=>n.childrenIndex)))}var YV=/^:[\w-]+$/,XV=3,QV=2,ZV=1,JV=10,eq=-2,uC=e=>e==="*";function tq(e,t){let r=e.split("/"),n=r.length;return r.some(uC)&&(n+=eq),t&&(n+=QV),r.filter(s=>!uC(s)).reduce((s,i)=>s+(YV.test(i)?XV:i===""?ZV:JV),n)}function rq(e,t){return e.length===t.length&&e.slice(0,-1).every((n,s)=>n===t[s])?e[e.length-1]-t[t.length-1]:0}function nq(e,t,r=!1){let{routesMeta:n}=e,s={},i="/",l=[];for(let c=0;c<n.length;++c){let d=n[c],f=c===n.length-1,h=i==="/"?t:t.slice(i.length)||"/",g=Tp({path:d.relativePath,caseSensitive:d.caseSensitive,end:f},h),p=d.route;if(!g&&f&&r&&!n[n.length-1].route.index&&(g=Tp({path:d.relativePath,caseSensitive:d.caseSensitive,end:!1},h)),!g)return null;Object.assign(s,g.params),l.push({params:s,pathname:fl([i,g.pathname]),pathnameBase:cq(fl([i,g.pathnameBase])),route:p}),g.pathnameBase!=="/"&&(i=fl([i,g.pathnameBase]))}return l}function Tp(e,t){typeof e=="string"&&(e={path:e,caseSensitive:!1,end:!0});let[r,n]=aq(e.path,e.caseSensitive,e.end),s=t.match(r);if(!s)return null;let i=s[0],l=i.replace(/(.)\/+$/,"$1"),c=s.slice(1);return{params:n.reduce((f,{paramName:h,isOptional:g},p)=>{if(h==="*"){let b=c[p]||"";l=i.slice(0,i.length-b.length).replace(/(.)\/+$/,"$1")}const y=c[p];return g&&!y?f[h]=void 0:f[h]=(y||"").replace(/%2F/g,"/"),f},{}),pathname:i,pathnameBase:l,pattern:e}}function aq(e,t=!1,r=!0){hi(e==="*"||!e.endsWith("*")||e.endsWith("/*"),`Route path "${e}" will be treated as if it were "${e.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${e.replace(/\*$/,"/*")}".`);let n=[],s="^"+e.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(l,c,d)=>(n.push({paramName:c,isOptional:d!=null}),d?"/?([^\\/]+)?":"/([^\\/]+)"));return e.endsWith("*")?(n.push({paramName:"*"}),s+=e==="*"||e==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):r?s+="\\/*$":e!==""&&e!=="/"&&(s+="(?:(?=\\/|$))"),[new RegExp(s,t?void 0:"i"),n]}function sq(e){try{return e.split("/").map(t=>decodeURIComponent(t).replace(/\//g,"%2F")).join("/")}catch(t){return hi(!1,`The URL path "${e}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${t}).`),e}}function wl(e,t){if(t==="/")return e;if(!e.toLowerCase().startsWith(t.toLowerCase()))return null;let r=t.endsWith("/")?t.length-1:t.length,n=e.charAt(r);return n&&n!=="/"?null:e.slice(r)||"/"}function iq(e,t="/"){let{pathname:r,search:n="",hash:s=""}=typeof e=="string"?Vd(e):e;return{pathname:r?r.startsWith("/")?r:lq(r,t):t,search:uq(n),hash:dq(s)}}function lq(e,t){let r=t.replace(/\/+$/,"").split("/");return e.split("/").forEach(s=>{s===".."?r.length>1&&r.pop():s!=="."&&r.push(s)}),r.length>1?r.join("/"):"/"}function d1(e,t,r,n){return`Cannot include a '${e}' character in a manually specified \`to.${t}\` field [${JSON.stringify(n)}].  Please separate it out to the \`to.${r}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function oq(e){return e.filter((t,r)=>r===0||t.route.path&&t.route.path.length>0)}function IN(e){let t=oq(e);return t.map((r,n)=>n===t.length-1?r.pathname:r.pathnameBase)}function FN(e,t,r,n=!1){let s;typeof e=="string"?s=Vd(e):(s={...e},Pr(!s.pathname||!s.pathname.includes("?"),d1("?","pathname","search",s)),Pr(!s.pathname||!s.pathname.includes("#"),d1("#","pathname","hash",s)),Pr(!s.search||!s.search.includes("#"),d1("#","search","hash",s)));let i=e===""||s.pathname==="",l=i?"/":s.pathname,c;if(l==null)c=r;else{let g=t.length-1;if(!n&&l.startsWith("..")){let p=l.split("/");for(;p[0]==="..";)p.shift(),g-=1;s.pathname=p.join("/")}c=g>=0?t[g]:"/"}let d=iq(s,c),f=l&&l!=="/"&&l.endsWith("/"),h=(i||l===".")&&r.endsWith("/");return!d.pathname.endsWith("/")&&(f||h)&&(d.pathname+="/"),d}var fl=e=>e.join("/").replace(/\/\/+/g,"/"),cq=e=>e.replace(/\/+$/,"").replace(/^\/*/,"/"),uq=e=>!e||e==="?"?"":e.startsWith("?")?e:"?"+e,dq=e=>!e||e==="#"?"":e.startsWith("#")?e:"#"+e;function fq(e){return e!=null&&typeof e.status=="number"&&typeof e.statusText=="string"&&typeof e.internal=="boolean"&&"data"in e}var UM=["POST","PUT","PATCH","DELETE"];new Set(UM);var hq=["GET",...UM];new Set(hq);var qd=v.createContext(null);qd.displayName="DataRouter";var Gx=v.createContext(null);Gx.displayName="DataRouterState";v.createContext(!1);var zM=v.createContext({isTransitioning:!1});zM.displayName="ViewTransition";var mq=v.createContext(new Map);mq.displayName="Fetchers";var gq=v.createContext(null);gq.displayName="Await";var gi=v.createContext(null);gi.displayName="Navigation";var Qh=v.createContext(null);Qh.displayName="Location";var zi=v.createContext({outlet:null,matches:[],isDataRoute:!1});zi.displayName="Route";var LN=v.createContext(null);LN.displayName="RouteError";function pq(e,{relative:t}={}){Pr(Wd(),"useHref() may be used only in the context of a <Router> component.");let{basename:r,navigator:n}=v.useContext(gi),{hash:s,pathname:i,search:l}=Zh(e,{relative:t}),c=i;return r!=="/"&&(c=i==="/"?r:fl([r,i])),n.createHref({pathname:c,search:l,hash:s})}function Wd(){return v.useContext(Qh)!=null}function pi(){return Pr(Wd(),"useLocation() may be used only in the context of a <Router> component."),v.useContext(Qh).location}var HM="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function VM(e){v.useContext(gi).static||v.useLayoutEffect(e)}function Wo(){let{isDataRoute:e}=v.useContext(zi);return e?Aq():xq()}function xq(){Pr(Wd(),"useNavigate() may be used only in the context of a <Router> component.");let e=v.useContext(qd),{basename:t,navigator:r}=v.useContext(gi),{matches:n}=v.useContext(zi),{pathname:s}=pi(),i=JSON.stringify(IN(n)),l=v.useRef(!1);return VM(()=>{l.current=!0}),v.useCallback((d,f={})=>{if(hi(l.current,HM),!l.current)return;if(typeof d=="number"){r.go(d);return}let h=FN(d,JSON.parse(i),s,f.relative==="path");e==null&&t!=="/"&&(h.pathname=h.pathname==="/"?t:fl([t,h.pathname])),(f.replace?r.replace:r.push)(h,f.state,f)},[t,r,i,s,e])}v.createContext(null);function Zh(e,{relative:t}={}){let{matches:r}=v.useContext(zi),{pathname:n}=pi(),s=JSON.stringify(IN(r));return v.useMemo(()=>FN(e,JSON.parse(s),n,t==="path"),[e,s,n,t])}function yq(e,t){return qM(e,t)}function qM(e,t,r,n){Pr(Wd(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:s}=v.useContext(gi),{matches:i}=v.useContext(zi),l=i[i.length-1],c=l?l.params:{},d=l?l.pathname:"/",f=l?l.pathnameBase:"/",h=l&&l.route;{let S=h&&h.path||"";WM(d,!h||S.endsWith("*")||S.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${d}" (under <Route path="${S}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${S}"> to <Route path="${S==="/"?"*":`${S}/*`}">.`)}let g=pi(),p;if(t){let S=typeof t=="string"?Vd(t):t;Pr(f==="/"||S.pathname?.startsWith(f),`When overriding the location using \`<Routes location>\` or \`useRoutes(routes, location)\`, the location pathname must begin with the portion of the URL pathname that was matched by all parent routes. The current pathname base is "${f}" but pathname "${S.pathname}" was given in the \`location\` prop.`),p=S}else p=g;let y=p.pathname||"/",b=y;if(f!=="/"){let S=f.replace(/^\//,"").split("/");b="/"+y.replace(/^\//,"").split("/").slice(S.length).join("/")}let w=LM(e,{pathname:b});hi(h||w!=null,`No routes matched location "${p.pathname}${p.search}${p.hash}" `),hi(w==null||w[w.length-1].route.element!==void 0||w[w.length-1].route.Component!==void 0||w[w.length-1].route.lazy!==void 0,`Matched leaf route at location "${p.pathname}${p.search}${p.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`);let j=Nq(w&&w.map(S=>Object.assign({},S,{params:Object.assign({},c,S.params),pathname:fl([f,s.encodeLocation?s.encodeLocation(S.pathname).pathname:S.pathname]),pathnameBase:S.pathnameBase==="/"?f:fl([f,s.encodeLocation?s.encodeLocation(S.pathnameBase).pathname:S.pathnameBase])})),i,r,n);return t&&j?v.createElement(Qh.Provider,{value:{location:{pathname:"/",search:"",hash:"",state:null,key:"default",...p},navigationType:"POP"}},j):j}function vq(){let e=Tq(),t=fq(e)?`${e.status} ${e.statusText}`:e instanceof Error?e.message:JSON.stringify(e),r=e instanceof Error?e.stack:null,n="rgba(200,200,200, 0.5)",s={padding:"0.5rem",backgroundColor:n},i={padding:"2px 4px",backgroundColor:n},l=null;return console.error("Error handled by React Router default ErrorBoundary:",e),l=v.createElement(v.Fragment,null,v.createElement("p",null,"💿 Hey developer 👋"),v.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",v.createElement("code",{style:i},"ErrorBoundary")," or"," ",v.createElement("code",{style:i},"errorElement")," prop on your route.")),v.createElement(v.Fragment,null,v.createElement("h2",null,"Unexpected Application Error!"),v.createElement("h3",{style:{fontStyle:"italic"}},t),r?v.createElement("pre",{style:s},r):null,l)}var bq=v.createElement(vq,null),wq=class extends v.Component{constructor(e){super(e),this.state={location:e.location,revalidation:e.revalidation,error:e.error}}static getDerivedStateFromError(e){return{error:e}}static getDerivedStateFromProps(e,t){return t.location!==e.location||t.revalidation!=="idle"&&e.revalidation==="idle"?{error:e.error,location:e.location,revalidation:e.revalidation}:{error:e.error!==void 0?e.error:t.error,location:t.location,revalidation:e.revalidation||t.revalidation}}componentDidCatch(e,t){console.error("React Router caught the following error during render",e,t)}render(){return this.state.error!==void 0?v.createElement(zi.Provider,{value:this.props.routeContext},v.createElement(LN.Provider,{value:this.state.error,children:this.props.component})):this.props.children}};function jq({routeContext:e,match:t,children:r}){let n=v.useContext(qd);return n&&n.static&&n.staticContext&&(t.route.errorElement||t.route.ErrorBoundary)&&(n.staticContext._deepestRenderedBoundaryId=t.route.id),v.createElement(zi.Provider,{value:e},r)}function Nq(e,t=[],r=null,n=null){if(e==null){if(!r)return null;if(r.errors)e=r.matches;else if(t.length===0&&!r.initialized&&r.matches.length>0)e=r.matches;else return null}let s=e,i=r?.errors;if(i!=null){let d=s.findIndex(f=>f.route.id&&i?.[f.route.id]!==void 0);Pr(d>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(i).join(",")}`),s=s.slice(0,Math.min(s.length,d+1))}let l=!1,c=-1;if(r)for(let d=0;d<s.length;d++){let f=s[d];if((f.route.HydrateFallback||f.route.hydrateFallbackElement)&&(c=d),f.route.id){let{loaderData:h,errors:g}=r,p=f.route.loader&&!h.hasOwnProperty(f.route.id)&&(!g||g[f.route.id]===void 0);if(f.route.lazy||p){l=!0,c>=0?s=s.slice(0,c+1):s=[s[0]];break}}}return s.reduceRight((d,f,h)=>{let g,p=!1,y=null,b=null;r&&(g=i&&f.route.id?i[f.route.id]:void 0,y=f.route.errorElement||bq,l&&(c<0&&h===0?(WM("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),p=!0,b=null):c===h&&(p=!0,b=f.route.hydrateFallbackElement||null)));let w=t.concat(s.slice(0,h+1)),j=()=>{let S;return g?S=y:p?S=b:f.route.Component?S=v.createElement(f.route.Component,null):f.route.element?S=f.route.element:S=d,v.createElement(jq,{match:f,routeContext:{outlet:d,matches:w,isDataRoute:r!=null},children:S})};return r&&(f.route.ErrorBoundary||f.route.errorElement||h===0)?v.createElement(wq,{location:r.location,revalidation:r.revalidation,component:y,error:g,children:j(),routeContext:{outlet:null,matches:w,isDataRoute:!0}}):j()},null)}function BN(e){return`${e} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function Sq(e){let t=v.useContext(qd);return Pr(t,BN(e)),t}function _q(e){let t=v.useContext(Gx);return Pr(t,BN(e)),t}function kq(e){let t=v.useContext(zi);return Pr(t,BN(e)),t}function $N(e){let t=kq(e),r=t.matches[t.matches.length-1];return Pr(r.route.id,`${e} can only be used on routes that contain a unique "id"`),r.route.id}function Eq(){return $N("useRouteId")}function Tq(){let e=v.useContext(LN),t=_q("useRouteError"),r=$N("useRouteError");return e!==void 0?e:t.errors?.[r]}function Aq(){let{router:e}=Sq("useNavigate"),t=$N("useNavigate"),r=v.useRef(!1);return VM(()=>{r.current=!0}),v.useCallback(async(s,i={})=>{hi(r.current,HM),r.current&&(typeof s=="number"?e.navigate(s):await e.navigate(s,{fromRouteId:t,...i}))},[e,t])}var dC={};function WM(e,t,r){!t&&!dC[e]&&(dC[e]=!0,hi(!1,r))}v.memo(Cq);function Cq({routes:e,future:t,state:r}){return qM(e,void 0,r,t)}function UN({to:e,replace:t,state:r,relative:n}){Pr(Wd(),"<Navigate> may be used only in the context of a <Router> component.");let{static:s}=v.useContext(gi);hi(!s,"<Navigate> must not be used on the initial render in a <StaticRouter>. This is a no-op, but you should modify your code so the <Navigate> is only ever rendered in response to some user interaction or state change.");let{matches:i}=v.useContext(zi),{pathname:l}=pi(),c=Wo(),d=FN(e,IN(i),l,n==="path"),f=JSON.stringify(d);return v.useEffect(()=>{c(JSON.parse(f),{replace:t,state:r,relative:n})},[c,f,n,t,r]),null}function Kt(e){Pr(!1,"A <Route> is only ever to be used as the child of <Routes> element, never rendered directly. Please wrap your <Route> in a <Routes>.")}function Oq({basename:e="/",children:t=null,location:r,navigationType:n="POP",navigator:s,static:i=!1}){Pr(!Wd(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let l=e.replace(/^\/*/,"/"),c=v.useMemo(()=>({basename:l,navigator:s,static:i,future:{}}),[l,s,i]);typeof r=="string"&&(r=Vd(r));let{pathname:d="/",search:f="",hash:h="",state:g=null,key:p="default"}=r,y=v.useMemo(()=>{let b=wl(d,l);return b==null?null:{location:{pathname:b,search:f,hash:h,state:g,key:p},navigationType:n}},[l,d,f,h,g,p,n]);return hi(y!=null,`<Router basename="${l}"> is not able to match the URL "${d}${f}${h}" because it does not start with the basename, so the <Router> won't render anything.`),y==null?null:v.createElement(gi.Provider,{value:c},v.createElement(Qh.Provider,{children:t,value:y}))}function Dq({children:e,location:t}){return yq(q2(e),t)}function q2(e,t=[]){let r=[];return v.Children.forEach(e,(n,s)=>{if(!v.isValidElement(n))return;let i=[...t,s];if(n.type===v.Fragment){r.push.apply(r,q2(n.props.children,i));return}Pr(n.type===Kt,`[${typeof n.type=="string"?n.type:n.type.name}] is not a <Route> component. All component children of <Routes> must be a <Route> or <React.Fragment>`),Pr(!n.props.index||!n.props.children,"An index route cannot have child routes.");let l={id:n.props.id||i.join("-"),caseSensitive:n.props.caseSensitive,element:n.props.element,Component:n.props.Component,index:n.props.index,path:n.props.path,loader:n.props.loader,action:n.props.action,hydrateFallbackElement:n.props.hydrateFallbackElement,HydrateFallback:n.props.HydrateFallback,errorElement:n.props.errorElement,ErrorBoundary:n.props.ErrorBoundary,hasErrorBoundary:n.props.hasErrorBoundary===!0||n.props.ErrorBoundary!=null||n.props.errorElement!=null,shouldRevalidate:n.props.shouldRevalidate,handle:n.props.handle,lazy:n.props.lazy};n.props.children&&(l.children=q2(n.props.children,i)),r.push(l)}),r}var gp="get",pp="application/x-www-form-urlencoded";function Kx(e){return e!=null&&typeof e.tagName=="string"}function Pq(e){return Kx(e)&&e.tagName.toLowerCase()==="button"}function Mq(e){return Kx(e)&&e.tagName.toLowerCase()==="form"}function Rq(e){return Kx(e)&&e.tagName.toLowerCase()==="input"}function Iq(e){return!!(e.metaKey||e.altKey||e.ctrlKey||e.shiftKey)}function Fq(e,t){return e.button===0&&(!t||t==="_self")&&!Iq(e)}var Fg=null;function Lq(){if(Fg===null)try{new FormData(document.createElement("form"),0),Fg=!1}catch{Fg=!0}return Fg}var Bq=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function f1(e){return e!=null&&!Bq.has(e)?(hi(!1,`"${e}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${pp}"`),null):e}function $q(e,t){let r,n,s,i,l;if(Mq(e)){let c=e.getAttribute("action");n=c?wl(c,t):null,r=e.getAttribute("method")||gp,s=f1(e.getAttribute("enctype"))||pp,i=new FormData(e)}else if(Pq(e)||Rq(e)&&(e.type==="submit"||e.type==="image")){let c=e.form;if(c==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let d=e.getAttribute("formaction")||c.getAttribute("action");if(n=d?wl(d,t):null,r=e.getAttribute("formmethod")||c.getAttribute("method")||gp,s=f1(e.getAttribute("formenctype"))||f1(c.getAttribute("enctype"))||pp,i=new FormData(c,e),!Lq()){let{name:f,type:h,value:g}=e;if(h==="image"){let p=f?`${f}.`:"";i.append(`${p}x`,"0"),i.append(`${p}y`,"0")}else f&&i.append(f,g)}}else{if(Kx(e))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');r=gp,n=null,s=pp,l=e}return i&&s==="text/plain"&&(l=i,i=void 0),{action:n,method:r.toLowerCase(),encType:s,formData:i,body:l}}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");function zN(e,t){if(e===!1||e===null||typeof e>"u")throw new Error(t)}function Uq(e,t,r){let n=typeof e=="string"?new URL(e,typeof window>"u"?"server://singlefetch/":window.location.origin):e;return n.pathname==="/"?n.pathname=`_root.${r}`:t&&wl(n.pathname,t)==="/"?n.pathname=`${t.replace(/\/$/,"")}/_root.${r}`:n.pathname=`${n.pathname.replace(/\/$/,"")}.${r}`,n}async function zq(e,t){if(e.id in t)return t[e.id];try{let r=await import(e.module);return t[e.id]=r,r}catch(r){return console.error(`Error loading route module \`${e.module}\`, reloading page...`),console.error(r),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function Hq(e){return e==null?!1:e.href==null?e.rel==="preload"&&typeof e.imageSrcSet=="string"&&typeof e.imageSizes=="string":typeof e.rel=="string"&&typeof e.href=="string"}async function Vq(e,t,r){let n=await Promise.all(e.map(async s=>{let i=t.routes[s.route.id];if(i){let l=await zq(i,r);return l.links?l.links():[]}return[]}));return Kq(n.flat(1).filter(Hq).filter(s=>s.rel==="stylesheet"||s.rel==="preload").map(s=>s.rel==="stylesheet"?{...s,rel:"prefetch",as:"style"}:{...s,rel:"prefetch"}))}function fC(e,t,r,n,s,i){let l=(d,f)=>r[f]?d.route.id!==r[f].route.id:!0,c=(d,f)=>r[f].pathname!==d.pathname||r[f].route.path?.endsWith("*")&&r[f].params["*"]!==d.params["*"];return i==="assets"?t.filter((d,f)=>l(d,f)||c(d,f)):i==="data"?t.filter((d,f)=>{let h=n.routes[d.route.id];if(!h||!h.hasLoader)return!1;if(l(d,f)||c(d,f))return!0;if(d.route.shouldRevalidate){let g=d.route.shouldRevalidate({currentUrl:new URL(s.pathname+s.search+s.hash,window.origin),currentParams:r[0]?.params||{},nextUrl:new URL(e,window.origin),nextParams:d.params,defaultShouldRevalidate:!0});if(typeof g=="boolean")return g}return!0}):[]}function qq(e,t,{includeHydrateFallback:r}={}){return Wq(e.map(n=>{let s=t.routes[n.route.id];if(!s)return[];let i=[s.module];return s.clientActionModule&&(i=i.concat(s.clientActionModule)),s.clientLoaderModule&&(i=i.concat(s.clientLoaderModule)),r&&s.hydrateFallbackModule&&(i=i.concat(s.hydrateFallbackModule)),s.imports&&(i=i.concat(s.imports)),i}).flat(1))}function Wq(e){return[...new Set(e)]}function Gq(e){let t={},r=Object.keys(e).sort();for(let n of r)t[n]=e[n];return t}function Kq(e,t){let r=new Set;return new Set(t),e.reduce((n,s)=>{let i=JSON.stringify(Gq(s));return r.has(i)||(r.add(i),n.push({key:i,link:s})),n},[])}function GM(){let e=v.useContext(qd);return zN(e,"You must render this element inside a <DataRouterContext.Provider> element"),e}function Yq(){let e=v.useContext(Gx);return zN(e,"You must render this element inside a <DataRouterStateContext.Provider> element"),e}var HN=v.createContext(void 0);HN.displayName="FrameworkContext";function KM(){let e=v.useContext(HN);return zN(e,"You must render this element inside a <HydratedRouter> element"),e}function Xq(e,t){let r=v.useContext(HN),[n,s]=v.useState(!1),[i,l]=v.useState(!1),{onFocus:c,onBlur:d,onMouseEnter:f,onMouseLeave:h,onTouchStart:g}=t,p=v.useRef(null);v.useEffect(()=>{if(e==="render"&&l(!0),e==="viewport"){let w=S=>{S.forEach(k=>{l(k.isIntersecting)})},j=new IntersectionObserver(w,{threshold:.5});return p.current&&j.observe(p.current),()=>{j.disconnect()}}},[e]),v.useEffect(()=>{if(n){let w=setTimeout(()=>{l(!0)},100);return()=>{clearTimeout(w)}}},[n]);let y=()=>{s(!0)},b=()=>{s(!1),l(!1)};return r?e!=="intent"?[i,p,{}]:[i,p,{onFocus:p0(c,y),onBlur:p0(d,b),onMouseEnter:p0(f,y),onMouseLeave:p0(h,b),onTouchStart:p0(g,y)}]:[!1,p,{}]}function p0(e,t){return r=>{e&&e(r),r.defaultPrevented||t(r)}}function Qq({page:e,...t}){let{router:r}=GM(),n=v.useMemo(()=>LM(r.routes,e,r.basename),[r.routes,e,r.basename]);return n?v.createElement(Jq,{page:e,matches:n,...t}):null}function Zq(e){let{manifest:t,routeModules:r}=KM(),[n,s]=v.useState([]);return v.useEffect(()=>{let i=!1;return Vq(e,t,r).then(l=>{i||s(l)}),()=>{i=!0}},[e,t,r]),n}function Jq({page:e,matches:t,...r}){let n=pi(),{manifest:s,routeModules:i}=KM(),{basename:l}=GM(),{loaderData:c,matches:d}=Yq(),f=v.useMemo(()=>fC(e,t,d,s,n,"data"),[e,t,d,s,n]),h=v.useMemo(()=>fC(e,t,d,s,n,"assets"),[e,t,d,s,n]),g=v.useMemo(()=>{if(e===n.pathname+n.search+n.hash)return[];let b=new Set,w=!1;if(t.forEach(S=>{let k=s.routes[S.route.id];!k||!k.hasLoader||(!f.some(E=>E.route.id===S.route.id)&&S.route.id in c&&i[S.route.id]?.shouldRevalidate||k.hasClientLoader?w=!0:b.add(S.route.id))}),b.size===0)return[];let j=Uq(e,l,"data");return w&&b.size>0&&j.searchParams.set("_routes",t.filter(S=>b.has(S.route.id)).map(S=>S.route.id).join(",")),[j.pathname+j.search]},[l,c,n,s,f,t,e,i]),p=v.useMemo(()=>qq(h,s),[h,s]),y=Zq(h);return v.createElement(v.Fragment,null,g.map(b=>v.createElement("link",{key:b,rel:"prefetch",as:"fetch",href:b,...r})),p.map(b=>v.createElement("link",{key:b,rel:"modulepreload",href:b,...r})),y.map(({key:b,link:w})=>v.createElement("link",{key:b,...w})))}function eW(...e){return t=>{e.forEach(r=>{typeof r=="function"?r(t):r!=null&&(r.current=t)})}}var YM=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{YM&&(window.__reactRouterVersion="7.7.0")}catch{}function tW({basename:e,children:t,window:r}){let n=v.useRef();n.current==null&&(n.current=HV({window:r,v5Compat:!0}));let s=n.current,[i,l]=v.useState({action:s.action,location:s.location}),c=v.useCallback(d=>{v.startTransition(()=>l(d))},[l]);return v.useLayoutEffect(()=>s.listen(c),[s,c]),v.createElement(Oq,{basename:e,children:t,location:i.location,navigationType:i.action,navigator:s})}var XM=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,Ja=v.forwardRef(function({onClick:t,discover:r="render",prefetch:n="none",relative:s,reloadDocument:i,replace:l,state:c,target:d,to:f,preventScrollReset:h,viewTransition:g,...p},y){let{basename:b}=v.useContext(gi),w=typeof f=="string"&&XM.test(f),j,S=!1;if(typeof f=="string"&&w&&(j=f,YM))try{let R=new URL(window.location.href),B=f.startsWith("//")?new URL(R.protocol+f):new URL(f),V=wl(B.pathname,b);B.origin===R.origin&&V!=null?f=V+B.search+B.hash:S=!0}catch{hi(!1,`<Link to="${f}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}let k=pq(f,{relative:s}),[E,C,T]=Xq(n,p),A=aW(f,{replace:l,state:c,target:d,preventScrollReset:h,relative:s,viewTransition:g});function O(R){t&&t(R),R.defaultPrevented||A(R)}let D=v.createElement("a",{...p,...T,href:j||k,onClick:S||i?t:O,ref:eW(y,C),target:d,"data-discover":!w&&r==="render"?"true":void 0});return E&&!w?v.createElement(v.Fragment,null,D,v.createElement(Qq,{page:k})):D});Ja.displayName="Link";var W2=v.forwardRef(function({"aria-current":t="page",caseSensitive:r=!1,className:n="",end:s=!1,style:i,to:l,viewTransition:c,children:d,...f},h){let g=Zh(l,{relative:f.relative}),p=pi(),y=v.useContext(Gx),{navigator:b,basename:w}=v.useContext(gi),j=y!=null&&cW(g)&&c===!0,S=b.encodeLocation?b.encodeLocation(g).pathname:g.pathname,k=p.pathname,E=y&&y.navigation&&y.navigation.location?y.navigation.location.pathname:null;r||(k=k.toLowerCase(),E=E?E.toLowerCase():null,S=S.toLowerCase()),E&&w&&(E=wl(E,w)||E);const C=S!=="/"&&S.endsWith("/")?S.length-1:S.length;let T=k===S||!s&&k.startsWith(S)&&k.charAt(C)==="/",A=E!=null&&(E===S||!s&&E.startsWith(S)&&E.charAt(S.length)==="/"),O={isActive:T,isPending:A,isTransitioning:j},D=T?t:void 0,R;typeof n=="function"?R=n(O):R=[n,T?"active":null,A?"pending":null,j?"transitioning":null].filter(Boolean).join(" ");let B=typeof i=="function"?i(O):i;return v.createElement(Ja,{...f,"aria-current":D,className:R,ref:h,style:B,to:l,viewTransition:c},typeof d=="function"?d(O):d)});W2.displayName="NavLink";var rW=v.forwardRef(({discover:e="render",fetcherKey:t,navigate:r,reloadDocument:n,replace:s,state:i,method:l=gp,action:c,onSubmit:d,relative:f,preventScrollReset:h,viewTransition:g,...p},y)=>{let b=lW(),w=oW(c,{relative:f}),j=l.toLowerCase()==="get"?"get":"post",S=typeof c=="string"&&XM.test(c),k=E=>{if(d&&d(E),E.defaultPrevented)return;E.preventDefault();let C=E.nativeEvent.submitter,T=C?.getAttribute("formmethod")||l;b(C||E.currentTarget,{fetcherKey:t,method:T,navigate:r,replace:s,state:i,relative:f,preventScrollReset:h,viewTransition:g})};return v.createElement("form",{ref:y,method:j,action:w,onSubmit:n?d:k,...p,"data-discover":!S&&e==="render"?"true":void 0})});rW.displayName="Form";function nW(e){return`${e} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function QM(e){let t=v.useContext(qd);return Pr(t,nW(e)),t}function aW(e,{target:t,replace:r,state:n,preventScrollReset:s,relative:i,viewTransition:l}={}){let c=Wo(),d=pi(),f=Zh(e,{relative:i});return v.useCallback(h=>{if(Fq(h,t)){h.preventDefault();let g=r!==void 0?r:dh(d)===dh(f);c(e,{replace:g,state:n,preventScrollReset:s,relative:i,viewTransition:l})}},[d,c,f,r,n,t,e,s,i,l])}var sW=0,iW=()=>`__${String(++sW)}__`;function lW(){let{router:e}=QM("useSubmit"),{basename:t}=v.useContext(gi),r=Eq();return v.useCallback(async(n,s={})=>{let{action:i,method:l,encType:c,formData:d,body:f}=$q(n,t);if(s.navigate===!1){let h=s.fetcherKey||iW();await e.fetch(h,r,s.action||i,{preventScrollReset:s.preventScrollReset,formData:d,body:f,formMethod:s.method||l,formEncType:s.encType||c,flushSync:s.flushSync})}else await e.navigate(s.action||i,{preventScrollReset:s.preventScrollReset,formData:d,body:f,formMethod:s.method||l,formEncType:s.encType||c,replace:s.replace,state:s.state,fromRouteId:r,flushSync:s.flushSync,viewTransition:s.viewTransition})},[e,t,r])}function oW(e,{relative:t}={}){let{basename:r}=v.useContext(gi),n=v.useContext(zi);Pr(n,"useFormAction must be used inside a RouteContext");let[s]=n.matches.slice(-1),i={...Zh(e||".",{relative:t})},l=pi();if(e==null){i.search=l.search;let c=new URLSearchParams(i.search),d=c.getAll("index");if(d.some(h=>h==="")){c.delete("index"),d.filter(g=>g).forEach(g=>c.append("index",g));let h=c.toString();i.search=h?`?${h}`:""}}return(!e||e===".")&&s.route.index&&(i.search=i.search?i.search.replace(/^\?/,"?index&"):"?index"),r!=="/"&&(i.pathname=i.pathname==="/"?r:fl([r,i.pathname])),dh(i)}function cW(e,t={}){let r=v.useContext(zM);Pr(r!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:n}=QM("useViewTransitionState"),s=Zh(e,{relative:t.relative});if(!r.isTransitioning)return!1;let i=wl(r.currentLocation.pathname,n)||r.currentLocation.pathname,l=wl(r.nextLocation.pathname,n)||r.nextLocation.pathname;return Tp(s.pathname,l)!=null||Tp(s.pathname,i)!=null}var Gd=_M();const uW=xs(Gd);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const dW=e=>e.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),fW=e=>e.replace(/^([A-Z])|[\s-_]+(\w)/g,(t,r,n)=>n?n.toUpperCase():r.toLowerCase()),hC=e=>{const t=fW(e);return t.charAt(0).toUpperCase()+t.slice(1)},ZM=(...e)=>e.filter((t,r,n)=>!!t&&t.trim()!==""&&n.indexOf(t)===r).join(" ").trim(),hW=e=>{for(const t in e)if(t.startsWith("aria-")||t==="role"||t==="title")return!0};/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var mW={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const gW=v.forwardRef(({color:e="currentColor",size:t=24,strokeWidth:r=2,absoluteStrokeWidth:n,className:s="",children:i,iconNode:l,...c},d)=>v.createElement("svg",{ref:d,...mW,width:t,height:t,stroke:e,strokeWidth:n?Number(r)*24/Number(t):r,className:ZM("lucide",s),...!i&&!hW(c)&&{"aria-hidden":"true"},...c},[...l.map(([f,h])=>v.createElement(f,h)),...Array.isArray(i)?i:[i]]));/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ze=(e,t)=>{const r=v.forwardRef(({className:n,...s},i)=>v.createElement(gW,{ref:i,iconNode:t,className:ZM(`lucide-${dW(hC(e))}`,`lucide-${e}`,n),...s}));return r.displayName=hC(e),r};/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const pW=[["path",{d:"M22 12h-2.48a2 2 0 0 0-1.93 1.46l-2.35 8.36a.25.25 0 0 1-.48 0L9.24 2.18a.25.25 0 0 0-.48 0l-2.35 8.36A2 2 0 0 1 4.49 12H2",key:"169zse"}]],Co=ze("activity",pW);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const xW=[["path",{d:"m7 7 10 10",key:"1fmybs"}],["path",{d:"M17 7v10H7",key:"6fjiku"}]],yW=ze("arrow-down-right",xW);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const vW=[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]],JM=ze("arrow-left",vW);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const bW=[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"m12 5 7 7-7 7",key:"xquz4c"}]],Oo=ze("arrow-right",bW);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const wW=[["path",{d:"M7 7h10v10",key:"1tivn9"}],["path",{d:"M7 17 17 7",key:"1vkiza"}]],M0=ze("arrow-up-right",wW);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const jW=[["path",{d:"M10.268 21a2 2 0 0 0 3.464 0",key:"vwvbt9"}],["path",{d:"M3.262 15.326A1 1 0 0 0 4 17h16a1 1 0 0 0 .74-1.673C19.41 13.956 18 12.499 18 8A6 6 0 0 0 6 8c0 4.499-1.411 5.956-2.738 7.326",key:"11g9vi"}]],NW=ze("bell",jW);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const SW=[["path",{d:"M12 7v14",key:"1akyts"}],["path",{d:"M3 18a1 1 0 0 1-1-1V4a1 1 0 0 1 1-1h5a4 4 0 0 1 4 4 4 4 0 0 1 4-4h5a1 1 0 0 1 1 1v13a1 1 0 0 1-1 1h-6a3 3 0 0 0-3 3 3 3 0 0 0-3-3z",key:"ruj8y"}]],VN=ze("book-open",SW);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _W=[["path",{d:"M12 8V4H8",key:"hb8ula"}],["rect",{width:"16",height:"12",x:"4",y:"8",rx:"2",key:"enze0r"}],["path",{d:"M2 14h2",key:"vft8re"}],["path",{d:"M20 14h2",key:"4cs60a"}],["path",{d:"M15 13v2",key:"1xurst"}],["path",{d:"M9 13v2",key:"rq6x2g"}]],hl=ze("bot",_W);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const kW=[["path",{d:"M12 5a3 3 0 1 0-5.997.125 4 4 0 0 0-2.526 5.77 4 4 0 0 0 .556 6.588A4 4 0 1 0 12 18Z",key:"l5xja"}],["path",{d:"M9 13a4.5 4.5 0 0 0 3-4",key:"10igwf"}],["path",{d:"M6.003 5.125A3 3 0 0 0 6.401 6.5",key:"105sqy"}],["path",{d:"M3.477 10.896a4 4 0 0 1 .585-.396",key:"ql3yin"}],["path",{d:"M6 18a4 4 0 0 1-1.967-.516",key:"2e4loj"}],["path",{d:"M12 13h4",key:"1ku699"}],["path",{d:"M12 18h6a2 2 0 0 1 2 2v1",key:"105ag5"}],["path",{d:"M12 8h8",key:"1lhi5i"}],["path",{d:"M16 8V5a2 2 0 0 1 2-2",key:"u6izg6"}],["circle",{cx:"16",cy:"13",r:".5",key:"ry7gng"}],["circle",{cx:"18",cy:"3",r:".5",key:"1aiba7"}],["circle",{cx:"20",cy:"21",r:".5",key:"yhc1fs"}],["circle",{cx:"20",cy:"8",r:".5",key:"1e43v0"}]],EW=ze("brain-circuit",kW);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const TW=[["path",{d:"M12 5a3 3 0 1 0-5.997.125 4 4 0 0 0-2.526 5.77 4 4 0 0 0 .556 6.588A4 4 0 1 0 12 18Z",key:"l5xja"}],["path",{d:"M12 5a3 3 0 1 1 5.997.125 4 4 0 0 1 2.526 5.77 4 4 0 0 1-.556 6.588A4 4 0 1 1 12 18Z",key:"ep3f8r"}],["path",{d:"M15 13a4.5 4.5 0 0 1-3-4 4.5 4.5 0 0 1-3 4",key:"1p4c4q"}],["path",{d:"M17.599 6.5a3 3 0 0 0 .399-1.375",key:"tmeiqw"}],["path",{d:"M6.003 5.125A3 3 0 0 0 6.401 6.5",key:"105sqy"}],["path",{d:"M3.477 10.896a4 4 0 0 1 .585-.396",key:"ql3yin"}],["path",{d:"M19.938 10.5a4 4 0 0 1 .585.396",key:"1qfode"}],["path",{d:"M6 18a4 4 0 0 1-1.967-.516",key:"2e4loj"}],["path",{d:"M19.967 17.484A4 4 0 0 1 18 18",key:"159ez6"}]],os=ze("brain",TW);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const AW=[["path",{d:"M6 22V4a2 2 0 0 1 2-2h8a2 2 0 0 1 2 2v18Z",key:"1b4qmf"}],["path",{d:"M6 12H4a2 2 0 0 0-2 2v6a2 2 0 0 0 2 2h2",key:"i71pzd"}],["path",{d:"M18 9h2a2 2 0 0 1 2 2v9a2 2 0 0 1-2 2h-2",key:"10jefs"}],["path",{d:"M10 6h4",key:"1itunk"}],["path",{d:"M10 10h4",key:"tcdvrf"}],["path",{d:"M10 14h4",key:"kelpxr"}],["path",{d:"M10 18h4",key:"1ulq68"}]],od=ze("building-2",AW);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const CW=[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]],qN=ze("calendar",CW);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const OW=[["path",{d:"M3 3v16a2 2 0 0 0 2 2h16",key:"c24i48"}],["path",{d:"M18 17V9",key:"2bz60n"}],["path",{d:"M13 17V5",key:"1frdt8"}],["path",{d:"M8 17v-3",key:"17ska0"}]],ia=ze("chart-column",OW);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const DW=[["path",{d:"M3 3v16a2 2 0 0 0 2 2h16",key:"c24i48"}],["path",{d:"m19 9-5 5-4-4-3 3",key:"2osh9i"}]],PW=ze("chart-line",DW);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const MW=[["line",{x1:"12",x2:"12",y1:"20",y2:"10",key:"1vz5eb"}],["line",{x1:"18",x2:"18",y1:"20",y2:"4",key:"cun8e5"}],["line",{x1:"6",x2:"6",y1:"20",y2:"16",key:"hq0ia6"}]],eR=ze("chart-no-axes-column-increasing",MW);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const RW=[["path",{d:"M21 12c.552 0 1.005-.449.95-.998a10 10 0 0 0-8.953-8.951c-.55-.055-.998.398-.998.95v8a1 1 0 0 0 1 1z",key:"pzmjnu"}],["path",{d:"M21.21 15.89A10 10 0 1 1 8 2.83",key:"k2fpak"}]],G2=ze("chart-pie",RW);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const IW=[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]],tR=ze("check",IW);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const FW=[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]],rR=ze("chevron-down",FW);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const LW=[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]],BW=ze("chevron-right",LW);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $W=[["path",{d:"m18 15-6-6-6 6",key:"153udz"}]],UW=ze("chevron-up",$W);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const zW=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]],Ap=ze("circle-alert",zW);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const HW=[["path",{d:"M21.801 10A10 10 0 1 1 17 3.335",key:"yps3ct"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]],Tt=ze("circle-check-big",HW);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const VW=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m15 9-6 6",key:"1uzhvr"}],["path",{d:"m9 9 6 6",key:"z0biqf"}]],fh=ze("circle-x",VW);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const qW=[["rect",{width:"8",height:"4",x:"8",y:"2",rx:"1",ry:"1",key:"tgr4d6"}],["path",{d:"M16 4h2a2 2 0 0 1 2 2v14a2 2 0 0 1-2 2H6a2 2 0 0 1-2-2V6a2 2 0 0 1 2-2h2",key:"116196"}]],mC=ze("clipboard",qW);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const WW=[["path",{d:"M12 6v6l4 2",key:"mmk7yg"}],["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]],La=ze("clock",WW);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const GW=[["path",{d:"M16 2v2",key:"scm5qe"}],["path",{d:"M7 22v-2a2 2 0 0 1 2-2h6a2 2 0 0 1 2 2v2",key:"1waht3"}],["path",{d:"M8 2v2",key:"pbkmx"}],["circle",{cx:"12",cy:"11",r:"3",key:"itu57m"}],["rect",{x:"3",y:"4",width:"18",height:"18",rx:"2",key:"12vinp"}]],KW=ze("contact",GW);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const YW=[["rect",{width:"14",height:"14",x:"8",y:"8",rx:"2",ry:"2",key:"17jyea"}],["path",{d:"M4 16c-1.1 0-2-.9-2-2V4c0-1.1.9-2 2-2h10c1.1 0 2 .9 2 2",key:"zix9uf"}]],XW=ze("copy",YW);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const QW=[["rect",{width:"20",height:"14",x:"2",y:"5",rx:"2",key:"ynyp8z"}],["line",{x1:"2",x2:"22",y1:"10",y2:"10",key:"1b3vmo"}]],sd=ze("credit-card",QW);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ZW=[["path",{d:"M11.562 3.266a.5.5 0 0 1 .876 0L15.39 8.87a1 1 0 0 0 1.516.294L21.183 5.5a.5.5 0 0 1 .798.519l-2.834 10.246a1 1 0 0 1-.956.734H5.81a1 1 0 0 1-.957-.734L2.02 6.02a.5.5 0 0 1 .798-.519l4.276 3.664a1 1 0 0 0 1.516-.294z",key:"1vdc57"}],["path",{d:"M5 21h14",key:"11awu3"}]],xp=ze("crown",ZW);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const JW=[["ellipse",{cx:"12",cy:"5",rx:"9",ry:"3",key:"msslwz"}],["path",{d:"M3 5V19A9 3 0 0 0 21 19V5",key:"1wlel7"}],["path",{d:"M3 12A9 3 0 0 0 21 12",key:"mv7ke4"}]],eG=ze("database",JW);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const tG=[["line",{x1:"12",x2:"12",y1:"2",y2:"22",key:"7eqyqh"}],["path",{d:"M17 5H9.5a3.5 3.5 0 0 0 0 7h5a3.5 3.5 0 0 1 0 7H6",key:"1b0p4s"}]],Jc=ze("dollar-sign",tG);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const rG=[["path",{d:"M12 15V3",key:"m9g1x1"}],["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["path",{d:"m7 10 5 5 5-5",key:"brsn70"}]],hh=ze("download",rG);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const nG=[["circle",{cx:"12",cy:"12",r:"1",key:"41hilf"}],["circle",{cx:"12",cy:"5",r:"1",key:"gxeob9"}],["circle",{cx:"12",cy:"19",r:"1",key:"lyex9k"}]],aG=ze("ellipsis-vertical",nG);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const sG=[["path",{d:"M10.733 5.076a10.744 10.744 0 0 1 11.205 6.575 1 1 0 0 1 0 .696 10.747 10.747 0 0 1-1.444 2.49",key:"ct8e1f"}],["path",{d:"M14.084 14.158a3 3 0 0 1-4.242-4.242",key:"151rxh"}],["path",{d:"M17.479 17.499a10.75 10.75 0 0 1-15.417-5.151 1 1 0 0 1 0-.696 10.75 10.75 0 0 1 4.446-5.143",key:"13bj9a"}],["path",{d:"m2 2 20 20",key:"1ooewy"}]],mh=ze("eye-off",sG);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const iG=[["path",{d:"M2.062 12.348a1 1 0 0 1 0-.696 10.75 10.75 0 0 1 19.876 0 1 1 0 0 1 0 .696 10.75 10.75 0 0 1-19.876 0",key:"1nclc0"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]],gn=ze("eye",iG);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const lG=[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"M10 9H8",key:"b1mrlr"}],["path",{d:"M16 13H8",key:"t4e002"}],["path",{d:"M16 17H8",key:"z1uh3a"}]],ra=ze("file-text",lG);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const oG=[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}]],cG=ze("file",oG);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const uG=[["path",{d:"M10 20a1 1 0 0 0 .553.895l2 1A1 1 0 0 0 14 21v-7a2 2 0 0 1 .517-1.341L21.74 4.67A1 1 0 0 0 21 3H3a1 1 0 0 0-.742 1.67l7.225 7.989A2 2 0 0 1 10 14z",key:"sc7q7i"}]],K2=ze("funnel",uG);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const dG=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 2a14.5 14.5 0 0 0 0 20 14.5 14.5 0 0 0 0-20",key:"13o1zl"}],["path",{d:"M2 12h20",key:"9i4pu4"}]],nR=ze("globe",dG);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const fG=[["circle",{cx:"9",cy:"12",r:"1",key:"1vctgf"}],["circle",{cx:"9",cy:"5",r:"1",key:"hp0tcf"}],["circle",{cx:"9",cy:"19",r:"1",key:"fkjjf6"}],["circle",{cx:"15",cy:"12",r:"1",key:"1tmaij"}],["circle",{cx:"15",cy:"5",r:"1",key:"19l28e"}],["circle",{cx:"15",cy:"19",r:"1",key:"f4zoj3"}]],hG=ze("grip-vertical",fG);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const mG=[["line",{x1:"4",x2:"20",y1:"9",y2:"9",key:"4lhtct"}],["line",{x1:"4",x2:"20",y1:"15",y2:"15",key:"vyu0kd"}],["line",{x1:"10",x2:"8",y1:"3",y2:"21",key:"1ggp8o"}],["line",{x1:"16",x2:"14",y1:"3",y2:"21",key:"weycgp"}]],gG=ze("hash",mG);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const pG=[["path",{d:"M3 14h3a2 2 0 0 1 2 2v3a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-7a9 9 0 0 1 18 0v7a2 2 0 0 1-2 2h-1a2 2 0 0 1-2-2v-3a2 2 0 0 1 2-2h3",key:"1xhozi"}]],aR=ze("headphones",pG);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const xG=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 16v-4",key:"1dtifu"}],["path",{d:"M12 8h.01",key:"e9boi3"}]],ki=ze("info",xG);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const yG=[["path",{d:"M6 5v11",key:"mdvv1e"}],["path",{d:"M12 5v6",key:"14ar3b"}],["path",{d:"M18 5v14",key:"7ji314"}]],vG=ze("kanban",yG);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const bG=[["rect",{width:"7",height:"9",x:"3",y:"3",rx:"1",key:"10lvy0"}],["rect",{width:"7",height:"5",x:"14",y:"3",rx:"1",key:"16une8"}],["rect",{width:"7",height:"9",x:"14",y:"12",rx:"1",key:"1hutg5"}],["rect",{width:"7",height:"5",x:"3",y:"16",rx:"1",key:"ldoo1y"}]],wG=ze("layout-dashboard",bG);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const jG=[["path",{d:"M15 14c.2-1 .7-1.7 1.5-2.5 1-.9 1.5-2.2 1.5-3.5A6 6 0 0 0 6 8c0 1 .2 2.2 1.5 3.5.7.7 1.3 1.5 1.5 2.5",key:"1gvzjb"}],["path",{d:"M9 18h6",key:"x1upvd"}],["path",{d:"M10 22h4",key:"ceow96"}]],Cp=ze("lightbulb",jG);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const NG=[["rect",{width:"18",height:"11",x:"3",y:"11",rx:"2",ry:"2",key:"1w4ew1"}],["path",{d:"M7 11V7a5 5 0 0 1 10 0v4",key:"fwvmzm"}]],sR=ze("lock",NG);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const SG=[["path",{d:"m16 17 5-5-5-5",key:"1bji2h"}],["path",{d:"M21 12H9",key:"dn1m92"}],["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}]],_G=ze("log-out",SG);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const kG=[["path",{d:"m22 7-8.991 5.727a2 2 0 0 1-2.009 0L2 7",key:"132q7q"}],["rect",{x:"2",y:"4",width:"20",height:"16",rx:"2",key:"izxlao"}]],Kd=ze("mail",kG);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const EG=[["path",{d:"M4 12h16",key:"1lakjw"}],["path",{d:"M4 18h16",key:"19g7jn"}],["path",{d:"M4 6h16",key:"1o0s65"}]],iR=ze("menu",EG);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const TG=[["path",{d:"M7.9 20A9 9 0 1 0 4 16.1L2 22Z",key:"vv11sd"}]],_d=ze("message-circle",TG);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const AG=[["path",{d:"M21 15a2 2 0 0 1-2 2H7l-4 4V5a2 2 0 0 1 2-2h14a2 2 0 0 1 2 2z",key:"1lielz"}]],gh=ze("message-square",AG);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const CG=[["path",{d:"M14 9a2 2 0 0 1-2 2H6l-4 4V4a2 2 0 0 1 2-2h8a2 2 0 0 1 2 2z",key:"p1xzt8"}],["path",{d:"M18 9h2a2 2 0 0 1 2 2v11l-4-4h-6a2 2 0 0 1-2-2v-1",key:"1cx29u"}]],OG=ze("messages-square",CG);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const DG=[["path",{d:"M12 19v3",key:"npa21l"}],["path",{d:"M19 10v2a7 7 0 0 1-14 0v-2",key:"1vc78b"}],["rect",{x:"9",y:"2",width:"6",height:"13",rx:"3",key:"s6n7sd"}]],Y2=ze("mic",DG);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const PG=[["path",{d:"M5 12h14",key:"1ays0h"}]],MG=ze("minus",PG);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const RG=[["path",{d:"M12 3a6 6 0 0 0 9 9 9 9 0 1 1-9-9Z",key:"a7tn18"}]],IG=ze("moon",RG);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const FG=[["path",{d:"m16 6-8.414 8.586a2 2 0 0 0 2.829 2.829l8.414-8.586a4 4 0 1 0-5.657-5.657l-8.379 8.551a6 6 0 1 0 8.485 8.485l8.379-8.551",key:"1miecu"}]],LG=ze("paperclip",FG);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const BG=[["rect",{x:"14",y:"4",width:"4",height:"16",rx:"1",key:"zuxfzm"}],["rect",{x:"6",y:"4",width:"4",height:"16",rx:"1",key:"1okwgv"}]],lR=ze("pause",BG);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $G=[["path",{d:"M21.174 6.812a1 1 0 0 0-3.986-3.987L3.842 16.174a2 2 0 0 0-.5.83l-1.321 4.352a.5.5 0 0 0 .623.622l4.353-1.32a2 2 0 0 0 .83-.497z",key:"1a8usu"}]],UG=ze("pen",$G);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const zG=[["path",{d:"M13.832 16.568a1 1 0 0 0 1.213-.303l.355-.465A2 2 0 0 1 17 15h3a2 2 0 0 1 2 2v3a2 2 0 0 1-2 2A18 18 0 0 1 2 4a2 2 0 0 1 2-2h3a2 2 0 0 1 2 2v3a2 2 0 0 1-.8 1.6l-.468.351a1 1 0 0 0-.292 1.233 14 14 0 0 0 6.392 6.384",key:"9njp5v"}]],kd=ze("phone",zG);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const HG=[["polygon",{points:"6 3 20 12 6 21 6 3",key:"1oa8hb"}]],Op=ze("play",HG);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const VG=[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]],_r=ze("plus",VG);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const qG=[["path",{d:"M3 12a9 9 0 0 1 9-9 9.75 9.75 0 0 1 6.74 2.74L21 8",key:"v9h5vc"}],["path",{d:"M21 3v5h-5",key:"1q7to0"}],["path",{d:"M21 12a9 9 0 0 1-9 9 9.75 9.75 0 0 1-6.74-2.74L3 16",key:"3uifl3"}],["path",{d:"M8 16H3v5",key:"1cv678"}]],sn=ze("refresh-cw",qG);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const WG=[["path",{d:"M20 18v-2a4 4 0 0 0-4-4H4",key:"5vmcpk"}],["path",{d:"m9 17-5-5 5-5",key:"nvlc11"}]],GG=ze("reply",WG);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const KG=[["path",{d:"M4.5 16.5c-1.5 1.26-2 5-2 5s3.74-.5 5-2c.71-.84.7-2.13-.09-2.91a2.18 2.18 0 0 0-2.91-.09z",key:"m3kijz"}],["path",{d:"m12 15-3-3a22 22 0 0 1 2-3.95A12.88 12.88 0 0 1 22 2c0 2.72-.78 7.5-6 11a22.35 22.35 0 0 1-4 2z",key:"1fmvmk"}],["path",{d:"M9 12H4s.55-3.03 2-4c1.62-1.08 5 0 5 0",key:"1f8sc4"}],["path",{d:"M12 15v5s3.03-.55 4-2c1.08-1.62 0-5 0-5",key:"qeys4"}]],gC=ze("rocket",KG);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const YG=[["path",{d:"M15.2 3a2 2 0 0 1 1.4.6l3.8 3.8a2 2 0 0 1 .6 1.4V19a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2z",key:"1c8476"}],["path",{d:"M17 21v-7a1 1 0 0 0-1-1H8a1 1 0 0 0-1 1v7",key:"1ydtos"}],["path",{d:"M7 3v4a1 1 0 0 0 1 1h7",key:"t51u73"}]],XG=ze("save",YG);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const QG=[["path",{d:"m21 21-4.34-4.34",key:"14j7rj"}],["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}]],Fi=ze("search",QG);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ZG=[["path",{d:"M14.536 21.686a.5.5 0 0 0 .937-.024l6.5-19a.496.496 0 0 0-.635-.635l-19 6.5a.5.5 0 0 0-.024.937l7.93 3.18a2 2 0 0 1 1.112 1.11z",key:"1ffxy3"}],["path",{d:"m21.854 2.147-10.94 10.939",key:"12cjpa"}]],eu=ze("send",ZG);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const JG=[["path",{d:"M12.22 2h-.44a2 2 0 0 0-2 2v.18a2 2 0 0 1-1 1.73l-.43.25a2 2 0 0 1-2 0l-.15-.08a2 2 0 0 0-2.73.73l-.22.38a2 2 0 0 0 .73 2.73l.15.1a2 2 0 0 1 1 1.72v.51a2 2 0 0 1-1 1.74l-.15.09a2 2 0 0 0-.73 2.73l.22.38a2 2 0 0 0 2.73.73l.15-.08a2 2 0 0 1 2 0l.43.25a2 2 0 0 1 1 1.73V20a2 2 0 0 0 2 2h.44a2 2 0 0 0 2-2v-.18a2 2 0 0 1 1-1.73l.43-.25a2 2 0 0 1 2 0l.15.08a2 2 0 0 0 2.73-.73l.22-.39a2 2 0 0 0-.73-2.73l-.15-.08a2 2 0 0 1-1-1.74v-.5a2 2 0 0 1 1-1.74l.15-.09a2 2 0 0 0 .73-2.73l-.22-.38a2 2 0 0 0-2.73-.73l-.15.08a2 2 0 0 1-2 0l-.43-.25a2 2 0 0 1-1-1.73V4a2 2 0 0 0-2-2z",key:"1qme2f"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]],Hs=ze("settings",JG);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const eK=[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}]],WN=ze("shield",eK);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const tK=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M8 14s1.5 2 4 2 4-2 4-2",key:"1y1vjs"}],["line",{x1:"9",x2:"9.01",y1:"9",y2:"9",key:"yxxnd0"}],["line",{x1:"15",x2:"15.01",y1:"9",y2:"9",key:"1p4y9e"}]],rK=ze("smile",tK);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const nK=[["path",{d:"M9.937 15.5A2 2 0 0 0 8.5 14.063l-6.135-1.582a.5.5 0 0 1 0-.962L8.5 9.936A2 2 0 0 0 9.937 8.5l1.582-6.135a.5.5 0 0 1 .963 0L14.063 8.5A2 2 0 0 0 15.5 9.937l6.135 1.581a.5.5 0 0 1 0 .964L15.5 14.063a2 2 0 0 0-1.437 1.437l-1.582 6.135a.5.5 0 0 1-.963 0z",key:"4pj2yx"}],["path",{d:"M20 3v4",key:"1olli1"}],["path",{d:"M22 5h-4",key:"1gvqau"}],["path",{d:"M4 17v2",key:"vumght"}],["path",{d:"M5 18H3",key:"zchphs"}]],So=ze("sparkles",nK);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const aK=[["path",{d:"M21 10.656V19a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h12.344",key:"2acyp4"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]],oR=ze("square-check-big",aK);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const sK=[["path",{d:"M12 3H5a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7",key:"1m0v6g"}],["path",{d:"M18.375 2.625a1 1 0 0 1 3 3l-9.013 9.014a2 2 0 0 1-.853.505l-2.873.84a.5.5 0 0 1-.62-.62l.84-2.873a2 2 0 0 1 .506-.852z",key:"ohrbg2"}]],Jh=ze("square-pen",sK);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const iK=[["path",{d:"M11.525 2.295a.53.53 0 0 1 .95 0l2.31 4.679a2.123 2.123 0 0 0 1.595 1.16l5.166.756a.53.53 0 0 1 .294.904l-3.736 3.638a2.123 2.123 0 0 0-.611 1.878l.882 5.14a.53.53 0 0 1-.771.56l-4.618-2.428a2.122 2.122 0 0 0-1.973 0L6.396 21.01a.53.53 0 0 1-.77-.56l.881-5.139a2.122 2.122 0 0 0-.611-1.879L2.16 9.795a.53.53 0 0 1 .294-.906l5.165-.755a2.122 2.122 0 0 0 1.597-1.16z",key:"r04s7s"}]],X2=ze("star",iK);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const lK=[["circle",{cx:"12",cy:"12",r:"4",key:"4exip2"}],["path",{d:"M12 2v2",key:"tus03m"}],["path",{d:"M12 20v2",key:"1lh1kg"}],["path",{d:"m4.93 4.93 1.41 1.41",key:"149t6j"}],["path",{d:"m17.66 17.66 1.41 1.41",key:"ptbguv"}],["path",{d:"M2 12h2",key:"1t8f8n"}],["path",{d:"M20 12h2",key:"1q8mjw"}],["path",{d:"m6.34 17.66-1.41 1.41",key:"1m8zz5"}],["path",{d:"m19.07 4.93-1.41 1.41",key:"1shlcs"}]],oK=ze("sun",lK);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const cK=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["circle",{cx:"12",cy:"12",r:"6",key:"1vlfrh"}],["circle",{cx:"12",cy:"12",r:"2",key:"1c9p78"}]],ha=ze("target",cK);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const uK=[["path",{d:"M14.5 2v17.5c0 1.4-1.1 2.5-2.5 2.5c-1.4 0-2.5-1.1-2.5-2.5V2",key:"125lnx"}],["path",{d:"M8.5 2h7",key:"csnxdl"}],["path",{d:"M14.5 16h-5",key:"1ox875"}]],dK=ze("test-tube",uK);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const fK=[["path",{d:"M7 10v12",key:"1qc93n"}],["path",{d:"M15 5.88 14 10h5.83a2 2 0 0 1 1.92 2.56l-2.33 8A2 2 0 0 1 17.5 22H4a2 2 0 0 1-2-2v-8a2 2 0 0 1 2-2h2.76a2 2 0 0 0 1.79-1.11L12 2a3.13 3.13 0 0 1 3 3.88Z",key:"emmmcr"}]],hK=ze("thumbs-up",fK);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const mK=[["path",{d:"M2 9a3 3 0 0 1 0 6v2a2 2 0 0 0 2 2h16a2 2 0 0 0 2-2v-2a3 3 0 0 1 0-6V7a2 2 0 0 0-2-2H4a2 2 0 0 0-2 2Z",key:"qn84l0"}],["path",{d:"M13 5v2",key:"dyzc3o"}],["path",{d:"M13 17v2",key:"1ont0d"}],["path",{d:"M13 11v2",key:"1wjjxi"}]],H0=ze("ticket",mK);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const gK=[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17",key:"1uufr5"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17",key:"xtxkd"}]],mi=ze("trash-2",gK);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const pK=[["path",{d:"M16 17h6v-6",key:"t6n2it"}],["path",{d:"m22 17-8.5-8.5-5 5L2 7",key:"x473p"}]],cR=ze("trending-down",pK);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const xK=[["path",{d:"M16 7h6v6",key:"box55l"}],["path",{d:"m22 7-8.5 8.5-5-5L2 17",key:"1t1m79"}]],Cr=ze("trending-up",xK);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const yK=[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3",key:"wmoenq"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]],pa=ze("triangle-alert",yK);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const vK=[["path",{d:"M12 3v12",key:"1x0j5s"}],["path",{d:"m17 8-5-5-5 5",key:"7q97r8"}],["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}]],pC=ze("upload",vK);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const bK=[["path",{d:"m16 11 2 2 4-4",key:"9rsbq5"}],["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}]],uR=ze("user-check",bK);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const wK=[["path",{d:"M10 15H6a4 4 0 0 0-4 4v2",key:"1nfge6"}],["path",{d:"m14.305 16.53.923-.382",key:"1itpsq"}],["path",{d:"m15.228 13.852-.923-.383",key:"eplpkm"}],["path",{d:"m16.852 12.228-.383-.923",key:"13v3q0"}],["path",{d:"m16.852 17.772-.383.924",key:"1i8mnm"}],["path",{d:"m19.148 12.228.383-.923",key:"1q8j1v"}],["path",{d:"m19.53 18.696-.382-.924",key:"vk1qj3"}],["path",{d:"m20.772 13.852.924-.383",key:"n880s0"}],["path",{d:"m20.772 16.148.924.383",key:"1g6xey"}],["circle",{cx:"18",cy:"15",r:"3",key:"gjjjvw"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}]],jK=ze("user-cog",wK);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const NK=[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["line",{x1:"19",x2:"19",y1:"8",y2:"14",key:"1bvyxn"}],["line",{x1:"22",x2:"16",y1:"11",y2:"11",key:"1shjgl"}]],Yx=ze("user-plus",NK);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const SK=[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]],Yd=ze("user",SK);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _K=[["path",{d:"M18 21a8 8 0 0 0-16 0",key:"3ypg7q"}],["circle",{cx:"10",cy:"8",r:"5",key:"o932ke"}],["path",{d:"M22 20c0-3.37-2-6.5-4-8a5 5 0 0 0-.45-8.3",key:"10s06x"}]],kK=ze("users-round",_K);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const EK=[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["path",{d:"M16 3.128a4 4 0 0 1 0 7.744",key:"16gr8j"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}]],kr=ze("users",EK);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const TK=[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]],jr=ze("x",TK);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const AK=[["path",{d:"M4 14a1 1 0 0 1-.78-1.63l9.9-10.2a.5.5 0 0 1 .86.46l-1.92 6.02A1 1 0 0 0 13 10h7a1 1 0 0 1 .78 1.63l-9.9 10.2a.5.5 0 0 1-.86-.46l1.92-6.02A1 1 0 0 0 11 14z",key:"1xq2db"}]],Do=ze("zap",AK),CK="/assets/NeuraCRM--QfIME8Q.png",dR=v.createContext({});function OK(e){const t=v.useRef(null);return t.current===null&&(t.current=e()),t.current}const GN=typeof window<"u",DK=GN?v.useLayoutEffect:v.useEffect,KN=v.createContext(null);function YN(e,t){e.indexOf(t)===-1&&e.push(t)}function XN(e,t){const r=e.indexOf(t);r>-1&&e.splice(r,1)}const jl=(e,t,r)=>r>t?t:r<e?e:r;let QN=()=>{};const Nl={},fR=e=>/^-?(?:\d+(?:\.\d+)?|\.\d+)$/u.test(e);function hR(e){return typeof e=="object"&&e!==null}const mR=e=>/^0[^.\s]+$/u.test(e);function ZN(e){let t;return()=>(t===void 0&&(t=e()),t)}const Us=e=>e,PK=(e,t)=>r=>t(e(r)),em=(...e)=>e.reduce(PK),ph=(e,t,r)=>{const n=t-e;return n===0?1:(r-e)/n};class JN{constructor(){this.subscriptions=[]}add(t){return YN(this.subscriptions,t),()=>XN(this.subscriptions,t)}notify(t,r,n){const s=this.subscriptions.length;if(s)if(s===1)this.subscriptions[0](t,r,n);else for(let i=0;i<s;i++){const l=this.subscriptions[i];l&&l(t,r,n)}}getSize(){return this.subscriptions.length}clear(){this.subscriptions.length=0}}const Pi=e=>e*1e3,Mi=e=>e/1e3;function gR(e,t){return t?e*(1e3/t):0}const pR=(e,t,r)=>(((1-3*r+3*t)*e+(3*r-6*t))*e+3*t)*e,MK=1e-7,RK=12;function IK(e,t,r,n,s){let i,l,c=0;do l=t+(r-t)/2,i=pR(l,n,s)-e,i>0?r=l:t=l;while(Math.abs(i)>MK&&++c<RK);return l}function tm(e,t,r,n){if(e===t&&r===n)return Us;const s=i=>IK(i,0,1,e,r);return i=>i===0||i===1?i:pR(s(i),t,n)}const xR=e=>t=>t<=.5?e(2*t)/2:(2-e(2*(1-t)))/2,yR=e=>t=>1-e(1-t),vR=tm(.33,1.53,.69,.99),eS=yR(vR),bR=xR(eS),wR=e=>(e*=2)<1?.5*eS(e):.5*(2-Math.pow(2,-10*(e-1))),tS=e=>1-Math.sin(Math.acos(e)),jR=yR(tS),NR=xR(tS),FK=tm(.42,0,1,1),LK=tm(0,0,.58,1),SR=tm(.42,0,.58,1),BK=e=>Array.isArray(e)&&typeof e[0]!="number",_R=e=>Array.isArray(e)&&typeof e[0]=="number",$K={linear:Us,easeIn:FK,easeInOut:SR,easeOut:LK,circIn:tS,circInOut:NR,circOut:jR,backIn:eS,backInOut:bR,backOut:vR,anticipate:wR},UK=e=>typeof e=="string",xC=e=>{if(_R(e)){QN(e.length===4);const[t,r,n,s]=e;return tm(t,r,n,s)}else if(UK(e))return $K[e];return e},Lg=["setup","read","resolveKeyframes","preUpdate","update","preRender","render","postRender"];function zK(e,t){let r=new Set,n=new Set,s=!1,i=!1;const l=new WeakSet;let c={delta:0,timestamp:0,isProcessing:!1};function d(h){l.has(h)&&(f.schedule(h),e()),h(c)}const f={schedule:(h,g=!1,p=!1)=>{const b=p&&s?r:n;return g&&l.add(h),b.has(h)||b.add(h),h},cancel:h=>{n.delete(h),l.delete(h)},process:h=>{if(c=h,s){i=!0;return}s=!0,[r,n]=[n,r],r.forEach(d),r.clear(),s=!1,i&&(i=!1,f.process(h))}};return f}const HK=40;function kR(e,t){let r=!1,n=!0;const s={delta:0,timestamp:0,isProcessing:!1},i=()=>r=!0,l=Lg.reduce((E,C)=>(E[C]=zK(i),E),{}),{setup:c,read:d,resolveKeyframes:f,preUpdate:h,update:g,preRender:p,render:y,postRender:b}=l,w=()=>{const E=Nl.useManualTiming?s.timestamp:performance.now();r=!1,Nl.useManualTiming||(s.delta=n?1e3/60:Math.max(Math.min(E-s.timestamp,HK),1)),s.timestamp=E,s.isProcessing=!0,c.process(s),d.process(s),f.process(s),h.process(s),g.process(s),p.process(s),y.process(s),b.process(s),s.isProcessing=!1,r&&t&&(n=!1,e(w))},j=()=>{r=!0,n=!0,s.isProcessing||e(w)};return{schedule:Lg.reduce((E,C)=>{const T=l[C];return E[C]=(A,O=!1,D=!1)=>(r||j(),T.schedule(A,O,D)),E},{}),cancel:E=>{for(let C=0;C<Lg.length;C++)l[Lg[C]].cancel(E)},state:s,steps:l}}const{schedule:Or,cancel:Po,state:Bn,steps:h1}=kR(typeof requestAnimationFrame<"u"?requestAnimationFrame:Us,!0);let yp;function VK(){yp=void 0}const Ma={now:()=>(yp===void 0&&Ma.set(Bn.isProcessing||Nl.useManualTiming?Bn.timestamp:performance.now()),yp),set:e=>{yp=e,queueMicrotask(VK)}},ER=e=>t=>typeof t=="string"&&t.startsWith(e),rS=ER("--"),qK=ER("var(--"),nS=e=>qK(e)?WK.test(e.split("/*")[0].trim()):!1,WK=/var\(--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)$/iu,Xd={test:e=>typeof e=="number",parse:parseFloat,transform:e=>e},xh={...Xd,transform:e=>jl(0,1,e)},Bg={...Xd,default:1},V0=e=>Math.round(e*1e5)/1e5,aS=/-?(?:\d+(?:\.\d+)?|\.\d+)/gu;function GK(e){return e==null}const KK=/^(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))$/iu,sS=(e,t)=>r=>!!(typeof r=="string"&&KK.test(r)&&r.startsWith(e)||t&&!GK(r)&&Object.prototype.hasOwnProperty.call(r,t)),TR=(e,t,r)=>n=>{if(typeof n!="string")return n;const[s,i,l,c]=n.match(aS);return{[e]:parseFloat(s),[t]:parseFloat(i),[r]:parseFloat(l),alpha:c!==void 0?parseFloat(c):1}},YK=e=>jl(0,255,e),m1={...Xd,transform:e=>Math.round(YK(e))},Pc={test:sS("rgb","red"),parse:TR("red","green","blue"),transform:({red:e,green:t,blue:r,alpha:n=1})=>"rgba("+m1.transform(e)+", "+m1.transform(t)+", "+m1.transform(r)+", "+V0(xh.transform(n))+")"};function XK(e){let t="",r="",n="",s="";return e.length>5?(t=e.substring(1,3),r=e.substring(3,5),n=e.substring(5,7),s=e.substring(7,9)):(t=e.substring(1,2),r=e.substring(2,3),n=e.substring(3,4),s=e.substring(4,5),t+=t,r+=r,n+=n,s+=s),{red:parseInt(t,16),green:parseInt(r,16),blue:parseInt(n,16),alpha:s?parseInt(s,16)/255:1}}const Q2={test:sS("#"),parse:XK,transform:Pc.transform},rm=e=>({test:t=>typeof t=="string"&&t.endsWith(e)&&t.split(" ").length===1,parse:parseFloat,transform:t=>`${t}${e}`}),ho=rm("deg"),Ri=rm("%"),mt=rm("px"),QK=rm("vh"),ZK=rm("vw"),yC={...Ri,parse:e=>Ri.parse(e)/100,transform:e=>Ri.transform(e*100)},cd={test:sS("hsl","hue"),parse:TR("hue","saturation","lightness"),transform:({hue:e,saturation:t,lightness:r,alpha:n=1})=>"hsla("+Math.round(e)+", "+Ri.transform(V0(t))+", "+Ri.transform(V0(r))+", "+V0(xh.transform(n))+")"},an={test:e=>Pc.test(e)||Q2.test(e)||cd.test(e),parse:e=>Pc.test(e)?Pc.parse(e):cd.test(e)?cd.parse(e):Q2.parse(e),transform:e=>typeof e=="string"?e:e.hasOwnProperty("red")?Pc.transform(e):cd.transform(e),getAnimatableNone:e=>{const t=an.parse(e);return t.alpha=0,an.transform(t)}},JK=/(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))/giu;function eY(e){return isNaN(e)&&typeof e=="string"&&(e.match(aS)?.length||0)+(e.match(JK)?.length||0)>0}const AR="number",CR="color",tY="var",rY="var(",vC="${}",nY=/var\s*\(\s*--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)|#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\)|-?(?:\d+(?:\.\d+)?|\.\d+)/giu;function yh(e){const t=e.toString(),r=[],n={color:[],number:[],var:[]},s=[];let i=0;const c=t.replace(nY,d=>(an.test(d)?(n.color.push(i),s.push(CR),r.push(an.parse(d))):d.startsWith(rY)?(n.var.push(i),s.push(tY),r.push(d)):(n.number.push(i),s.push(AR),r.push(parseFloat(d))),++i,vC)).split(vC);return{values:r,split:c,indexes:n,types:s}}function OR(e){return yh(e).values}function DR(e){const{split:t,types:r}=yh(e),n=t.length;return s=>{let i="";for(let l=0;l<n;l++)if(i+=t[l],s[l]!==void 0){const c=r[l];c===AR?i+=V0(s[l]):c===CR?i+=an.transform(s[l]):i+=s[l]}return i}}const aY=e=>typeof e=="number"?0:an.test(e)?an.getAnimatableNone(e):e;function sY(e){const t=OR(e);return DR(e)(t.map(aY))}const Mo={test:eY,parse:OR,createTransformer:DR,getAnimatableNone:sY};function g1(e,t,r){return r<0&&(r+=1),r>1&&(r-=1),r<1/6?e+(t-e)*6*r:r<1/2?t:r<2/3?e+(t-e)*(2/3-r)*6:e}function iY({hue:e,saturation:t,lightness:r,alpha:n}){e/=360,t/=100,r/=100;let s=0,i=0,l=0;if(!t)s=i=l=r;else{const c=r<.5?r*(1+t):r+t-r*t,d=2*r-c;s=g1(d,c,e+1/3),i=g1(d,c,e),l=g1(d,c,e-1/3)}return{red:Math.round(s*255),green:Math.round(i*255),blue:Math.round(l*255),alpha:n}}function Dp(e,t){return r=>r>0?t:e}const Br=(e,t,r)=>e+(t-e)*r,p1=(e,t,r)=>{const n=e*e,s=r*(t*t-n)+n;return s<0?0:Math.sqrt(s)},lY=[Q2,Pc,cd],oY=e=>lY.find(t=>t.test(e));function bC(e){const t=oY(e);if(!t)return!1;let r=t.parse(e);return t===cd&&(r=iY(r)),r}const wC=(e,t)=>{const r=bC(e),n=bC(t);if(!r||!n)return Dp(e,t);const s={...r};return i=>(s.red=p1(r.red,n.red,i),s.green=p1(r.green,n.green,i),s.blue=p1(r.blue,n.blue,i),s.alpha=Br(r.alpha,n.alpha,i),Pc.transform(s))},Z2=new Set(["none","hidden"]);function cY(e,t){return Z2.has(e)?r=>r<=0?e:t:r=>r>=1?t:e}function uY(e,t){return r=>Br(e,t,r)}function iS(e){return typeof e=="number"?uY:typeof e=="string"?nS(e)?Dp:an.test(e)?wC:hY:Array.isArray(e)?PR:typeof e=="object"?an.test(e)?wC:dY:Dp}function PR(e,t){const r=[...e],n=r.length,s=e.map((i,l)=>iS(i)(i,t[l]));return i=>{for(let l=0;l<n;l++)r[l]=s[l](i);return r}}function dY(e,t){const r={...e,...t},n={};for(const s in r)e[s]!==void 0&&t[s]!==void 0&&(n[s]=iS(e[s])(e[s],t[s]));return s=>{for(const i in n)r[i]=n[i](s);return r}}function fY(e,t){const r=[],n={color:0,var:0,number:0};for(let s=0;s<t.values.length;s++){const i=t.types[s],l=e.indexes[i][n[i]],c=e.values[l]??0;r[s]=c,n[i]++}return r}const hY=(e,t)=>{const r=Mo.createTransformer(t),n=yh(e),s=yh(t);return n.indexes.var.length===s.indexes.var.length&&n.indexes.color.length===s.indexes.color.length&&n.indexes.number.length>=s.indexes.number.length?Z2.has(e)&&!s.values.length||Z2.has(t)&&!n.values.length?cY(e,t):em(PR(fY(n,s),s.values),r):Dp(e,t)};function MR(e,t,r){return typeof e=="number"&&typeof t=="number"&&typeof r=="number"?Br(e,t,r):iS(e)(e,t)}const mY=e=>{const t=({timestamp:r})=>e(r);return{start:(r=!0)=>Or.update(t,r),stop:()=>Po(t),now:()=>Bn.isProcessing?Bn.timestamp:Ma.now()}},RR=(e,t,r=10)=>{let n="";const s=Math.max(Math.round(t/r),2);for(let i=0;i<s;i++)n+=Math.round(e(i/(s-1))*1e4)/1e4+", ";return`linear(${n.substring(0,n.length-2)})`},Pp=2e4;function lS(e){let t=0;const r=50;let n=e.next(t);for(;!n.done&&t<Pp;)t+=r,n=e.next(t);return t>=Pp?1/0:t}function gY(e,t=100,r){const n=r({...e,keyframes:[0,t]}),s=Math.min(lS(n),Pp);return{type:"keyframes",ease:i=>n.next(s*i).value/t,duration:Mi(s)}}const pY=5;function IR(e,t,r){const n=Math.max(t-pY,0);return gR(r-e(n),t-n)}const zr={stiffness:100,damping:10,mass:1,velocity:0,duration:800,bounce:.3,visualDuration:.3,restSpeed:{granular:.01,default:2},restDelta:{granular:.005,default:.5},minDuration:.01,maxDuration:10,minDamping:.05,maxDamping:1},x1=.001;function xY({duration:e=zr.duration,bounce:t=zr.bounce,velocity:r=zr.velocity,mass:n=zr.mass}){let s,i,l=1-t;l=jl(zr.minDamping,zr.maxDamping,l),e=jl(zr.minDuration,zr.maxDuration,Mi(e)),l<1?(s=f=>{const h=f*l,g=h*e,p=h-r,y=J2(f,l),b=Math.exp(-g);return x1-p/y*b},i=f=>{const g=f*l*e,p=g*r+r,y=Math.pow(l,2)*Math.pow(f,2)*e,b=Math.exp(-g),w=J2(Math.pow(f,2),l);return(-s(f)+x1>0?-1:1)*((p-y)*b)/w}):(s=f=>{const h=Math.exp(-f*e),g=(f-r)*e+1;return-x1+h*g},i=f=>{const h=Math.exp(-f*e),g=(r-f)*(e*e);return h*g});const c=5/e,d=vY(s,i,c);if(e=Pi(e),isNaN(d))return{stiffness:zr.stiffness,damping:zr.damping,duration:e};{const f=Math.pow(d,2)*n;return{stiffness:f,damping:l*2*Math.sqrt(n*f),duration:e}}}const yY=12;function vY(e,t,r){let n=r;for(let s=1;s<yY;s++)n=n-e(n)/t(n);return n}function J2(e,t){return e*Math.sqrt(1-t*t)}const bY=["duration","bounce"],wY=["stiffness","damping","mass"];function jC(e,t){return t.some(r=>e[r]!==void 0)}function jY(e){let t={velocity:zr.velocity,stiffness:zr.stiffness,damping:zr.damping,mass:zr.mass,isResolvedFromDuration:!1,...e};if(!jC(e,wY)&&jC(e,bY))if(e.visualDuration){const r=e.visualDuration,n=2*Math.PI/(r*1.2),s=n*n,i=2*jl(.05,1,1-(e.bounce||0))*Math.sqrt(s);t={...t,mass:zr.mass,stiffness:s,damping:i}}else{const r=xY(e);t={...t,...r,mass:zr.mass},t.isResolvedFromDuration=!0}return t}function Mp(e=zr.visualDuration,t=zr.bounce){const r=typeof e!="object"?{visualDuration:e,keyframes:[0,1],bounce:t}:e;let{restSpeed:n,restDelta:s}=r;const i=r.keyframes[0],l=r.keyframes[r.keyframes.length-1],c={done:!1,value:i},{stiffness:d,damping:f,mass:h,duration:g,velocity:p,isResolvedFromDuration:y}=jY({...r,velocity:-Mi(r.velocity||0)}),b=p||0,w=f/(2*Math.sqrt(d*h)),j=l-i,S=Mi(Math.sqrt(d/h)),k=Math.abs(j)<5;n||(n=k?zr.restSpeed.granular:zr.restSpeed.default),s||(s=k?zr.restDelta.granular:zr.restDelta.default);let E;if(w<1){const T=J2(S,w);E=A=>{const O=Math.exp(-w*S*A);return l-O*((b+w*S*j)/T*Math.sin(T*A)+j*Math.cos(T*A))}}else if(w===1)E=T=>l-Math.exp(-S*T)*(j+(b+S*j)*T);else{const T=S*Math.sqrt(w*w-1);E=A=>{const O=Math.exp(-w*S*A),D=Math.min(T*A,300);return l-O*((b+w*S*j)*Math.sinh(D)+T*j*Math.cosh(D))/T}}const C={calculatedDuration:y&&g||null,next:T=>{const A=E(T);if(y)c.done=T>=g;else{let O=T===0?b:0;w<1&&(O=T===0?Pi(b):IR(E,T,A));const D=Math.abs(O)<=n,R=Math.abs(l-A)<=s;c.done=D&&R}return c.value=c.done?l:A,c},toString:()=>{const T=Math.min(lS(C),Pp),A=RR(O=>C.next(T*O).value,T,30);return T+"ms "+A},toTransition:()=>{}};return C}Mp.applyToOptions=e=>{const t=gY(e,100,Mp);return e.ease=t.ease,e.duration=Pi(t.duration),e.type="keyframes",e};function ej({keyframes:e,velocity:t=0,power:r=.8,timeConstant:n=325,bounceDamping:s=10,bounceStiffness:i=500,modifyTarget:l,min:c,max:d,restDelta:f=.5,restSpeed:h}){const g=e[0],p={done:!1,value:g},y=D=>c!==void 0&&D<c||d!==void 0&&D>d,b=D=>c===void 0?d:d===void 0||Math.abs(c-D)<Math.abs(d-D)?c:d;let w=r*t;const j=g+w,S=l===void 0?j:l(j);S!==j&&(w=S-g);const k=D=>-w*Math.exp(-D/n),E=D=>S+k(D),C=D=>{const R=k(D),B=E(D);p.done=Math.abs(R)<=f,p.value=p.done?S:B};let T,A;const O=D=>{y(p.value)&&(T=D,A=Mp({keyframes:[p.value,b(p.value)],velocity:IR(E,D,p.value),damping:s,stiffness:i,restDelta:f,restSpeed:h}))};return O(0),{calculatedDuration:null,next:D=>{let R=!1;return!A&&T===void 0&&(R=!0,C(D),O(D)),T!==void 0&&D>=T?A.next(D-T):(!R&&C(D),p)}}}function NY(e,t,r){const n=[],s=r||Nl.mix||MR,i=e.length-1;for(let l=0;l<i;l++){let c=s(e[l],e[l+1]);if(t){const d=Array.isArray(t)?t[l]||Us:t;c=em(d,c)}n.push(c)}return n}function SY(e,t,{clamp:r=!0,ease:n,mixer:s}={}){const i=e.length;if(QN(i===t.length),i===1)return()=>t[0];if(i===2&&t[0]===t[1])return()=>t[1];const l=e[0]===e[1];e[0]>e[i-1]&&(e=[...e].reverse(),t=[...t].reverse());const c=NY(t,n,s),d=c.length,f=h=>{if(l&&h<e[0])return t[0];let g=0;if(d>1)for(;g<e.length-2&&!(h<e[g+1]);g++);const p=ph(e[g],e[g+1],h);return c[g](p)};return r?h=>f(jl(e[0],e[i-1],h)):f}function _Y(e,t){const r=e[e.length-1];for(let n=1;n<=t;n++){const s=ph(0,t,n);e.push(Br(r,1,s))}}function kY(e){const t=[0];return _Y(t,e.length-1),t}function EY(e,t){return e.map(r=>r*t)}function TY(e,t){return e.map(()=>t||SR).splice(0,e.length-1)}function q0({duration:e=300,keyframes:t,times:r,ease:n="easeInOut"}){const s=BK(n)?n.map(xC):xC(n),i={done:!1,value:t[0]},l=EY(r&&r.length===t.length?r:kY(t),e),c=SY(l,t,{ease:Array.isArray(s)?s:TY(t,s)});return{calculatedDuration:e,next:d=>(i.value=c(d),i.done=d>=e,i)}}const AY=e=>e!==null;function oS(e,{repeat:t,repeatType:r="loop"},n,s=1){const i=e.filter(AY),c=s<0||t&&r!=="loop"&&t%2===1?0:i.length-1;return!c||n===void 0?i[c]:n}const CY={decay:ej,inertia:ej,tween:q0,keyframes:q0,spring:Mp};function FR(e){typeof e.type=="string"&&(e.type=CY[e.type])}class cS{constructor(){this.updateFinished()}get finished(){return this._finished}updateFinished(){this._finished=new Promise(t=>{this.resolve=t})}notifyFinished(){this.resolve()}then(t,r){return this.finished.then(t,r)}}const OY=e=>e/100;class uS extends cS{constructor(t){super(),this.state="idle",this.startTime=null,this.isStopped=!1,this.currentTime=0,this.holdTime=null,this.playbackSpeed=1,this.stop=()=>{const{motionValue:r}=this.options;r&&r.updatedAt!==Ma.now()&&this.tick(Ma.now()),this.isStopped=!0,this.state!=="idle"&&(this.teardown(),this.options.onStop?.())},this.options=t,this.initAnimation(),this.play(),t.autoplay===!1&&this.pause()}initAnimation(){const{options:t}=this;FR(t);const{type:r=q0,repeat:n=0,repeatDelay:s=0,repeatType:i,velocity:l=0}=t;let{keyframes:c}=t;const d=r||q0;d!==q0&&typeof c[0]!="number"&&(this.mixKeyframes=em(OY,MR(c[0],c[1])),c=[0,100]);const f=d({...t,keyframes:c});i==="mirror"&&(this.mirroredGenerator=d({...t,keyframes:[...c].reverse(),velocity:-l})),f.calculatedDuration===null&&(f.calculatedDuration=lS(f));const{calculatedDuration:h}=f;this.calculatedDuration=h,this.resolvedDuration=h+s,this.totalDuration=this.resolvedDuration*(n+1)-s,this.generator=f}updateTime(t){const r=Math.round(t-this.startTime)*this.playbackSpeed;this.holdTime!==null?this.currentTime=this.holdTime:this.currentTime=r}tick(t,r=!1){const{generator:n,totalDuration:s,mixKeyframes:i,mirroredGenerator:l,resolvedDuration:c,calculatedDuration:d}=this;if(this.startTime===null)return n.next(0);const{delay:f=0,keyframes:h,repeat:g,repeatType:p,repeatDelay:y,type:b,onUpdate:w,finalKeyframe:j}=this.options;this.speed>0?this.startTime=Math.min(this.startTime,t):this.speed<0&&(this.startTime=Math.min(t-s/this.speed,this.startTime)),r?this.currentTime=t:this.updateTime(t);const S=this.currentTime-f*(this.playbackSpeed>=0?1:-1),k=this.playbackSpeed>=0?S<0:S>s;this.currentTime=Math.max(S,0),this.state==="finished"&&this.holdTime===null&&(this.currentTime=s);let E=this.currentTime,C=n;if(g){const D=Math.min(this.currentTime,s)/c;let R=Math.floor(D),B=D%1;!B&&D>=1&&(B=1),B===1&&R--,R=Math.min(R,g+1),!!(R%2)&&(p==="reverse"?(B=1-B,y&&(B-=y/c)):p==="mirror"&&(C=l)),E=jl(0,1,B)*c}const T=k?{done:!1,value:h[0]}:C.next(E);i&&(T.value=i(T.value));let{done:A}=T;!k&&d!==null&&(A=this.playbackSpeed>=0?this.currentTime>=s:this.currentTime<=0);const O=this.holdTime===null&&(this.state==="finished"||this.state==="running"&&A);return O&&b!==ej&&(T.value=oS(h,this.options,j,this.speed)),w&&w(T.value),O&&this.finish(),T}then(t,r){return this.finished.then(t,r)}get duration(){return Mi(this.calculatedDuration)}get time(){return Mi(this.currentTime)}set time(t){t=Pi(t),this.currentTime=t,this.startTime===null||this.holdTime!==null||this.playbackSpeed===0?this.holdTime=t:this.driver&&(this.startTime=this.driver.now()-t/this.playbackSpeed),this.driver?.start(!1)}get speed(){return this.playbackSpeed}set speed(t){this.updateTime(Ma.now());const r=this.playbackSpeed!==t;this.playbackSpeed=t,r&&(this.time=Mi(this.currentTime))}play(){if(this.isStopped)return;const{driver:t=mY,startTime:r}=this.options;this.driver||(this.driver=t(s=>this.tick(s))),this.options.onPlay?.();const n=this.driver.now();this.state==="finished"?(this.updateFinished(),this.startTime=n):this.holdTime!==null?this.startTime=n-this.holdTime:this.startTime||(this.startTime=r??n),this.state==="finished"&&this.speed<0&&(this.startTime+=this.calculatedDuration),this.holdTime=null,this.state="running",this.driver.start()}pause(){this.state="paused",this.updateTime(Ma.now()),this.holdTime=this.currentTime}complete(){this.state!=="running"&&this.play(),this.state="finished",this.holdTime=null}finish(){this.notifyFinished(),this.teardown(),this.state="finished",this.options.onComplete?.()}cancel(){this.holdTime=null,this.startTime=0,this.tick(0),this.teardown(),this.options.onCancel?.()}teardown(){this.state="idle",this.stopDriver(),this.startTime=this.holdTime=null}stopDriver(){this.driver&&(this.driver.stop(),this.driver=void 0)}sample(t){return this.startTime=0,this.tick(t,!0)}attachTimeline(t){return this.options.allowFlatten&&(this.options.type="keyframes",this.options.ease="linear",this.initAnimation()),this.driver?.stop(),t.observe(this)}}function DY(e){for(let t=1;t<e.length;t++)e[t]??(e[t]=e[t-1])}const Mc=e=>e*180/Math.PI,tj=e=>{const t=Mc(Math.atan2(e[1],e[0]));return rj(t)},PY={x:4,y:5,translateX:4,translateY:5,scaleX:0,scaleY:3,scale:e=>(Math.abs(e[0])+Math.abs(e[3]))/2,rotate:tj,rotateZ:tj,skewX:e=>Mc(Math.atan(e[1])),skewY:e=>Mc(Math.atan(e[2])),skew:e=>(Math.abs(e[1])+Math.abs(e[2]))/2},rj=e=>(e=e%360,e<0&&(e+=360),e),NC=tj,SC=e=>Math.sqrt(e[0]*e[0]+e[1]*e[1]),_C=e=>Math.sqrt(e[4]*e[4]+e[5]*e[5]),MY={x:12,y:13,z:14,translateX:12,translateY:13,translateZ:14,scaleX:SC,scaleY:_C,scale:e=>(SC(e)+_C(e))/2,rotateX:e=>rj(Mc(Math.atan2(e[6],e[5]))),rotateY:e=>rj(Mc(Math.atan2(-e[2],e[0]))),rotateZ:NC,rotate:NC,skewX:e=>Mc(Math.atan(e[4])),skewY:e=>Mc(Math.atan(e[1])),skew:e=>(Math.abs(e[1])+Math.abs(e[4]))/2};function nj(e){return e.includes("scale")?1:0}function aj(e,t){if(!e||e==="none")return nj(t);const r=e.match(/^matrix3d\(([-\d.e\s,]+)\)$/u);let n,s;if(r)n=MY,s=r;else{const c=e.match(/^matrix\(([-\d.e\s,]+)\)$/u);n=PY,s=c}if(!s)return nj(t);const i=n[t],l=s[1].split(",").map(IY);return typeof i=="function"?i(l):l[i]}const RY=(e,t)=>{const{transform:r="none"}=getComputedStyle(e);return aj(r,t)};function IY(e){return parseFloat(e.trim())}const Qd=["transformPerspective","x","y","z","translateX","translateY","translateZ","scale","scaleX","scaleY","rotate","rotateX","rotateY","rotateZ","skew","skewX","skewY"],Zd=new Set(Qd),kC=e=>e===Xd||e===mt,FY=new Set(["x","y","z"]),LY=Qd.filter(e=>!FY.has(e));function BY(e){const t=[];return LY.forEach(r=>{const n=e.getValue(r);n!==void 0&&(t.push([r,n.get()]),n.set(r.startsWith("scale")?1:0))}),t}const Vc={width:({x:e},{paddingLeft:t="0",paddingRight:r="0"})=>e.max-e.min-parseFloat(t)-parseFloat(r),height:({y:e},{paddingTop:t="0",paddingBottom:r="0"})=>e.max-e.min-parseFloat(t)-parseFloat(r),top:(e,{top:t})=>parseFloat(t),left:(e,{left:t})=>parseFloat(t),bottom:({y:e},{top:t})=>parseFloat(t)+(e.max-e.min),right:({x:e},{left:t})=>parseFloat(t)+(e.max-e.min),x:(e,{transform:t})=>aj(t,"x"),y:(e,{transform:t})=>aj(t,"y")};Vc.translateX=Vc.x;Vc.translateY=Vc.y;const qc=new Set;let sj=!1,ij=!1,lj=!1;function LR(){if(ij){const e=Array.from(qc).filter(n=>n.needsMeasurement),t=new Set(e.map(n=>n.element)),r=new Map;t.forEach(n=>{const s=BY(n);s.length&&(r.set(n,s),n.render())}),e.forEach(n=>n.measureInitialState()),t.forEach(n=>{n.render();const s=r.get(n);s&&s.forEach(([i,l])=>{n.getValue(i)?.set(l)})}),e.forEach(n=>n.measureEndState()),e.forEach(n=>{n.suspendedScrollY!==void 0&&window.scrollTo(0,n.suspendedScrollY)})}ij=!1,sj=!1,qc.forEach(e=>e.complete(lj)),qc.clear()}function BR(){qc.forEach(e=>{e.readKeyframes(),e.needsMeasurement&&(ij=!0)})}function $Y(){lj=!0,BR(),LR(),lj=!1}class dS{constructor(t,r,n,s,i,l=!1){this.state="pending",this.isAsync=!1,this.needsMeasurement=!1,this.unresolvedKeyframes=[...t],this.onComplete=r,this.name=n,this.motionValue=s,this.element=i,this.isAsync=l}scheduleResolve(){this.state="scheduled",this.isAsync?(qc.add(this),sj||(sj=!0,Or.read(BR),Or.resolveKeyframes(LR))):(this.readKeyframes(),this.complete())}readKeyframes(){const{unresolvedKeyframes:t,name:r,element:n,motionValue:s}=this;if(t[0]===null){const i=s?.get(),l=t[t.length-1];if(i!==void 0)t[0]=i;else if(n&&r){const c=n.readValue(r,l);c!=null&&(t[0]=c)}t[0]===void 0&&(t[0]=l),s&&i===void 0&&s.set(t[0])}DY(t)}setFinalKeyframe(){}measureInitialState(){}renderEndStyles(){}measureEndState(){}complete(t=!1){this.state="complete",this.onComplete(this.unresolvedKeyframes,this.finalKeyframe,t),qc.delete(this)}cancel(){this.state==="scheduled"&&(qc.delete(this),this.state="pending")}resume(){this.state==="pending"&&this.scheduleResolve()}}const UY=e=>e.startsWith("--");function zY(e,t,r){UY(t)?e.style.setProperty(t,r):e.style[t]=r}const HY=ZN(()=>window.ScrollTimeline!==void 0),VY={};function qY(e,t){const r=ZN(e);return()=>VY[t]??r()}const $R=qY(()=>{try{document.createElement("div").animate({opacity:0},{easing:"linear(0, 1)"})}catch{return!1}return!0},"linearEasing"),R0=([e,t,r,n])=>`cubic-bezier(${e}, ${t}, ${r}, ${n})`,EC={linear:"linear",ease:"ease",easeIn:"ease-in",easeOut:"ease-out",easeInOut:"ease-in-out",circIn:R0([0,.65,.55,1]),circOut:R0([.55,0,1,.45]),backIn:R0([.31,.01,.66,-.59]),backOut:R0([.33,1.53,.69,.99])};function UR(e,t){if(e)return typeof e=="function"?$R()?RR(e,t):"ease-out":_R(e)?R0(e):Array.isArray(e)?e.map(r=>UR(r,t)||EC.easeOut):EC[e]}function WY(e,t,r,{delay:n=0,duration:s=300,repeat:i=0,repeatType:l="loop",ease:c="easeOut",times:d}={},f=void 0){const h={[t]:r};d&&(h.offset=d);const g=UR(c,s);Array.isArray(g)&&(h.easing=g);const p={delay:n,duration:s,easing:Array.isArray(g)?"linear":g,fill:"both",iterations:i+1,direction:l==="reverse"?"alternate":"normal"};return f&&(p.pseudoElement=f),e.animate(h,p)}function zR(e){return typeof e=="function"&&"applyToOptions"in e}function GY({type:e,...t}){return zR(e)&&$R()?e.applyToOptions(t):(t.duration??(t.duration=300),t.ease??(t.ease="easeOut"),t)}class KY extends cS{constructor(t){if(super(),this.finishedTime=null,this.isStopped=!1,!t)return;const{element:r,name:n,keyframes:s,pseudoElement:i,allowFlatten:l=!1,finalKeyframe:c,onComplete:d}=t;this.isPseudoElement=!!i,this.allowFlatten=l,this.options=t,QN(typeof t.type!="string");const f=GY(t);this.animation=WY(r,n,s,f,i),f.autoplay===!1&&this.animation.pause(),this.animation.onfinish=()=>{if(this.finishedTime=this.time,!i){const h=oS(s,this.options,c,this.speed);this.updateMotionValue?this.updateMotionValue(h):zY(r,n,h),this.animation.cancel()}d?.(),this.notifyFinished()}}play(){this.isStopped||(this.animation.play(),this.state==="finished"&&this.updateFinished())}pause(){this.animation.pause()}complete(){this.animation.finish?.()}cancel(){try{this.animation.cancel()}catch{}}stop(){if(this.isStopped)return;this.isStopped=!0;const{state:t}=this;t==="idle"||t==="finished"||(this.updateMotionValue?this.updateMotionValue():this.commitStyles(),this.isPseudoElement||this.cancel())}commitStyles(){this.isPseudoElement||this.animation.commitStyles?.()}get duration(){const t=this.animation.effect?.getComputedTiming?.().duration||0;return Mi(Number(t))}get time(){return Mi(Number(this.animation.currentTime)||0)}set time(t){this.finishedTime=null,this.animation.currentTime=Pi(t)}get speed(){return this.animation.playbackRate}set speed(t){t<0&&(this.finishedTime=null),this.animation.playbackRate=t}get state(){return this.finishedTime!==null?"finished":this.animation.playState}get startTime(){return Number(this.animation.startTime)}set startTime(t){this.animation.startTime=t}attachTimeline({timeline:t,observe:r}){return this.allowFlatten&&this.animation.effect?.updateTiming({easing:"linear"}),this.animation.onfinish=null,t&&HY()?(this.animation.timeline=t,Us):r(this)}}const HR={anticipate:wR,backInOut:bR,circInOut:NR};function YY(e){return e in HR}function XY(e){typeof e.ease=="string"&&YY(e.ease)&&(e.ease=HR[e.ease])}const TC=10;class QY extends KY{constructor(t){XY(t),FR(t),super(t),t.startTime&&(this.startTime=t.startTime),this.options=t}updateMotionValue(t){const{motionValue:r,onUpdate:n,onComplete:s,element:i,...l}=this.options;if(!r)return;if(t!==void 0){r.set(t);return}const c=new uS({...l,autoplay:!1}),d=Pi(this.finishedTime??this.time);r.setWithVelocity(c.sample(d-TC).value,c.sample(d).value,TC),c.stop()}}const AC=(e,t)=>t==="zIndex"?!1:!!(typeof e=="number"||Array.isArray(e)||typeof e=="string"&&(Mo.test(e)||e==="0")&&!e.startsWith("url("));function ZY(e){const t=e[0];if(e.length===1)return!0;for(let r=0;r<e.length;r++)if(e[r]!==t)return!0}function JY(e,t,r,n){const s=e[0];if(s===null)return!1;if(t==="display"||t==="visibility")return!0;const i=e[e.length-1],l=AC(s,t),c=AC(i,t);return!l||!c?!1:ZY(e)||(r==="spring"||zR(r))&&n}function oj(e){e.duration=0,e.type}const eX=new Set(["opacity","clipPath","filter","transform"]),tX=ZN(()=>Object.hasOwnProperty.call(Element.prototype,"animate"));function rX(e){const{motionValue:t,name:r,repeatDelay:n,repeatType:s,damping:i,type:l}=e;if(!(t?.owner?.current instanceof HTMLElement))return!1;const{onUpdate:d,transformTemplate:f}=t.owner.getProps();return tX()&&r&&eX.has(r)&&(r!=="transform"||!f)&&!d&&!n&&s!=="mirror"&&i!==0&&l!=="inertia"}const nX=40;class aX extends cS{constructor({autoplay:t=!0,delay:r=0,type:n="keyframes",repeat:s=0,repeatDelay:i=0,repeatType:l="loop",keyframes:c,name:d,motionValue:f,element:h,...g}){super(),this.stop=()=>{this._animation&&(this._animation.stop(),this.stopTimeline?.()),this.keyframeResolver?.cancel()},this.createdAt=Ma.now();const p={autoplay:t,delay:r,type:n,repeat:s,repeatDelay:i,repeatType:l,name:d,motionValue:f,element:h,...g},y=h?.KeyframeResolver||dS;this.keyframeResolver=new y(c,(b,w,j)=>this.onKeyframesResolved(b,w,p,!j),d,f,h),this.keyframeResolver?.scheduleResolve()}onKeyframesResolved(t,r,n,s){this.keyframeResolver=void 0;const{name:i,type:l,velocity:c,delay:d,isHandoff:f,onUpdate:h}=n;this.resolvedAt=Ma.now(),JY(t,i,l,c)||((Nl.instantAnimations||!d)&&h?.(oS(t,n,r)),t[0]=t[t.length-1],oj(n),n.repeat=0);const p={startTime:s?this.resolvedAt?this.resolvedAt-this.createdAt>nX?this.resolvedAt:this.createdAt:this.createdAt:void 0,finalKeyframe:r,...n,keyframes:t},y=!f&&rX(p)?new QY({...p,element:p.motionValue.owner.current}):new uS(p);y.finished.then(()=>this.notifyFinished()).catch(Us),this.pendingTimeline&&(this.stopTimeline=y.attachTimeline(this.pendingTimeline),this.pendingTimeline=void 0),this._animation=y}get finished(){return this._animation?this.animation.finished:this._finished}then(t,r){return this.finished.finally(t).then(()=>{})}get animation(){return this._animation||(this.keyframeResolver?.resume(),$Y()),this._animation}get duration(){return this.animation.duration}get time(){return this.animation.time}set time(t){this.animation.time=t}get speed(){return this.animation.speed}get state(){return this.animation.state}set speed(t){this.animation.speed=t}get startTime(){return this.animation.startTime}attachTimeline(t){return this._animation?this.stopTimeline=this.animation.attachTimeline(t):this.pendingTimeline=t,()=>this.stop()}play(){this.animation.play()}pause(){this.animation.pause()}complete(){this.animation.complete()}cancel(){this._animation&&this.animation.cancel(),this.keyframeResolver?.cancel()}}const sX=/^var\(--(?:([\w-]+)|([\w-]+), ?([a-zA-Z\d ()%#.,-]+))\)/u;function iX(e){const t=sX.exec(e);if(!t)return[,];const[,r,n,s]=t;return[`--${r??n}`,s]}function VR(e,t,r=1){const[n,s]=iX(e);if(!n)return;const i=window.getComputedStyle(t).getPropertyValue(n);if(i){const l=i.trim();return fR(l)?parseFloat(l):l}return nS(s)?VR(s,t,r+1):s}function fS(e,t){return e?.[t]??e?.default??e}const qR=new Set(["width","height","top","left","right","bottom",...Qd]),lX={test:e=>e==="auto",parse:e=>e},WR=e=>t=>t.test(e),GR=[Xd,mt,Ri,ho,ZK,QK,lX],CC=e=>GR.find(WR(e));function oX(e){return typeof e=="number"?e===0:e!==null?e==="none"||e==="0"||mR(e):!0}const cX=new Set(["brightness","contrast","saturate","opacity"]);function uX(e){const[t,r]=e.slice(0,-1).split("(");if(t==="drop-shadow")return e;const[n]=r.match(aS)||[];if(!n)return e;const s=r.replace(n,"");let i=cX.has(t)?1:0;return n!==r&&(i*=100),t+"("+i+s+")"}const dX=/\b([a-z-]*)\(.*?\)/gu,cj={...Mo,getAnimatableNone:e=>{const t=e.match(dX);return t?t.map(uX).join(" "):e}},OC={...Xd,transform:Math.round},fX={rotate:ho,rotateX:ho,rotateY:ho,rotateZ:ho,scale:Bg,scaleX:Bg,scaleY:Bg,scaleZ:Bg,skew:ho,skewX:ho,skewY:ho,distance:mt,translateX:mt,translateY:mt,translateZ:mt,x:mt,y:mt,z:mt,perspective:mt,transformPerspective:mt,opacity:xh,originX:yC,originY:yC,originZ:mt},hS={borderWidth:mt,borderTopWidth:mt,borderRightWidth:mt,borderBottomWidth:mt,borderLeftWidth:mt,borderRadius:mt,radius:mt,borderTopLeftRadius:mt,borderTopRightRadius:mt,borderBottomRightRadius:mt,borderBottomLeftRadius:mt,width:mt,maxWidth:mt,height:mt,maxHeight:mt,top:mt,right:mt,bottom:mt,left:mt,padding:mt,paddingTop:mt,paddingRight:mt,paddingBottom:mt,paddingLeft:mt,margin:mt,marginTop:mt,marginRight:mt,marginBottom:mt,marginLeft:mt,backgroundPositionX:mt,backgroundPositionY:mt,...fX,zIndex:OC,fillOpacity:xh,strokeOpacity:xh,numOctaves:OC},hX={...hS,color:an,backgroundColor:an,outlineColor:an,fill:an,stroke:an,borderColor:an,borderTopColor:an,borderRightColor:an,borderBottomColor:an,borderLeftColor:an,filter:cj,WebkitFilter:cj},KR=e=>hX[e];function YR(e,t){let r=KR(e);return r!==cj&&(r=Mo),r.getAnimatableNone?r.getAnimatableNone(t):void 0}const mX=new Set(["auto","none","0"]);function gX(e,t,r){let n=0,s;for(;n<e.length&&!s;){const i=e[n];typeof i=="string"&&!mX.has(i)&&yh(i).values.length&&(s=e[n]),n++}if(s&&r)for(const i of t)e[i]=YR(r,s)}class pX extends dS{constructor(t,r,n,s,i){super(t,r,n,s,i,!0)}readKeyframes(){const{unresolvedKeyframes:t,element:r,name:n}=this;if(!r||!r.current)return;super.readKeyframes();for(let d=0;d<t.length;d++){let f=t[d];if(typeof f=="string"&&(f=f.trim(),nS(f))){const h=VR(f,r.current);h!==void 0&&(t[d]=h),d===t.length-1&&(this.finalKeyframe=f)}}if(this.resolveNoneKeyframes(),!qR.has(n)||t.length!==2)return;const[s,i]=t,l=CC(s),c=CC(i);if(l!==c)if(kC(l)&&kC(c))for(let d=0;d<t.length;d++){const f=t[d];typeof f=="string"&&(t[d]=parseFloat(f))}else Vc[n]&&(this.needsMeasurement=!0)}resolveNoneKeyframes(){const{unresolvedKeyframes:t,name:r}=this,n=[];for(let s=0;s<t.length;s++)(t[s]===null||oX(t[s]))&&n.push(s);n.length&&gX(t,n,r)}measureInitialState(){const{element:t,unresolvedKeyframes:r,name:n}=this;if(!t||!t.current)return;n==="height"&&(this.suspendedScrollY=window.pageYOffset),this.measuredOrigin=Vc[n](t.measureViewportBox(),window.getComputedStyle(t.current)),r[0]=this.measuredOrigin;const s=r[r.length-1];s!==void 0&&t.getValue(n,s).jump(s,!1)}measureEndState(){const{element:t,name:r,unresolvedKeyframes:n}=this;if(!t||!t.current)return;const s=t.getValue(r);s&&s.jump(this.measuredOrigin,!1);const i=n.length-1,l=n[i];n[i]=Vc[r](t.measureViewportBox(),window.getComputedStyle(t.current)),l!==null&&this.finalKeyframe===void 0&&(this.finalKeyframe=l),this.removedTransforms?.length&&this.removedTransforms.forEach(([c,d])=>{t.getValue(c).set(d)}),this.resolveNoneKeyframes()}}function xX(e,t,r){if(e instanceof EventTarget)return[e];if(typeof e=="string"){let n=document;const s=r?.[e]??n.querySelectorAll(e);return s?Array.from(s):[]}return Array.from(e)}const XR=(e,t)=>t&&typeof e=="number"?t.transform(e):e;function yX(e){return hR(e)&&"offsetHeight"in e}const DC=30,vX=e=>!isNaN(parseFloat(e));class bX{constructor(t,r={}){this.canTrackVelocity=null,this.events={},this.updateAndNotify=n=>{const s=Ma.now();if(this.updatedAt!==s&&this.setPrevFrameValue(),this.prev=this.current,this.setCurrent(n),this.current!==this.prev&&(this.events.change?.notify(this.current),this.dependents))for(const i of this.dependents)i.dirty()},this.hasAnimated=!1,this.setCurrent(t),this.owner=r.owner}setCurrent(t){this.current=t,this.updatedAt=Ma.now(),this.canTrackVelocity===null&&t!==void 0&&(this.canTrackVelocity=vX(this.current))}setPrevFrameValue(t=this.current){this.prevFrameValue=t,this.prevUpdatedAt=this.updatedAt}onChange(t){return this.on("change",t)}on(t,r){this.events[t]||(this.events[t]=new JN);const n=this.events[t].add(r);return t==="change"?()=>{n(),Or.read(()=>{this.events.change.getSize()||this.stop()})}:n}clearListeners(){for(const t in this.events)this.events[t].clear()}attach(t,r){this.passiveEffect=t,this.stopPassiveEffect=r}set(t){this.passiveEffect?this.passiveEffect(t,this.updateAndNotify):this.updateAndNotify(t)}setWithVelocity(t,r,n){this.set(r),this.prev=void 0,this.prevFrameValue=t,this.prevUpdatedAt=this.updatedAt-n}jump(t,r=!0){this.updateAndNotify(t),this.prev=t,this.prevUpdatedAt=this.prevFrameValue=void 0,r&&this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}dirty(){this.events.change?.notify(this.current)}addDependent(t){this.dependents||(this.dependents=new Set),this.dependents.add(t)}removeDependent(t){this.dependents&&this.dependents.delete(t)}get(){return this.current}getPrevious(){return this.prev}getVelocity(){const t=Ma.now();if(!this.canTrackVelocity||this.prevFrameValue===void 0||t-this.updatedAt>DC)return 0;const r=Math.min(this.updatedAt-this.prevUpdatedAt,DC);return gR(parseFloat(this.current)-parseFloat(this.prevFrameValue),r)}start(t){return this.stop(),new Promise(r=>{this.hasAnimated=!0,this.animation=t(r),this.events.animationStart&&this.events.animationStart.notify()}).then(()=>{this.events.animationComplete&&this.events.animationComplete.notify(),this.clearAnimation()})}stop(){this.animation&&(this.animation.stop(),this.events.animationCancel&&this.events.animationCancel.notify()),this.clearAnimation()}isAnimating(){return!!this.animation}clearAnimation(){delete this.animation}destroy(){this.dependents?.clear(),this.events.destroy?.notify(),this.clearListeners(),this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}}function Ed(e,t){return new bX(e,t)}const{schedule:mS}=kR(queueMicrotask,!1),ai={x:!1,y:!1};function QR(){return ai.x||ai.y}function wX(e){return e==="x"||e==="y"?ai[e]?null:(ai[e]=!0,()=>{ai[e]=!1}):ai.x||ai.y?null:(ai.x=ai.y=!0,()=>{ai.x=ai.y=!1})}function ZR(e,t){const r=xX(e),n=new AbortController,s={passive:!0,...t,signal:n.signal};return[r,s,()=>n.abort()]}function PC(e){return!(e.pointerType==="touch"||QR())}function jX(e,t,r={}){const[n,s,i]=ZR(e,r),l=c=>{if(!PC(c))return;const{target:d}=c,f=t(d,c);if(typeof f!="function"||!d)return;const h=g=>{PC(g)&&(f(g),d.removeEventListener("pointerleave",h))};d.addEventListener("pointerleave",h,s)};return n.forEach(c=>{c.addEventListener("pointerenter",l,s)}),i}const JR=(e,t)=>t?e===t?!0:JR(e,t.parentElement):!1,gS=e=>e.pointerType==="mouse"?typeof e.button!="number"||e.button<=0:e.isPrimary!==!1,NX=new Set(["BUTTON","INPUT","SELECT","TEXTAREA","A"]);function SX(e){return NX.has(e.tagName)||e.tabIndex!==-1}const vp=new WeakSet;function MC(e){return t=>{t.key==="Enter"&&e(t)}}function y1(e,t){e.dispatchEvent(new PointerEvent("pointer"+t,{isPrimary:!0,bubbles:!0}))}const _X=(e,t)=>{const r=e.currentTarget;if(!r)return;const n=MC(()=>{if(vp.has(r))return;y1(r,"down");const s=MC(()=>{y1(r,"up")}),i=()=>y1(r,"cancel");r.addEventListener("keyup",s,t),r.addEventListener("blur",i,t)});r.addEventListener("keydown",n,t),r.addEventListener("blur",()=>r.removeEventListener("keydown",n),t)};function RC(e){return gS(e)&&!QR()}function kX(e,t,r={}){const[n,s,i]=ZR(e,r),l=c=>{const d=c.currentTarget;if(!RC(c))return;vp.add(d);const f=t(d,c),h=(y,b)=>{window.removeEventListener("pointerup",g),window.removeEventListener("pointercancel",p),vp.has(d)&&vp.delete(d),RC(y)&&typeof f=="function"&&f(y,{success:b})},g=y=>{h(y,d===window||d===document||r.useGlobalTarget||JR(d,y.target))},p=y=>{h(y,!1)};window.addEventListener("pointerup",g,s),window.addEventListener("pointercancel",p,s)};return n.forEach(c=>{(r.useGlobalTarget?window:c).addEventListener("pointerdown",l,s),yX(c)&&(c.addEventListener("focus",f=>_X(f,s)),!SX(c)&&!c.hasAttribute("tabindex")&&(c.tabIndex=0))}),i}function e8(e){return hR(e)&&"ownerSVGElement"in e}function EX(e){return e8(e)&&e.tagName==="svg"}const na=e=>!!(e&&e.getVelocity),TX=[...GR,an,Mo],AX=e=>TX.find(WR(e)),t8=v.createContext({transformPagePoint:e=>e,isStatic:!1,reducedMotion:"never"});function CX(e=!0){const t=v.useContext(KN);if(t===null)return[!0,null];const{isPresent:r,onExitComplete:n,register:s}=t,i=v.useId();v.useEffect(()=>{if(e)return s(i)},[e]);const l=v.useCallback(()=>e&&n&&n(i),[i,n,e]);return!r&&n?[!1,l]:[!0]}const r8=v.createContext({strict:!1}),IC={animation:["animate","variants","whileHover","whileTap","exit","whileInView","whileFocus","whileDrag"],exit:["exit"],drag:["drag","dragControls"],focus:["whileFocus"],hover:["whileHover","onHoverStart","onHoverEnd"],tap:["whileTap","onTap","onTapStart","onTapCancel"],pan:["onPan","onPanStart","onPanSessionStart","onPanEnd"],inView:["whileInView","onViewportEnter","onViewportLeave"],layout:["layout","layoutId"]},Td={};for(const e in IC)Td[e]={isEnabled:t=>IC[e].some(r=>!!t[r])};function OX(e){for(const t in e)Td[t]={...Td[t],...e[t]}}const DX=new Set(["animate","exit","variants","initial","style","values","variants","transition","transformTemplate","custom","inherit","onBeforeLayoutMeasure","onAnimationStart","onAnimationComplete","onUpdate","onDragStart","onDrag","onDragEnd","onMeasureDragConstraints","onDirectionLock","onDragTransitionEnd","_dragX","_dragY","onHoverStart","onHoverEnd","onViewportEnter","onViewportLeave","globalTapTarget","ignoreStrict","viewport"]);function Rp(e){return e.startsWith("while")||e.startsWith("drag")&&e!=="draggable"||e.startsWith("layout")||e.startsWith("onTap")||e.startsWith("onPan")||e.startsWith("onLayout")||DX.has(e)}let n8=e=>!Rp(e);function PX(e){typeof e=="function"&&(n8=t=>t.startsWith("on")?!Rp(t):e(t))}try{PX(require("@emotion/is-prop-valid").default)}catch{}function MX(e,t,r){const n={};for(const s in e)s==="values"&&typeof e.values=="object"||(n8(s)||r===!0&&Rp(s)||!t&&!Rp(s)||e.draggable&&s.startsWith("onDrag"))&&(n[s]=e[s]);return n}const Xx=v.createContext({});function Qx(e){return e!==null&&typeof e=="object"&&typeof e.start=="function"}function vh(e){return typeof e=="string"||Array.isArray(e)}const pS=["animate","whileInView","whileFocus","whileHover","whileTap","whileDrag","exit"],xS=["initial",...pS];function Zx(e){return Qx(e.animate)||xS.some(t=>vh(e[t]))}function a8(e){return!!(Zx(e)||e.variants)}function RX(e,t){if(Zx(e)){const{initial:r,animate:n}=e;return{initial:r===!1||vh(r)?r:void 0,animate:vh(n)?n:void 0}}return e.inherit!==!1?t:{}}function IX(e){const{initial:t,animate:r}=RX(e,v.useContext(Xx));return v.useMemo(()=>({initial:t,animate:r}),[FC(t),FC(r)])}function FC(e){return Array.isArray(e)?e.join(" "):e}const bh={};function FX(e){for(const t in e)bh[t]=e[t],rS(t)&&(bh[t].isCSSVariable=!0)}function s8(e,{layout:t,layoutId:r}){return Zd.has(e)||e.startsWith("origin")||(t||r!==void 0)&&(!!bh[e]||e==="opacity")}const LX={x:"translateX",y:"translateY",z:"translateZ",transformPerspective:"perspective"},BX=Qd.length;function $X(e,t,r){let n="",s=!0;for(let i=0;i<BX;i++){const l=Qd[i],c=e[l];if(c===void 0)continue;let d=!0;if(typeof c=="number"?d=c===(l.startsWith("scale")?1:0):d=parseFloat(c)===0,!d||r){const f=XR(c,hS[l]);if(!d){s=!1;const h=LX[l]||l;n+=`${h}(${f}) `}r&&(t[l]=f)}}return n=n.trim(),r?n=r(t,s?"":n):s&&(n="none"),n}function yS(e,t,r){const{style:n,vars:s,transformOrigin:i}=e;let l=!1,c=!1;for(const d in t){const f=t[d];if(Zd.has(d)){l=!0;continue}else if(rS(d)){s[d]=f;continue}else{const h=XR(f,hS[d]);d.startsWith("origin")?(c=!0,i[d]=h):n[d]=h}}if(t.transform||(l||r?n.transform=$X(t,e.transform,r):n.transform&&(n.transform="none")),c){const{originX:d="50%",originY:f="50%",originZ:h=0}=i;n.transformOrigin=`${d} ${f} ${h}`}}const vS=()=>({style:{},transform:{},transformOrigin:{},vars:{}});function i8(e,t,r){for(const n in t)!na(t[n])&&!s8(n,r)&&(e[n]=t[n])}function UX({transformTemplate:e},t){return v.useMemo(()=>{const r=vS();return yS(r,t,e),Object.assign({},r.vars,r.style)},[t])}function zX(e,t){const r=e.style||{},n={};return i8(n,r,e),Object.assign(n,UX(e,t)),n}function HX(e,t){const r={},n=zX(e,t);return e.drag&&e.dragListener!==!1&&(r.draggable=!1,n.userSelect=n.WebkitUserSelect=n.WebkitTouchCallout="none",n.touchAction=e.drag===!0?"none":`pan-${e.drag==="x"?"y":"x"}`),e.tabIndex===void 0&&(e.onTap||e.onTapStart||e.whileTap)&&(r.tabIndex=0),r.style=n,r}const VX={offset:"stroke-dashoffset",array:"stroke-dasharray"},qX={offset:"strokeDashoffset",array:"strokeDasharray"};function WX(e,t,r=1,n=0,s=!0){e.pathLength=1;const i=s?VX:qX;e[i.offset]=mt.transform(-n);const l=mt.transform(t),c=mt.transform(r);e[i.array]=`${l} ${c}`}function l8(e,{attrX:t,attrY:r,attrScale:n,pathLength:s,pathSpacing:i=1,pathOffset:l=0,...c},d,f,h){if(yS(e,c,f),d){e.style.viewBox&&(e.attrs.viewBox=e.style.viewBox);return}e.attrs=e.style,e.style={};const{attrs:g,style:p}=e;g.transform&&(p.transform=g.transform,delete g.transform),(p.transform||g.transformOrigin)&&(p.transformOrigin=g.transformOrigin??"50% 50%",delete g.transformOrigin),p.transform&&(p.transformBox=h?.transformBox??"fill-box",delete g.transformBox),t!==void 0&&(g.x=t),r!==void 0&&(g.y=r),n!==void 0&&(g.scale=n),s!==void 0&&WX(g,s,i,l,!1)}const o8=()=>({...vS(),attrs:{}}),c8=e=>typeof e=="string"&&e.toLowerCase()==="svg";function GX(e,t,r,n){const s=v.useMemo(()=>{const i=o8();return l8(i,t,c8(n),e.transformTemplate,e.style),{...i.attrs,style:{...i.style}}},[t]);if(e.style){const i={};i8(i,e.style,e),s.style={...i,...s.style}}return s}const KX=["animate","circle","defs","desc","ellipse","g","image","line","filter","marker","mask","metadata","path","pattern","polygon","polyline","rect","stop","switch","symbol","svg","text","tspan","use","view"];function bS(e){return typeof e!="string"||e.includes("-")?!1:!!(KX.indexOf(e)>-1||/[A-Z]/u.test(e))}function YX(e,t,r,{latestValues:n},s,i=!1){const c=(bS(e)?GX:HX)(t,n,s,e),d=MX(t,typeof e=="string",i),f=e!==v.Fragment?{...d,...c,ref:r}:{},{children:h}=t,g=v.useMemo(()=>na(h)?h.get():h,[h]);return v.createElement(e,{...f,children:g})}function LC(e){const t=[{},{}];return e?.values.forEach((r,n)=>{t[0][n]=r.get(),t[1][n]=r.getVelocity()}),t}function wS(e,t,r,n){if(typeof t=="function"){const[s,i]=LC(n);t=t(r!==void 0?r:e.custom,s,i)}if(typeof t=="string"&&(t=e.variants&&e.variants[t]),typeof t=="function"){const[s,i]=LC(n);t=t(r!==void 0?r:e.custom,s,i)}return t}function bp(e){return na(e)?e.get():e}function XX({scrapeMotionValuesFromProps:e,createRenderState:t},r,n,s){return{latestValues:QX(r,n,s,e),renderState:t()}}function QX(e,t,r,n){const s={},i=n(e,{});for(const p in i)s[p]=bp(i[p]);let{initial:l,animate:c}=e;const d=Zx(e),f=a8(e);t&&f&&!d&&e.inherit!==!1&&(l===void 0&&(l=t.initial),c===void 0&&(c=t.animate));let h=r?r.initial===!1:!1;h=h||l===!1;const g=h?c:l;if(g&&typeof g!="boolean"&&!Qx(g)){const p=Array.isArray(g)?g:[g];for(let y=0;y<p.length;y++){const b=wS(e,p[y]);if(b){const{transitionEnd:w,transition:j,...S}=b;for(const k in S){let E=S[k];if(Array.isArray(E)){const C=h?E.length-1:0;E=E[C]}E!==null&&(s[k]=E)}for(const k in w)s[k]=w[k]}}}return s}const u8=e=>(t,r)=>{const n=v.useContext(Xx),s=v.useContext(KN),i=()=>XX(e,t,n,s);return r?i():OK(i)};function jS(e,t,r){const{style:n}=e,s={};for(const i in n)(na(n[i])||t.style&&na(t.style[i])||s8(i,e)||r?.getValue(i)?.liveStyle!==void 0)&&(s[i]=n[i]);return s}const ZX=u8({scrapeMotionValuesFromProps:jS,createRenderState:vS});function d8(e,t,r){const n=jS(e,t,r);for(const s in e)if(na(e[s])||na(t[s])){const i=Qd.indexOf(s)!==-1?"attr"+s.charAt(0).toUpperCase()+s.substring(1):s;n[i]=e[s]}return n}const JX=u8({scrapeMotionValuesFromProps:d8,createRenderState:o8}),eQ=Symbol.for("motionComponentSymbol");function ud(e){return e&&typeof e=="object"&&Object.prototype.hasOwnProperty.call(e,"current")}function tQ(e,t,r){return v.useCallback(n=>{n&&e.onMount&&e.onMount(n),t&&(n?t.mount(n):t.unmount()),r&&(typeof r=="function"?r(n):ud(r)&&(r.current=n))},[t])}const NS=e=>e.replace(/([a-z])([A-Z])/gu,"$1-$2").toLowerCase(),rQ="framerAppearId",f8="data-"+NS(rQ),h8=v.createContext({});function nQ(e,t,r,n,s){const{visualElement:i}=v.useContext(Xx),l=v.useContext(r8),c=v.useContext(KN),d=v.useContext(t8).reducedMotion,f=v.useRef(null);n=n||l.renderer,!f.current&&n&&(f.current=n(e,{visualState:t,parent:i,props:r,presenceContext:c,blockInitialAnimation:c?c.initial===!1:!1,reducedMotionConfig:d}));const h=f.current,g=v.useContext(h8);h&&!h.projection&&s&&(h.type==="html"||h.type==="svg")&&aQ(f.current,r,s,g);const p=v.useRef(!1);v.useInsertionEffect(()=>{h&&p.current&&h.update(r,c)});const y=r[f8],b=v.useRef(!!y&&!window.MotionHandoffIsComplete?.(y)&&window.MotionHasOptimisedAnimation?.(y));return DK(()=>{h&&(p.current=!0,window.MotionIsMounted=!0,h.updateFeatures(),h.scheduleRenderMicrotask(),b.current&&h.animationState&&h.animationState.animateChanges())}),v.useEffect(()=>{h&&(!b.current&&h.animationState&&h.animationState.animateChanges(),b.current&&(queueMicrotask(()=>{window.MotionHandoffMarkAsComplete?.(y)}),b.current=!1),h.enteringChildren=void 0)}),h}function aQ(e,t,r,n){const{layoutId:s,layout:i,drag:l,dragConstraints:c,layoutScroll:d,layoutRoot:f,layoutCrossfade:h}=t;e.projection=new r(e.latestValues,t["data-framer-portal-id"]?void 0:m8(e.parent)),e.projection.setOptions({layoutId:s,layout:i,alwaysMeasureLayout:!!l||c&&ud(c),visualElement:e,animationType:typeof i=="string"?i:"both",initialPromotionConfig:n,crossfade:h,layoutScroll:d,layoutRoot:f})}function m8(e){if(e)return e.options.allowProjection!==!1?e.projection:m8(e.parent)}function v1(e,{forwardMotionProps:t=!1}={},r,n){r&&OX(r);const s=bS(e)?JX:ZX;function i(c,d){let f;const h={...v.useContext(t8),...c,layoutId:sQ(c)},{isStatic:g}=h,p=IX(c),y=s(c,g);if(!g&&GN){iQ();const b=lQ(h);f=b.MeasureLayout,p.visualElement=nQ(e,y,h,n,b.ProjectionNode)}return a.jsxs(Xx.Provider,{value:p,children:[f&&p.visualElement?a.jsx(f,{visualElement:p.visualElement,...h}):null,YX(e,c,tQ(y,p.visualElement,d),y,g,t)]})}i.displayName=`motion.${typeof e=="string"?e:`create(${e.displayName??e.name??""})`}`;const l=v.forwardRef(i);return l[eQ]=e,l}function sQ({layoutId:e}){const t=v.useContext(dR).id;return t&&e!==void 0?t+"-"+e:e}function iQ(e,t){v.useContext(r8).strict}function lQ(e){const{drag:t,layout:r}=Td;if(!t&&!r)return{};const n={...t,...r};return{MeasureLayout:t?.isEnabled(e)||r?.isEnabled(e)?n.MeasureLayout:void 0,ProjectionNode:n.ProjectionNode}}function oQ(e,t){if(typeof Proxy>"u")return v1;const r=new Map,n=(i,l)=>v1(i,l,e,t),s=(i,l)=>n(i,l);return new Proxy(s,{get:(i,l)=>l==="create"?n:(r.has(l)||r.set(l,v1(l,void 0,e,t)),r.get(l))})}function g8({top:e,left:t,right:r,bottom:n}){return{x:{min:t,max:r},y:{min:e,max:n}}}function cQ({x:e,y:t}){return{top:t.min,right:e.max,bottom:t.max,left:e.min}}function uQ(e,t){if(!t)return e;const r=t({x:e.left,y:e.top}),n=t({x:e.right,y:e.bottom});return{top:r.y,left:r.x,bottom:n.y,right:n.x}}function b1(e){return e===void 0||e===1}function uj({scale:e,scaleX:t,scaleY:r}){return!b1(e)||!b1(t)||!b1(r)}function Sc(e){return uj(e)||p8(e)||e.z||e.rotate||e.rotateX||e.rotateY||e.skewX||e.skewY}function p8(e){return BC(e.x)||BC(e.y)}function BC(e){return e&&e!=="0%"}function Ip(e,t,r){const n=e-r,s=t*n;return r+s}function $C(e,t,r,n,s){return s!==void 0&&(e=Ip(e,s,n)),Ip(e,r,n)+t}function dj(e,t=0,r=1,n,s){e.min=$C(e.min,t,r,n,s),e.max=$C(e.max,t,r,n,s)}function x8(e,{x:t,y:r}){dj(e.x,t.translate,t.scale,t.originPoint),dj(e.y,r.translate,r.scale,r.originPoint)}const UC=.999999999999,zC=1.0000000000001;function dQ(e,t,r,n=!1){const s=r.length;if(!s)return;t.x=t.y=1;let i,l;for(let c=0;c<s;c++){i=r[c],l=i.projectionDelta;const{visualElement:d}=i.options;d&&d.props.style&&d.props.style.display==="contents"||(n&&i.options.layoutScroll&&i.scroll&&i!==i.root&&fd(e,{x:-i.scroll.offset.x,y:-i.scroll.offset.y}),l&&(t.x*=l.x.scale,t.y*=l.y.scale,x8(e,l)),n&&Sc(i.latestValues)&&fd(e,i.latestValues))}t.x<zC&&t.x>UC&&(t.x=1),t.y<zC&&t.y>UC&&(t.y=1)}function dd(e,t){e.min=e.min+t,e.max=e.max+t}function HC(e,t,r,n,s=.5){const i=Br(e.min,e.max,s);dj(e,t,r,i,n)}function fd(e,t){HC(e.x,t.x,t.scaleX,t.scale,t.originX),HC(e.y,t.y,t.scaleY,t.scale,t.originY)}function y8(e,t){return g8(uQ(e.getBoundingClientRect(),t))}function fQ(e,t,r){const n=y8(e,r),{scroll:s}=t;return s&&(dd(n.x,s.offset.x),dd(n.y,s.offset.y)),n}const VC=()=>({translate:0,scale:1,origin:0,originPoint:0}),hd=()=>({x:VC(),y:VC()}),qC=()=>({min:0,max:0}),Qr=()=>({x:qC(),y:qC()}),fj={current:null},v8={current:!1};function hQ(){if(v8.current=!0,!!GN)if(window.matchMedia){const e=window.matchMedia("(prefers-reduced-motion)"),t=()=>fj.current=e.matches;e.addEventListener("change",t),t()}else fj.current=!1}const mQ=new WeakMap;function gQ(e,t,r){for(const n in t){const s=t[n],i=r[n];if(na(s))e.addValue(n,s);else if(na(i))e.addValue(n,Ed(s,{owner:e}));else if(i!==s)if(e.hasValue(n)){const l=e.getValue(n);l.liveStyle===!0?l.jump(s):l.hasAnimated||l.set(s)}else{const l=e.getStaticValue(n);e.addValue(n,Ed(l!==void 0?l:s,{owner:e}))}}for(const n in r)t[n]===void 0&&e.removeValue(n);return t}const WC=["AnimationStart","AnimationComplete","Update","BeforeLayoutMeasure","LayoutMeasure","LayoutAnimationStart","LayoutAnimationComplete"];class pQ{scrapeMotionValuesFromProps(t,r,n){return{}}constructor({parent:t,props:r,presenceContext:n,reducedMotionConfig:s,blockInitialAnimation:i,visualState:l},c={}){this.current=null,this.children=new Set,this.isVariantNode=!1,this.isControllingVariants=!1,this.shouldReduceMotion=null,this.values=new Map,this.KeyframeResolver=dS,this.features={},this.valueSubscriptions=new Map,this.prevMotionValues={},this.events={},this.propEventSubscriptions={},this.notifyUpdate=()=>this.notify("Update",this.latestValues),this.render=()=>{this.current&&(this.triggerBuild(),this.renderInstance(this.current,this.renderState,this.props.style,this.projection))},this.renderScheduledAt=0,this.scheduleRender=()=>{const p=Ma.now();this.renderScheduledAt<p&&(this.renderScheduledAt=p,Or.render(this.render,!1,!0))};const{latestValues:d,renderState:f}=l;this.latestValues=d,this.baseTarget={...d},this.initialValues=r.initial?{...d}:{},this.renderState=f,this.parent=t,this.props=r,this.presenceContext=n,this.depth=t?t.depth+1:0,this.reducedMotionConfig=s,this.options=c,this.blockInitialAnimation=!!i,this.isControllingVariants=Zx(r),this.isVariantNode=a8(r),this.isVariantNode&&(this.variantChildren=new Set),this.manuallyAnimateOnMount=!!(t&&t.current);const{willChange:h,...g}=this.scrapeMotionValuesFromProps(r,{},this);for(const p in g){const y=g[p];d[p]!==void 0&&na(y)&&y.set(d[p])}}mount(t){this.current=t,mQ.set(t,this),this.projection&&!this.projection.instance&&this.projection.mount(t),this.parent&&this.isVariantNode&&!this.isControllingVariants&&(this.removeFromVariantTree=this.parent.addVariantChild(this)),this.values.forEach((r,n)=>this.bindToMotionValue(n,r)),v8.current||hQ(),this.shouldReduceMotion=this.reducedMotionConfig==="never"?!1:this.reducedMotionConfig==="always"?!0:fj.current,this.parent?.addChild(this),this.update(this.props,this.presenceContext)}unmount(){this.projection&&this.projection.unmount(),Po(this.notifyUpdate),Po(this.render),this.valueSubscriptions.forEach(t=>t()),this.valueSubscriptions.clear(),this.removeFromVariantTree&&this.removeFromVariantTree(),this.parent?.removeChild(this);for(const t in this.events)this.events[t].clear();for(const t in this.features){const r=this.features[t];r&&(r.unmount(),r.isMounted=!1)}this.current=null}addChild(t){this.children.add(t),this.enteringChildren??(this.enteringChildren=new Set),this.enteringChildren.add(t)}removeChild(t){this.children.delete(t),this.enteringChildren&&this.enteringChildren.delete(t)}bindToMotionValue(t,r){this.valueSubscriptions.has(t)&&this.valueSubscriptions.get(t)();const n=Zd.has(t);n&&this.onBindTransform&&this.onBindTransform();const s=r.on("change",l=>{this.latestValues[t]=l,this.props.onUpdate&&Or.preRender(this.notifyUpdate),n&&this.projection&&(this.projection.isTransformDirty=!0),this.scheduleRender()});let i;window.MotionCheckAppearSync&&(i=window.MotionCheckAppearSync(this,t,r)),this.valueSubscriptions.set(t,()=>{s(),i&&i(),r.owner&&r.stop()})}sortNodePosition(t){return!this.current||!this.sortInstanceNodePosition||this.type!==t.type?0:this.sortInstanceNodePosition(this.current,t.current)}updateFeatures(){let t="animation";for(t in Td){const r=Td[t];if(!r)continue;const{isEnabled:n,Feature:s}=r;if(!this.features[t]&&s&&n(this.props)&&(this.features[t]=new s(this)),this.features[t]){const i=this.features[t];i.isMounted?i.update():(i.mount(),i.isMounted=!0)}}}triggerBuild(){this.build(this.renderState,this.latestValues,this.props)}measureViewportBox(){return this.current?this.measureInstanceViewportBox(this.current,this.props):Qr()}getStaticValue(t){return this.latestValues[t]}setStaticValue(t,r){this.latestValues[t]=r}update(t,r){(t.transformTemplate||this.props.transformTemplate)&&this.scheduleRender(),this.prevProps=this.props,this.props=t,this.prevPresenceContext=this.presenceContext,this.presenceContext=r;for(let n=0;n<WC.length;n++){const s=WC[n];this.propEventSubscriptions[s]&&(this.propEventSubscriptions[s](),delete this.propEventSubscriptions[s]);const i="on"+s,l=t[i];l&&(this.propEventSubscriptions[s]=this.on(s,l))}this.prevMotionValues=gQ(this,this.scrapeMotionValuesFromProps(t,this.prevProps,this),this.prevMotionValues),this.handleChildMotionValue&&this.handleChildMotionValue()}getProps(){return this.props}getVariant(t){return this.props.variants?this.props.variants[t]:void 0}getDefaultTransition(){return this.props.transition}getTransformPagePoint(){return this.props.transformPagePoint}getClosestVariantNode(){return this.isVariantNode?this:this.parent?this.parent.getClosestVariantNode():void 0}addVariantChild(t){const r=this.getClosestVariantNode();if(r)return r.variantChildren&&r.variantChildren.add(t),()=>r.variantChildren.delete(t)}addValue(t,r){const n=this.values.get(t);r!==n&&(n&&this.removeValue(t),this.bindToMotionValue(t,r),this.values.set(t,r),this.latestValues[t]=r.get())}removeValue(t){this.values.delete(t);const r=this.valueSubscriptions.get(t);r&&(r(),this.valueSubscriptions.delete(t)),delete this.latestValues[t],this.removeValueFromRenderState(t,this.renderState)}hasValue(t){return this.values.has(t)}getValue(t,r){if(this.props.values&&this.props.values[t])return this.props.values[t];let n=this.values.get(t);return n===void 0&&r!==void 0&&(n=Ed(r===null?void 0:r,{owner:this}),this.addValue(t,n)),n}readValue(t,r){let n=this.latestValues[t]!==void 0||!this.current?this.latestValues[t]:this.getBaseTargetFromProps(this.props,t)??this.readValueFromInstance(this.current,t,this.options);return n!=null&&(typeof n=="string"&&(fR(n)||mR(n))?n=parseFloat(n):!AX(n)&&Mo.test(r)&&(n=YR(t,r)),this.setBaseTarget(t,na(n)?n.get():n)),na(n)?n.get():n}setBaseTarget(t,r){this.baseTarget[t]=r}getBaseTarget(t){const{initial:r}=this.props;let n;if(typeof r=="string"||typeof r=="object"){const i=wS(this.props,r,this.presenceContext?.custom);i&&(n=i[t])}if(r&&n!==void 0)return n;const s=this.getBaseTargetFromProps(this.props,t);return s!==void 0&&!na(s)?s:this.initialValues[t]!==void 0&&n===void 0?void 0:this.baseTarget[t]}on(t,r){return this.events[t]||(this.events[t]=new JN),this.events[t].add(r)}notify(t,...r){this.events[t]&&this.events[t].notify(...r)}scheduleRenderMicrotask(){mS.render(this.render)}}class b8 extends pQ{constructor(){super(...arguments),this.KeyframeResolver=pX}sortInstanceNodePosition(t,r){return t.compareDocumentPosition(r)&2?1:-1}getBaseTargetFromProps(t,r){return t.style?t.style[r]:void 0}removeValueFromRenderState(t,{vars:r,style:n}){delete r[t],delete n[t]}handleChildMotionValue(){this.childSubscription&&(this.childSubscription(),delete this.childSubscription);const{children:t}=this.props;na(t)&&(this.childSubscription=t.on("change",r=>{this.current&&(this.current.textContent=`${r}`)}))}}function w8(e,{style:t,vars:r},n,s){const i=e.style;let l;for(l in t)i[l]=t[l];s?.applyProjectionStyles(i,n);for(l in r)i.setProperty(l,r[l])}function xQ(e){return window.getComputedStyle(e)}class yQ extends b8{constructor(){super(...arguments),this.type="html",this.renderInstance=w8}readValueFromInstance(t,r){if(Zd.has(r))return this.projection?.isProjecting?nj(r):RY(t,r);{const n=xQ(t),s=(rS(r)?n.getPropertyValue(r):n[r])||0;return typeof s=="string"?s.trim():s}}measureInstanceViewportBox(t,{transformPagePoint:r}){return y8(t,r)}build(t,r,n){yS(t,r,n.transformTemplate)}scrapeMotionValuesFromProps(t,r,n){return jS(t,r,n)}}const j8=new Set(["baseFrequency","diffuseConstant","kernelMatrix","kernelUnitLength","keySplines","keyTimes","limitingConeAngle","markerHeight","markerWidth","numOctaves","targetX","targetY","surfaceScale","specularConstant","specularExponent","stdDeviation","tableValues","viewBox","gradientTransform","pathLength","startOffset","textLength","lengthAdjust"]);function vQ(e,t,r,n){w8(e,t,void 0,n);for(const s in t.attrs)e.setAttribute(j8.has(s)?s:NS(s),t.attrs[s])}class bQ extends b8{constructor(){super(...arguments),this.type="svg",this.isSVGTag=!1,this.measureInstanceViewportBox=Qr}getBaseTargetFromProps(t,r){return t[r]}readValueFromInstance(t,r){if(Zd.has(r)){const n=KR(r);return n&&n.default||0}return r=j8.has(r)?r:NS(r),t.getAttribute(r)}scrapeMotionValuesFromProps(t,r,n){return d8(t,r,n)}build(t,r,n){l8(t,r,this.isSVGTag,n.transformTemplate,n.style)}renderInstance(t,r,n,s){vQ(t,r,n,s)}mount(t){this.isSVGTag=c8(t.tagName),super.mount(t)}}const wQ=(e,t)=>bS(e)?new bQ(t):new yQ(t,{allowProjection:e!==v.Fragment});function xd(e,t,r){const n=e.getProps();return wS(n,t,r!==void 0?r:n.custom,e)}const hj=e=>Array.isArray(e);function jQ(e,t,r){e.hasValue(t)?e.getValue(t).set(r):e.addValue(t,Ed(r))}function NQ(e){return hj(e)?e[e.length-1]||0:e}function SQ(e,t){const r=xd(e,t);let{transitionEnd:n={},transition:s={},...i}=r||{};i={...i,...n};for(const l in i){const c=NQ(i[l]);jQ(e,l,c)}}function _Q(e){return!!(na(e)&&e.add)}function mj(e,t){const r=e.getValue("willChange");if(_Q(r))return r.add(t);if(!r&&Nl.WillChange){const n=new Nl.WillChange("auto");e.addValue("willChange",n),n.add(t)}}function N8(e){return e.props[f8]}const kQ=e=>e!==null;function EQ(e,{repeat:t,repeatType:r="loop"},n){const s=e.filter(kQ),i=t&&r!=="loop"&&t%2===1?0:s.length-1;return s[i]}const TQ={type:"spring",stiffness:500,damping:25,restSpeed:10},AQ=e=>({type:"spring",stiffness:550,damping:e===0?2*Math.sqrt(550):30,restSpeed:10}),CQ={type:"keyframes",duration:.8},OQ={type:"keyframes",ease:[.25,.1,.35,1],duration:.3},DQ=(e,{keyframes:t})=>t.length>2?CQ:Zd.has(e)?e.startsWith("scale")?AQ(t[1]):TQ:OQ;function PQ({when:e,delay:t,delayChildren:r,staggerChildren:n,staggerDirection:s,repeat:i,repeatType:l,repeatDelay:c,from:d,elapsed:f,...h}){return!!Object.keys(h).length}const SS=(e,t,r,n={},s,i)=>l=>{const c=fS(n,e)||{},d=c.delay||n.delay||0;let{elapsed:f=0}=n;f=f-Pi(d);const h={keyframes:Array.isArray(r)?r:[null,r],ease:"easeOut",velocity:t.getVelocity(),...c,delay:-f,onUpdate:p=>{t.set(p),c.onUpdate&&c.onUpdate(p)},onComplete:()=>{l(),c.onComplete&&c.onComplete()},name:e,motionValue:t,element:i?void 0:s};PQ(c)||Object.assign(h,DQ(e,h)),h.duration&&(h.duration=Pi(h.duration)),h.repeatDelay&&(h.repeatDelay=Pi(h.repeatDelay)),h.from!==void 0&&(h.keyframes[0]=h.from);let g=!1;if((h.type===!1||h.duration===0&&!h.repeatDelay)&&(oj(h),h.delay===0&&(g=!0)),(Nl.instantAnimations||Nl.skipAnimations)&&(g=!0,oj(h),h.delay=0),h.allowFlatten=!c.type&&!c.ease,g&&!i&&t.get()!==void 0){const p=EQ(h.keyframes,c);if(p!==void 0){Or.update(()=>{h.onUpdate(p),h.onComplete()});return}}return c.isSync?new uS(h):new aX(h)};function MQ({protectedKeys:e,needsAnimating:t},r){const n=e.hasOwnProperty(r)&&t[r]!==!0;return t[r]=!1,n}function S8(e,t,{delay:r=0,transitionOverride:n,type:s}={}){let{transition:i=e.getDefaultTransition(),transitionEnd:l,...c}=t;n&&(i=n);const d=[],f=s&&e.animationState&&e.animationState.getState()[s];for(const h in c){const g=e.getValue(h,e.latestValues[h]??null),p=c[h];if(p===void 0||f&&MQ(f,h))continue;const y={delay:r,...fS(i||{},h)},b=g.get();if(b!==void 0&&!g.isAnimating&&!Array.isArray(p)&&p===b&&!y.velocity)continue;let w=!1;if(window.MotionHandoffAnimation){const S=N8(e);if(S){const k=window.MotionHandoffAnimation(S,h,Or);k!==null&&(y.startTime=k,w=!0)}}mj(e,h),g.start(SS(h,g,p,e.shouldReduceMotion&&qR.has(h)?{type:!1}:y,e,w));const j=g.animation;j&&d.push(j)}return l&&Promise.all(d).then(()=>{Or.update(()=>{l&&SQ(e,l)})}),d}function _8(e,t,r,n=0,s=1){const i=Array.from(e).sort((f,h)=>f.sortNodePosition(h)).indexOf(t),l=e.size,c=(l-1)*n;return typeof r=="function"?r(i,l):s===1?i*n:c-i*n}function gj(e,t,r={}){const n=xd(e,t,r.type==="exit"?e.presenceContext?.custom:void 0);let{transition:s=e.getDefaultTransition()||{}}=n||{};r.transitionOverride&&(s=r.transitionOverride);const i=n?()=>Promise.all(S8(e,n,r)):()=>Promise.resolve(),l=e.variantChildren&&e.variantChildren.size?(d=0)=>{const{delayChildren:f=0,staggerChildren:h,staggerDirection:g}=s;return RQ(e,t,d,f,h,g,r)}:()=>Promise.resolve(),{when:c}=s;if(c){const[d,f]=c==="beforeChildren"?[i,l]:[l,i];return d().then(()=>f())}else return Promise.all([i(),l(r.delay)])}function RQ(e,t,r=0,n=0,s=0,i=1,l){const c=[];for(const d of e.variantChildren)d.notify("AnimationStart",t),c.push(gj(d,t,{...l,delay:r+(typeof n=="function"?0:n)+_8(e.variantChildren,d,n,s,i)}).then(()=>d.notify("AnimationComplete",t)));return Promise.all(c)}function IQ(e,t,r={}){e.notify("AnimationStart",t);let n;if(Array.isArray(t)){const s=t.map(i=>gj(e,i,r));n=Promise.all(s)}else if(typeof t=="string")n=gj(e,t,r);else{const s=typeof t=="function"?xd(e,t,r.custom):t;n=Promise.all(S8(e,s,r))}return n.then(()=>{e.notify("AnimationComplete",t)})}function k8(e,t){if(!Array.isArray(t))return!1;const r=t.length;if(r!==e.length)return!1;for(let n=0;n<r;n++)if(t[n]!==e[n])return!1;return!0}const FQ=xS.length;function E8(e){if(!e)return;if(!e.isControllingVariants){const r=e.parent?E8(e.parent)||{}:{};return e.props.initial!==void 0&&(r.initial=e.props.initial),r}const t={};for(let r=0;r<FQ;r++){const n=xS[r],s=e.props[n];(vh(s)||s===!1)&&(t[n]=s)}return t}const LQ=[...pS].reverse(),BQ=pS.length;function $Q(e){return t=>Promise.all(t.map(({animation:r,options:n})=>IQ(e,r,n)))}function UQ(e){let t=$Q(e),r=GC(),n=!0;const s=d=>(f,h)=>{const g=xd(e,h,d==="exit"?e.presenceContext?.custom:void 0);if(g){const{transition:p,transitionEnd:y,...b}=g;f={...f,...b,...y}}return f};function i(d){t=d(e)}function l(d){const{props:f}=e,h=E8(e.parent)||{},g=[],p=new Set;let y={},b=1/0;for(let j=0;j<BQ;j++){const S=LQ[j],k=r[S],E=f[S]!==void 0?f[S]:h[S],C=vh(E),T=S===d?k.isActive:null;T===!1&&(b=j);let A=E===h[S]&&E!==f[S]&&C;if(A&&n&&e.manuallyAnimateOnMount&&(A=!1),k.protectedKeys={...y},!k.isActive&&T===null||!E&&!k.prevProp||Qx(E)||typeof E=="boolean")continue;const O=zQ(k.prevProp,E);let D=O||S===d&&k.isActive&&!A&&C||j>b&&C,R=!1;const B=Array.isArray(E)?E:[E];let V=B.reduce(s(S),{});T===!1&&(V={});const{prevResolvedValues:W={}}=k,se={...W,...V},oe=te=>{D=!0,p.has(te)&&(R=!0,p.delete(te)),k.needsAnimating[te]=!0;const ue=e.getValue(te);ue&&(ue.liveStyle=!1)};for(const te in se){const ue=V[te],ve=W[te];if(y.hasOwnProperty(te))continue;let U=!1;hj(ue)&&hj(ve)?U=!k8(ue,ve):U=ue!==ve,U?ue!=null?oe(te):p.add(te):ue!==void 0&&p.has(te)?oe(te):k.protectedKeys[te]=!0}k.prevProp=E,k.prevResolvedValues=V,k.isActive&&(y={...y,...V}),n&&e.blockInitialAnimation&&(D=!1);const Y=A&&O;D&&(!Y||R)&&g.push(...B.map(te=>{const ue={type:S};if(typeof te=="string"&&n&&!Y&&e.manuallyAnimateOnMount&&e.parent){const{parent:ve}=e,U=xd(ve,te);if(ve.enteringChildren&&U){const{delayChildren:ie}=U.transition||{};ue.delay=_8(ve.enteringChildren,e,ie)}}return{animation:te,options:ue}}))}if(p.size){const j={};if(typeof f.initial!="boolean"){const S=xd(e,Array.isArray(f.initial)?f.initial[0]:f.initial);S&&S.transition&&(j.transition=S.transition)}p.forEach(S=>{const k=e.getBaseTarget(S),E=e.getValue(S);E&&(E.liveStyle=!0),j[S]=k??null}),g.push({animation:j})}let w=!!g.length;return n&&(f.initial===!1||f.initial===f.animate)&&!e.manuallyAnimateOnMount&&(w=!1),n=!1,w?t(g):Promise.resolve()}function c(d,f){if(r[d].isActive===f)return Promise.resolve();e.variantChildren?.forEach(g=>g.animationState?.setActive(d,f)),r[d].isActive=f;const h=l(d);for(const g in r)r[g].protectedKeys={};return h}return{animateChanges:l,setActive:c,setAnimateFunction:i,getState:()=>r,reset:()=>{r=GC(),n=!0}}}function zQ(e,t){return typeof t=="string"?t!==e:Array.isArray(t)?!k8(t,e):!1}function wc(e=!1){return{isActive:e,protectedKeys:{},needsAnimating:{},prevResolvedValues:{}}}function GC(){return{animate:wc(!0),whileInView:wc(),whileHover:wc(),whileTap:wc(),whileDrag:wc(),whileFocus:wc(),exit:wc()}}class Go{constructor(t){this.isMounted=!1,this.node=t}update(){}}class HQ extends Go{constructor(t){super(t),t.animationState||(t.animationState=UQ(t))}updateAnimationControlsSubscription(){const{animate:t}=this.node.getProps();Qx(t)&&(this.unmountControls=t.subscribe(this.node))}mount(){this.updateAnimationControlsSubscription()}update(){const{animate:t}=this.node.getProps(),{animate:r}=this.node.prevProps||{};t!==r&&this.updateAnimationControlsSubscription()}unmount(){this.node.animationState.reset(),this.unmountControls?.()}}let VQ=0;class qQ extends Go{constructor(){super(...arguments),this.id=VQ++}update(){if(!this.node.presenceContext)return;const{isPresent:t,onExitComplete:r}=this.node.presenceContext,{isPresent:n}=this.node.prevPresenceContext||{};if(!this.node.animationState||t===n)return;const s=this.node.animationState.setActive("exit",!t);r&&!t&&s.then(()=>{r(this.id)})}mount(){const{register:t,onExitComplete:r}=this.node.presenceContext||{};r&&r(this.id),t&&(this.unmount=t(this.id))}unmount(){}}const WQ={animation:{Feature:HQ},exit:{Feature:qQ}};function wh(e,t,r,n={passive:!0}){return e.addEventListener(t,r,n),()=>e.removeEventListener(t,r)}function nm(e){return{point:{x:e.pageX,y:e.pageY}}}const GQ=e=>t=>gS(t)&&e(t,nm(t));function W0(e,t,r,n){return wh(e,t,GQ(r),n)}const T8=1e-4,KQ=1-T8,YQ=1+T8,A8=.01,XQ=0-A8,QQ=0+A8;function ma(e){return e.max-e.min}function ZQ(e,t,r){return Math.abs(e-t)<=r}function KC(e,t,r,n=.5){e.origin=n,e.originPoint=Br(t.min,t.max,e.origin),e.scale=ma(r)/ma(t),e.translate=Br(r.min,r.max,e.origin)-e.originPoint,(e.scale>=KQ&&e.scale<=YQ||isNaN(e.scale))&&(e.scale=1),(e.translate>=XQ&&e.translate<=QQ||isNaN(e.translate))&&(e.translate=0)}function G0(e,t,r,n){KC(e.x,t.x,r.x,n?n.originX:void 0),KC(e.y,t.y,r.y,n?n.originY:void 0)}function YC(e,t,r){e.min=r.min+t.min,e.max=e.min+ma(t)}function JQ(e,t,r){YC(e.x,t.x,r.x),YC(e.y,t.y,r.y)}function XC(e,t,r){e.min=t.min-r.min,e.max=e.min+ma(t)}function K0(e,t,r){XC(e.x,t.x,r.x),XC(e.y,t.y,r.y)}function Rs(e){return[e("x"),e("y")]}const C8=({current:e})=>e?e.ownerDocument.defaultView:null,QC=(e,t)=>Math.abs(e-t);function eZ(e,t){const r=QC(e.x,t.x),n=QC(e.y,t.y);return Math.sqrt(r**2+n**2)}class O8{constructor(t,r,{transformPagePoint:n,contextWindow:s=window,dragSnapToOrigin:i=!1,distanceThreshold:l=3}={}){if(this.startEvent=null,this.lastMoveEvent=null,this.lastMoveEventInfo=null,this.handlers={},this.contextWindow=window,this.updatePoint=()=>{if(!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const p=j1(this.lastMoveEventInfo,this.history),y=this.startEvent!==null,b=eZ(p.offset,{x:0,y:0})>=this.distanceThreshold;if(!y&&!b)return;const{point:w}=p,{timestamp:j}=Bn;this.history.push({...w,timestamp:j});const{onStart:S,onMove:k}=this.handlers;y||(S&&S(this.lastMoveEvent,p),this.startEvent=this.lastMoveEvent),k&&k(this.lastMoveEvent,p)},this.handlePointerMove=(p,y)=>{this.lastMoveEvent=p,this.lastMoveEventInfo=w1(y,this.transformPagePoint),Or.update(this.updatePoint,!0)},this.handlePointerUp=(p,y)=>{this.end();const{onEnd:b,onSessionEnd:w,resumeAnimation:j}=this.handlers;if(this.dragSnapToOrigin&&j&&j(),!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const S=j1(p.type==="pointercancel"?this.lastMoveEventInfo:w1(y,this.transformPagePoint),this.history);this.startEvent&&b&&b(p,S),w&&w(p,S)},!gS(t))return;this.dragSnapToOrigin=i,this.handlers=r,this.transformPagePoint=n,this.distanceThreshold=l,this.contextWindow=s||window;const c=nm(t),d=w1(c,this.transformPagePoint),{point:f}=d,{timestamp:h}=Bn;this.history=[{...f,timestamp:h}];const{onSessionStart:g}=r;g&&g(t,j1(d,this.history)),this.removeListeners=em(W0(this.contextWindow,"pointermove",this.handlePointerMove),W0(this.contextWindow,"pointerup",this.handlePointerUp),W0(this.contextWindow,"pointercancel",this.handlePointerUp))}updateHandlers(t){this.handlers=t}end(){this.removeListeners&&this.removeListeners(),Po(this.updatePoint)}}function w1(e,t){return t?{point:t(e.point)}:e}function ZC(e,t){return{x:e.x-t.x,y:e.y-t.y}}function j1({point:e},t){return{point:e,delta:ZC(e,D8(t)),offset:ZC(e,tZ(t)),velocity:rZ(t,.1)}}function tZ(e){return e[0]}function D8(e){return e[e.length-1]}function rZ(e,t){if(e.length<2)return{x:0,y:0};let r=e.length-1,n=null;const s=D8(e);for(;r>=0&&(n=e[r],!(s.timestamp-n.timestamp>Pi(t)));)r--;if(!n)return{x:0,y:0};const i=Mi(s.timestamp-n.timestamp);if(i===0)return{x:0,y:0};const l={x:(s.x-n.x)/i,y:(s.y-n.y)/i};return l.x===1/0&&(l.x=0),l.y===1/0&&(l.y=0),l}function nZ(e,{min:t,max:r},n){return t!==void 0&&e<t?e=n?Br(t,e,n.min):Math.max(e,t):r!==void 0&&e>r&&(e=n?Br(r,e,n.max):Math.min(e,r)),e}function JC(e,t,r){return{min:t!==void 0?e.min+t:void 0,max:r!==void 0?e.max+r-(e.max-e.min):void 0}}function aZ(e,{top:t,left:r,bottom:n,right:s}){return{x:JC(e.x,r,s),y:JC(e.y,t,n)}}function e3(e,t){let r=t.min-e.min,n=t.max-e.max;return t.max-t.min<e.max-e.min&&([r,n]=[n,r]),{min:r,max:n}}function sZ(e,t){return{x:e3(e.x,t.x),y:e3(e.y,t.y)}}function iZ(e,t){let r=.5;const n=ma(e),s=ma(t);return s>n?r=ph(t.min,t.max-n,e.min):n>s&&(r=ph(e.min,e.max-s,t.min)),jl(0,1,r)}function lZ(e,t){const r={};return t.min!==void 0&&(r.min=t.min-e.min),t.max!==void 0&&(r.max=t.max-e.min),r}const pj=.35;function oZ(e=pj){return e===!1?e=0:e===!0&&(e=pj),{x:t3(e,"left","right"),y:t3(e,"top","bottom")}}function t3(e,t,r){return{min:r3(e,t),max:r3(e,r)}}function r3(e,t){return typeof e=="number"?e:e[t]||0}const cZ=new WeakMap;class uZ{constructor(t){this.openDragLock=null,this.isDragging=!1,this.currentDirection=null,this.originPoint={x:0,y:0},this.constraints=!1,this.hasMutatedConstraints=!1,this.elastic=Qr(),this.latestPointerEvent=null,this.latestPanInfo=null,this.visualElement=t}start(t,{snapToCursor:r=!1,distanceThreshold:n}={}){const{presenceContext:s}=this.visualElement;if(s&&s.isPresent===!1)return;const i=g=>{const{dragSnapToOrigin:p}=this.getProps();p?this.pauseAnimation():this.stopAnimation(),r&&this.snapToCursor(nm(g).point)},l=(g,p)=>{const{drag:y,dragPropagation:b,onDragStart:w}=this.getProps();if(y&&!b&&(this.openDragLock&&this.openDragLock(),this.openDragLock=wX(y),!this.openDragLock))return;this.latestPointerEvent=g,this.latestPanInfo=p,this.isDragging=!0,this.currentDirection=null,this.resolveConstraints(),this.visualElement.projection&&(this.visualElement.projection.isAnimationBlocked=!0,this.visualElement.projection.target=void 0),Rs(S=>{let k=this.getAxisMotionValue(S).get()||0;if(Ri.test(k)){const{projection:E}=this.visualElement;if(E&&E.layout){const C=E.layout.layoutBox[S];C&&(k=ma(C)*(parseFloat(k)/100))}}this.originPoint[S]=k}),w&&Or.postRender(()=>w(g,p)),mj(this.visualElement,"transform");const{animationState:j}=this.visualElement;j&&j.setActive("whileDrag",!0)},c=(g,p)=>{this.latestPointerEvent=g,this.latestPanInfo=p;const{dragPropagation:y,dragDirectionLock:b,onDirectionLock:w,onDrag:j}=this.getProps();if(!y&&!this.openDragLock)return;const{offset:S}=p;if(b&&this.currentDirection===null){this.currentDirection=dZ(S),this.currentDirection!==null&&w&&w(this.currentDirection);return}this.updateAxis("x",p.point,S),this.updateAxis("y",p.point,S),this.visualElement.render(),j&&j(g,p)},d=(g,p)=>{this.latestPointerEvent=g,this.latestPanInfo=p,this.stop(g,p),this.latestPointerEvent=null,this.latestPanInfo=null},f=()=>Rs(g=>this.getAnimationState(g)==="paused"&&this.getAxisMotionValue(g).animation?.play()),{dragSnapToOrigin:h}=this.getProps();this.panSession=new O8(t,{onSessionStart:i,onStart:l,onMove:c,onSessionEnd:d,resumeAnimation:f},{transformPagePoint:this.visualElement.getTransformPagePoint(),dragSnapToOrigin:h,distanceThreshold:n,contextWindow:C8(this.visualElement)})}stop(t,r){const n=t||this.latestPointerEvent,s=r||this.latestPanInfo,i=this.isDragging;if(this.cancel(),!i||!s||!n)return;const{velocity:l}=s;this.startAnimation(l);const{onDragEnd:c}=this.getProps();c&&Or.postRender(()=>c(n,s))}cancel(){this.isDragging=!1;const{projection:t,animationState:r}=this.visualElement;t&&(t.isAnimationBlocked=!1),this.panSession&&this.panSession.end(),this.panSession=void 0;const{dragPropagation:n}=this.getProps();!n&&this.openDragLock&&(this.openDragLock(),this.openDragLock=null),r&&r.setActive("whileDrag",!1)}updateAxis(t,r,n){const{drag:s}=this.getProps();if(!n||!$g(t,s,this.currentDirection))return;const i=this.getAxisMotionValue(t);let l=this.originPoint[t]+n[t];this.constraints&&this.constraints[t]&&(l=nZ(l,this.constraints[t],this.elastic[t])),i.set(l)}resolveConstraints(){const{dragConstraints:t,dragElastic:r}=this.getProps(),n=this.visualElement.projection&&!this.visualElement.projection.layout?this.visualElement.projection.measure(!1):this.visualElement.projection?.layout,s=this.constraints;t&&ud(t)?this.constraints||(this.constraints=this.resolveRefConstraints()):t&&n?this.constraints=aZ(n.layoutBox,t):this.constraints=!1,this.elastic=oZ(r),s!==this.constraints&&n&&this.constraints&&!this.hasMutatedConstraints&&Rs(i=>{this.constraints!==!1&&this.getAxisMotionValue(i)&&(this.constraints[i]=lZ(n.layoutBox[i],this.constraints[i]))})}resolveRefConstraints(){const{dragConstraints:t,onMeasureDragConstraints:r}=this.getProps();if(!t||!ud(t))return!1;const n=t.current,{projection:s}=this.visualElement;if(!s||!s.layout)return!1;const i=fQ(n,s.root,this.visualElement.getTransformPagePoint());let l=sZ(s.layout.layoutBox,i);if(r){const c=r(cQ(l));this.hasMutatedConstraints=!!c,c&&(l=g8(c))}return l}startAnimation(t){const{drag:r,dragMomentum:n,dragElastic:s,dragTransition:i,dragSnapToOrigin:l,onDragTransitionEnd:c}=this.getProps(),d=this.constraints||{},f=Rs(h=>{if(!$g(h,r,this.currentDirection))return;let g=d&&d[h]||{};l&&(g={min:0,max:0});const p=s?200:1e6,y=s?40:1e7,b={type:"inertia",velocity:n?t[h]:0,bounceStiffness:p,bounceDamping:y,timeConstant:750,restDelta:1,restSpeed:10,...i,...g};return this.startAxisValueAnimation(h,b)});return Promise.all(f).then(c)}startAxisValueAnimation(t,r){const n=this.getAxisMotionValue(t);return mj(this.visualElement,t),n.start(SS(t,n,0,r,this.visualElement,!1))}stopAnimation(){Rs(t=>this.getAxisMotionValue(t).stop())}pauseAnimation(){Rs(t=>this.getAxisMotionValue(t).animation?.pause())}getAnimationState(t){return this.getAxisMotionValue(t).animation?.state}getAxisMotionValue(t){const r=`_drag${t.toUpperCase()}`,n=this.visualElement.getProps(),s=n[r];return s||this.visualElement.getValue(t,(n.initial?n.initial[t]:void 0)||0)}snapToCursor(t){Rs(r=>{const{drag:n}=this.getProps();if(!$g(r,n,this.currentDirection))return;const{projection:s}=this.visualElement,i=this.getAxisMotionValue(r);if(s&&s.layout){const{min:l,max:c}=s.layout.layoutBox[r];i.set(t[r]-Br(l,c,.5))}})}scalePositionWithinConstraints(){if(!this.visualElement.current)return;const{drag:t,dragConstraints:r}=this.getProps(),{projection:n}=this.visualElement;if(!ud(r)||!n||!this.constraints)return;this.stopAnimation();const s={x:0,y:0};Rs(l=>{const c=this.getAxisMotionValue(l);if(c&&this.constraints!==!1){const d=c.get();s[l]=iZ({min:d,max:d},this.constraints[l])}});const{transformTemplate:i}=this.visualElement.getProps();this.visualElement.current.style.transform=i?i({},""):"none",n.root&&n.root.updateScroll(),n.updateLayout(),this.resolveConstraints(),Rs(l=>{if(!$g(l,t,null))return;const c=this.getAxisMotionValue(l),{min:d,max:f}=this.constraints[l];c.set(Br(d,f,s[l]))})}addListeners(){if(!this.visualElement.current)return;cZ.set(this.visualElement,this);const t=this.visualElement.current,r=W0(t,"pointerdown",d=>{const{drag:f,dragListener:h=!0}=this.getProps();f&&h&&this.start(d)}),n=()=>{const{dragConstraints:d}=this.getProps();ud(d)&&d.current&&(this.constraints=this.resolveRefConstraints())},{projection:s}=this.visualElement,i=s.addEventListener("measure",n);s&&!s.layout&&(s.root&&s.root.updateScroll(),s.updateLayout()),Or.read(n);const l=wh(window,"resize",()=>this.scalePositionWithinConstraints()),c=s.addEventListener("didUpdate",({delta:d,hasLayoutChanged:f})=>{this.isDragging&&f&&(Rs(h=>{const g=this.getAxisMotionValue(h);g&&(this.originPoint[h]+=d[h].translate,g.set(g.get()+d[h].translate))}),this.visualElement.render())});return()=>{l(),r(),i(),c&&c()}}getProps(){const t=this.visualElement.getProps(),{drag:r=!1,dragDirectionLock:n=!1,dragPropagation:s=!1,dragConstraints:i=!1,dragElastic:l=pj,dragMomentum:c=!0}=t;return{...t,drag:r,dragDirectionLock:n,dragPropagation:s,dragConstraints:i,dragElastic:l,dragMomentum:c}}}function $g(e,t,r){return(t===!0||t===e)&&(r===null||r===e)}function dZ(e,t=10){let r=null;return Math.abs(e.y)>t?r="y":Math.abs(e.x)>t&&(r="x"),r}class fZ extends Go{constructor(t){super(t),this.removeGroupControls=Us,this.removeListeners=Us,this.controls=new uZ(t)}mount(){const{dragControls:t}=this.node.getProps();t&&(this.removeGroupControls=t.subscribe(this.controls)),this.removeListeners=this.controls.addListeners()||Us}unmount(){this.removeGroupControls(),this.removeListeners()}}const n3=e=>(t,r)=>{e&&Or.postRender(()=>e(t,r))};class hZ extends Go{constructor(){super(...arguments),this.removePointerDownListener=Us}onPointerDown(t){this.session=new O8(t,this.createPanHandlers(),{transformPagePoint:this.node.getTransformPagePoint(),contextWindow:C8(this.node)})}createPanHandlers(){const{onPanSessionStart:t,onPanStart:r,onPan:n,onPanEnd:s}=this.node.getProps();return{onSessionStart:n3(t),onStart:n3(r),onMove:n,onEnd:(i,l)=>{delete this.session,s&&Or.postRender(()=>s(i,l))}}}mount(){this.removePointerDownListener=W0(this.node.current,"pointerdown",t=>this.onPointerDown(t))}update(){this.session&&this.session.updateHandlers(this.createPanHandlers())}unmount(){this.removePointerDownListener(),this.session&&this.session.end()}}const wp={hasAnimatedSinceResize:!0,hasEverUpdated:!1};function a3(e,t){return t.max===t.min?0:e/(t.max-t.min)*100}const x0={correct:(e,t)=>{if(!t.target)return e;if(typeof e=="string")if(mt.test(e))e=parseFloat(e);else return e;const r=a3(e,t.target.x),n=a3(e,t.target.y);return`${r}% ${n}%`}},mZ={correct:(e,{treeScale:t,projectionDelta:r})=>{const n=e,s=Mo.parse(e);if(s.length>5)return n;const i=Mo.createTransformer(e),l=typeof s[0]!="number"?1:0,c=r.x.scale*t.x,d=r.y.scale*t.y;s[0+l]/=c,s[1+l]/=d;const f=Br(c,d,.5);return typeof s[2+l]=="number"&&(s[2+l]/=f),typeof s[3+l]=="number"&&(s[3+l]/=f),i(s)}};let N1=!1;class gZ extends v.Component{componentDidMount(){const{visualElement:t,layoutGroup:r,switchLayoutGroup:n,layoutId:s}=this.props,{projection:i}=t;FX(pZ),i&&(r.group&&r.group.add(i),n&&n.register&&s&&n.register(i),N1&&i.root.didUpdate(),i.addEventListener("animationComplete",()=>{this.safeToRemove()}),i.setOptions({...i.options,onExitComplete:()=>this.safeToRemove()})),wp.hasEverUpdated=!0}getSnapshotBeforeUpdate(t){const{layoutDependency:r,visualElement:n,drag:s,isPresent:i}=this.props,{projection:l}=n;return l&&(l.isPresent=i,N1=!0,s||t.layoutDependency!==r||r===void 0||t.isPresent!==i?l.willUpdate():this.safeToRemove(),t.isPresent!==i&&(i?l.promote():l.relegate()||Or.postRender(()=>{const c=l.getStack();(!c||!c.members.length)&&this.safeToRemove()}))),null}componentDidUpdate(){const{projection:t}=this.props.visualElement;t&&(t.root.didUpdate(),mS.postRender(()=>{!t.currentAnimation&&t.isLead()&&this.safeToRemove()}))}componentWillUnmount(){const{visualElement:t,layoutGroup:r,switchLayoutGroup:n}=this.props,{projection:s}=t;N1=!0,s&&(s.scheduleCheckAfterUnmount(),r&&r.group&&r.group.remove(s),n&&n.deregister&&n.deregister(s))}safeToRemove(){const{safeToRemove:t}=this.props;t&&t()}render(){return null}}function P8(e){const[t,r]=CX(),n=v.useContext(dR);return a.jsx(gZ,{...e,layoutGroup:n,switchLayoutGroup:v.useContext(h8),isPresent:t,safeToRemove:r})}const pZ={borderRadius:{...x0,applyTo:["borderTopLeftRadius","borderTopRightRadius","borderBottomLeftRadius","borderBottomRightRadius"]},borderTopLeftRadius:x0,borderTopRightRadius:x0,borderBottomLeftRadius:x0,borderBottomRightRadius:x0,boxShadow:mZ};function xZ(e,t,r){const n=na(e)?e:Ed(e);return n.start(SS("",n,t,r)),n.animation}const yZ=(e,t)=>e.depth-t.depth;class vZ{constructor(){this.children=[],this.isDirty=!1}add(t){YN(this.children,t),this.isDirty=!0}remove(t){XN(this.children,t),this.isDirty=!0}forEach(t){this.isDirty&&this.children.sort(yZ),this.isDirty=!1,this.children.forEach(t)}}function bZ(e,t){const r=Ma.now(),n=({timestamp:s})=>{const i=s-r;i>=t&&(Po(n),e(i-t))};return Or.setup(n,!0),()=>Po(n)}const M8=["TopLeft","TopRight","BottomLeft","BottomRight"],wZ=M8.length,s3=e=>typeof e=="string"?parseFloat(e):e,i3=e=>typeof e=="number"||mt.test(e);function jZ(e,t,r,n,s,i){s?(e.opacity=Br(0,r.opacity??1,NZ(n)),e.opacityExit=Br(t.opacity??1,0,SZ(n))):i&&(e.opacity=Br(t.opacity??1,r.opacity??1,n));for(let l=0;l<wZ;l++){const c=`border${M8[l]}Radius`;let d=l3(t,c),f=l3(r,c);if(d===void 0&&f===void 0)continue;d||(d=0),f||(f=0),d===0||f===0||i3(d)===i3(f)?(e[c]=Math.max(Br(s3(d),s3(f),n),0),(Ri.test(f)||Ri.test(d))&&(e[c]+="%")):e[c]=f}(t.rotate||r.rotate)&&(e.rotate=Br(t.rotate||0,r.rotate||0,n))}function l3(e,t){return e[t]!==void 0?e[t]:e.borderRadius}const NZ=R8(0,.5,jR),SZ=R8(.5,.95,Us);function R8(e,t,r){return n=>n<e?0:n>t?1:r(ph(e,t,n))}function o3(e,t){e.min=t.min,e.max=t.max}function ks(e,t){o3(e.x,t.x),o3(e.y,t.y)}function c3(e,t){e.translate=t.translate,e.scale=t.scale,e.originPoint=t.originPoint,e.origin=t.origin}function u3(e,t,r,n,s){return e-=t,e=Ip(e,1/r,n),s!==void 0&&(e=Ip(e,1/s,n)),e}function _Z(e,t=0,r=1,n=.5,s,i=e,l=e){if(Ri.test(t)&&(t=parseFloat(t),t=Br(l.min,l.max,t/100)-l.min),typeof t!="number")return;let c=Br(i.min,i.max,n);e===i&&(c-=t),e.min=u3(e.min,t,r,c,s),e.max=u3(e.max,t,r,c,s)}function d3(e,t,[r,n,s],i,l){_Z(e,t[r],t[n],t[s],t.scale,i,l)}const kZ=["x","scaleX","originX"],EZ=["y","scaleY","originY"];function f3(e,t,r,n){d3(e.x,t,kZ,r?r.x:void 0,n?n.x:void 0),d3(e.y,t,EZ,r?r.y:void 0,n?n.y:void 0)}function h3(e){return e.translate===0&&e.scale===1}function I8(e){return h3(e.x)&&h3(e.y)}function m3(e,t){return e.min===t.min&&e.max===t.max}function TZ(e,t){return m3(e.x,t.x)&&m3(e.y,t.y)}function g3(e,t){return Math.round(e.min)===Math.round(t.min)&&Math.round(e.max)===Math.round(t.max)}function F8(e,t){return g3(e.x,t.x)&&g3(e.y,t.y)}function p3(e){return ma(e.x)/ma(e.y)}function x3(e,t){return e.translate===t.translate&&e.scale===t.scale&&e.originPoint===t.originPoint}class AZ{constructor(){this.members=[]}add(t){YN(this.members,t),t.scheduleRender()}remove(t){if(XN(this.members,t),t===this.prevLead&&(this.prevLead=void 0),t===this.lead){const r=this.members[this.members.length-1];r&&this.promote(r)}}relegate(t){const r=this.members.findIndex(s=>t===s);if(r===0)return!1;let n;for(let s=r;s>=0;s--){const i=this.members[s];if(i.isPresent!==!1){n=i;break}}return n?(this.promote(n),!0):!1}promote(t,r){const n=this.lead;if(t!==n&&(this.prevLead=n,this.lead=t,t.show(),n)){n.instance&&n.scheduleRender(),t.scheduleRender(),t.resumeFrom=n,r&&(t.resumeFrom.preserveOpacity=!0),n.snapshot&&(t.snapshot=n.snapshot,t.snapshot.latestValues=n.animationValues||n.latestValues),t.root&&t.root.isUpdating&&(t.isLayoutDirty=!0);const{crossfade:s}=t.options;s===!1&&n.hide()}}exitAnimationComplete(){this.members.forEach(t=>{const{options:r,resumingFrom:n}=t;r.onExitComplete&&r.onExitComplete(),n&&n.options.onExitComplete&&n.options.onExitComplete()})}scheduleRender(){this.members.forEach(t=>{t.instance&&t.scheduleRender(!1)})}removeLeadSnapshot(){this.lead&&this.lead.snapshot&&(this.lead.snapshot=void 0)}}function CZ(e,t,r){let n="";const s=e.x.translate/t.x,i=e.y.translate/t.y,l=r?.z||0;if((s||i||l)&&(n=`translate3d(${s}px, ${i}px, ${l}px) `),(t.x!==1||t.y!==1)&&(n+=`scale(${1/t.x}, ${1/t.y}) `),r){const{transformPerspective:f,rotate:h,rotateX:g,rotateY:p,skewX:y,skewY:b}=r;f&&(n=`perspective(${f}px) ${n}`),h&&(n+=`rotate(${h}deg) `),g&&(n+=`rotateX(${g}deg) `),p&&(n+=`rotateY(${p}deg) `),y&&(n+=`skewX(${y}deg) `),b&&(n+=`skewY(${b}deg) `)}const c=e.x.scale*t.x,d=e.y.scale*t.y;return(c!==1||d!==1)&&(n+=`scale(${c}, ${d})`),n||"none"}const S1=["","X","Y","Z"],OZ=1e3;let DZ=0;function _1(e,t,r,n){const{latestValues:s}=t;s[e]&&(r[e]=s[e],t.setStaticValue(e,0),n&&(n[e]=0))}function L8(e){if(e.hasCheckedOptimisedAppear=!0,e.root===e)return;const{visualElement:t}=e.options;if(!t)return;const r=N8(t);if(window.MotionHasOptimisedAnimation(r,"transform")){const{layout:s,layoutId:i}=e.options;window.MotionCancelOptimisedAnimation(r,"transform",Or,!(s||i))}const{parent:n}=e;n&&!n.hasCheckedOptimisedAppear&&L8(n)}function B8({attachResizeListener:e,defaultParent:t,measureScroll:r,checkIsScrollRoot:n,resetTransform:s}){return class{constructor(l={},c=t?.()){this.id=DZ++,this.animationId=0,this.animationCommitId=0,this.children=new Set,this.options={},this.isTreeAnimating=!1,this.isAnimationBlocked=!1,this.isLayoutDirty=!1,this.isProjectionDirty=!1,this.isSharedProjectionDirty=!1,this.isTransformDirty=!1,this.updateManuallyBlocked=!1,this.updateBlockedByResize=!1,this.isUpdating=!1,this.isSVG=!1,this.needsReset=!1,this.shouldResetTransform=!1,this.hasCheckedOptimisedAppear=!1,this.treeScale={x:1,y:1},this.eventHandlers=new Map,this.hasTreeAnimated=!1,this.updateScheduled=!1,this.scheduleUpdate=()=>this.update(),this.projectionUpdateScheduled=!1,this.checkUpdateFailed=()=>{this.isUpdating&&(this.isUpdating=!1,this.clearAllSnapshots())},this.updateProjection=()=>{this.projectionUpdateScheduled=!1,this.nodes.forEach(RZ),this.nodes.forEach(BZ),this.nodes.forEach($Z),this.nodes.forEach(IZ)},this.resolvedRelativeTargetAt=0,this.hasProjected=!1,this.isVisible=!0,this.animationProgress=0,this.sharedNodes=new Map,this.latestValues=l,this.root=c?c.root||c:this,this.path=c?[...c.path,c]:[],this.parent=c,this.depth=c?c.depth+1:0;for(let d=0;d<this.path.length;d++)this.path[d].shouldResetTransform=!0;this.root===this&&(this.nodes=new vZ)}addEventListener(l,c){return this.eventHandlers.has(l)||this.eventHandlers.set(l,new JN),this.eventHandlers.get(l).add(c)}notifyListeners(l,...c){const d=this.eventHandlers.get(l);d&&d.notify(...c)}hasListeners(l){return this.eventHandlers.has(l)}mount(l){if(this.instance)return;this.isSVG=e8(l)&&!EX(l),this.instance=l;const{layoutId:c,layout:d,visualElement:f}=this.options;if(f&&!f.current&&f.mount(l),this.root.nodes.add(this),this.parent&&this.parent.children.add(this),this.root.hasTreeAnimated&&(d||c)&&(this.isLayoutDirty=!0),e){let h,g=0;const p=()=>this.root.updateBlockedByResize=!1;Or.read(()=>{g=window.innerWidth}),e(l,()=>{const y=window.innerWidth;y!==g&&(g=y,this.root.updateBlockedByResize=!0,h&&h(),h=bZ(p,250),wp.hasAnimatedSinceResize&&(wp.hasAnimatedSinceResize=!1,this.nodes.forEach(b3)))})}c&&this.root.registerSharedNode(c,this),this.options.animate!==!1&&f&&(c||d)&&this.addEventListener("didUpdate",({delta:h,hasLayoutChanged:g,hasRelativeLayoutChanged:p,layout:y})=>{if(this.isTreeAnimationBlocked()){this.target=void 0,this.relativeTarget=void 0;return}const b=this.options.transition||f.getDefaultTransition()||qZ,{onLayoutAnimationStart:w,onLayoutAnimationComplete:j}=f.getProps(),S=!this.targetLayout||!F8(this.targetLayout,y),k=!g&&p;if(this.options.layoutRoot||this.resumeFrom||k||g&&(S||!this.currentAnimation)){this.resumeFrom&&(this.resumingFrom=this.resumeFrom,this.resumingFrom.resumingFrom=void 0);const E={...fS(b,"layout"),onPlay:w,onComplete:j};(f.shouldReduceMotion||this.options.layoutRoot)&&(E.delay=0,E.type=!1),this.startAnimation(E),this.setAnimationOrigin(h,k)}else g||b3(this),this.isLead()&&this.options.onExitComplete&&this.options.onExitComplete();this.targetLayout=y})}unmount(){this.options.layoutId&&this.willUpdate(),this.root.nodes.remove(this);const l=this.getStack();l&&l.remove(this),this.parent&&this.parent.children.delete(this),this.instance=void 0,this.eventHandlers.clear(),Po(this.updateProjection)}blockUpdate(){this.updateManuallyBlocked=!0}unblockUpdate(){this.updateManuallyBlocked=!1}isUpdateBlocked(){return this.updateManuallyBlocked||this.updateBlockedByResize}isTreeAnimationBlocked(){return this.isAnimationBlocked||this.parent&&this.parent.isTreeAnimationBlocked()||!1}startUpdate(){this.isUpdateBlocked()||(this.isUpdating=!0,this.nodes&&this.nodes.forEach(UZ),this.animationId++)}getTransformTemplate(){const{visualElement:l}=this.options;return l&&l.getProps().transformTemplate}willUpdate(l=!0){if(this.root.hasTreeAnimated=!0,this.root.isUpdateBlocked()){this.options.onExitComplete&&this.options.onExitComplete();return}if(window.MotionCancelOptimisedAnimation&&!this.hasCheckedOptimisedAppear&&L8(this),!this.root.isUpdating&&this.root.startUpdate(),this.isLayoutDirty)return;this.isLayoutDirty=!0;for(let h=0;h<this.path.length;h++){const g=this.path[h];g.shouldResetTransform=!0,g.updateScroll("snapshot"),g.options.layoutRoot&&g.willUpdate(!1)}const{layoutId:c,layout:d}=this.options;if(c===void 0&&!d)return;const f=this.getTransformTemplate();this.prevTransformTemplateValue=f?f(this.latestValues,""):void 0,this.updateSnapshot(),l&&this.notifyListeners("willUpdate")}update(){if(this.updateScheduled=!1,this.isUpdateBlocked()){this.unblockUpdate(),this.clearAllSnapshots(),this.nodes.forEach(y3);return}if(this.animationId<=this.animationCommitId){this.nodes.forEach(v3);return}this.animationCommitId=this.animationId,this.isUpdating?(this.isUpdating=!1,this.nodes.forEach(LZ),this.nodes.forEach(PZ),this.nodes.forEach(MZ)):this.nodes.forEach(v3),this.clearAllSnapshots();const c=Ma.now();Bn.delta=jl(0,1e3/60,c-Bn.timestamp),Bn.timestamp=c,Bn.isProcessing=!0,h1.update.process(Bn),h1.preRender.process(Bn),h1.render.process(Bn),Bn.isProcessing=!1}didUpdate(){this.updateScheduled||(this.updateScheduled=!0,mS.read(this.scheduleUpdate))}clearAllSnapshots(){this.nodes.forEach(FZ),this.sharedNodes.forEach(zZ)}scheduleUpdateProjection(){this.projectionUpdateScheduled||(this.projectionUpdateScheduled=!0,Or.preRender(this.updateProjection,!1,!0))}scheduleCheckAfterUnmount(){Or.postRender(()=>{this.isLayoutDirty?this.root.didUpdate():this.root.checkUpdateFailed()})}updateSnapshot(){this.snapshot||!this.instance||(this.snapshot=this.measure(),this.snapshot&&!ma(this.snapshot.measuredBox.x)&&!ma(this.snapshot.measuredBox.y)&&(this.snapshot=void 0))}updateLayout(){if(!this.instance||(this.updateScroll(),!(this.options.alwaysMeasureLayout&&this.isLead())&&!this.isLayoutDirty))return;if(this.resumeFrom&&!this.resumeFrom.instance)for(let d=0;d<this.path.length;d++)this.path[d].updateScroll();const l=this.layout;this.layout=this.measure(!1),this.layoutCorrected=Qr(),this.isLayoutDirty=!1,this.projectionDelta=void 0,this.notifyListeners("measure",this.layout.layoutBox);const{visualElement:c}=this.options;c&&c.notify("LayoutMeasure",this.layout.layoutBox,l?l.layoutBox:void 0)}updateScroll(l="measure"){let c=!!(this.options.layoutScroll&&this.instance);if(this.scroll&&this.scroll.animationId===this.root.animationId&&this.scroll.phase===l&&(c=!1),c&&this.instance){const d=n(this.instance);this.scroll={animationId:this.root.animationId,phase:l,isRoot:d,offset:r(this.instance),wasRoot:this.scroll?this.scroll.isRoot:d}}}resetTransform(){if(!s)return;const l=this.isLayoutDirty||this.shouldResetTransform||this.options.alwaysMeasureLayout,c=this.projectionDelta&&!I8(this.projectionDelta),d=this.getTransformTemplate(),f=d?d(this.latestValues,""):void 0,h=f!==this.prevTransformTemplateValue;l&&this.instance&&(c||Sc(this.latestValues)||h)&&(s(this.instance,f),this.shouldResetTransform=!1,this.scheduleRender())}measure(l=!0){const c=this.measurePageBox();let d=this.removeElementScroll(c);return l&&(d=this.removeTransform(d)),WZ(d),{animationId:this.root.animationId,measuredBox:c,layoutBox:d,latestValues:{},source:this.id}}measurePageBox(){const{visualElement:l}=this.options;if(!l)return Qr();const c=l.measureViewportBox();if(!(this.scroll?.wasRoot||this.path.some(GZ))){const{scroll:f}=this.root;f&&(dd(c.x,f.offset.x),dd(c.y,f.offset.y))}return c}removeElementScroll(l){const c=Qr();if(ks(c,l),this.scroll?.wasRoot)return c;for(let d=0;d<this.path.length;d++){const f=this.path[d],{scroll:h,options:g}=f;f!==this.root&&h&&g.layoutScroll&&(h.wasRoot&&ks(c,l),dd(c.x,h.offset.x),dd(c.y,h.offset.y))}return c}applyTransform(l,c=!1){const d=Qr();ks(d,l);for(let f=0;f<this.path.length;f++){const h=this.path[f];!c&&h.options.layoutScroll&&h.scroll&&h!==h.root&&fd(d,{x:-h.scroll.offset.x,y:-h.scroll.offset.y}),Sc(h.latestValues)&&fd(d,h.latestValues)}return Sc(this.latestValues)&&fd(d,this.latestValues),d}removeTransform(l){const c=Qr();ks(c,l);for(let d=0;d<this.path.length;d++){const f=this.path[d];if(!f.instance||!Sc(f.latestValues))continue;uj(f.latestValues)&&f.updateSnapshot();const h=Qr(),g=f.measurePageBox();ks(h,g),f3(c,f.latestValues,f.snapshot?f.snapshot.layoutBox:void 0,h)}return Sc(this.latestValues)&&f3(c,this.latestValues),c}setTargetDelta(l){this.targetDelta=l,this.root.scheduleUpdateProjection(),this.isProjectionDirty=!0}setOptions(l){this.options={...this.options,...l,crossfade:l.crossfade!==void 0?l.crossfade:!0}}clearMeasurements(){this.scroll=void 0,this.layout=void 0,this.snapshot=void 0,this.prevTransformTemplateValue=void 0,this.targetDelta=void 0,this.target=void 0,this.isLayoutDirty=!1}forceRelativeParentToResolveTarget(){this.relativeParent&&this.relativeParent.resolvedRelativeTargetAt!==Bn.timestamp&&this.relativeParent.resolveTargetDelta(!0)}resolveTargetDelta(l=!1){const c=this.getLead();this.isProjectionDirty||(this.isProjectionDirty=c.isProjectionDirty),this.isTransformDirty||(this.isTransformDirty=c.isTransformDirty),this.isSharedProjectionDirty||(this.isSharedProjectionDirty=c.isSharedProjectionDirty);const d=!!this.resumingFrom||this!==c;if(!(l||d&&this.isSharedProjectionDirty||this.isProjectionDirty||this.parent?.isProjectionDirty||this.attemptToResolveRelativeTarget||this.root.updateBlockedByResize))return;const{layout:h,layoutId:g}=this.options;if(!(!this.layout||!(h||g))){if(this.resolvedRelativeTargetAt=Bn.timestamp,!this.targetDelta&&!this.relativeTarget){const p=this.getClosestProjectingParent();p&&p.layout&&this.animationProgress!==1?(this.relativeParent=p,this.forceRelativeParentToResolveTarget(),this.relativeTarget=Qr(),this.relativeTargetOrigin=Qr(),K0(this.relativeTargetOrigin,this.layout.layoutBox,p.layout.layoutBox),ks(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}if(!(!this.relativeTarget&&!this.targetDelta)&&(this.target||(this.target=Qr(),this.targetWithTransforms=Qr()),this.relativeTarget&&this.relativeTargetOrigin&&this.relativeParent&&this.relativeParent.target?(this.forceRelativeParentToResolveTarget(),JQ(this.target,this.relativeTarget,this.relativeParent.target)):this.targetDelta?(this.resumingFrom?this.target=this.applyTransform(this.layout.layoutBox):ks(this.target,this.layout.layoutBox),x8(this.target,this.targetDelta)):ks(this.target,this.layout.layoutBox),this.attemptToResolveRelativeTarget)){this.attemptToResolveRelativeTarget=!1;const p=this.getClosestProjectingParent();p&&!!p.resumingFrom==!!this.resumingFrom&&!p.options.layoutScroll&&p.target&&this.animationProgress!==1?(this.relativeParent=p,this.forceRelativeParentToResolveTarget(),this.relativeTarget=Qr(),this.relativeTargetOrigin=Qr(),K0(this.relativeTargetOrigin,this.target,p.target),ks(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}}}getClosestProjectingParent(){if(!(!this.parent||uj(this.parent.latestValues)||p8(this.parent.latestValues)))return this.parent.isProjecting()?this.parent:this.parent.getClosestProjectingParent()}isProjecting(){return!!((this.relativeTarget||this.targetDelta||this.options.layoutRoot)&&this.layout)}calcProjection(){const l=this.getLead(),c=!!this.resumingFrom||this!==l;let d=!0;if((this.isProjectionDirty||this.parent?.isProjectionDirty)&&(d=!1),c&&(this.isSharedProjectionDirty||this.isTransformDirty)&&(d=!1),this.resolvedRelativeTargetAt===Bn.timestamp&&(d=!1),d)return;const{layout:f,layoutId:h}=this.options;if(this.isTreeAnimating=!!(this.parent&&this.parent.isTreeAnimating||this.currentAnimation||this.pendingAnimation),this.isTreeAnimating||(this.targetDelta=this.relativeTarget=void 0),!this.layout||!(f||h))return;ks(this.layoutCorrected,this.layout.layoutBox);const g=this.treeScale.x,p=this.treeScale.y;dQ(this.layoutCorrected,this.treeScale,this.path,c),l.layout&&!l.target&&(this.treeScale.x!==1||this.treeScale.y!==1)&&(l.target=l.layout.layoutBox,l.targetWithTransforms=Qr());const{target:y}=l;if(!y){this.prevProjectionDelta&&(this.createProjectionDeltas(),this.scheduleRender());return}!this.projectionDelta||!this.prevProjectionDelta?this.createProjectionDeltas():(c3(this.prevProjectionDelta.x,this.projectionDelta.x),c3(this.prevProjectionDelta.y,this.projectionDelta.y)),G0(this.projectionDelta,this.layoutCorrected,y,this.latestValues),(this.treeScale.x!==g||this.treeScale.y!==p||!x3(this.projectionDelta.x,this.prevProjectionDelta.x)||!x3(this.projectionDelta.y,this.prevProjectionDelta.y))&&(this.hasProjected=!0,this.scheduleRender(),this.notifyListeners("projectionUpdate",y))}hide(){this.isVisible=!1}show(){this.isVisible=!0}scheduleRender(l=!0){if(this.options.visualElement?.scheduleRender(),l){const c=this.getStack();c&&c.scheduleRender()}this.resumingFrom&&!this.resumingFrom.instance&&(this.resumingFrom=void 0)}createProjectionDeltas(){this.prevProjectionDelta=hd(),this.projectionDelta=hd(),this.projectionDeltaWithTransform=hd()}setAnimationOrigin(l,c=!1){const d=this.snapshot,f=d?d.latestValues:{},h={...this.latestValues},g=hd();(!this.relativeParent||!this.relativeParent.options.layoutRoot)&&(this.relativeTarget=this.relativeTargetOrigin=void 0),this.attemptToResolveRelativeTarget=!c;const p=Qr(),y=d?d.source:void 0,b=this.layout?this.layout.source:void 0,w=y!==b,j=this.getStack(),S=!j||j.members.length<=1,k=!!(w&&!S&&this.options.crossfade===!0&&!this.path.some(VZ));this.animationProgress=0;let E;this.mixTargetDelta=C=>{const T=C/1e3;w3(g.x,l.x,T),w3(g.y,l.y,T),this.setTargetDelta(g),this.relativeTarget&&this.relativeTargetOrigin&&this.layout&&this.relativeParent&&this.relativeParent.layout&&(K0(p,this.layout.layoutBox,this.relativeParent.layout.layoutBox),HZ(this.relativeTarget,this.relativeTargetOrigin,p,T),E&&TZ(this.relativeTarget,E)&&(this.isProjectionDirty=!1),E||(E=Qr()),ks(E,this.relativeTarget)),w&&(this.animationValues=h,jZ(h,f,this.latestValues,T,k,S)),this.root.scheduleUpdateProjection(),this.scheduleRender(),this.animationProgress=T},this.mixTargetDelta(this.options.layoutRoot?1e3:0)}startAnimation(l){this.notifyListeners("animationStart"),this.currentAnimation?.stop(),this.resumingFrom?.currentAnimation?.stop(),this.pendingAnimation&&(Po(this.pendingAnimation),this.pendingAnimation=void 0),this.pendingAnimation=Or.update(()=>{wp.hasAnimatedSinceResize=!0,this.motionValue||(this.motionValue=Ed(0)),this.currentAnimation=xZ(this.motionValue,[0,1e3],{...l,velocity:0,isSync:!0,onUpdate:c=>{this.mixTargetDelta(c),l.onUpdate&&l.onUpdate(c)},onStop:()=>{},onComplete:()=>{l.onComplete&&l.onComplete(),this.completeAnimation()}}),this.resumingFrom&&(this.resumingFrom.currentAnimation=this.currentAnimation),this.pendingAnimation=void 0})}completeAnimation(){this.resumingFrom&&(this.resumingFrom.currentAnimation=void 0,this.resumingFrom.preserveOpacity=void 0);const l=this.getStack();l&&l.exitAnimationComplete(),this.resumingFrom=this.currentAnimation=this.animationValues=void 0,this.notifyListeners("animationComplete")}finishAnimation(){this.currentAnimation&&(this.mixTargetDelta&&this.mixTargetDelta(OZ),this.currentAnimation.stop()),this.completeAnimation()}applyTransformsToTarget(){const l=this.getLead();let{targetWithTransforms:c,target:d,layout:f,latestValues:h}=l;if(!(!c||!d||!f)){if(this!==l&&this.layout&&f&&$8(this.options.animationType,this.layout.layoutBox,f.layoutBox)){d=this.target||Qr();const g=ma(this.layout.layoutBox.x);d.x.min=l.target.x.min,d.x.max=d.x.min+g;const p=ma(this.layout.layoutBox.y);d.y.min=l.target.y.min,d.y.max=d.y.min+p}ks(c,d),fd(c,h),G0(this.projectionDeltaWithTransform,this.layoutCorrected,c,h)}}registerSharedNode(l,c){this.sharedNodes.has(l)||this.sharedNodes.set(l,new AZ),this.sharedNodes.get(l).add(c);const f=c.options.initialPromotionConfig;c.promote({transition:f?f.transition:void 0,preserveFollowOpacity:f&&f.shouldPreserveFollowOpacity?f.shouldPreserveFollowOpacity(c):void 0})}isLead(){const l=this.getStack();return l?l.lead===this:!0}getLead(){const{layoutId:l}=this.options;return l?this.getStack()?.lead||this:this}getPrevLead(){const{layoutId:l}=this.options;return l?this.getStack()?.prevLead:void 0}getStack(){const{layoutId:l}=this.options;if(l)return this.root.sharedNodes.get(l)}promote({needsReset:l,transition:c,preserveFollowOpacity:d}={}){const f=this.getStack();f&&f.promote(this,d),l&&(this.projectionDelta=void 0,this.needsReset=!0),c&&this.setOptions({transition:c})}relegate(){const l=this.getStack();return l?l.relegate(this):!1}resetSkewAndRotation(){const{visualElement:l}=this.options;if(!l)return;let c=!1;const{latestValues:d}=l;if((d.z||d.rotate||d.rotateX||d.rotateY||d.rotateZ||d.skewX||d.skewY)&&(c=!0),!c)return;const f={};d.z&&_1("z",l,f,this.animationValues);for(let h=0;h<S1.length;h++)_1(`rotate${S1[h]}`,l,f,this.animationValues),_1(`skew${S1[h]}`,l,f,this.animationValues);l.render();for(const h in f)l.setStaticValue(h,f[h]),this.animationValues&&(this.animationValues[h]=f[h]);l.scheduleRender()}applyProjectionStyles(l,c){if(!this.instance||this.isSVG)return;if(!this.isVisible){l.visibility="hidden";return}const d=this.getTransformTemplate();if(this.needsReset){this.needsReset=!1,l.visibility="",l.opacity="",l.pointerEvents=bp(c?.pointerEvents)||"",l.transform=d?d(this.latestValues,""):"none";return}const f=this.getLead();if(!this.projectionDelta||!this.layout||!f.target){this.options.layoutId&&(l.opacity=this.latestValues.opacity!==void 0?this.latestValues.opacity:1,l.pointerEvents=bp(c?.pointerEvents)||""),this.hasProjected&&!Sc(this.latestValues)&&(l.transform=d?d({},""):"none",this.hasProjected=!1);return}l.visibility="";const h=f.animationValues||f.latestValues;this.applyTransformsToTarget();let g=CZ(this.projectionDeltaWithTransform,this.treeScale,h);d&&(g=d(h,g)),l.transform=g;const{x:p,y}=this.projectionDelta;l.transformOrigin=`${p.origin*100}% ${y.origin*100}% 0`,f.animationValues?l.opacity=f===this?h.opacity??this.latestValues.opacity??1:this.preserveOpacity?this.latestValues.opacity:h.opacityExit:l.opacity=f===this?h.opacity!==void 0?h.opacity:"":h.opacityExit!==void 0?h.opacityExit:0;for(const b in bh){if(h[b]===void 0)continue;const{correct:w,applyTo:j,isCSSVariable:S}=bh[b],k=g==="none"?h[b]:w(h[b],f);if(j){const E=j.length;for(let C=0;C<E;C++)l[j[C]]=k}else S?this.options.visualElement.renderState.vars[b]=k:l[b]=k}this.options.layoutId&&(l.pointerEvents=f===this?bp(c?.pointerEvents)||"":"none")}clearSnapshot(){this.resumeFrom=this.snapshot=void 0}resetTree(){this.root.nodes.forEach(l=>l.currentAnimation?.stop()),this.root.nodes.forEach(y3),this.root.sharedNodes.clear()}}}function PZ(e){e.updateLayout()}function MZ(e){const t=e.resumeFrom?.snapshot||e.snapshot;if(e.isLead()&&e.layout&&t&&e.hasListeners("didUpdate")){const{layoutBox:r,measuredBox:n}=e.layout,{animationType:s}=e.options,i=t.source!==e.layout.source;s==="size"?Rs(h=>{const g=i?t.measuredBox[h]:t.layoutBox[h],p=ma(g);g.min=r[h].min,g.max=g.min+p}):$8(s,t.layoutBox,r)&&Rs(h=>{const g=i?t.measuredBox[h]:t.layoutBox[h],p=ma(r[h]);g.max=g.min+p,e.relativeTarget&&!e.currentAnimation&&(e.isProjectionDirty=!0,e.relativeTarget[h].max=e.relativeTarget[h].min+p)});const l=hd();G0(l,r,t.layoutBox);const c=hd();i?G0(c,e.applyTransform(n,!0),t.measuredBox):G0(c,r,t.layoutBox);const d=!I8(l);let f=!1;if(!e.resumeFrom){const h=e.getClosestProjectingParent();if(h&&!h.resumeFrom){const{snapshot:g,layout:p}=h;if(g&&p){const y=Qr();K0(y,t.layoutBox,g.layoutBox);const b=Qr();K0(b,r,p.layoutBox),F8(y,b)||(f=!0),h.options.layoutRoot&&(e.relativeTarget=b,e.relativeTargetOrigin=y,e.relativeParent=h)}}}e.notifyListeners("didUpdate",{layout:r,snapshot:t,delta:c,layoutDelta:l,hasLayoutChanged:d,hasRelativeLayoutChanged:f})}else if(e.isLead()){const{onExitComplete:r}=e.options;r&&r()}e.options.transition=void 0}function RZ(e){e.parent&&(e.isProjecting()||(e.isProjectionDirty=e.parent.isProjectionDirty),e.isSharedProjectionDirty||(e.isSharedProjectionDirty=!!(e.isProjectionDirty||e.parent.isProjectionDirty||e.parent.isSharedProjectionDirty)),e.isTransformDirty||(e.isTransformDirty=e.parent.isTransformDirty))}function IZ(e){e.isProjectionDirty=e.isSharedProjectionDirty=e.isTransformDirty=!1}function FZ(e){e.clearSnapshot()}function y3(e){e.clearMeasurements()}function v3(e){e.isLayoutDirty=!1}function LZ(e){const{visualElement:t}=e.options;t&&t.getProps().onBeforeLayoutMeasure&&t.notify("BeforeLayoutMeasure"),e.resetTransform()}function b3(e){e.finishAnimation(),e.targetDelta=e.relativeTarget=e.target=void 0,e.isProjectionDirty=!0}function BZ(e){e.resolveTargetDelta()}function $Z(e){e.calcProjection()}function UZ(e){e.resetSkewAndRotation()}function zZ(e){e.removeLeadSnapshot()}function w3(e,t,r){e.translate=Br(t.translate,0,r),e.scale=Br(t.scale,1,r),e.origin=t.origin,e.originPoint=t.originPoint}function j3(e,t,r,n){e.min=Br(t.min,r.min,n),e.max=Br(t.max,r.max,n)}function HZ(e,t,r,n){j3(e.x,t.x,r.x,n),j3(e.y,t.y,r.y,n)}function VZ(e){return e.animationValues&&e.animationValues.opacityExit!==void 0}const qZ={duration:.45,ease:[.4,0,.1,1]},N3=e=>typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().includes(e),S3=N3("applewebkit/")&&!N3("chrome/")?Math.round:Us;function _3(e){e.min=S3(e.min),e.max=S3(e.max)}function WZ(e){_3(e.x),_3(e.y)}function $8(e,t,r){return e==="position"||e==="preserve-aspect"&&!ZQ(p3(t),p3(r),.2)}function GZ(e){return e!==e.root&&e.scroll?.wasRoot}const KZ=B8({attachResizeListener:(e,t)=>wh(e,"resize",t),measureScroll:()=>({x:document.documentElement.scrollLeft||document.body.scrollLeft,y:document.documentElement.scrollTop||document.body.scrollTop}),checkIsScrollRoot:()=>!0}),k1={current:void 0},U8=B8({measureScroll:e=>({x:e.scrollLeft,y:e.scrollTop}),defaultParent:()=>{if(!k1.current){const e=new KZ({});e.mount(window),e.setOptions({layoutScroll:!0}),k1.current=e}return k1.current},resetTransform:(e,t)=>{e.style.transform=t!==void 0?t:"none"},checkIsScrollRoot:e=>window.getComputedStyle(e).position==="fixed"}),YZ={pan:{Feature:hZ},drag:{Feature:fZ,ProjectionNode:U8,MeasureLayout:P8}};function k3(e,t,r){const{props:n}=e;e.animationState&&n.whileHover&&e.animationState.setActive("whileHover",r==="Start");const s="onHover"+r,i=n[s];i&&Or.postRender(()=>i(t,nm(t)))}class XZ extends Go{mount(){const{current:t}=this.node;t&&(this.unmount=jX(t,(r,n)=>(k3(this.node,n,"Start"),s=>k3(this.node,s,"End"))))}unmount(){}}class QZ extends Go{constructor(){super(...arguments),this.isActive=!1}onFocus(){let t=!1;try{t=this.node.current.matches(":focus-visible")}catch{t=!0}!t||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!0),this.isActive=!0)}onBlur(){!this.isActive||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!1),this.isActive=!1)}mount(){this.unmount=em(wh(this.node.current,"focus",()=>this.onFocus()),wh(this.node.current,"blur",()=>this.onBlur()))}unmount(){}}function E3(e,t,r){const{props:n}=e;if(e.current instanceof HTMLButtonElement&&e.current.disabled)return;e.animationState&&n.whileTap&&e.animationState.setActive("whileTap",r==="Start");const s="onTap"+(r==="End"?"":r),i=n[s];i&&Or.postRender(()=>i(t,nm(t)))}class ZZ extends Go{mount(){const{current:t}=this.node;t&&(this.unmount=kX(t,(r,n)=>(E3(this.node,n,"Start"),(s,{success:i})=>E3(this.node,s,i?"End":"Cancel")),{useGlobalTarget:this.node.props.globalTapTarget}))}unmount(){}}const xj=new WeakMap,E1=new WeakMap,JZ=e=>{const t=xj.get(e.target);t&&t(e)},eJ=e=>{e.forEach(JZ)};function tJ({root:e,...t}){const r=e||document;E1.has(r)||E1.set(r,{});const n=E1.get(r),s=JSON.stringify(t);return n[s]||(n[s]=new IntersectionObserver(eJ,{root:e,...t})),n[s]}function rJ(e,t,r){const n=tJ(t);return xj.set(e,r),n.observe(e),()=>{xj.delete(e),n.unobserve(e)}}const nJ={some:0,all:1};class aJ extends Go{constructor(){super(...arguments),this.hasEnteredView=!1,this.isInView=!1}startObserver(){this.unmount();const{viewport:t={}}=this.node.getProps(),{root:r,margin:n,amount:s="some",once:i}=t,l={root:r?r.current:void 0,rootMargin:n,threshold:typeof s=="number"?s:nJ[s]},c=d=>{const{isIntersecting:f}=d;if(this.isInView===f||(this.isInView=f,i&&!f&&this.hasEnteredView))return;f&&(this.hasEnteredView=!0),this.node.animationState&&this.node.animationState.setActive("whileInView",f);const{onViewportEnter:h,onViewportLeave:g}=this.node.getProps(),p=f?h:g;p&&p(d)};return rJ(this.node.current,l,c)}mount(){this.startObserver()}update(){if(typeof IntersectionObserver>"u")return;const{props:t,prevProps:r}=this.node;["amount","margin","root"].some(sJ(t,r))&&this.startObserver()}unmount(){}}function sJ({viewport:e={}},{viewport:t={}}={}){return r=>e[r]!==t[r]}const iJ={inView:{Feature:aJ},tap:{Feature:ZZ},focus:{Feature:QZ},hover:{Feature:XZ}},lJ={layout:{ProjectionNode:U8,MeasureLayout:P8}},oJ={...WQ,...iJ,...YZ,...lJ},T1=oQ(oJ,wQ),cJ=[{title:"SALES CORE",items:[{name:"Dashboard",icon:a.jsx(wG,{}),path:"/dashboard"},{name:"Leads",icon:a.jsx(kr,{}),path:"/leads"},{name:"Contacts",icon:a.jsx(KW,{}),path:"/contacts"},{name:"Pipeline",icon:a.jsx(vG,{}),path:"/kanban"}]},{title:"AI INSIGHTS",items:[{name:"AI Features",icon:a.jsx(hl,{}),path:"/ai"},{name:"Conversational AI",icon:a.jsx(Y2,{}),path:"/conversational-ai"},{name:"AI Help Guide",icon:a.jsx(VN,{}),path:"/ai-help"},{name:"Predictive Analytics",icon:a.jsx(os,{}),path:"/predictive-analytics"},{name:"Sentiment Analysis",icon:a.jsx(Cr,{}),path:"/sentiment-analysis"},{name:"Customer Segmentation",icon:a.jsx(kr,{}),path:"/customer-segmentation"},{name:"Advanced Forecasting",icon:a.jsx(Cr,{}),path:"/advanced-forecasting"},{name:"MLOps",icon:a.jsx(eG,{}),path:"/mlops"},{name:"Document Processing",icon:a.jsx(ra,{}),path:"/document-processing"}]},{title:"AUTOMATION",items:[{name:"Email Automation",icon:a.jsx(Kd,{}),path:"/email-automation"},{name:"Lead Assignment",icon:a.jsx(uR,{}),path:"/lead-assignment-rules"},{name:"Approval Workflows",icon:a.jsx(Tt,{}),path:"/approval-workflows"},{name:"Lead Nurturing",icon:a.jsx(ha,{}),path:"/lead-nurturing"},{name:"Chat",icon:a.jsx(_d,{}),path:"/chat"}]},{title:"BUSINESS",items:[{name:"Customer Accounts",icon:a.jsx(od,{}),path:"/customer-accounts"},{name:"Financial Management",icon:a.jsx(Jc,{}),path:"/financial-management"},{name:"Customer Support",icon:a.jsx(aR,{}),path:"/customer-support"},{name:"Call Center",icon:a.jsx(kd,{}),path:"/telephony"}]},{title:"ADMIN",items:[{name:"User Management",icon:a.jsx(jK,{}),path:"/user-management"}]}],uJ=[{name:"Settings",icon:a.jsx(Hs,{}),path:"/settings"}];function dJ({open:e,onClose:t}){const r=pi(),[n,s]=v.useState(new Set(["SALES CORE","AI INSIGHTS","AUTOMATION","BUSINESS","ADMIN"])),i=c=>{const d=new Set(n);d.has(c)?d.delete(c):d.add(c),s(d)},l=c=>c.items.some(d=>r.pathname===d.path);return a.jsxs("aside",{className:"bg-[#181E36] text-white w-64 min-h-screen flex flex-col justify-between shadow-2xl relative",children:[a.jsxs("div",{className:"bg-[#181E36]",children:[a.jsx("div",{className:"flex flex-col items-center py-6",children:a.jsxs("div",{className:"flex flex-col items-center mb-2",children:[a.jsx("img",{src:CK,alt:"NeuraCRM logo",className:"w-14 h-14 rounded-full border-2 border-pink-300 shadow"}),a.jsx("div",{className:"text-xs text-blue-200 mt-2 text-center font-medium",children:"Smarter Sales, Powered by AI"})]})}),a.jsx("nav",{className:"flex-1 relative px-3 bg-[#181E36]",children:cJ.map(c=>{const d=n.has(c.title),f=l(c);return a.jsxs("div",{className:"mb-2 bg-[#181E36]",children:[a.jsxs("button",{onClick:()=>i(c.title),className:`w-full flex items-center justify-between px-3 py-2 text-xs font-semibold uppercase tracking-wider transition-all duration-200 ${f?"text-fuchsia-300":"text-gray-500 hover:text-gray-300"}`,children:[a.jsx("span",{children:c.title}),a.jsx(T1.div,{animate:{rotate:d?90:0},transition:{duration:.2},children:a.jsx(BW,{className:"w-3 h-3"})})]}),a.jsx(T1.div,{initial:!1,animate:{height:d?"auto":0,opacity:d?1:0},transition:{duration:.2},className:"overflow-hidden",children:a.jsx("ul",{className:"space-y-1",children:c.items.map(h=>{const g=r.pathname===h.path;return a.jsx("li",{className:"relative z-10",children:a.jsxs(W2,{to:h.path,className:({isActive:p})=>`flex items-center gap-3 pl-4 pr-4 py-2 my-1 font-medium text-sm transition-all duration-300 w-full relative ${p?"text-white font-bold bg-gradient-to-r from-fuchsia-600 to-pink-500 rounded-full shadow":"text-gray-400 hover:text-white"}`,onClick:t,style:{borderRadius:"9999px"},children:[h.icon,a.jsx("span",{children:h.name}),g&&a.jsx(T1.span,{layoutId:"sidebar-dot",className:"absolute right-3 top-1/2 -translate-y-1/2 w-2 h-2 bg-white rounded-full",transition:{type:"spring",stiffness:200,damping:30,duration:.8}})]})},h.name)})})})]},c.title)})})]}),a.jsx("div",{className:"mb-6 bg-[#181E36]",children:a.jsx("ul",{children:uJ.map(c=>a.jsx("li",{children:a.jsxs(W2,{to:c.path,className:"flex items-center gap-3 px-6 py-2 my-1 rounded-lg transition text-gray-400 hover:text-white text-base w-[90%] mx-auto",onClick:t,style:{borderRadius:"9999px"},children:[c.icon,a.jsx("span",{children:c.name})]})},c.name))})})]})}const z8=v.createContext(void 0);function fJ({children:e}){const[t,r]=v.useState(null),[n,s]=v.useState(!0);return v.useEffect(()=>{(async()=>{try{r({id:1,name:"Ayaan Khan",email:"ayaan.khan@neuracrm.com",role:"admin"})}catch{}finally{s(!1)}})()},[]),a.jsx(z8.Provider,{value:{user:t,loading:n,setUser:r},children:e})}function hJ(){const e=v.useContext(z8);if(e===void 0)throw new Error("useUser must be used within a UserProvider");return e}const H8=typeof window<"u"&&window.location.hostname==="neuracrm.up.railway.app",mJ=!H8&&typeof window<"u"?window.localStorage?.getItem("API_BASE_URL"):null,gJ=typeof window<"u"?window.location.origin:"http://127.0.0.1:8000",Rc=H8?"https://neuracrm.up.railway.app":mJ||void 0||gJ,V8=v.createContext(void 0),va=()=>{const e=v.useContext(V8);if(e===void 0)throw new Error("useAuth must be used within an AuthProvider");return e},pJ=({children:e})=>{const[t,r]=v.useState(null),[n,s]=v.useState(null),[i,l]=v.useState(!0),c=!!n;v.useEffect(()=>{const b=localStorage.getItem("access_token");if(b){try{const w=JSON.parse(atob(b.split(".")[1])),j=Date.now()/1e3;if(w.exp&&w.exp<j){localStorage.removeItem("access_token"),l(!1);return}}catch{localStorage.removeItem("access_token"),l(!1);return}s(b),d(b)}else l(!1)},[]);const d=async b=>{try{console.log("Fetching user info from:",`${Rc}/api/auth/me`);const w=await fetch(`${Rc}/api/auth/me`,{headers:{Authorization:`Bearer ${b}`}});if(console.log("Auth response status:",w.status),w.ok){const j=await w.json();console.log("User data received:",j),r(j)}else console.log("Auth failed, clearing token"),localStorage.removeItem("access_token"),s(null),r(null)}catch(w){console.error("Auth fetch error:",w),localStorage.removeItem("access_token"),s(null),r(null)}finally{l(!1)}},f=async(b,w)=>{try{const j=await fetch(`${Rc}/api/auth/login`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({email:b,password:w})});if(j.ok){const S=await j.json(),{access_token:k}=S;localStorage.setItem("access_token",k),s(k),await d(k)}else{const S=await j.json();throw new Error(S.detail||"Login failed")}}catch(j){throw j}},y={user:t,token:n,isAuthenticated:c,isLoading:i,login:f,logout:()=>{localStorage.removeItem("access_token"),s(null),r(null)},register:async(b,w,j)=>{try{const S=await fetch(`${Rc}/api/auth/register`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({name:b,email:w,password:j})});if(S.ok)await f(w,j);else{const k=await S.json();throw new Error(k.detail||"Registration failed")}}catch(S){throw S}},getAuthToken:()=>localStorage.getItem("access_token")};return a.jsx(V8.Provider,{value:y,children:e})},xJ=()=>localStorage.getItem("access_token"),yJ=async(e,t={})=>{const r=xJ(),n={"Content-Type":"application/json",...t.headers||{}};return r&&(n.Authorization=`Bearer ${r}`),await fetch(`${Rc}${e}`,{...t,headers:n})},Ee=async(e,t="GET",r)=>{let n;typeof t=="string"?(n={method:t},r&&t!=="GET"&&(n.body=JSON.stringify(r))):n=t;const s=await yJ(e,n);if(!s.ok){const i=await s.text();throw new Error(`API request failed: ${s.status} ${i}`)}return s.json()},vJ=({currentOrgId:e,onOrganizationChange:t})=>{const[r,n]=v.useState([]),[s,i]=v.useState(null),[l,c]=v.useState(!1),[d,f]=v.useState(!0);v.useEffect(()=>{h()},[]),v.useEffect(()=>{if(e&&r.length>0){const p=r.find(y=>y.id===e);i(p||r[0])}},[e,r]);const h=async()=>{try{const p=await Ee("/api/organizations");n(p),p.length>0&&!s&&(i(p[0]),t(p[0].id))}catch{}finally{f(!1)}},g=p=>{i(p),t(p.id),c(!1)};return d?a.jsxs("div",{className:"flex items-center space-x-2 text-gray-600",children:[a.jsx(od,{className:"w-4 h-4"}),a.jsx("span",{className:"text-sm",children:"Loading..."})]}):r.length===0?a.jsxs("div",{className:"flex items-center space-x-2 text-gray-600",children:[a.jsx(od,{className:"w-4 h-4"}),a.jsx("span",{className:"text-sm",children:"No organizations"})]}):a.jsxs("div",{className:"relative",children:[a.jsxs("button",{onClick:()=>c(!l),className:"flex items-center space-x-2 px-3 py-2 text-sm bg-white border border-gray-300 rounded-lg hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-blue-500",children:[a.jsx(od,{className:"w-4 h-4 text-gray-600"}),a.jsx("span",{className:"text-gray-900",children:s?.name||"Select Organization"}),a.jsx(rR,{className:"w-4 h-4 text-gray-400"})]}),l&&a.jsx("div",{className:"absolute top-full left-0 mt-1 w-64 bg-white border border-gray-300 rounded-lg shadow-lg z-50",children:a.jsx("div",{className:"py-1",children:r.map(p=>a.jsxs("button",{onClick:()=>g(p),className:`w-full px-4 py-2 text-left text-sm hover:bg-gray-100 flex items-center space-x-2 ${s?.id===p.id?"bg-blue-50 text-blue-600":"text-gray-900"}`,children:[a.jsx(od,{className:"w-4 h-4"}),a.jsxs("div",{children:[a.jsx("div",{className:"font-medium",children:p.name}),p.domain&&a.jsx("div",{className:"text-xs text-gray-500",children:p.domain})]})]},p.id))})})]})};function bJ({onMenuClick:e,onToggleDarkMode:t,darkMode:r,onToggleAI:n,aiSidebarOpen:s}){const{user:i}=hJ(),{logout:l,user:c}=va(),d=Wo(),[f,h]=v.useState(c?.organization_id),[g,p]=v.useState(!1),y=v.useRef(null);return v.useEffect(()=>{const b=w=>{y.current&&!y.current.contains(w.target)&&p(!1)};return document.addEventListener("mousedown",b),()=>{document.removeEventListener("mousedown",b)}},[]),a.jsxs("header",{className:"bg-gradient-to-r from-blue-800 to-indigo-900 px-10 py-6 flex flex-col md:flex-row md:items-center md:justify-between shadow",children:[a.jsxs("div",{className:"flex items-center gap-4",children:[a.jsx("button",{className:"md:hidden p-2 rounded-full bg-white/20 hover:bg-white/30 transition",onClick:e,"aria-label":"Open menu",children:a.jsx(iR,{className:"w-6 h-6 text-blue-200"})}),a.jsxs("div",{children:[a.jsxs("div",{className:"text-2xl font-extrabold text-white mb-1",children:["Welcome back, ",c?.name?.split(" ")[0]||i?.name?.split(" ")[0]||"User","!"]}),a.jsx("div",{className:"text-blue-200 text-sm",children:"Your AI assistant is ready to help"})]})]}),a.jsxs("div",{className:"flex items-center gap-4 mt-4 md:mt-0",children:[a.jsxs("div",{className:"relative",children:[a.jsx("input",{type:"text",placeholder:"Ask AI anything...",className:"rounded-full px-4 py-2 bg-white/20 text-white placeholder:text-blue-200 focus:outline-none focus:ring-2 focus:ring-pink-400 w-64"}),a.jsx(Fi,{className:"absolute right-3 top-2.5 w-5 h-5 text-blue-200"})]}),a.jsx("button",{className:`p-2 rounded-full transition-all duration-200 ${s?"bg-gradient-to-r from-pink-500 to-purple-500 text-white shadow-lg":"bg-white/20 hover:bg-white/30 text-blue-200"}`,onClick:n,"aria-label":"Toggle AI assistant",children:a.jsx(hl,{className:"w-6 h-6"})}),a.jsx("button",{className:"p-2 rounded-full bg-white/20 hover:bg-white/30 transition",onClick:t,"aria-label":"Toggle dark mode",children:r?a.jsx(oK,{className:"w-6 h-6 text-yellow-300"}):a.jsx(IG,{className:"w-6 h-6 text-blue-200"})}),c&&a.jsx(vJ,{currentOrgId:f,onOrganizationChange:h}),a.jsxs("button",{className:"relative p-2 rounded-full bg-white/20 hover:bg-white/30 transition",children:[a.jsx(NW,{className:"w-6 h-6 text-blue-200"}),a.jsx("span",{className:"absolute top-1 right-1 flex items-center justify-center w-4 h-4 bg-pink-500 text-xs text-white rounded-full",children:"2"})]}),a.jsxs("div",{className:"relative",ref:y,children:[a.jsx("button",{onClick:()=>p(!g),className:"w-10 h-10 rounded-full bg-gradient-to-r from-pink-500 to-purple-500 flex items-center justify-center text-white font-bold text-lg shadow-lg hover:shadow-xl transition-all duration-200",children:c?.name?.split(" ").map(b=>b[0]).join("").toUpperCase()||i?.name?.split(" ").map(b=>b[0]).join("").toUpperCase()||"U"}),g&&a.jsxs("div",{className:"absolute right-0 mt-2 w-48 bg-white rounded-lg shadow-xl border border-gray-200 py-2 z-50",children:[a.jsxs("div",{className:"px-4 py-2 border-b border-gray-100",children:[a.jsx("p",{className:"text-sm font-medium text-gray-900",children:c?.name||i?.name||"User"}),a.jsx("p",{className:"text-xs text-gray-500",children:c?.email||i?.email||"user@example.com"})]}),a.jsxs("button",{className:"w-full px-4 py-2 text-left text-sm text-gray-700 hover:bg-gray-100 flex items-center",children:[a.jsx(Yd,{className:"w-4 h-4 mr-2"}),"Profile Settings"]}),a.jsxs("button",{onClick:()=>{p(!1),d("/logout")},className:"w-full px-4 py-2 text-left text-sm text-red-600 hover:bg-red-50 flex items-center",children:[a.jsx(_G,{className:"w-4 h-4 mr-2"}),"Sign Out"]})]})]})]})]})}const wJ=async e=>{try{return await Ee("/api/ai/assistant",{method:"POST",body:JSON.stringify(e)})}catch(t){throw t.message.includes("timeout")?new Error("Request timed out. Please try again."):new Error("Failed to get AI response. Please try again.")}},jJ=({isOpen:e,onClose:t})=>{const[r,n]=v.useState([{id:"1",message:"",response:`Hello! I'm your AI Sales Assistant. I can help you with:

• Analyzing your deals and pipeline
• Finding your hottest leads
• Suggesting follow-up actions
• Answering questions about your CRM data

What would you like to know?`,timestamp:new Date,isUser:!1}]),[s,i]=v.useState(""),[l,c]=v.useState(!1),d=v.useRef(null),f=v.useRef(null),h=()=>{d.current?.scrollIntoView({behavior:"smooth"})};v.useEffect(()=>{h()},[r]),v.useEffect(()=>{e&&f.current&&f.current.focus()},[e]);const g=async()=>{if(!s.trim()||l)return;const b=s.trim();i(""),c(!0);const w={id:Date.now().toString(),message:b,response:"",timestamp:new Date,isUser:!0};n(j=>[...j,w]);try{const j=await wJ({message:b,user_id:1}),S={id:(Date.now()+1).toString(),message:"",response:j.response,timestamp:new Date,isUser:!1};n(k=>[...k,S])}catch{const S={id:(Date.now()+1).toString(),message:"",response:"Sorry, I'm having trouble connecting right now. Please try again in a moment.",timestamp:new Date,isUser:!1};n(k=>[...k,S])}finally{c(!1)}},p=b=>{b.key==="Enter"&&!b.shiftKey&&(b.preventDefault(),g())},y=b=>b.toLocaleTimeString([],{hour:"2-digit",minute:"2-digit"});return e?a.jsxs("div",{className:"fixed inset-y-0 right-0 w-96 bg-white shadow-2xl border-l border-gray-200 flex flex-col z-50",children:[a.jsxs("div",{className:"flex items-center justify-between p-4 border-b border-gray-200 bg-gradient-to-r from-blue-600 to-purple-600 text-white",children:[a.jsxs("div",{className:"flex items-center space-x-3",children:[a.jsx("div",{className:"p-2 bg-white/20 rounded-lg",children:a.jsx(hl,{className:"w-5 h-5"})}),a.jsxs("div",{children:[a.jsx("h3",{className:"font-semibold",children:"AI Sales Assistant"}),a.jsx("p",{className:"text-sm text-blue-100",children:"Powered by AI"})]})]}),a.jsx("button",{onClick:t,className:"p-2 hover:bg-white/20 rounded-lg transition-colors",children:a.jsx(jr,{className:"w-5 h-5"})})]}),a.jsxs("div",{className:"flex-1 overflow-y-auto p-4 space-y-4",children:[r.map(b=>a.jsx("div",{className:`flex ${b.isUser?"justify-end":"justify-start"}`,children:a.jsx("div",{className:`max-w-xs lg:max-w-md ${b.isUser?"order-2":"order-1"}`,children:a.jsxs("div",{className:`flex items-start space-x-2 ${b.isUser?"flex-row-reverse space-x-reverse":""}`,children:[a.jsx("div",{className:`flex-shrink-0 w-8 h-8 rounded-full flex items-center justify-center ${b.isUser?"bg-blue-500 text-white":"bg-gradient-to-r from-blue-500 to-purple-500 text-white"}`,children:b.isUser?a.jsx(Yd,{className:"w-4 h-4"}):a.jsx(hl,{className:"w-4 h-4"})}),a.jsxs("div",{className:`flex-1 ${b.isUser?"text-right":""}`,children:[a.jsx("div",{className:`inline-block px-4 py-2 rounded-lg ${b.isUser?"bg-blue-500 text-white":"bg-gray-100 text-gray-800"}`,children:a.jsx("div",{className:"whitespace-pre-wrap text-sm",children:b.isUser?b.message:b.response})}),a.jsx("div",{className:`text-xs text-gray-500 mt-1 ${b.isUser?"text-right":""}`,children:y(b.timestamp)})]})]})})},b.id)),l&&a.jsx("div",{className:"flex justify-start",children:a.jsx("div",{className:"max-w-xs lg:max-w-md",children:a.jsxs("div",{className:"flex items-start space-x-2",children:[a.jsx("div",{className:"flex-shrink-0 w-8 h-8 rounded-full bg-gradient-to-r from-blue-500 to-purple-500 flex items-center justify-center",children:a.jsx(hl,{className:"w-4 h-4 text-white"})}),a.jsx("div",{className:"flex-1",children:a.jsx("div",{className:"inline-block px-4 py-2 rounded-lg bg-gray-100",children:a.jsxs("div",{className:"flex space-x-1",children:[a.jsx("div",{className:"w-2 h-2 bg-gray-400 rounded-full animate-bounce"}),a.jsx("div",{className:"w-2 h-2 bg-gray-400 rounded-full animate-bounce",style:{animationDelay:"0.1s"}}),a.jsx("div",{className:"w-2 h-2 bg-gray-400 rounded-full animate-bounce",style:{animationDelay:"0.2s"}})]})})})]})})}),a.jsx("div",{ref:d})]}),a.jsxs("div",{className:"p-4 border-t border-gray-200 bg-gray-50",children:[a.jsxs("div",{className:"flex space-x-2",children:[a.jsxs("div",{className:"flex-1 relative",children:[a.jsx("input",{ref:f,type:"text",value:s,onChange:b=>i(b.target.value),onKeyPress:p,placeholder:"Ask me about your sales data...",className:"w-full px-4 py-2 pr-12 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent resize-none",disabled:l}),a.jsx("div",{className:"absolute right-3 top-2.5",children:a.jsx(So,{className:"w-4 h-4 text-gray-400"})})]}),a.jsx("button",{onClick:g,disabled:!s.trim()||l,className:"px-4 py-2 bg-gradient-to-r from-blue-600 to-purple-600 text-white rounded-lg hover:from-blue-700 hover:to-purple-700 disabled:opacity-50 disabled:cursor-not-allowed transition-all duration-200 flex items-center space-x-2",children:a.jsx(eu,{className:"w-4 h-4"})})]}),a.jsx("p",{className:"text-xs text-gray-500 mt-2 text-center",children:"Press Enter to send • Shift+Enter for new line"})]})]}):null};function Fr({children:e}){const[t,r]=v.useState(!1),[n,s]=v.useState(!1),[i,l]=v.useState(!1);v.useEffect(()=>{const p=document.documentElement;n?p.classList.add("dark"):p.classList.remove("dark")},[n]);const c=()=>r(!0),d=()=>r(!1),f=()=>s(p=>!p),h=()=>l(p=>!p),g=()=>l(!1);return a.jsxs("div",{className:"flex h-screen",children:[a.jsx(dJ,{open:t,onClose:d}),a.jsxs("div",{className:"flex-1 flex flex-col",children:[a.jsx(bJ,{onMenuClick:c,onToggleDarkMode:f,darkMode:n,onToggleAI:h,aiSidebarOpen:i}),a.jsx("main",{className:"flex-1 bg-gray-50 dark:bg-gray-900 p-6 overflow-auto",children:e})]}),a.jsx(jJ,{isOpen:i,onClose:g})]})}function q8(e){var t,r,n="";if(typeof e=="string"||typeof e=="number")n+=e;else if(typeof e=="object")if(Array.isArray(e)){var s=e.length;for(t=0;t<s;t++)e[t]&&(r=q8(e[t]))&&(n&&(n+=" "),n+=r)}else for(r in e)e[r]&&(n&&(n+=" "),n+=r);return n}function Ut(){for(var e,t,r=0,n="",s=arguments.length;r<s;r++)(e=arguments[r])&&(t=q8(e))&&(n&&(n+=" "),n+=t);return n}var A1={},C1={},T3;function NJ(){return T3||(T3=1,function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){return r==="__proto__"}e.isUnsafeProperty=t}(C1)),C1}var O1={},A3;function W8(){return A3||(A3=1,function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){switch(typeof r){case"number":case"symbol":return!1;case"string":return r.includes(".")||r.includes("[")||r.includes("]")}}e.isDeepKey=t}(O1)),O1}var D1={},C3;function G8(){return C3||(C3=1,function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){return typeof r=="string"||typeof r=="symbol"?r:Object.is(r?.valueOf?.(),-0)?"-0":String(r)}e.toKey=t}(D1)),D1}var P1={},O3;function _S(){return O3||(O3=1,function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){const n=[],s=r.length;if(s===0)return n;let i=0,l="",c="",d=!1;for(r.charCodeAt(0)===46&&(n.push(""),i++);i<s;){const f=r[i];c?f==="\\"&&i+1<s?(i++,l+=r[i]):f===c?c="":l+=f:d?f==='"'||f==="'"?c=f:f==="]"?(d=!1,n.push(l),l=""):l+=f:f==="["?(d=!0,l&&(n.push(l),l="")):f==="."?l&&(n.push(l),l=""):l+=f,i++}return l&&n.push(l),n}e.toPath=t}(P1)),P1}var D3;function kS(){return D3||(D3=1,function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=NJ(),r=W8(),n=G8(),s=_S();function i(c,d,f){if(c==null)return f;switch(typeof d){case"string":{if(t.isUnsafeProperty(d))return f;const h=c[d];return h===void 0?r.isDeepKey(d)?i(c,s.toPath(d),f):f:h}case"number":case"symbol":{typeof d=="number"&&(d=n.toKey(d));const h=c[d];return h===void 0?f:h}default:{if(Array.isArray(d))return l(c,d,f);if(Object.is(d?.valueOf(),-0)?d="-0":d=String(d),t.isUnsafeProperty(d))return f;const h=c[d];return h===void 0?f:h}}}function l(c,d,f){if(d.length===0)return f;let h=c;for(let g=0;g<d.length;g++){if(h==null||t.isUnsafeProperty(d[g]))return f;h=h[d[g]]}return h===void 0?f:h}e.get=i}(A1)),A1}var M1,P3;function SJ(){return P3||(P3=1,M1=kS().get),M1}var _J=SJ();const Ro=xs(_J);var R1={exports:{}},ur={};/**
 * @license React
 * react-is.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var M3;function kJ(){if(M3)return ur;M3=1;var e=Symbol.for("react.transitional.element"),t=Symbol.for("react.portal"),r=Symbol.for("react.fragment"),n=Symbol.for("react.strict_mode"),s=Symbol.for("react.profiler"),i=Symbol.for("react.consumer"),l=Symbol.for("react.context"),c=Symbol.for("react.forward_ref"),d=Symbol.for("react.suspense"),f=Symbol.for("react.suspense_list"),h=Symbol.for("react.memo"),g=Symbol.for("react.lazy"),p=Symbol.for("react.view_transition"),y=Symbol.for("react.client.reference");function b(w){if(typeof w=="object"&&w!==null){var j=w.$$typeof;switch(j){case e:switch(w=w.type,w){case r:case s:case n:case d:case f:case p:return w;default:switch(w=w&&w.$$typeof,w){case l:case c:case g:case h:return w;case i:return w;default:return j}}case t:return j}}}return ur.ContextConsumer=i,ur.ContextProvider=l,ur.Element=e,ur.ForwardRef=c,ur.Fragment=r,ur.Lazy=g,ur.Memo=h,ur.Portal=t,ur.Profiler=s,ur.StrictMode=n,ur.Suspense=d,ur.SuspenseList=f,ur.isContextConsumer=function(w){return b(w)===i},ur.isContextProvider=function(w){return b(w)===l},ur.isElement=function(w){return typeof w=="object"&&w!==null&&w.$$typeof===e},ur.isForwardRef=function(w){return b(w)===c},ur.isFragment=function(w){return b(w)===r},ur.isLazy=function(w){return b(w)===g},ur.isMemo=function(w){return b(w)===h},ur.isPortal=function(w){return b(w)===t},ur.isProfiler=function(w){return b(w)===s},ur.isStrictMode=function(w){return b(w)===n},ur.isSuspense=function(w){return b(w)===d},ur.isSuspenseList=function(w){return b(w)===f},ur.isValidElementType=function(w){return typeof w=="string"||typeof w=="function"||w===r||w===s||w===n||w===d||w===f||typeof w=="object"&&w!==null&&(w.$$typeof===g||w.$$typeof===h||w.$$typeof===l||w.$$typeof===i||w.$$typeof===c||w.$$typeof===y||w.getModuleId!==void 0)},ur.typeOf=b,ur}var R3;function EJ(){return R3||(R3=1,R1.exports=kJ()),R1.exports}var TJ=EJ(),Sn=e=>e===0?0:e>0?1:-1,fs=e=>typeof e=="number"&&e!=+e,Ic=e=>typeof e=="string"&&e.indexOf("%")===e.length-1,Ze=e=>(typeof e=="number"||e instanceof Number)&&!fs(e),Li=e=>Ze(e)||typeof e=="string",AJ=0,tu=e=>{var t=++AJ;return"".concat(e||"").concat(t)},xa=function(t,r){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:0,s=arguments.length>3&&arguments[3]!==void 0?arguments[3]:!1;if(!Ze(t)&&typeof t!="string")return n;var i;if(Ic(t)){if(r==null)return n;var l=t.indexOf("%");i=r*parseFloat(t.slice(0,l))/100}else i=+t;return fs(i)&&(i=n),s&&r!=null&&i>r&&(i=r),i},K8=e=>{if(!Array.isArray(e))return!1;for(var t=e.length,r={},n=0;n<t;n++)if(!r[e[n]])r[e[n]]=!0;else return!0;return!1},rs=(e,t)=>Ze(e)&&Ze(t)?r=>e+r*(t-e):()=>t;function Y8(e,t,r){if(!(!e||!e.length))return e.find(n=>n&&(typeof t=="function"?t(n):Ro(n,t))===r)}var xr=e=>e===null||typeof e>"u",am=e=>xr(e)?e:"".concat(e.charAt(0).toUpperCase()).concat(e.slice(1)),CJ=["viewBox","children"],OJ=["aria-activedescendant","aria-atomic","aria-autocomplete","aria-busy","aria-checked","aria-colcount","aria-colindex","aria-colspan","aria-controls","aria-current","aria-describedby","aria-details","aria-disabled","aria-errormessage","aria-expanded","aria-flowto","aria-haspopup","aria-hidden","aria-invalid","aria-keyshortcuts","aria-label","aria-labelledby","aria-level","aria-live","aria-modal","aria-multiline","aria-multiselectable","aria-orientation","aria-owns","aria-placeholder","aria-posinset","aria-pressed","aria-readonly","aria-relevant","aria-required","aria-roledescription","aria-rowcount","aria-rowindex","aria-rowspan","aria-selected","aria-setsize","aria-sort","aria-valuemax","aria-valuemin","aria-valuenow","aria-valuetext","className","color","height","id","lang","max","media","method","min","name","style","target","width","role","tabIndex","accentHeight","accumulate","additive","alignmentBaseline","allowReorder","alphabetic","amplitude","arabicForm","ascent","attributeName","attributeType","autoReverse","azimuth","baseFrequency","baselineShift","baseProfile","bbox","begin","bias","by","calcMode","capHeight","clip","clipPath","clipPathUnits","clipRule","colorInterpolation","colorInterpolationFilters","colorProfile","colorRendering","contentScriptType","contentStyleType","cursor","cx","cy","d","decelerate","descent","diffuseConstant","direction","display","divisor","dominantBaseline","dur","dx","dy","edgeMode","elevation","enableBackground","end","exponent","externalResourcesRequired","fill","fillOpacity","fillRule","filter","filterRes","filterUnits","floodColor","floodOpacity","focusable","fontFamily","fontSize","fontSizeAdjust","fontStretch","fontStyle","fontVariant","fontWeight","format","from","fx","fy","g1","g2","glyphName","glyphOrientationHorizontal","glyphOrientationVertical","glyphRef","gradientTransform","gradientUnits","hanging","horizAdvX","horizOriginX","href","ideographic","imageRendering","in2","in","intercept","k1","k2","k3","k4","k","kernelMatrix","kernelUnitLength","kerning","keyPoints","keySplines","keyTimes","lengthAdjust","letterSpacing","lightingColor","limitingConeAngle","local","markerEnd","markerHeight","markerMid","markerStart","markerUnits","markerWidth","mask","maskContentUnits","maskUnits","mathematical","mode","numOctaves","offset","opacity","operator","order","orient","orientation","origin","overflow","overlinePosition","overlineThickness","paintOrder","panose1","pathLength","patternContentUnits","patternTransform","patternUnits","pointerEvents","pointsAtX","pointsAtY","pointsAtZ","preserveAlpha","preserveAspectRatio","primitiveUnits","r","radius","refX","refY","renderingIntent","repeatCount","repeatDur","requiredExtensions","requiredFeatures","restart","result","rotate","rx","ry","seed","shapeRendering","slope","spacing","specularConstant","specularExponent","speed","spreadMethod","startOffset","stdDeviation","stemh","stemv","stitchTiles","stopColor","stopOpacity","strikethroughPosition","strikethroughThickness","string","stroke","strokeDasharray","strokeDashoffset","strokeLinecap","strokeLinejoin","strokeMiterlimit","strokeOpacity","strokeWidth","surfaceScale","systemLanguage","tableValues","targetX","targetY","textAnchor","textDecoration","textLength","textRendering","to","transform","u1","u2","underlinePosition","underlineThickness","unicode","unicodeBidi","unicodeRange","unitsPerEm","vAlphabetic","values","vectorEffect","version","vertAdvY","vertOriginX","vertOriginY","vHanging","vIdeographic","viewTarget","visibility","vMathematical","widths","wordSpacing","writingMode","x1","x2","x","xChannelSelector","xHeight","xlinkActuate","xlinkArcrole","xlinkHref","xlinkRole","xlinkShow","xlinkTitle","xlinkType","xmlBase","xmlLang","xmlns","xmlnsXlink","xmlSpace","y1","y2","y","yChannelSelector","z","zoomAndPan","ref","key","angle"],I3=["points","pathLength"],I1={svg:CJ,polygon:I3,polyline:I3},ES=["dangerouslySetInnerHTML","onCopy","onCopyCapture","onCut","onCutCapture","onPaste","onPasteCapture","onCompositionEnd","onCompositionEndCapture","onCompositionStart","onCompositionStartCapture","onCompositionUpdate","onCompositionUpdateCapture","onFocus","onFocusCapture","onBlur","onBlurCapture","onChange","onChangeCapture","onBeforeInput","onBeforeInputCapture","onInput","onInputCapture","onReset","onResetCapture","onSubmit","onSubmitCapture","onInvalid","onInvalidCapture","onLoad","onLoadCapture","onError","onErrorCapture","onKeyDown","onKeyDownCapture","onKeyPress","onKeyPressCapture","onKeyUp","onKeyUpCapture","onAbort","onAbortCapture","onCanPlay","onCanPlayCapture","onCanPlayThrough","onCanPlayThroughCapture","onDurationChange","onDurationChangeCapture","onEmptied","onEmptiedCapture","onEncrypted","onEncryptedCapture","onEnded","onEndedCapture","onLoadedData","onLoadedDataCapture","onLoadedMetadata","onLoadedMetadataCapture","onLoadStart","onLoadStartCapture","onPause","onPauseCapture","onPlay","onPlayCapture","onPlaying","onPlayingCapture","onProgress","onProgressCapture","onRateChange","onRateChangeCapture","onSeeked","onSeekedCapture","onSeeking","onSeekingCapture","onStalled","onStalledCapture","onSuspend","onSuspendCapture","onTimeUpdate","onTimeUpdateCapture","onVolumeChange","onVolumeChangeCapture","onWaiting","onWaitingCapture","onAuxClick","onAuxClickCapture","onClick","onClickCapture","onContextMenu","onContextMenuCapture","onDoubleClick","onDoubleClickCapture","onDrag","onDragCapture","onDragEnd","onDragEndCapture","onDragEnter","onDragEnterCapture","onDragExit","onDragExitCapture","onDragLeave","onDragLeaveCapture","onDragOver","onDragOverCapture","onDragStart","onDragStartCapture","onDrop","onDropCapture","onMouseDown","onMouseDownCapture","onMouseEnter","onMouseLeave","onMouseMove","onMouseMoveCapture","onMouseOut","onMouseOutCapture","onMouseOver","onMouseOverCapture","onMouseUp","onMouseUpCapture","onSelect","onSelectCapture","onTouchCancel","onTouchCancelCapture","onTouchEnd","onTouchEndCapture","onTouchMove","onTouchMoveCapture","onTouchStart","onTouchStartCapture","onPointerDown","onPointerDownCapture","onPointerMove","onPointerMoveCapture","onPointerUp","onPointerUpCapture","onPointerCancel","onPointerCancelCapture","onPointerEnter","onPointerEnterCapture","onPointerLeave","onPointerLeaveCapture","onPointerOver","onPointerOverCapture","onPointerOut","onPointerOutCapture","onGotPointerCapture","onGotPointerCaptureCapture","onLostPointerCapture","onLostPointerCaptureCapture","onScroll","onScrollCapture","onWheel","onWheelCapture","onAnimationStart","onAnimationStartCapture","onAnimationEnd","onAnimationEndCapture","onAnimationIteration","onAnimationIterationCapture","onTransitionEnd","onTransitionEndCapture"],TS=(e,t)=>{if(!e||typeof e=="function"||typeof e=="boolean")return null;var r=e;if(v.isValidElement(e)&&(r=e.props),typeof r!="object"&&typeof r!="function")return null;var n={};return Object.keys(r).forEach(s=>{ES.includes(s)&&(n[s]=i=>r[s](r,i))}),n},DJ=(e,t,r)=>n=>(e(t,r,n),null),sm=(e,t,r)=>{if(e===null||typeof e!="object"&&typeof e!="function")return null;var n=null;return Object.keys(e).forEach(s=>{var i=e[s];ES.includes(s)&&typeof i=="function"&&(n||(n={}),n[s]=DJ(i,t,r))}),n},F3=e=>typeof e=="string"?e:e?e.displayName||e.name||"Component":"",L3=null,F1=null,X8=e=>{if(e===L3&&Array.isArray(F1))return F1;var t=[];return v.Children.forEach(e,r=>{xr(r)||(TJ.isFragment(r)?t=t.concat(X8(r.props.children)):t.push(r))}),F1=t,L3=e,t};function im(e,t){var r=[],n=[];return Array.isArray(t)?n=t.map(s=>F3(s)):n=[F3(t)],X8(e).forEach(s=>{var i=Ro(s,"type.displayName")||Ro(s,"type.name");n.indexOf(i)!==-1&&r.push(s)}),r}var Q8=e=>e&&typeof e=="object"&&"clipDot"in e?!!e.clipDot:!0,PJ=(e,t,r,n)=>{var s,i=(s=n&&I1?.[n])!==null&&s!==void 0?s:[];return t.startsWith("data-")||typeof e!="function"&&(n&&i.includes(t)||OJ.includes(t))||r&&ES.includes(t)},Dt=(e,t,r)=>{if(!e||typeof e=="function"||typeof e=="boolean")return null;var n=e;if(v.isValidElement(e)&&(n=e.props),typeof n!="object"&&typeof n!="function")return null;var s={};return Object.keys(n).forEach(i=>{var l;PJ((l=n)===null||l===void 0?void 0:l[i],i,t,r)&&(s[i]=n[i])}),s},MJ=["children","width","height","viewBox","className","style","title","desc"];function yj(){return yj=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},yj.apply(null,arguments)}function RJ(e,t){if(e==null)return{};var r,n,s=IJ(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(n=0;n<i.length;n++)r=i[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(s[r]=e[r])}return s}function IJ(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}var AS=v.forwardRef((e,t)=>{var{children:r,width:n,height:s,viewBox:i,className:l,style:c,title:d,desc:f}=e,h=RJ(e,MJ),g=i||{width:n,height:s,x:0,y:0},p=Ut("recharts-surface",l);return v.createElement("svg",yj({},Dt(h,!0,"svg"),{className:p,width:n,height:s,style:c,viewBox:"".concat(g.x," ").concat(g.y," ").concat(g.width," ").concat(g.height),ref:t}),v.createElement("title",null,d),v.createElement("desc",null,f),r)}),FJ=["children","className"];function vj(){return vj=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},vj.apply(null,arguments)}function LJ(e,t){if(e==null)return{};var r,n,s=BJ(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(n=0;n<i.length;n++)r=i[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(s[r]=e[r])}return s}function BJ(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}var Tn=v.forwardRef((e,t)=>{var{children:r,className:n}=e,s=LJ(e,FJ),i=Ut("recharts-layer",n);return v.createElement("g",vj({className:i},Dt(s,!0),{ref:t}),r)}),Z8=v.createContext(null),$J=()=>v.useContext(Z8);function wr(e){return function(){return e}}const J8=Math.cos,Fp=Math.sin,xi=Math.sqrt,Lp=Math.PI,Jx=2*Lp,bj=Math.PI,wj=2*bj,_c=1e-6,UJ=wj-_c;function eI(e){this._+=e[0];for(let t=1,r=e.length;t<r;++t)this._+=arguments[t]+e[t]}function zJ(e){let t=Math.floor(e);if(!(t>=0))throw new Error(`invalid digits: ${e}`);if(t>15)return eI;const r=10**t;return function(n){this._+=n[0];for(let s=1,i=n.length;s<i;++s)this._+=Math.round(arguments[s]*r)/r+n[s]}}class HJ{constructor(t){this._x0=this._y0=this._x1=this._y1=null,this._="",this._append=t==null?eI:zJ(t)}moveTo(t,r){this._append`M${this._x0=this._x1=+t},${this._y0=this._y1=+r}`}closePath(){this._x1!==null&&(this._x1=this._x0,this._y1=this._y0,this._append`Z`)}lineTo(t,r){this._append`L${this._x1=+t},${this._y1=+r}`}quadraticCurveTo(t,r,n,s){this._append`Q${+t},${+r},${this._x1=+n},${this._y1=+s}`}bezierCurveTo(t,r,n,s,i,l){this._append`C${+t},${+r},${+n},${+s},${this._x1=+i},${this._y1=+l}`}arcTo(t,r,n,s,i){if(t=+t,r=+r,n=+n,s=+s,i=+i,i<0)throw new Error(`negative radius: ${i}`);let l=this._x1,c=this._y1,d=n-t,f=s-r,h=l-t,g=c-r,p=h*h+g*g;if(this._x1===null)this._append`M${this._x1=t},${this._y1=r}`;else if(p>_c)if(!(Math.abs(g*d-f*h)>_c)||!i)this._append`L${this._x1=t},${this._y1=r}`;else{let y=n-l,b=s-c,w=d*d+f*f,j=y*y+b*b,S=Math.sqrt(w),k=Math.sqrt(p),E=i*Math.tan((bj-Math.acos((w+p-j)/(2*S*k)))/2),C=E/k,T=E/S;Math.abs(C-1)>_c&&this._append`L${t+C*h},${r+C*g}`,this._append`A${i},${i},0,0,${+(g*y>h*b)},${this._x1=t+T*d},${this._y1=r+T*f}`}}arc(t,r,n,s,i,l){if(t=+t,r=+r,n=+n,l=!!l,n<0)throw new Error(`negative radius: ${n}`);let c=n*Math.cos(s),d=n*Math.sin(s),f=t+c,h=r+d,g=1^l,p=l?s-i:i-s;this._x1===null?this._append`M${f},${h}`:(Math.abs(this._x1-f)>_c||Math.abs(this._y1-h)>_c)&&this._append`L${f},${h}`,n&&(p<0&&(p=p%wj+wj),p>UJ?this._append`A${n},${n},0,1,${g},${t-c},${r-d}A${n},${n},0,1,${g},${this._x1=f},${this._y1=h}`:p>_c&&this._append`A${n},${n},0,${+(p>=bj)},${g},${this._x1=t+n*Math.cos(i)},${this._y1=r+n*Math.sin(i)}`)}rect(t,r,n,s){this._append`M${this._x0=this._x1=+t},${this._y0=this._y1=+r}h${n=+n}v${+s}h${-n}Z`}toString(){return this._}}function CS(e){let t=3;return e.digits=function(r){if(!arguments.length)return t;if(r==null)t=null;else{const n=Math.floor(r);if(!(n>=0))throw new RangeError(`invalid digits: ${r}`);t=n}return e},()=>new HJ(t)}function OS(e){return typeof e=="object"&&"length"in e?e:Array.from(e)}function tI(e){this._context=e}tI.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;default:this._context.lineTo(e,t);break}}};function ey(e){return new tI(e)}function rI(e){return e[0]}function nI(e){return e[1]}function aI(e,t){var r=wr(!0),n=null,s=ey,i=null,l=CS(c);e=typeof e=="function"?e:e===void 0?rI:wr(e),t=typeof t=="function"?t:t===void 0?nI:wr(t);function c(d){var f,h=(d=OS(d)).length,g,p=!1,y;for(n==null&&(i=s(y=l())),f=0;f<=h;++f)!(f<h&&r(g=d[f],f,d))===p&&((p=!p)?i.lineStart():i.lineEnd()),p&&i.point(+e(g,f,d),+t(g,f,d));if(y)return i=null,y+""||null}return c.x=function(d){return arguments.length?(e=typeof d=="function"?d:wr(+d),c):e},c.y=function(d){return arguments.length?(t=typeof d=="function"?d:wr(+d),c):t},c.defined=function(d){return arguments.length?(r=typeof d=="function"?d:wr(!!d),c):r},c.curve=function(d){return arguments.length?(s=d,n!=null&&(i=s(n)),c):s},c.context=function(d){return arguments.length?(d==null?n=i=null:i=s(n=d),c):n},c}function Ug(e,t,r){var n=null,s=wr(!0),i=null,l=ey,c=null,d=CS(f);e=typeof e=="function"?e:e===void 0?rI:wr(+e),t=typeof t=="function"?t:wr(t===void 0?0:+t),r=typeof r=="function"?r:r===void 0?nI:wr(+r);function f(g){var p,y,b,w=(g=OS(g)).length,j,S=!1,k,E=new Array(w),C=new Array(w);for(i==null&&(c=l(k=d())),p=0;p<=w;++p){if(!(p<w&&s(j=g[p],p,g))===S)if(S=!S)y=p,c.areaStart(),c.lineStart();else{for(c.lineEnd(),c.lineStart(),b=p-1;b>=y;--b)c.point(E[b],C[b]);c.lineEnd(),c.areaEnd()}S&&(E[p]=+e(j,p,g),C[p]=+t(j,p,g),c.point(n?+n(j,p,g):E[p],r?+r(j,p,g):C[p]))}if(k)return c=null,k+""||null}function h(){return aI().defined(s).curve(l).context(i)}return f.x=function(g){return arguments.length?(e=typeof g=="function"?g:wr(+g),n=null,f):e},f.x0=function(g){return arguments.length?(e=typeof g=="function"?g:wr(+g),f):e},f.x1=function(g){return arguments.length?(n=g==null?null:typeof g=="function"?g:wr(+g),f):n},f.y=function(g){return arguments.length?(t=typeof g=="function"?g:wr(+g),r=null,f):t},f.y0=function(g){return arguments.length?(t=typeof g=="function"?g:wr(+g),f):t},f.y1=function(g){return arguments.length?(r=g==null?null:typeof g=="function"?g:wr(+g),f):r},f.lineX0=f.lineY0=function(){return h().x(e).y(t)},f.lineY1=function(){return h().x(e).y(r)},f.lineX1=function(){return h().x(n).y(t)},f.defined=function(g){return arguments.length?(s=typeof g=="function"?g:wr(!!g),f):s},f.curve=function(g){return arguments.length?(l=g,i!=null&&(c=l(i)),f):l},f.context=function(g){return arguments.length?(g==null?i=c=null:c=l(i=g),f):i},f}class sI{constructor(t,r){this._context=t,this._x=r}areaStart(){this._line=0}areaEnd(){this._line=NaN}lineStart(){this._point=0}lineEnd(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line}point(t,r){switch(t=+t,r=+r,this._point){case 0:{this._point=1,this._line?this._context.lineTo(t,r):this._context.moveTo(t,r);break}case 1:this._point=2;default:{this._x?this._context.bezierCurveTo(this._x0=(this._x0+t)/2,this._y0,this._x0,r,t,r):this._context.bezierCurveTo(this._x0,this._y0=(this._y0+r)/2,t,this._y0,t,r);break}}this._x0=t,this._y0=r}}function VJ(e){return new sI(e,!0)}function qJ(e){return new sI(e,!1)}const DS={draw(e,t){const r=xi(t/Lp);e.moveTo(r,0),e.arc(0,0,r,0,Jx)}},WJ={draw(e,t){const r=xi(t/5)/2;e.moveTo(-3*r,-r),e.lineTo(-r,-r),e.lineTo(-r,-3*r),e.lineTo(r,-3*r),e.lineTo(r,-r),e.lineTo(3*r,-r),e.lineTo(3*r,r),e.lineTo(r,r),e.lineTo(r,3*r),e.lineTo(-r,3*r),e.lineTo(-r,r),e.lineTo(-3*r,r),e.closePath()}},iI=xi(1/3),GJ=iI*2,KJ={draw(e,t){const r=xi(t/GJ),n=r*iI;e.moveTo(0,-r),e.lineTo(n,0),e.lineTo(0,r),e.lineTo(-n,0),e.closePath()}},YJ={draw(e,t){const r=xi(t),n=-r/2;e.rect(n,n,r,r)}},XJ=.8908130915292852,lI=Fp(Lp/10)/Fp(7*Lp/10),QJ=Fp(Jx/10)*lI,ZJ=-J8(Jx/10)*lI,JJ={draw(e,t){const r=xi(t*XJ),n=QJ*r,s=ZJ*r;e.moveTo(0,-r),e.lineTo(n,s);for(let i=1;i<5;++i){const l=Jx*i/5,c=J8(l),d=Fp(l);e.lineTo(d*r,-c*r),e.lineTo(c*n-d*s,d*n+c*s)}e.closePath()}},L1=xi(3),eee={draw(e,t){const r=-xi(t/(L1*3));e.moveTo(0,r*2),e.lineTo(-L1*r,-r),e.lineTo(L1*r,-r),e.closePath()}},Es=-.5,Ts=xi(3)/2,jj=1/xi(12),tee=(jj/2+1)*3,ree={draw(e,t){const r=xi(t/tee),n=r/2,s=r*jj,i=n,l=r*jj+r,c=-i,d=l;e.moveTo(n,s),e.lineTo(i,l),e.lineTo(c,d),e.lineTo(Es*n-Ts*s,Ts*n+Es*s),e.lineTo(Es*i-Ts*l,Ts*i+Es*l),e.lineTo(Es*c-Ts*d,Ts*c+Es*d),e.lineTo(Es*n+Ts*s,Es*s-Ts*n),e.lineTo(Es*i+Ts*l,Es*l-Ts*i),e.lineTo(Es*c+Ts*d,Es*d-Ts*c),e.closePath()}};function nee(e,t){let r=null,n=CS(s);e=typeof e=="function"?e:wr(e||DS),t=typeof t=="function"?t:wr(t===void 0?64:+t);function s(){let i;if(r||(r=i=n()),e.apply(this,arguments).draw(r,+t.apply(this,arguments)),i)return r=null,i+""||null}return s.type=function(i){return arguments.length?(e=typeof i=="function"?i:wr(i),s):e},s.size=function(i){return arguments.length?(t=typeof i=="function"?i:wr(+i),s):t},s.context=function(i){return arguments.length?(r=i??null,s):r},s}function Bp(){}function $p(e,t,r){e._context.bezierCurveTo((2*e._x0+e._x1)/3,(2*e._y0+e._y1)/3,(e._x0+2*e._x1)/3,(e._y0+2*e._y1)/3,(e._x0+4*e._x1+t)/6,(e._y0+4*e._y1+r)/6)}function oI(e){this._context=e}oI.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){switch(this._point){case 3:$p(this,this._x1,this._y1);case 2:this._context.lineTo(this._x1,this._y1);break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;break;case 2:this._point=3,this._context.lineTo((5*this._x0+this._x1)/6,(5*this._y0+this._y1)/6);default:$p(this,e,t);break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t}};function aee(e){return new oI(e)}function cI(e){this._context=e}cI.prototype={areaStart:Bp,areaEnd:Bp,lineStart:function(){this._x0=this._x1=this._x2=this._x3=this._x4=this._y0=this._y1=this._y2=this._y3=this._y4=NaN,this._point=0},lineEnd:function(){switch(this._point){case 1:{this._context.moveTo(this._x2,this._y2),this._context.closePath();break}case 2:{this._context.moveTo((this._x2+2*this._x3)/3,(this._y2+2*this._y3)/3),this._context.lineTo((this._x3+2*this._x2)/3,(this._y3+2*this._y2)/3),this._context.closePath();break}case 3:{this.point(this._x2,this._y2),this.point(this._x3,this._y3),this.point(this._x4,this._y4);break}}},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._x2=e,this._y2=t;break;case 1:this._point=2,this._x3=e,this._y3=t;break;case 2:this._point=3,this._x4=e,this._y4=t,this._context.moveTo((this._x0+4*this._x1+e)/6,(this._y0+4*this._y1+t)/6);break;default:$p(this,e,t);break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t}};function see(e){return new cI(e)}function uI(e){this._context=e}uI.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===3)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1;break;case 1:this._point=2;break;case 2:this._point=3;var r=(this._x0+4*this._x1+e)/6,n=(this._y0+4*this._y1+t)/6;this._line?this._context.lineTo(r,n):this._context.moveTo(r,n);break;case 3:this._point=4;default:$p(this,e,t);break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t}};function iee(e){return new uI(e)}function dI(e){this._context=e}dI.prototype={areaStart:Bp,areaEnd:Bp,lineStart:function(){this._point=0},lineEnd:function(){this._point&&this._context.closePath()},point:function(e,t){e=+e,t=+t,this._point?this._context.lineTo(e,t):(this._point=1,this._context.moveTo(e,t))}};function lee(e){return new dI(e)}function B3(e){return e<0?-1:1}function $3(e,t,r){var n=e._x1-e._x0,s=t-e._x1,i=(e._y1-e._y0)/(n||s<0&&-0),l=(r-e._y1)/(s||n<0&&-0),c=(i*s+l*n)/(n+s);return(B3(i)+B3(l))*Math.min(Math.abs(i),Math.abs(l),.5*Math.abs(c))||0}function U3(e,t){var r=e._x1-e._x0;return r?(3*(e._y1-e._y0)/r-t)/2:t}function B1(e,t,r){var n=e._x0,s=e._y0,i=e._x1,l=e._y1,c=(i-n)/3;e._context.bezierCurveTo(n+c,s+c*t,i-c,l-c*r,i,l)}function Up(e){this._context=e}Up.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=this._t0=NaN,this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x1,this._y1);break;case 3:B1(this,this._t0,U3(this,this._t0));break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){var r=NaN;if(e=+e,t=+t,!(e===this._x1&&t===this._y1)){switch(this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;break;case 2:this._point=3,B1(this,U3(this,r=$3(this,e,t)),r);break;default:B1(this,this._t0,r=$3(this,e,t));break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t,this._t0=r}}};function fI(e){this._context=new hI(e)}(fI.prototype=Object.create(Up.prototype)).point=function(e,t){Up.prototype.point.call(this,t,e)};function hI(e){this._context=e}hI.prototype={moveTo:function(e,t){this._context.moveTo(t,e)},closePath:function(){this._context.closePath()},lineTo:function(e,t){this._context.lineTo(t,e)},bezierCurveTo:function(e,t,r,n,s,i){this._context.bezierCurveTo(t,e,n,r,i,s)}};function oee(e){return new Up(e)}function cee(e){return new fI(e)}function mI(e){this._context=e}mI.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=[],this._y=[]},lineEnd:function(){var e=this._x,t=this._y,r=e.length;if(r)if(this._line?this._context.lineTo(e[0],t[0]):this._context.moveTo(e[0],t[0]),r===2)this._context.lineTo(e[1],t[1]);else for(var n=z3(e),s=z3(t),i=0,l=1;l<r;++i,++l)this._context.bezierCurveTo(n[0][i],s[0][i],n[1][i],s[1][i],e[l],t[l]);(this._line||this._line!==0&&r===1)&&this._context.closePath(),this._line=1-this._line,this._x=this._y=null},point:function(e,t){this._x.push(+e),this._y.push(+t)}};function z3(e){var t,r=e.length-1,n,s=new Array(r),i=new Array(r),l=new Array(r);for(s[0]=0,i[0]=2,l[0]=e[0]+2*e[1],t=1;t<r-1;++t)s[t]=1,i[t]=4,l[t]=4*e[t]+2*e[t+1];for(s[r-1]=2,i[r-1]=7,l[r-1]=8*e[r-1]+e[r],t=1;t<r;++t)n=s[t]/i[t-1],i[t]-=n,l[t]-=n*l[t-1];for(s[r-1]=l[r-1]/i[r-1],t=r-2;t>=0;--t)s[t]=(l[t]-s[t+1])/i[t];for(i[r-1]=(e[r]+s[r-1])/2,t=0;t<r-1;++t)i[t]=2*e[t+1]-s[t+1];return[s,i]}function uee(e){return new mI(e)}function ty(e,t){this._context=e,this._t=t}ty.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=this._y=NaN,this._point=0},lineEnd:function(){0<this._t&&this._t<1&&this._point===2&&this._context.lineTo(this._x,this._y),(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line>=0&&(this._t=1-this._t,this._line=1-this._line)},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;default:{if(this._t<=0)this._context.lineTo(this._x,t),this._context.lineTo(e,t);else{var r=this._x*(1-this._t)+e*this._t;this._context.lineTo(r,this._y),this._context.lineTo(r,t)}break}}this._x=e,this._y=t}};function dee(e){return new ty(e,.5)}function fee(e){return new ty(e,0)}function hee(e){return new ty(e,1)}function Ad(e,t){if((l=e.length)>1)for(var r=1,n,s,i=e[t[0]],l,c=i.length;r<l;++r)for(s=i,i=e[t[r]],n=0;n<c;++n)i[n][1]+=i[n][0]=isNaN(s[n][1])?s[n][0]:s[n][1]}function Nj(e){for(var t=e.length,r=new Array(t);--t>=0;)r[t]=t;return r}function mee(e,t){return e[t]}function gee(e){const t=[];return t.key=e,t}function pee(){var e=wr([]),t=Nj,r=Ad,n=mee;function s(i){var l=Array.from(e.apply(this,arguments),gee),c,d=l.length,f=-1,h;for(const g of i)for(c=0,++f;c<d;++c)(l[c][f]=[0,+n(g,l[c].key,f,i)]).data=g;for(c=0,h=OS(t(l));c<d;++c)l[h[c]].index=c;return r(l,h),l}return s.keys=function(i){return arguments.length?(e=typeof i=="function"?i:wr(Array.from(i)),s):e},s.value=function(i){return arguments.length?(n=typeof i=="function"?i:wr(+i),s):n},s.order=function(i){return arguments.length?(t=i==null?Nj:typeof i=="function"?i:wr(Array.from(i)),s):t},s.offset=function(i){return arguments.length?(r=i??Ad,s):r},s}function xee(e,t){if((n=e.length)>0){for(var r,n,s=0,i=e[0].length,l;s<i;++s){for(l=r=0;r<n;++r)l+=e[r][s][1]||0;if(l)for(r=0;r<n;++r)e[r][s][1]/=l}Ad(e,t)}}function yee(e,t){if((s=e.length)>0){for(var r=0,n=e[t[0]],s,i=n.length;r<i;++r){for(var l=0,c=0;l<s;++l)c+=e[l][r][1]||0;n[r][1]+=n[r][0]=-c/2}Ad(e,t)}}function vee(e,t){if(!(!((l=e.length)>0)||!((i=(s=e[t[0]]).length)>0))){for(var r=0,n=1,s,i,l;n<i;++n){for(var c=0,d=0,f=0;c<l;++c){for(var h=e[t[c]],g=h[n][1]||0,p=h[n-1][1]||0,y=(g-p)/2,b=0;b<c;++b){var w=e[t[b]],j=w[n][1]||0,S=w[n-1][1]||0;y+=j-S}d+=g,f+=y*g}s[n-1][1]+=s[n-1][0]=r,d&&(r-=f/d)}s[n-1][1]+=s[n-1][0]=r,Ad(e,t)}}var bee=["type","size","sizeType"];function Sj(){return Sj=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Sj.apply(null,arguments)}function H3(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,n)}return r}function V3(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?H3(Object(r),!0).forEach(function(n){wee(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):H3(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function wee(e,t,r){return(t=jee(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function jee(e){var t=Nee(e,"string");return typeof t=="symbol"?t:t+""}function Nee(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function See(e,t){if(e==null)return{};var r,n,s=_ee(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(n=0;n<i.length;n++)r=i[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(s[r]=e[r])}return s}function _ee(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}var gI={symbolCircle:DS,symbolCross:WJ,symbolDiamond:KJ,symbolSquare:YJ,symbolStar:JJ,symbolTriangle:eee,symbolWye:ree},kee=Math.PI/180,Eee=e=>{var t="symbol".concat(am(e));return gI[t]||DS},Tee=(e,t,r)=>{if(t==="area")return e;switch(r){case"cross":return 5*e*e/9;case"diamond":return .5*e*e/Math.sqrt(3);case"square":return e*e;case"star":{var n=18*kee;return 1.25*e*e*(Math.tan(n)-Math.tan(n*2)*Math.tan(n)**2)}case"triangle":return Math.sqrt(3)*e*e/4;case"wye":return(21-10*Math.sqrt(3))*e*e/8;default:return Math.PI*e*e/4}},Aee=(e,t)=>{gI["symbol".concat(am(e))]=t},PS=e=>{var{type:t="circle",size:r=64,sizeType:n="area"}=e,s=See(e,bee),i=V3(V3({},s),{},{type:t,size:r,sizeType:n}),l=()=>{var g=Eee(t),p=nee().type(g).size(Tee(r,n,t));return p()},{className:c,cx:d,cy:f}=i,h=Dt(i,!0);return d===+d&&f===+f&&r===+r?v.createElement("path",Sj({},h,{className:Ut("recharts-symbols",c),transform:"translate(".concat(d,", ").concat(f,")"),d:l()})):null};PS.registerSymbol=Aee;function _j(){return _j=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},_j.apply(null,arguments)}function q3(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,n)}return r}function Cee(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?q3(Object(r),!0).forEach(function(n){MS(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):q3(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function MS(e,t,r){return(t=Oee(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Oee(e){var t=Dee(e,"string");return typeof t=="symbol"?t:t+""}function Dee(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var As=32;class RS extends v.PureComponent{renderIcon(t,r){var{inactiveColor:n}=this.props,s=As/2,i=As/6,l=As/3,c=t.inactive?n:t.color,d=r??t.type;if(d==="none")return null;if(d==="plainline")return v.createElement("line",{strokeWidth:4,fill:"none",stroke:c,strokeDasharray:t.payload.strokeDasharray,x1:0,y1:s,x2:As,y2:s,className:"recharts-legend-icon"});if(d==="line")return v.createElement("path",{strokeWidth:4,fill:"none",stroke:c,d:"M0,".concat(s,"h").concat(l,`
            A`).concat(i,",").concat(i,",0,1,1,").concat(2*l,",").concat(s,`
            H`).concat(As,"M").concat(2*l,",").concat(s,`
            A`).concat(i,",").concat(i,",0,1,1,").concat(l,",").concat(s),className:"recharts-legend-icon"});if(d==="rect")return v.createElement("path",{stroke:"none",fill:c,d:"M0,".concat(As/8,"h").concat(As,"v").concat(As*3/4,"h").concat(-As,"z"),className:"recharts-legend-icon"});if(v.isValidElement(t.legendIcon)){var f=Cee({},t);return delete f.legendIcon,v.cloneElement(t.legendIcon,f)}return v.createElement(PS,{fill:c,cx:s,cy:s,size:As,sizeType:"diameter",type:d})}renderItems(){var{payload:t,iconSize:r,layout:n,formatter:s,inactiveColor:i,iconType:l}=this.props,c={x:0,y:0,width:As,height:As},d={display:n==="horizontal"?"inline-block":"block",marginRight:10},f={display:"inline-block",verticalAlign:"middle",marginRight:4};return t.map((h,g)=>{var p=h.formatter||s,y=Ut({"recharts-legend-item":!0,["legend-item-".concat(g)]:!0,inactive:h.inactive});if(h.type==="none")return null;var b=h.inactive?i:h.color,w=p?p(h.value,h,g):h.value;return v.createElement("li",_j({className:y,style:d,key:"legend-item-".concat(g)},sm(this.props,h,g)),v.createElement(AS,{width:r,height:r,viewBox:c,style:f,"aria-label":"".concat(w," legend icon")},this.renderIcon(h,l)),v.createElement("span",{className:"recharts-legend-item-text",style:{color:b}},w))})}render(){var{payload:t,layout:r,align:n}=this.props;if(!t||!t.length)return null;var s={padding:0,margin:0,textAlign:r==="horizontal"?n:"left"};return v.createElement("ul",{className:"recharts-default-legend",style:s},this.renderItems())}}MS(RS,"displayName","Legend");MS(RS,"defaultProps",{align:"center",iconSize:14,inactiveColor:"#ccc",layout:"horizontal",verticalAlign:"middle"});var $1={},U1={},W3;function Pee(){return W3||(W3=1,function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r,n){const s=new Map;for(let i=0;i<r.length;i++){const l=r[i],c=n(l);s.has(c)||s.set(c,l)}return Array.from(s.values())}e.uniqBy=t}(U1)),U1}var z1={},G3;function pI(){return G3||(G3=1,function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){return r}e.identity=t}(z1)),z1}var H1={},V1={},q1={},K3;function Mee(){return K3||(K3=1,function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){return Number.isSafeInteger(r)&&r>=0}e.isLength=t}(q1)),q1}var Y3;function IS(){return Y3||(Y3=1,function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=Mee();function r(n){return n!=null&&typeof n!="function"&&t.isLength(n.length)}e.isArrayLike=r}(V1)),V1}var W1={},X3;function Ree(){return X3||(X3=1,function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){return typeof r=="object"&&r!==null}e.isObjectLike=t}(W1)),W1}var Q3;function Iee(){return Q3||(Q3=1,function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=IS(),r=Ree();function n(s){return r.isObjectLike(s)&&t.isArrayLike(s)}e.isArrayLikeObject=n}(H1)),H1}var G1={},K1={},Z3;function Fee(){return Z3||(Z3=1,function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=kS();function r(n){return function(s){return t.get(s,n)}}e.property=r}(K1)),K1}var Y1={},X1={},Q1={},Z1={},J3;function xI(){return J3||(J3=1,function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){return r!==null&&(typeof r=="object"||typeof r=="function")}e.isObject=t}(Z1)),Z1}var J1={},e6;function yI(){return e6||(e6=1,function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){return r==null||typeof r!="object"&&typeof r!="function"}e.isPrimitive=t}(J1)),J1}var ew={},t6;function FS(){return t6||(t6=1,function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r,n){return r===n||Number.isNaN(r)&&Number.isNaN(n)}e.eq=t}(ew)),ew}var r6;function Lee(){return r6||(r6=1,function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=LS(),r=xI(),n=yI(),s=FS();function i(g,p,y){return typeof y!="function"?t.isMatch(g,p):l(g,p,function b(w,j,S,k,E,C){const T=y(w,j,S,k,E,C);return T!==void 0?!!T:l(w,j,b,C)},new Map)}function l(g,p,y,b){if(p===g)return!0;switch(typeof p){case"object":return c(g,p,y,b);case"function":return Object.keys(p).length>0?l(g,{...p},y,b):s.eq(g,p);default:return r.isObject(g)?typeof p=="string"?p==="":!0:s.eq(g,p)}}function c(g,p,y,b){if(p==null)return!0;if(Array.isArray(p))return f(g,p,y,b);if(p instanceof Map)return d(g,p,y,b);if(p instanceof Set)return h(g,p,y,b);const w=Object.keys(p);if(g==null)return w.length===0;if(w.length===0)return!0;if(b&&b.has(p))return b.get(p)===g;b&&b.set(p,g);try{for(let j=0;j<w.length;j++){const S=w[j];if(!n.isPrimitive(g)&&!(S in g)||p[S]===void 0&&g[S]!==void 0||p[S]===null&&g[S]!==null||!y(g[S],p[S],S,g,p,b))return!1}return!0}finally{b&&b.delete(p)}}function d(g,p,y,b){if(p.size===0)return!0;if(!(g instanceof Map))return!1;for(const[w,j]of p.entries()){const S=g.get(w);if(y(S,j,w,g,p,b)===!1)return!1}return!0}function f(g,p,y,b){if(p.length===0)return!0;if(!Array.isArray(g))return!1;const w=new Set;for(let j=0;j<p.length;j++){const S=p[j];let k=!1;for(let E=0;E<g.length;E++){if(w.has(E))continue;const C=g[E];let T=!1;if(y(C,S,j,g,p,b)&&(T=!0),T){w.add(E),k=!0;break}}if(!k)return!1}return!0}function h(g,p,y,b){return p.size===0?!0:g instanceof Set?f([...g],[...p],y,b):!1}e.isMatchWith=i,e.isSetMatch=h}(Q1)),Q1}var n6;function LS(){return n6||(n6=1,function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=Lee();function r(n,s){return t.isMatchWith(n,s,()=>{})}e.isMatch=r}(X1)),X1}var tw={},rw={},nw={},a6;function vI(){return a6||(a6=1,function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){return Object.getOwnPropertySymbols(r).filter(n=>Object.prototype.propertyIsEnumerable.call(r,n))}e.getSymbols=t}(nw)),nw}var aw={},s6;function BS(){return s6||(s6=1,function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){return r==null?r===void 0?"[object Undefined]":"[object Null]":Object.prototype.toString.call(r)}e.getTag=t}(aw)),aw}var sw={},i6;function $S(){return i6||(i6=1,function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t="[object RegExp]",r="[object String]",n="[object Number]",s="[object Boolean]",i="[object Arguments]",l="[object Symbol]",c="[object Date]",d="[object Map]",f="[object Set]",h="[object Array]",g="[object Function]",p="[object ArrayBuffer]",y="[object Object]",b="[object Error]",w="[object DataView]",j="[object Uint8Array]",S="[object Uint8ClampedArray]",k="[object Uint16Array]",E="[object Uint32Array]",C="[object BigUint64Array]",T="[object Int8Array]",A="[object Int16Array]",O="[object Int32Array]",D="[object BigInt64Array]",R="[object Float32Array]",B="[object Float64Array]";e.argumentsTag=i,e.arrayBufferTag=p,e.arrayTag=h,e.bigInt64ArrayTag=D,e.bigUint64ArrayTag=C,e.booleanTag=s,e.dataViewTag=w,e.dateTag=c,e.errorTag=b,e.float32ArrayTag=R,e.float64ArrayTag=B,e.functionTag=g,e.int16ArrayTag=A,e.int32ArrayTag=O,e.int8ArrayTag=T,e.mapTag=d,e.numberTag=n,e.objectTag=y,e.regexpTag=t,e.setTag=f,e.stringTag=r,e.symbolTag=l,e.uint16ArrayTag=k,e.uint32ArrayTag=E,e.uint8ArrayTag=j,e.uint8ClampedArrayTag=S}(sw)),sw}var iw={},l6;function Bee(){return l6||(l6=1,function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){return ArrayBuffer.isView(r)&&!(r instanceof DataView)}e.isTypedArray=t}(iw)),iw}var o6;function bI(){return o6||(o6=1,function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=vI(),r=BS(),n=$S(),s=yI(),i=Bee();function l(h,g){return c(h,void 0,h,new Map,g)}function c(h,g,p,y=new Map,b=void 0){const w=b?.(h,g,p,y);if(w!=null)return w;if(s.isPrimitive(h))return h;if(y.has(h))return y.get(h);if(Array.isArray(h)){const j=new Array(h.length);y.set(h,j);for(let S=0;S<h.length;S++)j[S]=c(h[S],S,p,y,b);return Object.hasOwn(h,"index")&&(j.index=h.index),Object.hasOwn(h,"input")&&(j.input=h.input),j}if(h instanceof Date)return new Date(h.getTime());if(h instanceof RegExp){const j=new RegExp(h.source,h.flags);return j.lastIndex=h.lastIndex,j}if(h instanceof Map){const j=new Map;y.set(h,j);for(const[S,k]of h)j.set(S,c(k,S,p,y,b));return j}if(h instanceof Set){const j=new Set;y.set(h,j);for(const S of h)j.add(c(S,void 0,p,y,b));return j}if(typeof Buffer<"u"&&Buffer.isBuffer(h))return h.subarray();if(i.isTypedArray(h)){const j=new(Object.getPrototypeOf(h)).constructor(h.length);y.set(h,j);for(let S=0;S<h.length;S++)j[S]=c(h[S],S,p,y,b);return j}if(h instanceof ArrayBuffer||typeof SharedArrayBuffer<"u"&&h instanceof SharedArrayBuffer)return h.slice(0);if(h instanceof DataView){const j=new DataView(h.buffer.slice(0),h.byteOffset,h.byteLength);return y.set(h,j),d(j,h,p,y,b),j}if(typeof File<"u"&&h instanceof File){const j=new File([h],h.name,{type:h.type});return y.set(h,j),d(j,h,p,y,b),j}if(h instanceof Blob){const j=new Blob([h],{type:h.type});return y.set(h,j),d(j,h,p,y,b),j}if(h instanceof Error){const j=new h.constructor;return y.set(h,j),j.message=h.message,j.name=h.name,j.stack=h.stack,j.cause=h.cause,d(j,h,p,y,b),j}if(typeof h=="object"&&f(h)){const j=Object.create(Object.getPrototypeOf(h));return y.set(h,j),d(j,h,p,y,b),j}return h}function d(h,g,p=h,y,b){const w=[...Object.keys(g),...t.getSymbols(g)];for(let j=0;j<w.length;j++){const S=w[j],k=Object.getOwnPropertyDescriptor(h,S);(k==null||k.writable)&&(h[S]=c(g[S],S,p,y,b))}}function f(h){switch(r.getTag(h)){case n.argumentsTag:case n.arrayTag:case n.arrayBufferTag:case n.dataViewTag:case n.booleanTag:case n.dateTag:case n.float32ArrayTag:case n.float64ArrayTag:case n.int8ArrayTag:case n.int16ArrayTag:case n.int32ArrayTag:case n.mapTag:case n.numberTag:case n.objectTag:case n.regexpTag:case n.setTag:case n.stringTag:case n.symbolTag:case n.uint8ArrayTag:case n.uint8ClampedArrayTag:case n.uint16ArrayTag:case n.uint32ArrayTag:return!0;default:return!1}}e.cloneDeepWith=l,e.cloneDeepWithImpl=c,e.copyProperties=d}(rw)),rw}var c6;function $ee(){return c6||(c6=1,function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=bI();function r(n){return t.cloneDeepWithImpl(n,void 0,n,new Map,void 0)}e.cloneDeep=r}(tw)),tw}var u6;function Uee(){return u6||(u6=1,function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=LS(),r=$ee();function n(s){return s=r.cloneDeep(s),i=>t.isMatch(i,s)}e.matches=n}(Y1)),Y1}var lw={},ow={},cw={},d6;function zee(){return d6||(d6=1,function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=bI(),r=$S();function n(s,i){return t.cloneDeepWith(s,(l,c,d,f)=>{const h=i?.(l,c,d,f);if(h!=null)return h;if(typeof s=="object")switch(Object.prototype.toString.call(s)){case r.numberTag:case r.stringTag:case r.booleanTag:{const g=new s.constructor(s?.valueOf());return t.copyProperties(g,s),g}case r.argumentsTag:{const g={};return t.copyProperties(g,s),g.length=s.length,g[Symbol.iterator]=s[Symbol.iterator],g}default:return}})}e.cloneDeepWith=n}(cw)),cw}var f6;function Hee(){return f6||(f6=1,function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=zee();function r(n){return t.cloneDeepWith(n)}e.cloneDeep=r}(ow)),ow}var uw={},dw={},h6;function wI(){return h6||(h6=1,function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=/^(?:0|[1-9]\d*)$/;function r(n,s=Number.MAX_SAFE_INTEGER){switch(typeof n){case"number":return Number.isInteger(n)&&n>=0&&n<s;case"symbol":return!1;case"string":return t.test(n)}}e.isIndex=r}(dw)),dw}var fw={},m6;function Vee(){return m6||(m6=1,function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=BS();function r(n){return n!==null&&typeof n=="object"&&t.getTag(n)==="[object Arguments]"}e.isArguments=r}(fw)),fw}var g6;function qee(){return g6||(g6=1,function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=W8(),r=wI(),n=Vee(),s=_S();function i(l,c){let d;if(Array.isArray(c)?d=c:typeof c=="string"&&t.isDeepKey(c)&&l?.[c]==null?d=s.toPath(c):d=[c],d.length===0)return!1;let f=l;for(let h=0;h<d.length;h++){const g=d[h];if((f==null||!Object.hasOwn(f,g))&&!((Array.isArray(f)||n.isArguments(f))&&r.isIndex(g)&&g<f.length))return!1;f=f[g]}return!0}e.has=i}(uw)),uw}var p6;function Wee(){return p6||(p6=1,function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=LS(),r=G8(),n=Hee(),s=kS(),i=qee();function l(c,d){switch(typeof c){case"object":{Object.is(c?.valueOf(),-0)&&(c="-0");break}case"number":{c=r.toKey(c);break}}return d=n.cloneDeep(d),function(f){const h=s.get(f,c);return h===void 0?i.has(f,c):d===void 0?h===void 0:t.isMatch(h,d)}}e.matchesProperty=l}(lw)),lw}var x6;function Gee(){return x6||(x6=1,function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=pI(),r=Fee(),n=Uee(),s=Wee();function i(l){if(l==null)return t.identity;switch(typeof l){case"function":return l;case"object":return Array.isArray(l)&&l.length===2?s.matchesProperty(l[0],l[1]):n.matches(l);case"string":case"symbol":case"number":return r.property(l)}}e.iteratee=i}(G1)),G1}var y6;function Kee(){return y6||(y6=1,function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=Pee(),r=pI(),n=Iee(),s=Gee();function i(l,c=r.identity){return n.isArrayLikeObject(l)?t.uniqBy(Array.from(l),s.iteratee(c)):[]}e.uniqBy=i}($1)),$1}var hw,v6;function Yee(){return v6||(v6=1,hw=Kee().uniqBy),hw}var Xee=Yee();const b6=xs(Xee);function jI(e,t,r){return t===!0?b6(e,r):typeof t=="function"?b6(e,t):e}var mw={exports:{}},gw={},pw={exports:{}},xw={};/**
 * @license React
 * use-sync-external-store-shim.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var w6;function Qee(){if(w6)return xw;w6=1;var e=Hd();function t(g,p){return g===p&&(g!==0||1/g===1/p)||g!==g&&p!==p}var r=typeof Object.is=="function"?Object.is:t,n=e.useState,s=e.useEffect,i=e.useLayoutEffect,l=e.useDebugValue;function c(g,p){var y=p(),b=n({inst:{value:y,getSnapshot:p}}),w=b[0].inst,j=b[1];return i(function(){w.value=y,w.getSnapshot=p,d(w)&&j({inst:w})},[g,y,p]),s(function(){return d(w)&&j({inst:w}),g(function(){d(w)&&j({inst:w})})},[g]),l(y),y}function d(g){var p=g.getSnapshot;g=g.value;try{var y=p();return!r(g,y)}catch{return!0}}function f(g,p){return p()}var h=typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"?f:c;return xw.useSyncExternalStore=e.useSyncExternalStore!==void 0?e.useSyncExternalStore:h,xw}var j6;function Zee(){return j6||(j6=1,pw.exports=Qee()),pw.exports}/**
 * @license React
 * use-sync-external-store-shim/with-selector.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var N6;function Jee(){if(N6)return gw;N6=1;var e=Hd(),t=Zee();function r(f,h){return f===h&&(f!==0||1/f===1/h)||f!==f&&h!==h}var n=typeof Object.is=="function"?Object.is:r,s=t.useSyncExternalStore,i=e.useRef,l=e.useEffect,c=e.useMemo,d=e.useDebugValue;return gw.useSyncExternalStoreWithSelector=function(f,h,g,p,y){var b=i(null);if(b.current===null){var w={hasValue:!1,value:null};b.current=w}else w=b.current;b=c(function(){function S(A){if(!k){if(k=!0,E=A,A=p(A),y!==void 0&&w.hasValue){var O=w.value;if(y(O,A))return C=O}return C=A}if(O=C,n(E,A))return O;var D=p(A);return y!==void 0&&y(O,D)?(E=A,O):(E=A,C=D)}var k=!1,E,C,T=g===void 0?null:g;return[function(){return S(h())},T===null?void 0:function(){return S(T())}]},[h,g,p,y]);var j=s(f,b[0],b[1]);return l(function(){w.hasValue=!0,w.value=j},[j]),d(j),j},gw}var S6;function ete(){return S6||(S6=1,mw.exports=Jee()),mw.exports}var tte=ete(),US=v.createContext(null),rte=e=>e,Mr=()=>{var e=v.useContext(US);return e?e.store.dispatch:rte},jp=()=>{},nte=()=>jp,ate=(e,t)=>e===t;function nt(e){var t=v.useContext(US);return tte.useSyncExternalStoreWithSelector(t?t.subscription.addNestedSub:nte,t?t.store.getState:jp,t?t.store.getState:jp,t?e:jp,ate)}function ste(e,t=`expected a function, instead received ${typeof e}`){if(typeof e!="function")throw new TypeError(t)}function ite(e,t=`expected an object, instead received ${typeof e}`){if(typeof e!="object")throw new TypeError(t)}function lte(e,t="expected all items to be functions, instead received the following types: "){if(!e.every(r=>typeof r=="function")){const r=e.map(n=>typeof n=="function"?`function ${n.name||"unnamed"}()`:typeof n).join(", ");throw new TypeError(`${t}[${r}]`)}}var _6=e=>Array.isArray(e)?e:[e];function ote(e){const t=Array.isArray(e[0])?e[0]:e;return lte(t,"createSelector expects all input-selectors to be functions, but received the following types: "),t}function cte(e,t){const r=[],{length:n}=e;for(let s=0;s<n;s++)r.push(e[s].apply(null,t));return r}var ute=class{constructor(e){this.value=e}deref(){return this.value}},dte=typeof WeakRef<"u"?WeakRef:ute,fte=0,k6=1;function zg(){return{s:fte,v:void 0,o:null,p:null}}function NI(e,t={}){let r=zg();const{resultEqualityCheck:n}=t;let s,i=0;function l(){let c=r;const{length:d}=arguments;for(let g=0,p=d;g<p;g++){const y=arguments[g];if(typeof y=="function"||typeof y=="object"&&y!==null){let b=c.o;b===null&&(c.o=b=new WeakMap);const w=b.get(y);w===void 0?(c=zg(),b.set(y,c)):c=w}else{let b=c.p;b===null&&(c.p=b=new Map);const w=b.get(y);w===void 0?(c=zg(),b.set(y,c)):c=w}}const f=c;let h;if(c.s===k6)h=c.v;else if(h=e.apply(null,arguments),i++,n){const g=s?.deref?.()??s;g!=null&&n(g,h)&&(h=g,i!==0&&i--),s=typeof h=="object"&&h!==null||typeof h=="function"?new dte(h):h}return f.s=k6,f.v=h,h}return l.clearCache=()=>{r=zg(),l.resetResultsCount()},l.resultsCount=()=>i,l.resetResultsCount=()=>{i=0},l}function hte(e,...t){const r=typeof e=="function"?{memoize:e,memoizeOptions:t}:e,n=(...s)=>{let i=0,l=0,c,d={},f=s.pop();typeof f=="object"&&(d=f,f=s.pop()),ste(f,`createSelector expects an output function after the inputs, but received: [${typeof f}]`);const h={...r,...d},{memoize:g,memoizeOptions:p=[],argsMemoize:y=NI,argsMemoizeOptions:b=[]}=h,w=_6(p),j=_6(b),S=ote(s),k=g(function(){return i++,f.apply(null,arguments)},...w),E=y(function(){l++;const T=cte(S,arguments);return c=k.apply(null,T),c},...j);return Object.assign(E,{resultFunc:f,memoizedResultFunc:k,dependencies:S,dependencyRecomputations:()=>l,resetDependencyRecomputations:()=>{l=0},lastResult:()=>c,recomputations:()=>i,resetRecomputations:()=>{i=0},memoize:g,argsMemoize:y})};return Object.assign(n,{withTypes:()=>n}),n}var ke=hte(NI),mte=Object.assign((e,t=ke)=>{ite(e,`createStructuredSelector expects first argument to be an object where each property is a selector, instead received a ${typeof e}`);const r=Object.keys(e),n=r.map(i=>e[i]);return t(n,(...i)=>i.reduce((l,c,d)=>(l[r[d]]=c,l),{}))},{withTypes:()=>mte}),yw={},vw={},bw={},E6;function gte(){return E6||(E6=1,function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(n){return typeof n=="symbol"?1:n===null?2:n===void 0?3:n!==n?4:0}const r=(n,s,i)=>{if(n!==s){const l=t(n),c=t(s);if(l===c&&l===0){if(n<s)return i==="desc"?1:-1;if(n>s)return i==="desc"?-1:1}return i==="desc"?c-l:l-c}return 0};e.compareValues=r}(bw)),bw}var ww={},jw={},T6;function SI(){return T6||(T6=1,function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){return typeof r=="symbol"||r instanceof Symbol}e.isSymbol=t}(jw)),jw}var A6;function pte(){return A6||(A6=1,function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=SI(),r=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,n=/^\w*$/;function s(i,l){return Array.isArray(i)?!1:typeof i=="number"||typeof i=="boolean"||i==null||t.isSymbol(i)?!0:typeof i=="string"&&(n.test(i)||!r.test(i))||l!=null&&Object.hasOwn(l,i)}e.isKey=s}(ww)),ww}var C6;function xte(){return C6||(C6=1,function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=gte(),r=pte(),n=_S();function s(i,l,c,d){if(i==null)return[];c=d?void 0:c,Array.isArray(i)||(i=Object.values(i)),Array.isArray(l)||(l=l==null?[null]:[l]),l.length===0&&(l=[null]),Array.isArray(c)||(c=c==null?[]:[c]),c=c.map(y=>String(y));const f=(y,b)=>{let w=y;for(let j=0;j<b.length&&w!=null;++j)w=w[b[j]];return w},h=(y,b)=>b==null||y==null?b:typeof y=="object"&&"key"in y?Object.hasOwn(b,y.key)?b[y.key]:f(b,y.path):typeof y=="function"?y(b):Array.isArray(y)?f(b,y):typeof b=="object"?b[y]:b,g=l.map(y=>(Array.isArray(y)&&y.length===1&&(y=y[0]),y==null||typeof y=="function"||Array.isArray(y)||r.isKey(y)?y:{key:y,path:n.toPath(y)}));return i.map(y=>({original:y,criteria:g.map(b=>h(b,y))})).slice().sort((y,b)=>{for(let w=0;w<g.length;w++){const j=t.compareValues(y.criteria[w],b.criteria[w],c[w]);if(j!==0)return j}return 0}).map(y=>y.original)}e.orderBy=s}(vw)),vw}var Nw={},O6;function yte(){return O6||(O6=1,function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r,n=1){const s=[],i=Math.floor(n),l=(c,d)=>{for(let f=0;f<c.length;f++){const h=c[f];Array.isArray(h)&&d<i?l(h,d+1):s.push(h)}};return l(r,0),s}e.flatten=t}(Nw)),Nw}var Sw={},D6;function _I(){return D6||(D6=1,function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=wI(),r=IS(),n=xI(),s=FS();function i(l,c,d){return n.isObject(d)&&(typeof c=="number"&&r.isArrayLike(d)&&t.isIndex(c)&&c<d.length||typeof c=="string"&&c in d)?s.eq(d[c],l):!1}e.isIterateeCall=i}(Sw)),Sw}var P6;function vte(){return P6||(P6=1,function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=xte(),r=yte(),n=_I();function s(i,...l){const c=l.length;return c>1&&n.isIterateeCall(i,l[0],l[1])?l=[]:c>2&&n.isIterateeCall(l[0],l[1],l[2])&&(l=[l[0]]),t.orderBy(i,r.flatten(l),["asc"])}e.sortBy=s}(yw)),yw}var _w,M6;function bte(){return M6||(M6=1,_w=vte().sortBy),_w}var wte=bte();const ry=xs(wte);var kI=e=>e.legend.settings,jte=e=>e.legend.size,Nte=e=>e.legend.payload,Ste=ke([Nte,kI],(e,t)=>{var{itemSorter:r}=t,n=e.flat(1);return r?ry(n,r):n});function _te(){return nt(Ste)}var Hg=1;function EI(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[],[t,r]=v.useState({height:0,left:0,top:0,width:0}),n=v.useCallback(s=>{if(s!=null){var i=s.getBoundingClientRect(),l={height:i.height,left:i.left,top:i.top,width:i.width};(Math.abs(l.height-t.height)>Hg||Math.abs(l.left-t.left)>Hg||Math.abs(l.top-t.top)>Hg||Math.abs(l.width-t.width)>Hg)&&r({height:l.height,left:l.left,top:l.top,width:l.width})}},[t.width,t.height,t.top,t.left,...e]);return[t,n]}function wn(e){return`Minified Redux error #${e}; visit https://redux.js.org/Errors?code=${e} for the full message or use the non-minified dev environment for full errors. `}var kte=typeof Symbol=="function"&&Symbol.observable||"@@observable",R6=kte,kw=()=>Math.random().toString(36).substring(7).split("").join("."),Ete={INIT:`@@redux/INIT${kw()}`,REPLACE:`@@redux/REPLACE${kw()}`,PROBE_UNKNOWN_ACTION:()=>`@@redux/PROBE_UNKNOWN_ACTION${kw()}`},zp=Ete;function zS(e){if(typeof e!="object"||e===null)return!1;let t=e;for(;Object.getPrototypeOf(t)!==null;)t=Object.getPrototypeOf(t);return Object.getPrototypeOf(e)===t||Object.getPrototypeOf(e)===null}function HS(e,t,r){if(typeof e!="function")throw new Error(wn(2));if(typeof t=="function"&&typeof r=="function"||typeof r=="function"&&typeof arguments[3]=="function")throw new Error(wn(0));if(typeof t=="function"&&typeof r>"u"&&(r=t,t=void 0),typeof r<"u"){if(typeof r!="function")throw new Error(wn(1));return r(HS)(e,t)}let n=e,s=t,i=new Map,l=i,c=0,d=!1;function f(){l===i&&(l=new Map,i.forEach((j,S)=>{l.set(S,j)}))}function h(){if(d)throw new Error(wn(3));return s}function g(j){if(typeof j!="function")throw new Error(wn(4));if(d)throw new Error(wn(5));let S=!0;f();const k=c++;return l.set(k,j),function(){if(S){if(d)throw new Error(wn(6));S=!1,f(),l.delete(k),i=null}}}function p(j){if(!zS(j))throw new Error(wn(7));if(typeof j.type>"u")throw new Error(wn(8));if(typeof j.type!="string")throw new Error(wn(17));if(d)throw new Error(wn(9));try{d=!0,s=n(s,j)}finally{d=!1}return(i=l).forEach(k=>{k()}),j}function y(j){if(typeof j!="function")throw new Error(wn(10));n=j,p({type:zp.REPLACE})}function b(){const j=g;return{subscribe(S){if(typeof S!="object"||S===null)throw new Error(wn(11));function k(){const C=S;C.next&&C.next(h())}return k(),{unsubscribe:j(k)}},[R6](){return this}}}return p({type:zp.INIT}),{dispatch:p,subscribe:g,getState:h,replaceReducer:y,[R6]:b}}function Tte(e){Object.keys(e).forEach(t=>{const r=e[t];if(typeof r(void 0,{type:zp.INIT})>"u")throw new Error(wn(12));if(typeof r(void 0,{type:zp.PROBE_UNKNOWN_ACTION()})>"u")throw new Error(wn(13))})}function TI(e){const t=Object.keys(e),r={};for(let i=0;i<t.length;i++){const l=t[i];typeof e[l]=="function"&&(r[l]=e[l])}const n=Object.keys(r);let s;try{Tte(r)}catch(i){s=i}return function(l={},c){if(s)throw s;let d=!1;const f={};for(let h=0;h<n.length;h++){const g=n[h],p=r[g],y=l[g],b=p(y,c);if(typeof b>"u")throw c&&c.type,new Error(wn(14));f[g]=b,d=d||b!==y}return d=d||n.length!==Object.keys(l).length,d?f:l}}function I6(e,t){return function(...r){return t(e.apply(this,r))}}function F6(e,t){if(typeof e=="function")return I6(e,t);if(typeof e!="object"||e===null)throw new Error(wn(16));const r={};for(const n in e){const s=e[n];typeof s=="function"&&(r[n]=I6(s,t))}return r}function jh(...e){return e.length===0?t=>t:e.length===1?e[0]:e.reduce((t,r)=>(...n)=>t(r(...n)))}function AI(...e){return t=>(r,n)=>{const s=t(r,n);let i=()=>{throw new Error(wn(15))};const l={getState:s.getState,dispatch:(d,...f)=>i(d,...f)},c=e.map(d=>d(l));return i=jh(...c)(s.dispatch),{...s,dispatch:i}}}function CI(e){return zS(e)&&"type"in e&&typeof e.type=="string"}var OI=Symbol.for("immer-nothing"),L6=Symbol.for("immer-draftable"),hs=Symbol.for("immer-state");function ii(e,...t){throw new Error(`[Immer] minified error nr: ${e}. Full error at: https://bit.ly/3cXEKWf`)}var Cd=Object.getPrototypeOf;function ru(e){return!!e&&!!e[hs]}function Sl(e){return e?DI(e)||Array.isArray(e)||!!e[L6]||!!e.constructor?.[L6]||ay(e)||sy(e):!1}var Ate=Object.prototype.constructor.toString();function DI(e){if(!e||typeof e!="object")return!1;const t=Cd(e);if(t===null)return!0;const r=Object.hasOwnProperty.call(t,"constructor")&&t.constructor;return r===Object?!0:typeof r=="function"&&Function.toString.call(r)===Ate}function Hp(e,t){ny(e)===0?Reflect.ownKeys(e).forEach(r=>{t(r,e[r],e)}):e.forEach((r,n)=>t(n,r,e))}function ny(e){const t=e[hs];return t?t.type_:Array.isArray(e)?1:ay(e)?2:sy(e)?3:0}function kj(e,t){return ny(e)===2?e.has(t):Object.prototype.hasOwnProperty.call(e,t)}function PI(e,t,r){const n=ny(e);n===2?e.set(t,r):n===3?e.add(r):e[t]=r}function Cte(e,t){return e===t?e!==0||1/e===1/t:e!==e&&t!==t}function ay(e){return e instanceof Map}function sy(e){return e instanceof Set}function kc(e){return e.copy_||e.base_}function Ej(e,t){if(ay(e))return new Map(e);if(sy(e))return new Set(e);if(Array.isArray(e))return Array.prototype.slice.call(e);const r=DI(e);if(t===!0||t==="class_only"&&!r){const n=Object.getOwnPropertyDescriptors(e);delete n[hs];let s=Reflect.ownKeys(n);for(let i=0;i<s.length;i++){const l=s[i],c=n[l];c.writable===!1&&(c.writable=!0,c.configurable=!0),(c.get||c.set)&&(n[l]={configurable:!0,writable:!0,enumerable:c.enumerable,value:e[l]})}return Object.create(Cd(e),n)}else{const n=Cd(e);if(n!==null&&r)return{...e};const s=Object.create(n);return Object.assign(s,e)}}function VS(e,t=!1){return iy(e)||ru(e)||!Sl(e)||(ny(e)>1&&(e.set=e.add=e.clear=e.delete=Ote),Object.freeze(e),t&&Object.entries(e).forEach(([r,n])=>VS(n,!0))),e}function Ote(){ii(2)}function iy(e){return Object.isFrozen(e)}var Dte={};function nu(e){const t=Dte[e];return t||ii(0,e),t}var Nh;function MI(){return Nh}function Pte(e,t){return{drafts_:[],parent_:e,immer_:t,canAutoFreeze_:!0,unfinalizedDrafts_:0}}function B6(e,t){t&&(nu("Patches"),e.patches_=[],e.inversePatches_=[],e.patchListener_=t)}function Tj(e){Aj(e),e.drafts_.forEach(Mte),e.drafts_=null}function Aj(e){e===Nh&&(Nh=e.parent_)}function $6(e){return Nh=Pte(Nh,e)}function Mte(e){const t=e[hs];t.type_===0||t.type_===1?t.revoke_():t.revoked_=!0}function U6(e,t){t.unfinalizedDrafts_=t.drafts_.length;const r=t.drafts_[0];return e!==void 0&&e!==r?(r[hs].modified_&&(Tj(t),ii(4)),Sl(e)&&(e=Vp(t,e),t.parent_||qp(t,e)),t.patches_&&nu("Patches").generateReplacementPatches_(r[hs].base_,e,t.patches_,t.inversePatches_)):e=Vp(t,r,[]),Tj(t),t.patches_&&t.patchListener_(t.patches_,t.inversePatches_),e!==OI?e:void 0}function Vp(e,t,r){if(iy(t))return t;const n=t[hs];if(!n)return Hp(t,(s,i)=>z6(e,n,t,s,i,r)),t;if(n.scope_!==e)return t;if(!n.modified_)return qp(e,n.base_,!0),n.base_;if(!n.finalized_){n.finalized_=!0,n.scope_.unfinalizedDrafts_--;const s=n.copy_;let i=s,l=!1;n.type_===3&&(i=new Set(s),s.clear(),l=!0),Hp(i,(c,d)=>z6(e,n,s,c,d,r,l)),qp(e,s,!1),r&&e.patches_&&nu("Patches").generatePatches_(n,r,e.patches_,e.inversePatches_)}return n.copy_}function z6(e,t,r,n,s,i,l){if(ru(s)){const c=i&&t&&t.type_!==3&&!kj(t.assigned_,n)?i.concat(n):void 0,d=Vp(e,s,c);if(PI(r,n,d),ru(d))e.canAutoFreeze_=!1;else return}else l&&r.add(s);if(Sl(s)&&!iy(s)){if(!e.immer_.autoFreeze_&&e.unfinalizedDrafts_<1)return;Vp(e,s),(!t||!t.scope_.parent_)&&typeof n!="symbol"&&Object.prototype.propertyIsEnumerable.call(r,n)&&qp(e,s)}}function qp(e,t,r=!1){!e.parent_&&e.immer_.autoFreeze_&&e.canAutoFreeze_&&VS(t,r)}function Rte(e,t){const r=Array.isArray(e),n={type_:r?1:0,scope_:t?t.scope_:MI(),modified_:!1,finalized_:!1,assigned_:{},parent_:t,base_:e,draft_:null,copy_:null,revoke_:null,isManual_:!1};let s=n,i=qS;r&&(s=[n],i=Sh);const{revoke:l,proxy:c}=Proxy.revocable(s,i);return n.draft_=c,n.revoke_=l,c}var qS={get(e,t){if(t===hs)return e;const r=kc(e);if(!kj(r,t))return Ite(e,r,t);const n=r[t];return e.finalized_||!Sl(n)?n:n===Ew(e.base_,t)?(Tw(e),e.copy_[t]=Oj(n,e)):n},has(e,t){return t in kc(e)},ownKeys(e){return Reflect.ownKeys(kc(e))},set(e,t,r){const n=RI(kc(e),t);if(n?.set)return n.set.call(e.draft_,r),!0;if(!e.modified_){const s=Ew(kc(e),t),i=s?.[hs];if(i&&i.base_===r)return e.copy_[t]=r,e.assigned_[t]=!1,!0;if(Cte(r,s)&&(r!==void 0||kj(e.base_,t)))return!0;Tw(e),Cj(e)}return e.copy_[t]===r&&(r!==void 0||t in e.copy_)||Number.isNaN(r)&&Number.isNaN(e.copy_[t])||(e.copy_[t]=r,e.assigned_[t]=!0),!0},deleteProperty(e,t){return Ew(e.base_,t)!==void 0||t in e.base_?(e.assigned_[t]=!1,Tw(e),Cj(e)):delete e.assigned_[t],e.copy_&&delete e.copy_[t],!0},getOwnPropertyDescriptor(e,t){const r=kc(e),n=Reflect.getOwnPropertyDescriptor(r,t);return n&&{writable:!0,configurable:e.type_!==1||t!=="length",enumerable:n.enumerable,value:r[t]}},defineProperty(){ii(11)},getPrototypeOf(e){return Cd(e.base_)},setPrototypeOf(){ii(12)}},Sh={};Hp(qS,(e,t)=>{Sh[e]=function(){return arguments[0]=arguments[0][0],t.apply(this,arguments)}});Sh.deleteProperty=function(e,t){return Sh.set.call(this,e,t,void 0)};Sh.set=function(e,t,r){return qS.set.call(this,e[0],t,r,e[0])};function Ew(e,t){const r=e[hs];return(r?kc(r):e)[t]}function Ite(e,t,r){const n=RI(t,r);return n?"value"in n?n.value:n.get?.call(e.draft_):void 0}function RI(e,t){if(!(t in e))return;let r=Cd(e);for(;r;){const n=Object.getOwnPropertyDescriptor(r,t);if(n)return n;r=Cd(r)}}function Cj(e){e.modified_||(e.modified_=!0,e.parent_&&Cj(e.parent_))}function Tw(e){e.copy_||(e.copy_=Ej(e.base_,e.scope_.immer_.useStrictShallowCopy_))}var Fte=class{constructor(e){this.autoFreeze_=!0,this.useStrictShallowCopy_=!1,this.produce=(t,r,n)=>{if(typeof t=="function"&&typeof r!="function"){const i=r;r=t;const l=this;return function(d=i,...f){return l.produce(d,h=>r.call(this,h,...f))}}typeof r!="function"&&ii(6),n!==void 0&&typeof n!="function"&&ii(7);let s;if(Sl(t)){const i=$6(this),l=Oj(t,void 0);let c=!0;try{s=r(l),c=!1}finally{c?Tj(i):Aj(i)}return B6(i,n),U6(s,i)}else if(!t||typeof t!="object"){if(s=r(t),s===void 0&&(s=t),s===OI&&(s=void 0),this.autoFreeze_&&VS(s,!0),n){const i=[],l=[];nu("Patches").generateReplacementPatches_(t,s,i,l),n(i,l)}return s}else ii(1,t)},this.produceWithPatches=(t,r)=>{if(typeof t=="function")return(l,...c)=>this.produceWithPatches(l,d=>t(d,...c));let n,s;return[this.produce(t,r,(l,c)=>{n=l,s=c}),n,s]},typeof e?.autoFreeze=="boolean"&&this.setAutoFreeze(e.autoFreeze),typeof e?.useStrictShallowCopy=="boolean"&&this.setUseStrictShallowCopy(e.useStrictShallowCopy)}createDraft(e){Sl(e)||ii(8),ru(e)&&(e=ml(e));const t=$6(this),r=Oj(e,void 0);return r[hs].isManual_=!0,Aj(t),r}finishDraft(e,t){const r=e&&e[hs];(!r||!r.isManual_)&&ii(9);const{scope_:n}=r;return B6(n,t),U6(void 0,n)}setAutoFreeze(e){this.autoFreeze_=e}setUseStrictShallowCopy(e){this.useStrictShallowCopy_=e}applyPatches(e,t){let r;for(r=t.length-1;r>=0;r--){const s=t[r];if(s.path.length===0&&s.op==="replace"){e=s.value;break}}r>-1&&(t=t.slice(r+1));const n=nu("Patches").applyPatches_;return ru(e)?n(e,t):this.produce(e,s=>n(s,t))}};function Oj(e,t){const r=ay(e)?nu("MapSet").proxyMap_(e,t):sy(e)?nu("MapSet").proxySet_(e,t):Rte(e,t);return(t?t.scope_:MI()).drafts_.push(r),r}function ml(e){return ru(e)||ii(10,e),II(e)}function II(e){if(!Sl(e)||iy(e))return e;const t=e[hs];let r;if(t){if(!t.modified_)return t.base_;t.finalized_=!0,r=Ej(e,t.scope_.immer_.useStrictShallowCopy_)}else r=Ej(e,!0);return Hp(r,(n,s)=>{PI(r,n,II(s))}),t&&(t.finalized_=!1),r}var ms=new Fte,FI=ms.produce;ms.produceWithPatches.bind(ms);ms.setAutoFreeze.bind(ms);ms.setUseStrictShallowCopy.bind(ms);ms.applyPatches.bind(ms);ms.createDraft.bind(ms);ms.finishDraft.bind(ms);function LI(e){return({dispatch:r,getState:n})=>s=>i=>typeof i=="function"?i(r,n,e):s(i)}var Lte=LI(),Bte=LI,$te=typeof window<"u"&&window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__?window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__:function(){if(arguments.length!==0)return typeof arguments[0]=="object"?jh:jh.apply(null,arguments)};function Vs(e,t){function r(...n){if(t){let s=t(...n);if(!s)throw new Error(cs(0));return{type:e,payload:s.payload,..."meta"in s&&{meta:s.meta},..."error"in s&&{error:s.error}}}return{type:e,payload:n[0]}}return r.toString=()=>`${e}`,r.type=e,r.match=n=>CI(n)&&n.type===e,r}var BI=class I0 extends Array{constructor(...t){super(...t),Object.setPrototypeOf(this,I0.prototype)}static get[Symbol.species](){return I0}concat(...t){return super.concat.apply(this,t)}prepend(...t){return t.length===1&&Array.isArray(t[0])?new I0(...t[0].concat(this)):new I0(...t.concat(this))}};function H6(e){return Sl(e)?FI(e,()=>{}):e}function Vg(e,t,r){return e.has(t)?e.get(t):e.set(t,r(t)).get(t)}function Ute(e){return typeof e=="boolean"}var zte=()=>function(t){const{thunk:r=!0,immutableCheck:n=!0,serializableCheck:s=!0,actionCreatorCheck:i=!0}=t??{};let l=new BI;return r&&(Ute(r)?l.push(Lte):l.push(Bte(r.extraArgument))),l},Hte="RTK_autoBatch",V6=e=>t=>{setTimeout(t,e)},Vte=(e={type:"raf"})=>t=>(...r)=>{const n=t(...r);let s=!0,i=!1,l=!1;const c=new Set,d=e.type==="tick"?queueMicrotask:e.type==="raf"?typeof window<"u"&&window.requestAnimationFrame?window.requestAnimationFrame:V6(10):e.type==="callback"?e.queueNotification:V6(e.timeout),f=()=>{l=!1,i&&(i=!1,c.forEach(h=>h()))};return Object.assign({},n,{subscribe(h){const g=()=>s&&h(),p=n.subscribe(g);return c.add(h),()=>{p(),c.delete(h)}},dispatch(h){try{return s=!h?.meta?.[Hte],i=!s,i&&(l||(l=!0,d(f))),n.dispatch(h)}finally{s=!0}}})},qte=e=>function(r){const{autoBatch:n=!0}=r??{};let s=new BI(e);return n&&s.push(Vte(typeof n=="object"?n:void 0)),s};function Wte(e){const t=zte(),{reducer:r=void 0,middleware:n,devTools:s=!0,preloadedState:i=void 0,enhancers:l=void 0}=e||{};let c;if(typeof r=="function")c=r;else if(zS(r))c=TI(r);else throw new Error(cs(1));let d;typeof n=="function"?d=n(t):d=t();let f=jh;s&&(f=$te({trace:!1,...typeof s=="object"&&s}));const h=AI(...d),g=qte(h);let p=typeof l=="function"?l(g):g();const y=f(...p);return HS(c,i,y)}function $I(e){const t={},r=[];let n;const s={addCase(i,l){const c=typeof i=="string"?i:i.type;if(!c)throw new Error(cs(28));if(c in t)throw new Error(cs(29));return t[c]=l,s},addMatcher(i,l){return r.push({matcher:i,reducer:l}),s},addDefaultCase(i){return n=i,s}};return e(s),[t,r,n]}function Gte(e){return typeof e=="function"}function Kte(e,t){let[r,n,s]=$I(t),i;if(Gte(e))i=()=>H6(e());else{const c=H6(e);i=()=>c}function l(c=i(),d){let f=[r[d.type],...n.filter(({matcher:h})=>h(d)).map(({reducer:h})=>h)];return f.filter(h=>!!h).length===0&&(f=[s]),f.reduce((h,g)=>{if(g)if(ru(h)){const y=g(h,d);return y===void 0?h:y}else{if(Sl(h))return FI(h,p=>g(p,d));{const p=g(h,d);if(p===void 0){if(h===null)return h;throw Error("A case reducer on a non-draftable value must not return undefined")}return p}}return h},c)}return l.getInitialState=i,l}var Yte="ModuleSymbhasOwnPr-0123456789ABCDEFGHNRVfgctiUvz_KqYTJkLxpZXIjQW",Xte=(e=21)=>{let t="",r=e;for(;r--;)t+=Yte[Math.random()*64|0];return t},Qte=Symbol.for("rtk-slice-createasyncthunk");function Zte(e,t){return`${e}/${t}`}function Jte({creators:e}={}){const t=e?.asyncThunk?.[Qte];return function(n){const{name:s,reducerPath:i=s}=n;if(!s)throw new Error(cs(11));const l=(typeof n.reducers=="function"?n.reducers(tre()):n.reducers)||{},c=Object.keys(l),d={sliceCaseReducersByName:{},sliceCaseReducersByType:{},actionCreators:{},sliceMatchers:[]},f={addCase(E,C){const T=typeof E=="string"?E:E.type;if(!T)throw new Error(cs(12));if(T in d.sliceCaseReducersByType)throw new Error(cs(13));return d.sliceCaseReducersByType[T]=C,f},addMatcher(E,C){return d.sliceMatchers.push({matcher:E,reducer:C}),f},exposeAction(E,C){return d.actionCreators[E]=C,f},exposeCaseReducer(E,C){return d.sliceCaseReducersByName[E]=C,f}};c.forEach(E=>{const C=l[E],T={reducerName:E,type:Zte(s,E),createNotation:typeof n.reducers=="function"};nre(C)?sre(T,C,f,t):rre(T,C,f)});function h(){const[E={},C=[],T=void 0]=typeof n.extraReducers=="function"?$I(n.extraReducers):[n.extraReducers],A={...E,...d.sliceCaseReducersByType};return Kte(n.initialState,O=>{for(let D in A)O.addCase(D,A[D]);for(let D of d.sliceMatchers)O.addMatcher(D.matcher,D.reducer);for(let D of C)O.addMatcher(D.matcher,D.reducer);T&&O.addDefaultCase(T)})}const g=E=>E,p=new Map,y=new WeakMap;let b;function w(E,C){return b||(b=h()),b(E,C)}function j(){return b||(b=h()),b.getInitialState()}function S(E,C=!1){function T(O){let D=O[E];return typeof D>"u"&&C&&(D=Vg(y,T,j)),D}function A(O=g){const D=Vg(p,C,()=>new WeakMap);return Vg(D,O,()=>{const R={};for(const[B,V]of Object.entries(n.selectors??{}))R[B]=ere(V,O,()=>Vg(y,O,j),C);return R})}return{reducerPath:E,getSelectors:A,get selectors(){return A(T)},selectSlice:T}}const k={name:s,reducer:w,actions:d.actionCreators,caseReducers:d.sliceCaseReducersByName,getInitialState:j,...S(i),injectInto(E,{reducerPath:C,...T}={}){const A=C??i;return E.inject({reducerPath:A,reducer:w},T),{...k,...S(A,!0)}}};return k}}function ere(e,t,r,n){function s(i,...l){let c=t(i);return typeof c>"u"&&n&&(c=r()),e(c,...l)}return s.unwrapped=e,s}var Ws=Jte();function tre(){function e(t,r){return{_reducerDefinitionType:"asyncThunk",payloadCreator:t,...r}}return e.withTypes=()=>e,{reducer(t){return Object.assign({[t.name](...r){return t(...r)}}[t.name],{_reducerDefinitionType:"reducer"})},preparedReducer(t,r){return{_reducerDefinitionType:"reducerWithPrepare",prepare:t,reducer:r}},asyncThunk:e}}function rre({type:e,reducerName:t,createNotation:r},n,s){let i,l;if("reducer"in n){if(r&&!are(n))throw new Error(cs(17));i=n.reducer,l=n.prepare}else i=n;s.addCase(e,i).exposeCaseReducer(t,i).exposeAction(t,l?Vs(e,l):Vs(e))}function nre(e){return e._reducerDefinitionType==="asyncThunk"}function are(e){return e._reducerDefinitionType==="reducerWithPrepare"}function sre({type:e,reducerName:t},r,n,s){if(!s)throw new Error(cs(18));const{payloadCreator:i,fulfilled:l,pending:c,rejected:d,settled:f,options:h}=r,g=s(e,i,h);n.exposeAction(t,g),l&&n.addCase(g.fulfilled,l),c&&n.addCase(g.pending,c),d&&n.addCase(g.rejected,d),f&&n.addMatcher(g.settled,f),n.exposeCaseReducer(t,{fulfilled:l||qg,pending:c||qg,rejected:d||qg,settled:f||qg})}function qg(){}var ire="task",UI="listener",zI="completed",WS="cancelled",lre=`task-${WS}`,ore=`task-${zI}`,Dj=`${UI}-${WS}`,cre=`${UI}-${zI}`,ly=class{constructor(e){this.code=e,this.message=`${ire} ${WS} (reason: ${e})`}name="TaskAbortError";message},GS=(e,t)=>{if(typeof e!="function")throw new TypeError(cs(32))},Wp=()=>{},HI=(e,t=Wp)=>(e.catch(t),e),VI=(e,t)=>(e.addEventListener("abort",t,{once:!0}),()=>e.removeEventListener("abort",t)),Wc=(e,t)=>{const r=e.signal;r.aborted||("reason"in r||Object.defineProperty(r,"reason",{enumerable:!0,value:t,configurable:!0,writable:!0}),e.abort(t))},Gc=e=>{if(e.aborted){const{reason:t}=e;throw new ly(t)}};function qI(e,t){let r=Wp;return new Promise((n,s)=>{const i=()=>s(new ly(e.reason));if(e.aborted){i();return}r=VI(e,i),t.finally(()=>r()).then(n,s)}).finally(()=>{r=Wp})}var ure=async(e,t)=>{try{return await Promise.resolve(),{status:"ok",value:await e()}}catch(r){return{status:r instanceof ly?"cancelled":"rejected",error:r}}finally{t?.()}},Gp=e=>t=>HI(qI(e,t).then(r=>(Gc(e),r))),WI=e=>{const t=Gp(e);return r=>t(new Promise(n=>setTimeout(n,r)))},{assign:yd}=Object,q6={},oy="listenerMiddleware",dre=(e,t)=>{const r=n=>VI(e,()=>Wc(n,e.reason));return(n,s)=>{GS(n);const i=new AbortController;r(i);const l=ure(async()=>{Gc(e),Gc(i.signal);const c=await n({pause:Gp(i.signal),delay:WI(i.signal),signal:i.signal});return Gc(i.signal),c},()=>Wc(i,ore));return s?.autoJoin&&t.push(l.catch(Wp)),{result:Gp(e)(l),cancel(){Wc(i,lre)}}}},fre=(e,t)=>{const r=async(n,s)=>{Gc(t);let i=()=>{};const c=[new Promise((d,f)=>{let h=e({predicate:n,effect:(g,p)=>{p.unsubscribe(),d([g,p.getState(),p.getOriginalState()])}});i=()=>{h(),f()}})];s!=null&&c.push(new Promise(d=>setTimeout(d,s,null)));try{const d=await qI(t,Promise.race(c));return Gc(t),d}finally{i()}};return(n,s)=>HI(r(n,s))},GI=e=>{let{type:t,actionCreator:r,matcher:n,predicate:s,effect:i}=e;if(t)s=Vs(t).match;else if(r)t=r.type,s=r.match;else if(n)s=n;else if(!s)throw new Error(cs(21));return GS(i),{predicate:s,type:t,effect:i}},KI=yd(e=>{const{type:t,predicate:r,effect:n}=GI(e);return{id:Xte(),effect:n,type:t,predicate:r,pending:new Set,unsubscribe:()=>{throw new Error(cs(22))}}},{withTypes:()=>KI}),W6=(e,t)=>{const{type:r,effect:n,predicate:s}=GI(t);return Array.from(e.values()).find(i=>(typeof r=="string"?i.type===r:i.predicate===s)&&i.effect===n)},Pj=e=>{e.pending.forEach(t=>{Wc(t,Dj)})},hre=e=>()=>{e.forEach(Pj),e.clear()},G6=(e,t,r)=>{try{e(t,r)}catch(n){setTimeout(()=>{throw n},0)}},YI=yd(Vs(`${oy}/add`),{withTypes:()=>YI}),mre=Vs(`${oy}/removeAll`),XI=yd(Vs(`${oy}/remove`),{withTypes:()=>XI}),gre=(...e)=>{console.error(`${oy}/error`,...e)},lm=(e={})=>{const t=new Map,{extra:r,onError:n=gre}=e;GS(n);const s=h=>(h.unsubscribe=()=>t.delete(h.id),t.set(h.id,h),g=>{h.unsubscribe(),g?.cancelActive&&Pj(h)}),i=h=>{const g=W6(t,h)??KI(h);return s(g)};yd(i,{withTypes:()=>i});const l=h=>{const g=W6(t,h);return g&&(g.unsubscribe(),h.cancelActive&&Pj(g)),!!g};yd(l,{withTypes:()=>l});const c=async(h,g,p,y)=>{const b=new AbortController,w=fre(i,b.signal),j=[];try{h.pending.add(b),await Promise.resolve(h.effect(g,yd({},p,{getOriginalState:y,condition:(S,k)=>w(S,k).then(Boolean),take:w,delay:WI(b.signal),pause:Gp(b.signal),extra:r,signal:b.signal,fork:dre(b.signal,j),unsubscribe:h.unsubscribe,subscribe:()=>{t.set(h.id,h)},cancelActiveListeners:()=>{h.pending.forEach((S,k,E)=>{S!==b&&(Wc(S,Dj),E.delete(S))})},cancel:()=>{Wc(b,Dj),h.pending.delete(b)},throwIfCancelled:()=>{Gc(b.signal)}})))}catch(S){S instanceof ly||G6(n,S,{raisedBy:"effect"})}finally{await Promise.all(j),Wc(b,cre),h.pending.delete(b)}},d=hre(t);return{middleware:h=>g=>p=>{if(!CI(p))return g(p);if(YI.match(p))return i(p.payload);if(mre.match(p)){d();return}if(XI.match(p))return l(p.payload);let y=h.getState();const b=()=>{if(y===q6)throw new Error(cs(23));return y};let w;try{if(w=g(p),t.size>0){const j=h.getState(),S=Array.from(t.values());for(const k of S){let E=!1;try{E=k.predicate(p,j,y)}catch(C){E=!1,G6(n,C,{raisedBy:"predicate"})}E&&c(k,p,h,b)}}}finally{y=q6}return w},startListening:i,stopListening:l,clearListeners:d}};function cs(e){return`Minified Redux Toolkit error #${e}; visit https://redux-toolkit.js.org/Errors?code=${e} for the full message or use the non-minified dev environment for full errors. `}var pre={layoutType:"horizontal",width:0,height:0,margin:{top:5,right:5,bottom:5,left:5},scale:1},QI=Ws({name:"chartLayout",initialState:pre,reducers:{setLayout(e,t){e.layoutType=t.payload},setChartSize(e,t){e.width=t.payload.width,e.height=t.payload.height},setMargin(e,t){e.margin.top=t.payload.top,e.margin.right=t.payload.right,e.margin.bottom=t.payload.bottom,e.margin.left=t.payload.left},setScale(e,t){e.scale=t.payload}}}),{setMargin:xre,setLayout:yre,setChartSize:vre,setScale:bre}=QI.actions,wre=QI.reducer;function K6(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,n)}return r}function Y6(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?K6(Object(r),!0).forEach(function(n){jre(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):K6(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function jre(e,t,r){return(t=Nre(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Nre(e){var t=Sre(e,"string");return typeof t=="symbol"?t:t+""}function Sre(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var Kp=Math.PI/180,_re=e=>e*180/Math.PI,ln=(e,t,r,n)=>({x:e+Math.cos(-Kp*n)*r,y:t+Math.sin(-Kp*n)*r}),ZI=function(t,r){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{top:0,right:0,bottom:0,left:0};return Math.min(Math.abs(t-(n.left||0)-(n.right||0)),Math.abs(r-(n.top||0)-(n.bottom||0)))/2},kre=(e,t)=>{var{x:r,y:n}=e,{x:s,y:i}=t;return Math.sqrt((r-s)**2+(n-i)**2)},Ere=(e,t)=>{var{x:r,y:n}=e,{cx:s,cy:i}=t,l=kre({x:r,y:n},{x:s,y:i});if(l<=0)return{radius:l,angle:0};var c=(r-s)/l,d=Math.acos(c);return n>i&&(d=2*Math.PI-d),{radius:l,angle:_re(d),angleInRadian:d}},Tre=e=>{var{startAngle:t,endAngle:r}=e,n=Math.floor(t/360),s=Math.floor(r/360),i=Math.min(n,s);return{startAngle:t-i*360,endAngle:r-i*360}},Are=(e,t)=>{var{startAngle:r,endAngle:n}=t,s=Math.floor(r/360),i=Math.floor(n/360),l=Math.min(s,i);return e+l*360},Cre=(e,t)=>{var{x:r,y:n}=e,{radius:s,angle:i}=Ere({x:r,y:n},t),{innerRadius:l,outerRadius:c}=t;if(s<l||s>c||s===0)return null;var{startAngle:d,endAngle:f}=Tre(t),h=i,g;if(d<=f){for(;h>f;)h-=360;for(;h<d;)h+=360;g=h>=d&&h<=f}else{for(;h>d;)h-=360;for(;h<f;)h+=360;g=h>=f&&h<=d}return g?Y6(Y6({},t),{},{radius:s,angle:Are(h,t)}):null};function X6(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,n)}return r}function Ls(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?X6(Object(r),!0).forEach(function(n){Ore(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):X6(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Ore(e,t,r){return(t=Dre(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Dre(e){var t=Pre(e,"string");return typeof t=="symbol"?t:t+""}function Pre(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Sr(e,t,r){return xr(e)||xr(t)?r:Li(t)?Ro(e,t,r):typeof t=="function"?t(e):r}var Mre=(e,t,r,n,s)=>{var i,l=-1,c=(i=t?.length)!==null&&i!==void 0?i:0;if(c<=1||e==null)return 0;if(n==="angleAxis"&&s!=null&&Math.abs(Math.abs(s[1]-s[0])-360)<=1e-6)for(var d=0;d<c;d++){var f=d>0?r[d-1].coordinate:r[c-1].coordinate,h=r[d].coordinate,g=d>=c-1?r[0].coordinate:r[d+1].coordinate,p=void 0;if(Sn(h-f)!==Sn(g-h)){var y=[];if(Sn(g-h)===Sn(s[1]-s[0])){p=g;var b=h+s[1]-s[0];y[0]=Math.min(b,(b+f)/2),y[1]=Math.max(b,(b+f)/2)}else{p=f;var w=g+s[1]-s[0];y[0]=Math.min(h,(w+h)/2),y[1]=Math.max(h,(w+h)/2)}var j=[Math.min(h,(p+h)/2),Math.max(h,(p+h)/2)];if(e>j[0]&&e<=j[1]||e>=y[0]&&e<=y[1]){({index:l}=r[d]);break}}else{var S=Math.min(f,g),k=Math.max(f,g);if(e>(S+h)/2&&e<=(k+h)/2){({index:l}=r[d]);break}}}else if(t){for(var E=0;E<c;E++)if(E===0&&e<=(t[E].coordinate+t[E+1].coordinate)/2||E>0&&E<c-1&&e>(t[E].coordinate+t[E-1].coordinate)/2&&e<=(t[E].coordinate+t[E+1].coordinate)/2||E===c-1&&e>(t[E].coordinate+t[E-1].coordinate)/2){({index:l}=t[E]);break}}return l},Rre=(e,t,r)=>{if(t&&r){var{width:n,height:s}=r,{align:i,verticalAlign:l,layout:c}=t;if((c==="vertical"||c==="horizontal"&&l==="middle")&&i!=="center"&&Ze(e[i]))return Ls(Ls({},e),{},{[i]:e[i]+(n||0)});if((c==="horizontal"||c==="vertical"&&i==="center")&&l!=="middle"&&Ze(e[l]))return Ls(Ls({},e),{},{[l]:e[l]+(s||0)})}return e},Ko=(e,t)=>e==="horizontal"&&t==="xAxis"||e==="vertical"&&t==="yAxis"||e==="centric"&&t==="angleAxis"||e==="radial"&&t==="radiusAxis",JI=(e,t,r,n)=>{if(n)return e.map(c=>c.coordinate);var s,i,l=e.map(c=>(c.coordinate===t&&(s=!0),c.coordinate===r&&(i=!0),c.coordinate));return s||l.push(t),i||l.push(r),l},e7=(e,t,r)=>{if(!e)return null;var{duplicateDomain:n,type:s,range:i,scale:l,realScaleType:c,isCategorical:d,categoricalDomain:f,tickCount:h,ticks:g,niceTicks:p,axisType:y}=e;if(!l)return null;var b=c==="scaleBand"&&l.bandwidth?l.bandwidth()/2:2,w=s==="category"&&l.bandwidth?l.bandwidth()/b:0;if(w=y==="angleAxis"&&i&&i.length>=2?Sn(i[0]-i[1])*2*w:w,g||p){var j=(g||p||[]).map((S,k)=>{var E=n?n.indexOf(S):S;return{coordinate:l(E)+w,value:S,offset:w,index:k}});return j.filter(S=>!fs(S.coordinate))}return d&&f?f.map((S,k)=>({coordinate:l(S)+w,value:S,index:k,offset:w})):l.ticks&&h!=null?l.ticks(h).map((S,k)=>({coordinate:l(S)+w,value:S,offset:w,index:k})):l.domain().map((S,k)=>({coordinate:l(S)+w,value:n?n[S]:S,index:k,offset:w}))},Q6=1e-4,Ire=e=>{var t=e.domain();if(!(!t||t.length<=2)){var r=t.length,n=e.range(),s=Math.min(n[0],n[1])-Q6,i=Math.max(n[0],n[1])+Q6,l=e(t[0]),c=e(t[r-1]);(l<s||l>i||c<s||c>i)&&e.domain([t[0],t[r-1]])}},Fre=(e,t)=>{if(!t||t.length!==2||!Ze(t[0])||!Ze(t[1]))return e;var r=Math.min(t[0],t[1]),n=Math.max(t[0],t[1]),s=[e[0],e[1]];return(!Ze(e[0])||e[0]<r)&&(s[0]=r),(!Ze(e[1])||e[1]>n)&&(s[1]=n),s[0]>n&&(s[0]=n),s[1]<r&&(s[1]=r),s},Lre=e=>{var t=e.length;if(!(t<=0))for(var r=0,n=e[0].length;r<n;++r)for(var s=0,i=0,l=0;l<t;++l){var c=fs(e[l][r][1])?e[l][r][0]:e[l][r][1];c>=0?(e[l][r][0]=s,e[l][r][1]=s+c,s=e[l][r][1]):(e[l][r][0]=i,e[l][r][1]=i+c,i=e[l][r][1])}},Bre=e=>{var t=e.length;if(!(t<=0))for(var r=0,n=e[0].length;r<n;++r)for(var s=0,i=0;i<t;++i){var l=fs(e[i][r][1])?e[i][r][0]:e[i][r][1];l>=0?(e[i][r][0]=s,e[i][r][1]=s+l,s=e[i][r][1]):(e[i][r][0]=0,e[i][r][1]=0)}},$re={sign:Lre,expand:xee,none:Ad,silhouette:yee,wiggle:vee,positive:Bre},Ure=(e,t,r)=>{var n=$re[r],s=pee().keys(t).value((i,l)=>+Sr(i,l,0)).order(Nj).offset(n);return s(e)};function t7(e){return e==null?void 0:String(e)}function Z6(e){var{axis:t,ticks:r,bandSize:n,entry:s,index:i,dataKey:l}=e;if(t.type==="category"){if(!t.allowDuplicatedCategory&&t.dataKey&&!xr(s[t.dataKey])){var c=Y8(r,"value",s[t.dataKey]);if(c)return c.coordinate+n/2}return r[i]?r[i].coordinate+n/2:null}var d=Sr(s,xr(l)?t.dataKey:l);return xr(d)?null:t.scale(d)}var J6=e=>{var{axis:t,ticks:r,offset:n,bandSize:s,entry:i,index:l}=e;if(t.type==="category")return r[l]?r[l].coordinate+n:null;var c=Sr(i,t.dataKey,t.scale.domain()[l]);return xr(c)?null:t.scale(c)-s/2+n},zre=e=>{var{numericAxis:t}=e,r=t.scale.domain();if(t.type==="number"){var n=Math.min(r[0],r[1]),s=Math.max(r[0],r[1]);return n<=0&&s>=0?0:s<0?s:n}return r[0]},Hre=e=>{var t=e.flat(2).filter(Ze);return[Math.min(...t),Math.max(...t)]},Vre=e=>[e[0]===1/0?0:e[0],e[1]===-1/0?0:e[1]],qre=(e,t,r)=>{if(e!=null)return Vre(Object.keys(e).reduce((n,s)=>{var i=e[s],{stackedData:l}=i,c=l.reduce((d,f)=>{var h=Hre(f.slice(t,r+1));return[Math.min(d[0],h[0]),Math.max(d[1],h[1])]},[1/0,-1/0]);return[Math.min(c[0],n[0]),Math.max(c[1],n[1])]},[1/0,-1/0]))},eO=/^dataMin[\s]*-[\s]*([0-9]+([.]{1}[0-9]+){0,1})$/,tO=/^dataMax[\s]*\+[\s]*([0-9]+([.]{1}[0-9]+){0,1})$/,_h=(e,t,r)=>{if(e&&e.scale&&e.scale.bandwidth){var n=e.scale.bandwidth();if(!r||n>0)return n}if(e&&t&&t.length>=2){for(var s=ry(t,h=>h.coordinate),i=1/0,l=1,c=s.length;l<c;l++){var d=s[l],f=s[l-1];i=Math.min((d.coordinate||0)-(f.coordinate||0),i)}return i===1/0?0:i}return r?void 0:0};function rO(e){var{tooltipEntrySettings:t,dataKey:r,payload:n,value:s,name:i}=e;return Ls(Ls({},t),{},{dataKey:r,payload:n,value:s,name:i})}function Jd(e,t){if(e)return String(e);if(typeof t=="string")return t}function Wre(e,t,r,n,s){if(r==="horizontal"||r==="vertical"){var i=e>=s.left&&e<=s.left+s.width&&t>=s.top&&t<=s.top+s.height;return i?{x:e,y:t}:null}return n?Cre({x:e,y:t},n):null}var Gre=(e,t,r,n)=>{var s=t.find(f=>f&&f.index===r);if(s){if(e==="horizontal")return{x:s.coordinate,y:n.y};if(e==="vertical")return{x:n.x,y:s.coordinate};if(e==="centric"){var i=s.coordinate,{radius:l}=n;return Ls(Ls(Ls({},n),ln(n.cx,n.cy,l,i)),{},{angle:i,radius:l})}var c=s.coordinate,{angle:d}=n;return Ls(Ls(Ls({},n),ln(n.cx,n.cy,c,d)),{},{angle:d,radius:c})}return{x:0,y:0}},Kre=(e,t)=>t==="horizontal"?e.x:t==="vertical"?e.y:t==="centric"?e.angle:e.radius,Ol=e=>e.layout.width,Dl=e=>e.layout.height,Yre=e=>e.layout.scale,r7=e=>e.layout.margin,KS=ke(e=>e.cartesianAxis.xAxis,e=>Object.values(e)),YS=ke(e=>e.cartesianAxis.yAxis,e=>Object.values(e)),n7="data-recharts-item-index",a7="data-recharts-item-data-key",cy=60;function nO(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,n)}return r}function oo(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?nO(Object(r),!0).forEach(function(n){Xre(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):nO(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Xre(e,t,r){return(t=Qre(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Qre(e){var t=Zre(e,"string");return typeof t=="symbol"?t:t+""}function Zre(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var Jre=e=>e.brush.height,pn=ke([Ol,Dl,r7,Jre,KS,YS,kI,jte],(e,t,r,n,s,i,l,c)=>{var d=i.reduce((b,w)=>{var{orientation:j}=w;if(!w.mirror&&!w.hide){var S=typeof w.width=="number"?w.width:cy;return oo(oo({},b),{},{[j]:b[j]+S})}return b},{left:r.left||0,right:r.right||0}),f=s.reduce((b,w)=>{var{orientation:j}=w;return!w.mirror&&!w.hide?oo(oo({},b),{},{[j]:Ro(b,"".concat(j))+w.height}):b},{top:r.top||0,bottom:r.bottom||0}),h=oo(oo({},f),d),g=h.bottom;h.bottom+=n,h=Rre(h,l,c);var p=e-h.left-h.right,y=t-h.top-h.bottom;return oo(oo({brushBottom:g},h),{},{width:Math.max(p,0),height:Math.max(y,0)})}),ene=ke(pn,e=>({x:e.left,y:e.top,width:e.width,height:e.height})),s7=ke(Ol,Dl,(e,t)=>({x:0,y:0,width:e,height:t})),tne=v.createContext(null),ba=()=>v.useContext(tne)!=null,uy=e=>e.brush,dy=ke([uy,pn,r7],(e,t,r)=>({height:e.height,x:Ze(e.x)?e.x:t.left,y:Ze(e.y)?e.y:t.top+t.height+t.brushBottom-(r?.bottom||0),width:Ze(e.width)?e.width:t.width})),XS=()=>{var e,t=ba(),r=nt(ene),n=nt(dy),s=(e=nt(uy))===null||e===void 0?void 0:e.padding;return!t||!n||!s?r:{width:n.width-s.left-s.right,height:n.height-s.top-s.bottom,x:s.left,y:s.top}},rne={top:0,bottom:0,left:0,right:0,width:0,height:0,brushBottom:0},i7=()=>{var e;return(e=nt(pn))!==null&&e!==void 0?e:rne},QS=()=>nt(Ol),ZS=()=>nt(Dl),nne={top:0,right:0,bottom:0,left:0},ane=()=>{var e;return(e=nt(t=>t.layout.margin))!==null&&e!==void 0?e:nne},qt=e=>e.layout.layoutType,fy=()=>nt(qt),sne={settings:{layout:"horizontal",align:"center",verticalAlign:"middle",itemSorter:"value"},size:{width:0,height:0},payload:[]},l7=Ws({name:"legend",initialState:sne,reducers:{setLegendSize(e,t){e.size.width=t.payload.width,e.size.height=t.payload.height},setLegendSettings(e,t){e.settings.align=t.payload.align,e.settings.layout=t.payload.layout,e.settings.verticalAlign=t.payload.verticalAlign,e.settings.itemSorter=t.payload.itemSorter},addLegendPayload(e,t){e.payload.push(t.payload)},removeLegendPayload(e,t){var r=ml(e).payload.indexOf(t.payload);r>-1&&e.payload.splice(r,1)}}}),{setLegendSize:aO,setLegendSettings:ine,addLegendPayload:o7,removeLegendPayload:c7}=l7.actions,lne=l7.reducer,one=["contextPayload"];function Mj(){return Mj=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Mj.apply(null,arguments)}function sO(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,n)}return r}function Od(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?sO(Object(r),!0).forEach(function(n){JS(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):sO(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function JS(e,t,r){return(t=cne(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function cne(e){var t=une(e,"string");return typeof t=="symbol"?t:t+""}function une(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function dne(e,t){if(e==null)return{};var r,n,s=fne(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(n=0;n<i.length;n++)r=i[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(s[r]=e[r])}return s}function fne(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}function hne(e){return e.value}function mne(e){var{contextPayload:t}=e,r=dne(e,one),n=jI(t,e.payloadUniqBy,hne),s=Od(Od({},r),{},{payload:n});return v.isValidElement(e.content)?v.cloneElement(e.content,s):typeof e.content=="function"?v.createElement(e.content,s):v.createElement(RS,s)}function gne(e,t,r,n,s,i){var{layout:l,align:c,verticalAlign:d}=t,f,h;return(!e||(e.left===void 0||e.left===null)&&(e.right===void 0||e.right===null))&&(c==="center"&&l==="vertical"?f={left:((n||0)-i.width)/2}:f=c==="right"?{right:r&&r.right||0}:{left:r&&r.left||0}),(!e||(e.top===void 0||e.top===null)&&(e.bottom===void 0||e.bottom===null))&&(d==="middle"?h={top:((s||0)-i.height)/2}:h=d==="bottom"?{bottom:r&&r.bottom||0}:{top:r&&r.top||0}),Od(Od({},f),h)}function pne(e){var t=Mr();return v.useEffect(()=>{t(ine(e))},[t,e]),null}function xne(e){var t=Mr();return v.useEffect(()=>(t(aO(e)),()=>{t(aO({width:0,height:0}))}),[t,e]),null}function yne(e){var t=_te(),r=$J(),n=ane(),{width:s,height:i,wrapperStyle:l,portal:c}=e,[d,f]=EI([t]),h=QS(),g=ZS(),p=h-(n.left||0)-(n.right||0),y=Io.getWidthOrHeight(e.layout,i,s,p),b=c?l:Od(Od({position:"absolute",width:y?.width||s||"auto",height:y?.height||i||"auto"},gne(l,e,n,h,g,d)),l),w=c??r;if(w==null)return null;var j=v.createElement("div",{className:"recharts-legend-wrapper",style:b,ref:f},v.createElement(pne,{layout:e.layout,align:e.align,verticalAlign:e.verticalAlign,itemSorter:e.itemSorter}),v.createElement(xne,{width:d.width,height:d.height}),v.createElement(mne,Mj({},e,y,{margin:n,chartWidth:h,chartHeight:g,contextPayload:t})));return Gd.createPortal(j,w)}class Io extends v.PureComponent{static getWidthOrHeight(t,r,n,s){return t==="vertical"&&Ze(r)?{height:r}:t==="horizontal"?{width:n||s}:null}render(){return v.createElement(yne,this.props)}}JS(Io,"displayName","Legend");JS(Io,"defaultProps",{align:"center",iconSize:14,itemSorter:"value",layout:"horizontal",verticalAlign:"bottom"});function Rj(){return Rj=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Rj.apply(null,arguments)}function iO(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,n)}return r}function Aw(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?iO(Object(r),!0).forEach(function(n){vne(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):iO(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function vne(e,t,r){return(t=bne(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function bne(e){var t=wne(e,"string");return typeof t=="symbol"?t:t+""}function wne(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function jne(e){return Array.isArray(e)&&Li(e[0])&&Li(e[1])?e.join(" ~ "):e}var Nne=e=>{var{separator:t=" : ",contentStyle:r={},itemStyle:n={},labelStyle:s={},payload:i,formatter:l,itemSorter:c,wrapperClassName:d,labelClassName:f,label:h,labelFormatter:g,accessibilityLayer:p=!1}=e,y=()=>{if(i&&i.length){var T={padding:0,margin:0},A=(c?ry(i,c):i).map((O,D)=>{if(O.type==="none")return null;var R=O.formatter||l||jne,{value:B,name:V}=O,W=B,se=V;if(R){var oe=R(B,V,O,D,i);if(Array.isArray(oe))[W,se]=oe;else if(oe!=null)W=oe;else return null}var Y=Aw({display:"block",paddingTop:4,paddingBottom:4,color:O.color||"#000"},n);return v.createElement("li",{className:"recharts-tooltip-item",key:"tooltip-item-".concat(D),style:Y},Li(se)?v.createElement("span",{className:"recharts-tooltip-item-name"},se):null,Li(se)?v.createElement("span",{className:"recharts-tooltip-item-separator"},t):null,v.createElement("span",{className:"recharts-tooltip-item-value"},W),v.createElement("span",{className:"recharts-tooltip-item-unit"},O.unit||""))});return v.createElement("ul",{className:"recharts-tooltip-item-list",style:T},A)}return null},b=Aw({margin:0,padding:10,backgroundColor:"#fff",border:"1px solid #ccc",whiteSpace:"nowrap"},r),w=Aw({margin:0},s),j=!xr(h),S=j?h:"",k=Ut("recharts-default-tooltip",d),E=Ut("recharts-tooltip-label",f);j&&g&&i!==void 0&&i!==null&&(S=g(h,i));var C=p?{role:"status","aria-live":"assertive"}:{};return v.createElement("div",Rj({className:k,style:b},C),v.createElement("p",{className:E,style:w},v.isValidElement(S)?S:"".concat(S)),y())},y0="recharts-tooltip-wrapper",Sne={visibility:"hidden"};function _ne(e){var{coordinate:t,translateX:r,translateY:n}=e;return Ut(y0,{["".concat(y0,"-right")]:Ze(r)&&t&&Ze(t.x)&&r>=t.x,["".concat(y0,"-left")]:Ze(r)&&t&&Ze(t.x)&&r<t.x,["".concat(y0,"-bottom")]:Ze(n)&&t&&Ze(t.y)&&n>=t.y,["".concat(y0,"-top")]:Ze(n)&&t&&Ze(t.y)&&n<t.y})}function lO(e){var{allowEscapeViewBox:t,coordinate:r,key:n,offsetTopLeft:s,position:i,reverseDirection:l,tooltipDimension:c,viewBox:d,viewBoxDimension:f}=e;if(i&&Ze(i[n]))return i[n];var h=r[n]-c-(s>0?s:0),g=r[n]+s;if(t[n])return l[n]?h:g;var p=d[n];if(p==null)return 0;if(l[n]){var y=h,b=p;return y<b?Math.max(g,p):Math.max(h,p)}if(f==null)return 0;var w=g+c,j=p+f;return w>j?Math.max(h,p):Math.max(g,p)}function kne(e){var{translateX:t,translateY:r,useTranslate3d:n}=e;return{transform:n?"translate3d(".concat(t,"px, ").concat(r,"px, 0)"):"translate(".concat(t,"px, ").concat(r,"px)")}}function Ene(e){var{allowEscapeViewBox:t,coordinate:r,offsetTopLeft:n,position:s,reverseDirection:i,tooltipBox:l,useTranslate3d:c,viewBox:d}=e,f,h,g;return l.height>0&&l.width>0&&r?(h=lO({allowEscapeViewBox:t,coordinate:r,key:"x",offsetTopLeft:n,position:s,reverseDirection:i,tooltipDimension:l.width,viewBox:d,viewBoxDimension:d.width}),g=lO({allowEscapeViewBox:t,coordinate:r,key:"y",offsetTopLeft:n,position:s,reverseDirection:i,tooltipDimension:l.height,viewBox:d,viewBoxDimension:d.height}),f=kne({translateX:h,translateY:g,useTranslate3d:c})):f=Sne,{cssProperties:f,cssClasses:_ne({translateX:h,translateY:g,coordinate:r})}}function oO(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,n)}return r}function Wg(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?oO(Object(r),!0).forEach(function(n){Ij(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):oO(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Ij(e,t,r){return(t=Tne(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Tne(e){var t=Ane(e,"string");return typeof t=="symbol"?t:t+""}function Ane(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}class Cne extends v.PureComponent{constructor(){super(...arguments),Ij(this,"state",{dismissed:!1,dismissedAtCoordinate:{x:0,y:0}}),Ij(this,"handleKeyDown",t=>{if(t.key==="Escape"){var r,n,s,i;this.setState({dismissed:!0,dismissedAtCoordinate:{x:(r=(n=this.props.coordinate)===null||n===void 0?void 0:n.x)!==null&&r!==void 0?r:0,y:(s=(i=this.props.coordinate)===null||i===void 0?void 0:i.y)!==null&&s!==void 0?s:0}})}})}componentDidMount(){document.addEventListener("keydown",this.handleKeyDown)}componentWillUnmount(){document.removeEventListener("keydown",this.handleKeyDown)}componentDidUpdate(){var t,r;this.state.dismissed&&(((t=this.props.coordinate)===null||t===void 0?void 0:t.x)!==this.state.dismissedAtCoordinate.x||((r=this.props.coordinate)===null||r===void 0?void 0:r.y)!==this.state.dismissedAtCoordinate.y)&&(this.state.dismissed=!1)}render(){var{active:t,allowEscapeViewBox:r,animationDuration:n,animationEasing:s,children:i,coordinate:l,hasPayload:c,isAnimationActive:d,offset:f,position:h,reverseDirection:g,useTranslate3d:p,viewBox:y,wrapperStyle:b,lastBoundingBox:w,innerRef:j,hasPortalFromProps:S}=this.props,{cssClasses:k,cssProperties:E}=Ene({allowEscapeViewBox:r,coordinate:l,offsetTopLeft:f,position:h,reverseDirection:g,tooltipBox:{height:w.height,width:w.width},useTranslate3d:p,viewBox:y}),C=S?{}:Wg(Wg({transition:d&&t?"transform ".concat(n,"ms ").concat(s):void 0},E),{},{pointerEvents:"none",visibility:!this.state.dismissed&&t&&c?"visible":"hidden",position:"absolute",top:0,left:0}),T=Wg(Wg({},C),{},{visibility:!this.state.dismissed&&t&&c?"visible":"hidden"},b);return v.createElement("div",{xmlns:"http://www.w3.org/1999/xhtml",tabIndex:-1,className:k,style:T,ref:j},i)}}var One=()=>!(typeof window<"u"&&window.document&&window.document.createElement&&window.setTimeout),du={isSsr:One()},u7=()=>nt(e=>e.rootProps.accessibilityLayer);function gs(e){return Number.isFinite(e)}function Dd(e){return typeof e=="number"&&e>0&&Number.isFinite(e)}function Fj(){return Fj=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Fj.apply(null,arguments)}function cO(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,n)}return r}function uO(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?cO(Object(r),!0).forEach(function(n){Dne(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):cO(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Dne(e,t,r){return(t=Pne(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Pne(e){var t=Mne(e,"string");return typeof t=="symbol"?t:t+""}function Mne(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var dO={curveBasisClosed:see,curveBasisOpen:iee,curveBasis:aee,curveBumpX:VJ,curveBumpY:qJ,curveLinearClosed:lee,curveLinear:ey,curveMonotoneX:oee,curveMonotoneY:cee,curveNatural:uee,curveStep:dee,curveStepAfter:hee,curveStepBefore:fee},Gg=e=>gs(e.x)&&gs(e.y),v0=e=>e.x,b0=e=>e.y,Rne=(e,t)=>{if(typeof e=="function")return e;var r="curve".concat(am(e));return(r==="curveMonotone"||r==="curveBump")&&t?dO["".concat(r).concat(t==="vertical"?"Y":"X")]:dO[r]||ey},Ine=e=>{var{type:t="linear",points:r=[],baseLine:n,layout:s,connectNulls:i=!1}=e,l=Rne(t,s),c=i?r.filter(Gg):r,d;if(Array.isArray(n)){var f=i?n.filter(g=>Gg(g)):n,h=c.map((g,p)=>uO(uO({},g),{},{base:f[p]}));return s==="vertical"?d=Ug().y(b0).x1(v0).x0(g=>g.base.x):d=Ug().x(v0).y1(b0).y0(g=>g.base.y),d.defined(Gg).curve(l),d(h)}return s==="vertical"&&Ze(n)?d=Ug().y(b0).x1(v0).x0(n):Ze(n)?d=Ug().x(v0).y1(b0).y0(n):d=aI().x(v0).y(b0),d.defined(Gg).curve(l),d(c)},e_=e=>{var{className:t,points:r,path:n,pathRef:s}=e;if((!r||!r.length)&&!n)return null;var i=r&&r.length?Ine(e):n;return v.createElement("path",Fj({},Dt(e,!1),TS(e),{className:Ut("recharts-curve",t),d:i===null?void 0:i,ref:s}))},Fne=["x","y","top","left","width","height","className"];function Lj(){return Lj=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Lj.apply(null,arguments)}function fO(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,n)}return r}function Lne(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?fO(Object(r),!0).forEach(function(n){Bne(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):fO(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Bne(e,t,r){return(t=$ne(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function $ne(e){var t=Une(e,"string");return typeof t=="symbol"?t:t+""}function Une(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function zne(e,t){if(e==null)return{};var r,n,s=Hne(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(n=0;n<i.length;n++)r=i[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(s[r]=e[r])}return s}function Hne(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}var Vne=(e,t,r,n,s,i)=>"M".concat(e,",").concat(s,"v").concat(n,"M").concat(i,",").concat(t,"h").concat(r),qne=e=>{var{x:t=0,y:r=0,top:n=0,left:s=0,width:i=0,height:l=0,className:c}=e,d=zne(e,Fne),f=Lne({x:t,y:r,top:n,left:s,width:i,height:l},d);return!Ze(t)||!Ze(r)||!Ze(i)||!Ze(l)||!Ze(n)||!Ze(s)?null:v.createElement("path",Lj({},Dt(f,!0),{className:Ut("recharts-cross",c),d:Vne(t,r,i,l,n,s)}))};function Wne(e,t,r,n){var s=n/2;return{stroke:"none",fill:"#ccc",x:e==="horizontal"?t.x-s:r.left+.5,y:e==="horizontal"?r.top+.5:t.y-s,width:e==="horizontal"?n:r.width-1,height:e==="horizontal"?r.height-1:n}}function hO(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,n)}return r}function Gne(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?hO(Object(r),!0).forEach(function(n){Kne(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):hO(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Kne(e,t,r){return(t=Yne(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Yne(e){var t=Xne(e,"string");return typeof t=="symbol"?t:t+""}function Xne(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Gs(e,t){var r=Gne({},e),n=t,s=Object.keys(t),i=s.reduce((l,c)=>(l[c]===void 0&&n[c]!==void 0&&(l[c]=n[c]),l),r);return i}var Cw={},Ow={},Dw={},mO;function Qne(){return mO||(mO=1,function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){if(!r||typeof r!="object")return!1;const n=Object.getPrototypeOf(r);return n===null||n===Object.prototype||Object.getPrototypeOf(n)===null?Object.prototype.toString.call(r)==="[object Object]":!1}e.isPlainObject=t}(Dw)),Dw}var gO;function Zne(){return gO||(gO=1,function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=Qne(),r=vI(),n=BS(),s=$S(),i=FS();function l(f,h,g){return c(f,h,void 0,void 0,void 0,void 0,g)}function c(f,h,g,p,y,b,w){const j=w(f,h,g,p,y,b);if(j!==void 0)return j;if(typeof f==typeof h)switch(typeof f){case"bigint":case"string":case"boolean":case"symbol":case"undefined":return f===h;case"number":return f===h||Object.is(f,h);case"function":return f===h;case"object":return d(f,h,b,w)}return d(f,h,b,w)}function d(f,h,g,p){if(Object.is(f,h))return!0;let y=n.getTag(f),b=n.getTag(h);if(y===s.argumentsTag&&(y=s.objectTag),b===s.argumentsTag&&(b=s.objectTag),y!==b)return!1;switch(y){case s.stringTag:return f.toString()===h.toString();case s.numberTag:{const S=f.valueOf(),k=h.valueOf();return i.eq(S,k)}case s.booleanTag:case s.dateTag:case s.symbolTag:return Object.is(f.valueOf(),h.valueOf());case s.regexpTag:return f.source===h.source&&f.flags===h.flags;case s.functionTag:return f===h}g=g??new Map;const w=g.get(f),j=g.get(h);if(w!=null&&j!=null)return w===h;g.set(f,h),g.set(h,f);try{switch(y){case s.mapTag:{if(f.size!==h.size)return!1;for(const[S,k]of f.entries())if(!h.has(S)||!c(k,h.get(S),S,f,h,g,p))return!1;return!0}case s.setTag:{if(f.size!==h.size)return!1;const S=Array.from(f.values()),k=Array.from(h.values());for(let E=0;E<S.length;E++){const C=S[E],T=k.findIndex(A=>c(C,A,void 0,f,h,g,p));if(T===-1)return!1;k.splice(T,1)}return!0}case s.arrayTag:case s.uint8ArrayTag:case s.uint8ClampedArrayTag:case s.uint16ArrayTag:case s.uint32ArrayTag:case s.bigUint64ArrayTag:case s.int8ArrayTag:case s.int16ArrayTag:case s.int32ArrayTag:case s.bigInt64ArrayTag:case s.float32ArrayTag:case s.float64ArrayTag:{if(typeof Buffer<"u"&&Buffer.isBuffer(f)!==Buffer.isBuffer(h)||f.length!==h.length)return!1;for(let S=0;S<f.length;S++)if(!c(f[S],h[S],S,f,h,g,p))return!1;return!0}case s.arrayBufferTag:return f.byteLength!==h.byteLength?!1:d(new Uint8Array(f),new Uint8Array(h),g,p);case s.dataViewTag:return f.byteLength!==h.byteLength||f.byteOffset!==h.byteOffset?!1:d(new Uint8Array(f),new Uint8Array(h),g,p);case s.errorTag:return f.name===h.name&&f.message===h.message;case s.objectTag:{if(!(d(f.constructor,h.constructor,g,p)||t.isPlainObject(f)&&t.isPlainObject(h)))return!1;const k=[...Object.keys(f),...r.getSymbols(f)],E=[...Object.keys(h),...r.getSymbols(h)];if(k.length!==E.length)return!1;for(let C=0;C<k.length;C++){const T=k[C],A=f[T];if(!Object.hasOwn(h,T))return!1;const O=h[T];if(!c(A,O,T,f,h,g,p))return!1}return!0}default:return!1}}finally{g.delete(f),g.delete(h)}}e.isEqualWith=l}(Ow)),Ow}var Pw={},pO;function Jne(){return pO||(pO=1,function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(){}e.noop=t}(Pw)),Pw}var xO;function eae(){return xO||(xO=1,function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=Zne(),r=Jne();function n(s,i){return t.isEqualWith(s,i,r.noop)}e.isEqual=n}(Cw)),Cw}var Mw,yO;function tae(){return yO||(yO=1,Mw=eae().isEqual),Mw}var rae=tae();const nae=xs(rae);function aae(e){var t={},r=()=>null,n=!1,s=null,i=l=>{if(!n){if(Array.isArray(l)){if(!l.length)return;var c=l,[d,...f]=c;if(typeof d=="number"){s=e.setTimeout(i.bind(null,f),d);return}i(d),s=e.setTimeout(i.bind(null,f));return}typeof l=="object"&&(t=l,r(t)),typeof l=="function"&&l()}};return{stop:()=>{n=!0},start:l=>{n=!1,s&&(s(),s=null),i(l)},subscribe:l=>(r=l,()=>{r=()=>null}),getTimeoutController:()=>e}}var Yp=1e-4,d7=(e,t)=>[0,3*e,3*t-6*e,3*e-3*t+1],f7=(e,t)=>e.map((r,n)=>r*t**n).reduce((r,n)=>r+n),vO=(e,t)=>r=>{var n=d7(e,t);return f7(n,r)},sae=(e,t)=>r=>{var n=d7(e,t),s=[...n.map((i,l)=>i*l).slice(1),0];return f7(s,r)},bO=function(){for(var t,r,n,s,i=arguments.length,l=new Array(i),c=0;c<i;c++)l[c]=arguments[c];if(l.length===1)switch(l[0]){case"linear":[t,n,r,s]=[0,0,1,1];break;case"ease":[t,n,r,s]=[.25,.1,.25,1];break;case"ease-in":[t,n,r,s]=[.42,0,1,1];break;case"ease-out":[t,n,r,s]=[.42,0,.58,1];break;case"ease-in-out":[t,n,r,s]=[0,0,.58,1];break;default:{var d=l[0].split("(");d[0]==="cubic-bezier"&&d[1].split(")")[0].split(",").length===4&&([t,n,r,s]=d[1].split(")")[0].split(",").map(b=>parseFloat(b)))}}else l.length===4&&([t,n,r,s]=l);var f=vO(t,r),h=vO(n,s),g=sae(t,r),p=b=>b>1?1:b<0?0:b,y=b=>{for(var w=b>1?1:b,j=w,S=0;S<8;++S){var k=f(j)-w,E=g(j);if(Math.abs(k-w)<Yp||E<Yp)return h(j);j=p(j-k/E)}return h(j)};return y.isStepper=!1,y},iae=function(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},{stiff:r=100,damping:n=8,dt:s=17}=t,i=(l,c,d)=>{var f=-(l-c)*r,h=d*n,g=d+(f-h)*s/1e3,p=d*s/1e3+l;return Math.abs(p-c)<Yp&&Math.abs(g)<Yp?[c,0]:[p,g]};return i.isStepper=!0,i.dt=s,i},lae=e=>{if(typeof e=="string")switch(e){case"ease":case"ease-in-out":case"ease-out":case"ease-in":case"linear":return bO(e);case"spring":return iae();default:if(e.split("(")[0]==="cubic-bezier")return bO(e)}return typeof e=="function"?e:null};function wO(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,n)}return r}function jO(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?wO(Object(r),!0).forEach(function(n){oae(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):wO(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function oae(e,t,r){return(t=cae(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function cae(e){var t=uae(e,"string");return typeof t=="symbol"?t:t+""}function uae(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var dae=e=>e.replace(/([A-Z])/g,t=>"-".concat(t.toLowerCase())),fae=(e,t,r)=>e.map(n=>"".concat(dae(n)," ").concat(t,"ms ").concat(r)).join(","),hae=(e,t)=>[Object.keys(e),Object.keys(t)].reduce((r,n)=>r.filter(s=>n.includes(s))),kh=(e,t)=>Object.keys(t).reduce((r,n)=>jO(jO({},r),{},{[n]:e(n,t[n])}),{});function NO(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,n)}return r}function Un(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?NO(Object(r),!0).forEach(function(n){mae(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):NO(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function mae(e,t,r){return(t=gae(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function gae(e){var t=pae(e,"string");return typeof t=="symbol"?t:t+""}function pae(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var Xp=(e,t,r)=>e+(t-e)*r,Bj=e=>{var{from:t,to:r}=e;return t!==r},h7=(e,t,r)=>{var n=kh((s,i)=>{if(Bj(i)){var[l,c]=e(i.from,i.to,i.velocity);return Un(Un({},i),{},{from:l,velocity:c})}return i},t);return r<1?kh((s,i)=>Bj(i)?Un(Un({},i),{},{velocity:Xp(i.velocity,n[s].velocity,r),from:Xp(i.from,n[s].from,r)}):i,t):h7(e,n,r-1)};function xae(e,t,r,n,s,i){var l,c=n.reduce((p,y)=>Un(Un({},p),{},{[y]:{from:e[y],velocity:0,to:t[y]}}),{}),d=()=>kh((p,y)=>y.from,c),f=()=>!Object.values(c).filter(Bj).length,h=null,g=p=>{l||(l=p);var y=p-l,b=y/r.dt;c=h7(r,c,b),s(Un(Un(Un({},e),t),d())),l=p,f()||(h=i.setTimeout(g))};return()=>(h=i.setTimeout(g),()=>{h()})}function yae(e,t,r,n,s,i,l){var c=null,d=s.reduce((g,p)=>Un(Un({},g),{},{[p]:[e[p],t[p]]}),{}),f,h=g=>{f||(f=g);var p=(g-f)/n,y=kh((w,j)=>Xp(...j,r(p)),d);if(i(Un(Un(Un({},e),t),y)),p<1)c=l.setTimeout(h);else{var b=kh((w,j)=>Xp(...j,r(1)),d);i(Un(Un(Un({},e),t),b))}};return()=>(c=l.setTimeout(h),()=>{c()})}const vae=(e,t,r,n,s,i)=>{var l=hae(e,t);return r.isStepper===!0?xae(e,t,r,l,s,i):yae(e,t,r,n,l,s,i)};class bae{setTimeout(t){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,n=performance.now(),s=null,i=l=>{l-n>=r?t(l):typeof requestAnimationFrame=="function"&&(s=requestAnimationFrame(i))};return s=requestAnimationFrame(i),()=>{cancelAnimationFrame(s)}}}var wae=["children","begin","duration","attributeName","easing","isActive","from","to","canBegin","onAnimationEnd","shouldReAnimate","onAnimationReStart","animationManager"];function $j(){return $j=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},$j.apply(null,arguments)}function jae(e,t){if(e==null)return{};var r,n,s=Nae(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(n=0;n<i.length;n++)r=i[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(s[r]=e[r])}return s}function Nae(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}function SO(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,n)}return r}function co(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?SO(Object(r),!0).forEach(function(n){Fc(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):SO(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Fc(e,t,r){return(t=Sae(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Sae(e){var t=_ae(e,"string");return typeof t=="symbol"?t:t+""}function _ae(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function kae(){return aae(new bae)}class t_ extends v.PureComponent{constructor(t,r){super(t,r),Fc(this,"mounted",!1),Fc(this,"manager",null),Fc(this,"stopJSAnimation",null),Fc(this,"unSubscribe",null);var{isActive:n,attributeName:s,from:i,to:l,children:c,duration:d,animationManager:f}=this.props;if(this.manager=f,this.handleStyleChange=this.handleStyleChange.bind(this),this.changeStyle=this.changeStyle.bind(this),!n||d<=0){this.state={style:{}},typeof c=="function"&&(this.state={style:l});return}if(i){if(typeof c=="function"){this.state={style:i};return}this.state={style:s?{[s]:i}:i}}else this.state={style:{}}}componentDidMount(){var{isActive:t,canBegin:r}=this.props;this.mounted=!0,!(!t||!r)&&this.runAnimation(this.props)}componentDidUpdate(t){var{isActive:r,canBegin:n,attributeName:s,shouldReAnimate:i,to:l,from:c}=this.props,{style:d}=this.state;if(n){if(!r){var f={style:s?{[s]:l}:l};this.state&&d&&(s&&d[s]!==l||!s&&d!==l)&&this.setState(f);return}if(!(nae(t.to,l)&&t.canBegin&&t.isActive)){var h=!t.canBegin||!t.isActive;this.manager.stop(),this.stopJSAnimation&&this.stopJSAnimation();var g=h||i?c:t.to;if(this.state&&d){var p={style:s?{[s]:g}:g};(s&&d[s]!==g||!s&&d!==g)&&this.setState(p)}this.runAnimation(co(co({},this.props),{},{from:g,begin:0}))}}}componentWillUnmount(){this.mounted=!1;var{onAnimationEnd:t}=this.props;this.unSubscribe&&this.unSubscribe(),this.manager.stop(),this.stopJSAnimation&&this.stopJSAnimation(),t&&t()}handleStyleChange(t){this.changeStyle(t)}changeStyle(t){this.mounted&&this.setState({style:t})}runJSAnimation(t){var{from:r,to:n,duration:s,easing:i,begin:l,onAnimationEnd:c,onAnimationStart:d}=t,f=vae(r,n,lae(i),s,this.changeStyle,this.manager.getTimeoutController()),h=()=>{this.stopJSAnimation=f()};this.manager.start([d,l,h,s,c])}runAnimation(t){var{begin:r,duration:n,attributeName:s,to:i,easing:l,onAnimationStart:c,onAnimationEnd:d,children:f}=t;if(this.unSubscribe=this.manager.subscribe(this.handleStyleChange),typeof l=="function"||typeof f=="function"||l==="spring"){this.runJSAnimation(t);return}var h=s?{[s]:i}:i,g=fae(Object.keys(h),n,l);this.manager.start([c,r,co(co({},h),{},{transition:g}),n,d])}render(){var t=this.props,{children:r,begin:n,duration:s,attributeName:i,easing:l,isActive:c,from:d,to:f,canBegin:h,onAnimationEnd:g,shouldReAnimate:p,onAnimationReStart:y,animationManager:b}=t,w=jae(t,wae),j=v.Children.count(r),S=this.state.style;if(typeof r=="function")return r(S);if(!c||j===0||s<=0)return r;var k=E=>{var{style:C={},className:T}=E.props,A=v.cloneElement(E,co(co({},w),{},{style:co(co({},C),S),className:T}));return A};return j===1?k(v.Children.only(r)):v.createElement("div",null,v.Children.map(r,E=>k(E)))}}Fc(t_,"displayName","Animate");Fc(t_,"defaultProps",{begin:0,duration:1e3,attributeName:"",easing:"ease",isActive:!0,canBegin:!0,onAnimationEnd:()=>{},onAnimationStart:()=>{}});var Eae=v.createContext(null);function Fo(e){var t,r,n=v.useContext(Eae);return v.createElement(t_,$j({},e,{animationManager:(t=(r=e.animationManager)!==null&&r!==void 0?r:n)!==null&&t!==void 0?t:kae()}))}function Qp(){return Qp=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Qp.apply(null,arguments)}var _O=(e,t,r,n,s)=>{var i=Math.min(Math.abs(r)/2,Math.abs(n)/2),l=n>=0?1:-1,c=r>=0?1:-1,d=n>=0&&r>=0||n<0&&r<0?1:0,f;if(i>0&&s instanceof Array){for(var h=[0,0,0,0],g=0,p=4;g<p;g++)h[g]=s[g]>i?i:s[g];f="M".concat(e,",").concat(t+l*h[0]),h[0]>0&&(f+="A ".concat(h[0],",").concat(h[0],",0,0,").concat(d,",").concat(e+c*h[0],",").concat(t)),f+="L ".concat(e+r-c*h[1],",").concat(t),h[1]>0&&(f+="A ".concat(h[1],",").concat(h[1],",0,0,").concat(d,`,
        `).concat(e+r,",").concat(t+l*h[1])),f+="L ".concat(e+r,",").concat(t+n-l*h[2]),h[2]>0&&(f+="A ".concat(h[2],",").concat(h[2],",0,0,").concat(d,`,
        `).concat(e+r-c*h[2],",").concat(t+n)),f+="L ".concat(e+c*h[3],",").concat(t+n),h[3]>0&&(f+="A ".concat(h[3],",").concat(h[3],",0,0,").concat(d,`,
        `).concat(e,",").concat(t+n-l*h[3])),f+="Z"}else if(i>0&&s===+s&&s>0){var y=Math.min(i,s);f="M ".concat(e,",").concat(t+l*y,`
            A `).concat(y,",").concat(y,",0,0,").concat(d,",").concat(e+c*y,",").concat(t,`
            L `).concat(e+r-c*y,",").concat(t,`
            A `).concat(y,",").concat(y,",0,0,").concat(d,",").concat(e+r,",").concat(t+l*y,`
            L `).concat(e+r,",").concat(t+n-l*y,`
            A `).concat(y,",").concat(y,",0,0,").concat(d,",").concat(e+r-c*y,",").concat(t+n,`
            L `).concat(e+c*y,",").concat(t+n,`
            A `).concat(y,",").concat(y,",0,0,").concat(d,",").concat(e,",").concat(t+n-l*y," Z")}else f="M ".concat(e,",").concat(t," h ").concat(r," v ").concat(n," h ").concat(-r," Z");return f},Tae={x:0,y:0,width:0,height:0,radius:0,isAnimationActive:!1,isUpdateAnimationActive:!1,animationBegin:0,animationDuration:1500,animationEasing:"ease"},m7=e=>{var t=Gs(e,Tae),r=v.useRef(null),[n,s]=v.useState(-1);v.useEffect(()=>{if(r.current&&r.current.getTotalLength)try{var S=r.current.getTotalLength();S&&s(S)}catch{}},[]);var{x:i,y:l,width:c,height:d,radius:f,className:h}=t,{animationEasing:g,animationDuration:p,animationBegin:y,isAnimationActive:b,isUpdateAnimationActive:w}=t;if(i!==+i||l!==+l||c!==+c||d!==+d||c===0||d===0)return null;var j=Ut("recharts-rectangle",h);return w?v.createElement(Fo,{canBegin:n>0,from:{width:c,height:d,x:i,y:l},to:{width:c,height:d,x:i,y:l},duration:p,animationEasing:g,isActive:w},S=>{var{width:k,height:E,x:C,y:T}=S;return v.createElement(Fo,{canBegin:n>0,from:"0px ".concat(n===-1?1:n,"px"),to:"".concat(n,"px 0px"),attributeName:"strokeDasharray",begin:y,duration:p,isActive:b,easing:g},v.createElement("path",Qp({},Dt(t,!0),{className:j,d:_O(C,T,k,E,f),ref:r})))}):v.createElement("path",Qp({},Dt(t,!0),{className:j,d:_O(i,l,c,d,f)}))};function g7(e){var{cx:t,cy:r,radius:n,startAngle:s,endAngle:i}=e,l=ln(t,r,n,s),c=ln(t,r,n,i);return{points:[l,c],cx:t,cy:r,radius:n,startAngle:s,endAngle:i}}function Uj(){return Uj=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Uj.apply(null,arguments)}var Aae=(e,t)=>{var r=Sn(t-e),n=Math.min(Math.abs(t-e),359.999);return r*n},Kg=e=>{var{cx:t,cy:r,radius:n,angle:s,sign:i,isExternal:l,cornerRadius:c,cornerIsExternal:d}=e,f=c*(l?1:-1)+n,h=Math.asin(c/f)/Kp,g=d?s:s+i*h,p=ln(t,r,f,g),y=ln(t,r,n,g),b=d?s-i*h:s,w=ln(t,r,f*Math.cos(h*Kp),b);return{center:p,circleTangency:y,lineTangency:w,theta:h}},p7=e=>{var{cx:t,cy:r,innerRadius:n,outerRadius:s,startAngle:i,endAngle:l}=e,c=Aae(i,l),d=i+c,f=ln(t,r,s,i),h=ln(t,r,s,d),g="M ".concat(f.x,",").concat(f.y,`
    A `).concat(s,",").concat(s,`,0,
    `).concat(+(Math.abs(c)>180),",").concat(+(i>d),`,
    `).concat(h.x,",").concat(h.y,`
  `);if(n>0){var p=ln(t,r,n,i),y=ln(t,r,n,d);g+="L ".concat(y.x,",").concat(y.y,`
            A `).concat(n,",").concat(n,`,0,
            `).concat(+(Math.abs(c)>180),",").concat(+(i<=d),`,
            `).concat(p.x,",").concat(p.y," Z")}else g+="L ".concat(t,",").concat(r," Z");return g},Cae=e=>{var{cx:t,cy:r,innerRadius:n,outerRadius:s,cornerRadius:i,forceCornerRadius:l,cornerIsExternal:c,startAngle:d,endAngle:f}=e,h=Sn(f-d),{circleTangency:g,lineTangency:p,theta:y}=Kg({cx:t,cy:r,radius:s,angle:d,sign:h,cornerRadius:i,cornerIsExternal:c}),{circleTangency:b,lineTangency:w,theta:j}=Kg({cx:t,cy:r,radius:s,angle:f,sign:-h,cornerRadius:i,cornerIsExternal:c}),S=c?Math.abs(d-f):Math.abs(d-f)-y-j;if(S<0)return l?"M ".concat(p.x,",").concat(p.y,`
        a`).concat(i,",").concat(i,",0,0,1,").concat(i*2,`,0
        a`).concat(i,",").concat(i,",0,0,1,").concat(-i*2,`,0
      `):p7({cx:t,cy:r,innerRadius:n,outerRadius:s,startAngle:d,endAngle:f});var k="M ".concat(p.x,",").concat(p.y,`
    A`).concat(i,",").concat(i,",0,0,").concat(+(h<0),",").concat(g.x,",").concat(g.y,`
    A`).concat(s,",").concat(s,",0,").concat(+(S>180),",").concat(+(h<0),",").concat(b.x,",").concat(b.y,`
    A`).concat(i,",").concat(i,",0,0,").concat(+(h<0),",").concat(w.x,",").concat(w.y,`
  `);if(n>0){var{circleTangency:E,lineTangency:C,theta:T}=Kg({cx:t,cy:r,radius:n,angle:d,sign:h,isExternal:!0,cornerRadius:i,cornerIsExternal:c}),{circleTangency:A,lineTangency:O,theta:D}=Kg({cx:t,cy:r,radius:n,angle:f,sign:-h,isExternal:!0,cornerRadius:i,cornerIsExternal:c}),R=c?Math.abs(d-f):Math.abs(d-f)-T-D;if(R<0&&i===0)return"".concat(k,"L").concat(t,",").concat(r,"Z");k+="L".concat(O.x,",").concat(O.y,`
      A`).concat(i,",").concat(i,",0,0,").concat(+(h<0),",").concat(A.x,",").concat(A.y,`
      A`).concat(n,",").concat(n,",0,").concat(+(R>180),",").concat(+(h>0),",").concat(E.x,",").concat(E.y,`
      A`).concat(i,",").concat(i,",0,0,").concat(+(h<0),",").concat(C.x,",").concat(C.y,"Z")}else k+="L".concat(t,",").concat(r,"Z");return k},Oae={cx:0,cy:0,innerRadius:0,outerRadius:0,startAngle:0,endAngle:0,cornerRadius:0,forceCornerRadius:!1,cornerIsExternal:!1},x7=e=>{var t=Gs(e,Oae),{cx:r,cy:n,innerRadius:s,outerRadius:i,cornerRadius:l,forceCornerRadius:c,cornerIsExternal:d,startAngle:f,endAngle:h,className:g}=t;if(i<s||f===h)return null;var p=Ut("recharts-sector",g),y=i-s,b=xa(l,y,0,!0),w;return b>0&&Math.abs(f-h)<360?w=Cae({cx:r,cy:n,innerRadius:s,outerRadius:i,cornerRadius:Math.min(b,y/2),forceCornerRadius:c,cornerIsExternal:d,startAngle:f,endAngle:h}):w=p7({cx:r,cy:n,innerRadius:s,outerRadius:i,startAngle:f,endAngle:h}),v.createElement("path",Uj({},Dt(t,!0),{className:p,d:w}))};function Dae(e,t,r){var n,s,i,l;if(e==="horizontal")n=t.x,i=n,s=r.top,l=r.top+r.height;else if(e==="vertical")s=t.y,l=s,n=r.left,i=r.left+r.width;else if(t.cx!=null&&t.cy!=null)if(e==="centric"){var{cx:c,cy:d,innerRadius:f,outerRadius:h,angle:g}=t,p=ln(c,d,f,g),y=ln(c,d,h,g);n=p.x,s=p.y,i=y.x,l=y.y}else return g7(t);return[{x:n,y:s},{x:i,y:l}]}var Rw={},Iw={},Fw={},kO;function Pae(){return kO||(kO=1,function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=SI();function r(n){return t.isSymbol(n)?NaN:Number(n)}e.toNumber=r}(Fw)),Fw}var EO;function Mae(){return EO||(EO=1,function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=Pae();function r(n){return n?(n=t.toNumber(n),n===1/0||n===-1/0?(n<0?-1:1)*Number.MAX_VALUE:n===n?n:0):n===0?n:0}e.toFinite=r}(Iw)),Iw}var TO;function Rae(){return TO||(TO=1,function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=_I(),r=Mae();function n(s,i,l){l&&typeof l!="number"&&t.isIterateeCall(s,i,l)&&(i=l=void 0),s=r.toFinite(s),i===void 0?(i=s,s=0):i=r.toFinite(i),l=l===void 0?s<i?1:-1:r.toFinite(l);const c=Math.max(Math.ceil((i-s)/(l||1)),0),d=new Array(c);for(let f=0;f<c;f++)d[f]=s,s+=l;return d}e.range=n}(Rw)),Rw}var Lw,AO;function Iae(){return AO||(AO=1,Lw=Rae().range),Lw}var Fae=Iae();const y7=xs(Fae);function _o(e,t){return e==null||t==null?NaN:e<t?-1:e>t?1:e>=t?0:NaN}function Lae(e,t){return e==null||t==null?NaN:t<e?-1:t>e?1:t>=e?0:NaN}function r_(e){let t,r,n;e.length!==2?(t=_o,r=(c,d)=>_o(e(c),d),n=(c,d)=>e(c)-d):(t=e===_o||e===Lae?e:Bae,r=e,n=e);function s(c,d,f=0,h=c.length){if(f<h){if(t(d,d)!==0)return h;do{const g=f+h>>>1;r(c[g],d)<0?f=g+1:h=g}while(f<h)}return f}function i(c,d,f=0,h=c.length){if(f<h){if(t(d,d)!==0)return h;do{const g=f+h>>>1;r(c[g],d)<=0?f=g+1:h=g}while(f<h)}return f}function l(c,d,f=0,h=c.length){const g=s(c,d,f,h-1);return g>f&&n(c[g-1],d)>-n(c[g],d)?g-1:g}return{left:s,center:l,right:i}}function Bae(){return 0}function v7(e){return e===null?NaN:+e}function*$ae(e,t){for(let r of e)r!=null&&(r=+r)>=r&&(yield r)}const Uae=r_(_o),om=Uae.right;r_(v7).center;class CO extends Map{constructor(t,r=Vae){if(super(),Object.defineProperties(this,{_intern:{value:new Map},_key:{value:r}}),t!=null)for(const[n,s]of t)this.set(n,s)}get(t){return super.get(OO(this,t))}has(t){return super.has(OO(this,t))}set(t,r){return super.set(zae(this,t),r)}delete(t){return super.delete(Hae(this,t))}}function OO({_intern:e,_key:t},r){const n=t(r);return e.has(n)?e.get(n):r}function zae({_intern:e,_key:t},r){const n=t(r);return e.has(n)?e.get(n):(e.set(n,r),r)}function Hae({_intern:e,_key:t},r){const n=t(r);return e.has(n)&&(r=e.get(n),e.delete(n)),r}function Vae(e){return e!==null&&typeof e=="object"?e.valueOf():e}function qae(e=_o){if(e===_o)return b7;if(typeof e!="function")throw new TypeError("compare is not a function");return(t,r)=>{const n=e(t,r);return n||n===0?n:(e(r,r)===0)-(e(t,t)===0)}}function b7(e,t){return(e==null||!(e>=e))-(t==null||!(t>=t))||(e<t?-1:e>t?1:0)}const Wae=Math.sqrt(50),Gae=Math.sqrt(10),Kae=Math.sqrt(2);function Zp(e,t,r){const n=(t-e)/Math.max(0,r),s=Math.floor(Math.log10(n)),i=n/Math.pow(10,s),l=i>=Wae?10:i>=Gae?5:i>=Kae?2:1;let c,d,f;return s<0?(f=Math.pow(10,-s)/l,c=Math.round(e*f),d=Math.round(t*f),c/f<e&&++c,d/f>t&&--d,f=-f):(f=Math.pow(10,s)*l,c=Math.round(e/f),d=Math.round(t/f),c*f<e&&++c,d*f>t&&--d),d<c&&.5<=r&&r<2?Zp(e,t,r*2):[c,d,f]}function zj(e,t,r){if(t=+t,e=+e,r=+r,!(r>0))return[];if(e===t)return[e];const n=t<e,[s,i,l]=n?Zp(t,e,r):Zp(e,t,r);if(!(i>=s))return[];const c=i-s+1,d=new Array(c);if(n)if(l<0)for(let f=0;f<c;++f)d[f]=(i-f)/-l;else for(let f=0;f<c;++f)d[f]=(i-f)*l;else if(l<0)for(let f=0;f<c;++f)d[f]=(s+f)/-l;else for(let f=0;f<c;++f)d[f]=(s+f)*l;return d}function Hj(e,t,r){return t=+t,e=+e,r=+r,Zp(e,t,r)[2]}function Vj(e,t,r){t=+t,e=+e,r=+r;const n=t<e,s=n?Hj(t,e,r):Hj(e,t,r);return(n?-1:1)*(s<0?1/-s:s)}function DO(e,t){let r;for(const n of e)n!=null&&(r<n||r===void 0&&n>=n)&&(r=n);return r}function PO(e,t){let r;for(const n of e)n!=null&&(r>n||r===void 0&&n>=n)&&(r=n);return r}function w7(e,t,r=0,n=1/0,s){if(t=Math.floor(t),r=Math.floor(Math.max(0,r)),n=Math.floor(Math.min(e.length-1,n)),!(r<=t&&t<=n))return e;for(s=s===void 0?b7:qae(s);n>r;){if(n-r>600){const d=n-r+1,f=t-r+1,h=Math.log(d),g=.5*Math.exp(2*h/3),p=.5*Math.sqrt(h*g*(d-g)/d)*(f-d/2<0?-1:1),y=Math.max(r,Math.floor(t-f*g/d+p)),b=Math.min(n,Math.floor(t+(d-f)*g/d+p));w7(e,t,y,b,s)}const i=e[t];let l=r,c=n;for(w0(e,r,t),s(e[n],i)>0&&w0(e,r,n);l<c;){for(w0(e,l,c),++l,--c;s(e[l],i)<0;)++l;for(;s(e[c],i)>0;)--c}s(e[r],i)===0?w0(e,r,c):(++c,w0(e,c,n)),c<=t&&(r=c+1),t<=c&&(n=c-1)}return e}function w0(e,t,r){const n=e[t];e[t]=e[r],e[r]=n}function Yae(e,t,r){if(e=Float64Array.from($ae(e)),!(!(n=e.length)||isNaN(t=+t))){if(t<=0||n<2)return PO(e);if(t>=1)return DO(e);var n,s=(n-1)*t,i=Math.floor(s),l=DO(w7(e,i).subarray(0,i+1)),c=PO(e.subarray(i+1));return l+(c-l)*(s-i)}}function Xae(e,t,r=v7){if(!(!(n=e.length)||isNaN(t=+t))){if(t<=0||n<2)return+r(e[0],0,e);if(t>=1)return+r(e[n-1],n-1,e);var n,s=(n-1)*t,i=Math.floor(s),l=+r(e[i],i,e),c=+r(e[i+1],i+1,e);return l+(c-l)*(s-i)}}function Qae(e,t,r){e=+e,t=+t,r=(s=arguments.length)<2?(t=e,e=0,1):s<3?1:+r;for(var n=-1,s=Math.max(0,Math.ceil((t-e)/r))|0,i=new Array(s);++n<s;)i[n]=e+n*r;return i}function Ks(e,t){switch(arguments.length){case 0:break;case 1:this.range(e);break;default:this.range(t).domain(e);break}return this}function Pl(e,t){switch(arguments.length){case 0:break;case 1:{typeof e=="function"?this.interpolator(e):this.range(e);break}default:{this.domain(e),typeof t=="function"?this.interpolator(t):this.range(t);break}}return this}const qj=Symbol("implicit");function n_(){var e=new CO,t=[],r=[],n=qj;function s(i){let l=e.get(i);if(l===void 0){if(n!==qj)return n;e.set(i,l=t.push(i)-1)}return r[l%r.length]}return s.domain=function(i){if(!arguments.length)return t.slice();t=[],e=new CO;for(const l of i)e.has(l)||e.set(l,t.push(l)-1);return s},s.range=function(i){return arguments.length?(r=Array.from(i),s):r.slice()},s.unknown=function(i){return arguments.length?(n=i,s):n},s.copy=function(){return n_(t,r).unknown(n)},Ks.apply(s,arguments),s}function a_(){var e=n_().unknown(void 0),t=e.domain,r=e.range,n=0,s=1,i,l,c=!1,d=0,f=0,h=.5;delete e.unknown;function g(){var p=t().length,y=s<n,b=y?s:n,w=y?n:s;i=(w-b)/Math.max(1,p-d+f*2),c&&(i=Math.floor(i)),b+=(w-b-i*(p-d))*h,l=i*(1-d),c&&(b=Math.round(b),l=Math.round(l));var j=Qae(p).map(function(S){return b+i*S});return r(y?j.reverse():j)}return e.domain=function(p){return arguments.length?(t(p),g()):t()},e.range=function(p){return arguments.length?([n,s]=p,n=+n,s=+s,g()):[n,s]},e.rangeRound=function(p){return[n,s]=p,n=+n,s=+s,c=!0,g()},e.bandwidth=function(){return l},e.step=function(){return i},e.round=function(p){return arguments.length?(c=!!p,g()):c},e.padding=function(p){return arguments.length?(d=Math.min(1,f=+p),g()):d},e.paddingInner=function(p){return arguments.length?(d=Math.min(1,p),g()):d},e.paddingOuter=function(p){return arguments.length?(f=+p,g()):f},e.align=function(p){return arguments.length?(h=Math.max(0,Math.min(1,p)),g()):h},e.copy=function(){return a_(t(),[n,s]).round(c).paddingInner(d).paddingOuter(f).align(h)},Ks.apply(g(),arguments)}function j7(e){var t=e.copy;return e.padding=e.paddingOuter,delete e.paddingInner,delete e.paddingOuter,e.copy=function(){return j7(t())},e}function Zae(){return j7(a_.apply(null,arguments).paddingInner(1))}function s_(e,t,r){e.prototype=t.prototype=r,r.constructor=e}function N7(e,t){var r=Object.create(e.prototype);for(var n in t)r[n]=t[n];return r}function cm(){}var Eh=.7,Jp=1/Eh,vd="\\s*([+-]?\\d+)\\s*",Th="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)\\s*",Ii="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*",Jae=/^#([0-9a-f]{3,8})$/,ese=new RegExp(`^rgb\\(${vd},${vd},${vd}\\)$`),tse=new RegExp(`^rgb\\(${Ii},${Ii},${Ii}\\)$`),rse=new RegExp(`^rgba\\(${vd},${vd},${vd},${Th}\\)$`),nse=new RegExp(`^rgba\\(${Ii},${Ii},${Ii},${Th}\\)$`),ase=new RegExp(`^hsl\\(${Th},${Ii},${Ii}\\)$`),sse=new RegExp(`^hsla\\(${Th},${Ii},${Ii},${Th}\\)$`),MO={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};s_(cm,Ah,{copy(e){return Object.assign(new this.constructor,this,e)},displayable(){return this.rgb().displayable()},hex:RO,formatHex:RO,formatHex8:ise,formatHsl:lse,formatRgb:IO,toString:IO});function RO(){return this.rgb().formatHex()}function ise(){return this.rgb().formatHex8()}function lse(){return S7(this).formatHsl()}function IO(){return this.rgb().formatRgb()}function Ah(e){var t,r;return e=(e+"").trim().toLowerCase(),(t=Jae.exec(e))?(r=t[1].length,t=parseInt(t[1],16),r===6?FO(t):r===3?new Ra(t>>8&15|t>>4&240,t>>4&15|t&240,(t&15)<<4|t&15,1):r===8?Yg(t>>24&255,t>>16&255,t>>8&255,(t&255)/255):r===4?Yg(t>>12&15|t>>8&240,t>>8&15|t>>4&240,t>>4&15|t&240,((t&15)<<4|t&15)/255):null):(t=ese.exec(e))?new Ra(t[1],t[2],t[3],1):(t=tse.exec(e))?new Ra(t[1]*255/100,t[2]*255/100,t[3]*255/100,1):(t=rse.exec(e))?Yg(t[1],t[2],t[3],t[4]):(t=nse.exec(e))?Yg(t[1]*255/100,t[2]*255/100,t[3]*255/100,t[4]):(t=ase.exec(e))?$O(t[1],t[2]/100,t[3]/100,1):(t=sse.exec(e))?$O(t[1],t[2]/100,t[3]/100,t[4]):MO.hasOwnProperty(e)?FO(MO[e]):e==="transparent"?new Ra(NaN,NaN,NaN,0):null}function FO(e){return new Ra(e>>16&255,e>>8&255,e&255,1)}function Yg(e,t,r,n){return n<=0&&(e=t=r=NaN),new Ra(e,t,r,n)}function ose(e){return e instanceof cm||(e=Ah(e)),e?(e=e.rgb(),new Ra(e.r,e.g,e.b,e.opacity)):new Ra}function Wj(e,t,r,n){return arguments.length===1?ose(e):new Ra(e,t,r,n??1)}function Ra(e,t,r,n){this.r=+e,this.g=+t,this.b=+r,this.opacity=+n}s_(Ra,Wj,N7(cm,{brighter(e){return e=e==null?Jp:Math.pow(Jp,e),new Ra(this.r*e,this.g*e,this.b*e,this.opacity)},darker(e){return e=e==null?Eh:Math.pow(Eh,e),new Ra(this.r*e,this.g*e,this.b*e,this.opacity)},rgb(){return this},clamp(){return new Ra(Kc(this.r),Kc(this.g),Kc(this.b),ex(this.opacity))},displayable(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:LO,formatHex:LO,formatHex8:cse,formatRgb:BO,toString:BO}));function LO(){return`#${Lc(this.r)}${Lc(this.g)}${Lc(this.b)}`}function cse(){return`#${Lc(this.r)}${Lc(this.g)}${Lc(this.b)}${Lc((isNaN(this.opacity)?1:this.opacity)*255)}`}function BO(){const e=ex(this.opacity);return`${e===1?"rgb(":"rgba("}${Kc(this.r)}, ${Kc(this.g)}, ${Kc(this.b)}${e===1?")":`, ${e})`}`}function ex(e){return isNaN(e)?1:Math.max(0,Math.min(1,e))}function Kc(e){return Math.max(0,Math.min(255,Math.round(e)||0))}function Lc(e){return e=Kc(e),(e<16?"0":"")+e.toString(16)}function $O(e,t,r,n){return n<=0?e=t=r=NaN:r<=0||r>=1?e=t=NaN:t<=0&&(e=NaN),new li(e,t,r,n)}function S7(e){if(e instanceof li)return new li(e.h,e.s,e.l,e.opacity);if(e instanceof cm||(e=Ah(e)),!e)return new li;if(e instanceof li)return e;e=e.rgb();var t=e.r/255,r=e.g/255,n=e.b/255,s=Math.min(t,r,n),i=Math.max(t,r,n),l=NaN,c=i-s,d=(i+s)/2;return c?(t===i?l=(r-n)/c+(r<n)*6:r===i?l=(n-t)/c+2:l=(t-r)/c+4,c/=d<.5?i+s:2-i-s,l*=60):c=d>0&&d<1?0:l,new li(l,c,d,e.opacity)}function use(e,t,r,n){return arguments.length===1?S7(e):new li(e,t,r,n??1)}function li(e,t,r,n){this.h=+e,this.s=+t,this.l=+r,this.opacity=+n}s_(li,use,N7(cm,{brighter(e){return e=e==null?Jp:Math.pow(Jp,e),new li(this.h,this.s,this.l*e,this.opacity)},darker(e){return e=e==null?Eh:Math.pow(Eh,e),new li(this.h,this.s,this.l*e,this.opacity)},rgb(){var e=this.h%360+(this.h<0)*360,t=isNaN(e)||isNaN(this.s)?0:this.s,r=this.l,n=r+(r<.5?r:1-r)*t,s=2*r-n;return new Ra(Bw(e>=240?e-240:e+120,s,n),Bw(e,s,n),Bw(e<120?e+240:e-120,s,n),this.opacity)},clamp(){return new li(UO(this.h),Xg(this.s),Xg(this.l),ex(this.opacity))},displayable(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl(){const e=ex(this.opacity);return`${e===1?"hsl(":"hsla("}${UO(this.h)}, ${Xg(this.s)*100}%, ${Xg(this.l)*100}%${e===1?")":`, ${e})`}`}}));function UO(e){return e=(e||0)%360,e<0?e+360:e}function Xg(e){return Math.max(0,Math.min(1,e||0))}function Bw(e,t,r){return(e<60?t+(r-t)*e/60:e<180?r:e<240?t+(r-t)*(240-e)/60:t)*255}const i_=e=>()=>e;function dse(e,t){return function(r){return e+r*t}}function fse(e,t,r){return e=Math.pow(e,r),t=Math.pow(t,r)-e,r=1/r,function(n){return Math.pow(e+n*t,r)}}function hse(e){return(e=+e)==1?_7:function(t,r){return r-t?fse(t,r,e):i_(isNaN(t)?r:t)}}function _7(e,t){var r=t-e;return r?dse(e,r):i_(isNaN(e)?t:e)}const zO=function e(t){var r=hse(t);function n(s,i){var l=r((s=Wj(s)).r,(i=Wj(i)).r),c=r(s.g,i.g),d=r(s.b,i.b),f=_7(s.opacity,i.opacity);return function(h){return s.r=l(h),s.g=c(h),s.b=d(h),s.opacity=f(h),s+""}}return n.gamma=e,n}(1);function mse(e,t){t||(t=[]);var r=e?Math.min(t.length,e.length):0,n=t.slice(),s;return function(i){for(s=0;s<r;++s)n[s]=e[s]*(1-i)+t[s]*i;return n}}function gse(e){return ArrayBuffer.isView(e)&&!(e instanceof DataView)}function pse(e,t){var r=t?t.length:0,n=e?Math.min(r,e.length):0,s=new Array(n),i=new Array(r),l;for(l=0;l<n;++l)s[l]=ef(e[l],t[l]);for(;l<r;++l)i[l]=t[l];return function(c){for(l=0;l<n;++l)i[l]=s[l](c);return i}}function xse(e,t){var r=new Date;return e=+e,t=+t,function(n){return r.setTime(e*(1-n)+t*n),r}}function tx(e,t){return e=+e,t=+t,function(r){return e*(1-r)+t*r}}function yse(e,t){var r={},n={},s;(e===null||typeof e!="object")&&(e={}),(t===null||typeof t!="object")&&(t={});for(s in t)s in e?r[s]=ef(e[s],t[s]):n[s]=t[s];return function(i){for(s in r)n[s]=r[s](i);return n}}var Gj=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,$w=new RegExp(Gj.source,"g");function vse(e){return function(){return e}}function bse(e){return function(t){return e(t)+""}}function wse(e,t){var r=Gj.lastIndex=$w.lastIndex=0,n,s,i,l=-1,c=[],d=[];for(e=e+"",t=t+"";(n=Gj.exec(e))&&(s=$w.exec(t));)(i=s.index)>r&&(i=t.slice(r,i),c[l]?c[l]+=i:c[++l]=i),(n=n[0])===(s=s[0])?c[l]?c[l]+=s:c[++l]=s:(c[++l]=null,d.push({i:l,x:tx(n,s)})),r=$w.lastIndex;return r<t.length&&(i=t.slice(r),c[l]?c[l]+=i:c[++l]=i),c.length<2?d[0]?bse(d[0].x):vse(t):(t=d.length,function(f){for(var h=0,g;h<t;++h)c[(g=d[h]).i]=g.x(f);return c.join("")})}function ef(e,t){var r=typeof t,n;return t==null||r==="boolean"?i_(t):(r==="number"?tx:r==="string"?(n=Ah(t))?(t=n,zO):wse:t instanceof Ah?zO:t instanceof Date?xse:gse(t)?mse:Array.isArray(t)?pse:typeof t.valueOf!="function"&&typeof t.toString!="function"||isNaN(t)?yse:tx)(e,t)}function l_(e,t){return e=+e,t=+t,function(r){return Math.round(e*(1-r)+t*r)}}function jse(e,t){t===void 0&&(t=e,e=ef);for(var r=0,n=t.length-1,s=t[0],i=new Array(n<0?0:n);r<n;)i[r]=e(s,s=t[++r]);return function(l){var c=Math.max(0,Math.min(n-1,Math.floor(l*=n)));return i[c](l-c)}}function Nse(e){return function(){return e}}function rx(e){return+e}var HO=[0,1];function ga(e){return e}function Kj(e,t){return(t-=e=+e)?function(r){return(r-e)/t}:Nse(isNaN(t)?NaN:.5)}function Sse(e,t){var r;return e>t&&(r=e,e=t,t=r),function(n){return Math.max(e,Math.min(t,n))}}function _se(e,t,r){var n=e[0],s=e[1],i=t[0],l=t[1];return s<n?(n=Kj(s,n),i=r(l,i)):(n=Kj(n,s),i=r(i,l)),function(c){return i(n(c))}}function kse(e,t,r){var n=Math.min(e.length,t.length)-1,s=new Array(n),i=new Array(n),l=-1;for(e[n]<e[0]&&(e=e.slice().reverse(),t=t.slice().reverse());++l<n;)s[l]=Kj(e[l],e[l+1]),i[l]=r(t[l],t[l+1]);return function(c){var d=om(e,c,1,n)-1;return i[d](s[d](c))}}function um(e,t){return t.domain(e.domain()).range(e.range()).interpolate(e.interpolate()).clamp(e.clamp()).unknown(e.unknown())}function hy(){var e=HO,t=HO,r=ef,n,s,i,l=ga,c,d,f;function h(){var p=Math.min(e.length,t.length);return l!==ga&&(l=Sse(e[0],e[p-1])),c=p>2?kse:_se,d=f=null,g}function g(p){return p==null||isNaN(p=+p)?i:(d||(d=c(e.map(n),t,r)))(n(l(p)))}return g.invert=function(p){return l(s((f||(f=c(t,e.map(n),tx)))(p)))},g.domain=function(p){return arguments.length?(e=Array.from(p,rx),h()):e.slice()},g.range=function(p){return arguments.length?(t=Array.from(p),h()):t.slice()},g.rangeRound=function(p){return t=Array.from(p),r=l_,h()},g.clamp=function(p){return arguments.length?(l=p?!0:ga,h()):l!==ga},g.interpolate=function(p){return arguments.length?(r=p,h()):r},g.unknown=function(p){return arguments.length?(i=p,g):i},function(p,y){return n=p,s=y,h()}}function o_(){return hy()(ga,ga)}function Ese(e){return Math.abs(e=Math.round(e))>=1e21?e.toLocaleString("en").replace(/,/g,""):e.toString(10)}function nx(e,t){if((r=(e=t?e.toExponential(t-1):e.toExponential()).indexOf("e"))<0)return null;var r,n=e.slice(0,r);return[n.length>1?n[0]+n.slice(2):n,+e.slice(r+1)]}function Pd(e){return e=nx(Math.abs(e)),e?e[1]:NaN}function Tse(e,t){return function(r,n){for(var s=r.length,i=[],l=0,c=e[0],d=0;s>0&&c>0&&(d+c+1>n&&(c=Math.max(1,n-d)),i.push(r.substring(s-=c,s+c)),!((d+=c+1)>n));)c=e[l=(l+1)%e.length];return i.reverse().join(t)}}function Ase(e){return function(t){return t.replace(/[0-9]/g,function(r){return e[+r]})}}var Cse=/^(?:(.)?([<>=^]))?([+\-( ])?([$#])?(0)?(\d+)?(,)?(\.\d+)?(~)?([a-z%])?$/i;function Ch(e){if(!(t=Cse.exec(e)))throw new Error("invalid format: "+e);var t;return new c_({fill:t[1],align:t[2],sign:t[3],symbol:t[4],zero:t[5],width:t[6],comma:t[7],precision:t[8]&&t[8].slice(1),trim:t[9],type:t[10]})}Ch.prototype=c_.prototype;function c_(e){this.fill=e.fill===void 0?" ":e.fill+"",this.align=e.align===void 0?">":e.align+"",this.sign=e.sign===void 0?"-":e.sign+"",this.symbol=e.symbol===void 0?"":e.symbol+"",this.zero=!!e.zero,this.width=e.width===void 0?void 0:+e.width,this.comma=!!e.comma,this.precision=e.precision===void 0?void 0:+e.precision,this.trim=!!e.trim,this.type=e.type===void 0?"":e.type+""}c_.prototype.toString=function(){return this.fill+this.align+this.sign+this.symbol+(this.zero?"0":"")+(this.width===void 0?"":Math.max(1,this.width|0))+(this.comma?",":"")+(this.precision===void 0?"":"."+Math.max(0,this.precision|0))+(this.trim?"~":"")+this.type};function Ose(e){e:for(var t=e.length,r=1,n=-1,s;r<t;++r)switch(e[r]){case".":n=s=r;break;case"0":n===0&&(n=r),s=r;break;default:if(!+e[r])break e;n>0&&(n=0);break}return n>0?e.slice(0,n)+e.slice(s+1):e}var k7;function Dse(e,t){var r=nx(e,t);if(!r)return e+"";var n=r[0],s=r[1],i=s-(k7=Math.max(-8,Math.min(8,Math.floor(s/3)))*3)+1,l=n.length;return i===l?n:i>l?n+new Array(i-l+1).join("0"):i>0?n.slice(0,i)+"."+n.slice(i):"0."+new Array(1-i).join("0")+nx(e,Math.max(0,t+i-1))[0]}function VO(e,t){var r=nx(e,t);if(!r)return e+"";var n=r[0],s=r[1];return s<0?"0."+new Array(-s).join("0")+n:n.length>s+1?n.slice(0,s+1)+"."+n.slice(s+1):n+new Array(s-n.length+2).join("0")}const qO={"%":(e,t)=>(e*100).toFixed(t),b:e=>Math.round(e).toString(2),c:e=>e+"",d:Ese,e:(e,t)=>e.toExponential(t),f:(e,t)=>e.toFixed(t),g:(e,t)=>e.toPrecision(t),o:e=>Math.round(e).toString(8),p:(e,t)=>VO(e*100,t),r:VO,s:Dse,X:e=>Math.round(e).toString(16).toUpperCase(),x:e=>Math.round(e).toString(16)};function WO(e){return e}var GO=Array.prototype.map,KO=["y","z","a","f","p","n","µ","m","","k","M","G","T","P","E","Z","Y"];function Pse(e){var t=e.grouping===void 0||e.thousands===void 0?WO:Tse(GO.call(e.grouping,Number),e.thousands+""),r=e.currency===void 0?"":e.currency[0]+"",n=e.currency===void 0?"":e.currency[1]+"",s=e.decimal===void 0?".":e.decimal+"",i=e.numerals===void 0?WO:Ase(GO.call(e.numerals,String)),l=e.percent===void 0?"%":e.percent+"",c=e.minus===void 0?"−":e.minus+"",d=e.nan===void 0?"NaN":e.nan+"";function f(g){g=Ch(g);var p=g.fill,y=g.align,b=g.sign,w=g.symbol,j=g.zero,S=g.width,k=g.comma,E=g.precision,C=g.trim,T=g.type;T==="n"?(k=!0,T="g"):qO[T]||(E===void 0&&(E=12),C=!0,T="g"),(j||p==="0"&&y==="=")&&(j=!0,p="0",y="=");var A=w==="$"?r:w==="#"&&/[boxX]/.test(T)?"0"+T.toLowerCase():"",O=w==="$"?n:/[%p]/.test(T)?l:"",D=qO[T],R=/[defgprs%]/.test(T);E=E===void 0?6:/[gprs]/.test(T)?Math.max(1,Math.min(21,E)):Math.max(0,Math.min(20,E));function B(V){var W=A,se=O,oe,Y,Q;if(T==="c")se=D(V)+se,V="";else{V=+V;var te=V<0||1/V<0;if(V=isNaN(V)?d:D(Math.abs(V),E),C&&(V=Ose(V)),te&&+V==0&&b!=="+"&&(te=!1),W=(te?b==="("?b:c:b==="-"||b==="("?"":b)+W,se=(T==="s"?KO[8+k7/3]:"")+se+(te&&b==="("?")":""),R){for(oe=-1,Y=V.length;++oe<Y;)if(Q=V.charCodeAt(oe),48>Q||Q>57){se=(Q===46?s+V.slice(oe+1):V.slice(oe))+se,V=V.slice(0,oe);break}}}k&&!j&&(V=t(V,1/0));var ue=W.length+V.length+se.length,ve=ue<S?new Array(S-ue+1).join(p):"";switch(k&&j&&(V=t(ve+V,ve.length?S-se.length:1/0),ve=""),y){case"<":V=W+V+se+ve;break;case"=":V=W+ve+V+se;break;case"^":V=ve.slice(0,ue=ve.length>>1)+W+V+se+ve.slice(ue);break;default:V=ve+W+V+se;break}return i(V)}return B.toString=function(){return g+""},B}function h(g,p){var y=f((g=Ch(g),g.type="f",g)),b=Math.max(-8,Math.min(8,Math.floor(Pd(p)/3)))*3,w=Math.pow(10,-b),j=KO[8+b/3];return function(S){return y(w*S)+j}}return{format:f,formatPrefix:h}}var Qg,u_,E7;Mse({thousands:",",grouping:[3],currency:["$",""]});function Mse(e){return Qg=Pse(e),u_=Qg.format,E7=Qg.formatPrefix,Qg}function Rse(e){return Math.max(0,-Pd(Math.abs(e)))}function Ise(e,t){return Math.max(0,Math.max(-8,Math.min(8,Math.floor(Pd(t)/3)))*3-Pd(Math.abs(e)))}function Fse(e,t){return e=Math.abs(e),t=Math.abs(t)-e,Math.max(0,Pd(t)-Pd(e))+1}function T7(e,t,r,n){var s=Vj(e,t,r),i;switch(n=Ch(n??",f"),n.type){case"s":{var l=Math.max(Math.abs(e),Math.abs(t));return n.precision==null&&!isNaN(i=Ise(s,l))&&(n.precision=i),E7(n,l)}case"":case"e":case"g":case"p":case"r":{n.precision==null&&!isNaN(i=Fse(s,Math.max(Math.abs(e),Math.abs(t))))&&(n.precision=i-(n.type==="e"));break}case"f":case"%":{n.precision==null&&!isNaN(i=Rse(s))&&(n.precision=i-(n.type==="%")*2);break}}return u_(n)}function Yo(e){var t=e.domain;return e.ticks=function(r){var n=t();return zj(n[0],n[n.length-1],r??10)},e.tickFormat=function(r,n){var s=t();return T7(s[0],s[s.length-1],r??10,n)},e.nice=function(r){r==null&&(r=10);var n=t(),s=0,i=n.length-1,l=n[s],c=n[i],d,f,h=10;for(c<l&&(f=l,l=c,c=f,f=s,s=i,i=f);h-- >0;){if(f=Hj(l,c,r),f===d)return n[s]=l,n[i]=c,t(n);if(f>0)l=Math.floor(l/f)*f,c=Math.ceil(c/f)*f;else if(f<0)l=Math.ceil(l*f)/f,c=Math.floor(c*f)/f;else break;d=f}return e},e}function A7(){var e=o_();return e.copy=function(){return um(e,A7())},Ks.apply(e,arguments),Yo(e)}function C7(e){var t;function r(n){return n==null||isNaN(n=+n)?t:n}return r.invert=r,r.domain=r.range=function(n){return arguments.length?(e=Array.from(n,rx),r):e.slice()},r.unknown=function(n){return arguments.length?(t=n,r):t},r.copy=function(){return C7(e).unknown(t)},e=arguments.length?Array.from(e,rx):[0,1],Yo(r)}function O7(e,t){e=e.slice();var r=0,n=e.length-1,s=e[r],i=e[n],l;return i<s&&(l=r,r=n,n=l,l=s,s=i,i=l),e[r]=t.floor(s),e[n]=t.ceil(i),e}function YO(e){return Math.log(e)}function XO(e){return Math.exp(e)}function Lse(e){return-Math.log(-e)}function Bse(e){return-Math.exp(-e)}function $se(e){return isFinite(e)?+("1e"+e):e<0?0:e}function Use(e){return e===10?$se:e===Math.E?Math.exp:t=>Math.pow(e,t)}function zse(e){return e===Math.E?Math.log:e===10&&Math.log10||e===2&&Math.log2||(e=Math.log(e),t=>Math.log(t)/e)}function QO(e){return(t,r)=>-e(-t,r)}function d_(e){const t=e(YO,XO),r=t.domain;let n=10,s,i;function l(){return s=zse(n),i=Use(n),r()[0]<0?(s=QO(s),i=QO(i),e(Lse,Bse)):e(YO,XO),t}return t.base=function(c){return arguments.length?(n=+c,l()):n},t.domain=function(c){return arguments.length?(r(c),l()):r()},t.ticks=c=>{const d=r();let f=d[0],h=d[d.length-1];const g=h<f;g&&([f,h]=[h,f]);let p=s(f),y=s(h),b,w;const j=c==null?10:+c;let S=[];if(!(n%1)&&y-p<j){if(p=Math.floor(p),y=Math.ceil(y),f>0){for(;p<=y;++p)for(b=1;b<n;++b)if(w=p<0?b/i(-p):b*i(p),!(w<f)){if(w>h)break;S.push(w)}}else for(;p<=y;++p)for(b=n-1;b>=1;--b)if(w=p>0?b/i(-p):b*i(p),!(w<f)){if(w>h)break;S.push(w)}S.length*2<j&&(S=zj(f,h,j))}else S=zj(p,y,Math.min(y-p,j)).map(i);return g?S.reverse():S},t.tickFormat=(c,d)=>{if(c==null&&(c=10),d==null&&(d=n===10?"s":","),typeof d!="function"&&(!(n%1)&&(d=Ch(d)).precision==null&&(d.trim=!0),d=u_(d)),c===1/0)return d;const f=Math.max(1,n*c/t.ticks().length);return h=>{let g=h/i(Math.round(s(h)));return g*n<n-.5&&(g*=n),g<=f?d(h):""}},t.nice=()=>r(O7(r(),{floor:c=>i(Math.floor(s(c))),ceil:c=>i(Math.ceil(s(c)))})),t}function D7(){const e=d_(hy()).domain([1,10]);return e.copy=()=>um(e,D7()).base(e.base()),Ks.apply(e,arguments),e}function ZO(e){return function(t){return Math.sign(t)*Math.log1p(Math.abs(t/e))}}function JO(e){return function(t){return Math.sign(t)*Math.expm1(Math.abs(t))*e}}function f_(e){var t=1,r=e(ZO(t),JO(t));return r.constant=function(n){return arguments.length?e(ZO(t=+n),JO(t)):t},Yo(r)}function P7(){var e=f_(hy());return e.copy=function(){return um(e,P7()).constant(e.constant())},Ks.apply(e,arguments)}function eD(e){return function(t){return t<0?-Math.pow(-t,e):Math.pow(t,e)}}function Hse(e){return e<0?-Math.sqrt(-e):Math.sqrt(e)}function Vse(e){return e<0?-e*e:e*e}function h_(e){var t=e(ga,ga),r=1;function n(){return r===1?e(ga,ga):r===.5?e(Hse,Vse):e(eD(r),eD(1/r))}return t.exponent=function(s){return arguments.length?(r=+s,n()):r},Yo(t)}function m_(){var e=h_(hy());return e.copy=function(){return um(e,m_()).exponent(e.exponent())},Ks.apply(e,arguments),e}function qse(){return m_.apply(null,arguments).exponent(.5)}function tD(e){return Math.sign(e)*e*e}function Wse(e){return Math.sign(e)*Math.sqrt(Math.abs(e))}function M7(){var e=o_(),t=[0,1],r=!1,n;function s(i){var l=Wse(e(i));return isNaN(l)?n:r?Math.round(l):l}return s.invert=function(i){return e.invert(tD(i))},s.domain=function(i){return arguments.length?(e.domain(i),s):e.domain()},s.range=function(i){return arguments.length?(e.range((t=Array.from(i,rx)).map(tD)),s):t.slice()},s.rangeRound=function(i){return s.range(i).round(!0)},s.round=function(i){return arguments.length?(r=!!i,s):r},s.clamp=function(i){return arguments.length?(e.clamp(i),s):e.clamp()},s.unknown=function(i){return arguments.length?(n=i,s):n},s.copy=function(){return M7(e.domain(),t).round(r).clamp(e.clamp()).unknown(n)},Ks.apply(s,arguments),Yo(s)}function R7(){var e=[],t=[],r=[],n;function s(){var l=0,c=Math.max(1,t.length);for(r=new Array(c-1);++l<c;)r[l-1]=Xae(e,l/c);return i}function i(l){return l==null||isNaN(l=+l)?n:t[om(r,l)]}return i.invertExtent=function(l){var c=t.indexOf(l);return c<0?[NaN,NaN]:[c>0?r[c-1]:e[0],c<r.length?r[c]:e[e.length-1]]},i.domain=function(l){if(!arguments.length)return e.slice();e=[];for(let c of l)c!=null&&!isNaN(c=+c)&&e.push(c);return e.sort(_o),s()},i.range=function(l){return arguments.length?(t=Array.from(l),s()):t.slice()},i.unknown=function(l){return arguments.length?(n=l,i):n},i.quantiles=function(){return r.slice()},i.copy=function(){return R7().domain(e).range(t).unknown(n)},Ks.apply(i,arguments)}function I7(){var e=0,t=1,r=1,n=[.5],s=[0,1],i;function l(d){return d!=null&&d<=d?s[om(n,d,0,r)]:i}function c(){var d=-1;for(n=new Array(r);++d<r;)n[d]=((d+1)*t-(d-r)*e)/(r+1);return l}return l.domain=function(d){return arguments.length?([e,t]=d,e=+e,t=+t,c()):[e,t]},l.range=function(d){return arguments.length?(r=(s=Array.from(d)).length-1,c()):s.slice()},l.invertExtent=function(d){var f=s.indexOf(d);return f<0?[NaN,NaN]:f<1?[e,n[0]]:f>=r?[n[r-1],t]:[n[f-1],n[f]]},l.unknown=function(d){return arguments.length&&(i=d),l},l.thresholds=function(){return n.slice()},l.copy=function(){return I7().domain([e,t]).range(s).unknown(i)},Ks.apply(Yo(l),arguments)}function F7(){var e=[.5],t=[0,1],r,n=1;function s(i){return i!=null&&i<=i?t[om(e,i,0,n)]:r}return s.domain=function(i){return arguments.length?(e=Array.from(i),n=Math.min(e.length,t.length-1),s):e.slice()},s.range=function(i){return arguments.length?(t=Array.from(i),n=Math.min(e.length,t.length-1),s):t.slice()},s.invertExtent=function(i){var l=t.indexOf(i);return[e[l-1],e[l]]},s.unknown=function(i){return arguments.length?(r=i,s):r},s.copy=function(){return F7().domain(e).range(t).unknown(r)},Ks.apply(s,arguments)}const Uw=new Date,zw=new Date;function xn(e,t,r,n){function s(i){return e(i=arguments.length===0?new Date:new Date(+i)),i}return s.floor=i=>(e(i=new Date(+i)),i),s.ceil=i=>(e(i=new Date(i-1)),t(i,1),e(i),i),s.round=i=>{const l=s(i),c=s.ceil(i);return i-l<c-i?l:c},s.offset=(i,l)=>(t(i=new Date(+i),l==null?1:Math.floor(l)),i),s.range=(i,l,c)=>{const d=[];if(i=s.ceil(i),c=c==null?1:Math.floor(c),!(i<l)||!(c>0))return d;let f;do d.push(f=new Date(+i)),t(i,c),e(i);while(f<i&&i<l);return d},s.filter=i=>xn(l=>{if(l>=l)for(;e(l),!i(l);)l.setTime(l-1)},(l,c)=>{if(l>=l)if(c<0)for(;++c<=0;)for(;t(l,-1),!i(l););else for(;--c>=0;)for(;t(l,1),!i(l););}),r&&(s.count=(i,l)=>(Uw.setTime(+i),zw.setTime(+l),e(Uw),e(zw),Math.floor(r(Uw,zw))),s.every=i=>(i=Math.floor(i),!isFinite(i)||!(i>0)?null:i>1?s.filter(n?l=>n(l)%i===0:l=>s.count(0,l)%i===0):s)),s}const ax=xn(()=>{},(e,t)=>{e.setTime(+e+t)},(e,t)=>t-e);ax.every=e=>(e=Math.floor(e),!isFinite(e)||!(e>0)?null:e>1?xn(t=>{t.setTime(Math.floor(t/e)*e)},(t,r)=>{t.setTime(+t+r*e)},(t,r)=>(r-t)/e):ax);ax.range;const cl=1e3,Bs=cl*60,ul=Bs*60,_l=ul*24,g_=_l*7,rD=_l*30,Hw=_l*365,Bc=xn(e=>{e.setTime(e-e.getMilliseconds())},(e,t)=>{e.setTime(+e+t*cl)},(e,t)=>(t-e)/cl,e=>e.getUTCSeconds());Bc.range;const p_=xn(e=>{e.setTime(e-e.getMilliseconds()-e.getSeconds()*cl)},(e,t)=>{e.setTime(+e+t*Bs)},(e,t)=>(t-e)/Bs,e=>e.getMinutes());p_.range;const x_=xn(e=>{e.setUTCSeconds(0,0)},(e,t)=>{e.setTime(+e+t*Bs)},(e,t)=>(t-e)/Bs,e=>e.getUTCMinutes());x_.range;const y_=xn(e=>{e.setTime(e-e.getMilliseconds()-e.getSeconds()*cl-e.getMinutes()*Bs)},(e,t)=>{e.setTime(+e+t*ul)},(e,t)=>(t-e)/ul,e=>e.getHours());y_.range;const v_=xn(e=>{e.setUTCMinutes(0,0,0)},(e,t)=>{e.setTime(+e+t*ul)},(e,t)=>(t-e)/ul,e=>e.getUTCHours());v_.range;const dm=xn(e=>e.setHours(0,0,0,0),(e,t)=>e.setDate(e.getDate()+t),(e,t)=>(t-e-(t.getTimezoneOffset()-e.getTimezoneOffset())*Bs)/_l,e=>e.getDate()-1);dm.range;const my=xn(e=>{e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCDate(e.getUTCDate()+t)},(e,t)=>(t-e)/_l,e=>e.getUTCDate()-1);my.range;const L7=xn(e=>{e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCDate(e.getUTCDate()+t)},(e,t)=>(t-e)/_l,e=>Math.floor(e/_l));L7.range;function fu(e){return xn(t=>{t.setDate(t.getDate()-(t.getDay()+7-e)%7),t.setHours(0,0,0,0)},(t,r)=>{t.setDate(t.getDate()+r*7)},(t,r)=>(r-t-(r.getTimezoneOffset()-t.getTimezoneOffset())*Bs)/g_)}const gy=fu(0),sx=fu(1),Gse=fu(2),Kse=fu(3),Md=fu(4),Yse=fu(5),Xse=fu(6);gy.range;sx.range;Gse.range;Kse.range;Md.range;Yse.range;Xse.range;function hu(e){return xn(t=>{t.setUTCDate(t.getUTCDate()-(t.getUTCDay()+7-e)%7),t.setUTCHours(0,0,0,0)},(t,r)=>{t.setUTCDate(t.getUTCDate()+r*7)},(t,r)=>(r-t)/g_)}const py=hu(0),ix=hu(1),Qse=hu(2),Zse=hu(3),Rd=hu(4),Jse=hu(5),eie=hu(6);py.range;ix.range;Qse.range;Zse.range;Rd.range;Jse.range;eie.range;const b_=xn(e=>{e.setDate(1),e.setHours(0,0,0,0)},(e,t)=>{e.setMonth(e.getMonth()+t)},(e,t)=>t.getMonth()-e.getMonth()+(t.getFullYear()-e.getFullYear())*12,e=>e.getMonth());b_.range;const w_=xn(e=>{e.setUTCDate(1),e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCMonth(e.getUTCMonth()+t)},(e,t)=>t.getUTCMonth()-e.getUTCMonth()+(t.getUTCFullYear()-e.getUTCFullYear())*12,e=>e.getUTCMonth());w_.range;const kl=xn(e=>{e.setMonth(0,1),e.setHours(0,0,0,0)},(e,t)=>{e.setFullYear(e.getFullYear()+t)},(e,t)=>t.getFullYear()-e.getFullYear(),e=>e.getFullYear());kl.every=e=>!isFinite(e=Math.floor(e))||!(e>0)?null:xn(t=>{t.setFullYear(Math.floor(t.getFullYear()/e)*e),t.setMonth(0,1),t.setHours(0,0,0,0)},(t,r)=>{t.setFullYear(t.getFullYear()+r*e)});kl.range;const El=xn(e=>{e.setUTCMonth(0,1),e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCFullYear(e.getUTCFullYear()+t)},(e,t)=>t.getUTCFullYear()-e.getUTCFullYear(),e=>e.getUTCFullYear());El.every=e=>!isFinite(e=Math.floor(e))||!(e>0)?null:xn(t=>{t.setUTCFullYear(Math.floor(t.getUTCFullYear()/e)*e),t.setUTCMonth(0,1),t.setUTCHours(0,0,0,0)},(t,r)=>{t.setUTCFullYear(t.getUTCFullYear()+r*e)});El.range;function B7(e,t,r,n,s,i){const l=[[Bc,1,cl],[Bc,5,5*cl],[Bc,15,15*cl],[Bc,30,30*cl],[i,1,Bs],[i,5,5*Bs],[i,15,15*Bs],[i,30,30*Bs],[s,1,ul],[s,3,3*ul],[s,6,6*ul],[s,12,12*ul],[n,1,_l],[n,2,2*_l],[r,1,g_],[t,1,rD],[t,3,3*rD],[e,1,Hw]];function c(f,h,g){const p=h<f;p&&([f,h]=[h,f]);const y=g&&typeof g.range=="function"?g:d(f,h,g),b=y?y.range(f,+h+1):[];return p?b.reverse():b}function d(f,h,g){const p=Math.abs(h-f)/g,y=r_(([,,j])=>j).right(l,p);if(y===l.length)return e.every(Vj(f/Hw,h/Hw,g));if(y===0)return ax.every(Math.max(Vj(f,h,g),1));const[b,w]=l[p/l[y-1][2]<l[y][2]/p?y-1:y];return b.every(w)}return[c,d]}const[tie,rie]=B7(El,w_,py,L7,v_,x_),[nie,aie]=B7(kl,b_,gy,dm,y_,p_);function Vw(e){if(0<=e.y&&e.y<100){var t=new Date(-1,e.m,e.d,e.H,e.M,e.S,e.L);return t.setFullYear(e.y),t}return new Date(e.y,e.m,e.d,e.H,e.M,e.S,e.L)}function qw(e){if(0<=e.y&&e.y<100){var t=new Date(Date.UTC(-1,e.m,e.d,e.H,e.M,e.S,e.L));return t.setUTCFullYear(e.y),t}return new Date(Date.UTC(e.y,e.m,e.d,e.H,e.M,e.S,e.L))}function j0(e,t,r){return{y:e,m:t,d:r,H:0,M:0,S:0,L:0}}function sie(e){var t=e.dateTime,r=e.date,n=e.time,s=e.periods,i=e.days,l=e.shortDays,c=e.months,d=e.shortMonths,f=N0(s),h=S0(s),g=N0(i),p=S0(i),y=N0(l),b=S0(l),w=N0(c),j=S0(c),S=N0(d),k=S0(d),E={a:te,A:ue,b:ve,B:U,c:null,d:oD,e:oD,f:Tie,g:Lie,G:$ie,H:_ie,I:kie,j:Eie,L:$7,m:Aie,M:Cie,p:ie,q:F,Q:dD,s:fD,S:Oie,u:Die,U:Pie,V:Mie,w:Rie,W:Iie,x:null,X:null,y:Fie,Y:Bie,Z:Uie,"%":uD},C={a:G,A:z,b:q,B:de,c:null,d:cD,e:cD,f:qie,g:tle,G:nle,H:zie,I:Hie,j:Vie,L:z7,m:Wie,M:Gie,p:De,q:ne,Q:dD,s:fD,S:Kie,u:Yie,U:Xie,V:Qie,w:Zie,W:Jie,x:null,X:null,y:ele,Y:rle,Z:ale,"%":uD},T={a:B,A:V,b:W,B:se,c:oe,d:iD,e:iD,f:wie,g:sD,G:aD,H:lD,I:lD,j:xie,L:bie,m:pie,M:yie,p:R,q:gie,Q:Nie,s:Sie,S:vie,u:uie,U:die,V:fie,w:cie,W:hie,x:Y,X:Q,y:sD,Y:aD,Z:mie,"%":jie};E.x=A(r,E),E.X=A(n,E),E.c=A(t,E),C.x=A(r,C),C.X=A(n,C),C.c=A(t,C);function A(le,he){return function(Le){var pe=[],xe=-1,$e=0,pt=le.length,Xe,Ue,At;for(Le instanceof Date||(Le=new Date(+Le));++xe<pt;)le.charCodeAt(xe)===37&&(pe.push(le.slice($e,xe)),(Ue=nD[Xe=le.charAt(++xe)])!=null?Xe=le.charAt(++xe):Ue=Xe==="e"?" ":"0",(At=he[Xe])&&(Xe=At(Le,Ue)),pe.push(Xe),$e=xe+1);return pe.push(le.slice($e,xe)),pe.join("")}}function O(le,he){return function(Le){var pe=j0(1900,void 0,1),xe=D(pe,le,Le+="",0),$e,pt;if(xe!=Le.length)return null;if("Q"in pe)return new Date(pe.Q);if("s"in pe)return new Date(pe.s*1e3+("L"in pe?pe.L:0));if(he&&!("Z"in pe)&&(pe.Z=0),"p"in pe&&(pe.H=pe.H%12+pe.p*12),pe.m===void 0&&(pe.m="q"in pe?pe.q:0),"V"in pe){if(pe.V<1||pe.V>53)return null;"w"in pe||(pe.w=1),"Z"in pe?($e=qw(j0(pe.y,0,1)),pt=$e.getUTCDay(),$e=pt>4||pt===0?ix.ceil($e):ix($e),$e=my.offset($e,(pe.V-1)*7),pe.y=$e.getUTCFullYear(),pe.m=$e.getUTCMonth(),pe.d=$e.getUTCDate()+(pe.w+6)%7):($e=Vw(j0(pe.y,0,1)),pt=$e.getDay(),$e=pt>4||pt===0?sx.ceil($e):sx($e),$e=dm.offset($e,(pe.V-1)*7),pe.y=$e.getFullYear(),pe.m=$e.getMonth(),pe.d=$e.getDate()+(pe.w+6)%7)}else("W"in pe||"U"in pe)&&("w"in pe||(pe.w="u"in pe?pe.u%7:"W"in pe?1:0),pt="Z"in pe?qw(j0(pe.y,0,1)).getUTCDay():Vw(j0(pe.y,0,1)).getDay(),pe.m=0,pe.d="W"in pe?(pe.w+6)%7+pe.W*7-(pt+5)%7:pe.w+pe.U*7-(pt+6)%7);return"Z"in pe?(pe.H+=pe.Z/100|0,pe.M+=pe.Z%100,qw(pe)):Vw(pe)}}function D(le,he,Le,pe){for(var xe=0,$e=he.length,pt=Le.length,Xe,Ue;xe<$e;){if(pe>=pt)return-1;if(Xe=he.charCodeAt(xe++),Xe===37){if(Xe=he.charAt(xe++),Ue=T[Xe in nD?he.charAt(xe++):Xe],!Ue||(pe=Ue(le,Le,pe))<0)return-1}else if(Xe!=Le.charCodeAt(pe++))return-1}return pe}function R(le,he,Le){var pe=f.exec(he.slice(Le));return pe?(le.p=h.get(pe[0].toLowerCase()),Le+pe[0].length):-1}function B(le,he,Le){var pe=y.exec(he.slice(Le));return pe?(le.w=b.get(pe[0].toLowerCase()),Le+pe[0].length):-1}function V(le,he,Le){var pe=g.exec(he.slice(Le));return pe?(le.w=p.get(pe[0].toLowerCase()),Le+pe[0].length):-1}function W(le,he,Le){var pe=S.exec(he.slice(Le));return pe?(le.m=k.get(pe[0].toLowerCase()),Le+pe[0].length):-1}function se(le,he,Le){var pe=w.exec(he.slice(Le));return pe?(le.m=j.get(pe[0].toLowerCase()),Le+pe[0].length):-1}function oe(le,he,Le){return D(le,t,he,Le)}function Y(le,he,Le){return D(le,r,he,Le)}function Q(le,he,Le){return D(le,n,he,Le)}function te(le){return l[le.getDay()]}function ue(le){return i[le.getDay()]}function ve(le){return d[le.getMonth()]}function U(le){return c[le.getMonth()]}function ie(le){return s[+(le.getHours()>=12)]}function F(le){return 1+~~(le.getMonth()/3)}function G(le){return l[le.getUTCDay()]}function z(le){return i[le.getUTCDay()]}function q(le){return d[le.getUTCMonth()]}function de(le){return c[le.getUTCMonth()]}function De(le){return s[+(le.getUTCHours()>=12)]}function ne(le){return 1+~~(le.getUTCMonth()/3)}return{format:function(le){var he=A(le+="",E);return he.toString=function(){return le},he},parse:function(le){var he=O(le+="",!1);return he.toString=function(){return le},he},utcFormat:function(le){var he=A(le+="",C);return he.toString=function(){return le},he},utcParse:function(le){var he=O(le+="",!0);return he.toString=function(){return le},he}}}var nD={"-":"",_:" ",0:"0"},Cn=/^\s*\d+/,iie=/^%/,lie=/[\\^$*+?|[\]().{}]/g;function zt(e,t,r){var n=e<0?"-":"",s=(n?-e:e)+"",i=s.length;return n+(i<r?new Array(r-i+1).join(t)+s:s)}function oie(e){return e.replace(lie,"\\$&")}function N0(e){return new RegExp("^(?:"+e.map(oie).join("|")+")","i")}function S0(e){return new Map(e.map((t,r)=>[t.toLowerCase(),r]))}function cie(e,t,r){var n=Cn.exec(t.slice(r,r+1));return n?(e.w=+n[0],r+n[0].length):-1}function uie(e,t,r){var n=Cn.exec(t.slice(r,r+1));return n?(e.u=+n[0],r+n[0].length):-1}function die(e,t,r){var n=Cn.exec(t.slice(r,r+2));return n?(e.U=+n[0],r+n[0].length):-1}function fie(e,t,r){var n=Cn.exec(t.slice(r,r+2));return n?(e.V=+n[0],r+n[0].length):-1}function hie(e,t,r){var n=Cn.exec(t.slice(r,r+2));return n?(e.W=+n[0],r+n[0].length):-1}function aD(e,t,r){var n=Cn.exec(t.slice(r,r+4));return n?(e.y=+n[0],r+n[0].length):-1}function sD(e,t,r){var n=Cn.exec(t.slice(r,r+2));return n?(e.y=+n[0]+(+n[0]>68?1900:2e3),r+n[0].length):-1}function mie(e,t,r){var n=/^(Z)|([+-]\d\d)(?::?(\d\d))?/.exec(t.slice(r,r+6));return n?(e.Z=n[1]?0:-(n[2]+(n[3]||"00")),r+n[0].length):-1}function gie(e,t,r){var n=Cn.exec(t.slice(r,r+1));return n?(e.q=n[0]*3-3,r+n[0].length):-1}function pie(e,t,r){var n=Cn.exec(t.slice(r,r+2));return n?(e.m=n[0]-1,r+n[0].length):-1}function iD(e,t,r){var n=Cn.exec(t.slice(r,r+2));return n?(e.d=+n[0],r+n[0].length):-1}function xie(e,t,r){var n=Cn.exec(t.slice(r,r+3));return n?(e.m=0,e.d=+n[0],r+n[0].length):-1}function lD(e,t,r){var n=Cn.exec(t.slice(r,r+2));return n?(e.H=+n[0],r+n[0].length):-1}function yie(e,t,r){var n=Cn.exec(t.slice(r,r+2));return n?(e.M=+n[0],r+n[0].length):-1}function vie(e,t,r){var n=Cn.exec(t.slice(r,r+2));return n?(e.S=+n[0],r+n[0].length):-1}function bie(e,t,r){var n=Cn.exec(t.slice(r,r+3));return n?(e.L=+n[0],r+n[0].length):-1}function wie(e,t,r){var n=Cn.exec(t.slice(r,r+6));return n?(e.L=Math.floor(n[0]/1e3),r+n[0].length):-1}function jie(e,t,r){var n=iie.exec(t.slice(r,r+1));return n?r+n[0].length:-1}function Nie(e,t,r){var n=Cn.exec(t.slice(r));return n?(e.Q=+n[0],r+n[0].length):-1}function Sie(e,t,r){var n=Cn.exec(t.slice(r));return n?(e.s=+n[0],r+n[0].length):-1}function oD(e,t){return zt(e.getDate(),t,2)}function _ie(e,t){return zt(e.getHours(),t,2)}function kie(e,t){return zt(e.getHours()%12||12,t,2)}function Eie(e,t){return zt(1+dm.count(kl(e),e),t,3)}function $7(e,t){return zt(e.getMilliseconds(),t,3)}function Tie(e,t){return $7(e,t)+"000"}function Aie(e,t){return zt(e.getMonth()+1,t,2)}function Cie(e,t){return zt(e.getMinutes(),t,2)}function Oie(e,t){return zt(e.getSeconds(),t,2)}function Die(e){var t=e.getDay();return t===0?7:t}function Pie(e,t){return zt(gy.count(kl(e)-1,e),t,2)}function U7(e){var t=e.getDay();return t>=4||t===0?Md(e):Md.ceil(e)}function Mie(e,t){return e=U7(e),zt(Md.count(kl(e),e)+(kl(e).getDay()===4),t,2)}function Rie(e){return e.getDay()}function Iie(e,t){return zt(sx.count(kl(e)-1,e),t,2)}function Fie(e,t){return zt(e.getFullYear()%100,t,2)}function Lie(e,t){return e=U7(e),zt(e.getFullYear()%100,t,2)}function Bie(e,t){return zt(e.getFullYear()%1e4,t,4)}function $ie(e,t){var r=e.getDay();return e=r>=4||r===0?Md(e):Md.ceil(e),zt(e.getFullYear()%1e4,t,4)}function Uie(e){var t=e.getTimezoneOffset();return(t>0?"-":(t*=-1,"+"))+zt(t/60|0,"0",2)+zt(t%60,"0",2)}function cD(e,t){return zt(e.getUTCDate(),t,2)}function zie(e,t){return zt(e.getUTCHours(),t,2)}function Hie(e,t){return zt(e.getUTCHours()%12||12,t,2)}function Vie(e,t){return zt(1+my.count(El(e),e),t,3)}function z7(e,t){return zt(e.getUTCMilliseconds(),t,3)}function qie(e,t){return z7(e,t)+"000"}function Wie(e,t){return zt(e.getUTCMonth()+1,t,2)}function Gie(e,t){return zt(e.getUTCMinutes(),t,2)}function Kie(e,t){return zt(e.getUTCSeconds(),t,2)}function Yie(e){var t=e.getUTCDay();return t===0?7:t}function Xie(e,t){return zt(py.count(El(e)-1,e),t,2)}function H7(e){var t=e.getUTCDay();return t>=4||t===0?Rd(e):Rd.ceil(e)}function Qie(e,t){return e=H7(e),zt(Rd.count(El(e),e)+(El(e).getUTCDay()===4),t,2)}function Zie(e){return e.getUTCDay()}function Jie(e,t){return zt(ix.count(El(e)-1,e),t,2)}function ele(e,t){return zt(e.getUTCFullYear()%100,t,2)}function tle(e,t){return e=H7(e),zt(e.getUTCFullYear()%100,t,2)}function rle(e,t){return zt(e.getUTCFullYear()%1e4,t,4)}function nle(e,t){var r=e.getUTCDay();return e=r>=4||r===0?Rd(e):Rd.ceil(e),zt(e.getUTCFullYear()%1e4,t,4)}function ale(){return"+0000"}function uD(){return"%"}function dD(e){return+e}function fD(e){return Math.floor(+e/1e3)}var Ju,V7,q7;sle({dateTime:"%x, %X",date:"%-m/%-d/%Y",time:"%-I:%M:%S %p",periods:["AM","PM"],days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],shortDays:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],months:["January","February","March","April","May","June","July","August","September","October","November","December"],shortMonths:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"]});function sle(e){return Ju=sie(e),V7=Ju.format,Ju.parse,q7=Ju.utcFormat,Ju.utcParse,Ju}function ile(e){return new Date(e)}function lle(e){return e instanceof Date?+e:+new Date(+e)}function j_(e,t,r,n,s,i,l,c,d,f){var h=o_(),g=h.invert,p=h.domain,y=f(".%L"),b=f(":%S"),w=f("%I:%M"),j=f("%I %p"),S=f("%a %d"),k=f("%b %d"),E=f("%B"),C=f("%Y");function T(A){return(d(A)<A?y:c(A)<A?b:l(A)<A?w:i(A)<A?j:n(A)<A?s(A)<A?S:k:r(A)<A?E:C)(A)}return h.invert=function(A){return new Date(g(A))},h.domain=function(A){return arguments.length?p(Array.from(A,lle)):p().map(ile)},h.ticks=function(A){var O=p();return e(O[0],O[O.length-1],A??10)},h.tickFormat=function(A,O){return O==null?T:f(O)},h.nice=function(A){var O=p();return(!A||typeof A.range!="function")&&(A=t(O[0],O[O.length-1],A??10)),A?p(O7(O,A)):h},h.copy=function(){return um(h,j_(e,t,r,n,s,i,l,c,d,f))},h}function ole(){return Ks.apply(j_(nie,aie,kl,b_,gy,dm,y_,p_,Bc,V7).domain([new Date(2e3,0,1),new Date(2e3,0,2)]),arguments)}function cle(){return Ks.apply(j_(tie,rie,El,w_,py,my,v_,x_,Bc,q7).domain([Date.UTC(2e3,0,1),Date.UTC(2e3,0,2)]),arguments)}function xy(){var e=0,t=1,r,n,s,i,l=ga,c=!1,d;function f(g){return g==null||isNaN(g=+g)?d:l(s===0?.5:(g=(i(g)-r)*s,c?Math.max(0,Math.min(1,g)):g))}f.domain=function(g){return arguments.length?([e,t]=g,r=i(e=+e),n=i(t=+t),s=r===n?0:1/(n-r),f):[e,t]},f.clamp=function(g){return arguments.length?(c=!!g,f):c},f.interpolator=function(g){return arguments.length?(l=g,f):l};function h(g){return function(p){var y,b;return arguments.length?([y,b]=p,l=g(y,b),f):[l(0),l(1)]}}return f.range=h(ef),f.rangeRound=h(l_),f.unknown=function(g){return arguments.length?(d=g,f):d},function(g){return i=g,r=g(e),n=g(t),s=r===n?0:1/(n-r),f}}function Xo(e,t){return t.domain(e.domain()).interpolator(e.interpolator()).clamp(e.clamp()).unknown(e.unknown())}function W7(){var e=Yo(xy()(ga));return e.copy=function(){return Xo(e,W7())},Pl.apply(e,arguments)}function G7(){var e=d_(xy()).domain([1,10]);return e.copy=function(){return Xo(e,G7()).base(e.base())},Pl.apply(e,arguments)}function K7(){var e=f_(xy());return e.copy=function(){return Xo(e,K7()).constant(e.constant())},Pl.apply(e,arguments)}function N_(){var e=h_(xy());return e.copy=function(){return Xo(e,N_()).exponent(e.exponent())},Pl.apply(e,arguments)}function ule(){return N_.apply(null,arguments).exponent(.5)}function Y7(){var e=[],t=ga;function r(n){if(n!=null&&!isNaN(n=+n))return t((om(e,n,1)-1)/(e.length-1))}return r.domain=function(n){if(!arguments.length)return e.slice();e=[];for(let s of n)s!=null&&!isNaN(s=+s)&&e.push(s);return e.sort(_o),r},r.interpolator=function(n){return arguments.length?(t=n,r):t},r.range=function(){return e.map((n,s)=>t(s/(e.length-1)))},r.quantiles=function(n){return Array.from({length:n+1},(s,i)=>Yae(e,i/n))},r.copy=function(){return Y7(t).domain(e)},Pl.apply(r,arguments)}function yy(){var e=0,t=.5,r=1,n=1,s,i,l,c,d,f=ga,h,g=!1,p;function y(w){return isNaN(w=+w)?p:(w=.5+((w=+h(w))-i)*(n*w<n*i?c:d),f(g?Math.max(0,Math.min(1,w)):w))}y.domain=function(w){return arguments.length?([e,t,r]=w,s=h(e=+e),i=h(t=+t),l=h(r=+r),c=s===i?0:.5/(i-s),d=i===l?0:.5/(l-i),n=i<s?-1:1,y):[e,t,r]},y.clamp=function(w){return arguments.length?(g=!!w,y):g},y.interpolator=function(w){return arguments.length?(f=w,y):f};function b(w){return function(j){var S,k,E;return arguments.length?([S,k,E]=j,f=jse(w,[S,k,E]),y):[f(0),f(.5),f(1)]}}return y.range=b(ef),y.rangeRound=b(l_),y.unknown=function(w){return arguments.length?(p=w,y):p},function(w){return h=w,s=w(e),i=w(t),l=w(r),c=s===i?0:.5/(i-s),d=i===l?0:.5/(l-i),n=i<s?-1:1,y}}function X7(){var e=Yo(yy()(ga));return e.copy=function(){return Xo(e,X7())},Pl.apply(e,arguments)}function Q7(){var e=d_(yy()).domain([.1,1,10]);return e.copy=function(){return Xo(e,Q7()).base(e.base())},Pl.apply(e,arguments)}function Z7(){var e=f_(yy());return e.copy=function(){return Xo(e,Z7()).constant(e.constant())},Pl.apply(e,arguments)}function S_(){var e=h_(yy());return e.copy=function(){return Xo(e,S_()).exponent(e.exponent())},Pl.apply(e,arguments)}function dle(){return S_.apply(null,arguments).exponent(.5)}const F0=Object.freeze(Object.defineProperty({__proto__:null,scaleBand:a_,scaleDiverging:X7,scaleDivergingLog:Q7,scaleDivergingPow:S_,scaleDivergingSqrt:dle,scaleDivergingSymlog:Z7,scaleIdentity:C7,scaleImplicit:qj,scaleLinear:A7,scaleLog:D7,scaleOrdinal:n_,scalePoint:Zae,scalePow:m_,scaleQuantile:R7,scaleQuantize:I7,scaleRadial:M7,scaleSequential:W7,scaleSequentialLog:G7,scaleSequentialPow:N_,scaleSequentialQuantile:Y7,scaleSequentialSqrt:ule,scaleSequentialSymlog:K7,scaleSqrt:qse,scaleSymlog:P7,scaleThreshold:F7,scaleTime:ole,scaleUtc:cle,tickFormat:T7},Symbol.toStringTag,{value:"Module"}));var mu=e=>e.chartData,__=ke([mu],e=>{var t=e.chartData!=null?e.chartData.length-1:0;return{chartData:e.chartData,computedData:e.computedData,dataEndIndex:t,dataStartIndex:0}}),k_=(e,t,r,n)=>n?__(e):mu(e);function Id(e){if(Array.isArray(e)&&e.length===2){var[t,r]=e;if(gs(t)&&gs(r))return!0}return!1}function hD(e,t,r){return r?e:[Math.min(e[0],t[0]),Math.max(e[1],t[1])]}function fle(e,t){if(t&&typeof e!="function"&&Array.isArray(e)&&e.length===2){var[r,n]=e,s,i;if(gs(r))s=r;else if(typeof r=="function")return;if(gs(n))i=n;else if(typeof n=="function")return;var l=[s,i];if(Id(l))return l}}function hle(e,t,r){if(!(!r&&t==null)){if(typeof e=="function"&&t!=null)try{var n=e(t,r);if(Id(n))return hD(n,t,r)}catch{}if(Array.isArray(e)&&e.length===2){var[s,i]=e,l,c;if(s==="auto")t!=null&&(l=Math.min(...t));else if(Ze(s))l=s;else if(typeof s=="function")try{t!=null&&(l=s(t?.[0]))}catch{}else if(typeof s=="string"&&eO.test(s)){var d=eO.exec(s);if(d==null||t==null)l=void 0;else{var f=+d[1];l=t[0]-f}}else l=t?.[0];if(i==="auto")t!=null&&(c=Math.max(...t));else if(Ze(i))c=i;else if(typeof i=="function")try{t!=null&&(c=i(t?.[1]))}catch{}else if(typeof i=="string"&&tO.test(i)){var h=tO.exec(i);if(h==null||t==null)c=void 0;else{var g=+h[1];c=t[1]+g}}else c=t?.[1];var p=[l,c];if(Id(p))return t==null?p:hD(p,t,r)}}}var tf=1e9,mle={precision:20,rounding:4,toExpNeg:-7,toExpPos:21,LN10:"2.302585092994045684017991454684364207601101488628772976033327900967572609677352480235997205089598298341967784042286"},T_,Dr=!0,qs="[DecimalError] ",Yc=qs+"Invalid argument: ",E_=qs+"Exponent out of range: ",rf=Math.floor,Ec=Math.pow,gle=/^(\d+(\.\d*)?|\.\d+)(e[+-]?\d+)?$/i,is,jn=1e7,Nr=7,J7=9007199254740991,lx=rf(J7/Nr),Je={};Je.absoluteValue=Je.abs=function(){var e=new this.constructor(this);return e.s&&(e.s=1),e};Je.comparedTo=Je.cmp=function(e){var t,r,n,s,i=this;if(e=new i.constructor(e),i.s!==e.s)return i.s||-e.s;if(i.e!==e.e)return i.e>e.e^i.s<0?1:-1;for(n=i.d.length,s=e.d.length,t=0,r=n<s?n:s;t<r;++t)if(i.d[t]!==e.d[t])return i.d[t]>e.d[t]^i.s<0?1:-1;return n===s?0:n>s^i.s<0?1:-1};Je.decimalPlaces=Je.dp=function(){var e=this,t=e.d.length-1,r=(t-e.e)*Nr;if(t=e.d[t],t)for(;t%10==0;t/=10)r--;return r<0?0:r};Je.dividedBy=Je.div=function(e){return gl(this,new this.constructor(e))};Je.dividedToIntegerBy=Je.idiv=function(e){var t=this,r=t.constructor;return gr(gl(t,new r(e),0,1),r.precision)};Je.equals=Je.eq=function(e){return!this.cmp(e)};Je.exponent=function(){return on(this)};Je.greaterThan=Je.gt=function(e){return this.cmp(e)>0};Je.greaterThanOrEqualTo=Je.gte=function(e){return this.cmp(e)>=0};Je.isInteger=Je.isint=function(){return this.e>this.d.length-2};Je.isNegative=Je.isneg=function(){return this.s<0};Je.isPositive=Je.ispos=function(){return this.s>0};Je.isZero=function(){return this.s===0};Je.lessThan=Je.lt=function(e){return this.cmp(e)<0};Je.lessThanOrEqualTo=Je.lte=function(e){return this.cmp(e)<1};Je.logarithm=Je.log=function(e){var t,r=this,n=r.constructor,s=n.precision,i=s+5;if(e===void 0)e=new n(10);else if(e=new n(e),e.s<1||e.eq(is))throw Error(qs+"NaN");if(r.s<1)throw Error(qs+(r.s?"NaN":"-Infinity"));return r.eq(is)?new n(0):(Dr=!1,t=gl(Oh(r,i),Oh(e,i),i),Dr=!0,gr(t,s))};Je.minus=Je.sub=function(e){var t=this;return e=new t.constructor(e),t.s==e.s?rF(t,e):eF(t,(e.s=-e.s,e))};Je.modulo=Je.mod=function(e){var t,r=this,n=r.constructor,s=n.precision;if(e=new n(e),!e.s)throw Error(qs+"NaN");return r.s?(Dr=!1,t=gl(r,e,0,1).times(e),Dr=!0,r.minus(t)):gr(new n(r),s)};Je.naturalExponential=Je.exp=function(){return tF(this)};Je.naturalLogarithm=Je.ln=function(){return Oh(this)};Je.negated=Je.neg=function(){var e=new this.constructor(this);return e.s=-e.s||0,e};Je.plus=Je.add=function(e){var t=this;return e=new t.constructor(e),t.s==e.s?eF(t,e):rF(t,(e.s=-e.s,e))};Je.precision=Je.sd=function(e){var t,r,n,s=this;if(e!==void 0&&e!==!!e&&e!==1&&e!==0)throw Error(Yc+e);if(t=on(s)+1,n=s.d.length-1,r=n*Nr+1,n=s.d[n],n){for(;n%10==0;n/=10)r--;for(n=s.d[0];n>=10;n/=10)r++}return e&&t>r?t:r};Je.squareRoot=Je.sqrt=function(){var e,t,r,n,s,i,l,c=this,d=c.constructor;if(c.s<1){if(!c.s)return new d(0);throw Error(qs+"NaN")}for(e=on(c),Dr=!1,s=Math.sqrt(+c),s==0||s==1/0?(t=Di(c.d),(t.length+e)%2==0&&(t+="0"),s=Math.sqrt(t),e=rf((e+1)/2)-(e<0||e%2),s==1/0?t="5e"+e:(t=s.toExponential(),t=t.slice(0,t.indexOf("e")+1)+e),n=new d(t)):n=new d(s.toString()),r=d.precision,s=l=r+3;;)if(i=n,n=i.plus(gl(c,i,l+2)).times(.5),Di(i.d).slice(0,l)===(t=Di(n.d)).slice(0,l)){if(t=t.slice(l-3,l+1),s==l&&t=="4999"){if(gr(i,r+1,0),i.times(i).eq(c)){n=i;break}}else if(t!="9999")break;l+=4}return Dr=!0,gr(n,r)};Je.times=Je.mul=function(e){var t,r,n,s,i,l,c,d,f,h=this,g=h.constructor,p=h.d,y=(e=new g(e)).d;if(!h.s||!e.s)return new g(0);for(e.s*=h.s,r=h.e+e.e,d=p.length,f=y.length,d<f&&(i=p,p=y,y=i,l=d,d=f,f=l),i=[],l=d+f,n=l;n--;)i.push(0);for(n=f;--n>=0;){for(t=0,s=d+n;s>n;)c=i[s]+y[n]*p[s-n-1]+t,i[s--]=c%jn|0,t=c/jn|0;i[s]=(i[s]+t)%jn|0}for(;!i[--l];)i.pop();return t?++r:i.shift(),e.d=i,e.e=r,Dr?gr(e,g.precision):e};Je.toDecimalPlaces=Je.todp=function(e,t){var r=this,n=r.constructor;return r=new n(r),e===void 0?r:(Bi(e,0,tf),t===void 0?t=n.rounding:Bi(t,0,8),gr(r,e+on(r)+1,t))};Je.toExponential=function(e,t){var r,n=this,s=n.constructor;return e===void 0?r=au(n,!0):(Bi(e,0,tf),t===void 0?t=s.rounding:Bi(t,0,8),n=gr(new s(n),e+1,t),r=au(n,!0,e+1)),r};Je.toFixed=function(e,t){var r,n,s=this,i=s.constructor;return e===void 0?au(s):(Bi(e,0,tf),t===void 0?t=i.rounding:Bi(t,0,8),n=gr(new i(s),e+on(s)+1,t),r=au(n.abs(),!1,e+on(n)+1),s.isneg()&&!s.isZero()?"-"+r:r)};Je.toInteger=Je.toint=function(){var e=this,t=e.constructor;return gr(new t(e),on(e)+1,t.rounding)};Je.toNumber=function(){return+this};Je.toPower=Je.pow=function(e){var t,r,n,s,i,l,c=this,d=c.constructor,f=12,h=+(e=new d(e));if(!e.s)return new d(is);if(c=new d(c),!c.s){if(e.s<1)throw Error(qs+"Infinity");return c}if(c.eq(is))return c;if(n=d.precision,e.eq(is))return gr(c,n);if(t=e.e,r=e.d.length-1,l=t>=r,i=c.s,l){if((r=h<0?-h:h)<=J7){for(s=new d(is),t=Math.ceil(n/Nr+4),Dr=!1;r%2&&(s=s.times(c),gD(s.d,t)),r=rf(r/2),r!==0;)c=c.times(c),gD(c.d,t);return Dr=!0,e.s<0?new d(is).div(s):gr(s,n)}}else if(i<0)throw Error(qs+"NaN");return i=i<0&&e.d[Math.max(t,r)]&1?-1:1,c.s=1,Dr=!1,s=e.times(Oh(c,n+f)),Dr=!0,s=tF(s),s.s=i,s};Je.toPrecision=function(e,t){var r,n,s=this,i=s.constructor;return e===void 0?(r=on(s),n=au(s,r<=i.toExpNeg||r>=i.toExpPos)):(Bi(e,1,tf),t===void 0?t=i.rounding:Bi(t,0,8),s=gr(new i(s),e,t),r=on(s),n=au(s,e<=r||r<=i.toExpNeg,e)),n};Je.toSignificantDigits=Je.tosd=function(e,t){var r=this,n=r.constructor;return e===void 0?(e=n.precision,t=n.rounding):(Bi(e,1,tf),t===void 0?t=n.rounding:Bi(t,0,8)),gr(new n(r),e,t)};Je.toString=Je.valueOf=Je.val=Je.toJSON=Je[Symbol.for("nodejs.util.inspect.custom")]=function(){var e=this,t=on(e),r=e.constructor;return au(e,t<=r.toExpNeg||t>=r.toExpPos)};function eF(e,t){var r,n,s,i,l,c,d,f,h=e.constructor,g=h.precision;if(!e.s||!t.s)return t.s||(t=new h(e)),Dr?gr(t,g):t;if(d=e.d,f=t.d,l=e.e,s=t.e,d=d.slice(),i=l-s,i){for(i<0?(n=d,i=-i,c=f.length):(n=f,s=l,c=d.length),l=Math.ceil(g/Nr),c=l>c?l+1:c+1,i>c&&(i=c,n.length=1),n.reverse();i--;)n.push(0);n.reverse()}for(c=d.length,i=f.length,c-i<0&&(i=c,n=f,f=d,d=n),r=0;i;)r=(d[--i]=d[i]+f[i]+r)/jn|0,d[i]%=jn;for(r&&(d.unshift(r),++s),c=d.length;d[--c]==0;)d.pop();return t.d=d,t.e=s,Dr?gr(t,g):t}function Bi(e,t,r){if(e!==~~e||e<t||e>r)throw Error(Yc+e)}function Di(e){var t,r,n,s=e.length-1,i="",l=e[0];if(s>0){for(i+=l,t=1;t<s;t++)n=e[t]+"",r=Nr-n.length,r&&(i+=mo(r)),i+=n;l=e[t],n=l+"",r=Nr-n.length,r&&(i+=mo(r))}else if(l===0)return"0";for(;l%10===0;)l/=10;return i+l}var gl=function(){function e(n,s){var i,l=0,c=n.length;for(n=n.slice();c--;)i=n[c]*s+l,n[c]=i%jn|0,l=i/jn|0;return l&&n.unshift(l),n}function t(n,s,i,l){var c,d;if(i!=l)d=i>l?1:-1;else for(c=d=0;c<i;c++)if(n[c]!=s[c]){d=n[c]>s[c]?1:-1;break}return d}function r(n,s,i){for(var l=0;i--;)n[i]-=l,l=n[i]<s[i]?1:0,n[i]=l*jn+n[i]-s[i];for(;!n[0]&&n.length>1;)n.shift()}return function(n,s,i,l){var c,d,f,h,g,p,y,b,w,j,S,k,E,C,T,A,O,D,R=n.constructor,B=n.s==s.s?1:-1,V=n.d,W=s.d;if(!n.s)return new R(n);if(!s.s)throw Error(qs+"Division by zero");for(d=n.e-s.e,O=W.length,T=V.length,y=new R(B),b=y.d=[],f=0;W[f]==(V[f]||0);)++f;if(W[f]>(V[f]||0)&&--d,i==null?k=i=R.precision:l?k=i+(on(n)-on(s))+1:k=i,k<0)return new R(0);if(k=k/Nr+2|0,f=0,O==1)for(h=0,W=W[0],k++;(f<T||h)&&k--;f++)E=h*jn+(V[f]||0),b[f]=E/W|0,h=E%W|0;else{for(h=jn/(W[0]+1)|0,h>1&&(W=e(W,h),V=e(V,h),O=W.length,T=V.length),C=O,w=V.slice(0,O),j=w.length;j<O;)w[j++]=0;D=W.slice(),D.unshift(0),A=W[0],W[1]>=jn/2&&++A;do h=0,c=t(W,w,O,j),c<0?(S=w[0],O!=j&&(S=S*jn+(w[1]||0)),h=S/A|0,h>1?(h>=jn&&(h=jn-1),g=e(W,h),p=g.length,j=w.length,c=t(g,w,p,j),c==1&&(h--,r(g,O<p?D:W,p))):(h==0&&(c=h=1),g=W.slice()),p=g.length,p<j&&g.unshift(0),r(w,g,j),c==-1&&(j=w.length,c=t(W,w,O,j),c<1&&(h++,r(w,O<j?D:W,j))),j=w.length):c===0&&(h++,w=[0]),b[f++]=h,c&&w[0]?w[j++]=V[C]||0:(w=[V[C]],j=1);while((C++<T||w[0]!==void 0)&&k--)}return b[0]||b.shift(),y.e=d,gr(y,l?i+on(y)+1:i)}}();function tF(e,t){var r,n,s,i,l,c,d=0,f=0,h=e.constructor,g=h.precision;if(on(e)>16)throw Error(E_+on(e));if(!e.s)return new h(is);for(Dr=!1,c=g,l=new h(.03125);e.abs().gte(.1);)e=e.times(l),f+=5;for(n=Math.log(Ec(2,f))/Math.LN10*2+5|0,c+=n,r=s=i=new h(is),h.precision=c;;){if(s=gr(s.times(e),c),r=r.times(++d),l=i.plus(gl(s,r,c)),Di(l.d).slice(0,c)===Di(i.d).slice(0,c)){for(;f--;)i=gr(i.times(i),c);return h.precision=g,t==null?(Dr=!0,gr(i,g)):i}i=l}}function on(e){for(var t=e.e*Nr,r=e.d[0];r>=10;r/=10)t++;return t}function Ww(e,t,r){if(t>e.LN10.sd())throw Dr=!0,r&&(e.precision=r),Error(qs+"LN10 precision limit exceeded");return gr(new e(e.LN10),t)}function mo(e){for(var t="";e--;)t+="0";return t}function Oh(e,t){var r,n,s,i,l,c,d,f,h,g=1,p=10,y=e,b=y.d,w=y.constructor,j=w.precision;if(y.s<1)throw Error(qs+(y.s?"NaN":"-Infinity"));if(y.eq(is))return new w(0);if(t==null?(Dr=!1,f=j):f=t,y.eq(10))return t==null&&(Dr=!0),Ww(w,f);if(f+=p,w.precision=f,r=Di(b),n=r.charAt(0),i=on(y),Math.abs(i)<15e14){for(;n<7&&n!=1||n==1&&r.charAt(1)>3;)y=y.times(e),r=Di(y.d),n=r.charAt(0),g++;i=on(y),n>1?(y=new w("0."+r),i++):y=new w(n+"."+r.slice(1))}else return d=Ww(w,f+2,j).times(i+""),y=Oh(new w(n+"."+r.slice(1)),f-p).plus(d),w.precision=j,t==null?(Dr=!0,gr(y,j)):y;for(c=l=y=gl(y.minus(is),y.plus(is),f),h=gr(y.times(y),f),s=3;;){if(l=gr(l.times(h),f),d=c.plus(gl(l,new w(s),f)),Di(d.d).slice(0,f)===Di(c.d).slice(0,f))return c=c.times(2),i!==0&&(c=c.plus(Ww(w,f+2,j).times(i+""))),c=gl(c,new w(g),f),w.precision=j,t==null?(Dr=!0,gr(c,j)):c;c=d,s+=2}}function mD(e,t){var r,n,s;for((r=t.indexOf("."))>-1&&(t=t.replace(".","")),(n=t.search(/e/i))>0?(r<0&&(r=n),r+=+t.slice(n+1),t=t.substring(0,n)):r<0&&(r=t.length),n=0;t.charCodeAt(n)===48;)++n;for(s=t.length;t.charCodeAt(s-1)===48;)--s;if(t=t.slice(n,s),t){if(s-=n,r=r-n-1,e.e=rf(r/Nr),e.d=[],n=(r+1)%Nr,r<0&&(n+=Nr),n<s){for(n&&e.d.push(+t.slice(0,n)),s-=Nr;n<s;)e.d.push(+t.slice(n,n+=Nr));t=t.slice(n),n=Nr-t.length}else n-=s;for(;n--;)t+="0";if(e.d.push(+t),Dr&&(e.e>lx||e.e<-lx))throw Error(E_+r)}else e.s=0,e.e=0,e.d=[0];return e}function gr(e,t,r){var n,s,i,l,c,d,f,h,g=e.d;for(l=1,i=g[0];i>=10;i/=10)l++;if(n=t-l,n<0)n+=Nr,s=t,f=g[h=0];else{if(h=Math.ceil((n+1)/Nr),i=g.length,h>=i)return e;for(f=i=g[h],l=1;i>=10;i/=10)l++;n%=Nr,s=n-Nr+l}if(r!==void 0&&(i=Ec(10,l-s-1),c=f/i%10|0,d=t<0||g[h+1]!==void 0||f%i,d=r<4?(c||d)&&(r==0||r==(e.s<0?3:2)):c>5||c==5&&(r==4||d||r==6&&(n>0?s>0?f/Ec(10,l-s):0:g[h-1])%10&1||r==(e.s<0?8:7))),t<1||!g[0])return d?(i=on(e),g.length=1,t=t-i-1,g[0]=Ec(10,(Nr-t%Nr)%Nr),e.e=rf(-t/Nr)||0):(g.length=1,g[0]=e.e=e.s=0),e;if(n==0?(g.length=h,i=1,h--):(g.length=h+1,i=Ec(10,Nr-n),g[h]=s>0?(f/Ec(10,l-s)%Ec(10,s)|0)*i:0),d)for(;;)if(h==0){(g[0]+=i)==jn&&(g[0]=1,++e.e);break}else{if(g[h]+=i,g[h]!=jn)break;g[h--]=0,i=1}for(n=g.length;g[--n]===0;)g.pop();if(Dr&&(e.e>lx||e.e<-lx))throw Error(E_+on(e));return e}function rF(e,t){var r,n,s,i,l,c,d,f,h,g,p=e.constructor,y=p.precision;if(!e.s||!t.s)return t.s?t.s=-t.s:t=new p(e),Dr?gr(t,y):t;if(d=e.d,g=t.d,n=t.e,f=e.e,d=d.slice(),l=f-n,l){for(h=l<0,h?(r=d,l=-l,c=g.length):(r=g,n=f,c=d.length),s=Math.max(Math.ceil(y/Nr),c)+2,l>s&&(l=s,r.length=1),r.reverse(),s=l;s--;)r.push(0);r.reverse()}else{for(s=d.length,c=g.length,h=s<c,h&&(c=s),s=0;s<c;s++)if(d[s]!=g[s]){h=d[s]<g[s];break}l=0}for(h&&(r=d,d=g,g=r,t.s=-t.s),c=d.length,s=g.length-c;s>0;--s)d[c++]=0;for(s=g.length;s>l;){if(d[--s]<g[s]){for(i=s;i&&d[--i]===0;)d[i]=jn-1;--d[i],d[s]+=jn}d[s]-=g[s]}for(;d[--c]===0;)d.pop();for(;d[0]===0;d.shift())--n;return d[0]?(t.d=d,t.e=n,Dr?gr(t,y):t):new p(0)}function au(e,t,r){var n,s=on(e),i=Di(e.d),l=i.length;return t?(r&&(n=r-l)>0?i=i.charAt(0)+"."+i.slice(1)+mo(n):l>1&&(i=i.charAt(0)+"."+i.slice(1)),i=i+(s<0?"e":"e+")+s):s<0?(i="0."+mo(-s-1)+i,r&&(n=r-l)>0&&(i+=mo(n))):s>=l?(i+=mo(s+1-l),r&&(n=r-s-1)>0&&(i=i+"."+mo(n))):((n=s+1)<l&&(i=i.slice(0,n)+"."+i.slice(n)),r&&(n=r-l)>0&&(s+1===l&&(i+="."),i+=mo(n))),e.s<0?"-"+i:i}function gD(e,t){if(e.length>t)return e.length=t,!0}function nF(e){var t,r,n;function s(i){var l=this;if(!(l instanceof s))return new s(i);if(l.constructor=s,i instanceof s){l.s=i.s,l.e=i.e,l.d=(i=i.d)?i.slice():i;return}if(typeof i=="number"){if(i*0!==0)throw Error(Yc+i);if(i>0)l.s=1;else if(i<0)i=-i,l.s=-1;else{l.s=0,l.e=0,l.d=[0];return}if(i===~~i&&i<1e7){l.e=0,l.d=[i];return}return mD(l,i.toString())}else if(typeof i!="string")throw Error(Yc+i);if(i.charCodeAt(0)===45?(i=i.slice(1),l.s=-1):l.s=1,gle.test(i))mD(l,i);else throw Error(Yc+i)}if(s.prototype=Je,s.ROUND_UP=0,s.ROUND_DOWN=1,s.ROUND_CEIL=2,s.ROUND_FLOOR=3,s.ROUND_HALF_UP=4,s.ROUND_HALF_DOWN=5,s.ROUND_HALF_EVEN=6,s.ROUND_HALF_CEIL=7,s.ROUND_HALF_FLOOR=8,s.clone=nF,s.config=s.set=ple,e===void 0&&(e={}),e)for(n=["precision","rounding","toExpNeg","toExpPos","LN10"],t=0;t<n.length;)e.hasOwnProperty(r=n[t++])||(e[r]=this[r]);return s.config(e),s}function ple(e){if(!e||typeof e!="object")throw Error(qs+"Object expected");var t,r,n,s=["precision",1,tf,"rounding",0,8,"toExpNeg",-1/0,0,"toExpPos",0,1/0];for(t=0;t<s.length;t+=3)if((n=e[r=s[t]])!==void 0)if(rf(n)===n&&n>=s[t+1]&&n<=s[t+2])this[r]=n;else throw Error(Yc+r+": "+n);if((n=e[r="LN10"])!==void 0)if(n==Math.LN10)this[r]=new this(n);else throw Error(Yc+r+": "+n);return this}var T_=nF(mle);is=new T_(1);const nr=T_;var xle=e=>e,aF={},sF=e=>e===aF,pD=e=>function t(){return arguments.length===0||arguments.length===1&&sF(arguments.length<=0?void 0:arguments[0])?t:e(...arguments)},iF=(e,t)=>e===1?t:pD(function(){for(var r=arguments.length,n=new Array(r),s=0;s<r;s++)n[s]=arguments[s];var i=n.filter(l=>l!==aF).length;return i>=e?t(...n):iF(e-i,pD(function(){for(var l=arguments.length,c=new Array(l),d=0;d<l;d++)c[d]=arguments[d];var f=n.map(h=>sF(h)?c.shift():h);return t(...f,...c)}))}),vy=e=>iF(e.length,e),Yj=(e,t)=>{for(var r=[],n=e;n<t;++n)r[n-e]=n;return r},yle=vy((e,t)=>Array.isArray(t)?t.map(e):Object.keys(t).map(r=>t[r]).map(e)),vle=function(){for(var t=arguments.length,r=new Array(t),n=0;n<t;n++)r[n]=arguments[n];if(!r.length)return xle;var s=r.reverse(),i=s[0],l=s.slice(1);return function(){return l.reduce((c,d)=>d(c),i(...arguments))}},Xj=e=>Array.isArray(e)?e.reverse():e.split("").reverse().join(""),lF=e=>{var t=null,r=null;return function(){for(var n=arguments.length,s=new Array(n),i=0;i<n;i++)s[i]=arguments[i];return t&&s.every((l,c)=>{var d;return l===((d=t)===null||d===void 0?void 0:d[c])})||(t=s,r=e(...s)),r}};function oF(e){var t;return e===0?t=1:t=Math.floor(new nr(e).abs().log(10).toNumber())+1,t}function cF(e,t,r){for(var n=new nr(e),s=0,i=[];n.lt(t)&&s<1e5;)i.push(n.toNumber()),n=n.add(r),s++;return i}vy((e,t,r)=>{var n=+e,s=+t;return n+r*(s-n)});vy((e,t,r)=>{var n=t-+e;return n=n||1/0,(r-e)/n});vy((e,t,r)=>{var n=t-+e;return n=n||1/0,Math.max(0,Math.min(1,(r-e)/n))});var uF=e=>{var[t,r]=e,[n,s]=[t,r];return t>r&&([n,s]=[r,t]),[n,s]},dF=(e,t,r)=>{if(e.lte(0))return new nr(0);var n=oF(e.toNumber()),s=new nr(10).pow(n),i=e.div(s),l=n!==1?.05:.1,c=new nr(Math.ceil(i.div(l).toNumber())).add(r).mul(l),d=c.mul(s);return t?new nr(d.toNumber()):new nr(Math.ceil(d.toNumber()))},ble=(e,t,r)=>{var n=new nr(1),s=new nr(e);if(!s.isint()&&r){var i=Math.abs(e);i<1?(n=new nr(10).pow(oF(e)-1),s=new nr(Math.floor(s.div(n).toNumber())).mul(n)):i>1&&(s=new nr(Math.floor(e)))}else e===0?s=new nr(Math.floor((t-1)/2)):r||(s=new nr(Math.floor(e)));var l=Math.floor((t-1)/2),c=vle(yle(d=>s.add(new nr(d-l).mul(n)).toNumber()),Yj);return c(0,t)},fF=function(t,r,n,s){var i=arguments.length>4&&arguments[4]!==void 0?arguments[4]:0;if(!Number.isFinite((r-t)/(n-1)))return{step:new nr(0),tickMin:new nr(0),tickMax:new nr(0)};var l=dF(new nr(r).sub(t).div(n-1),s,i),c;t<=0&&r>=0?c=new nr(0):(c=new nr(t).add(r).div(2),c=c.sub(new nr(c).mod(l)));var d=Math.ceil(c.sub(t).div(l).toNumber()),f=Math.ceil(new nr(r).sub(c).div(l).toNumber()),h=d+f+1;return h>n?fF(t,r,n,s,i+1):(h<n&&(f=r>0?f+(n-h):f,d=r>0?d:d+(n-h)),{step:l,tickMin:c.sub(new nr(d).mul(l)),tickMax:c.add(new nr(f).mul(l))})};function wle(e){var[t,r]=e,n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:6,s=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0,i=Math.max(n,2),[l,c]=uF([t,r]);if(l===-1/0||c===1/0){var d=c===1/0?[l,...Yj(0,n-1).map(()=>1/0)]:[...Yj(0,n-1).map(()=>-1/0),c];return t>r?Xj(d):d}if(l===c)return ble(l,n,s);var{step:f,tickMin:h,tickMax:g}=fF(l,c,i,s,0),p=cF(h,g.add(new nr(.1).mul(f)),f);return t>r?Xj(p):p}function jle(e,t){var[r,n]=e,s=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0,[i,l]=uF([r,n]);if(i===-1/0||l===1/0)return[r,n];if(i===l)return[i];var c=Math.max(t,2),d=dF(new nr(l).sub(i).div(c-1),s,0),f=[...cF(new nr(i),new nr(l),d),l];return s===!1&&(f=f.map(h=>Math.round(h))),r>n?Xj(f):f}var Nle=lF(wle),Sle=lF(jle),hF=e=>e.rootProps.maxBarSize,_le=e=>e.rootProps.barGap,mF=e=>e.rootProps.barCategoryGap,kle=e=>e.rootProps.barSize,fm=e=>e.rootProps.stackOffset,A_=e=>e.options.chartName,C_=e=>e.rootProps.syncId,gF=e=>e.rootProps.syncMethod,O_=e=>e.options.eventEmitter,il={allowDuplicatedCategory:!0,angleAxisId:0,reversed:!1,scale:"auto",tick:!0,type:"category"},es={allowDataOverflow:!1,allowDuplicatedCategory:!0,radiusAxisId:0,scale:"auto",tick:!0,tickCount:5,type:"number"},by=(e,t)=>{if(!(!e||!t))return e!=null&&e.reversed?[t[1],t[0]]:t},Ele={allowDataOverflow:!1,allowDecimals:!1,allowDuplicatedCategory:!1,dataKey:void 0,domain:void 0,id:il.angleAxisId,includeHidden:!1,name:void 0,reversed:il.reversed,scale:il.scale,tick:il.tick,tickCount:void 0,ticks:void 0,type:il.type,unit:void 0},Tle={allowDataOverflow:es.allowDataOverflow,allowDecimals:!1,allowDuplicatedCategory:es.allowDuplicatedCategory,dataKey:void 0,domain:void 0,id:es.radiusAxisId,includeHidden:!1,name:void 0,reversed:!1,scale:es.scale,tick:es.tick,tickCount:es.tickCount,ticks:void 0,type:es.type,unit:void 0},Ale={allowDataOverflow:!1,allowDecimals:!1,allowDuplicatedCategory:il.allowDuplicatedCategory,dataKey:void 0,domain:void 0,id:il.angleAxisId,includeHidden:!1,name:void 0,reversed:!1,scale:il.scale,tick:il.tick,tickCount:void 0,ticks:void 0,type:"number",unit:void 0},Cle={allowDataOverflow:es.allowDataOverflow,allowDecimals:!1,allowDuplicatedCategory:es.allowDuplicatedCategory,dataKey:void 0,domain:void 0,id:es.radiusAxisId,includeHidden:!1,name:void 0,reversed:!1,scale:es.scale,tick:es.tick,tickCount:es.tickCount,ticks:void 0,type:"category",unit:void 0},D_=(e,t)=>e.polarAxis.angleAxis[t]!=null?e.polarAxis.angleAxis[t]:e.layout.layoutType==="radial"?Ale:Ele,P_=(e,t)=>e.polarAxis.radiusAxis[t]!=null?e.polarAxis.radiusAxis[t]:e.layout.layoutType==="radial"?Cle:Tle,wy=e=>e.polarOptions,M_=ke([Ol,Dl,pn],ZI),pF=ke([wy,M_],(e,t)=>{if(e!=null)return xa(e.innerRadius,t,0)}),xF=ke([wy,M_],(e,t)=>{if(e!=null)return xa(e.outerRadius,t,t*.8)}),Ole=e=>{if(e==null)return[0,0];var{startAngle:t,endAngle:r}=e;return[t,r]},yF=ke([wy],Ole);ke([D_,yF],by);var vF=ke([M_,pF,xF],(e,t,r)=>{if(!(e==null||t==null||r==null))return[t,r]});ke([P_,vF],by);var Dle=ke([qt,wy,pF,xF,Ol,Dl],(e,t,r,n,s,i)=>{if(!(e!=="centric"&&e!=="radial"||t==null||r==null||n==null)){var{cx:l,cy:c,startAngle:d,endAngle:f}=t;return{cx:xa(l,s,s/2),cy:xa(c,i,i/2),innerRadius:r,outerRadius:n,startAngle:d,endAngle:f,clockWise:!1}}}),Zr=(e,t)=>t,hm=(e,t,r)=>r;function xD(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,n)}return r}function ox(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?xD(Object(r),!0).forEach(function(n){Ple(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):xD(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Ple(e,t,r){return(t=Mle(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Mle(e){var t=Rle(e,"string");return typeof t=="symbol"?t:t+""}function Rle(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var Qj=[0,"auto"],Xa={allowDataOverflow:!1,allowDecimals:!0,allowDuplicatedCategory:!0,angle:0,dataKey:void 0,domain:void 0,height:30,hide:!0,id:0,includeHidden:!1,interval:"preserveEnd",minTickGap:5,mirror:!1,name:void 0,orientation:"bottom",padding:{left:0,right:0},reversed:!1,scale:"auto",tick:!0,tickCount:5,tickFormatter:void 0,ticks:void 0,type:"category",unit:void 0},Ml=(e,t)=>{var r=e.cartesianAxis.xAxis[t];return r??Xa},Qa={allowDataOverflow:!1,allowDecimals:!0,allowDuplicatedCategory:!0,angle:0,dataKey:void 0,domain:Qj,hide:!0,id:0,includeHidden:!1,interval:"preserveEnd",minTickGap:5,mirror:!1,name:void 0,orientation:"left",padding:{top:0,bottom:0},reversed:!1,scale:"auto",tick:!0,tickCount:5,tickFormatter:void 0,ticks:void 0,type:"number",unit:void 0,width:cy},Qo=(e,t)=>{var r=e.cartesianAxis.yAxis[t];return r??Qa},Ile={domain:[0,"auto"],includeHidden:!1,reversed:!1,allowDataOverflow:!1,allowDuplicatedCategory:!1,dataKey:void 0,id:0,name:"",range:[64,64],scale:"auto",type:"number",unit:""},R_=(e,t)=>{var r=e.cartesianAxis.zAxis[t];return r??Ile},Jr=(e,t,r)=>{switch(t){case"xAxis":return Ml(e,r);case"yAxis":return Qo(e,r);case"zAxis":return R_(e,r);case"angleAxis":return D_(e,r);case"radiusAxis":return P_(e,r);default:throw new Error("Unexpected axis type: ".concat(t))}},Fle=(e,t,r)=>{switch(t){case"xAxis":return Ml(e,r);case"yAxis":return Qo(e,r);default:throw new Error("Unexpected axis type: ".concat(t))}},mm=(e,t,r)=>{switch(t){case"xAxis":return Ml(e,r);case"yAxis":return Qo(e,r);case"angleAxis":return D_(e,r);case"radiusAxis":return P_(e,r);default:throw new Error("Unexpected axis type: ".concat(t))}},bF=e=>e.graphicalItems.countOfBars>0;function I_(e,t){return r=>{switch(e){case"xAxis":return"xAxisId"in r&&r.xAxisId===t;case"yAxis":return"yAxisId"in r&&r.yAxisId===t;case"zAxis":return"zAxisId"in r&&r.zAxisId===t;case"angleAxis":return"angleAxisId"in r&&r.angleAxisId===t;case"radiusAxis":return"radiusAxisId"in r&&r.radiusAxisId===t;default:return!1}}}var jy=e=>e.graphicalItems.cartesianItems,Lle=ke([Zr,hm],I_),F_=(e,t,r)=>e.filter(r).filter(n=>t?.includeHidden===!0?!0:!n.hide),gm=ke([jy,Jr,Lle],F_),wF=e=>e.filter(t=>t.stackId===void 0),Ble=ke([gm],wF),L_=e=>e.map(t=>t.data).filter(Boolean).flat(1),$le=ke([gm],L_),B_=(e,t)=>{var{chartData:r=[],dataStartIndex:n,dataEndIndex:s}=t;return e.length>0?e:r.slice(n,s+1)},Ny=ke([$le,k_],B_),$_=(e,t,r)=>t?.dataKey!=null?e.map(n=>({value:Sr(n,t.dataKey)})):r.length>0?r.map(n=>n.dataKey).flatMap(n=>e.map(s=>({value:Sr(s,n)}))):e.map(n=>({value:n})),Sy=ke([Ny,Jr,gm],$_);function jF(e,t){switch(e){case"xAxis":return t.direction==="x";case"yAxis":return t.direction==="y";default:return!1}}function gu(e){return e.filter(t=>Li(t)||t instanceof Date).map(Number).filter(t=>fs(t)===!1)}function Ule(e,t,r){return!r||typeof t!="number"||fs(t)?[]:r.length?gu(r.flatMap(n=>{var s=Sr(e,n.dataKey),i,l;if(Array.isArray(s)?[i,l]=s:i=l=s,!(!gs(i)||!gs(l)))return[t-i,t+l]})):[]}var NF=(e,t,r)=>{var n={},s=t.reduce((i,l)=>(l.stackId==null||(i[l.stackId]==null&&(i[l.stackId]=[]),i[l.stackId].push(l)),i),n);return Object.fromEntries(Object.entries(s).map(i=>{var[l,c]=i,d=c.map(f=>f.dataKey);return[l,{stackedData:Ure(e,d,r),graphicalItems:c}]}))},Zj=ke([Ny,gm,fm],NF),SF=(e,t,r)=>{var{dataStartIndex:n,dataEndIndex:s}=t;if(r!=="zAxis"){var i=qre(e,n,s);if(!(i!=null&&i[0]===0&&i[1]===0))return i}},zle=ke([Zj,mu,Zr],SF),_F=(e,t,r,n)=>r.length>0?e.flatMap(s=>r.flatMap(i=>{var l,c,d=(l=i.errorBars)===null||l===void 0?void 0:l.filter(h=>jF(n,h)),f=Sr(s,(c=t.dataKey)!==null&&c!==void 0?c:i.dataKey);return{value:f,errorDomain:Ule(s,f,d)}})).filter(Boolean):t?.dataKey!=null?e.map(s=>({value:Sr(s,t.dataKey),errorDomain:[]})):e.map(s=>({value:s,errorDomain:[]})),Hle=ke(Ny,Jr,Ble,Zr,_F);function Vle(e){var{value:t}=e;if(Li(t)||t instanceof Date)return t}var qle=e=>{var t=e.flatMap(n=>[n.value,n.errorDomain]).flat(1),r=gu(t);if(r.length!==0)return[Math.min(...r),Math.max(...r)]},Wle=(e,t,r)=>{var n=e.map(Vle).filter(s=>s!=null);return r&&(t.dataKey==null||t.allowDuplicatedCategory&&K8(n))?y7(0,e.length):t.allowDuplicatedCategory?n:Array.from(new Set(n))},U_=e=>{var t;if(e==null||!("domain"in e))return Qj;if(e.domain!=null)return e.domain;if(e.ticks!=null){if(e.type==="number"){var r=gu(e.ticks);return[Math.min(...r),Math.max(...r)]}if(e.type==="category")return e.ticks.map(String)}return(t=e?.domain)!==null&&t!==void 0?t:Qj},z_=function(){for(var t=arguments.length,r=new Array(t),n=0;n<t;n++)r[n]=arguments[n];var s=r.filter(Boolean);if(s.length!==0){var i=s.flat(),l=Math.min(...i),c=Math.max(...i);return[l,c]}},kF=e=>e.referenceElements.dots,nf=(e,t,r)=>e.filter(n=>n.ifOverflow==="extendDomain").filter(n=>t==="xAxis"?n.xAxisId===r:n.yAxisId===r),Gle=ke([kF,Zr,hm],nf),EF=e=>e.referenceElements.areas,Kle=ke([EF,Zr,hm],nf),TF=e=>e.referenceElements.lines,Yle=ke([TF,Zr,hm],nf),AF=(e,t)=>{var r=gu(e.map(n=>t==="xAxis"?n.x:n.y));if(r.length!==0)return[Math.min(...r),Math.max(...r)]},Xle=ke(Gle,Zr,AF),CF=(e,t)=>{var r=gu(e.flatMap(n=>[t==="xAxis"?n.x1:n.y1,t==="xAxis"?n.x2:n.y2]));if(r.length!==0)return[Math.min(...r),Math.max(...r)]},Qle=ke([Kle,Zr],CF),OF=(e,t)=>{var r=gu(e.map(n=>t==="xAxis"?n.x:n.y));if(r.length!==0)return[Math.min(...r),Math.max(...r)]},Zle=ke(Yle,Zr,OF),Jle=ke(Xle,Zle,Qle,(e,t,r)=>z_(e,r,t)),DF=ke([Jr],U_),H_=(e,t,r,n,s)=>{var i=fle(t,e.allowDataOverflow);return i??hle(t,z_(r,s,qle(n)),e.allowDataOverflow)},eoe=ke([Jr,DF,zle,Hle,Jle],H_),toe=[0,1],V_=(e,t,r,n,s,i,l)=>{if(!(e==null||r==null||r.length===0)){var{dataKey:c,type:d}=e,f=Ko(t,i);return f&&c==null?y7(0,r.length):d==="category"?Wle(n,e,f):s==="expand"?toe:l}},q_=ke([Jr,qt,Ny,Sy,fm,Zr,eoe],V_),PF=(e,t,r,n,s)=>{if(e!=null){var{scale:i,type:l}=e;if(i==="auto")return t==="radial"&&s==="radiusAxis"?"band":t==="radial"&&s==="angleAxis"?"linear":l==="category"&&n&&(n.indexOf("LineChart")>=0||n.indexOf("AreaChart")>=0||n.indexOf("ComposedChart")>=0&&!r)?"point":l==="category"?"band":"linear";if(typeof i=="string"){var c="scale".concat(am(i));return c in F0?c:"point"}}},af=ke([Jr,qt,bF,A_,Zr],PF);function roe(e){if(e!=null){if(e in F0)return F0[e]();var t="scale".concat(am(e));if(t in F0)return F0[t]()}}function W_(e,t,r,n){if(!(r==null||n==null)){if(typeof e.scale=="function")return e.scale.copy().domain(r).range(n);var s=roe(t);if(s!=null){var i=s.domain(r).range(n);return Ire(i),i}}}var G_=(e,t,r)=>{var n=U_(t);if(!(r!=="auto"&&r!=="linear")){if(t!=null&&t.tickCount&&Array.isArray(n)&&(n[0]==="auto"||n[1]==="auto")&&Id(e))return Nle(e,t.tickCount,t.allowDecimals);if(t!=null&&t.tickCount&&t.type==="number"&&Id(e))return Sle(e,t.tickCount,t.allowDecimals)}},K_=ke([q_,mm,af],G_),Y_=(e,t,r,n)=>{if(n!=="angleAxis"&&e?.type==="number"&&Id(t)&&Array.isArray(r)&&r.length>0){var s=t[0],i=r[0],l=t[1],c=r[r.length-1];return[Math.min(s,i),Math.max(l,c)]}return t},noe=ke([Jr,q_,K_,Zr],Y_),aoe=ke(Sy,Jr,(e,t)=>{if(!(!t||t.type!=="number")){var r=1/0,n=Array.from(gu(e.map(c=>c.value))).sort((c,d)=>c-d);if(n.length<2)return 1/0;var s=n[n.length-1]-n[0];if(s===0)return 1/0;for(var i=0;i<n.length-1;i++){var l=n[i+1]-n[i];r=Math.min(r,l)}return r/s}}),MF=ke(aoe,qt,mF,pn,(e,t,r,n)=>n,(e,t,r,n,s)=>{if(!gs(e))return 0;var i=t==="vertical"?n.height:n.width;if(s==="gap")return e*i/2;if(s==="no-gap"){var l=xa(r,e*i),c=e*i/2;return c-l-(c-l)/i*l}return 0}),soe=(e,t)=>{var r=Ml(e,t);return r==null||typeof r.padding!="string"?0:MF(e,"xAxis",t,r.padding)},ioe=(e,t)=>{var r=Qo(e,t);return r==null||typeof r.padding!="string"?0:MF(e,"yAxis",t,r.padding)},loe=ke(Ml,soe,(e,t)=>{var r,n;if(e==null)return{left:0,right:0};var{padding:s}=e;return typeof s=="string"?{left:t,right:t}:{left:((r=s.left)!==null&&r!==void 0?r:0)+t,right:((n=s.right)!==null&&n!==void 0?n:0)+t}}),ooe=ke(Qo,ioe,(e,t)=>{var r,n;if(e==null)return{top:0,bottom:0};var{padding:s}=e;return typeof s=="string"?{top:t,bottom:t}:{top:((r=s.top)!==null&&r!==void 0?r:0)+t,bottom:((n=s.bottom)!==null&&n!==void 0?n:0)+t}}),coe=ke([pn,loe,dy,uy,(e,t,r)=>r],(e,t,r,n,s)=>{var{padding:i}=n;return s?[i.left,r.width-i.right]:[e.left+t.left,e.left+e.width-t.right]}),uoe=ke([pn,qt,ooe,dy,uy,(e,t,r)=>r],(e,t,r,n,s,i)=>{var{padding:l}=s;return i?[n.height-l.bottom,l.top]:t==="horizontal"?[e.top+e.height-r.bottom,e.top+r.top]:[e.top+r.top,e.top+e.height-r.bottom]}),pm=(e,t,r,n)=>{var s;switch(t){case"xAxis":return coe(e,r,n);case"yAxis":return uoe(e,r,n);case"zAxis":return(s=R_(e,r))===null||s===void 0?void 0:s.range;case"angleAxis":return yF(e);case"radiusAxis":return vF(e,r);default:return}},RF=ke([Jr,pm],by),sf=ke([Jr,af,noe,RF],W_);ke(gm,Zr,(e,t)=>e.flatMap(r=>{var n;return(n=r.errorBars)!==null&&n!==void 0?n:[]}).filter(r=>jF(t,r)));function IF(e,t){return e.id<t.id?-1:e.id>t.id?1:0}var _y=(e,t)=>t,ky=(e,t,r)=>r,doe=ke(KS,_y,ky,(e,t,r)=>e.filter(n=>n.orientation===t).filter(n=>n.mirror===r).sort(IF)),foe=ke(YS,_y,ky,(e,t,r)=>e.filter(n=>n.orientation===t).filter(n=>n.mirror===r).sort(IF)),FF=(e,t)=>({width:e.width,height:t.height}),hoe=(e,t)=>{var r=typeof t.width=="number"?t.width:cy;return{width:r,height:e.height}},LF=ke(pn,Ml,FF),moe=(e,t,r)=>{switch(t){case"top":return e.top;case"bottom":return r-e.bottom;default:return 0}},goe=(e,t,r)=>{switch(t){case"left":return e.left;case"right":return r-e.right;default:return 0}},poe=ke(Dl,pn,doe,_y,ky,(e,t,r,n,s)=>{var i={},l;return r.forEach(c=>{var d=FF(t,c);l==null&&(l=moe(t,n,e));var f=n==="top"&&!s||n==="bottom"&&s;i[c.id]=l-Number(f)*d.height,l+=(f?-1:1)*d.height}),i}),xoe=ke(Ol,pn,foe,_y,ky,(e,t,r,n,s)=>{var i={},l;return r.forEach(c=>{var d=hoe(t,c);l==null&&(l=goe(t,n,e));var f=n==="left"&&!s||n==="right"&&s;i[c.id]=l-Number(f)*d.width,l+=(f?-1:1)*d.width}),i}),yoe=(e,t)=>{var r=pn(e),n=Ml(e,t);if(n!=null){var s=poe(e,n.orientation,n.mirror),i=s[t];return i==null?{x:r.left,y:0}:{x:r.left,y:i}}},voe=(e,t)=>{var r=pn(e),n=Qo(e,t);if(n!=null){var s=xoe(e,n.orientation,n.mirror),i=s[t];return i==null?{x:0,y:r.top}:{x:i,y:r.top}}},BF=ke(pn,Qo,(e,t)=>{var r=typeof t.width=="number"?t.width:cy;return{width:r,height:e.height}}),yD=(e,t,r)=>{switch(t){case"xAxis":return LF(e,r).width;case"yAxis":return BF(e,r).height;default:return}},$F=(e,t,r,n)=>{if(r!=null){var{allowDuplicatedCategory:s,type:i,dataKey:l}=r,c=Ko(e,n),d=t.map(f=>f.value);if(l&&c&&i==="category"&&s&&K8(d))return d}},X_=ke([qt,Sy,Jr,Zr],$F),UF=(e,t,r,n)=>{if(!(r==null||r.dataKey==null)){var{type:s,scale:i}=r,l=Ko(e,n);if(l&&(s==="number"||i!=="auto"))return t.map(c=>c.value)}},Q_=ke([qt,Sy,mm,Zr],UF),vD=ke([qt,Fle,af,sf,X_,Q_,pm,K_,Zr],(e,t,r,n,s,i,l,c,d)=>{if(t==null)return null;var f=Ko(e,d);return{angle:t.angle,interval:t.interval,minTickGap:t.minTickGap,orientation:t.orientation,tick:t.tick,tickCount:t.tickCount,tickFormatter:t.tickFormatter,ticks:t.ticks,type:t.type,unit:t.unit,axisType:d,categoricalDomain:i,duplicateDomain:s,isCategorical:f,niceTicks:c,range:l,realScaleType:r,scale:n}}),boe=(e,t,r,n,s,i,l,c,d)=>{if(!(t==null||n==null)){var f=Ko(e,d),{type:h,ticks:g,tickCount:p}=t,y=r==="scaleBand"&&typeof n.bandwidth=="function"?n.bandwidth()/2:2,b=h==="category"&&n.bandwidth?n.bandwidth()/y:0;b=d==="angleAxis"&&i!=null&&i.length>=2?Sn(i[0]-i[1])*2*b:b;var w=g||s;if(w){var j=w.map((S,k)=>{var E=l?l.indexOf(S):S;return{index:k,coordinate:n(E)+b,value:S,offset:b}});return j.filter(S=>!fs(S.coordinate))}return f&&c?c.map((S,k)=>({coordinate:n(S)+b,value:S,index:k,offset:b})):n.ticks?n.ticks(p).map(S=>({coordinate:n(S)+b,value:S,offset:b})):n.domain().map((S,k)=>({coordinate:n(S)+b,value:l?l[S]:S,index:k,offset:b}))}},zF=ke([qt,mm,af,sf,K_,pm,X_,Q_,Zr],boe),woe=(e,t,r,n,s,i,l)=>{if(!(t==null||r==null||n==null||n[0]===n[1])){var c=Ko(e,l),{tickCount:d}=t,f=0;return f=l==="angleAxis"&&n?.length>=2?Sn(n[0]-n[1])*2*f:f,c&&i?i.map((h,g)=>({coordinate:r(h)+f,value:h,index:g,offset:f})):r.ticks?r.ticks(d).map(h=>({coordinate:r(h)+f,value:h,offset:f})):r.domain().map((h,g)=>({coordinate:r(h)+f,value:s?s[h]:h,index:g,offset:f}))}},Lo=ke([qt,mm,sf,pm,X_,Q_,Zr],woe),$i=ke(Jr,sf,(e,t)=>{if(!(e==null||t==null))return ox(ox({},e),{},{scale:t})}),joe=ke([Jr,af,q_,RF],W_);ke((e,t,r)=>R_(e,r),joe,(e,t)=>{if(!(e==null||t==null))return ox(ox({},e),{},{scale:t})});var Noe=ke([qt,KS,YS],(e,t,r)=>{switch(e){case"horizontal":return t.some(n=>n.reversed)?"right-to-left":"left-to-right";case"vertical":return r.some(n=>n.reversed)?"bottom-to-top":"top-to-bottom";case"centric":case"radial":return"left-to-right";default:return}}),HF=e=>e.options.defaultTooltipEventType,VF=e=>e.options.validateTooltipEventTypes;function qF(e,t,r){if(e==null)return t;var n=e?"axis":"item";return r==null?t:r.includes(n)?n:t}function Z_(e,t){var r=HF(e),n=VF(e);return qF(t,r,n)}function Soe(e){return nt(t=>Z_(t,e))}var WF=(e,t)=>{var r,n=Number(t);if(!(fs(n)||t==null))return n>=0?e==null||(r=e[n])===null||r===void 0?void 0:r.value:void 0},_oe=e=>e.tooltip.settings,go={active:!1,index:null,dataKey:void 0,coordinate:void 0},koe={itemInteraction:{click:go,hover:go},axisInteraction:{click:go,hover:go},keyboardInteraction:go,syncInteraction:{active:!1,index:null,dataKey:void 0,label:void 0,coordinate:void 0},tooltipItemPayloads:[],settings:{shared:void 0,trigger:"hover",axisId:0,active:!1,defaultIndex:void 0}},GF=Ws({name:"tooltip",initialState:koe,reducers:{addTooltipEntrySettings(e,t){e.tooltipItemPayloads.push(t.payload)},removeTooltipEntrySettings(e,t){var r=ml(e).tooltipItemPayloads.indexOf(t.payload);r>-1&&e.tooltipItemPayloads.splice(r,1)},setTooltipSettingsState(e,t){e.settings=t.payload},setActiveMouseOverItemIndex(e,t){e.syncInteraction.active=!1,e.keyboardInteraction.active=!1,e.itemInteraction.hover.active=!0,e.itemInteraction.hover.index=t.payload.activeIndex,e.itemInteraction.hover.dataKey=t.payload.activeDataKey,e.itemInteraction.hover.coordinate=t.payload.activeCoordinate},mouseLeaveChart(e){e.itemInteraction.hover.active=!1,e.axisInteraction.hover.active=!1},mouseLeaveItem(e){e.itemInteraction.hover.active=!1},setActiveClickItemIndex(e,t){e.syncInteraction.active=!1,e.itemInteraction.click.active=!0,e.keyboardInteraction.active=!1,e.itemInteraction.click.index=t.payload.activeIndex,e.itemInteraction.click.dataKey=t.payload.activeDataKey,e.itemInteraction.click.coordinate=t.payload.activeCoordinate},setMouseOverAxisIndex(e,t){e.syncInteraction.active=!1,e.axisInteraction.hover.active=!0,e.keyboardInteraction.active=!1,e.axisInteraction.hover.index=t.payload.activeIndex,e.axisInteraction.hover.dataKey=t.payload.activeDataKey,e.axisInteraction.hover.coordinate=t.payload.activeCoordinate},setMouseClickAxisIndex(e,t){e.syncInteraction.active=!1,e.keyboardInteraction.active=!1,e.axisInteraction.click.active=!0,e.axisInteraction.click.index=t.payload.activeIndex,e.axisInteraction.click.dataKey=t.payload.activeDataKey,e.axisInteraction.click.coordinate=t.payload.activeCoordinate},setSyncInteraction(e,t){e.syncInteraction=t.payload},setKeyboardInteraction(e,t){e.keyboardInteraction.active=t.payload.active,e.keyboardInteraction.index=t.payload.activeIndex,e.keyboardInteraction.coordinate=t.payload.activeCoordinate,e.keyboardInteraction.dataKey=t.payload.activeDataKey}}}),{addTooltipEntrySettings:Eoe,removeTooltipEntrySettings:Toe,setTooltipSettingsState:Aoe,setActiveMouseOverItemIndex:KF,mouseLeaveItem:Coe,mouseLeaveChart:YF,setActiveClickItemIndex:Ooe,setMouseOverAxisIndex:XF,setMouseClickAxisIndex:Doe,setSyncInteraction:Jj,setKeyboardInteraction:eN}=GF.actions,Poe=GF.reducer;function bD(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,n)}return r}function Zg(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?bD(Object(r),!0).forEach(function(n){Moe(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):bD(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Moe(e,t,r){return(t=Roe(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Roe(e){var t=Ioe(e,"string");return typeof t=="symbol"?t:t+""}function Ioe(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Foe(e,t,r){return t==="axis"?r==="click"?e.axisInteraction.click:e.axisInteraction.hover:r==="click"?e.itemInteraction.click:e.itemInteraction.hover}function Loe(e){return e.index!=null}var QF=(e,t,r,n)=>{if(t==null)return go;var s=Foe(e,t,r);if(s==null)return go;if(s.active)return s;if(e.keyboardInteraction.active)return e.keyboardInteraction;if(e.syncInteraction.active&&e.syncInteraction.index!=null)return e.syncInteraction;var i=e.settings.active===!0;if(Loe(s)){if(i)return Zg(Zg({},s),{},{active:!0})}else if(n!=null)return{active:!0,coordinate:void 0,dataKey:void 0,index:n};return Zg(Zg({},go),{},{coordinate:s.coordinate})},J_=(e,t)=>{var r=e?.index;if(r==null)return null;var n=Number(r);if(!gs(n))return r;var s=0,i=1/0;return t.length>0&&(i=t.length-1),String(Math.max(s,Math.min(n,i)))},ZF=(e,t,r,n,s,i,l,c)=>{if(!(i==null||c==null)){var d=l[0],f=d==null?void 0:c(d.positions,i);if(f!=null)return f;var h=s?.[Number(i)];if(h)switch(r){case"horizontal":return{x:h.coordinate,y:(n.top+t)/2};default:return{x:(n.left+e)/2,y:h.coordinate}}}},JF=(e,t,r,n)=>{if(t==="axis")return e.tooltipItemPayloads;if(e.tooltipItemPayloads.length===0)return[];var s;return r==="hover"?s=e.itemInteraction.hover.dataKey:s=e.itemInteraction.click.dataKey,s==null&&n!=null?[e.tooltipItemPayloads[0]]:e.tooltipItemPayloads.filter(i=>{var l;return((l=i.settings)===null||l===void 0?void 0:l.dataKey)===s})},xm=e=>e.options.tooltipPayloadSearcher,lf=e=>e.tooltip;function wD(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,n)}return r}function jD(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?wD(Object(r),!0).forEach(function(n){Boe(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):wD(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Boe(e,t,r){return(t=$oe(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function $oe(e){var t=Uoe(e,"string");return typeof t=="symbol"?t:t+""}function Uoe(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function zoe(e,t,r){return Array.isArray(e)&&e&&t+r!==0?e.slice(t,r+1):e}function Hoe(e,t){return e??t}var eL=(e,t,r,n,s,i,l)=>{if(!(t==null||i==null)){var{chartData:c,computedData:d,dataStartIndex:f,dataEndIndex:h}=r,g=[];return e.reduce((p,y)=>{var b,{dataDefinedOnItem:w,settings:j}=y,S=Hoe(w,c),k=zoe(S,f,h),E=(b=j?.dataKey)!==null&&b!==void 0?b:n?.dataKey,C=j?.nameKey,T;if(n!=null&&n.dataKey&&Array.isArray(k)&&!Array.isArray(k[0])&&l==="axis"?T=Y8(k,n.dataKey,s):T=i(k,t,d,C),Array.isArray(T))T.forEach(O=>{var D=jD(jD({},j),{},{name:O.name,unit:O.unit,color:void 0,fill:void 0});p.push(rO({tooltipEntrySettings:D,dataKey:O.dataKey,payload:O.payload,value:Sr(O.payload,O.dataKey),name:O.name}))});else{var A;p.push(rO({tooltipEntrySettings:j,dataKey:E,payload:T,value:Sr(T,E),name:(A=Sr(T,C))!==null&&A!==void 0?A:j?.name}))}return p},g)}},On=e=>{var t=qt(e);return t==="horizontal"?"xAxis":t==="vertical"?"yAxis":t==="centric"?"angleAxis":"radiusAxis"},of=e=>e.tooltip.settings.axisId,Kn=e=>{var t=On(e),r=of(e);return mm(e,t,r)},ek=ke([Kn,qt,bF,A_,On],PF),Voe=ke([e=>e.graphicalItems.cartesianItems,e=>e.graphicalItems.polarItems],(e,t)=>[...e,...t]),qoe=ke([On,of],I_),Ey=ke([Voe,Kn,qoe],F_),Woe=ke([Ey],L_),pu=ke([Woe,mu],B_),tk=ke([pu,Kn,Ey],$_),Goe=ke([Kn],U_),Koe=ke([pu,Ey,fm],NF),Yoe=ke([Koe,mu,On],SF),Xoe=ke([Ey],wF),Qoe=ke([pu,Kn,Xoe,On],_F),Zoe=ke([kF,On,of],nf),Joe=ke([Zoe,On],AF),ece=ke([EF,On,of],nf),tce=ke([ece,On],CF),rce=ke([TF,On,of],nf),nce=ke([rce,On],OF),ace=ke([Joe,nce,tce],z_),sce=ke([Kn,Goe,Yoe,Qoe,ace],H_),tL=ke([Kn,qt,pu,tk,fm,On,sce],V_),ice=ke([tL,Kn,ek],G_),lce=ke([Kn,tL,ice,On],Y_),rL=e=>{var t=On(e),r=of(e),n=!1;return pm(e,t,r,n)},nL=ke([Kn,rL],by),aL=ke([Kn,ek,lce,nL],W_),oce=ke([qt,tk,Kn,On],$F),cce=ke([qt,tk,Kn,On],UF),uce=(e,t,r,n,s,i,l,c)=>{if(t){var{type:d}=t,f=Ko(e,c);if(n){var h=r==="scaleBand"&&n.bandwidth?n.bandwidth()/2:2,g=d==="category"&&n.bandwidth?n.bandwidth()/h:0;return g=c==="angleAxis"&&s!=null&&s?.length>=2?Sn(s[0]-s[1])*2*g:g,f&&l?l.map((p,y)=>({coordinate:n(p)+g,value:p,index:y,offset:g})):n.domain().map((p,y)=>({coordinate:n(p)+g,value:i?i[p]:p,index:y,offset:g}))}}},Rl=ke([qt,Kn,ek,aL,rL,oce,cce,On],uce),rk=ke([HF,VF,_oe],(e,t,r)=>qF(r.shared,e,t)),sL=e=>e.tooltip.settings.trigger,nk=e=>e.tooltip.settings.defaultIndex,Ty=ke([lf,rk,sL,nk],QF),Bo=ke([Ty,pu],J_),iL=ke([Rl,Bo],WF),lL=ke([Ty],e=>{if(e)return e.dataKey}),oL=ke([lf,rk,sL,nk],JF),dce=ke([Ol,Dl,qt,pn,Rl,nk,oL,xm],ZF),fce=ke([Ty,dce],(e,t)=>e!=null&&e.coordinate?e.coordinate:t),hce=ke([Ty],e=>e.active),mce=ke([oL,Bo,mu,Kn,iL,xm,rk],eL),gce=ke([mce],e=>{if(e!=null){var t=e.map(r=>r.payload).filter(r=>r!=null);return Array.from(new Set(t))}});function ND(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,n)}return r}function SD(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?ND(Object(r),!0).forEach(function(n){pce(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):ND(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function pce(e,t,r){return(t=xce(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function xce(e){var t=yce(e,"string");return typeof t=="symbol"?t:t+""}function yce(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var vce=()=>nt(Kn),bce=()=>{var e=vce(),t=nt(Rl),r=nt(aL);return _h(SD(SD({},e),{},{scale:r}),t)},wce=()=>nt(A_),ak=(e,t)=>t,cL=(e,t,r)=>r,sk=(e,t,r,n)=>n,jce=ke(Rl,e=>ry(e,t=>t.coordinate)),ik=ke([lf,ak,cL,sk],QF),uL=ke([ik,pu],J_),Nce=(e,t,r)=>{if(t!=null){var n=lf(e);return t==="axis"?r==="hover"?n.axisInteraction.hover.dataKey:n.axisInteraction.click.dataKey:r==="hover"?n.itemInteraction.hover.dataKey:n.itemInteraction.click.dataKey}},dL=ke([lf,ak,cL,sk],JF),cx=ke([Ol,Dl,qt,pn,Rl,sk,dL,xm],ZF),Sce=ke([ik,cx],(e,t)=>{var r;return(r=e.coordinate)!==null&&r!==void 0?r:t}),fL=ke(Rl,uL,WF),_ce=ke([dL,uL,mu,Kn,fL,xm,ak],eL),kce=ke([ik],e=>({isActive:e.active,activeIndex:e.index})),Ece=(e,t,r,n,s,i,l,c)=>{if(!(!e||!t||!n||!s||!i)){var d=Wre(e.chartX,e.chartY,t,r,c);if(d){var f=Kre(d,t),h=Mre(f,l,i,n,s),g=Gre(t,i,h,d);return{activeIndex:String(h),activeCoordinate:g}}}};function tN(){return tN=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},tN.apply(null,arguments)}function _D(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,n)}return r}function Jg(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?_D(Object(r),!0).forEach(function(n){Tce(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):_D(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Tce(e,t,r){return(t=Ace(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Ace(e){var t=Cce(e,"string");return typeof t=="symbol"?t:t+""}function Cce(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Oce(e){var{coordinate:t,payload:r,index:n,offset:s,tooltipAxisBandSize:i,layout:l,cursor:c,tooltipEventType:d,chartName:f}=e,h=t,g=r,p=n;if(!c||!h||f!=="ScatterChart"&&d!=="axis")return null;var y,b;if(f==="ScatterChart")y=h,b=qne;else if(f==="BarChart")y=Wne(l,h,s,i),b=m7;else if(l==="radial"){var{cx:w,cy:j,radius:S,startAngle:k,endAngle:E}=g7(h);y={cx:w,cy:j,startAngle:k,endAngle:E,innerRadius:S,outerRadius:S},b=x7}else y={points:Dae(l,h,s)},b=e_;var C=typeof c=="object"&&"className"in c?c.className:void 0,T=Jg(Jg(Jg(Jg({stroke:"#ccc",pointerEvents:"none"},s),y),Dt(c,!1)),{},{payload:g,payloadIndex:p,className:Ut("recharts-tooltip-cursor",C)});return v.isValidElement(c)?v.cloneElement(c,T):v.createElement(b,T)}function Dce(e){var t=bce(),r=i7(),n=fy(),s=wce();return v.createElement(Oce,tN({},e,{coordinate:e.coordinate,index:e.index,payload:e.payload,offset:r,layout:n,tooltipAxisBandSize:t,chartName:s}))}var hL=v.createContext(null),Pce=()=>v.useContext(hL),Gw={exports:{}},kD;function Mce(){return kD||(kD=1,function(e){var t=Object.prototype.hasOwnProperty,r="~";function n(){}Object.create&&(n.prototype=Object.create(null),new n().__proto__||(r=!1));function s(d,f,h){this.fn=d,this.context=f,this.once=h||!1}function i(d,f,h,g,p){if(typeof h!="function")throw new TypeError("The listener must be a function");var y=new s(h,g||d,p),b=r?r+f:f;return d._events[b]?d._events[b].fn?d._events[b]=[d._events[b],y]:d._events[b].push(y):(d._events[b]=y,d._eventsCount++),d}function l(d,f){--d._eventsCount===0?d._events=new n:delete d._events[f]}function c(){this._events=new n,this._eventsCount=0}c.prototype.eventNames=function(){var f=[],h,g;if(this._eventsCount===0)return f;for(g in h=this._events)t.call(h,g)&&f.push(r?g.slice(1):g);return Object.getOwnPropertySymbols?f.concat(Object.getOwnPropertySymbols(h)):f},c.prototype.listeners=function(f){var h=r?r+f:f,g=this._events[h];if(!g)return[];if(g.fn)return[g.fn];for(var p=0,y=g.length,b=new Array(y);p<y;p++)b[p]=g[p].fn;return b},c.prototype.listenerCount=function(f){var h=r?r+f:f,g=this._events[h];return g?g.fn?1:g.length:0},c.prototype.emit=function(f,h,g,p,y,b){var w=r?r+f:f;if(!this._events[w])return!1;var j=this._events[w],S=arguments.length,k,E;if(j.fn){switch(j.once&&this.removeListener(f,j.fn,void 0,!0),S){case 1:return j.fn.call(j.context),!0;case 2:return j.fn.call(j.context,h),!0;case 3:return j.fn.call(j.context,h,g),!0;case 4:return j.fn.call(j.context,h,g,p),!0;case 5:return j.fn.call(j.context,h,g,p,y),!0;case 6:return j.fn.call(j.context,h,g,p,y,b),!0}for(E=1,k=new Array(S-1);E<S;E++)k[E-1]=arguments[E];j.fn.apply(j.context,k)}else{var C=j.length,T;for(E=0;E<C;E++)switch(j[E].once&&this.removeListener(f,j[E].fn,void 0,!0),S){case 1:j[E].fn.call(j[E].context);break;case 2:j[E].fn.call(j[E].context,h);break;case 3:j[E].fn.call(j[E].context,h,g);break;case 4:j[E].fn.call(j[E].context,h,g,p);break;default:if(!k)for(T=1,k=new Array(S-1);T<S;T++)k[T-1]=arguments[T];j[E].fn.apply(j[E].context,k)}}return!0},c.prototype.on=function(f,h,g){return i(this,f,h,g,!1)},c.prototype.once=function(f,h,g){return i(this,f,h,g,!0)},c.prototype.removeListener=function(f,h,g,p){var y=r?r+f:f;if(!this._events[y])return this;if(!h)return l(this,y),this;var b=this._events[y];if(b.fn)b.fn===h&&(!p||b.once)&&(!g||b.context===g)&&l(this,y);else{for(var w=0,j=[],S=b.length;w<S;w++)(b[w].fn!==h||p&&!b[w].once||g&&b[w].context!==g)&&j.push(b[w]);j.length?this._events[y]=j.length===1?j[0]:j:l(this,y)}return this},c.prototype.removeAllListeners=function(f){var h;return f?(h=r?r+f:f,this._events[h]&&l(this,h)):(this._events=new n,this._eventsCount=0),this},c.prototype.off=c.prototype.removeListener,c.prototype.addListener=c.prototype.on,c.prefixed=r,c.EventEmitter=c,e.exports=c}(Gw)),Gw.exports}var Rce=Mce();const Ice=xs(Rce);var Dh=new Ice,rN="recharts.syncEvent.tooltip",ED="recharts.syncEvent.brush";function lk(e,t){if(t){var r=Number.parseInt(t,10);if(!fs(r))return e?.[r]}}var Fce={chartName:"",tooltipPayloadSearcher:void 0,eventEmitter:void 0,defaultTooltipEventType:"axis"},mL=Ws({name:"options",initialState:Fce,reducers:{createEventEmitter:e=>{e.eventEmitter==null&&(e.eventEmitter=Symbol("rechartsEventEmitter"))}}}),Lce=mL.reducer,{createEventEmitter:Bce}=mL.actions;function $ce(e){return e.tooltip.syncInteraction}var Uce={chartData:void 0,computedData:void 0,dataStartIndex:0,dataEndIndex:0},gL=Ws({name:"chartData",initialState:Uce,reducers:{setChartData(e,t){if(e.chartData=t.payload,t.payload==null){e.dataStartIndex=0,e.dataEndIndex=0;return}t.payload.length>0&&e.dataEndIndex!==t.payload.length-1&&(e.dataEndIndex=t.payload.length-1)},setComputedData(e,t){e.computedData=t.payload},setDataStartEndIndexes(e,t){var{startIndex:r,endIndex:n}=t.payload;r!=null&&(e.dataStartIndex=r),n!=null&&(e.dataEndIndex=n)}}}),{setChartData:TD,setDataStartEndIndexes:zce,setComputedData:sCe}=gL.actions,Hce=gL.reducer,pL=()=>{};function Vce(){var e=nt(C_),t=nt(O_),r=Mr(),n=nt(gF),s=nt(Rl),i=fy(),l=XS(),c=nt(d=>d.rootProps.className);v.useEffect(()=>{if(e==null)return pL;var d=(f,h,g)=>{if(t!==g&&e===f){if(n==="index"){r(h);return}if(s!=null){var p;if(typeof n=="function"){var y={activeTooltipIndex:h.payload.index==null?void 0:Number(h.payload.index),isTooltipActive:h.payload.active,activeIndex:h.payload.index==null?void 0:Number(h.payload.index),activeLabel:h.payload.label,activeDataKey:h.payload.dataKey,activeCoordinate:h.payload.coordinate},b=n(s,y);p=s[b]}else n==="value"&&(p=s.find(A=>String(A.value)===h.payload.label));var{coordinate:w}=h.payload;if(p==null||h.payload.active===!1||w==null||l==null){r(Jj({active:!1,coordinate:void 0,dataKey:void 0,index:null,label:void 0}));return}var{x:j,y:S}=w,k=Math.min(j,l.x+l.width),E=Math.min(S,l.y+l.height),C={x:i==="horizontal"?p.coordinate:k,y:i==="horizontal"?E:p.coordinate},T=Jj({active:h.payload.active,coordinate:C,dataKey:h.payload.dataKey,index:String(p.index),label:h.payload.label});r(T)}}};return Dh.on(rN,d),()=>{Dh.off(rN,d)}},[c,r,t,e,n,s,i,l])}function qce(){var e=nt(C_),t=nt(O_),r=Mr();v.useEffect(()=>{if(e==null)return pL;var n=(s,i,l)=>{t!==l&&e===s&&r(zce(i))};return Dh.on(ED,n),()=>{Dh.off(ED,n)}},[r,t,e])}function Wce(){var e=Mr();v.useEffect(()=>{e(Bce())},[e]),Vce(),qce()}function Gce(e,t,r,n,s,i){var l=nt(p=>Nce(p,e,t)),c=nt(O_),d=nt(C_),f=nt(gF),h=nt($ce),g=h?.active;v.useEffect(()=>{if(!g&&d!=null&&c!=null){var p=Jj({active:i,coordinate:r,dataKey:l,index:s,label:typeof n=="number"?String(n):n});Dh.emit(rN,d,p,c)}},[g,r,l,s,n,c,d,f,i])}function AD(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,n)}return r}function CD(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?AD(Object(r),!0).forEach(function(n){Kce(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):AD(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Kce(e,t,r){return(t=Yce(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Yce(e){var t=Xce(e,"string");return typeof t=="symbol"?t:t+""}function Xce(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Qce(e){return e.dataKey}function Zce(e,t){return v.isValidElement(e)?v.cloneElement(e,t):typeof e=="function"?v.createElement(e,t):v.createElement(Nne,t)}var OD=[],Jce={allowEscapeViewBox:{x:!1,y:!1},animationDuration:400,animationEasing:"ease",axisId:0,contentStyle:{},cursor:!0,filterNull:!0,isAnimationActive:!du.isSsr,itemSorter:"name",itemStyle:{},labelStyle:{},offset:10,reverseDirection:{x:!1,y:!1},separator:" : ",trigger:"hover",useTranslate3d:!1,wrapperStyle:{}};function Ci(e){var t=Gs(e,Jce),{active:r,allowEscapeViewBox:n,animationDuration:s,animationEasing:i,content:l,filterNull:c,isAnimationActive:d,offset:f,payloadUniqBy:h,position:g,reverseDirection:p,useTranslate3d:y,wrapperStyle:b,cursor:w,shared:j,trigger:S,defaultIndex:k,portal:E,axisId:C}=t,T=Mr(),A=typeof k=="number"?String(k):k;v.useEffect(()=>{T(Aoe({shared:j,trigger:S,axisId:C,active:r,defaultIndex:A}))},[T,j,S,C,r,A]);var O=XS(),D=u7(),R=Soe(j),{activeIndex:B,isActive:V}=nt(q=>kce(q,R,S,A)),W=nt(q=>_ce(q,R,S,A)),se=nt(q=>fL(q,R,S,A)),oe=nt(q=>Sce(q,R,S,A)),Y=W,Q=Pce(),te=r??V,[ue,ve]=EI([Y,te]),U=R==="axis"?se:void 0;Gce(R,S,oe,U,B,te);var ie=E??Q;if(ie==null)return null;var F=Y??OD;te||(F=OD),c&&F.length&&(F=jI(Y.filter(q=>q.value!=null&&(q.hide!==!0||t.includeHidden)),h,Qce));var G=F.length>0,z=v.createElement(Cne,{allowEscapeViewBox:n,animationDuration:s,animationEasing:i,isAnimationActive:d,active:te,coordinate:oe,hasPayload:G,offset:f,position:g,reverseDirection:p,useTranslate3d:y,viewBox:O,wrapperStyle:b,lastBoundingBox:ue,innerRef:ve,hasPortalFromProps:!!E},Zce(l,CD(CD({},t),{},{payload:F,label:U,active:te,coordinate:oe,accessibilityLayer:D})));return v.createElement(v.Fragment,null,Gd.createPortal(z,ie),te&&v.createElement(Dce,{cursor:w,tooltipEventType:R,coordinate:oe,payload:Y,index:B}))}var Kw={},Yw={},DD;function eue(){return DD||(DD=1,function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r,n=0,s={}){typeof s!="object"&&(s={});let i=null,l=null,c=null,d=0,f=null,h;const{leading:g=!1,trailing:p=!0,maxWait:y}=s,b="maxWait"in s,w=b?Math.max(Number(y)||0,n):0,j=O=>(i!==null&&(h=r.apply(l,i)),i=l=null,d=O,h),S=O=>(d=O,f=setTimeout(T,n),g&&i!==null?j(O):h),k=O=>(f=null,p&&i!==null?j(O):h),E=O=>{if(c===null)return!0;const D=O-c,R=D>=n||D<0,B=b&&O-d>=w;return R||B},C=O=>{const D=c===null?0:O-c,R=n-D,B=w-(O-d);return b?Math.min(R,B):R},T=()=>{const O=Date.now();if(E(O))return k(O);f=setTimeout(T,C(O))},A=function(...O){const D=Date.now(),R=E(D);if(i=O,l=this,c=D,R){if(f===null)return S(D);if(b)return clearTimeout(f),f=setTimeout(T,n),j(D)}return f===null&&(f=setTimeout(T,n)),h};return A.cancel=()=>{f!==null&&clearTimeout(f),d=0,c=i=l=f=null},A.flush=()=>f===null?h:k(Date.now()),A}e.debounce=t}(Yw)),Yw}var PD;function tue(){return PD||(PD=1,function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=eue();function r(n,s=0,i={}){const{leading:l=!0,trailing:c=!0}=i;return t.debounce(n,s,{leading:l,maxWait:s,trailing:c})}e.throttle=r}(Kw)),Kw}var Xw,MD;function rue(){return MD||(MD=1,Xw=tue().throttle),Xw}var nue=rue();const aue=xs(nue);var Y0=function(t,r){for(var n=arguments.length,s=new Array(n>2?n-2:0),i=2;i<n;i++)s[i-2]=arguments[i]};function RD(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,n)}return r}function Qw(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?RD(Object(r),!0).forEach(function(n){sue(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):RD(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function sue(e,t,r){return(t=iue(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function iue(e){var t=lue(e,"string");return typeof t=="symbol"?t:t+""}function lue(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var Oi=v.forwardRef((e,t)=>{var{aspect:r,initialDimension:n={width:-1,height:-1},width:s="100%",height:i="100%",minWidth:l=0,minHeight:c,maxHeight:d,children:f,debounce:h=0,id:g,className:p,onResize:y,style:b={}}=e,w=v.useRef(null),j=v.useRef();j.current=y,v.useImperativeHandle(t,()=>w.current);var[S,k]=v.useState({containerWidth:n.width,containerHeight:n.height}),E=v.useCallback((T,A)=>{k(O=>{var D=Math.round(T),R=Math.round(A);return O.containerWidth===D&&O.containerHeight===R?O:{containerWidth:D,containerHeight:R}})},[]);v.useEffect(()=>{var T=R=>{var B,{width:V,height:W}=R[0].contentRect;E(V,W),(B=j.current)===null||B===void 0||B.call(j,V,W)};h>0&&(T=aue(T,h,{trailing:!0,leading:!1}));var A=new ResizeObserver(T),{width:O,height:D}=w.current.getBoundingClientRect();return E(O,D),A.observe(w.current),()=>{A.disconnect()}},[E,h]);var C=v.useMemo(()=>{var{containerWidth:T,containerHeight:A}=S;if(T<0||A<0)return null;Y0(Ic(s)||Ic(i),`The width(%s) and height(%s) are both fixed numbers,
       maybe you don't need to use a ResponsiveContainer.`,s,i),Y0(!r||r>0,"The aspect(%s) must be greater than zero.",r);var O=Ic(s)?T:s,D=Ic(i)?A:i;return r&&r>0&&(O?D=O/r:D&&(O=D*r),d&&D>d&&(D=d)),Y0(O>0||D>0,`The width(%s) and height(%s) of chart should be greater than 0,
       please check the style of container, or the props width(%s) and height(%s),
       or add a minWidth(%s) or minHeight(%s) or use aspect(%s) to control the
       height and width.`,O,D,s,i,l,c,r),v.Children.map(f,R=>v.cloneElement(R,{width:O,height:D,style:Qw({width:O,height:D},R.props.style)}))},[r,f,i,d,c,l,S,s]);return v.createElement("div",{id:g?"".concat(g):void 0,className:Ut("recharts-responsive-container",p),style:Qw(Qw({},b),{},{width:s,height:i,minWidth:l,minHeight:c,maxHeight:d}),ref:w},v.createElement("div",{style:{width:0,height:0,overflow:"visible"}},C))}),$o=e=>null;$o.displayName="Cell";function ID(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,n)}return r}function nN(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?ID(Object(r),!0).forEach(function(n){oue(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):ID(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function oue(e,t,r){return(t=cue(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function cue(e){var t=uue(e,"string");return typeof t=="symbol"?t:t+""}function uue(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var ed={widthCache:{},cacheCount:0},due=2e3,fue={position:"absolute",top:"-20000px",left:0,padding:0,margin:0,border:"none",whiteSpace:"pre"},FD="recharts_measurement_span";function hue(e){var t=nN({},e);return Object.keys(t).forEach(r=>{t[r]||delete t[r]}),t}var X0=function(t){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(t==null||du.isSsr)return{width:0,height:0};var n=hue(r),s=JSON.stringify({text:t,copyStyle:n});if(ed.widthCache[s])return ed.widthCache[s];try{var i=document.getElementById(FD);i||(i=document.createElement("span"),i.setAttribute("id",FD),i.setAttribute("aria-hidden","true"),document.body.appendChild(i));var l=nN(nN({},fue),n);Object.assign(i.style,l),i.textContent="".concat(t);var c=i.getBoundingClientRect(),d={width:c.width,height:c.height};return ed.widthCache[s]=d,++ed.cacheCount>due&&(ed.cacheCount=0,ed.widthCache={}),d}catch{return{width:0,height:0}}},LD=/(-?\d+(?:\.\d+)?[a-zA-Z%]*)([*/])(-?\d+(?:\.\d+)?[a-zA-Z%]*)/,BD=/(-?\d+(?:\.\d+)?[a-zA-Z%]*)([+-])(-?\d+(?:\.\d+)?[a-zA-Z%]*)/,mue=/^px|cm|vh|vw|em|rem|%|mm|in|pt|pc|ex|ch|vmin|vmax|Q$/,gue=/(-?\d+(?:\.\d+)?)([a-zA-Z%]+)?/,xL={cm:96/2.54,mm:96/25.4,pt:96/72,pc:96/6,in:96,Q:96/(2.54*40),px:1},pue=Object.keys(xL),md="NaN";function xue(e,t){return e*xL[t]}class Da{static parse(t){var r,[,n,s]=(r=gue.exec(t))!==null&&r!==void 0?r:[];return new Da(parseFloat(n),s??"")}constructor(t,r){this.num=t,this.unit=r,this.num=t,this.unit=r,fs(t)&&(this.unit=""),r!==""&&!mue.test(r)&&(this.num=NaN,this.unit=""),pue.includes(r)&&(this.num=xue(t,r),this.unit="px")}add(t){return this.unit!==t.unit?new Da(NaN,""):new Da(this.num+t.num,this.unit)}subtract(t){return this.unit!==t.unit?new Da(NaN,""):new Da(this.num-t.num,this.unit)}multiply(t){return this.unit!==""&&t.unit!==""&&this.unit!==t.unit?new Da(NaN,""):new Da(this.num*t.num,this.unit||t.unit)}divide(t){return this.unit!==""&&t.unit!==""&&this.unit!==t.unit?new Da(NaN,""):new Da(this.num/t.num,this.unit||t.unit)}toString(){return"".concat(this.num).concat(this.unit)}isNaN(){return fs(this.num)}}function yL(e){if(e.includes(md))return md;for(var t=e;t.includes("*")||t.includes("/");){var r,[,n,s,i]=(r=LD.exec(t))!==null&&r!==void 0?r:[],l=Da.parse(n??""),c=Da.parse(i??""),d=s==="*"?l.multiply(c):l.divide(c);if(d.isNaN())return md;t=t.replace(LD,d.toString())}for(;t.includes("+")||/.-\d+(?:\.\d+)?/.test(t);){var f,[,h,g,p]=(f=BD.exec(t))!==null&&f!==void 0?f:[],y=Da.parse(h??""),b=Da.parse(p??""),w=g==="+"?y.add(b):y.subtract(b);if(w.isNaN())return md;t=t.replace(BD,w.toString())}return t}var $D=/\(([^()]*)\)/;function yue(e){for(var t=e,r;(r=$D.exec(t))!=null;){var[,n]=r;t=t.replace($D,yL(n))}return t}function vue(e){var t=e.replace(/\s+/g,"");return t=yue(t),t=yL(t),t}function bue(e){try{return vue(e)}catch{return md}}function Zw(e){var t=bue(e.slice(5,-1));return t===md?"":t}var wue=["x","y","lineHeight","capHeight","scaleToFit","textAnchor","verticalAnchor","fill"],jue=["dx","dy","angle","className","breakAll"];function aN(){return aN=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},aN.apply(null,arguments)}function UD(e,t){if(e==null)return{};var r,n,s=Nue(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(n=0;n<i.length;n++)r=i[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(s[r]=e[r])}return s}function Nue(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}var vL=/[ \f\n\r\t\v\u2028\u2029]+/,bL=e=>{var{children:t,breakAll:r,style:n}=e;try{var s=[];xr(t)||(r?s=t.toString().split(""):s=t.toString().split(vL));var i=s.map(c=>({word:c,width:X0(c,n).width})),l=r?0:X0(" ",n).width;return{wordsWithComputedWidth:i,spaceWidth:l}}catch{return null}},Sue=(e,t,r,n,s)=>{var{maxLines:i,children:l,style:c,breakAll:d}=e,f=Ze(i),h=l,g=function(){var V=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[];return V.reduce((W,se)=>{var{word:oe,width:Y}=se,Q=W[W.length-1];if(Q&&(n==null||s||Q.width+Y+r<Number(n)))Q.words.push(oe),Q.width+=Y+r;else{var te={words:[oe],width:Y};W.push(te)}return W},[])},p=g(t),y=B=>B.reduce((V,W)=>V.width>W.width?V:W);if(!f||s)return p;var b=p.length>i||y(p).width>Number(n);if(!b)return p;for(var w="…",j=B=>{var V=h.slice(0,B),W=bL({breakAll:d,style:c,children:V+w}).wordsWithComputedWidth,se=g(W),oe=se.length>i||y(se).width>Number(n);return[oe,se]},S=0,k=h.length-1,E=0,C;S<=k&&E<=h.length-1;){var T=Math.floor((S+k)/2),A=T-1,[O,D]=j(A),[R]=j(T);if(!O&&!R&&(S=T+1),O&&R&&(k=T-1),!O&&R){C=D;break}E++}return C||p},zD=e=>{var t=xr(e)?[]:e.toString().split(vL);return[{words:t}]},_ue=e=>{var{width:t,scaleToFit:r,children:n,style:s,breakAll:i,maxLines:l}=e;if((t||r)&&!du.isSsr){var c,d,f=bL({breakAll:i,children:n,style:s});if(f){var{wordsWithComputedWidth:h,spaceWidth:g}=f;c=h,d=g}else return zD(n);return Sue({breakAll:i,children:n,maxLines:l,style:s},c,d,t,r)}return zD(n)},HD="#808080",Ay=v.forwardRef((e,t)=>{var{x:r=0,y:n=0,lineHeight:s="1em",capHeight:i="0.71em",scaleToFit:l=!1,textAnchor:c="start",verticalAnchor:d="end",fill:f=HD}=e,h=UD(e,wue),g=v.useMemo(()=>_ue({breakAll:h.breakAll,children:h.children,maxLines:h.maxLines,scaleToFit:l,style:h.style,width:h.width}),[h.breakAll,h.children,h.maxLines,l,h.style,h.width]),{dx:p,dy:y,angle:b,className:w,breakAll:j}=h,S=UD(h,jue);if(!Li(r)||!Li(n))return null;var k=r+(Ze(p)?p:0),E=n+(Ze(y)?y:0),C;switch(d){case"start":C=Zw("calc(".concat(i,")"));break;case"middle":C=Zw("calc(".concat((g.length-1)/2," * -").concat(s," + (").concat(i," / 2))"));break;default:C=Zw("calc(".concat(g.length-1," * -").concat(s,")"));break}var T=[];if(l){var A=g[0].width,{width:O}=h;T.push("scale(".concat(Ze(O)?O/A:1,")"))}return b&&T.push("rotate(".concat(b,", ").concat(k,", ").concat(E,")")),T.length&&(S.transform=T.join(" ")),v.createElement("text",aN({},Dt(S,!0),{ref:t,x:k,y:E,className:Ut("recharts-text",w),textAnchor:c,fill:f.includes("url")?HD:f}),g.map((D,R)=>{var B=D.words.join(j?"":" ");return v.createElement("tspan",{x:k,dy:R===0?C:s,key:"".concat(B,"-").concat(R)},B)}))});Ay.displayName="Text";var kue=["offset"],Eue=["labelRef"];function VD(e,t){if(e==null)return{};var r,n,s=Tue(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(n=0;n<i.length;n++)r=i[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(s[r]=e[r])}return s}function Tue(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}function qD(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,n)}return r}function nn(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?qD(Object(r),!0).forEach(function(n){Aue(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):qD(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Aue(e,t,r){return(t=Cue(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Cue(e){var t=Oue(e,"string");return typeof t=="symbol"?t:t+""}function Oue(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function ll(){return ll=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},ll.apply(null,arguments)}var Due=e=>{var{value:t,formatter:r}=e,n=xr(e.children)?t:e.children;return typeof r=="function"?r(n):n},ok=e=>e!=null&&typeof e=="function",Pue=(e,t)=>{var r=Sn(t-e),n=Math.min(Math.abs(t-e),360);return r*n},Mue=(e,t,r)=>{var{position:n,viewBox:s,offset:i,className:l}=e,{cx:c,cy:d,innerRadius:f,outerRadius:h,startAngle:g,endAngle:p,clockWise:y}=s,b=(f+h)/2,w=Pue(g,p),j=w>=0?1:-1,S,k;n==="insideStart"?(S=g+j*i,k=y):n==="insideEnd"?(S=p-j*i,k=!y):n==="end"&&(S=p+j*i,k=y),k=w<=0?k:!k;var E=ln(c,d,b,S),C=ln(c,d,b,S+(k?1:-1)*359),T="M".concat(E.x,",").concat(E.y,`
    A`).concat(b,",").concat(b,",0,1,").concat(k?0:1,`,
    `).concat(C.x,",").concat(C.y),A=xr(e.id)?tu("recharts-radial-line-"):e.id;return v.createElement("text",ll({},r,{dominantBaseline:"central",className:Ut("recharts-radial-bar-label",l)}),v.createElement("defs",null,v.createElement("path",{id:A,d:T})),v.createElement("textPath",{xlinkHref:"#".concat(A)},t))},Rue=e=>{var{viewBox:t,offset:r,position:n}=e,{cx:s,cy:i,innerRadius:l,outerRadius:c,startAngle:d,endAngle:f}=t,h=(d+f)/2;if(n==="outside"){var{x:g,y:p}=ln(s,i,c+r,h);return{x:g,y:p,textAnchor:g>=s?"start":"end",verticalAnchor:"middle"}}if(n==="center")return{x:s,y:i,textAnchor:"middle",verticalAnchor:"middle"};if(n==="centerTop")return{x:s,y:i,textAnchor:"middle",verticalAnchor:"start"};if(n==="centerBottom")return{x:s,y:i,textAnchor:"middle",verticalAnchor:"end"};var y=(l+c)/2,{x:b,y:w}=ln(s,i,y,h);return{x:b,y:w,textAnchor:"middle",verticalAnchor:"middle"}},Iue=(e,t)=>{var{parentViewBox:r,offset:n,position:s}=e,{x:i,y:l,width:c,height:d}=t,f=d>=0?1:-1,h=f*n,g=f>0?"end":"start",p=f>0?"start":"end",y=c>=0?1:-1,b=y*n,w=y>0?"end":"start",j=y>0?"start":"end";if(s==="top"){var S={x:i+c/2,y:l-f*n,textAnchor:"middle",verticalAnchor:g};return nn(nn({},S),r?{height:Math.max(l-r.y,0),width:c}:{})}if(s==="bottom"){var k={x:i+c/2,y:l+d+h,textAnchor:"middle",verticalAnchor:p};return nn(nn({},k),r?{height:Math.max(r.y+r.height-(l+d),0),width:c}:{})}if(s==="left"){var E={x:i-b,y:l+d/2,textAnchor:w,verticalAnchor:"middle"};return nn(nn({},E),r?{width:Math.max(E.x-r.x,0),height:d}:{})}if(s==="right"){var C={x:i+c+b,y:l+d/2,textAnchor:j,verticalAnchor:"middle"};return nn(nn({},C),r?{width:Math.max(r.x+r.width-C.x,0),height:d}:{})}var T=r?{width:c,height:d}:{};return s==="insideLeft"?nn({x:i+b,y:l+d/2,textAnchor:j,verticalAnchor:"middle"},T):s==="insideRight"?nn({x:i+c-b,y:l+d/2,textAnchor:w,verticalAnchor:"middle"},T):s==="insideTop"?nn({x:i+c/2,y:l+h,textAnchor:"middle",verticalAnchor:p},T):s==="insideBottom"?nn({x:i+c/2,y:l+d-h,textAnchor:"middle",verticalAnchor:g},T):s==="insideTopLeft"?nn({x:i+b,y:l+h,textAnchor:j,verticalAnchor:p},T):s==="insideTopRight"?nn({x:i+c-b,y:l+h,textAnchor:w,verticalAnchor:p},T):s==="insideBottomLeft"?nn({x:i+b,y:l+d-h,textAnchor:j,verticalAnchor:g},T):s==="insideBottomRight"?nn({x:i+c-b,y:l+d-h,textAnchor:w,verticalAnchor:g},T):s&&typeof s=="object"&&(Ze(s.x)||Ic(s.x))&&(Ze(s.y)||Ic(s.y))?nn({x:i+xa(s.x,c),y:l+xa(s.y,d),textAnchor:"end",verticalAnchor:"end"},T):nn({x:i+c/2,y:l+d/2,textAnchor:"middle",verticalAnchor:"middle"},T)},Fue=e=>"cx"in e&&Ze(e.cx);function ns(e){var{offset:t=5}=e,r=VD(e,kue),n=nn({offset:t},r),{viewBox:s,position:i,value:l,children:c,content:d,className:f="",textBreakAll:h,labelRef:g}=n,p=XS(),y=s||p;if(!y||xr(l)&&xr(c)&&!v.isValidElement(d)&&typeof d!="function")return null;if(v.isValidElement(d)){var{labelRef:b}=n,w=VD(n,Eue);return v.cloneElement(d,w)}var j;if(typeof d=="function"){if(j=v.createElement(d,n),v.isValidElement(j))return j}else j=Due(n);var S=Fue(y),k=Dt(n,!0);if(S&&(i==="insideStart"||i==="insideEnd"||i==="end"))return Mue(n,j,k);var E=S?Rue(n):Iue(n,y);return v.createElement(Ay,ll({ref:g,className:Ut("recharts-label",f)},k,E,{breakAll:h}),j)}ns.displayName="Label";var wL=e=>{var{cx:t,cy:r,angle:n,startAngle:s,endAngle:i,r:l,radius:c,innerRadius:d,outerRadius:f,x:h,y:g,top:p,left:y,width:b,height:w,clockWise:j,labelViewBox:S}=e;if(S)return S;if(Ze(b)&&Ze(w)){if(Ze(h)&&Ze(g))return{x:h,y:g,width:b,height:w};if(Ze(p)&&Ze(y))return{x:p,y,width:b,height:w}}if(Ze(h)&&Ze(g))return{x:h,y:g,width:0,height:0};if(Ze(t)&&Ze(r))return{cx:t,cy:r,startAngle:s||n||0,endAngle:i||n||0,innerRadius:d||0,outerRadius:f||c||l||0,clockWise:j};if(e.viewBox)return e.viewBox},Lue=(e,t,r)=>{if(!e)return null;var n={viewBox:t,labelRef:r};return e===!0?v.createElement(ns,ll({key:"label-implicit"},n)):Li(e)?v.createElement(ns,ll({key:"label-implicit",value:e},n)):v.isValidElement(e)?e.type===ns?v.cloneElement(e,nn({key:"label-implicit"},n)):v.createElement(ns,ll({key:"label-implicit",content:e},n)):ok(e)?v.createElement(ns,ll({key:"label-implicit",content:e},n)):e&&typeof e=="object"?v.createElement(ns,ll({},e,{key:"label-implicit"},n)):null},Bue=function(t,r){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0;if(!t||!t.children&&n&&!t.label)return null;var{children:s,labelRef:i}=t,l=wL(t),c=im(s,ns).map((f,h)=>v.cloneElement(f,{viewBox:r||l,key:"label-".concat(h)}));if(!n)return c;var d=Lue(t.label,r||l,i);return[d,...c]};ns.parseViewBox=wL;ns.renderCallByParent=Bue;var Jw={},e2={},WD;function $ue(){return WD||(WD=1,function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){return r[r.length-1]}e.last=t}(e2)),e2}var t2={},GD;function Uue(){return GD||(GD=1,function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){return Array.isArray(r)?r:Array.from(r)}e.toArray=t}(t2)),t2}var KD;function zue(){return KD||(KD=1,function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=$ue(),r=Uue(),n=IS();function s(i){if(n.isArrayLike(i))return t.last(r.toArray(i))}e.last=s}(Jw)),Jw}var r2,YD;function Hue(){return YD||(YD=1,r2=zue().last),r2}var Vue=Hue();const que=xs(Vue);var Wue=["valueAccessor"],Gue=["data","dataKey","clockWise","id","textBreakAll"];function ux(){return ux=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},ux.apply(null,arguments)}function XD(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,n)}return r}function QD(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?XD(Object(r),!0).forEach(function(n){Kue(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):XD(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Kue(e,t,r){return(t=Yue(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Yue(e){var t=Xue(e,"string");return typeof t=="symbol"?t:t+""}function Xue(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function ZD(e,t){if(e==null)return{};var r,n,s=Que(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(n=0;n<i.length;n++)r=i[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(s[r]=e[r])}return s}function Que(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}var Zue=e=>Array.isArray(e.value)?que(e.value):e.value;function ko(e){var{valueAccessor:t=Zue}=e,r=ZD(e,Wue),{data:n,dataKey:s,clockWise:i,id:l,textBreakAll:c}=r,d=ZD(r,Gue);return!n||!n.length?null:v.createElement(Tn,{className:"recharts-label-list"},n.map((f,h)=>{var g=xr(s)?t(f,h):Sr(f&&f.payload,s),p=xr(l)?{}:{id:"".concat(l,"-").concat(h)};return v.createElement(ns,ux({},Dt(f,!0),d,p,{parentViewBox:f.parentViewBox,value:g,textBreakAll:c,viewBox:ns.parseViewBox(xr(i)?f:QD(QD({},f),{},{clockWise:i})),key:"label-".concat(h),index:h}))}))}ko.displayName="LabelList";function Jue(e,t){return e?e===!0?v.createElement(ko,{key:"labelList-implicit",data:t}):v.isValidElement(e)||ok(e)?v.createElement(ko,{key:"labelList-implicit",data:t,content:e}):typeof e=="object"?v.createElement(ko,ux({data:t},e,{key:"labelList-implicit"})):null:null}function ede(e,t){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0;if(!e||!e.children&&r&&!e.label)return null;var{children:n}=e,s=im(n,ko).map((l,c)=>v.cloneElement(l,{data:t,key:"labelList-".concat(c)}));if(!r)return s;var i=Jue(e.label,t);return[i,...s]}ko.renderCallByParent=ede;function sN(){return sN=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},sN.apply(null,arguments)}var jL=e=>{var{cx:t,cy:r,r:n,className:s}=e,i=Ut("recharts-dot",s);return t===+t&&r===+r&&n===+n?v.createElement("circle",sN({},Dt(e,!1),TS(e),{className:i,cx:t,cy:r,r:n})):null},NL=e=>e.graphicalItems.polarItems,tde=ke([Zr,hm],I_),ck=ke([NL,Jr,tde],F_),rde=ke([ck],L_),uk=ke([rde,__],B_),nde=ke([uk,Jr,ck],$_),ade=ke([uk,Jr,ck],(e,t,r)=>r.length>0?e.flatMap(n=>r.flatMap(s=>{var i,l=Sr(n,(i=t.dataKey)!==null&&i!==void 0?i:s.dataKey);return{value:l,errorDomain:[]}})).filter(Boolean):t?.dataKey!=null?e.map(n=>({value:Sr(n,t.dataKey),errorDomain:[]})):e.map(n=>({value:n,errorDomain:[]}))),JD=()=>{},sde=ke([Jr,DF,JD,ade,JD],H_),SL=ke([Jr,qt,uk,nde,fm,Zr,sde],V_),ide=ke([SL,Jr,af],G_);ke([Jr,SL,ide,Zr],Y_);var lde={radiusAxis:{},angleAxis:{}},_L=Ws({name:"polarAxis",initialState:lde,reducers:{addRadiusAxis(e,t){e.radiusAxis[t.payload.id]=t.payload},removeRadiusAxis(e,t){delete e.radiusAxis[t.payload.id]},addAngleAxis(e,t){e.angleAxis[t.payload.id]=t.payload},removeAngleAxis(e,t){delete e.angleAxis[t.payload.id]}}}),{addRadiusAxis:iCe,removeRadiusAxis:lCe,addAngleAxis:oCe,removeAngleAxis:cCe}=_L.actions,ode=_L.reducer;function e5(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,n)}return r}function t5(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?e5(Object(r),!0).forEach(function(n){cde(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):e5(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function cde(e,t,r){return(t=ude(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function ude(e){var t=dde(e,"string");return typeof t=="symbol"?t:t+""}function dde(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var dk=(e,t)=>t,fde=[],fk=(e,t,r)=>r?.length===0?fde:r,kL=ke([__,dk,fk],(e,t,r)=>{var{chartData:n}=e,s;if(t?.data!=null&&t.data.length>0?s=t.data:s=n,(!s||!s.length)&&r!=null&&(s=r.map(i=>t5(t5({},t.presentationProps),i.props))),s!=null)return s}),hde=ke([kL,dk,fk],(e,t,r)=>{if(e!=null)return e.map((n,s)=>{var i,l=Sr(n,t.nameKey,t.name),c;return r!=null&&(i=r[s])!==null&&i!==void 0&&(i=i.props)!==null&&i!==void 0&&i.fill?c=r[s].props.fill:typeof n=="object"&&n!=null&&"fill"in n?c=n.fill:c=t.fill,{value:Jd(l,t.dataKey),color:c,payload:n,type:t.legendType}})}),mde=ke([NL,dk],(e,t)=>{if(e.some(r=>r.type==="pie"&&t.dataKey===r.dataKey&&t.data===r.data))return t}),gde=ke([kL,mde,fk,pn],(e,t,r,n)=>{if(!(t==null||e==null))return ife({offset:n,pieSettings:t,displayedData:e,cells:r})}),pde={countOfBars:0,cartesianItems:[],polarItems:[]},EL=Ws({name:"graphicalItems",initialState:pde,reducers:{addBar(e){e.countOfBars+=1},removeBar(e){e.countOfBars-=1},addCartesianGraphicalItem(e,t){e.cartesianItems.push(t.payload)},replaceCartesianGraphicalItem(e,t){var{prev:r,next:n}=t.payload,s=ml(e).cartesianItems.indexOf(r);s>-1&&(e.cartesianItems[s]=n)},removeCartesianGraphicalItem(e,t){var r=ml(e).cartesianItems.indexOf(t.payload);r>-1&&e.cartesianItems.splice(r,1)},addPolarGraphicalItem(e,t){e.polarItems.push(t.payload)},removePolarGraphicalItem(e,t){var r=ml(e).polarItems.indexOf(t.payload);r>-1&&e.polarItems.splice(r,1)}}}),{addBar:xde,removeBar:yde,addCartesianGraphicalItem:vde,replaceCartesianGraphicalItem:bde,removeCartesianGraphicalItem:wde,addPolarGraphicalItem:jde,removePolarGraphicalItem:Nde}=EL.actions,Sde=EL.reducer;function r5(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,n)}return r}function n5(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?r5(Object(r),!0).forEach(function(n){_de(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):r5(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function _de(e,t,r){return(t=kde(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function kde(e){var t=Ede(e,"string");return typeof t=="symbol"?t:t+""}function Ede(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Tde(e){var t=Mr(),r=v.useRef(null);return v.useEffect(()=>{var n=n5(n5({},e),{},{stackId:t7(e.stackId)});r.current===null?t(vde(n)):r.current!==n&&t(bde({prev:r.current,next:n})),r.current=n},[t,e]),v.useEffect(()=>()=>{r.current&&(t(wde(r.current)),r.current=null)},[t]),null}function Ade(e){var t=Mr();return v.useEffect(()=>(t(jde(e)),()=>{t(Nde(e))}),[t,e]),null}var n2={},a5;function Cde(){return a5||(a5=1,function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){if(typeof r!="object"||r==null)return!1;if(Object.getPrototypeOf(r)===null)return!0;if(Object.prototype.toString.call(r)!=="[object Object]"){const s=r[Symbol.toStringTag];return s==null||!Object.getOwnPropertyDescriptor(r,Symbol.toStringTag)?.writable?!1:r.toString()===`[object ${s}]`}let n=r;for(;Object.getPrototypeOf(n)!==null;)n=Object.getPrototypeOf(n);return Object.getPrototypeOf(r)===n}e.isPlainObject=t}(n2)),n2}var a2,s5;function Ode(){return s5||(s5=1,a2=Cde().isPlainObject),a2}var Dde=Ode();const Pde=xs(Dde);function dx(){return dx=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},dx.apply(null,arguments)}var i5=(e,t,r,n,s)=>{var i=r-n,l;return l="M ".concat(e,",").concat(t),l+="L ".concat(e+r,",").concat(t),l+="L ".concat(e+r-i/2,",").concat(t+s),l+="L ".concat(e+r-i/2-n,",").concat(t+s),l+="L ".concat(e,",").concat(t," Z"),l},Mde={x:0,y:0,upperWidth:0,lowerWidth:0,height:0,isUpdateAnimationActive:!1,animationBegin:0,animationDuration:1500,animationEasing:"ease"},Rde=e=>{var t=Gs(e,Mde),r=v.useRef(),[n,s]=v.useState(-1);v.useEffect(()=>{if(r.current&&r.current.getTotalLength)try{var j=r.current.getTotalLength();j&&s(j)}catch{}},[]);var{x:i,y:l,upperWidth:c,lowerWidth:d,height:f,className:h}=t,{animationEasing:g,animationDuration:p,animationBegin:y,isUpdateAnimationActive:b}=t;if(i!==+i||l!==+l||c!==+c||d!==+d||f!==+f||c===0&&d===0||f===0)return null;var w=Ut("recharts-trapezoid",h);return b?v.createElement(Fo,{canBegin:n>0,from:{upperWidth:0,lowerWidth:0,height:f,x:i,y:l},to:{upperWidth:c,lowerWidth:d,height:f,x:i,y:l},duration:p,animationEasing:g,isActive:b},j=>{var{upperWidth:S,lowerWidth:k,height:E,x:C,y:T}=j;return v.createElement(Fo,{canBegin:n>0,from:"0px ".concat(n===-1?1:n,"px"),to:"".concat(n,"px 0px"),attributeName:"strokeDasharray",begin:y,duration:p,easing:g},v.createElement("path",dx({},Dt(t,!0),{className:w,d:i5(C,T,S,k,E),ref:r})))}):v.createElement("g",null,v.createElement("path",dx({},Dt(t,!0),{className:w,d:i5(i,l,c,d,f)})))},Ide=["option","shapeType","propTransformer","activeClassName","isActive"];function Fde(e,t){if(e==null)return{};var r,n,s=Lde(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(n=0;n<i.length;n++)r=i[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(s[r]=e[r])}return s}function Lde(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}function l5(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,n)}return r}function fx(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?l5(Object(r),!0).forEach(function(n){Bde(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):l5(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Bde(e,t,r){return(t=$de(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function $de(e){var t=Ude(e,"string");return typeof t=="symbol"?t:t+""}function Ude(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function zde(e,t){return fx(fx({},t),e)}function Hde(e,t){return e==="symbols"}function o5(e){var{shapeType:t,elementProps:r}=e;switch(t){case"rectangle":return v.createElement(m7,r);case"trapezoid":return v.createElement(Rde,r);case"sector":return v.createElement(x7,r);case"symbols":if(Hde(t))return v.createElement(PS,r);break;default:return null}}function Vde(e){return v.isValidElement(e)?e.props:e}function TL(e){var{option:t,shapeType:r,propTransformer:n=zde,activeClassName:s="recharts-active-shape",isActive:i}=e,l=Fde(e,Ide),c;if(v.isValidElement(t))c=v.cloneElement(t,fx(fx({},l),Vde(t)));else if(typeof t=="function")c=t(l);else if(Pde(t)&&typeof t!="boolean"){var d=n(t,l);c=v.createElement(o5,{shapeType:r,elementProps:d})}else{var f=l;c=v.createElement(o5,{shapeType:r,elementProps:f})}return i?v.createElement(Tn,{className:s},c):c}var hk=(e,t)=>{var r=Mr();return(n,s)=>i=>{e?.(n,s,i),r(KF({activeIndex:String(s),activeDataKey:t,activeCoordinate:n.tooltipPosition}))}},mk=e=>{var t=Mr();return(r,n)=>s=>{e?.(r,n,s),t(Coe())}},gk=(e,t)=>{var r=Mr();return(n,s)=>i=>{e?.(n,s,i),r(Ooe({activeIndex:String(s),activeDataKey:t,activeCoordinate:n.tooltipPosition}))}};function pk(e){var{fn:t,args:r}=e,n=Mr(),s=ba();return v.useEffect(()=>{if(!s){var i=t(r);return n(Eoe(i)),()=>{n(Toe(i))}}},[t,r,n,s]),null}var AL=()=>{};function CL(e){var{legendPayload:t}=e,r=Mr(),n=ba();return v.useEffect(()=>n?AL:(r(o7(t)),()=>{r(c7(t))}),[r,n,t]),null}function qde(e){var{legendPayload:t}=e,r=Mr(),n=nt(qt);return v.useEffect(()=>n!=="centric"&&n!=="radial"?AL:(r(o7(t)),()=>{r(c7(t))}),[r,n,t]),null}function xk(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"animation-",r=v.useRef(tu(t)),n=v.useRef(e);return n.current!==e&&(r.current=tu(t),n.current=e),r.current}var Wde=["onMouseEnter","onClick","onMouseLeave"];function Gde(e,t){if(e==null)return{};var r,n,s=Kde(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(n=0;n<i.length;n++)r=i[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(s[r]=e[r])}return s}function Kde(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}function c5(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,n)}return r}function Vr(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?c5(Object(r),!0).forEach(function(n){Cy(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):c5(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Cy(e,t,r){return(t=Yde(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Yde(e){var t=Xde(e,"string");return typeof t=="symbol"?t:t+""}function Xde(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function su(){return su=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},su.apply(null,arguments)}function Qde(e){var t=v.useMemo(()=>Dt(e,!1),[e]),r=v.useMemo(()=>im(e.children,$o),[e.children]),n=v.useMemo(()=>({name:e.name,nameKey:e.nameKey,tooltipType:e.tooltipType,data:e.data,dataKey:e.dataKey,cx:e.cx,cy:e.cy,startAngle:e.startAngle,endAngle:e.endAngle,minAngle:e.minAngle,paddingAngle:e.paddingAngle,innerRadius:e.innerRadius,outerRadius:e.outerRadius,cornerRadius:e.cornerRadius,legendType:e.legendType,fill:e.fill,presentationProps:t}),[e.cornerRadius,e.cx,e.cy,e.data,e.dataKey,e.endAngle,e.innerRadius,e.minAngle,e.name,e.nameKey,e.outerRadius,e.paddingAngle,e.startAngle,e.tooltipType,e.legendType,e.fill,t]),s=nt(i=>hde(i,n,r));return v.createElement(qde,{legendPayload:s})}function Zde(e){var{dataKey:t,nameKey:r,sectors:n,stroke:s,strokeWidth:i,fill:l,name:c,hide:d,tooltipType:f}=e;return{dataDefinedOnItem:n?.map(h=>h.tooltipPayload),positions:n?.map(h=>h.tooltipPosition),settings:{stroke:s,strokeWidth:i,fill:l,dataKey:t,nameKey:r,name:Jd(c,t),hide:d,type:f,color:l,unit:""}}}var Jde=(e,t)=>e>t?"start":e<t?"end":"middle",efe=(e,t,r)=>typeof t=="function"?t(e):xa(t,r,r*.8),tfe=(e,t,r)=>{var{top:n,left:s,width:i,height:l}=t,c=ZI(i,l),d=s+xa(e.cx,i,i/2),f=n+xa(e.cy,l,l/2),h=xa(e.innerRadius,c,0),g=efe(r,e.outerRadius,c),p=e.maxRadius||Math.sqrt(i*i+l*l)/2;return{cx:d,cy:f,innerRadius:h,outerRadius:g,maxRadius:p}},rfe=(e,t)=>{var r=Sn(t-e),n=Math.min(Math.abs(t-e),360);return r*n},nfe=(e,t)=>{if(v.isValidElement(e))return v.cloneElement(e,t);if(typeof e=="function")return e(t);var r=Ut("recharts-pie-label-line",typeof e!="boolean"?e.className:"");return v.createElement(e_,su({},t,{type:"linear",className:r}))},afe=(e,t,r)=>{if(v.isValidElement(e))return v.cloneElement(e,t);var n=r;if(typeof e=="function"&&(n=e(t),v.isValidElement(n)))return n;var s=Ut("recharts-pie-label-text",typeof e!="boolean"&&typeof e!="function"?e.className:"");return v.createElement(Ay,su({},t,{alignmentBaseline:"middle",className:s}),n)};function sfe(e){var{sectors:t,props:r,showLabels:n}=e,{label:s,labelLine:i,dataKey:l}=r;if(!n||!s||!t)return null;var c=Dt(r,!1),d=Dt(s,!1),f=Dt(i,!1),h=typeof s=="object"&&"offsetRadius"in s&&s.offsetRadius||20,g=t.map((p,y)=>{var b=(p.startAngle+p.endAngle)/2,w=ln(p.cx,p.cy,p.outerRadius+h,b),j=Vr(Vr(Vr(Vr({},c),p),{},{stroke:"none"},d),{},{index:y,textAnchor:Jde(w.x,p.cx)},w),S=Vr(Vr(Vr(Vr({},c),p),{},{fill:"none",stroke:p.fill},f),{},{index:y,points:[ln(p.cx,p.cy,p.outerRadius,b),w],key:"line"});return v.createElement(Tn,{key:"label-".concat(p.startAngle,"-").concat(p.endAngle,"-").concat(p.midAngle,"-").concat(y)},i&&nfe(i,S),afe(s,j,Sr(p,l)))});return v.createElement(Tn,{className:"recharts-pie-labels"},g)}function OL(e){var{sectors:t,activeShape:r,inactiveShape:n,allOtherPieProps:s,showLabels:i}=e,l=nt(Bo),{onMouseEnter:c,onClick:d,onMouseLeave:f}=s,h=Gde(s,Wde),g=hk(c,s.dataKey),p=mk(f),y=gk(d,s.dataKey);return t==null?null:v.createElement(v.Fragment,null,t.map((b,w)=>{if(b?.startAngle===0&&b?.endAngle===0&&t.length!==1)return null;var j=r&&String(w)===l,S=l?n:null,k=j?r:S,E=Vr(Vr({},b),{},{stroke:b.stroke,tabIndex:-1,[n7]:w,[a7]:s.dataKey});return v.createElement(Tn,su({tabIndex:-1,className:"recharts-pie-sector"},sm(h,b,w),{onMouseEnter:g(b,w),onMouseLeave:p(b,w),onClick:y(b,w),key:"sector-".concat(b?.startAngle,"-").concat(b?.endAngle,"-").concat(b.midAngle,"-").concat(w)}),v.createElement(TL,su({option:k,isActive:j,shapeType:"sector"},E)))}),v.createElement(sfe,{sectors:t,props:s,showLabels:i}))}function ife(e){var t,{pieSettings:r,displayedData:n,cells:s,offset:i}=e,{cornerRadius:l,startAngle:c,endAngle:d,dataKey:f,nameKey:h,tooltipType:g}=r,p=Math.abs(r.minAngle),y=rfe(c,d),b=Math.abs(y),w=n.length<=1?0:(t=r.paddingAngle)!==null&&t!==void 0?t:0,j=n.filter(A=>Sr(A,f,0)!==0).length,S=(b>=360?j:j-1)*w,k=b-j*p-S,E=n.reduce((A,O)=>{var D=Sr(O,f,0);return A+(Ze(D)?D:0)},0),C;if(E>0){var T;C=n.map((A,O)=>{var D=Sr(A,f,0),R=Sr(A,h,O),B=tfe(r,i,A),V=(Ze(D)?D:0)/E,W,se=Vr(Vr({},A),s&&s[O]&&s[O].props);O?W=T.endAngle+Sn(y)*w*(D!==0?1:0):W=c;var oe=W+Sn(y)*((D!==0?p:0)+V*k),Y=(W+oe)/2,Q=(B.innerRadius+B.outerRadius)/2,te=[{name:R,value:D,payload:se,dataKey:f,type:g}],ue=ln(B.cx,B.cy,Q,Y);return T=Vr(Vr(Vr(Vr({},r.presentationProps),{},{percent:V,cornerRadius:l,name:R,tooltipPayload:te,midAngle:Y,middleRadius:Q,tooltipPosition:ue},se),B),{},{value:Sr(A,f),startAngle:W,endAngle:oe,payload:se,paddingAngle:Sn(y)*w}),T})}return C}function lfe(e){var{props:t,previousSectorsRef:r}=e,{sectors:n,isAnimationActive:s,animationBegin:i,animationDuration:l,animationEasing:c,activeShape:d,inactiveShape:f,onAnimationStart:h,onAnimationEnd:g}=t,p=xk(t,"recharts-pie-"),y=r.current,[b,w]=v.useState(!0),j=v.useCallback(()=>{typeof g=="function"&&g(),w(!1)},[g]),S=v.useCallback(()=>{typeof h=="function"&&h(),w(!0)},[h]);return v.createElement(Fo,{begin:i,duration:l,isActive:s,easing:c,from:{t:0},to:{t:1},onAnimationStart:S,onAnimationEnd:j,key:p},k=>{var{t:E}=k,C=[],T=n&&n[0],A=T.startAngle;return n.forEach((O,D)=>{var R=y&&y[D],B=D>0?Ro(O,"paddingAngle",0):0;if(R){var V=rs(R.endAngle-R.startAngle,O.endAngle-O.startAngle),W=Vr(Vr({},O),{},{startAngle:A+B,endAngle:A+V(E)+B});C.push(W),A=W.endAngle}else{var{endAngle:se,startAngle:oe}=O,Y=rs(0,se-oe),Q=Y(E),te=Vr(Vr({},O),{},{startAngle:A+B,endAngle:A+Q+B});C.push(te),A=te.endAngle}}),r.current=C,v.createElement(Tn,null,v.createElement(OL,{sectors:C,activeShape:d,inactiveShape:f,allOtherPieProps:t,showLabels:!b}))})}function ofe(e){var{sectors:t,isAnimationActive:r,activeShape:n,inactiveShape:s}=e,i=v.useRef(null),l=i.current;return r&&t&&t.length&&(!l||l!==t)?v.createElement(lfe,{props:e,previousSectorsRef:i}):v.createElement(OL,{sectors:t,activeShape:n,inactiveShape:s,allOtherPieProps:e,showLabels:!0})}function cfe(e){var{hide:t,className:r,rootTabIndex:n}=e,s=Ut("recharts-pie",r);return t?null:v.createElement(Tn,{tabIndex:n,className:s},v.createElement(ofe,e))}var DL={animationBegin:400,animationDuration:1500,animationEasing:"ease",cx:"50%",cy:"50%",dataKey:"value",endAngle:360,fill:"#808080",hide:!1,innerRadius:0,isAnimationActive:!du.isSsr,labelLine:!0,legendType:"rect",minAngle:0,nameKey:"name",outerRadius:"80%",paddingAngle:0,rootTabIndex:0,startAngle:0,stroke:"#fff"};function ufe(e){var t=Gs(e,DL),r=v.useMemo(()=>im(e.children,$o),[e.children]),n=Dt(t,!1),s=v.useMemo(()=>({name:t.name,nameKey:t.nameKey,tooltipType:t.tooltipType,data:t.data,dataKey:t.dataKey,cx:t.cx,cy:t.cy,startAngle:t.startAngle,endAngle:t.endAngle,minAngle:t.minAngle,paddingAngle:t.paddingAngle,innerRadius:t.innerRadius,outerRadius:t.outerRadius,cornerRadius:t.cornerRadius,legendType:t.legendType,fill:t.fill,presentationProps:n}),[t.cornerRadius,t.cx,t.cy,t.data,t.dataKey,t.endAngle,t.innerRadius,t.minAngle,t.name,t.nameKey,t.outerRadius,t.paddingAngle,t.startAngle,t.tooltipType,t.legendType,t.fill,n]),i=nt(l=>gde(l,s,r));return v.createElement(v.Fragment,null,v.createElement(pk,{fn:Zde,args:Vr(Vr({},t),{},{sectors:i})}),v.createElement(cfe,su({},t,{sectors:i})))}class Fd extends v.PureComponent{constructor(){super(...arguments),Cy(this,"id",tu("recharts-pie-"))}render(){return v.createElement(v.Fragment,null,v.createElement(Ade,{data:this.props.data,dataKey:this.props.dataKey,hide:this.props.hide,angleAxisId:0,radiusAxisId:0,stackId:void 0,barSize:void 0,type:"pie"}),v.createElement(Qde,this.props),v.createElement(ufe,this.props),this.props.children)}}Cy(Fd,"displayName","Pie");Cy(Fd,"defaultProps",DL);var dfe=ke([pn],e=>{if(e)return{top:e.top,bottom:e.bottom,left:e.left,right:e.right}}),ffe=ke([dfe,Ol,Dl],(e,t,r)=>{if(!(!e||t==null||r==null))return{x:e.left,y:e.top,width:Math.max(0,t-e.left-e.right),height:Math.max(0,r-e.top-e.bottom)}}),hfe=e=>{var t=ba();return nt(r=>$i(r,"xAxis",e,t))},mfe=e=>{var t=ba();return nt(r=>$i(r,"yAxis",e,t))},yk=()=>nt(ffe),gfe=()=>nt(gce);function u5(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,n)}return r}function d5(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?u5(Object(r),!0).forEach(function(n){pfe(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):u5(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function pfe(e,t,r){return(t=xfe(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function xfe(e){var t=yfe(e,"string");return typeof t=="symbol"?t:t+""}function yfe(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var vfe=e=>{var{point:t,childIndex:r,mainColor:n,activeDot:s,dataKey:i}=e;if(s===!1||t.x==null||t.y==null)return null;var l=d5(d5({index:r,dataKey:i,cx:t.x,cy:t.y,r:4,fill:n??"none",strokeWidth:2,stroke:"#fff",payload:t.payload,value:t.value},Dt(s,!1)),TS(s)),c;return v.isValidElement(s)?c=v.cloneElement(s,l):typeof s=="function"?c=s(l):c=v.createElement(jL,l),v.createElement(Tn,{className:"recharts-active-dot"},c)};function bfe(e){var{points:t,mainColor:r,activeDot:n,itemDataKey:s}=e,i=nt(Bo),l=gfe();if(t==null||l==null)return null;var c=t.find(d=>l.includes(d.payload));return xr(c)?null:vfe({point:c,childIndex:Number(i),mainColor:r,dataKey:s,activeDot:n})}var wfe=()=>{var e=Mr();return v.useEffect(()=>(e(xde()),()=>{e(yde())})),null},jfe=["children"];function Nfe(e,t){if(e==null)return{};var r,n,s=Sfe(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(n=0;n<i.length;n++)r=i[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(s[r]=e[r])}return s}function Sfe(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}var f5=()=>{},PL=v.createContext({addErrorBar:f5,removeErrorBar:f5}),_fe={data:[],xAxisId:"xAxis-0",yAxisId:"yAxis-0",dataPointFormatter:()=>({x:0,y:0,value:0}),errorBarOffset:0},ML=v.createContext(_fe);function RL(e){var{children:t}=e,r=Nfe(e,jfe);return v.createElement(ML.Provider,{value:r},t)}var kfe=()=>v.useContext(ML),IL=e=>{var{children:t,xAxisId:r,yAxisId:n,zAxisId:s,dataKey:i,data:l,stackId:c,hide:d,type:f,barSize:h}=e,[g,p]=v.useState([]),y=v.useCallback(j=>{p(S=>[...S,j])},[p]),b=v.useCallback(j=>{p(S=>S.filter(k=>k!==j))},[p]),w=ba();return v.createElement(PL.Provider,{value:{addErrorBar:y,removeErrorBar:b}},v.createElement(Tde,{type:f,data:l,xAxisId:r,yAxisId:n,zAxisId:s,dataKey:i,errorBars:g,stackId:c,hide:d,barSize:h,isPanorama:w}),t)};function Efe(e){var{addErrorBar:t,removeErrorBar:r}=v.useContext(PL);return v.useEffect(()=>(t(e),()=>{r(e)}),[t,r,e]),null}var Tfe=["direction","width","dataKey","isAnimationActive","animationBegin","animationDuration","animationEasing"];function FL(e,t,r){return(t=Afe(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Afe(e){var t=Cfe(e,"string");return typeof t=="symbol"?t:t+""}function Cfe(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Ph(){return Ph=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Ph.apply(null,arguments)}function Ofe(e,t){if(e==null)return{};var r,n,s=Dfe(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(n=0;n<i.length;n++)r=i[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(s[r]=e[r])}return s}function Dfe(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}function Pfe(e){var{direction:t,width:r,dataKey:n,isAnimationActive:s,animationBegin:i,animationDuration:l,animationEasing:c}=e,d=Ofe(e,Tfe),f=Dt(d,!1),{data:h,dataPointFormatter:g,xAxisId:p,yAxisId:y,errorBarOffset:b}=kfe(),w=hfe(p),j=mfe(y);if(w?.scale==null||j?.scale==null||h==null||t==="x"&&w.type!=="number")return null;var S=h.map(k=>{var{x:E,y:C,value:T,errorVal:A}=g(k,n,t);if(!A)return null;var O=[],D,R;if(Array.isArray(A)?[D,R]=A:D=R=A,t==="x"){var{scale:B}=w,V=C+b,W=V+r,se=V-r,oe=B(T-D),Y=B(T+R);O.push({x1:Y,y1:W,x2:Y,y2:se}),O.push({x1:oe,y1:V,x2:Y,y2:V}),O.push({x1:oe,y1:W,x2:oe,y2:se})}else if(t==="y"){var{scale:Q}=j,te=E+b,ue=te-r,ve=te+r,U=Q(T-D),ie=Q(T+R);O.push({x1:ue,y1:ie,x2:ve,y2:ie}),O.push({x1:te,y1:U,x2:te,y2:ie}),O.push({x1:ue,y1:U,x2:ve,y2:U})}var F="".concat(E+b,"px ").concat(C+b,"px");return v.createElement(Tn,Ph({className:"recharts-errorBar",key:"bar-".concat(O.map(G=>"".concat(G.x1,"-").concat(G.x2,"-").concat(G.y1,"-").concat(G.y2)))},f),O.map(G=>{var z=s?{transformOrigin:"".concat(G.x1-5,"px")}:void 0;return v.createElement(Fo,{from:{transform:"scaleY(0)",transformOrigin:F},to:{transform:"scaleY(1)",transformOrigin:F},begin:i,easing:c,isActive:s,duration:l,key:"line-".concat(G.x1,"-").concat(G.x2,"-").concat(G.y1,"-").concat(G.y2),style:{transformOrigin:F}},v.createElement("line",Ph({},G,{style:z})))}))});return v.createElement(Tn,{className:"recharts-errorBars"},S)}var LL=v.createContext(void 0);function Mfe(e){var t=v.useContext(LL);return e??t??"x"}function BL(e){var{direction:t,children:r}=e;return v.createElement(LL.Provider,{value:t},r)}var $L={stroke:"black",strokeWidth:1.5,width:5,offset:0,isAnimationActive:!0,animationBegin:0,animationDuration:400,animationEasing:"ease-in-out"};function Rfe(e){var t=Mfe(e.direction),{width:r,isAnimationActive:n,animationBegin:s,animationDuration:i,animationEasing:l}=Gs(e,$L);return v.createElement(v.Fragment,null,v.createElement(Efe,{dataKey:e.dataKey,direction:t}),v.createElement(Pfe,Ph({},e,{direction:t,width:r,isAnimationActive:n,animationBegin:s,animationDuration:i,animationEasing:l})))}class UL extends v.Component{render(){return v.createElement(Rfe,this.props)}}FL(UL,"defaultProps",$L);FL(UL,"displayName","ErrorBar");var Ife="Invariant failed";function zL(e,t){throw new Error(Ife)}var Ffe=["x","y"];function iN(){return iN=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},iN.apply(null,arguments)}function h5(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,n)}return r}function _0(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?h5(Object(r),!0).forEach(function(n){Lfe(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):h5(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Lfe(e,t,r){return(t=Bfe(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Bfe(e){var t=$fe(e,"string");return typeof t=="symbol"?t:t+""}function $fe(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Ufe(e,t){if(e==null)return{};var r,n,s=zfe(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(n=0;n<i.length;n++)r=i[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(s[r]=e[r])}return s}function zfe(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}function Hfe(e,t){var{x:r,y:n}=e,s=Ufe(e,Ffe),i="".concat(r),l=parseInt(i,10),c="".concat(n),d=parseInt(c,10),f="".concat(t.height||s.height),h=parseInt(f,10),g="".concat(t.width||s.width),p=parseInt(g,10);return _0(_0(_0(_0(_0({},t),s),l?{x:l}:{}),d?{y:d}:{}),{},{height:h,width:p,name:t.name,radius:t.radius})}function HL(e){return v.createElement(TL,iN({shapeType:"rectangle",propTransformer:Hfe,activeClassName:"recharts-active-bar"},e))}var Vfe=function(t){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;return(n,s)=>{if(Ze(t))return t;var i=Ze(n)||xr(n);return i?t(n,s):(i||zL(),r)}};function vk(e,t){var r,n,s=nt(f=>Ml(f,e)),i=nt(f=>Qo(f,t)),l=(r=s?.allowDataOverflow)!==null&&r!==void 0?r:Xa.allowDataOverflow,c=(n=i?.allowDataOverflow)!==null&&n!==void 0?n:Qa.allowDataOverflow,d=l||c;return{needClip:d,needClipX:l,needClipY:c}}function VL(e){var{xAxisId:t,yAxisId:r,clipPathId:n}=e,s=yk(),{needClipX:i,needClipY:l,needClip:c}=vk(t,r);if(!c)return null;var{x:d,y:f,width:h,height:g}=s;return v.createElement("clipPath",{id:"clipPath-".concat(n)},v.createElement("rect",{x:i?d:d-h/2,y:l?f:f-g/2,width:i?h:h*2,height:l?g:g*2}))}var qfe=["onMouseEnter","onMouseLeave","onClick"],Wfe=["value","background","tooltipPosition"],Gfe=["onMouseEnter","onClick","onMouseLeave"];function Mh(){return Mh=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Mh.apply(null,arguments)}function m5(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,n)}return r}function ea(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?m5(Object(r),!0).forEach(function(n){Oy(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):m5(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Oy(e,t,r){return(t=Kfe(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Kfe(e){var t=Yfe(e,"string");return typeof t=="symbol"?t:t+""}function Yfe(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function lN(e,t){if(e==null)return{};var r,n,s=Xfe(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(n=0;n<i.length;n++)r=i[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(s[r]=e[r])}return s}function Xfe(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}var Qfe=e=>{var{dataKey:t,name:r,fill:n,legendType:s,hide:i}=e;return[{inactive:i,dataKey:t,type:s,color:n,value:Jd(r,t),payload:e}]};function Zfe(e){var{dataKey:t,stroke:r,strokeWidth:n,fill:s,name:i,hide:l,unit:c}=e;return{dataDefinedOnItem:void 0,positions:void 0,settings:{stroke:r,strokeWidth:n,fill:s,dataKey:t,nameKey:void 0,name:Jd(i,t),hide:l,type:e.tooltipType,color:e.fill,unit:c}}}function Jfe(e){var t=nt(Bo),{data:r,dataKey:n,background:s,allOtherBarProps:i}=e,{onMouseEnter:l,onMouseLeave:c,onClick:d}=i,f=lN(i,qfe),h=hk(l,n),g=mk(c),p=gk(d,n);if(!s||r==null)return null;var y=Dt(s,!1);return v.createElement(v.Fragment,null,r.map((b,w)=>{var{value:j,background:S,tooltipPosition:k}=b,E=lN(b,Wfe);if(!S)return null;var C=h(b,w),T=g(b,w),A=p(b,w),O=ea(ea(ea(ea(ea({option:s,isActive:String(w)===t},E),{},{fill:"#eee"},S),y),sm(f,b,w)),{},{onMouseEnter:C,onMouseLeave:T,onClick:A,dataKey:n,index:w,className:"recharts-bar-background-rectangle"});return v.createElement(HL,Mh({key:"background-bar-".concat(w)},O))}))}function qL(e){var{data:t,props:r,showLabels:n}=e,s=Dt(r,!1),{shape:i,dataKey:l,activeBar:c}=r,d=nt(Bo),f=nt(lL),{onMouseEnter:h,onClick:g,onMouseLeave:p}=r,y=lN(r,Gfe),b=hk(h,l),w=mk(p),j=gk(g,l);return t?v.createElement(v.Fragment,null,t.map((S,k)=>{var E=c&&String(k)===d&&(f==null||l===f),C=E?c:i,T=ea(ea(ea({},s),S),{},{isActive:E,option:C,index:k,dataKey:l});return v.createElement(Tn,Mh({className:"recharts-bar-rectangle"},sm(y,S,k),{onMouseEnter:b(S,k),onMouseLeave:w(S,k),onClick:j(S,k),key:"rectangle-".concat(S?.x,"-").concat(S?.y,"-").concat(S?.value,"-").concat(k)}),v.createElement(HL,T))}),n&&ko.renderCallByParent(r,t)):null}function e0e(e){var{props:t,previousRectanglesRef:r}=e,{data:n,layout:s,isAnimationActive:i,animationBegin:l,animationDuration:c,animationEasing:d,onAnimationEnd:f,onAnimationStart:h}=t,g=r.current,p=xk(t,"recharts-bar-"),[y,b]=v.useState(!1),w=v.useCallback(()=>{typeof f=="function"&&f(),b(!1)},[f]),j=v.useCallback(()=>{typeof h=="function"&&h(),b(!0)},[h]);return v.createElement(Fo,{begin:l,duration:c,isActive:i,easing:d,from:{t:0},to:{t:1},onAnimationEnd:w,onAnimationStart:j,key:p},S=>{var{t:k}=S,E=k===1?n:n.map((C,T)=>{var A=g&&g[T];if(A){var O=rs(A.x,C.x),D=rs(A.y,C.y),R=rs(A.width,C.width),B=rs(A.height,C.height);return ea(ea({},C),{},{x:O(k),y:D(k),width:R(k),height:B(k)})}if(s==="horizontal"){var V=rs(0,C.height),W=V(k);return ea(ea({},C),{},{y:C.y+C.height-W,height:W})}var se=rs(0,C.width),oe=se(k);return ea(ea({},C),{},{width:oe})});return k>0&&(r.current=E),v.createElement(Tn,null,v.createElement(qL,{props:t,data:E,showLabels:!y}))})}function t0e(e){var{data:t,isAnimationActive:r}=e,n=v.useRef(null);return r&&t&&t.length&&(n.current==null||n.current!==t)?v.createElement(e0e,{previousRectanglesRef:n,props:e}):v.createElement(qL,{props:e,data:t,showLabels:!0})}var WL=0,r0e=(e,t)=>{var r=Array.isArray(e.value)?e.value[1]:e.value;return{x:e.x,y:e.y,value:r,errorVal:Sr(e,t)}};class n0e extends v.PureComponent{constructor(){super(...arguments),Oy(this,"id",tu("recharts-bar-"))}render(){var{hide:t,data:r,dataKey:n,className:s,xAxisId:i,yAxisId:l,needClip:c,background:d,id:f,layout:h}=this.props;if(t)return null;var g=Ut("recharts-bar",s),p=xr(f)?this.id:f;return v.createElement(Tn,{className:g},c&&v.createElement("defs",null,v.createElement(VL,{clipPathId:p,xAxisId:i,yAxisId:l})),v.createElement(Tn,{className:"recharts-bar-rectangles",clipPath:c?"url(#clipPath-".concat(p,")"):null},v.createElement(Jfe,{data:r,dataKey:n,background:d,allOtherBarProps:this.props}),v.createElement(t0e,this.props)),v.createElement(BL,{direction:h==="horizontal"?"y":"x"},this.props.children))}}var GL={activeBar:!1,animationBegin:0,animationDuration:400,animationEasing:"ease",hide:!1,isAnimationActive:!du.isSsr,legendType:"rect",minPointSize:WL,xAxisId:0,yAxisId:0};function a0e(e){var{xAxisId:t,yAxisId:r,hide:n,legendType:s,minPointSize:i,activeBar:l,animationBegin:c,animationDuration:d,animationEasing:f,isAnimationActive:h}=Gs(e,GL),{needClip:g}=vk(t,r),p=fy(),y=ba(),b=v.useMemo(()=>({barSize:e.barSize,data:void 0,dataKey:e.dataKey,maxBarSize:e.maxBarSize,minPointSize:i,stackId:t7(e.stackId)}),[e.barSize,e.dataKey,e.maxBarSize,i,e.stackId]),w=im(e.children,$o),j=nt(E=>D0e(E,t,r,y,b,w));if(p!=="vertical"&&p!=="horizontal")return null;var S,k=j?.[0];return k==null||k.height==null||k.width==null?S=0:S=p==="vertical"?k.height/2:k.width/2,v.createElement(RL,{xAxisId:t,yAxisId:r,data:j,dataPointFormatter:r0e,errorBarOffset:S},v.createElement(n0e,Mh({},e,{layout:p,needClip:g,data:j,xAxisId:t,yAxisId:r,hide:n,legendType:s,minPointSize:i,activeBar:l,animationBegin:c,animationDuration:d,animationEasing:f,isAnimationActive:h})))}function s0e(e){var{layout:t,barSettings:{dataKey:r,minPointSize:n},pos:s,bandSize:i,xAxis:l,yAxis:c,xAxisTicks:d,yAxisTicks:f,stackedData:h,displayedData:g,offset:p,cells:y}=e,b=t==="horizontal"?c:l,w=h?b.scale.domain():null,j=zre({numericAxis:b});return g.map((S,k)=>{var E,C,T,A,O,D;h?E=Fre(h[k],w):(E=Sr(S,r),Array.isArray(E)||(E=[j,E]));var R=Vfe(n,WL)(E[1],k);if(t==="horizontal"){var B,[V,W]=[c.scale(E[0]),c.scale(E[1])];C=J6({axis:l,ticks:d,bandSize:i,offset:s.offset,entry:S,index:k}),T=(B=W??V)!==null&&B!==void 0?B:void 0,A=s.size;var se=V-W;if(O=fs(se)?0:se,D={x:C,y:p.top,width:A,height:p.height},Math.abs(R)>0&&Math.abs(O)<Math.abs(R)){var oe=Sn(O||R)*(Math.abs(R)-Math.abs(O));T-=oe,O+=oe}}else{var[Y,Q]=[l.scale(E[0]),l.scale(E[1])];if(C=Y,T=J6({axis:c,ticks:f,bandSize:i,offset:s.offset,entry:S,index:k}),A=Q-Y,O=s.size,D={x:p.left,y:T,width:p.width,height:O},Math.abs(R)>0&&Math.abs(A)<Math.abs(R)){var te=Sn(A||R)*(Math.abs(R)-Math.abs(A));A+=te}}var ue=ea(ea({},S),{},{x:C,y:T,width:A,height:O,value:h?E:E[1],payload:S,background:D,tooltipPosition:{x:C+A/2,y:T+O/2}},y&&y[k]&&y[k].props);return ue})}class dl extends v.PureComponent{render(){return v.createElement(IL,{type:"bar",data:null,xAxisId:this.props.xAxisId,yAxisId:this.props.yAxisId,zAxisId:0,dataKey:this.props.dataKey,stackId:this.props.stackId,hide:this.props.hide,barSize:this.props.barSize},v.createElement(wfe,null),v.createElement(CL,{legendPayload:Qfe(this.props)}),v.createElement(pk,{fn:Zfe,args:this.props}),v.createElement(a0e,this.props))}}Oy(dl,"displayName","Bar");Oy(dl,"defaultProps",GL);function g5(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,n)}return r}function ep(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?g5(Object(r),!0).forEach(function(n){i0e(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):g5(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function i0e(e,t,r){return(t=l0e(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function l0e(e){var t=o0e(e,"string");return typeof t=="symbol"?t:t+""}function o0e(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var c0e=(e,t)=>t,u0e=(e,t,r)=>r,d0e=(e,t,r,n)=>n,bk=(e,t,r,n,s)=>s,f0e=(e,t,r,n,s)=>s.maxBarSize,h0e=(e,t,r,n,s,i)=>i,p5=(e,t,r)=>{var n=r??e;if(!xr(n))return xa(n,t,0)},m0e=ke([qt,jy,c0e,u0e,d0e],(e,t,r,n,s)=>t.filter(i=>e==="horizontal"?i.xAxisId===r:i.yAxisId===n).filter(i=>i.isPanorama===s).filter(i=>i.hide===!1).filter(i=>i.type==="bar")),g0e=(e,t,r,n)=>{var s=qt(e);return s==="horizontal"?Zj(e,"yAxis",r,n):Zj(e,"xAxis",t,n)},p0e=(e,t,r)=>{var n=qt(e);return n==="horizontal"?yD(e,"xAxis",t):yD(e,"yAxis",r)};function x0e(e){return e.stackId!=null&&e.dataKey!=null}var y0e=(e,t,r)=>{var n={},s=e.filter(x0e),i=e.filter(f=>f.stackId==null),l=s.reduce((f,h)=>(f[h.stackId]||(f[h.stackId]=[]),f[h.stackId].push(h),f),n),c=Object.entries(l).map(f=>{var[h,g]=f,p=g.map(b=>b.dataKey),y=p5(t,r,g[0].barSize);return{stackId:h,dataKeys:p,barSize:y}}),d=i.map(f=>{var h=[f.dataKey].filter(p=>p!=null),g=p5(t,r,f.barSize);return{stackId:void 0,dataKeys:h,barSize:g}});return[...c,...d]},v0e=ke([m0e,kle,p0e],y0e),b0e=(e,t,r,n,s)=>{var i,l,c=qt(e),d=hF(e),{maxBarSize:f}=s,h=xr(f)?d:f,g,p;return c==="horizontal"?(g=$i(e,"xAxis",t,n),p=Lo(e,"xAxis",t,n)):(g=$i(e,"yAxis",r,n),p=Lo(e,"yAxis",r,n)),(i=(l=_h(g,p,!0))!==null&&l!==void 0?l:h)!==null&&i!==void 0?i:0},KL=(e,t,r,n)=>{var s=qt(e),i,l;return s==="horizontal"?(i=$i(e,"xAxis",t,n),l=Lo(e,"xAxis",t,n)):(i=$i(e,"yAxis",r,n),l=Lo(e,"yAxis",r,n)),_h(i,l)};function w0e(e,t,r,n,s){var i=n.length;if(!(i<1)){var l=xa(e,r,0,!0),c,d=[];if(gs(n[0].barSize)){var f=!1,h=r/i,g=n.reduce((S,k)=>S+(k.barSize||0),0);g+=(i-1)*l,g>=r&&(g-=(i-1)*l,l=0),g>=r&&h>0&&(f=!0,h*=.9,g=i*h);var p=(r-g)/2>>0,y={offset:p-l,size:0};c=n.reduce((S,k)=>{var E,C={stackId:k.stackId,dataKeys:k.dataKeys,position:{offset:y.offset+y.size+l,size:f?h:(E=k.barSize)!==null&&E!==void 0?E:0}},T=[...S,C];return y=T[T.length-1].position,T},d)}else{var b=xa(t,r,0,!0);r-2*b-(i-1)*l<=0&&(l=0);var w=(r-2*b-(i-1)*l)/i;w>1&&(w>>=0);var j=gs(s)?Math.min(w,s):w;c=n.reduce((S,k,E)=>[...S,{stackId:k.stackId,dataKeys:k.dataKeys,position:{offset:b+(w+l)*E+(w-j)/2,size:j}}],d)}return c}}var j0e=(e,t,r,n,s,i,l)=>{var c=xr(l)?t:l,d=w0e(r,n,s!==i?s:i,e,c);return s!==i&&d!=null&&(d=d.map(f=>ep(ep({},f),{},{position:ep(ep({},f.position),{},{offset:f.position.offset-s/2})}))),d},N0e=ke([v0e,hF,_le,mF,b0e,KL,f0e],j0e),S0e=(e,t,r,n)=>$i(e,"xAxis",t,n),_0e=(e,t,r,n)=>$i(e,"yAxis",r,n),k0e=(e,t,r,n)=>Lo(e,"xAxis",t,n),E0e=(e,t,r,n)=>Lo(e,"yAxis",r,n),T0e=ke([N0e,bk],(e,t)=>{if(e!=null){var r=e.find(n=>n.stackId===t.stackId&&n.dataKeys.includes(t.dataKey));if(r!=null)return r.position}}),A0e=(e,t)=>{if(!(!e||t?.dataKey==null)){var{stackId:r}=t;if(r!=null){var n=e[r];if(n){var{stackedData:s}=n;if(s){var i=s.find(l=>l.key===t.dataKey);return i}}}}},C0e=ke([jy,bk],(e,t)=>{if(e.some(r=>r.type==="bar"&&t.dataKey===r.dataKey&&t.stackId===r.stackId&&t.stackId===r.stackId))return t}),O0e=ke([g0e,bk],A0e),D0e=ke([pn,S0e,_0e,k0e,E0e,T0e,qt,k_,KL,O0e,C0e,h0e],(e,t,r,n,s,i,l,c,d,f,h,g)=>{var{chartData:p,dataStartIndex:y,dataEndIndex:b}=c;if(!(h==null||i==null||l!=="horizontal"&&l!=="vertical"||t==null||r==null||n==null||s==null||d==null)){var{data:w}=h,j;if(w!=null&&w.length>0?j=w:j=p?.slice(y,b+1),j!=null)return s0e({layout:l,barSettings:h,pos:i,bandSize:d,xAxis:t,yAxis:r,xAxisTicks:n,yAxisTicks:s,stackedData:f,displayedData:j,offset:e,cells:g})}}),YL=e=>{var{chartData:t}=e,r=Mr(),n=ba();return v.useEffect(()=>n?()=>{}:(r(TD(t)),()=>{r(TD(void 0))}),[t,r,n]),null},x5={x:0,y:0,width:0,height:0,padding:{top:0,right:0,bottom:0,left:0}},XL=Ws({name:"brush",initialState:x5,reducers:{setBrushSettings(e,t){return t.payload==null?x5:t.payload}}}),{setBrushSettings:uCe}=XL.actions,P0e=XL.reducer;function M0e(e,t,r){return(t=R0e(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function R0e(e){var t=I0e(e,"string");return typeof t=="symbol"?t:t+""}function I0e(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}class wk{static create(t){return new wk(t)}constructor(t){this.scale=t}get domain(){return this.scale.domain}get range(){return this.scale.range}get rangeMin(){return this.range()[0]}get rangeMax(){return this.range()[1]}get bandwidth(){return this.scale.bandwidth}apply(t){var{bandAware:r,position:n}=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(t!==void 0){if(n)switch(n){case"start":return this.scale(t);case"middle":{var s=this.bandwidth?this.bandwidth()/2:0;return this.scale(t)+s}case"end":{var i=this.bandwidth?this.bandwidth():0;return this.scale(t)+i}default:return this.scale(t)}if(r){var l=this.bandwidth?this.bandwidth()/2:0;return this.scale(t)+l}return this.scale(t)}}isInRange(t){var r=this.range(),n=r[0],s=r[r.length-1];return n<=s?t>=n&&t<=s:t>=s&&t<=n}}M0e(wk,"EPS",1e-4);function F0e(e){return(e%180+180)%180}var L0e=function(t){var{width:r,height:n}=t,s=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,i=F0e(s),l=i*Math.PI/180,c=Math.atan(n/r),d=l>c&&l<Math.PI-c?n/Math.sin(l):r/Math.cos(l);return Math.abs(d)},B0e={dots:[],areas:[],lines:[]},QL=Ws({name:"referenceElements",initialState:B0e,reducers:{addDot:(e,t)=>{e.dots.push(t.payload)},removeDot:(e,t)=>{var r=ml(e).dots.findIndex(n=>n===t.payload);r!==-1&&e.dots.splice(r,1)},addArea:(e,t)=>{e.areas.push(t.payload)},removeArea:(e,t)=>{var r=ml(e).areas.findIndex(n=>n===t.payload);r!==-1&&e.areas.splice(r,1)},addLine:(e,t)=>{e.lines.push(t.payload)},removeLine:(e,t)=>{var r=ml(e).lines.findIndex(n=>n===t.payload);r!==-1&&e.lines.splice(r,1)}}}),{addDot:dCe,removeDot:fCe,addArea:hCe,removeArea:mCe,addLine:gCe,removeLine:pCe}=QL.actions,$0e=QL.reducer,U0e=v.createContext(void 0),z0e=e=>{var{children:t}=e,[r]=v.useState("".concat(tu("recharts"),"-clip")),n=yk();if(n==null)return null;var{x:s,y:i,width:l,height:c}=n;return v.createElement(U0e.Provider,{value:r},v.createElement("defs",null,v.createElement("clipPath",{id:r},v.createElement("rect",{x:s,y:i,height:c,width:l}))),t)};function s2(e,t){for(var r in e)if({}.hasOwnProperty.call(e,r)&&(!{}.hasOwnProperty.call(t,r)||e[r]!==t[r]))return!1;for(var n in t)if({}.hasOwnProperty.call(t,n)&&!{}.hasOwnProperty.call(e,n))return!1;return!0}function ZL(e,t,r){if(t<1)return[];if(t===1&&r===void 0)return e;for(var n=[],s=0;s<e.length;s+=t)n.push(e[s]);return n}function H0e(e,t,r){var n={width:e.width+t.width,height:e.height+t.height};return L0e(n,r)}function V0e(e,t,r){var n=r==="width",{x:s,y:i,width:l,height:c}=e;return t===1?{start:n?s:i,end:n?s+l:i+c}:{start:n?s+l:i+c,end:n?s:i}}function hx(e,t,r,n,s){if(e*t<e*n||e*t>e*s)return!1;var i=r();return e*(t-e*i/2-n)>=0&&e*(t+e*i/2-s)<=0}function q0e(e,t){return ZL(e,t+1)}function W0e(e,t,r,n,s){for(var i=(n||[]).slice(),{start:l,end:c}=t,d=0,f=1,h=l,g=function(){var b=n?.[d];if(b===void 0)return{v:ZL(n,f)};var w=d,j,S=()=>(j===void 0&&(j=r(b,w)),j),k=b.coordinate,E=d===0||hx(e,k,S,h,c);E||(d=0,h=l,f+=1),E&&(h=k+e*(S()/2+s),d+=f)},p;f<=i.length;)if(p=g(),p)return p.v;return[]}function y5(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,n)}return r}function Jn(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?y5(Object(r),!0).forEach(function(n){G0e(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):y5(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function G0e(e,t,r){return(t=K0e(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function K0e(e){var t=Y0e(e,"string");return typeof t=="symbol"?t:t+""}function Y0e(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function X0e(e,t,r,n,s){for(var i=(n||[]).slice(),l=i.length,{start:c}=t,{end:d}=t,f=function(p){var y=i[p],b,w=()=>(b===void 0&&(b=r(y,p)),b);if(p===l-1){var j=e*(y.coordinate+e*w()/2-d);i[p]=y=Jn(Jn({},y),{},{tickCoord:j>0?y.coordinate-j*e:y.coordinate})}else i[p]=y=Jn(Jn({},y),{},{tickCoord:y.coordinate});var S=hx(e,y.tickCoord,w,c,d);S&&(d=y.tickCoord-e*(w()/2+s),i[p]=Jn(Jn({},y),{},{isShow:!0}))},h=l-1;h>=0;h--)f(h);return i}function Q0e(e,t,r,n,s,i){var l=(n||[]).slice(),c=l.length,{start:d,end:f}=t;if(i){var h=n[c-1],g=r(h,c-1),p=e*(h.coordinate+e*g/2-f);l[c-1]=h=Jn(Jn({},h),{},{tickCoord:p>0?h.coordinate-p*e:h.coordinate});var y=hx(e,h.tickCoord,()=>g,d,f);y&&(f=h.tickCoord-e*(g/2+s),l[c-1]=Jn(Jn({},h),{},{isShow:!0}))}for(var b=i?c-1:c,w=function(k){var E=l[k],C,T=()=>(C===void 0&&(C=r(E,k)),C);if(k===0){var A=e*(E.coordinate-e*T()/2-d);l[k]=E=Jn(Jn({},E),{},{tickCoord:A<0?E.coordinate-A*e:E.coordinate})}else l[k]=E=Jn(Jn({},E),{},{tickCoord:E.coordinate});var O=hx(e,E.tickCoord,T,d,f);O&&(d=E.tickCoord+e*(T()/2+s),l[k]=Jn(Jn({},E),{},{isShow:!0}))},j=0;j<b;j++)w(j);return l}function jk(e,t,r){var{tick:n,ticks:s,viewBox:i,minTickGap:l,orientation:c,interval:d,tickFormatter:f,unit:h,angle:g}=e;if(!s||!s.length||!n)return[];if(Ze(d)||du.isSsr){var p;return(p=q0e(s,Ze(d)?d:0))!==null&&p!==void 0?p:[]}var y=[],b=c==="top"||c==="bottom"?"width":"height",w=h&&b==="width"?X0(h,{fontSize:t,letterSpacing:r}):{width:0,height:0},j=(E,C)=>{var T=typeof f=="function"?f(E.value,C):E.value;return b==="width"?H0e(X0(T,{fontSize:t,letterSpacing:r}),w,g):X0(T,{fontSize:t,letterSpacing:r})[b]},S=s.length>=2?Sn(s[1].coordinate-s[0].coordinate):1,k=V0e(i,S,b);return d==="equidistantPreserveStart"?W0e(S,k,j,s,l):(d==="preserveStart"||d==="preserveStartEnd"?y=Q0e(S,k,j,s,l,d==="preserveStartEnd"):y=X0e(S,k,j,s,l),y.filter(E=>E.isShow))}var Z0e=["viewBox"],J0e=["viewBox"];function gd(){return gd=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},gd.apply(null,arguments)}function v5(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,n)}return r}function hn(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?v5(Object(r),!0).forEach(function(n){Nk(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):v5(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function b5(e,t){if(e==null)return{};var r,n,s=ehe(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(n=0;n<i.length;n++)r=i[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(s[r]=e[r])}return s}function ehe(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}function Nk(e,t,r){return(t=the(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function the(e){var t=rhe(e,"string");return typeof t=="symbol"?t:t+""}function rhe(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}class Zo extends v.Component{constructor(t){super(t),this.tickRefs=v.createRef(),this.tickRefs.current=[],this.state={fontSize:"",letterSpacing:""}}shouldComponentUpdate(t,r){var{viewBox:n}=t,s=b5(t,Z0e),i=this.props,{viewBox:l}=i,c=b5(i,J0e);return!s2(n,l)||!s2(s,c)||!s2(r,this.state)}getTickLineCoord(t){var{x:r,y:n,width:s,height:i,orientation:l,tickSize:c,mirror:d,tickMargin:f}=this.props,h,g,p,y,b,w,j=d?-1:1,S=t.tickSize||c,k=Ze(t.tickCoord)?t.tickCoord:t.coordinate;switch(l){case"top":h=g=t.coordinate,y=n+ +!d*i,p=y-j*S,w=p-j*f,b=k;break;case"left":p=y=t.coordinate,g=r+ +!d*s,h=g-j*S,b=h-j*f,w=k;break;case"right":p=y=t.coordinate,g=r+ +d*s,h=g+j*S,b=h+j*f,w=k;break;default:h=g=t.coordinate,y=n+ +d*i,p=y+j*S,w=p+j*f,b=k;break}return{line:{x1:h,y1:p,x2:g,y2:y},tick:{x:b,y:w}}}getTickTextAnchor(){var{orientation:t,mirror:r}=this.props,n;switch(t){case"left":n=r?"start":"end";break;case"right":n=r?"end":"start";break;default:n="middle";break}return n}getTickVerticalAnchor(){var{orientation:t,mirror:r}=this.props;switch(t){case"left":case"right":return"middle";case"top":return r?"start":"end";default:return r?"end":"start"}}renderAxisLine(){var{x:t,y:r,width:n,height:s,orientation:i,mirror:l,axisLine:c}=this.props,d=hn(hn(hn({},Dt(this.props,!1)),Dt(c,!1)),{},{fill:"none"});if(i==="top"||i==="bottom"){var f=+(i==="top"&&!l||i==="bottom"&&l);d=hn(hn({},d),{},{x1:t,y1:r+f*s,x2:t+n,y2:r+f*s})}else{var h=+(i==="left"&&!l||i==="right"&&l);d=hn(hn({},d),{},{x1:t+h*n,y1:r,x2:t+h*n,y2:r+s})}return v.createElement("line",gd({},d,{className:Ut("recharts-cartesian-axis-line",Ro(c,"className"))}))}static renderTickItem(t,r,n){var s,i=Ut(r.className,"recharts-cartesian-axis-tick-value");if(v.isValidElement(t))s=v.cloneElement(t,hn(hn({},r),{},{className:i}));else if(typeof t=="function")s=t(hn(hn({},r),{},{className:i}));else{var l="recharts-cartesian-axis-tick-value";typeof t!="boolean"&&(l=Ut(l,t.className)),s=v.createElement(Ay,gd({},r,{className:l}),n)}return s}renderTicks(t,r){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:[],{tickLine:s,stroke:i,tick:l,tickFormatter:c,unit:d}=this.props,f=jk(hn(hn({},this.props),{},{ticks:n}),t,r),h=this.getTickTextAnchor(),g=this.getTickVerticalAnchor(),p=Dt(this.props,!1),y=Dt(l,!1),b=hn(hn({},p),{},{fill:"none"},Dt(s,!1)),w=f.map((j,S)=>{var{line:k,tick:E}=this.getTickLineCoord(j),C=hn(hn(hn(hn({textAnchor:h,verticalAnchor:g},p),{},{stroke:"none",fill:i},y),E),{},{index:S,payload:j,visibleTicksCount:f.length,tickFormatter:c});return v.createElement(Tn,gd({className:"recharts-cartesian-axis-tick",key:"tick-".concat(j.value,"-").concat(j.coordinate,"-").concat(j.tickCoord)},sm(this.props,j,S)),s&&v.createElement("line",gd({},b,k,{className:Ut("recharts-cartesian-axis-tick-line",Ro(s,"className"))})),l&&Zo.renderTickItem(l,C,"".concat(typeof c=="function"?c(j.value,S):j.value).concat(d||"")))});return w.length>0?v.createElement("g",{className:"recharts-cartesian-axis-ticks"},w):null}render(){var{axisLine:t,width:r,height:n,className:s,hide:i}=this.props;if(i)return null;var{ticks:l}=this.props;return r!=null&&r<=0||n!=null&&n<=0?null:v.createElement(Tn,{className:Ut("recharts-cartesian-axis",s),ref:c=>{if(c){var d=c.getElementsByClassName("recharts-cartesian-axis-tick-value");this.tickRefs.current=Array.from(d);var f=d[0];if(f){var h=window.getComputedStyle(f).fontSize,g=window.getComputedStyle(f).letterSpacing;(h!==this.state.fontSize||g!==this.state.letterSpacing)&&this.setState({fontSize:window.getComputedStyle(f).fontSize,letterSpacing:window.getComputedStyle(f).letterSpacing})}}}},t&&this.renderAxisLine(),this.renderTicks(this.state.fontSize,this.state.letterSpacing,l),ns.renderCallByParent(this.props))}}Nk(Zo,"displayName","CartesianAxis");Nk(Zo,"defaultProps",{x:0,y:0,width:0,height:0,viewBox:{x:0,y:0,width:0,height:0},orientation:"bottom",ticks:[],stroke:"#666",tickLine:!0,axisLine:!0,tick:!0,mirror:!1,minTickGap:5,tickSize:6,tickMargin:2,interval:"preserveEnd"});var nhe=["x1","y1","x2","y2","key"],ahe=["offset"],she=["xAxisId","yAxisId"],ihe=["xAxisId","yAxisId"];function w5(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,n)}return r}function ta(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?w5(Object(r),!0).forEach(function(n){lhe(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):w5(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function lhe(e,t,r){return(t=ohe(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function ohe(e){var t=che(e,"string");return typeof t=="symbol"?t:t+""}function che(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function $c(){return $c=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},$c.apply(null,arguments)}function mx(e,t){if(e==null)return{};var r,n,s=uhe(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(n=0;n<i.length;n++)r=i[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(s[r]=e[r])}return s}function uhe(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}var dhe=e=>{var{fill:t}=e;if(!t||t==="none")return null;var{fillOpacity:r,x:n,y:s,width:i,height:l,ry:c}=e;return v.createElement("rect",{x:n,y:s,ry:c,width:i,height:l,stroke:"none",fill:t,fillOpacity:r,className:"recharts-cartesian-grid-bg"})};function JL(e,t){var r;if(v.isValidElement(e))r=v.cloneElement(e,t);else if(typeof e=="function")r=e(t);else{var{x1:n,y1:s,x2:i,y2:l,key:c}=t,d=mx(t,nhe),f=Dt(d,!1),{offset:h}=f,g=mx(f,ahe);r=v.createElement("line",$c({},g,{x1:n,y1:s,x2:i,y2:l,fill:"none",key:c}))}return r}function fhe(e){var{x:t,width:r,horizontal:n=!0,horizontalPoints:s}=e;if(!n||!s||!s.length)return null;var{xAxisId:i,yAxisId:l}=e,c=mx(e,she),d=s.map((f,h)=>{var g=ta(ta({},c),{},{x1:t,y1:f,x2:t+r,y2:f,key:"line-".concat(h),index:h});return JL(n,g)});return v.createElement("g",{className:"recharts-cartesian-grid-horizontal"},d)}function hhe(e){var{y:t,height:r,vertical:n=!0,verticalPoints:s}=e;if(!n||!s||!s.length)return null;var{xAxisId:i,yAxisId:l}=e,c=mx(e,ihe),d=s.map((f,h)=>{var g=ta(ta({},c),{},{x1:f,y1:t,x2:f,y2:t+r,key:"line-".concat(h),index:h});return JL(n,g)});return v.createElement("g",{className:"recharts-cartesian-grid-vertical"},d)}function mhe(e){var{horizontalFill:t,fillOpacity:r,x:n,y:s,width:i,height:l,horizontalPoints:c,horizontal:d=!0}=e;if(!d||!t||!t.length)return null;var f=c.map(g=>Math.round(g+s-s)).sort((g,p)=>g-p);s!==f[0]&&f.unshift(0);var h=f.map((g,p)=>{var y=!f[p+1],b=y?s+l-g:f[p+1]-g;if(b<=0)return null;var w=p%t.length;return v.createElement("rect",{key:"react-".concat(p),y:g,x:n,height:b,width:i,stroke:"none",fill:t[w],fillOpacity:r,className:"recharts-cartesian-grid-bg"})});return v.createElement("g",{className:"recharts-cartesian-gridstripes-horizontal"},h)}function ghe(e){var{vertical:t=!0,verticalFill:r,fillOpacity:n,x:s,y:i,width:l,height:c,verticalPoints:d}=e;if(!t||!r||!r.length)return null;var f=d.map(g=>Math.round(g+s-s)).sort((g,p)=>g-p);s!==f[0]&&f.unshift(0);var h=f.map((g,p)=>{var y=!f[p+1],b=y?s+l-g:f[p+1]-g;if(b<=0)return null;var w=p%r.length;return v.createElement("rect",{key:"react-".concat(p),x:g,y:i,width:b,height:c,stroke:"none",fill:r[w],fillOpacity:n,className:"recharts-cartesian-grid-bg"})});return v.createElement("g",{className:"recharts-cartesian-gridstripes-vertical"},h)}var phe=(e,t)=>{var{xAxis:r,width:n,height:s,offset:i}=e;return JI(jk(ta(ta(ta({},Zo.defaultProps),r),{},{ticks:e7(r),viewBox:{x:0,y:0,width:n,height:s}})),i.left,i.left+i.width,t)},xhe=(e,t)=>{var{yAxis:r,width:n,height:s,offset:i}=e;return JI(jk(ta(ta(ta({},Zo.defaultProps),r),{},{ticks:e7(r),viewBox:{x:0,y:0,width:n,height:s}})),i.top,i.top+i.height,t)},yhe={horizontal:!0,vertical:!0,horizontalPoints:[],verticalPoints:[],stroke:"#ccc",fill:"none",verticalFill:[],horizontalFill:[],xAxisId:0,yAxisId:0};function Uc(e){var t=QS(),r=ZS(),n=i7(),s=ta(ta({},Gs(e,yhe)),{},{x:Ze(e.x)?e.x:n.left,y:Ze(e.y)?e.y:n.top,width:Ze(e.width)?e.width:n.width,height:Ze(e.height)?e.height:n.height}),{xAxisId:i,yAxisId:l,x:c,y:d,width:f,height:h,syncWithTicks:g,horizontalValues:p,verticalValues:y}=s,b=ba(),w=nt(R=>vD(R,"xAxis",i,b)),j=nt(R=>vD(R,"yAxis",l,b));if(!Ze(f)||f<=0||!Ze(h)||h<=0||!Ze(c)||c!==+c||!Ze(d)||d!==+d)return null;var S=s.verticalCoordinatesGenerator||phe,k=s.horizontalCoordinatesGenerator||xhe,{horizontalPoints:E,verticalPoints:C}=s;if((!E||!E.length)&&typeof k=="function"){var T=p&&p.length,A=k({yAxis:j?ta(ta({},j),{},{ticks:T?p:j.ticks}):void 0,width:t,height:r,offset:n},T?!0:g);Y0(Array.isArray(A),"horizontalCoordinatesGenerator should return Array but instead it returned [".concat(typeof A,"]")),Array.isArray(A)&&(E=A)}if((!C||!C.length)&&typeof S=="function"){var O=y&&y.length,D=S({xAxis:w?ta(ta({},w),{},{ticks:O?y:w.ticks}):void 0,width:t,height:r,offset:n},O?!0:g);Y0(Array.isArray(D),"verticalCoordinatesGenerator should return Array but instead it returned [".concat(typeof D,"]")),Array.isArray(D)&&(C=D)}return v.createElement("g",{className:"recharts-cartesian-grid"},v.createElement(dhe,{fill:s.fill,fillOpacity:s.fillOpacity,x:s.x,y:s.y,width:s.width,height:s.height,ry:s.ry}),v.createElement(mhe,$c({},s,{horizontalPoints:E})),v.createElement(ghe,$c({},s,{verticalPoints:C})),v.createElement(fhe,$c({},s,{offset:n,horizontalPoints:E,xAxis:w,yAxis:j})),v.createElement(hhe,$c({},s,{offset:n,verticalPoints:C,xAxis:w,yAxis:j})))}Uc.displayName="CartesianGrid";var e9=(e,t,r,n)=>$i(e,"xAxis",t,n),t9=(e,t,r,n)=>Lo(e,"xAxis",t,n),r9=(e,t,r,n)=>$i(e,"yAxis",r,n),n9=(e,t,r,n)=>Lo(e,"yAxis",r,n),vhe=ke([qt,e9,r9,t9,n9],(e,t,r,n,s)=>Ko(e,"xAxis")?_h(t,n,!1):_h(r,s,!1)),bhe=(e,t,r,n,s)=>s,whe=ke([jy,bhe],(e,t)=>{if(e.some(r=>r.type==="line"&&t.dataKey===r.dataKey&&t.data===r.data))return t}),jhe=ke([qt,e9,r9,t9,n9,whe,vhe,k_],(e,t,r,n,s,i,l,c)=>{var{chartData:d,dataStartIndex:f,dataEndIndex:h}=c;if(!(i==null||t==null||r==null||n==null||s==null||n.length===0||s.length===0||l==null)){var{dataKey:g,data:p}=i,y;if(p!=null&&p.length>0?y=p:y=d?.slice(f,h+1),y!=null)return Uhe({layout:e,xAxis:t,yAxis:r,xAxisTicks:n,yAxisTicks:s,dataKey:g,bandSize:l,displayedData:y})}}),Nhe=["type","layout","connectNulls","needClip"],She=["activeDot","animateNewValues","animationBegin","animationDuration","animationEasing","connectNulls","dot","hide","isAnimationActive","label","legendType","xAxisId","yAxisId"];function a9(e,t){if(e==null)return{};var r,n,s=_he(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(n=0;n<i.length;n++)r=i[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(s[r]=e[r])}return s}function _he(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}function j5(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,n)}return r}function si(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?j5(Object(r),!0).forEach(function(n){Dy(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):j5(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Dy(e,t,r){return(t=khe(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function khe(e){var t=Ehe(e,"string");return typeof t=="symbol"?t:t+""}function Ehe(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Ld(){return Ld=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Ld.apply(null,arguments)}var The=e=>{var{dataKey:t,name:r,stroke:n,legendType:s,hide:i}=e;return[{inactive:i,dataKey:t,type:s,color:n,value:Jd(r,t),payload:e}]};function Ahe(e){var{dataKey:t,data:r,stroke:n,strokeWidth:s,fill:i,name:l,hide:c,unit:d}=e;return{dataDefinedOnItem:r,positions:void 0,settings:{stroke:n,strokeWidth:s,fill:i,dataKey:t,nameKey:void 0,name:Jd(l,t),hide:c,type:e.tooltipType,color:e.stroke,unit:d}}}var s9=(e,t)=>"".concat(t,"px ").concat(e-t,"px");function Che(e,t){for(var r=e.length%2!==0?[...e,0]:e,n=[],s=0;s<t;++s)n=[...n,...r];return n}var Ohe=(e,t,r)=>{var n=r.reduce((g,p)=>g+p);if(!n)return s9(t,e);for(var s=Math.floor(e/n),i=e%n,l=t-e,c=[],d=0,f=0;d<r.length;f+=r[d],++d)if(f+r[d]>i){c=[...r.slice(0,d),i-f];break}var h=c.length%2===0?[0,l]:[l];return[...Che(r,s),...c,...h].map(g=>"".concat(g,"px")).join(", ")};function Dhe(e,t){var r;if(v.isValidElement(e))r=v.cloneElement(e,t);else if(typeof e=="function")r=e(t);else{var n=Ut("recharts-line-dot",typeof e!="boolean"?e.className:"");r=v.createElement(jL,Ld({},t,{className:n}))}return r}function Phe(e,t){return e==null?!1:t?!0:e.length===1}function Mhe(e){var{clipPathId:t,points:r,props:n}=e,{dot:s,dataKey:i,needClip:l}=n;if(!Phe(r,s))return null;var c=Q8(s),d=Dt(n,!1),f=Dt(s,!0),h=r.map((p,y)=>{var b=si(si(si({key:"dot-".concat(y),r:3},d),f),{},{index:y,cx:p.x,cy:p.y,dataKey:i,value:p.value,payload:p.payload,points:r});return Dhe(s,b)}),g={clipPath:l?"url(#clipPath-".concat(c?"":"dots-").concat(t,")"):null};return v.createElement(Tn,Ld({className:"recharts-line-dots",key:"dots"},g),h)}function oN(e){var{clipPathId:t,pathRef:r,points:n,strokeDasharray:s,props:i,showLabels:l}=e,{type:c,layout:d,connectNulls:f,needClip:h}=i,g=a9(i,Nhe),p=si(si({},Dt(g,!0)),{},{fill:"none",className:"recharts-line-curve",clipPath:h?"url(#clipPath-".concat(t,")"):null,points:n,type:c,layout:d,connectNulls:f,strokeDasharray:s??i.strokeDasharray});return v.createElement(v.Fragment,null,n?.length>1&&v.createElement(e_,Ld({},p,{pathRef:r})),v.createElement(Mhe,{points:n,clipPathId:t,props:i}),l&&ko.renderCallByParent(i,n))}function Rhe(e){try{return e&&e.getTotalLength&&e.getTotalLength()||0}catch{return 0}}function Ihe(e){var{clipPathId:t,props:r,pathRef:n,previousPointsRef:s,longestAnimatedLengthRef:i}=e,{points:l,strokeDasharray:c,isAnimationActive:d,animationBegin:f,animationDuration:h,animationEasing:g,animateNewValues:p,width:y,height:b,onAnimationEnd:w,onAnimationStart:j}=r,S=s.current,k=xk(r,"recharts-line-"),[E,C]=v.useState(!1),T=v.useCallback(()=>{typeof w=="function"&&w(),C(!1)},[w]),A=v.useCallback(()=>{typeof j=="function"&&j(),C(!0)},[j]),O=Rhe(n.current),D=i.current;return v.createElement(Fo,{begin:f,duration:h,isActive:d,easing:g,from:{t:0},to:{t:1},onAnimationEnd:T,onAnimationStart:A,key:k},R=>{var{t:B}=R,V=rs(D,O+D),W=Math.min(V(B),O),se;if(c){var oe="".concat(c).split(/[,\s]+/gim).map(te=>parseFloat(te));se=Ohe(W,O,oe)}else se=s9(O,W);if(S){var Y=S.length/l.length,Q=B===1?l:l.map((te,ue)=>{var ve=Math.floor(ue*Y);if(S[ve]){var U=S[ve],ie=rs(U.x,te.x),F=rs(U.y,te.y);return si(si({},te),{},{x:ie(B),y:F(B)})}if(p){var G=rs(y*2,te.x),z=rs(b/2,te.y);return si(si({},te),{},{x:G(B),y:z(B)})}return si(si({},te),{},{x:te.x,y:te.y})});return s.current=Q,v.createElement(oN,{props:r,points:Q,clipPathId:t,pathRef:n,showLabels:!E,strokeDasharray:se})}return B>0&&O>0&&(s.current=l,i.current=W),v.createElement(oN,{props:r,points:l,clipPathId:t,pathRef:n,showLabels:!E,strokeDasharray:se})})}function Fhe(e){var{clipPathId:t,props:r}=e,{points:n,isAnimationActive:s}=r,i=v.useRef(null),l=v.useRef(0),c=v.useRef(null),d=i.current;return s&&n&&n.length&&d!==n?v.createElement(Ihe,{props:r,clipPathId:t,previousPointsRef:i,longestAnimatedLengthRef:l,pathRef:c}):v.createElement(oN,{props:r,points:n,clipPathId:t,pathRef:c,showLabels:!0})}var Lhe=(e,t)=>({x:e.x,y:e.y,value:e.value,errorVal:Sr(e.payload,t)});class Bhe extends v.Component{constructor(){super(...arguments),Dy(this,"id",tu("recharts-line-"))}render(){var t,{hide:r,dot:n,points:s,className:i,xAxisId:l,yAxisId:c,top:d,left:f,width:h,height:g,id:p,needClip:y,layout:b}=this.props;if(r)return null;var w=Ut("recharts-line",i),j=xr(p)?this.id:p,{r:S=3,strokeWidth:k=2}=(t=Dt(n,!1))!==null&&t!==void 0?t:{r:3,strokeWidth:2},E=Q8(n),C=S*2+k;return v.createElement(v.Fragment,null,v.createElement(Tn,{className:w},y&&v.createElement("defs",null,v.createElement(VL,{clipPathId:j,xAxisId:l,yAxisId:c}),!E&&v.createElement("clipPath",{id:"clipPath-dots-".concat(j)},v.createElement("rect",{x:f-C/2,y:d-C/2,width:h+C,height:g+C}))),v.createElement(Fhe,{props:this.props,clipPathId:j}),v.createElement(BL,{direction:b==="horizontal"?"y":"x"},v.createElement(RL,{xAxisId:l,yAxisId:c,data:s,dataPointFormatter:Lhe,errorBarOffset:0},this.props.children))),v.createElement(bfe,{activeDot:this.props.activeDot,points:s,mainColor:this.props.stroke,itemDataKey:this.props.dataKey}))}}var i9={activeDot:!0,animateNewValues:!0,animationBegin:0,animationDuration:1500,animationEasing:"ease",connectNulls:!1,dot:!0,fill:"#fff",hide:!1,isAnimationActive:!du.isSsr,label:!1,legendType:"line",stroke:"#3182bd",strokeWidth:1,xAxisId:0,yAxisId:0};function $he(e){var t=Gs(e,i9),{activeDot:r,animateNewValues:n,animationBegin:s,animationDuration:i,animationEasing:l,connectNulls:c,dot:d,hide:f,isAnimationActive:h,label:g,legendType:p,xAxisId:y,yAxisId:b}=t,w=a9(t,She),{needClip:j}=vk(y,b),{height:S,width:k,x:E,y:C}=yk(),T=fy(),A=ba(),O=v.useMemo(()=>({dataKey:e.dataKey,data:e.data}),[e.dataKey,e.data]),D=nt(R=>jhe(R,y,b,A,O));return T!=="horizontal"&&T!=="vertical"?null:v.createElement(Bhe,Ld({},w,{connectNulls:c,dot:d,activeDot:r,animateNewValues:n,animationBegin:s,animationDuration:i,animationEasing:l,isAnimationActive:h,hide:f,label:g,legendType:p,xAxisId:y,yAxisId:b,points:D,layout:T,height:S,width:k,left:E,top:C,needClip:j}))}function Uhe(e){var{layout:t,xAxis:r,yAxis:n,xAxisTicks:s,yAxisTicks:i,dataKey:l,bandSize:c,displayedData:d}=e;return d.map((f,h)=>{var g=Sr(f,l);return t==="horizontal"?{x:Z6({axis:r,ticks:s,bandSize:c,entry:f,index:h}),y:xr(g)?null:n.scale(g),value:g,payload:f}:{x:xr(g)?null:r.scale(g),y:Z6({axis:n,ticks:i,bandSize:c,entry:f,index:h}),value:g,payload:f}})}class Q0 extends v.PureComponent{render(){return v.createElement(IL,{type:"line",data:this.props.data,xAxisId:this.props.xAxisId,yAxisId:this.props.yAxisId,zAxisId:0,dataKey:this.props.dataKey,stackId:void 0,hide:this.props.hide,barSize:void 0},v.createElement(CL,{legendPayload:The(this.props)}),v.createElement(pk,{fn:Ahe,args:this.props}),v.createElement($he,this.props))}}Dy(Q0,"displayName","Line");Dy(Q0,"defaultProps",i9);function N5(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,n)}return r}function S5(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?N5(Object(r),!0).forEach(function(n){zhe(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):N5(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function zhe(e,t,r){return(t=Hhe(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Hhe(e){var t=Vhe(e,"string");return typeof t=="symbol"?t:t+""}function Vhe(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var qhe={xAxis:{},yAxis:{},zAxis:{}},l9=Ws({name:"cartesianAxis",initialState:qhe,reducers:{addXAxis(e,t){e.xAxis[t.payload.id]=t.payload},removeXAxis(e,t){delete e.xAxis[t.payload.id]},addYAxis(e,t){e.yAxis[t.payload.id]=t.payload},removeYAxis(e,t){delete e.yAxis[t.payload.id]},addZAxis(e,t){e.zAxis[t.payload.id]=t.payload},removeZAxis(e,t){delete e.zAxis[t.payload.id]},updateYAxisWidth(e,t){var{id:r,width:n}=t.payload;e.yAxis[r]&&(e.yAxis[r]=S5(S5({},e.yAxis[r]),{},{width:n}))}}}),{addXAxis:Whe,removeXAxis:Ghe,addYAxis:Khe,removeYAxis:Yhe,addZAxis:xCe,removeZAxis:yCe,updateYAxisWidth:Xhe}=l9.actions,Qhe=l9.reducer,Zhe=["children"],Jhe=["dangerouslySetInnerHTML","ticks"];function o9(e,t,r){return(t=eme(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function eme(e){var t=tme(e,"string");return typeof t=="symbol"?t:t+""}function tme(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function cN(){return cN=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},cN.apply(null,arguments)}function c9(e,t){if(e==null)return{};var r,n,s=rme(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(n=0;n<i.length;n++)r=i[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(s[r]=e[r])}return s}function rme(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}function nme(e){var t=Mr(),r=v.useMemo(()=>{var{children:i}=e,l=c9(e,Zhe);return l},[e]),n=nt(i=>Ml(i,r.id)),s=r===n;return v.useEffect(()=>(t(Whe(r)),()=>{t(Ghe(r))}),[r,t]),s?e.children:null}var ame=e=>{var{xAxisId:t,className:r}=e,n=nt(s7),s=ba(),i="xAxis",l=nt(y=>sf(y,i,t,s)),c=nt(y=>zF(y,i,t,s)),d=nt(y=>LF(y,t)),f=nt(y=>yoe(y,t));if(d==null||f==null)return null;var{dangerouslySetInnerHTML:h,ticks:g}=e,p=c9(e,Jhe);return v.createElement(Zo,cN({},p,{scale:l,x:f.x,y:f.y,width:d.width,height:d.height,className:Ut("recharts-".concat(i," ").concat(i),r),viewBox:n,ticks:c}))},sme=e=>{var t,r,n,s,i;return v.createElement(nme,{interval:(t=e.interval)!==null&&t!==void 0?t:"preserveEnd",id:e.xAxisId,scale:e.scale,type:e.type,padding:e.padding,allowDataOverflow:e.allowDataOverflow,domain:e.domain,dataKey:e.dataKey,allowDuplicatedCategory:e.allowDuplicatedCategory,allowDecimals:e.allowDecimals,tickCount:e.tickCount,includeHidden:(r=e.includeHidden)!==null&&r!==void 0?r:!1,reversed:e.reversed,ticks:e.ticks,height:e.height,orientation:e.orientation,mirror:e.mirror,hide:e.hide,unit:e.unit,name:e.name,angle:(n=e.angle)!==null&&n!==void 0?n:0,minTickGap:(s=e.minTickGap)!==null&&s!==void 0?s:5,tick:(i=e.tick)!==null&&i!==void 0?i:!0,tickFormatter:e.tickFormatter},v.createElement(ame,e))};class xo extends v.Component{render(){return v.createElement(sme,this.props)}}o9(xo,"displayName","XAxis");o9(xo,"defaultProps",{allowDataOverflow:Xa.allowDataOverflow,allowDecimals:Xa.allowDecimals,allowDuplicatedCategory:Xa.allowDuplicatedCategory,height:Xa.height,hide:!1,mirror:Xa.mirror,orientation:Xa.orientation,padding:Xa.padding,reversed:Xa.reversed,scale:Xa.scale,tickCount:Xa.tickCount,type:Xa.type,xAxisId:0});var ime=e=>{var{ticks:t,label:r,labelGapWithTick:n=5,tickSize:s=0,tickMargin:i=0}=e,l=0;if(t){t.forEach(h=>{if(h){var g=h.getBoundingClientRect();g.width>l&&(l=g.width)}});var c=r?r.getBoundingClientRect().width:0,d=s+i,f=l+d+c+(r?n:0);return Math.round(f)}return 0},lme=["dangerouslySetInnerHTML","ticks"];function u9(e,t,r){return(t=ome(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function ome(e){var t=cme(e,"string");return typeof t=="symbol"?t:t+""}function cme(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function uN(){return uN=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},uN.apply(null,arguments)}function ume(e,t){if(e==null)return{};var r,n,s=dme(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(n=0;n<i.length;n++)r=i[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(s[r]=e[r])}return s}function dme(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}function fme(e){var t=Mr();return v.useEffect(()=>(t(Khe(e)),()=>{t(Yhe(e))}),[e,t]),null}var hme=e=>{var t,{yAxisId:r,className:n,width:s,label:i}=e,l=v.useRef(null),c=v.useRef(null),d=nt(s7),f=ba(),h=Mr(),g="yAxis",p=nt(E=>sf(E,g,r,f)),y=nt(E=>BF(E,r)),b=nt(E=>voe(E,r)),w=nt(E=>zF(E,g,r,f));if(v.useLayoutEffect(()=>{var E;if(!(s!=="auto"||!y||ok(i)||v.isValidElement(i))){var C=l.current,T=C==null||(E=C.tickRefs)===null||E===void 0?void 0:E.current,{tickSize:A,tickMargin:O}=C.props,D=ime({ticks:T,label:c.current,labelGapWithTick:5,tickSize:A,tickMargin:O});Math.round(y.width)!==Math.round(D)&&h(Xhe({id:r,width:D}))}},[l,l==null||(t=l.current)===null||t===void 0||(t=t.tickRefs)===null||t===void 0?void 0:t.current,y?.width,y,h,i,r,s]),y==null||b==null)return null;var{dangerouslySetInnerHTML:j,ticks:S}=e,k=ume(e,lme);return v.createElement(Zo,uN({},k,{ref:l,labelRef:c,scale:p,x:b.x,y:b.y,width:y.width,height:y.height,className:Ut("recharts-".concat(g," ").concat(g),n),viewBox:d,ticks:w}))},mme=e=>{var t,r,n,s,i;return v.createElement(v.Fragment,null,v.createElement(fme,{interval:(t=e.interval)!==null&&t!==void 0?t:"preserveEnd",id:e.yAxisId,scale:e.scale,type:e.type,domain:e.domain,allowDataOverflow:e.allowDataOverflow,dataKey:e.dataKey,allowDuplicatedCategory:e.allowDuplicatedCategory,allowDecimals:e.allowDecimals,tickCount:e.tickCount,padding:e.padding,includeHidden:(r=e.includeHidden)!==null&&r!==void 0?r:!1,reversed:e.reversed,ticks:e.ticks,width:e.width,orientation:e.orientation,mirror:e.mirror,hide:e.hide,unit:e.unit,name:e.name,angle:(n=e.angle)!==null&&n!==void 0?n:0,minTickGap:(s=e.minTickGap)!==null&&s!==void 0?s:5,tick:(i=e.tick)!==null&&i!==void 0?i:!0,tickFormatter:e.tickFormatter}),v.createElement(hme,e))},gme={allowDataOverflow:Qa.allowDataOverflow,allowDecimals:Qa.allowDecimals,allowDuplicatedCategory:Qa.allowDuplicatedCategory,hide:!1,mirror:Qa.mirror,orientation:Qa.orientation,padding:Qa.padding,reversed:Qa.reversed,scale:Qa.scale,tickCount:Qa.tickCount,type:Qa.type,width:Qa.width,yAxisId:0};class yo extends v.Component{render(){return v.createElement(mme,this.props)}}u9(yo,"displayName","YAxis");u9(yo,"defaultProps",gme);var i2={exports:{}},l2={};/**
 * @license React
 * use-sync-external-store-with-selector.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var _5;function pme(){if(_5)return l2;_5=1;var e=Hd();function t(d,f){return d===f&&(d!==0||1/d===1/f)||d!==d&&f!==f}var r=typeof Object.is=="function"?Object.is:t,n=e.useSyncExternalStore,s=e.useRef,i=e.useEffect,l=e.useMemo,c=e.useDebugValue;return l2.useSyncExternalStoreWithSelector=function(d,f,h,g,p){var y=s(null);if(y.current===null){var b={hasValue:!1,value:null};y.current=b}else b=y.current;y=l(function(){function j(T){if(!S){if(S=!0,k=T,T=g(T),p!==void 0&&b.hasValue){var A=b.value;if(p(A,T))return E=A}return E=T}if(A=E,r(k,T))return A;var O=g(T);return p!==void 0&&p(A,O)?(k=T,A):(k=T,E=O)}var S=!1,k,E,C=h===void 0?null:h;return[function(){return j(f())},C===null?void 0:function(){return j(C())}]},[f,h,g,p]);var w=n(d,y[0],y[1]);return i(function(){b.hasValue=!0,b.value=w},[w]),c(w),w},l2}var k5;function xme(){return k5||(k5=1,i2.exports=pme()),i2.exports}var yme=xme(),vme=v.version.startsWith("19"),bme=Symbol.for(vme?"react.transitional.element":"react.element"),wme=Symbol.for("react.portal"),jme=Symbol.for("react.fragment"),Nme=Symbol.for("react.strict_mode"),Sme=Symbol.for("react.profiler"),_me=Symbol.for("react.consumer"),kme=Symbol.for("react.context"),d9=Symbol.for("react.forward_ref"),Eme=Symbol.for("react.suspense"),Tme=Symbol.for("react.suspense_list"),Sk=Symbol.for("react.memo"),Ame=Symbol.for("react.lazy"),Cme=d9,Ome=Sk;function Dme(e){if(typeof e=="object"&&e!==null){const{$$typeof:t}=e;switch(t){case bme:switch(e=e.type,e){case jme:case Sme:case Nme:case Eme:case Tme:return e;default:switch(e=e&&e.$$typeof,e){case kme:case d9:case Ame:case Sk:return e;case _me:return e;default:return t}}case wme:return t}}}function Pme(e){return Dme(e)===Sk}function Mme(e,t,r,n,{areStatesEqual:s,areOwnPropsEqual:i,areStatePropsEqual:l}){let c=!1,d,f,h,g,p;function y(k,E){return d=k,f=E,h=e(d,f),g=t(n,f),p=r(h,g,f),c=!0,p}function b(){return h=e(d,f),t.dependsOnOwnProps&&(g=t(n,f)),p=r(h,g,f),p}function w(){return e.dependsOnOwnProps&&(h=e(d,f)),t.dependsOnOwnProps&&(g=t(n,f)),p=r(h,g,f),p}function j(){const k=e(d,f),E=!l(k,h);return h=k,E&&(p=r(h,g,f)),p}function S(k,E){const C=!i(E,f),T=!s(k,d,E,f);return d=k,f=E,C&&T?b():C?w():T?j():p}return function(E,C){return c?S(E,C):y(E,C)}}function Rme(e,{initMapStateToProps:t,initMapDispatchToProps:r,initMergeProps:n,...s}){const i=t(e,s),l=r(e,s),c=n(e,s);return Mme(i,l,c,e,s)}function Ime(e,t){const r={};for(const n in e){const s=e[n];typeof s=="function"&&(r[n]=(...i)=>t(s(...i)))}return r}function dN(e){return function(r){const n=e(r);function s(){return n}return s.dependsOnOwnProps=!1,s}}function E5(e){return e.dependsOnOwnProps?!!e.dependsOnOwnProps:e.length!==1}function f9(e,t){return function(n,{displayName:s}){const i=function(c,d){return i.dependsOnOwnProps?i.mapToProps(c,d):i.mapToProps(c,void 0)};return i.dependsOnOwnProps=!0,i.mapToProps=function(c,d){i.mapToProps=e,i.dependsOnOwnProps=E5(e);let f=i(c,d);return typeof f=="function"&&(i.mapToProps=f,i.dependsOnOwnProps=E5(f),f=i(c,d)),f},i}}function _k(e,t){return(r,n)=>{throw new Error(`Invalid value of type ${typeof e} for ${t} argument when connecting component ${n.wrappedComponentName}.`)}}function Fme(e){return e&&typeof e=="object"?dN(t=>Ime(e,t)):e?typeof e=="function"?f9(e):_k(e,"mapDispatchToProps"):dN(t=>({dispatch:t}))}function Lme(e){return e?typeof e=="function"?f9(e):_k(e,"mapStateToProps"):dN(()=>({}))}function Bme(e,t,r){return{...r,...e,...t}}function $me(e){return function(r,{displayName:n,areMergedPropsEqual:s}){let i=!1,l;return function(d,f,h){const g=e(d,f,h);return i?s(g,l)||(l=g):(i=!0,l=g),l}}}function Ume(e){return e?typeof e=="function"?$me(e):_k(e,"mergeProps"):()=>Bme}function zme(e){e()}function Hme(){let e=null,t=null;return{clear(){e=null,t=null},notify(){zme(()=>{let r=e;for(;r;)r.callback(),r=r.next})},get(){const r=[];let n=e;for(;n;)r.push(n),n=n.next;return r},subscribe(r){let n=!0;const s=t={callback:r,next:null,prev:t};return s.prev?s.prev.next=s:e=s,function(){!n||e===null||(n=!1,s.next?s.next.prev=s.prev:t=s.prev,s.prev?s.prev.next=s.next:e=s.next)}}}}var T5={notify(){},get:()=>[]};function h9(e,t){let r,n=T5,s=0,i=!1;function l(w){h();const j=n.subscribe(w);let S=!1;return()=>{S||(S=!0,j(),g())}}function c(){n.notify()}function d(){b.onStateChange&&b.onStateChange()}function f(){return i}function h(){s++,r||(r=t?t.addNestedSub(d):e.subscribe(d),n=Hme())}function g(){s--,r&&s===0&&(r(),r=void 0,n.clear(),n=T5)}function p(){i||(i=!0,h())}function y(){i&&(i=!1,g())}const b={addNestedSub:l,notifyNestedSubs:c,handleChangeWrapper:d,isSubscribed:f,trySubscribe:p,tryUnsubscribe:y,getListeners:()=>n};return b}var Vme=()=>typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",qme=Vme(),Wme=()=>typeof navigator<"u"&&navigator.product==="ReactNative",Gme=Wme(),Kme=()=>qme||Gme?v.useLayoutEffect:v.useEffect,gx=Kme();function A5(e,t){return e===t?e!==0||t!==0||1/e===1/t:e!==e&&t!==t}function o2(e,t){if(A5(e,t))return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;const r=Object.keys(e),n=Object.keys(t);if(r.length!==n.length)return!1;for(let s=0;s<r.length;s++)if(!Object.prototype.hasOwnProperty.call(t,r[s])||!A5(e[r[s]],t[r[s]]))return!1;return!0}var Yme={childContextTypes:!0,contextType:!0,contextTypes:!0,defaultProps:!0,displayName:!0,getDefaultProps:!0,getDerivedStateFromError:!0,getDerivedStateFromProps:!0,mixins:!0,propTypes:!0,type:!0},Xme={name:!0,length:!0,prototype:!0,caller:!0,callee:!0,arguments:!0,arity:!0},Qme={$$typeof:!0,render:!0,defaultProps:!0,displayName:!0,propTypes:!0},m9={$$typeof:!0,compare:!0,defaultProps:!0,displayName:!0,propTypes:!0,type:!0},Zme={[Cme]:Qme,[Ome]:m9};function C5(e){return Pme(e)?m9:Zme[e.$$typeof]||Yme}var Jme=Object.defineProperty,ege=Object.getOwnPropertyNames,O5=Object.getOwnPropertySymbols,tge=Object.getOwnPropertyDescriptor,rge=Object.getPrototypeOf,D5=Object.prototype;function fN(e,t){if(typeof t!="string"){if(D5){const i=rge(t);i&&i!==D5&&fN(e,i)}let r=ege(t);O5&&(r=r.concat(O5(t)));const n=C5(e),s=C5(t);for(let i=0;i<r.length;++i){const l=r[i];if(!Xme[l]&&!(s&&s[l])&&!(n&&n[l])){const c=tge(t,l);try{Jme(e,l,c)}catch{}}}}return e}var nge=Symbol.for("react-redux-context"),age=typeof globalThis<"u"?globalThis:{};function sge(){if(!v.createContext)return{};const e=age[nge]??=new Map;let t=e.get(v.createContext);return t||(t=v.createContext(null),e.set(v.createContext,t)),t}var g9=sge(),ige=[null,null];function lge(e,t,r){gx(()=>e(...t),r)}function oge(e,t,r,n,s,i){e.current=n,r.current=!1,s.current&&(s.current=null,i())}function cge(e,t,r,n,s,i,l,c,d,f,h){if(!e)return()=>{};let g=!1,p=null;const y=()=>{if(g||!c.current)return;const w=t.getState();let j,S;try{j=n(w,s.current)}catch(k){S=k,p=k}S||(p=null),j===i.current?l.current||f():(i.current=j,d.current=j,l.current=!0,h())};return r.onStateChange=y,r.trySubscribe(),y(),()=>{if(g=!0,r.tryUnsubscribe(),r.onStateChange=null,p)throw p}}function uge(e,t){return e===t}function dge(e,t,r,{pure:n,areStatesEqual:s=uge,areOwnPropsEqual:i=o2,areStatePropsEqual:l=o2,areMergedPropsEqual:c=o2,forwardRef:d=!1,context:f=g9}={}){const h=f,g=Lme(e),p=Fme(t),y=Ume(r),b=!!e;return j=>{const S=j.displayName||j.name||"Component",k=`Connect(${S})`,E={shouldHandleStateChanges:b,displayName:k,wrappedComponentName:S,WrappedComponent:j,initMapStateToProps:g,initMapDispatchToProps:p,initMergeProps:y,areStatesEqual:s,areStatePropsEqual:l,areOwnPropsEqual:i,areMergedPropsEqual:c};function C(O){const[D,R,B]=v.useMemo(()=>{const{reactReduxForwardedRef:pe,...xe}=O;return[O.context,pe,xe]},[O]),V=v.useMemo(()=>{let pe=h;return D?.Consumer,pe},[D,h]),W=v.useContext(V),se=!!O.store&&!!O.store.getState&&!!O.store.dispatch,oe=!!W&&!!W.store,Y=se?O.store:W.store,Q=oe?W.getServerState:Y.getState,te=v.useMemo(()=>Rme(Y.dispatch,E),[Y]),[ue,ve]=v.useMemo(()=>{if(!b)return ige;const pe=h9(Y,se?void 0:W.subscription),xe=pe.notifyNestedSubs.bind(pe);return[pe,xe]},[Y,se,W]),U=v.useMemo(()=>se?W:{...W,subscription:ue},[se,W,ue]),ie=v.useRef(void 0),F=v.useRef(B),G=v.useRef(void 0),z=v.useRef(!1),q=v.useRef(!1),de=v.useRef(void 0);gx(()=>(q.current=!0,()=>{q.current=!1}),[]);const De=v.useMemo(()=>()=>G.current&&B===F.current?G.current:te(Y.getState(),B),[Y,B]),ne=v.useMemo(()=>xe=>ue?cge(b,Y,ue,te,F,ie,z,q,G,ve,xe):()=>{},[ue]);lge(oge,[F,ie,z,B,G,ve]);let le;try{le=v.useSyncExternalStore(ne,De,Q?()=>te(Q(),B):De)}catch(pe){throw de.current&&(pe.message+=`
The error may be correlated with this previous error:
${de.current.stack}

`),pe}gx(()=>{de.current=void 0,G.current=void 0,ie.current=le});const he=v.useMemo(()=>v.createElement(j,{...le,ref:R}),[R,j,le]);return v.useMemo(()=>b?v.createElement(V.Provider,{value:U},he):he,[V,he,U])}const A=v.memo(C);if(A.WrappedComponent=j,A.displayName=C.displayName=k,d){const D=v.forwardRef(function(B,V){return v.createElement(A,{...B,reactReduxForwardedRef:V})});return D.displayName=k,D.WrappedComponent=j,fN(D,j)}return fN(A,j)}}var p9=dge;function fge(e){const{children:t,context:r,serverState:n,store:s}=e,i=v.useMemo(()=>{const d=h9(s);return{store:s,subscription:d,getServerState:n?()=>n:void 0}},[s,n]),l=v.useMemo(()=>s.getState(),[s]);gx(()=>{const{subscription:d}=i;return d.onStateChange=d.notifyNestedSubs,d.trySubscribe(),l!==s.getState()&&d.notifyNestedSubs(),()=>{d.tryUnsubscribe(),d.onStateChange=void 0}},[i,l]);const c=r||g9;return v.createElement(c.Provider,{value:i},t)}var x9=fge,hge=(e,t)=>t,kk=ke([hge,qt,Dle,On,nL,Rl,jce,pn],Ece),Ek=e=>{var t=e.currentTarget.getBoundingClientRect(),r=t.width/e.currentTarget.offsetWidth,n=t.height/e.currentTarget.offsetHeight;return{chartX:Math.round((e.clientX-t.left)/r),chartY:Math.round((e.clientY-t.top)/n)}},y9=Vs("mouseClick"),v9=lm();v9.startListening({actionCreator:y9,effect:(e,t)=>{var r=e.payload,n=kk(t.getState(),Ek(r));n?.activeIndex!=null&&t.dispatch(Doe({activeIndex:n.activeIndex,activeDataKey:void 0,activeCoordinate:n.activeCoordinate}))}});var hN=Vs("mouseMove"),b9=lm();b9.startListening({actionCreator:hN,effect:(e,t)=>{var r=e.payload,n=t.getState(),s=Z_(n,n.tooltip.settings.shared),i=kk(n,Ek(r));s==="axis"&&(i?.activeIndex!=null?t.dispatch(XF({activeIndex:i.activeIndex,activeDataKey:void 0,activeCoordinate:i.activeCoordinate})):t.dispatch(YF()))}});function mge(e,t){return t instanceof HTMLElement?"HTMLElement <".concat(t.tagName,' class="').concat(t.className,'">'):t===window?"global.window":t}var P5={accessibilityLayer:!0,barCategoryGap:"10%",barGap:4,barSize:void 0,className:void 0,maxBarSize:void 0,stackOffset:"none",syncId:void 0,syncMethod:"index"},w9=Ws({name:"rootProps",initialState:P5,reducers:{updateOptions:(e,t)=>{var r;e.accessibilityLayer=t.payload.accessibilityLayer,e.barCategoryGap=t.payload.barCategoryGap,e.barGap=(r=t.payload.barGap)!==null&&r!==void 0?r:P5.barGap,e.barSize=t.payload.barSize,e.maxBarSize=t.payload.maxBarSize,e.stackOffset=t.payload.stackOffset,e.syncId=t.payload.syncId,e.syncMethod=t.payload.syncMethod,e.className=t.payload.className}}}),gge=w9.reducer,{updateOptions:pge}=w9.actions,j9=Ws({name:"polarOptions",initialState:null,reducers:{updatePolarOptions:(e,t)=>t.payload}}),{updatePolarOptions:xge}=j9.actions,yge=j9.reducer,N9=Vs("keyDown"),S9=Vs("focus"),Tk=lm();Tk.startListening({actionCreator:N9,effect:(e,t)=>{var r=t.getState(),n=r.rootProps.accessibilityLayer!==!1;if(n){var{keyboardInteraction:s}=r.tooltip,i=e.payload;if(!(i!=="ArrowRight"&&i!=="ArrowLeft"&&i!=="Enter")){var l=Number(J_(s,pu(r))),c=Rl(r);if(i==="Enter"){var d=cx(r,"axis","hover",String(s.index));t.dispatch(eN({active:!s.active,activeIndex:s.index,activeDataKey:s.dataKey,activeCoordinate:d}));return}var f=Noe(r),h=f==="left-to-right"?1:-1,g=i==="ArrowRight"?1:-1,p=l+g*h;if(!(c==null||p>=c.length||p<0)){var y=cx(r,"axis","hover",String(p));t.dispatch(eN({active:!0,activeIndex:p.toString(),activeDataKey:void 0,activeCoordinate:y}))}}}}});Tk.startListening({actionCreator:S9,effect:(e,t)=>{var r=t.getState(),n=r.rootProps.accessibilityLayer!==!1;if(n){var{keyboardInteraction:s}=r.tooltip;if(!s.active&&s.index==null){var i="0",l=cx(r,"axis","hover",String(i));t.dispatch(eN({activeDataKey:void 0,active:!0,activeIndex:i,activeCoordinate:l}))}}}});var Ds=Vs("externalEvent"),_9=lm();_9.startListening({actionCreator:Ds,effect:(e,t)=>{if(e.payload.handler!=null){var r=t.getState(),n={activeCoordinate:fce(r),activeDataKey:lL(r),activeIndex:Bo(r),activeLabel:iL(r),activeTooltipIndex:Bo(r),isTooltipActive:hce(r)};e.payload.handler(n,e.payload.reactEvent)}}});var vge=ke([lf],e=>e.tooltipItemPayloads),bge=ke([vge,xm,(e,t,r)=>t,(e,t,r)=>r],(e,t,r,n)=>{var s=e.find(c=>c.settings.dataKey===n);if(s!=null){var{positions:i}=s;if(i!=null){var l=t(i,r);return l}}}),k9=Vs("touchMove"),E9=lm();E9.startListening({actionCreator:k9,effect:(e,t)=>{var r=e.payload,n=t.getState(),s=Z_(n,n.tooltip.settings.shared);if(s==="axis"){var i=kk(n,Ek({clientX:r.touches[0].clientX,clientY:r.touches[0].clientY,currentTarget:r.currentTarget}));i?.activeIndex!=null&&t.dispatch(XF({activeIndex:i.activeIndex,activeDataKey:void 0,activeCoordinate:i.activeCoordinate}))}else if(s==="item"){var l,c=r.touches[0],d=document.elementFromPoint(c.clientX,c.clientY);if(!d||!d.getAttribute)return;var f=d.getAttribute(n7),h=(l=d.getAttribute(a7))!==null&&l!==void 0?l:void 0,g=bge(t.getState(),f,h);t.dispatch(KF({activeDataKey:h,activeIndex:f,activeCoordinate:g}))}}});var wge=TI({brush:P0e,cartesianAxis:Qhe,chartData:Hce,graphicalItems:Sde,layout:wre,legend:lne,options:Lce,polarAxis:ode,polarOptions:yge,referenceElements:$0e,rootProps:gge,tooltip:Poe}),jge=function(t){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"Chart";return Wte({reducer:wge,preloadedState:t,middleware:n=>n({serializableCheck:!1}).concat([v9.middleware,b9.middleware,Tk.middleware,_9.middleware,E9.middleware]),devTools:{serialize:{replacer:mge},name:"recharts-".concat(r)}})};function T9(e){var{preloadedState:t,children:r,reduxStoreName:n}=e,s=ba(),i=v.useRef(null);if(s)return r;i.current==null&&(i.current=jge(t,n));var l=US;return v.createElement(x9,{context:l,store:i.current},r)}function A9(e){var{layout:t,width:r,height:n,margin:s}=e,i=Mr(),l=ba();return v.useEffect(()=>{l||(i(yre(t)),i(vre({width:r,height:n})),i(xre(s)))},[i,l,t,r,n,s]),null}function C9(e){var t=Mr();return v.useEffect(()=>{t(pge(e))},[t,e]),null}var Nge=["children"];function Sge(e,t){if(e==null)return{};var r,n,s=_ge(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(n=0;n<i.length;n++)r=i[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(s[r]=e[r])}return s}function _ge(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}function px(){return px=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},px.apply(null,arguments)}var kge={width:"100%",height:"100%"},Ege=v.forwardRef((e,t)=>{var r=QS(),n=ZS(),s=u7();if(!Dd(r)||!Dd(n))return null;var{children:i,otherAttributes:l,title:c,desc:d}=e,f,h;return typeof l.tabIndex=="number"?f=l.tabIndex:f=s?0:void 0,typeof l.role=="string"?h=l.role:h=s?"application":void 0,v.createElement(AS,px({},l,{title:c,desc:d,role:h,tabIndex:f,width:r,height:n,style:kge,ref:t}),i)}),Tge=e=>{var{children:t}=e,r=nt(dy);if(!r)return null;var{width:n,height:s,y:i,x:l}=r;return v.createElement(AS,{width:n,height:s,x:l,y:i},t)},M5=v.forwardRef((e,t)=>{var{children:r}=e,n=Sge(e,Nge),s=ba();return s?v.createElement(Tge,null,r):v.createElement(Ege,px({ref:t},n),r)});function Age(){var e=Mr(),[t,r]=v.useState(null),n=nt(Yre);return v.useEffect(()=>{if(t!=null){var s=t.getBoundingClientRect(),i=s.width/t.offsetWidth;gs(i)&&i!==n&&e(bre(i))}},[t,e,n]),r}function R5(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,n)}return r}function Cge(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?R5(Object(r),!0).forEach(function(n){Oge(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):R5(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Oge(e,t,r){return(t=Dge(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Dge(e){var t=Pge(e,"string");return typeof t=="symbol"?t:t+""}function Pge(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var Mge=v.forwardRef((e,t)=>{var{children:r,className:n,height:s,onClick:i,onContextMenu:l,onDoubleClick:c,onMouseDown:d,onMouseEnter:f,onMouseLeave:h,onMouseMove:g,onMouseUp:p,onTouchEnd:y,onTouchMove:b,onTouchStart:w,style:j,width:S}=e,k=Mr(),[E,C]=v.useState(null),[T,A]=v.useState(null);Wce();var O=Age(),D=v.useCallback(F=>{O(F),typeof t=="function"&&t(F),C(F),A(F)},[O,t,C,A]),R=v.useCallback(F=>{k(y9(F)),k(Ds({handler:i,reactEvent:F}))},[k,i]),B=v.useCallback(F=>{k(hN(F)),k(Ds({handler:f,reactEvent:F}))},[k,f]),V=v.useCallback(F=>{k(YF()),k(Ds({handler:h,reactEvent:F}))},[k,h]),W=v.useCallback(F=>{k(hN(F)),k(Ds({handler:g,reactEvent:F}))},[k,g]),se=v.useCallback(()=>{k(S9())},[k]),oe=v.useCallback(F=>{k(N9(F.key))},[k]),Y=v.useCallback(F=>{k(Ds({handler:l,reactEvent:F}))},[k,l]),Q=v.useCallback(F=>{k(Ds({handler:c,reactEvent:F}))},[k,c]),te=v.useCallback(F=>{k(Ds({handler:d,reactEvent:F}))},[k,d]),ue=v.useCallback(F=>{k(Ds({handler:p,reactEvent:F}))},[k,p]),ve=v.useCallback(F=>{k(Ds({handler:w,reactEvent:F}))},[k,w]),U=v.useCallback(F=>{k(k9(F)),k(Ds({handler:b,reactEvent:F}))},[k,b]),ie=v.useCallback(F=>{k(Ds({handler:y,reactEvent:F}))},[k,y]);return v.createElement(hL.Provider,{value:E},v.createElement(Z8.Provider,{value:T},v.createElement("div",{className:Ut("recharts-wrapper",n),style:Cge({position:"relative",cursor:"default",width:S,height:s},j),onClick:R,onContextMenu:Y,onDoubleClick:Q,onFocus:se,onKeyDown:oe,onMouseDown:te,onMouseEnter:B,onMouseLeave:V,onMouseMove:W,onMouseUp:ue,onTouchEnd:ie,onTouchMove:U,onTouchStart:ve,ref:D},r)))}),Rge=["children","className","width","height","style","compact","title","desc"];function Ige(e,t){if(e==null)return{};var r,n,s=Fge(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(n=0;n<i.length;n++)r=i[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(s[r]=e[r])}return s}function Fge(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}var O9=v.forwardRef((e,t)=>{var{children:r,className:n,width:s,height:i,style:l,compact:c,title:d,desc:f}=e,h=Ige(e,Rge),g=Dt(h,!1);return c?v.createElement(M5,{otherAttributes:g,title:d,desc:f},r):v.createElement(Mge,{className:n,style:l,width:s,height:i,onClick:e.onClick,onMouseLeave:e.onMouseLeave,onMouseEnter:e.onMouseEnter,onMouseMove:e.onMouseMove,onMouseDown:e.onMouseDown,onMouseUp:e.onMouseUp,onContextMenu:e.onContextMenu,onDoubleClick:e.onDoubleClick,onTouchStart:e.onTouchStart,onTouchMove:e.onTouchMove,onTouchEnd:e.onTouchEnd},v.createElement(M5,{otherAttributes:g,title:d,desc:f,ref:t},v.createElement(z0e,null,r)))}),Lge=["width","height"];function mN(){return mN=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},mN.apply(null,arguments)}function Bge(e,t){if(e==null)return{};var r,n,s=$ge(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(n=0;n<i.length;n++)r=i[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(s[r]=e[r])}return s}function $ge(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}var Uge={top:5,right:5,bottom:5,left:5},zge={accessibilityLayer:!0,layout:"horizontal",stackOffset:"none",barCategoryGap:"10%",barGap:4,margin:Uge,reverseStackOrder:!1,syncMethod:"index"},D9=v.forwardRef(function(t,r){var n,s=Gs(t.categoricalChartProps,zge),{width:i,height:l}=s,c=Bge(s,Lge);if(!Dd(i)||!Dd(l))return null;var{chartName:d,defaultTooltipEventType:f,validateTooltipEventTypes:h,tooltipPayloadSearcher:g,categoricalChartProps:p}=t,y={chartName:d,defaultTooltipEventType:f,validateTooltipEventTypes:h,tooltipPayloadSearcher:g,eventEmitter:void 0};return v.createElement(T9,{preloadedState:{options:y},reduxStoreName:(n=p.id)!==null&&n!==void 0?n:d},v.createElement(YL,{chartData:p.data}),v.createElement(A9,{width:i,height:l,layout:s.layout,margin:s.margin}),v.createElement(C9,{accessibilityLayer:s.accessibilityLayer,barCategoryGap:s.barCategoryGap,maxBarSize:s.maxBarSize,stackOffset:s.stackOffset,barGap:s.barGap,barSize:s.barSize,syncId:s.syncId,syncMethod:s.syncMethod,className:s.className}),v.createElement(O9,mN({},c,{width:i,height:l,ref:r})))}),Hge=["axis"],Vge=v.forwardRef((e,t)=>v.createElement(D9,{chartName:"LineChart",defaultTooltipEventType:"axis",validateTooltipEventTypes:Hge,tooltipPayloadSearcher:lk,categoricalChartProps:e,ref:t})),qge=["axis","item"],L0=v.forwardRef((e,t)=>v.createElement(D9,{chartName:"BarChart",defaultTooltipEventType:"axis",validateTooltipEventTypes:qge,tooltipPayloadSearcher:lk,categoricalChartProps:e,ref:t}));function Wge(e){var t=Mr();return v.useEffect(()=>{t(xge(e))},[t,e]),null}var Gge=["width","height","layout"];function gN(){return gN=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},gN.apply(null,arguments)}function Kge(e,t){if(e==null)return{};var r,n,s=Yge(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(n=0;n<i.length;n++)r=i[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(s[r]=e[r])}return s}function Yge(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}var Xge={top:5,right:5,bottom:5,left:5},Qge={accessibilityLayer:!0,stackOffset:"none",barCategoryGap:"10%",barGap:4,margin:Xge,reverseStackOrder:!1,syncMethod:"index",layout:"radial"},Zge=v.forwardRef(function(t,r){var n,s=Gs(t.categoricalChartProps,Qge),{width:i,height:l,layout:c}=s,d=Kge(s,Gge);if(!Dd(i)||!Dd(l))return null;var{chartName:f,defaultTooltipEventType:h,validateTooltipEventTypes:g,tooltipPayloadSearcher:p}=t,y={chartName:f,defaultTooltipEventType:h,validateTooltipEventTypes:g,tooltipPayloadSearcher:p,eventEmitter:void 0};return v.createElement(T9,{preloadedState:{options:y},reduxStoreName:(n=s.id)!==null&&n!==void 0?n:f},v.createElement(YL,{chartData:s.data}),v.createElement(A9,{width:i,height:l,layout:c,margin:s.margin}),v.createElement(C9,{accessibilityLayer:s.accessibilityLayer,barCategoryGap:s.barCategoryGap,maxBarSize:s.maxBarSize,stackOffset:s.stackOffset,barGap:s.barGap,barSize:s.barSize,syncId:s.syncId,syncMethod:s.syncMethod,className:s.className}),v.createElement(Wge,{cx:s.cx,cy:s.cy,startAngle:s.startAngle,endAngle:s.endAngle,innerRadius:s.innerRadius,outerRadius:s.outerRadius}),v.createElement(O9,gN({width:i,height:l},d,{ref:r})))}),Jge=["item"],epe={layout:"centric",startAngle:0,endAngle:360,cx:"50%",cy:"50%",innerRadius:0,outerRadius:"80%"},xx=v.forwardRef((e,t)=>{var r=Gs(e,epe);return v.createElement(Zge,{chartName:"PieChart",defaultTooltipEventType:"item",validateTooltipEventTypes:Jge,tooltipPayloadSearcher:lk,categoricalChartProps:r,ref:t})});async function tpe(){return Ee("/api/dashboard/")}const Hr=({children:e,onClick:t,disabled:r=!1,loading:n=!1,variant:s="primary",size:i="md",icon:l,iconPosition:c="left",className:d="",type:f="button",title:h})=>{const g={primary:"bg-gradient-to-r from-blue-400 to-purple-400 hover:from-blue-500 hover:to-purple-500",secondary:"bg-gradient-to-r from-gray-400 to-gray-500 hover:from-gray-500 hover:to-gray-600",success:"bg-gradient-to-r from-green-400 to-emerald-400 hover:from-green-500 hover:to-emerald-500",warning:"bg-gradient-to-r from-yellow-400 to-orange-400 hover:from-yellow-500 hover:to-orange-500",danger:"bg-gradient-to-r from-red-400 to-pink-400 hover:from-red-500 hover:to-pink-500",info:"bg-gradient-to-r from-cyan-400 to-blue-400 hover:from-cyan-500 hover:to-blue-500",purple:"bg-gradient-to-r from-purple-400 to-indigo-400 hover:from-purple-500 hover:to-indigo-500",pink:"bg-gradient-to-r from-pink-400 to-purple-400 hover:from-pink-500 hover:to-purple-500",blue:"bg-gradient-to-r from-blue-400 to-cyan-400 hover:from-blue-500 hover:to-cyan-500",green:"bg-gradient-to-r from-green-400 to-teal-400 hover:from-green-500 hover:to-teal-500",orange:"bg-gradient-to-r from-orange-400 to-red-400 hover:from-orange-500 hover:to-red-500",gray:"bg-gradient-to-r from-gray-400 to-gray-500 hover:from-gray-500 hover:to-gray-600"},p={sm:"px-4 py-2 text-sm",md:"px-6 py-3 text-base",lg:"px-8 py-4 text-lg"},b=`
    rounded-full font-semibold shadow-lg transition-all duration-200 flex items-center gap-2 hover:scale-105 disabled:opacity-50 disabled:cursor-not-allowed disabled:hover:scale-100
    ${g[s]}
    ${p[i]}
    ${d}
  `.trim(),w=j=>{!r&&!n&&t&&t(j)};return a.jsxs("button",{type:f,className:b,onClick:w,disabled:r||n,title:h,children:[n&&a.jsx("div",{className:"w-4 h-4 border-2 border-white border-t-transparent rounded-full animate-spin"}),!n&&l&&c==="left"&&a.jsx(l,{className:"w-4 h-4"}),e,!n&&l&&c==="right"&&a.jsx(l,{className:"w-4 h-4"})]})},rpe={CheckCircle:a.jsx(Tt,{className:"w-4 h-4 text-yellow-500"}),Plus:a.jsx(_r,{className:"w-4 h-4 text-green-500"}),UserPlus:a.jsx(Yx,{className:"w-4 h-4 text-blue-500"}),Clock:a.jsx(La,{className:"w-4 h-4 text-orange-500"}),MessageCircle:a.jsx(_d,{className:"w-4 h-4 text-blue-500"}),Zap:a.jsx(Do,{className:"w-4 h-4 text-pink-500"})},c2=e=>t=>{const{cx:r,cy:n,index:s}=t;return a.jsx("circle",{cx:r,cy:n,r:7,stroke:"#fff",strokeWidth:3,fill:e,style:{filter:"drop-shadow(0 2px 6px rgba(0,0,0,0.10))"}},`dot-${s}`)},npe=({active:e,payload:t})=>{if(e&&t&&t.length){const r=t[0];return a.jsxs("div",{className:"bg-white dark:bg-gray-900 border border-gray-200 dark:border-gray-700 rounded-md px-2 py-1 text-xs flex items-center gap-2 shadow",style:{minWidth:0,minHeight:0},children:[a.jsx("span",{className:"inline-block w-2 h-2 rounded-full",style:{background:r.color||r.payload.color}}),a.jsxs("span",{className:"font-semibold",children:[r.name,":"]}),a.jsxs("span",{children:[r.value,"%"]})]})}return null},ape=({active:e,payload:t,label:r})=>!e||!t||!t.length?null:a.jsxs("div",{style:{background:"#fff",border:"1px solid #eee",borderRadius:4,padding:"2px 8px",fontSize:12,color:"#222",boxShadow:"0 1px 4px rgba(0,0,0,0.04)"},children:[r&&a.jsx("div",{style:{fontWeight:600},children:r}),t.map((n,s)=>a.jsxs("div",{children:[a.jsxs("span",{style:{color:n.color,fontWeight:600},children:[n.name,":"]})," ",n.value]},s))]});function spe(){const{user:e}=va(),{data:t,isLoading:r,error:n}=FM({queryKey:["dashboard"],queryFn:tpe,refetchInterval:3e4});if(r)return a.jsx("div",{className:"flex items-center justify-center min-h-screen",children:a.jsx("div",{className:"animate-spin rounded-full h-32 w-32 border-b-2 border-blue-600"})});if(n)return a.jsx("div",{className:"flex items-center justify-center min-h-screen",children:a.jsxs("div",{className:"text-center",children:[a.jsx("div",{className:"text-red-600 text-xl mb-4",children:"Error loading dashboard"}),a.jsx("div",{className:"text-gray-600",children:"Please check your connection and try again"})]})});const s=t||{metrics:{active_leads:0,closed_deals:0,total_revenue:0,ai_score:0,lead_quality_score:0,conversion_rate:0,target_achievement:0},performance:[],lead_quality:[],activity_feed:[]},i=l=>l>=1e6?`$${(l/1e6).toFixed(1)}M`:l>=1e3?`$${(l/1e3).toFixed(0)}K`:`$${l.toFixed(0)}`;return a.jsxs("div",{children:[a.jsxs("div",{className:"flex flex-col md:flex-row md:items-center md:justify-between gap-4 mb-6",children:[a.jsxs("div",{children:[a.jsx("h1",{className:"text-4xl font-extrabold text-gray-900 dark:text-white mb-1",children:"AI-Powered Dashboard"}),a.jsx("div",{className:"text-lg text-gray-500 dark:text-gray-300",children:"Intelligent insights for smarter decisions"})]}),a.jsxs("div",{className:"flex gap-3 mt-4 md:mt-0",children:[a.jsx(Hr,{variant:"pink",size:"md",icon:os,children:"AI Insights"}),a.jsx(Hr,{variant:"blue",size:"md",icon:Do,children:"Quick Action"})]})]}),a.jsxs("div",{className:"bg-white dark:bg-gray-900 border border-purple-300 dark:border-purple-700 rounded-2xl shadow-lg p-6 mb-8 relative",children:[a.jsxs("div",{className:"flex items-center gap-3 mb-4",children:[a.jsx("span",{className:"text-2xl",children:"✨"}),a.jsx("span",{className:"font-bold text-xl text-gray-900 dark:text-white",children:"AI Insights"}),a.jsx("span",{className:"ml-auto text-xs text-green-500 font-semibold",children:"● Live Analysis"})]}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[a.jsxs("div",{className:"rounded-xl bg-pink-50 dark:bg-pink-900/40 border-l-4 border-pink-400 p-4 flex flex-col",children:[a.jsx("div",{className:"font-semibold text-pink-700 dark:text-pink-300 mb-1",children:"High-Value Lead Detected"}),a.jsx("div",{className:"text-gray-700 dark:text-gray-200 text-sm mb-2",children:"Enterprise client showing 89% conversion probability"}),a.jsx("a",{href:"#",className:"text-pink-600 dark:text-pink-300 text-sm font-medium hover:underline",children:"Schedule demo →"})]}),a.jsxs("div",{className:"rounded-xl bg-yellow-50 dark:bg-yellow-900/40 border-l-4 border-yellow-400 p-4 flex flex-col",children:[a.jsx("div",{className:"font-semibold text-yellow-700 dark:text-yellow-200 mb-1",children:"Deal at Risk"}),a.jsx("div",{className:"text-gray-700 dark:text-gray-200 text-sm mb-2",children:"TechCorp deal inactive for 7 days"}),a.jsx("a",{href:"#",className:"text-yellow-700 dark:text-yellow-200 text-sm font-medium hover:underline",children:"Send follow-up →"})]}),a.jsxs("div",{className:"rounded-xl bg-green-50 dark:bg-green-900/40 border-l-4 border-green-400 p-4 flex flex-col",children:[a.jsx("div",{className:"font-semibold text-green-700 dark:text-green-200 mb-1",children:"Optimal Contact Time"}),a.jsx("div",{className:"text-gray-700 dark:text-gray-200 text-sm mb-2",children:"Best time to call prospects: 2-4 PM today"}),a.jsx("a",{href:"#",className:"text-green-700 dark:text-green-200 text-sm font-medium hover:underline",children:"Start calling →"})]})]})]}),a.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-4 gap-6 mb-8",children:[a.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-2xl shadow p-6 flex flex-col items-center text-center border transition duration-300 ease hover:shadow-2xl hover:scale-105",children:[a.jsx("div",{className:"bg-blue-100 dark:bg-blue-900 p-3 rounded-full mb-3",children:a.jsx(kr,{className:"w-7 h-7 text-blue-600 dark:text-blue-400"})}),a.jsx("div",{className:"text-3xl font-extrabold text-blue-600 dark:text-blue-400 mb-1",children:s.metrics.active_leads}),a.jsx("div",{className:"text-gray-700 dark:text-gray-200 text-lg font-semibold mb-1",children:"Active Leads"}),a.jsxs("div",{className:"text-xs text-purple-500",children:["Quality score: ",s.metrics.lead_quality_score,"/10"]})]}),a.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-2xl shadow p-6 flex flex-col items-center text-center border transition duration-300 ease hover:shadow-2xl hover:scale-105",children:[a.jsx("div",{className:"bg-green-100 dark:bg-green-900 p-3 rounded-full mb-3",children:a.jsx(Tt,{className:"w-7 h-7 text-green-600 dark:text-green-400"})}),a.jsx("div",{className:"text-3xl font-extrabold text-green-600 dark:text-green-400 mb-1",children:s.metrics.closed_deals}),a.jsx("div",{className:"text-gray-700 dark:text-gray-200 text-lg font-semibold mb-1",children:"Deals Closed"}),a.jsxs("div",{className:"text-xs text-pink-500",children:["Conversion rate: ",s.metrics.conversion_rate,"%"]})]}),a.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-2xl shadow p-6 flex flex-col items-center text-center border transition duration-300 ease hover:shadow-2xl hover:scale-105",children:[a.jsx("div",{className:"bg-purple-100 dark:bg-purple-900 p-3 rounded-full mb-3",children:a.jsx(Jc,{className:"w-7 h-7 text-purple-600 dark:text-purple-400"})}),a.jsx("div",{className:"text-3xl font-extrabold text-purple-600 dark:text-purple-400 mb-1",children:i(s.metrics.total_revenue)}),a.jsx("div",{className:"text-gray-700 dark:text-gray-200 text-lg font-semibold mb-1",children:"Revenue"}),a.jsxs("div",{className:"text-xs text-blue-500",children:["Above target by ",s.metrics.target_achievement,"%"]})]}),a.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-2xl shadow p-6 flex flex-col items-center text-center border transition duration-300 ease hover:shadow-2xl hover:scale-105",children:[a.jsx("div",{className:"bg-orange-100 dark:bg-orange-900 p-3 rounded-full mb-3",children:a.jsx(os,{className:"w-7 h-7 text-orange-600 dark:text-orange-400"})}),a.jsx("div",{className:"text-3xl font-extrabold text-orange-600 dark:text-orange-400 mb-1",children:s.metrics.ai_score}),a.jsx("div",{className:"text-gray-700 dark:text-gray-200 text-lg font-semibold mb-1",children:"AI Score"}),a.jsx("div",{className:"text-xs text-green-500",children:"Performance excellent"})]})]}),a.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6 mb-8",children:[a.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-2xl shadow p-6 border flex flex-col",children:[a.jsx("div",{className:"font-bold text-lg mb-4 text-gray-900 dark:text-white",children:"Performance Analytics"}),a.jsx("div",{className:"w-full h-64",children:a.jsx(Oi,{width:"100%",height:"100%",children:a.jsxs(Vge,{data:s.performance,margin:{top:10,right:20,left:0,bottom:0},children:[a.jsx(Uc,{strokeDasharray:"3 3",stroke:"#e5e7eb"}),a.jsx(xo,{dataKey:"month",stroke:"#64748b"}),a.jsx(yo,{stroke:"#64748b"}),a.jsx(Ci,{content:a.jsx(ape,{})}),a.jsx(Io,{}),a.jsx(Q0,{type:"monotone",dataKey:"leads",stroke:"#3b82f6",strokeWidth:3,dot:c2("#3b82f6"),name:"Leads"}),a.jsx(Q0,{type:"monotone",dataKey:"deals",stroke:"#a21caf",strokeWidth:3,dot:c2("#a21caf"),name:"Deals"}),a.jsx(Q0,{type:"monotone",dataKey:"revenue",stroke:"#22c55e",strokeWidth:3,dot:c2("#22c55e"),name:"Revenue"})]})})})]}),a.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-2xl shadow p-6 border flex flex-col items-center transition duration-300 ease hover:shadow-2xl hover:scale-105",children:[a.jsx("div",{className:"font-bold text-lg mb-4 text-gray-900 dark:text-white",children:"Lead Quality"}),a.jsx("div",{className:"w-full h-64 flex items-center justify-center",children:a.jsx(Oi,{width:"100%",height:"100%",children:a.jsxs(xx,{children:[a.jsx(Fd,{data:s.lead_quality,dataKey:"value",nameKey:"name",cx:"50%",cy:"50%",innerRadius:40,outerRadius:70,fill:"#8884d8",label:!0,children:s.lead_quality.map((l,c)=>a.jsx($o,{fill:l.color},`cell-${c}`))}),a.jsx(Ci,{content:a.jsx(npe,{})}),a.jsx(Io,{})]})})}),a.jsx("ul",{className:"mt-4 w-full text-sm",children:s.lead_quality.map(l=>a.jsxs("li",{className:"flex items-center justify-between mb-1",children:[a.jsxs("span",{className:"flex items-center gap-2",children:[a.jsx("span",{className:"inline-block w-3 h-3 rounded-full",style:{background:l.color}}),l.name]}),a.jsxs("span",{className:"font-semibold",children:[l.value,"%"]})]},l.name))})]}),a.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-2xl shadow p-6 border flex flex-col",children:[a.jsxs("div",{className:"font-bold text-lg mb-4 text-gray-900 dark:text-white flex items-center gap-2",children:[a.jsx(Do,{className:"w-5 h-5 text-pink-500"})," Smart Activity Feed"]}),a.jsx("ul",{className:"divide-y divide-gray-200 dark:divide-gray-700",children:s.activity_feed.length>0?s.activity_feed.map((l,c)=>a.jsxs("li",{className:"flex items-center gap-3 py-3",children:[a.jsx("span",{className:`flex items-center justify-center rounded-full ${l.color} w-8 h-8`,children:rpe[l.icon]||a.jsx(_d,{className:"w-4 h-4 text-blue-500"})}),a.jsxs("div",{className:"flex-1",children:[a.jsx("div",{className:"text-gray-900 dark:text-white text-sm font-medium",children:l.title}),a.jsx("div",{className:"text-xs text-gray-500 dark:text-gray-400",children:l.time})]})]},c)):a.jsx("li",{className:"py-3 text-gray-500 dark:text-gray-400 text-sm",children:"No recent activity"})})]})]})]})}/*! xlsx.js (C) 2013-present SheetJS -- http://sheetjs.com */var yx={};yx.version="0.18.5";var P9=1252,ipe=[874,932,936,949,950,1250,1251,1252,1253,1254,1255,1256,1257,1258,1e4],M9=function(e){ipe.indexOf(e)!=-1&&(P9=e)};function lpe(){M9(1252)}var Rh=function(e){M9(e)};function ope(){Rh(1200),lpe()}var tp=function(t){return String.fromCharCode(t)},I5=function(t){return String.fromCharCode(t)},vx,vo="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=";function Ih(e){for(var t="",r=0,n=0,s=0,i=0,l=0,c=0,d=0,f=0;f<e.length;)r=e.charCodeAt(f++),i=r>>2,n=e.charCodeAt(f++),l=(r&3)<<4|n>>4,s=e.charCodeAt(f++),c=(n&15)<<2|s>>6,d=s&63,isNaN(n)?c=d=64:isNaN(s)&&(d=64),t+=vo.charAt(i)+vo.charAt(l)+vo.charAt(c)+vo.charAt(d);return t}function Tl(e){var t="",r=0,n=0,s=0,i=0,l=0,c=0,d=0;e=e.replace(/[^\w\+\/\=]/g,"");for(var f=0;f<e.length;)i=vo.indexOf(e.charAt(f++)),l=vo.indexOf(e.charAt(f++)),r=i<<2|l>>4,t+=String.fromCharCode(r),c=vo.indexOf(e.charAt(f++)),n=(l&15)<<4|c>>2,c!==64&&(t+=String.fromCharCode(n)),d=vo.indexOf(e.charAt(f++)),s=(c&3)<<6|d,d!==64&&(t+=String.fromCharCode(s));return t}var Vt=function(){return typeof Buffer<"u"&&typeof process<"u"&&typeof process.versions<"u"&&!!process.versions.node}(),Il=function(){if(typeof Buffer<"u"){var e=!Buffer.from;if(!e)try{Buffer.from("foo","utf8")}catch{e=!0}return e?function(t,r){return r?new Buffer(t,r):new Buffer(t)}:Buffer.from.bind(Buffer)}return function(){}}();function iu(e){return Vt?Buffer.alloc?Buffer.alloc(e):new Buffer(e):typeof Uint8Array<"u"?new Uint8Array(e):new Array(e)}function F5(e){return Vt?Buffer.allocUnsafe?Buffer.allocUnsafe(e):new Buffer(e):typeof Uint8Array<"u"?new Uint8Array(e):new Array(e)}var oi=function(t){return Vt?Il(t,"binary"):t.split("").map(function(r){return r.charCodeAt(0)&255})};function Py(e){if(typeof ArrayBuffer>"u")return oi(e);for(var t=new ArrayBuffer(e.length),r=new Uint8Array(t),n=0;n!=e.length;++n)r[n]=e.charCodeAt(n)&255;return t}function ym(e){if(Array.isArray(e))return e.map(function(n){return String.fromCharCode(n)}).join("");for(var t=[],r=0;r<e.length;++r)t[r]=String.fromCharCode(e[r]);return t.join("")}function cpe(e){if(typeof Uint8Array>"u")throw new Error("Unsupported");return new Uint8Array(e)}var Hn=Vt?function(e){return Buffer.concat(e.map(function(t){return Buffer.isBuffer(t)?t:Il(t)}))}:function(e){if(typeof Uint8Array<"u"){var t=0,r=0;for(t=0;t<e.length;++t)r+=e[t].length;var n=new Uint8Array(r),s=0;for(t=0,r=0;t<e.length;r+=s,++t)if(s=e[t].length,e[t]instanceof Uint8Array)n.set(e[t],r);else{if(typeof e[t]=="string")throw"wtf";n.set(new Uint8Array(e[t]),r)}return n}return[].concat.apply([],e.map(function(i){return Array.isArray(i)?i:[].slice.call(i)}))};function upe(e){for(var t=[],r=0,n=e.length+250,s=iu(e.length+255),i=0;i<e.length;++i){var l=e.charCodeAt(i);if(l<128)s[r++]=l;else if(l<2048)s[r++]=192|l>>6&31,s[r++]=128|l&63;else if(l>=55296&&l<57344){l=(l&1023)+64;var c=e.charCodeAt(++i)&1023;s[r++]=240|l>>8&7,s[r++]=128|l>>2&63,s[r++]=128|c>>6&15|(l&3)<<4,s[r++]=128|c&63}else s[r++]=224|l>>12&15,s[r++]=128|l>>6&63,s[r++]=128|l&63;r>n&&(t.push(s.slice(0,r)),r=0,s=iu(65535),n=65530)}return t.push(s.slice(0,r)),Hn(t)}var Z0=/\u0000/g,rp=/[\u0001-\u0006]/g;function bd(e){for(var t="",r=e.length-1;r>=0;)t+=e.charAt(r--);return t}function ci(e,t){var r=""+e;return r.length>=t?r:qr("0",t-r.length)+r}function Ak(e,t){var r=""+e;return r.length>=t?r:qr(" ",t-r.length)+r}function bx(e,t){var r=""+e;return r.length>=t?r:r+qr(" ",t-r.length)}function dpe(e,t){var r=""+Math.round(e);return r.length>=t?r:qr("0",t-r.length)+r}function fpe(e,t){var r=""+e;return r.length>=t?r:qr("0",t-r.length)+r}var L5=Math.pow(2,32);function td(e,t){if(e>L5||e<-L5)return dpe(e,t);var r=Math.round(e);return fpe(r,t)}function wx(e,t){return t=t||0,e.length>=7+t&&(e.charCodeAt(t)|32)===103&&(e.charCodeAt(t+1)|32)===101&&(e.charCodeAt(t+2)|32)===110&&(e.charCodeAt(t+3)|32)===101&&(e.charCodeAt(t+4)|32)===114&&(e.charCodeAt(t+5)|32)===97&&(e.charCodeAt(t+6)|32)===108}var B5=[["Sun","Sunday"],["Mon","Monday"],["Tue","Tuesday"],["Wed","Wednesday"],["Thu","Thursday"],["Fri","Friday"],["Sat","Saturday"]],u2=[["J","Jan","January"],["F","Feb","February"],["M","Mar","March"],["A","Apr","April"],["M","May","May"],["J","Jun","June"],["J","Jul","July"],["A","Aug","August"],["S","Sep","September"],["O","Oct","October"],["N","Nov","November"],["D","Dec","December"]];function hpe(e){return e||(e={}),e[0]="General",e[1]="0",e[2]="0.00",e[3]="#,##0",e[4]="#,##0.00",e[9]="0%",e[10]="0.00%",e[11]="0.00E+00",e[12]="# ?/?",e[13]="# ??/??",e[14]="m/d/yy",e[15]="d-mmm-yy",e[16]="d-mmm",e[17]="mmm-yy",e[18]="h:mm AM/PM",e[19]="h:mm:ss AM/PM",e[20]="h:mm",e[21]="h:mm:ss",e[22]="m/d/yy h:mm",e[37]="#,##0 ;(#,##0)",e[38]="#,##0 ;[Red](#,##0)",e[39]="#,##0.00;(#,##0.00)",e[40]="#,##0.00;[Red](#,##0.00)",e[45]="mm:ss",e[46]="[h]:mm:ss",e[47]="mmss.0",e[48]="##0.0E+0",e[49]="@",e[56]='"上午/下午 "hh"時"mm"分"ss"秒 "',e}var Wr={0:"General",1:"0",2:"0.00",3:"#,##0",4:"#,##0.00",9:"0%",10:"0.00%",11:"0.00E+00",12:"# ?/?",13:"# ??/??",14:"m/d/yy",15:"d-mmm-yy",16:"d-mmm",17:"mmm-yy",18:"h:mm AM/PM",19:"h:mm:ss AM/PM",20:"h:mm",21:"h:mm:ss",22:"m/d/yy h:mm",37:"#,##0 ;(#,##0)",38:"#,##0 ;[Red](#,##0)",39:"#,##0.00;(#,##0.00)",40:"#,##0.00;[Red](#,##0.00)",45:"mm:ss",46:"[h]:mm:ss",47:"mmss.0",48:"##0.0E+0",49:"@",56:'"上午/下午 "hh"時"mm"分"ss"秒 "'},$5={5:37,6:38,7:39,8:40,23:0,24:0,25:0,26:0,27:14,28:14,29:14,30:14,31:14,50:14,51:14,52:14,53:14,54:14,55:14,56:14,57:14,58:14,59:1,60:2,61:3,62:4,67:9,68:10,69:12,70:13,71:14,72:14,73:15,74:16,75:17,76:20,77:21,78:22,79:45,80:46,81:47,82:0},mpe={5:'"$"#,##0_);\\("$"#,##0\\)',63:'"$"#,##0_);\\("$"#,##0\\)',6:'"$"#,##0_);[Red]\\("$"#,##0\\)',64:'"$"#,##0_);[Red]\\("$"#,##0\\)',7:'"$"#,##0.00_);\\("$"#,##0.00\\)',65:'"$"#,##0.00_);\\("$"#,##0.00\\)',8:'"$"#,##0.00_);[Red]\\("$"#,##0.00\\)',66:'"$"#,##0.00_);[Red]\\("$"#,##0.00\\)',41:'_(* #,##0_);_(* \\(#,##0\\);_(* "-"_);_(@_)',42:'_("$"* #,##0_);_("$"* \\(#,##0\\);_("$"* "-"_);_(@_)',43:'_(* #,##0.00_);_(* \\(#,##0.00\\);_(* "-"??_);_(@_)',44:'_("$"* #,##0.00_);_("$"* \\(#,##0.00\\);_("$"* "-"??_);_(@_)'};function jx(e,t,r){for(var n=e<0?-1:1,s=e*n,i=0,l=1,c=0,d=1,f=0,h=0,g=Math.floor(s);f<t&&(g=Math.floor(s),c=g*l+i,h=g*f+d,!(s-g<5e-8));)s=1/(s-g),i=l,l=c,d=f,f=h;if(h>t&&(f>t?(h=d,c=i):(h=f,c=l)),!r)return[0,n*c,h];var p=Math.floor(n*c/h);return[p,n*c-p*h,h]}function np(e,t,r){if(e>2958465||e<0)return null;var n=e|0,s=Math.floor(86400*(e-n)),i=0,l=[],c={D:n,T:s,u:86400*(e-n)-s,y:0,m:0,d:0,H:0,M:0,S:0,q:0};if(Math.abs(c.u)<1e-6&&(c.u=0),t&&t.date1904&&(n+=1462),c.u>.9999&&(c.u=0,++s==86400&&(c.T=s=0,++n,++c.D)),n===60)l=r?[1317,10,29]:[1900,2,29],i=3;else if(n===0)l=r?[1317,8,29]:[1900,1,0],i=6;else{n>60&&--n;var d=new Date(1900,0,1);d.setDate(d.getDate()+n-1),l=[d.getFullYear(),d.getMonth()+1,d.getDate()],i=d.getDay(),n<60&&(i=(i+6)%7),r&&(i=wpe(d,l))}return c.y=l[0],c.m=l[1],c.d=l[2],c.S=s%60,s=Math.floor(s/60),c.M=s%60,s=Math.floor(s/60),c.H=s,c.q=i,c}var R9=new Date(1899,11,31,0,0,0),gpe=R9.getTime(),ppe=new Date(1900,2,1,0,0,0);function I9(e,t){var r=e.getTime();return t?r-=1461*24*60*60*1e3:e>=ppe&&(r+=1440*60*1e3),(r-(gpe+(e.getTimezoneOffset()-R9.getTimezoneOffset())*6e4))/(1440*60*1e3)}function Ck(e){return e.indexOf(".")==-1?e:e.replace(/(?:\.0*|(\.\d*[1-9])0+)$/,"$1")}function xpe(e){return e.indexOf("E")==-1?e:e.replace(/(?:\.0*|(\.\d*[1-9])0+)[Ee]/,"$1E").replace(/(E[+-])(\d)$/,"$10$2")}function ype(e){var t=e<0?12:11,r=Ck(e.toFixed(12));return r.length<=t||(r=e.toPrecision(10),r.length<=t)?r:e.toExponential(5)}function vpe(e){var t=Ck(e.toFixed(11));return t.length>(e<0?12:11)||t==="0"||t==="-0"?e.toPrecision(6):t}function bpe(e){var t=Math.floor(Math.log(Math.abs(e))*Math.LOG10E),r;return t>=-4&&t<=-1?r=e.toPrecision(10+t):Math.abs(t)<=9?r=ype(e):t===10?r=e.toFixed(10).substr(0,12):r=vpe(e),Ck(xpe(r.toUpperCase()))}function pN(e,t){switch(typeof e){case"string":return e;case"boolean":return e?"TRUE":"FALSE";case"number":return(e|0)===e?e.toString(10):bpe(e);case"undefined":return"";case"object":if(e==null)return"";if(e instanceof Date)return Uo(14,I9(e,t&&t.date1904),t)}throw new Error("unsupported value in General format: "+e)}function wpe(e,t){t[0]-=581;var r=e.getDay();return e<60&&(r=(r+6)%7),r}function jpe(e,t,r,n){var s="",i=0,l=0,c=r.y,d,f=0;switch(e){case 98:c=r.y+543;case 121:switch(t.length){case 1:case 2:d=c%100,f=2;break;default:d=c%1e4,f=4;break}break;case 109:switch(t.length){case 1:case 2:d=r.m,f=t.length;break;case 3:return u2[r.m-1][1];case 5:return u2[r.m-1][0];default:return u2[r.m-1][2]}break;case 100:switch(t.length){case 1:case 2:d=r.d,f=t.length;break;case 3:return B5[r.q][0];default:return B5[r.q][1]}break;case 104:switch(t.length){case 1:case 2:d=1+(r.H+11)%12,f=t.length;break;default:throw"bad hour format: "+t}break;case 72:switch(t.length){case 1:case 2:d=r.H,f=t.length;break;default:throw"bad hour format: "+t}break;case 77:switch(t.length){case 1:case 2:d=r.M,f=t.length;break;default:throw"bad minute format: "+t}break;case 115:if(t!="s"&&t!="ss"&&t!=".0"&&t!=".00"&&t!=".000")throw"bad second format: "+t;return r.u===0&&(t=="s"||t=="ss")?ci(r.S,t.length):(n>=2?l=n===3?1e3:100:l=n===1?10:1,i=Math.round(l*(r.S+r.u)),i>=60*l&&(i=0),t==="s"?i===0?"0":""+i/l:(s=ci(i,2+n),t==="ss"?s.substr(0,2):"."+s.substr(2,t.length-1)));case 90:switch(t){case"[h]":case"[hh]":d=r.D*24+r.H;break;case"[m]":case"[mm]":d=(r.D*24+r.H)*60+r.M;break;case"[s]":case"[ss]":d=((r.D*24+r.H)*60+r.M)*60+Math.round(r.S+r.u);break;default:throw"bad abstime format: "+t}f=t.length===3?1:2;break;case 101:d=c,f=1;break}var h=f>0?ci(d,f):"";return h}function bo(e){var t=3;if(e.length<=t)return e;for(var r=e.length%t,n=e.substr(0,r);r!=e.length;r+=t)n+=(n.length>0?",":"")+e.substr(r,t);return n}var F9=/%/g;function Npe(e,t,r){var n=t.replace(F9,""),s=t.length-n.length;return pl(e,n,r*Math.pow(10,2*s))+qr("%",s)}function Spe(e,t,r){for(var n=t.length-1;t.charCodeAt(n-1)===44;)--n;return pl(e,t.substr(0,n),r/Math.pow(10,3*(t.length-n)))}function L9(e,t){var r,n=e.indexOf("E")-e.indexOf(".")-1;if(e.match(/^#+0.0E\+0$/)){if(t==0)return"0.0E+0";if(t<0)return"-"+L9(e,-t);var s=e.indexOf(".");s===-1&&(s=e.indexOf("E"));var i=Math.floor(Math.log(t)*Math.LOG10E)%s;if(i<0&&(i+=s),r=(t/Math.pow(10,i)).toPrecision(n+1+(s+i)%s),r.indexOf("e")===-1){var l=Math.floor(Math.log(t)*Math.LOG10E);for(r.indexOf(".")===-1?r=r.charAt(0)+"."+r.substr(1)+"E+"+(l-r.length+i):r+="E+"+(l-i);r.substr(0,2)==="0.";)r=r.charAt(0)+r.substr(2,s)+"."+r.substr(2+s),r=r.replace(/^0+([1-9])/,"$1").replace(/^0+\./,"0.");r=r.replace(/\+-/,"-")}r=r.replace(/^([+-]?)(\d*)\.(\d*)[Ee]/,function(c,d,f,h){return d+f+h.substr(0,(s+i)%s)+"."+h.substr(i)+"E"})}else r=t.toExponential(n);return e.match(/E\+00$/)&&r.match(/e[+-]\d$/)&&(r=r.substr(0,r.length-1)+"0"+r.charAt(r.length-1)),e.match(/E\-/)&&r.match(/e\+/)&&(r=r.replace(/e\+/,"e")),r.replace("e","E")}var B9=/# (\?+)( ?)\/( ?)(\d+)/;function _pe(e,t,r){var n=parseInt(e[4],10),s=Math.round(t*n),i=Math.floor(s/n),l=s-i*n,c=n;return r+(i===0?"":""+i)+" "+(l===0?qr(" ",e[1].length+1+e[4].length):Ak(l,e[1].length)+e[2]+"/"+e[3]+ci(c,e[4].length))}function kpe(e,t,r){return r+(t===0?"":""+t)+qr(" ",e[1].length+2+e[4].length)}var $9=/^#*0*\.([0#]+)/,U9=/\).*[0#]/,z9=/\(###\) ###\\?-####/;function da(e){for(var t="",r,n=0;n!=e.length;++n)switch(r=e.charCodeAt(n)){case 35:break;case 63:t+=" ";break;case 48:t+="0";break;default:t+=String.fromCharCode(r)}return t}function U5(e,t){var r=Math.pow(10,t);return""+Math.round(e*r)/r}function z5(e,t){var r=e-Math.floor(e),n=Math.pow(10,t);return t<(""+Math.round(r*n)).length?0:Math.round(r*n)}function Epe(e,t){return t<(""+Math.round((e-Math.floor(e))*Math.pow(10,t))).length?1:0}function Tpe(e){return e<2147483647&&e>-2147483648?""+(e>=0?e|0:e-1|0):""+Math.floor(e)}function Ps(e,t,r){if(e.charCodeAt(0)===40&&!t.match(U9)){var n=t.replace(/\( */,"").replace(/ \)/,"").replace(/\)/,"");return r>=0?Ps("n",n,r):"("+Ps("n",n,-r)+")"}if(t.charCodeAt(t.length-1)===44)return Spe(e,t,r);if(t.indexOf("%")!==-1)return Npe(e,t,r);if(t.indexOf("E")!==-1)return L9(t,r);if(t.charCodeAt(0)===36)return"$"+Ps(e,t.substr(t.charAt(1)==" "?2:1),r);var s,i,l,c,d=Math.abs(r),f=r<0?"-":"";if(t.match(/^00+$/))return f+td(d,t.length);if(t.match(/^[#?]+$/))return s=td(r,0),s==="0"&&(s=""),s.length>t.length?s:da(t.substr(0,t.length-s.length))+s;if(i=t.match(B9))return _pe(i,d,f);if(t.match(/^#+0+$/))return f+td(d,t.length-t.indexOf("0"));if(i=t.match($9))return s=U5(r,i[1].length).replace(/^([^\.]+)$/,"$1."+da(i[1])).replace(/\.$/,"."+da(i[1])).replace(/\.(\d*)$/,function(b,w){return"."+w+qr("0",da(i[1]).length-w.length)}),t.indexOf("0.")!==-1?s:s.replace(/^0\./,".");if(t=t.replace(/^#+([0.])/,"$1"),i=t.match(/^(0*)\.(#*)$/))return f+U5(d,i[2].length).replace(/\.(\d*[1-9])0*$/,".$1").replace(/^(-?\d*)$/,"$1.").replace(/^0\./,i[1].length?"0.":".");if(i=t.match(/^#{1,3},##0(\.?)$/))return f+bo(td(d,0));if(i=t.match(/^#,##0\.([#0]*0)$/))return r<0?"-"+Ps(e,t,-r):bo(""+(Math.floor(r)+Epe(r,i[1].length)))+"."+ci(z5(r,i[1].length),i[1].length);if(i=t.match(/^#,#*,#0/))return Ps(e,t.replace(/^#,#*,/,""),r);if(i=t.match(/^([0#]+)(\\?-([0#]+))+$/))return s=bd(Ps(e,t.replace(/[\\-]/g,""),r)),l=0,bd(bd(t.replace(/\\/g,"")).replace(/[0#]/g,function(b){return l<s.length?s.charAt(l++):b==="0"?"0":""}));if(t.match(z9))return s=Ps(e,"##########",r),"("+s.substr(0,3)+") "+s.substr(3,3)+"-"+s.substr(6);var h="";if(i=t.match(/^([#0?]+)( ?)\/( ?)([#0?]+)/))return l=Math.min(i[4].length,7),c=jx(d,Math.pow(10,l)-1,!1),s=""+f,h=pl("n",i[1],c[1]),h.charAt(h.length-1)==" "&&(h=h.substr(0,h.length-1)+"0"),s+=h+i[2]+"/"+i[3],h=bx(c[2],l),h.length<i[4].length&&(h=da(i[4].substr(i[4].length-h.length))+h),s+=h,s;if(i=t.match(/^# ([#0?]+)( ?)\/( ?)([#0?]+)/))return l=Math.min(Math.max(i[1].length,i[4].length),7),c=jx(d,Math.pow(10,l)-1,!0),f+(c[0]||(c[1]?"":"0"))+" "+(c[1]?Ak(c[1],l)+i[2]+"/"+i[3]+bx(c[2],l):qr(" ",2*l+1+i[2].length+i[3].length));if(i=t.match(/^[#0?]+$/))return s=td(r,0),t.length<=s.length?s:da(t.substr(0,t.length-s.length))+s;if(i=t.match(/^([#0?]+)\.([#0]+)$/)){s=""+r.toFixed(Math.min(i[2].length,10)).replace(/([^0])0+$/,"$1"),l=s.indexOf(".");var g=t.indexOf(".")-l,p=t.length-s.length-g;return da(t.substr(0,g)+s+t.substr(t.length-p))}if(i=t.match(/^00,000\.([#0]*0)$/))return l=z5(r,i[1].length),r<0?"-"+Ps(e,t,-r):bo(Tpe(r)).replace(/^\d,\d{3}$/,"0$&").replace(/^\d*$/,function(b){return"00,"+(b.length<3?ci(0,3-b.length):"")+b})+"."+ci(l,i[1].length);switch(t){case"###,##0.00":return Ps(e,"#,##0.00",r);case"###,###":case"##,###":case"#,###":var y=bo(td(d,0));return y!=="0"?f+y:"";case"###,###.00":return Ps(e,"###,##0.00",r).replace(/^0\./,".");case"#,###.00":return Ps(e,"#,##0.00",r).replace(/^0\./,".")}throw new Error("unsupported format |"+t+"|")}function Ape(e,t,r){for(var n=t.length-1;t.charCodeAt(n-1)===44;)--n;return pl(e,t.substr(0,n),r/Math.pow(10,3*(t.length-n)))}function Cpe(e,t,r){var n=t.replace(F9,""),s=t.length-n.length;return pl(e,n,r*Math.pow(10,2*s))+qr("%",s)}function H9(e,t){var r,n=e.indexOf("E")-e.indexOf(".")-1;if(e.match(/^#+0.0E\+0$/)){if(t==0)return"0.0E+0";if(t<0)return"-"+H9(e,-t);var s=e.indexOf(".");s===-1&&(s=e.indexOf("E"));var i=Math.floor(Math.log(t)*Math.LOG10E)%s;if(i<0&&(i+=s),r=(t/Math.pow(10,i)).toPrecision(n+1+(s+i)%s),!r.match(/[Ee]/)){var l=Math.floor(Math.log(t)*Math.LOG10E);r.indexOf(".")===-1?r=r.charAt(0)+"."+r.substr(1)+"E+"+(l-r.length+i):r+="E+"+(l-i),r=r.replace(/\+-/,"-")}r=r.replace(/^([+-]?)(\d*)\.(\d*)[Ee]/,function(c,d,f,h){return d+f+h.substr(0,(s+i)%s)+"."+h.substr(i)+"E"})}else r=t.toExponential(n);return e.match(/E\+00$/)&&r.match(/e[+-]\d$/)&&(r=r.substr(0,r.length-1)+"0"+r.charAt(r.length-1)),e.match(/E\-/)&&r.match(/e\+/)&&(r=r.replace(/e\+/,"e")),r.replace("e","E")}function Ei(e,t,r){if(e.charCodeAt(0)===40&&!t.match(U9)){var n=t.replace(/\( */,"").replace(/ \)/,"").replace(/\)/,"");return r>=0?Ei("n",n,r):"("+Ei("n",n,-r)+")"}if(t.charCodeAt(t.length-1)===44)return Ape(e,t,r);if(t.indexOf("%")!==-1)return Cpe(e,t,r);if(t.indexOf("E")!==-1)return H9(t,r);if(t.charCodeAt(0)===36)return"$"+Ei(e,t.substr(t.charAt(1)==" "?2:1),r);var s,i,l,c,d=Math.abs(r),f=r<0?"-":"";if(t.match(/^00+$/))return f+ci(d,t.length);if(t.match(/^[#?]+$/))return s=""+r,r===0&&(s=""),s.length>t.length?s:da(t.substr(0,t.length-s.length))+s;if(i=t.match(B9))return kpe(i,d,f);if(t.match(/^#+0+$/))return f+ci(d,t.length-t.indexOf("0"));if(i=t.match($9))return s=(""+r).replace(/^([^\.]+)$/,"$1."+da(i[1])).replace(/\.$/,"."+da(i[1])),s=s.replace(/\.(\d*)$/,function(b,w){return"."+w+qr("0",da(i[1]).length-w.length)}),t.indexOf("0.")!==-1?s:s.replace(/^0\./,".");if(t=t.replace(/^#+([0.])/,"$1"),i=t.match(/^(0*)\.(#*)$/))return f+(""+d).replace(/\.(\d*[1-9])0*$/,".$1").replace(/^(-?\d*)$/,"$1.").replace(/^0\./,i[1].length?"0.":".");if(i=t.match(/^#{1,3},##0(\.?)$/))return f+bo(""+d);if(i=t.match(/^#,##0\.([#0]*0)$/))return r<0?"-"+Ei(e,t,-r):bo(""+r)+"."+qr("0",i[1].length);if(i=t.match(/^#,#*,#0/))return Ei(e,t.replace(/^#,#*,/,""),r);if(i=t.match(/^([0#]+)(\\?-([0#]+))+$/))return s=bd(Ei(e,t.replace(/[\\-]/g,""),r)),l=0,bd(bd(t.replace(/\\/g,"")).replace(/[0#]/g,function(b){return l<s.length?s.charAt(l++):b==="0"?"0":""}));if(t.match(z9))return s=Ei(e,"##########",r),"("+s.substr(0,3)+") "+s.substr(3,3)+"-"+s.substr(6);var h="";if(i=t.match(/^([#0?]+)( ?)\/( ?)([#0?]+)/))return l=Math.min(i[4].length,7),c=jx(d,Math.pow(10,l)-1,!1),s=""+f,h=pl("n",i[1],c[1]),h.charAt(h.length-1)==" "&&(h=h.substr(0,h.length-1)+"0"),s+=h+i[2]+"/"+i[3],h=bx(c[2],l),h.length<i[4].length&&(h=da(i[4].substr(i[4].length-h.length))+h),s+=h,s;if(i=t.match(/^# ([#0?]+)( ?)\/( ?)([#0?]+)/))return l=Math.min(Math.max(i[1].length,i[4].length),7),c=jx(d,Math.pow(10,l)-1,!0),f+(c[0]||(c[1]?"":"0"))+" "+(c[1]?Ak(c[1],l)+i[2]+"/"+i[3]+bx(c[2],l):qr(" ",2*l+1+i[2].length+i[3].length));if(i=t.match(/^[#0?]+$/))return s=""+r,t.length<=s.length?s:da(t.substr(0,t.length-s.length))+s;if(i=t.match(/^([#0]+)\.([#0]+)$/)){s=""+r.toFixed(Math.min(i[2].length,10)).replace(/([^0])0+$/,"$1"),l=s.indexOf(".");var g=t.indexOf(".")-l,p=t.length-s.length-g;return da(t.substr(0,g)+s+t.substr(t.length-p))}if(i=t.match(/^00,000\.([#0]*0)$/))return r<0?"-"+Ei(e,t,-r):bo(""+r).replace(/^\d,\d{3}$/,"0$&").replace(/^\d*$/,function(b){return"00,"+(b.length<3?ci(0,3-b.length):"")+b})+"."+ci(0,i[1].length);switch(t){case"###,###":case"##,###":case"#,###":var y=bo(""+d);return y!=="0"?f+y:"";default:if(t.match(/\.[0#?]*$/))return Ei(e,t.slice(0,t.lastIndexOf(".")),r)+da(t.slice(t.lastIndexOf(".")))}throw new Error("unsupported format |"+t+"|")}function pl(e,t,r){return(r|0)===r?Ei(e,t,r):Ps(e,t,r)}function Ope(e){for(var t=[],r=!1,n=0,s=0;n<e.length;++n)switch(e.charCodeAt(n)){case 34:r=!r;break;case 95:case 42:case 92:++n;break;case 59:t[t.length]=e.substr(s,n-s),s=n+1}if(t[t.length]=e.substr(s),r===!0)throw new Error("Format |"+e+"| unterminated string ");return t}var V9=/\[[HhMmSs\u0E0A\u0E19\u0E17]*\]/;function q9(e){for(var t=0,r="",n="";t<e.length;)switch(r=e.charAt(t)){case"G":wx(e,t)&&(t+=6),t++;break;case'"':for(;e.charCodeAt(++t)!==34&&t<e.length;);++t;break;case"\\":t+=2;break;case"_":t+=2;break;case"@":++t;break;case"B":case"b":if(e.charAt(t+1)==="1"||e.charAt(t+1)==="2")return!0;case"M":case"D":case"Y":case"H":case"S":case"E":case"m":case"d":case"y":case"h":case"s":case"e":case"g":return!0;case"A":case"a":case"上":if(e.substr(t,3).toUpperCase()==="A/P"||e.substr(t,5).toUpperCase()==="AM/PM"||e.substr(t,5).toUpperCase()==="上午/下午")return!0;++t;break;case"[":for(n=r;e.charAt(t++)!=="]"&&t<e.length;)n+=e.charAt(t);if(n.match(V9))return!0;break;case".":case"0":case"#":for(;t<e.length&&("0#?.,E+-%".indexOf(r=e.charAt(++t))>-1||r=="\\"&&e.charAt(t+1)=="-"&&"0#".indexOf(e.charAt(t+2))>-1););break;case"?":for(;e.charAt(++t)===r;);break;case"*":++t,(e.charAt(t)==" "||e.charAt(t)=="*")&&++t;break;case"(":case")":++t;break;case"1":case"2":case"3":case"4":case"5":case"6":case"7":case"8":case"9":for(;t<e.length&&"0123456789".indexOf(e.charAt(++t))>-1;);break;case" ":++t;break;default:++t;break}return!1}function Dpe(e,t,r,n){for(var s=[],i="",l=0,c="",d="t",f,h,g,p="H";l<e.length;)switch(c=e.charAt(l)){case"G":if(!wx(e,l))throw new Error("unrecognized character "+c+" in "+e);s[s.length]={t:"G",v:"General"},l+=7;break;case'"':for(i="";(g=e.charCodeAt(++l))!==34&&l<e.length;)i+=String.fromCharCode(g);s[s.length]={t:"t",v:i},++l;break;case"\\":var y=e.charAt(++l),b=y==="("||y===")"?y:"t";s[s.length]={t:b,v:y},++l;break;case"_":s[s.length]={t:"t",v:" "},l+=2;break;case"@":s[s.length]={t:"T",v:t},++l;break;case"B":case"b":if(e.charAt(l+1)==="1"||e.charAt(l+1)==="2"){if(f==null&&(f=np(t,r,e.charAt(l+1)==="2"),f==null))return"";s[s.length]={t:"X",v:e.substr(l,2)},d=c,l+=2;break}case"M":case"D":case"Y":case"H":case"S":case"E":c=c.toLowerCase();case"m":case"d":case"y":case"h":case"s":case"e":case"g":if(t<0||f==null&&(f=np(t,r),f==null))return"";for(i=c;++l<e.length&&e.charAt(l).toLowerCase()===c;)i+=c;c==="m"&&d.toLowerCase()==="h"&&(c="M"),c==="h"&&(c=p),s[s.length]={t:c,v:i},d=c;break;case"A":case"a":case"上":var w={t:c,v:c};if(f==null&&(f=np(t,r)),e.substr(l,3).toUpperCase()==="A/P"?(f!=null&&(w.v=f.H>=12?"P":"A"),w.t="T",p="h",l+=3):e.substr(l,5).toUpperCase()==="AM/PM"?(f!=null&&(w.v=f.H>=12?"PM":"AM"),w.t="T",l+=5,p="h"):e.substr(l,5).toUpperCase()==="上午/下午"?(f!=null&&(w.v=f.H>=12?"下午":"上午"),w.t="T",l+=5,p="h"):(w.t="t",++l),f==null&&w.t==="T")return"";s[s.length]=w,d=c;break;case"[":for(i=c;e.charAt(l++)!=="]"&&l<e.length;)i+=e.charAt(l);if(i.slice(-1)!=="]")throw'unterminated "[" block: |'+i+"|";if(i.match(V9)){if(f==null&&(f=np(t,r),f==null))return"";s[s.length]={t:"Z",v:i.toLowerCase()},d=i.charAt(1)}else i.indexOf("$")>-1&&(i=(i.match(/\$([^-\[\]]*)/)||[])[1]||"$",q9(e)||(s[s.length]={t:"t",v:i}));break;case".":if(f!=null){for(i=c;++l<e.length&&(c=e.charAt(l))==="0";)i+=c;s[s.length]={t:"s",v:i};break}case"0":case"#":for(i=c;++l<e.length&&"0#?.,E+-%".indexOf(c=e.charAt(l))>-1;)i+=c;s[s.length]={t:"n",v:i};break;case"?":for(i=c;e.charAt(++l)===c;)i+=c;s[s.length]={t:c,v:i},d=c;break;case"*":++l,(e.charAt(l)==" "||e.charAt(l)=="*")&&++l;break;case"(":case")":s[s.length]={t:n===1?"t":c,v:c},++l;break;case"1":case"2":case"3":case"4":case"5":case"6":case"7":case"8":case"9":for(i=c;l<e.length&&"0123456789".indexOf(e.charAt(++l))>-1;)i+=e.charAt(l);s[s.length]={t:"D",v:i};break;case" ":s[s.length]={t:c,v:c},++l;break;case"$":s[s.length]={t:"t",v:"$"},++l;break;default:if(",$-+/():!^&'~{}<>=€acfijklopqrtuvwxzP".indexOf(c)===-1)throw new Error("unrecognized character "+c+" in "+e);s[s.length]={t:"t",v:c},++l;break}var j=0,S=0,k;for(l=s.length-1,d="t";l>=0;--l)switch(s[l].t){case"h":case"H":s[l].t=p,d="h",j<1&&(j=1);break;case"s":(k=s[l].v.match(/\.0+$/))&&(S=Math.max(S,k[0].length-1)),j<3&&(j=3);case"d":case"y":case"M":case"e":d=s[l].t;break;case"m":d==="s"&&(s[l].t="M",j<2&&(j=2));break;case"X":break;case"Z":j<1&&s[l].v.match(/[Hh]/)&&(j=1),j<2&&s[l].v.match(/[Mm]/)&&(j=2),j<3&&s[l].v.match(/[Ss]/)&&(j=3)}switch(j){case 0:break;case 1:f.u>=.5&&(f.u=0,++f.S),f.S>=60&&(f.S=0,++f.M),f.M>=60&&(f.M=0,++f.H);break;case 2:f.u>=.5&&(f.u=0,++f.S),f.S>=60&&(f.S=0,++f.M);break}var E="",C;for(l=0;l<s.length;++l)switch(s[l].t){case"t":case"T":case" ":case"D":break;case"X":s[l].v="",s[l].t=";";break;case"d":case"m":case"y":case"h":case"H":case"M":case"s":case"e":case"b":case"Z":s[l].v=jpe(s[l].t.charCodeAt(0),s[l].v,f,S),s[l].t="t";break;case"n":case"?":for(C=l+1;s[C]!=null&&((c=s[C].t)==="?"||c==="D"||(c===" "||c==="t")&&s[C+1]!=null&&(s[C+1].t==="?"||s[C+1].t==="t"&&s[C+1].v==="/")||s[l].t==="("&&(c===" "||c==="n"||c===")")||c==="t"&&(s[C].v==="/"||s[C].v===" "&&s[C+1]!=null&&s[C+1].t=="?"));)s[l].v+=s[C].v,s[C]={v:"",t:";"},++C;E+=s[l].v,l=C-1;break;case"G":s[l].t="t",s[l].v=pN(t,r);break}var T="",A,O;if(E.length>0){E.charCodeAt(0)==40?(A=t<0&&E.charCodeAt(0)===45?-t:t,O=pl("n",E,A)):(A=t<0&&n>1?-t:t,O=pl("n",E,A),A<0&&s[0]&&s[0].t=="t"&&(O=O.substr(1),s[0].v="-"+s[0].v)),C=O.length-1;var D=s.length;for(l=0;l<s.length;++l)if(s[l]!=null&&s[l].t!="t"&&s[l].v.indexOf(".")>-1){D=l;break}var R=s.length;if(D===s.length&&O.indexOf("E")===-1){for(l=s.length-1;l>=0;--l)s[l]==null||"n?".indexOf(s[l].t)===-1||(C>=s[l].v.length-1?(C-=s[l].v.length,s[l].v=O.substr(C+1,s[l].v.length)):C<0?s[l].v="":(s[l].v=O.substr(0,C+1),C=-1),s[l].t="t",R=l);C>=0&&R<s.length&&(s[R].v=O.substr(0,C+1)+s[R].v)}else if(D!==s.length&&O.indexOf("E")===-1){for(C=O.indexOf(".")-1,l=D;l>=0;--l)if(!(s[l]==null||"n?".indexOf(s[l].t)===-1)){for(h=s[l].v.indexOf(".")>-1&&l===D?s[l].v.indexOf(".")-1:s[l].v.length-1,T=s[l].v.substr(h+1);h>=0;--h)C>=0&&(s[l].v.charAt(h)==="0"||s[l].v.charAt(h)==="#")&&(T=O.charAt(C--)+T);s[l].v=T,s[l].t="t",R=l}for(C>=0&&R<s.length&&(s[R].v=O.substr(0,C+1)+s[R].v),C=O.indexOf(".")+1,l=D;l<s.length;++l)if(!(s[l]==null||"n?(".indexOf(s[l].t)===-1&&l!==D)){for(h=s[l].v.indexOf(".")>-1&&l===D?s[l].v.indexOf(".")+1:0,T=s[l].v.substr(0,h);h<s[l].v.length;++h)C<O.length&&(T+=O.charAt(C++));s[l].v=T,s[l].t="t",R=l}}}for(l=0;l<s.length;++l)s[l]!=null&&"n?".indexOf(s[l].t)>-1&&(A=n>1&&t<0&&l>0&&s[l-1].v==="-"?-t:t,s[l].v=pl(s[l].t,s[l].v,A),s[l].t="t");var B="";for(l=0;l!==s.length;++l)s[l]!=null&&(B+=s[l].v);return B}var H5=/\[(=|>[=]?|<[>=]?)(-?\d+(?:\.\d*)?)\]/;function V5(e,t){if(t==null)return!1;var r=parseFloat(t[2]);switch(t[1]){case"=":if(e==r)return!0;break;case">":if(e>r)return!0;break;case"<":if(e<r)return!0;break;case"<>":if(e!=r)return!0;break;case">=":if(e>=r)return!0;break;case"<=":if(e<=r)return!0;break}return!1}function Ppe(e,t){var r=Ope(e),n=r.length,s=r[n-1].indexOf("@");if(n<4&&s>-1&&--n,r.length>4)throw new Error("cannot find right format for |"+r.join("|")+"|");if(typeof t!="number")return[4,r.length===4||s>-1?r[r.length-1]:"@"];switch(r.length){case 1:r=s>-1?["General","General","General",r[0]]:[r[0],r[0],r[0],"@"];break;case 2:r=s>-1?[r[0],r[0],r[0],r[1]]:[r[0],r[1],r[0],"@"];break;case 3:r=s>-1?[r[0],r[1],r[0],r[2]]:[r[0],r[1],r[2],"@"];break}var i=t>0?r[0]:t<0?r[1]:r[2];if(r[0].indexOf("[")===-1&&r[1].indexOf("[")===-1)return[n,i];if(r[0].match(/\[[=<>]/)!=null||r[1].match(/\[[=<>]/)!=null){var l=r[0].match(H5),c=r[1].match(H5);return V5(t,l)?[n,r[0]]:V5(t,c)?[n,r[1]]:[n,r[l!=null&&c!=null?2:1]]}return[n,i]}function Uo(e,t,r){r==null&&(r={});var n="";switch(typeof e){case"string":e=="m/d/yy"&&r.dateNF?n=r.dateNF:n=e;break;case"number":e==14&&r.dateNF?n=r.dateNF:n=(r.table!=null?r.table:Wr)[e],n==null&&(n=r.table&&r.table[$5[e]]||Wr[$5[e]]),n==null&&(n=mpe[e]||"General");break}if(wx(n,0))return pN(t,r);t instanceof Date&&(t=I9(t,r.date1904));var s=Ppe(n,t);if(wx(s[1]))return pN(t,r);if(t===!0)t="TRUE";else if(t===!1)t="FALSE";else if(t===""||t==null)return"";return Dpe(s[1],t,r,s[0])}function W9(e,t){if(typeof t!="number"){t=+t||-1;for(var r=0;r<392;++r){if(Wr[r]==null){t<0&&(t=r);continue}if(Wr[r]==e){t=r;break}}t<0&&(t=391)}return Wr[t]=e,t}function My(e){for(var t=0;t!=392;++t)e[t]!==void 0&&W9(e[t],t)}function Ry(){Wr=hpe()}var G9=/[dD]+|[mM]+|[yYeE]+|[Hh]+|[Ss]+/g;function Mpe(e){var t=typeof e=="number"?Wr[e]:e;return t=t.replace(G9,"(\\d+)"),new RegExp("^"+t+"$")}function Rpe(e,t,r){var n=-1,s=-1,i=-1,l=-1,c=-1,d=-1;(t.match(G9)||[]).forEach(function(g,p){var y=parseInt(r[p+1],10);switch(g.toLowerCase().charAt(0)){case"y":n=y;break;case"d":i=y;break;case"h":l=y;break;case"s":d=y;break;case"m":l>=0?c=y:s=y;break}}),d>=0&&c==-1&&s>=0&&(c=s,s=-1);var f=(""+(n>=0?n:new Date().getFullYear())).slice(-4)+"-"+("00"+(s>=1?s:1)).slice(-2)+"-"+("00"+(i>=1?i:1)).slice(-2);f.length==7&&(f="0"+f),f.length==8&&(f="20"+f);var h=("00"+(l>=0?l:0)).slice(-2)+":"+("00"+(c>=0?c:0)).slice(-2)+":"+("00"+(d>=0?d:0)).slice(-2);return l==-1&&c==-1&&d==-1?f:n==-1&&s==-1&&i==-1?h:f+"T"+h}var Ipe=function(){var e={};e.version="1.2.0";function t(){for(var O=0,D=new Array(256),R=0;R!=256;++R)O=R,O=O&1?-306674912^O>>>1:O>>>1,O=O&1?-306674912^O>>>1:O>>>1,O=O&1?-306674912^O>>>1:O>>>1,O=O&1?-306674912^O>>>1:O>>>1,O=O&1?-306674912^O>>>1:O>>>1,O=O&1?-306674912^O>>>1:O>>>1,O=O&1?-306674912^O>>>1:O>>>1,O=O&1?-306674912^O>>>1:O>>>1,D[R]=O;return typeof Int32Array<"u"?new Int32Array(D):D}var r=t();function n(O){var D=0,R=0,B=0,V=typeof Int32Array<"u"?new Int32Array(4096):new Array(4096);for(B=0;B!=256;++B)V[B]=O[B];for(B=0;B!=256;++B)for(R=O[B],D=256+B;D<4096;D+=256)R=V[D]=R>>>8^O[R&255];var W=[];for(B=1;B!=16;++B)W[B-1]=typeof Int32Array<"u"?V.subarray(B*256,B*256+256):V.slice(B*256,B*256+256);return W}var s=n(r),i=s[0],l=s[1],c=s[2],d=s[3],f=s[4],h=s[5],g=s[6],p=s[7],y=s[8],b=s[9],w=s[10],j=s[11],S=s[12],k=s[13],E=s[14];function C(O,D){for(var R=D^-1,B=0,V=O.length;B<V;)R=R>>>8^r[(R^O.charCodeAt(B++))&255];return~R}function T(O,D){for(var R=D^-1,B=O.length-15,V=0;V<B;)R=E[O[V++]^R&255]^k[O[V++]^R>>8&255]^S[O[V++]^R>>16&255]^j[O[V++]^R>>>24]^w[O[V++]]^b[O[V++]]^y[O[V++]]^p[O[V++]]^g[O[V++]]^h[O[V++]]^f[O[V++]]^d[O[V++]]^c[O[V++]]^l[O[V++]]^i[O[V++]]^r[O[V++]];for(B+=15;V<B;)R=R>>>8^r[(R^O[V++])&255];return~R}function A(O,D){for(var R=D^-1,B=0,V=O.length,W=0,se=0;B<V;)W=O.charCodeAt(B++),W<128?R=R>>>8^r[(R^W)&255]:W<2048?(R=R>>>8^r[(R^(192|W>>6&31))&255],R=R>>>8^r[(R^(128|W&63))&255]):W>=55296&&W<57344?(W=(W&1023)+64,se=O.charCodeAt(B++)&1023,R=R>>>8^r[(R^(240|W>>8&7))&255],R=R>>>8^r[(R^(128|W>>2&63))&255],R=R>>>8^r[(R^(128|se>>6&15|(W&3)<<4))&255],R=R>>>8^r[(R^(128|se&63))&255]):(R=R>>>8^r[(R^(224|W>>12&15))&255],R=R>>>8^r[(R^(128|W>>6&63))&255],R=R>>>8^r[(R^(128|W&63))&255]);return~R}return e.table=r,e.bstr=C,e.buf=T,e.str=A,e}(),dr=function(){var t={};t.version="1.2.1";function r(L,Z){for(var K=L.split("/"),X=Z.split("/"),J=0,ee=0,be=Math.min(K.length,X.length);J<be;++J){if(ee=K[J].length-X[J].length)return ee;if(K[J]!=X[J])return K[J]<X[J]?-1:1}return K.length-X.length}function n(L){if(L.charAt(L.length-1)=="/")return L.slice(0,-1).indexOf("/")===-1?L:n(L.slice(0,-1));var Z=L.lastIndexOf("/");return Z===-1?L:L.slice(0,Z+1)}function s(L){if(L.charAt(L.length-1)=="/")return s(L.slice(0,-1));var Z=L.lastIndexOf("/");return Z===-1?L:L.slice(Z+1)}function i(L,Z){typeof Z=="string"&&(Z=new Date(Z));var K=Z.getHours();K=K<<6|Z.getMinutes(),K=K<<5|Z.getSeconds()>>>1,L.write_shift(2,K);var X=Z.getFullYear()-1980;X=X<<4|Z.getMonth()+1,X=X<<5|Z.getDate(),L.write_shift(2,X)}function l(L){var Z=L.read_shift(2)&65535,K=L.read_shift(2)&65535,X=new Date,J=K&31;K>>>=5;var ee=K&15;K>>>=4,X.setMilliseconds(0),X.setFullYear(K+1980),X.setMonth(ee-1),X.setDate(J);var be=Z&31;Z>>>=5;var M=Z&63;return Z>>>=6,X.setHours(Z),X.setMinutes(M),X.setSeconds(be<<1),X}function c(L){ts(L,0);for(var Z={},K=0;L.l<=L.length-4;){var X=L.read_shift(2),J=L.read_shift(2),ee=L.l+J,be={};switch(X){case 21589:K=L.read_shift(1),K&1&&(be.mtime=L.read_shift(4)),J>5&&(K&2&&(be.atime=L.read_shift(4)),K&4&&(be.ctime=L.read_shift(4))),be.mtime&&(be.mt=new Date(be.mtime*1e3));break}L.l=ee,Z[X]=be}return Z}var d;function f(){return d||(d={})}function h(L,Z){if(L[0]==80&&L[1]==75)return Ce(L,Z);if((L[0]|32)==109&&(L[1]|32)==105)return vi(L,Z);if(L.length<512)throw new Error("CFB file size "+L.length+" < 512");var K=3,X=512,J=0,ee=0,be=0,M=0,ce=0,je=[],Se=L.slice(0,512);ts(Se,0);var Fe=g(Se);switch(K=Fe[0],K){case 3:X=512;break;case 4:X=4096;break;case 0:if(Fe[1]==0)return Ce(L,Z);default:throw new Error("Major Version: Expected 3 or 4 saw "+K)}X!==512&&(Se=L.slice(0,X),ts(Se,28));var Be=L.slice(0,X);p(Se,K);var Ye=Se.read_shift(4,"i");if(K===3&&Ye!==0)throw new Error("# Directory Sectors: Expected 0 saw "+Ye);Se.l+=4,be=Se.read_shift(4,"i"),Se.l+=4,Se.chk("00100000","Mini Stream Cutoff Size: "),M=Se.read_shift(4,"i"),J=Se.read_shift(4,"i"),ce=Se.read_shift(4,"i"),ee=Se.read_shift(4,"i");for(var Me=-1,qe=0;qe<109&&(Me=Se.read_shift(4,"i"),!(Me<0));++qe)je[qe]=Me;var tt=y(L,X);j(ce,ee,tt,X,je);var Ot=k(tt,be,je,X);Ot[be].name="!Directory",J>0&&M!==se&&(Ot[M].name="!MiniFAT"),Ot[je[0]].name="!FAT",Ot.fat_addrs=je,Ot.ssz=X;var Qt={},ir=[],za=[],Qs=[];E(be,Ot,tt,ir,J,Qt,za,M),b(za,Qs,ir),ir.shift();var Sa={FileIndex:za,FullPaths:Qs};return Z&&Z.raw&&(Sa.raw={header:Be,sectors:tt}),Sa}function g(L){if(L[L.l]==80&&L[L.l+1]==75)return[0,0];L.chk(oe,"Header Signature: "),L.l+=16;var Z=L.read_shift(2,"u");return[L.read_shift(2,"u"),Z]}function p(L,Z){var K=9;switch(L.l+=2,K=L.read_shift(2)){case 9:if(Z!=3)throw new Error("Sector Shift: Expected 9 saw "+K);break;case 12:if(Z!=4)throw new Error("Sector Shift: Expected 12 saw "+K);break;default:throw new Error("Sector Shift: Expected 9 or 12 saw "+K)}L.chk("0600","Mini Sector Shift: "),L.chk("000000000000","Reserved: ")}function y(L,Z){for(var K=Math.ceil(L.length/Z)-1,X=[],J=1;J<K;++J)X[J-1]=L.slice(J*Z,(J+1)*Z);return X[K-1]=L.slice(K*Z),X}function b(L,Z,K){for(var X=0,J=0,ee=0,be=0,M=0,ce=K.length,je=[],Se=[];X<ce;++X)je[X]=Se[X]=X,Z[X]=K[X];for(;M<Se.length;++M)X=Se[M],J=L[X].L,ee=L[X].R,be=L[X].C,je[X]===X&&(J!==-1&&je[J]!==J&&(je[X]=je[J]),ee!==-1&&je[ee]!==ee&&(je[X]=je[ee])),be!==-1&&(je[be]=X),J!==-1&&X!=je[X]&&(je[J]=je[X],Se.lastIndexOf(J)<M&&Se.push(J)),ee!==-1&&X!=je[X]&&(je[ee]=je[X],Se.lastIndexOf(ee)<M&&Se.push(ee));for(X=1;X<ce;++X)je[X]===X&&(ee!==-1&&je[ee]!==ee?je[X]=je[ee]:J!==-1&&je[J]!==J&&(je[X]=je[J]));for(X=1;X<ce;++X)if(L[X].type!==0){if(M=X,M!=je[M])do M=je[M],Z[X]=Z[M]+"/"+Z[X];while(M!==0&&je[M]!==-1&&M!=je[M]);je[X]=-1}for(Z[0]+="/",X=1;X<ce;++X)L[X].type!==2&&(Z[X]+="/")}function w(L,Z,K){for(var X=L.start,J=L.size,ee=[],be=X;K&&J>0&&be>=0;)ee.push(Z.slice(be*W,be*W+W)),J-=W,be=Oc(K,be*4);return ee.length===0?Ae(0):Hn(ee).slice(0,L.size)}function j(L,Z,K,X,J){var ee=se;if(L===se){if(Z!==0)throw new Error("DIFAT chain shorter than expected")}else if(L!==-1){var be=K[L],M=(X>>>2)-1;if(!be)return;for(var ce=0;ce<M&&(ee=Oc(be,ce*4))!==se;++ce)J.push(ee);j(Oc(be,X-4),Z-1,K,X,J)}}function S(L,Z,K,X,J){var ee=[],be=[];J||(J=[]);var M=X-1,ce=0,je=0;for(ce=Z;ce>=0;){J[ce]=!0,ee[ee.length]=ce,be.push(L[ce]);var Se=K[Math.floor(ce*4/X)];if(je=ce*4&M,X<4+je)throw new Error("FAT boundary crossed: "+ce+" 4 "+X);if(!L[Se])break;ce=Oc(L[Se],je)}return{nodes:ee,data:Z5([be])}}function k(L,Z,K,X){var J=L.length,ee=[],be=[],M=[],ce=[],je=X-1,Se=0,Fe=0,Be=0,Ye=0;for(Se=0;Se<J;++Se)if(M=[],Be=Se+Z,Be>=J&&(Be-=J),!be[Be]){ce=[];var Me=[];for(Fe=Be;Fe>=0;){Me[Fe]=!0,be[Fe]=!0,M[M.length]=Fe,ce.push(L[Fe]);var qe=K[Math.floor(Fe*4/X)];if(Ye=Fe*4&je,X<4+Ye)throw new Error("FAT boundary crossed: "+Fe+" 4 "+X);if(!L[qe]||(Fe=Oc(L[qe],Ye),Me[Fe]))break}ee[Be]={nodes:M,data:Z5([ce])}}return ee}function E(L,Z,K,X,J,ee,be,M){for(var ce=0,je=X.length?2:0,Se=Z[L].data,Fe=0,Be=0,Ye;Fe<Se.length;Fe+=128){var Me=Se.slice(Fe,Fe+128);ts(Me,64),Be=Me.read_shift(2),Ye=Rk(Me,0,Be-je),X.push(Ye);var qe={name:Ye,type:Me.read_shift(1),color:Me.read_shift(1),L:Me.read_shift(4,"i"),R:Me.read_shift(4,"i"),C:Me.read_shift(4,"i"),clsid:Me.read_shift(16),state:Me.read_shift(4,"i"),start:0,size:0},tt=Me.read_shift(2)+Me.read_shift(2)+Me.read_shift(2)+Me.read_shift(2);tt!==0&&(qe.ct=C(Me,Me.l-8));var Ot=Me.read_shift(2)+Me.read_shift(2)+Me.read_shift(2)+Me.read_shift(2);Ot!==0&&(qe.mt=C(Me,Me.l-8)),qe.start=Me.read_shift(4,"i"),qe.size=Me.read_shift(4,"i"),qe.size<0&&qe.start<0&&(qe.size=qe.type=0,qe.start=se,qe.name=""),qe.type===5?(ce=qe.start,J>0&&ce!==se&&(Z[ce].name="!StreamData")):qe.size>=4096?(qe.storage="fat",Z[qe.start]===void 0&&(Z[qe.start]=S(K,qe.start,Z.fat_addrs,Z.ssz)),Z[qe.start].name=qe.name,qe.content=Z[qe.start].data.slice(0,qe.size)):(qe.storage="minifat",qe.size<0?qe.size=0:ce!==se&&qe.start!==se&&Z[ce]&&(qe.content=w(qe,Z[ce].data,(Z[M]||{}).data))),qe.content&&ts(qe.content,0),ee[Ye]=qe,be.push(qe)}}function C(L,Z){return new Date((ss(L,Z+4)/1e7*Math.pow(2,32)+ss(L,Z)/1e7-11644473600)*1e3)}function T(L,Z){return f(),h(d.readFileSync(L),Z)}function A(L,Z){var K=Z&&Z.type;switch(K||Vt&&Buffer.isBuffer(L)&&(K="buffer"),K||"base64"){case"file":return T(L,Z);case"base64":return h(oi(Tl(L)),Z);case"binary":return h(oi(L),Z)}return h(L,Z)}function O(L,Z){var K=Z||{},X=K.root||"Root Entry";if(L.FullPaths||(L.FullPaths=[]),L.FileIndex||(L.FileIndex=[]),L.FullPaths.length!==L.FileIndex.length)throw new Error("inconsistent CFB structure");L.FullPaths.length===0&&(L.FullPaths[0]=X+"/",L.FileIndex[0]={name:X,type:5}),K.CLSID&&(L.FileIndex[0].clsid=K.CLSID),D(L)}function D(L){var Z="Sh33tJ5";if(!dr.find(L,"/"+Z)){var K=Ae(4);K[0]=55,K[1]=K[3]=50,K[2]=54,L.FileIndex.push({name:Z,type:2,content:K,size:4,L:69,R:69,C:69}),L.FullPaths.push(L.FullPaths[0]+Z),R(L)}}function R(L,Z){O(L);for(var K=!1,X=!1,J=L.FullPaths.length-1;J>=0;--J){var ee=L.FileIndex[J];switch(ee.type){case 0:X?K=!0:(L.FileIndex.pop(),L.FullPaths.pop());break;case 1:case 2:case 5:X=!0,isNaN(ee.R*ee.L*ee.C)&&(K=!0),ee.R>-1&&ee.L>-1&&ee.R==ee.L&&(K=!0);break;default:K=!0;break}}if(!(!K&&!Z)){var be=new Date(1987,1,19),M=0,ce=Object.create?Object.create(null):{},je=[];for(J=0;J<L.FullPaths.length;++J)ce[L.FullPaths[J]]=!0,L.FileIndex[J].type!==0&&je.push([L.FullPaths[J],L.FileIndex[J]]);for(J=0;J<je.length;++J){var Se=n(je[J][0]);X=ce[Se],X||(je.push([Se,{name:s(Se).replace("/",""),type:1,clsid:Q,ct:be,mt:be,content:null}]),ce[Se]=!0)}for(je.sort(function(Ye,Me){return r(Ye[0],Me[0])}),L.FullPaths=[],L.FileIndex=[],J=0;J<je.length;++J)L.FullPaths[J]=je[J][0],L.FileIndex[J]=je[J][1];for(J=0;J<je.length;++J){var Fe=L.FileIndex[J],Be=L.FullPaths[J];if(Fe.name=s(Be).replace("/",""),Fe.L=Fe.R=Fe.C=-(Fe.color=1),Fe.size=Fe.content?Fe.content.length:0,Fe.start=0,Fe.clsid=Fe.clsid||Q,J===0)Fe.C=je.length>1?1:-1,Fe.size=0,Fe.type=5;else if(Be.slice(-1)=="/"){for(M=J+1;M<je.length&&n(L.FullPaths[M])!=Be;++M);for(Fe.C=M>=je.length?-1:M,M=J+1;M<je.length&&n(L.FullPaths[M])!=n(Be);++M);Fe.R=M>=je.length?-1:M,Fe.type=1}else n(L.FullPaths[J+1]||"")==n(Be)&&(Fe.R=J+1),Fe.type=2}}}function B(L,Z){var K=Z||{};if(K.fileType=="mad")return ja(L,K);switch(R(L),K.fileType){case"zip":return ot(L,K)}var X=function(Ye){for(var Me=0,qe=0,tt=0;tt<Ye.FileIndex.length;++tt){var Ot=Ye.FileIndex[tt];if(Ot.content){var Qt=Ot.content.length;Qt>0&&(Qt<4096?Me+=Qt+63>>6:qe+=Qt+511>>9)}}for(var ir=Ye.FullPaths.length+3>>2,za=Me+7>>3,Qs=Me+127>>7,Sa=za+qe+ir+Qs,_a=Sa+127>>7,bi=_a<=109?0:Math.ceil((_a-109)/127);Sa+_a+bi+127>>7>_a;)bi=++_a<=109?0:Math.ceil((_a-109)/127);var ka=[1,bi,_a,Qs,ir,qe,Me,0];return Ye.FileIndex[0].size=Me<<6,ka[7]=(Ye.FileIndex[0].start=ka[0]+ka[1]+ka[2]+ka[3]+ka[4]+ka[5])+(ka[6]+7>>3),ka}(L),J=Ae(X[7]<<9),ee=0,be=0;{for(ee=0;ee<8;++ee)J.write_shift(1,Y[ee]);for(ee=0;ee<8;++ee)J.write_shift(2,0);for(J.write_shift(2,62),J.write_shift(2,3),J.write_shift(2,65534),J.write_shift(2,9),J.write_shift(2,6),ee=0;ee<3;++ee)J.write_shift(2,0);for(J.write_shift(4,0),J.write_shift(4,X[2]),J.write_shift(4,X[0]+X[1]+X[2]+X[3]-1),J.write_shift(4,0),J.write_shift(4,4096),J.write_shift(4,X[3]?X[0]+X[1]+X[2]-1:se),J.write_shift(4,X[3]),J.write_shift(-4,X[1]?X[0]-1:se),J.write_shift(4,X[1]),ee=0;ee<109;++ee)J.write_shift(-4,ee<X[2]?X[1]+ee:-1)}if(X[1])for(be=0;be<X[1];++be){for(;ee<236+be*127;++ee)J.write_shift(-4,ee<X[2]?X[1]+ee:-1);J.write_shift(-4,be===X[1]-1?se:be+1)}var M=function(Ye){for(be+=Ye;ee<be-1;++ee)J.write_shift(-4,ee+1);Ye&&(++ee,J.write_shift(-4,se))};for(be=ee=0,be+=X[1];ee<be;++ee)J.write_shift(-4,te.DIFSECT);for(be+=X[2];ee<be;++ee)J.write_shift(-4,te.FATSECT);M(X[3]),M(X[4]);for(var ce=0,je=0,Se=L.FileIndex[0];ce<L.FileIndex.length;++ce)Se=L.FileIndex[ce],Se.content&&(je=Se.content.length,!(je<4096)&&(Se.start=be,M(je+511>>9)));for(M(X[6]+7>>3);J.l&511;)J.write_shift(-4,te.ENDOFCHAIN);for(be=ee=0,ce=0;ce<L.FileIndex.length;++ce)Se=L.FileIndex[ce],Se.content&&(je=Se.content.length,!(!je||je>=4096)&&(Se.start=be,M(je+63>>6)));for(;J.l&511;)J.write_shift(-4,te.ENDOFCHAIN);for(ee=0;ee<X[4]<<2;++ee){var Fe=L.FullPaths[ee];if(!Fe||Fe.length===0){for(ce=0;ce<17;++ce)J.write_shift(4,0);for(ce=0;ce<3;++ce)J.write_shift(4,-1);for(ce=0;ce<12;++ce)J.write_shift(4,0);continue}Se=L.FileIndex[ee],ee===0&&(Se.start=Se.size?Se.start-1:se);var Be=ee===0&&K.root||Se.name;if(je=2*(Be.length+1),J.write_shift(64,Be,"utf16le"),J.write_shift(2,je),J.write_shift(1,Se.type),J.write_shift(1,Se.color),J.write_shift(-4,Se.L),J.write_shift(-4,Se.R),J.write_shift(-4,Se.C),Se.clsid)J.write_shift(16,Se.clsid,"hex");else for(ce=0;ce<4;++ce)J.write_shift(4,0);J.write_shift(4,Se.state||0),J.write_shift(4,0),J.write_shift(4,0),J.write_shift(4,0),J.write_shift(4,0),J.write_shift(4,Se.start),J.write_shift(4,Se.size),J.write_shift(4,0)}for(ee=1;ee<L.FileIndex.length;++ee)if(Se=L.FileIndex[ee],Se.size>=4096)if(J.l=Se.start+1<<9,Vt&&Buffer.isBuffer(Se.content))Se.content.copy(J,J.l,0,Se.size),J.l+=Se.size+511&-512;else{for(ce=0;ce<Se.size;++ce)J.write_shift(1,Se.content[ce]);for(;ce&511;++ce)J.write_shift(1,0)}for(ee=1;ee<L.FileIndex.length;++ee)if(Se=L.FileIndex[ee],Se.size>0&&Se.size<4096)if(Vt&&Buffer.isBuffer(Se.content))Se.content.copy(J,J.l,0,Se.size),J.l+=Se.size+63&-64;else{for(ce=0;ce<Se.size;++ce)J.write_shift(1,Se.content[ce]);for(;ce&63;++ce)J.write_shift(1,0)}if(Vt)J.l=J.length;else for(;J.l<J.length;)J.write_shift(1,0);return J}function V(L,Z){var K=L.FullPaths.map(function(ce){return ce.toUpperCase()}),X=K.map(function(ce){var je=ce.split("/");return je[je.length-(ce.slice(-1)=="/"?2:1)]}),J=!1;Z.charCodeAt(0)===47?(J=!0,Z=K[0].slice(0,-1)+Z):J=Z.indexOf("/")!==-1;var ee=Z.toUpperCase(),be=J===!0?K.indexOf(ee):X.indexOf(ee);if(be!==-1)return L.FileIndex[be];var M=!ee.match(rp);for(ee=ee.replace(Z0,""),M&&(ee=ee.replace(rp,"!")),be=0;be<K.length;++be)if((M?K[be].replace(rp,"!"):K[be]).replace(Z0,"")==ee||(M?X[be].replace(rp,"!"):X[be]).replace(Z0,"")==ee)return L.FileIndex[be];return null}var W=64,se=-2,oe="d0cf11e0a1b11ae1",Y=[208,207,17,224,161,177,26,225],Q="00000000000000000000000000000000",te={MAXREGSECT:-6,DIFSECT:-4,FATSECT:-3,ENDOFCHAIN:se,FREESECT:-1,HEADER_SIGNATURE:oe,HEADER_MINOR_VERSION:"3e00",MAXREGSID:-6,NOSTREAM:-1,HEADER_CLSID:Q,EntryTypes:["unknown","storage","stream","lockbytes","property","root"]};function ue(L,Z,K){f();var X=B(L,K);d.writeFileSync(Z,X)}function ve(L){for(var Z=new Array(L.length),K=0;K<L.length;++K)Z[K]=String.fromCharCode(L[K]);return Z.join("")}function U(L,Z){var K=B(L,Z);switch(Z&&Z.type||"buffer"){case"file":return f(),d.writeFileSync(Z.filename,K),K;case"binary":return typeof K=="string"?K:ve(K);case"base64":return Ih(typeof K=="string"?K:ve(K));case"buffer":if(Vt)return Buffer.isBuffer(K)?K:Il(K);case"array":return typeof K=="string"?oi(K):K}return K}var ie;function F(L){try{var Z=L.InflateRaw,K=new Z;if(K._processChunk(new Uint8Array([3,0]),K._finishFlushFlag),K.bytesRead)ie=L;else throw new Error("zlib does not expose bytesRead")}catch(X){console.error("cannot use native zlib: "+(X.message||X))}}function G(L,Z){if(!ie)return Pt(L,Z);var K=ie.InflateRaw,X=new K,J=X._processChunk(L.slice(L.l),X._finishFlushFlag);return L.l+=X.bytesRead,J}function z(L){return ie?ie.deflateRawSync(L):Yn(L)}var q=[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15],de=[3,4,5,6,7,8,9,10,11,13,15,17,19,23,27,31,35,43,51,59,67,83,99,115,131,163,195,227,258],De=[1,2,3,4,5,7,9,13,17,25,33,49,65,97,129,193,257,385,513,769,1025,1537,2049,3073,4097,6145,8193,12289,16385,24577];function ne(L){var Z=(L<<1|L<<11)&139536|(L<<5|L<<15)&558144;return(Z>>16|Z>>8|Z)&255}for(var le=typeof Uint8Array<"u",he=le?new Uint8Array(256):[],Le=0;Le<256;++Le)he[Le]=ne(Le);function pe(L,Z){var K=he[L&255];return Z<=8?K>>>8-Z:(K=K<<8|he[L>>8&255],Z<=16?K>>>16-Z:(K=K<<8|he[L>>16&255],K>>>24-Z))}function xe(L,Z){var K=Z&7,X=Z>>>3;return(L[X]|(K<=6?0:L[X+1]<<8))>>>K&3}function $e(L,Z){var K=Z&7,X=Z>>>3;return(L[X]|(K<=5?0:L[X+1]<<8))>>>K&7}function pt(L,Z){var K=Z&7,X=Z>>>3;return(L[X]|(K<=4?0:L[X+1]<<8))>>>K&15}function Xe(L,Z){var K=Z&7,X=Z>>>3;return(L[X]|(K<=3?0:L[X+1]<<8))>>>K&31}function Ue(L,Z){var K=Z&7,X=Z>>>3;return(L[X]|(K<=1?0:L[X+1]<<8))>>>K&127}function At(L,Z,K){var X=Z&7,J=Z>>>3,ee=(1<<K)-1,be=L[J]>>>X;return K<8-X||(be|=L[J+1]<<8-X,K<16-X)||(be|=L[J+2]<<16-X,K<24-X)||(be|=L[J+3]<<24-X),be&ee}function Xt(L,Z,K){var X=Z&7,J=Z>>>3;return X<=5?L[J]|=(K&7)<<X:(L[J]|=K<<X&255,L[J+1]=(K&7)>>8-X),Z+3}function bt(L,Z,K){var X=Z&7,J=Z>>>3;return K=(K&1)<<X,L[J]|=K,Z+1}function Wt(L,Z,K){var X=Z&7,J=Z>>>3;return K<<=X,L[J]|=K&255,K>>>=8,L[J+1]=K,Z+8}function Rr(L,Z,K){var X=Z&7,J=Z>>>3;return K<<=X,L[J]|=K&255,K>>>=8,L[J+1]=K&255,L[J+2]=K>>>8,Z+16}function Gr(L,Z){var K=L.length,X=2*K>Z?2*K:Z+5,J=0;if(K>=Z)return L;if(Vt){var ee=F5(X);if(L.copy)L.copy(ee);else for(;J<L.length;++J)ee[J]=L[J];return ee}else if(le){var be=new Uint8Array(X);if(be.set)be.set(L);else for(;J<K;++J)be[J]=L[J];return be}return L.length=X,L}function yr(L){for(var Z=new Array(L),K=0;K<L;++K)Z[K]=0;return Z}function Dn(L,Z,K){var X=1,J=0,ee=0,be=0,M=0,ce=L.length,je=le?new Uint16Array(32):yr(32);for(ee=0;ee<32;++ee)je[ee]=0;for(ee=ce;ee<K;++ee)L[ee]=0;ce=L.length;var Se=le?new Uint16Array(ce):yr(ce);for(ee=0;ee<ce;++ee)je[J=L[ee]]++,X<J&&(X=J),Se[ee]=0;for(je[0]=0,ee=1;ee<=X;++ee)je[ee+16]=M=M+je[ee-1]<<1;for(ee=0;ee<ce;++ee)M=L[ee],M!=0&&(Se[ee]=je[M+16]++);var Fe=0;for(ee=0;ee<ce;++ee)if(Fe=L[ee],Fe!=0)for(M=pe(Se[ee],X)>>X-Fe,be=(1<<X+4-Fe)-1;be>=0;--be)Z[M|be<<Fe]=Fe&15|ee<<4;return X}var Pn=le?new Uint16Array(512):yr(512),vt=le?new Uint16Array(32):yr(32);if(!le){for(var fr=0;fr<512;++fr)Pn[fr]=0;for(fr=0;fr<32;++fr)vt[fr]=0}(function(){for(var L=[],Z=0;Z<32;Z++)L.push(5);Dn(L,vt,32);var K=[];for(Z=0;Z<=143;Z++)K.push(8);for(;Z<=255;Z++)K.push(9);for(;Z<=279;Z++)K.push(7);for(;Z<=287;Z++)K.push(8);Dn(K,Pn,288)})();var dt=function(){for(var Z=le?new Uint8Array(32768):[],K=0,X=0;K<De.length-1;++K)for(;X<De[K+1];++X)Z[X]=K;for(;X<32768;++X)Z[X]=29;var J=le?new Uint8Array(259):[];for(K=0,X=0;K<de.length-1;++K)for(;X<de[K+1];++X)J[X]=K;function ee(M,ce){for(var je=0;je<M.length;){var Se=Math.min(65535,M.length-je),Fe=je+Se==M.length;for(ce.write_shift(1,+Fe),ce.write_shift(2,Se),ce.write_shift(2,~Se&65535);Se-- >0;)ce[ce.l++]=M[je++]}return ce.l}function be(M,ce){for(var je=0,Se=0,Fe=le?new Uint16Array(32768):[];Se<M.length;){var Be=Math.min(65535,M.length-Se);if(Be<10){for(je=Xt(ce,je,+(Se+Be==M.length)),je&7&&(je+=8-(je&7)),ce.l=je/8|0,ce.write_shift(2,Be),ce.write_shift(2,~Be&65535);Be-- >0;)ce[ce.l++]=M[Se++];je=ce.l*8;continue}je=Xt(ce,je,+(Se+Be==M.length)+2);for(var Ye=0;Be-- >0;){var Me=M[Se];Ye=(Ye<<5^Me)&32767;var qe=-1,tt=0;if((qe=Fe[Ye])&&(qe|=Se&-32768,qe>Se&&(qe-=32768),qe<Se))for(;M[qe+tt]==M[Se+tt]&&tt<250;)++tt;if(tt>2){Me=J[tt],Me<=22?je=Wt(ce,je,he[Me+1]>>1)-1:(Wt(ce,je,3),je+=5,Wt(ce,je,he[Me-23]>>5),je+=3);var Ot=Me<8?0:Me-4>>2;Ot>0&&(Rr(ce,je,tt-de[Me]),je+=Ot),Me=Z[Se-qe],je=Wt(ce,je,he[Me]>>3),je-=3;var Qt=Me<4?0:Me-2>>1;Qt>0&&(Rr(ce,je,Se-qe-De[Me]),je+=Qt);for(var ir=0;ir<tt;++ir)Fe[Ye]=Se&32767,Ye=(Ye<<5^M[Se])&32767,++Se;Be-=tt-1}else Me<=143?Me=Me+48:je=bt(ce,je,1),je=Wt(ce,je,he[Me]),Fe[Ye]=Se&32767,++Se}je=Wt(ce,je,0)-1}return ce.l=(je+7)/8|0,ce.l}return function(ce,je){return ce.length<8?ee(ce,je):be(ce,je)}}();function Yn(L){var Z=Ae(50+Math.floor(L.length*1.1)),K=dt(L,Z);return Z.slice(0,K)}var wa=le?new Uint16Array(32768):yr(32768),gt=le?new Uint16Array(32768):yr(32768),Tr=le?new Uint16Array(128):yr(128),xt=1,_t=1;function ge(L,Z){var K=Xe(L,Z)+257;Z+=5;var X=Xe(L,Z)+1;Z+=5;var J=pt(L,Z)+4;Z+=4;for(var ee=0,be=le?new Uint8Array(19):yr(19),M=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],ce=1,je=le?new Uint8Array(8):yr(8),Se=le?new Uint8Array(8):yr(8),Fe=be.length,Be=0;Be<J;++Be)be[q[Be]]=ee=$e(L,Z),ce<ee&&(ce=ee),je[ee]++,Z+=3;var Ye=0;for(je[0]=0,Be=1;Be<=ce;++Be)Se[Be]=Ye=Ye+je[Be-1]<<1;for(Be=0;Be<Fe;++Be)(Ye=be[Be])!=0&&(M[Be]=Se[Ye]++);var Me=0;for(Be=0;Be<Fe;++Be)if(Me=be[Be],Me!=0){Ye=he[M[Be]]>>8-Me;for(var qe=(1<<7-Me)-1;qe>=0;--qe)Tr[Ye|qe<<Me]=Me&7|Be<<3}var tt=[];for(ce=1;tt.length<K+X;)switch(Ye=Tr[Ue(L,Z)],Z+=Ye&7,Ye>>>=3){case 16:for(ee=3+xe(L,Z),Z+=2,Ye=tt[tt.length-1];ee-- >0;)tt.push(Ye);break;case 17:for(ee=3+$e(L,Z),Z+=3;ee-- >0;)tt.push(0);break;case 18:for(ee=11+Ue(L,Z),Z+=7;ee-- >0;)tt.push(0);break;default:tt.push(Ye),ce<Ye&&(ce=Ye);break}var Ot=tt.slice(0,K),Qt=tt.slice(K);for(Be=K;Be<286;++Be)Ot[Be]=0;for(Be=X;Be<30;++Be)Qt[Be]=0;return xt=Dn(Ot,wa,286),_t=Dn(Qt,gt,30),Z}function st(L,Z){if(L[0]==3&&!(L[1]&3))return[iu(Z),2];for(var K=0,X=0,J=F5(Z||1<<18),ee=0,be=J.length>>>0,M=0,ce=0;(X&1)==0;){if(X=$e(L,K),K+=3,X>>>1)X>>1==1?(M=9,ce=5):(K=ge(L,K),M=xt,ce=_t);else{K&7&&(K+=8-(K&7));var je=L[K>>>3]|L[(K>>>3)+1]<<8;if(K+=32,je>0)for(!Z&&be<ee+je&&(J=Gr(J,ee+je),be=J.length);je-- >0;)J[ee++]=L[K>>>3],K+=8;continue}for(;;){!Z&&be<ee+32767&&(J=Gr(J,ee+32767),be=J.length);var Se=At(L,K,M),Fe=X>>>1==1?Pn[Se]:wa[Se];if(K+=Fe&15,Fe>>>=4,(Fe>>>8&255)===0)J[ee++]=Fe;else{if(Fe==256)break;Fe-=257;var Be=Fe<8?0:Fe-4>>2;Be>5&&(Be=0);var Ye=ee+de[Fe];Be>0&&(Ye+=At(L,K,Be),K+=Be),Se=At(L,K,ce),Fe=X>>>1==1?vt[Se]:gt[Se],K+=Fe&15,Fe>>>=4;var Me=Fe<4?0:Fe-2>>1,qe=De[Fe];for(Me>0&&(qe+=At(L,K,Me),K+=Me),!Z&&be<Ye&&(J=Gr(J,Ye+100),be=J.length);ee<Ye;)J[ee]=J[ee-qe],++ee}}}return Z?[J,K+7>>>3]:[J.slice(0,ee),K+7>>>3]}function Pt(L,Z){var K=L.slice(L.l||0),X=st(K,Z);return L.l+=X[1],X[0]}function re(L,Z){if(L)typeof console<"u"&&console.error(Z);else throw new Error(Z)}function Ce(L,Z){var K=L;ts(K,0);var X=[],J=[],ee={FileIndex:X,FullPaths:J};O(ee,{root:Z.root});for(var be=K.length-4;(K[be]!=80||K[be+1]!=75||K[be+2]!=5||K[be+3]!=6)&&be>=0;)--be;K.l=be+4,K.l+=4;var M=K.read_shift(2);K.l+=6;var ce=K.read_shift(4);for(K.l=ce,be=0;be<M;++be){K.l+=20;var je=K.read_shift(4),Se=K.read_shift(4),Fe=K.read_shift(2),Be=K.read_shift(2),Ye=K.read_shift(2);K.l+=8;var Me=K.read_shift(4),qe=c(K.slice(K.l+Fe,K.l+Fe+Be));K.l+=Fe+Be+Ye;var tt=K.l;K.l=Me+4,Te(K,je,Se,ee,qe),K.l=tt}return ee}function Te(L,Z,K,X,J){L.l+=2;var ee=L.read_shift(2),be=L.read_shift(2),M=l(L);if(ee&8257)throw new Error("Unsupported ZIP encryption");for(var ce=L.read_shift(4),je=L.read_shift(4),Se=L.read_shift(4),Fe=L.read_shift(2),Be=L.read_shift(2),Ye="",Me=0;Me<Fe;++Me)Ye+=String.fromCharCode(L[L.l++]);if(Be){var qe=c(L.slice(L.l,L.l+Be));(qe[21589]||{}).mt&&(M=qe[21589].mt),((J||{})[21589]||{}).mt&&(M=J[21589].mt)}L.l+=Be;var tt=L.slice(L.l,L.l+je);switch(be){case 8:tt=G(L,Se);break;case 0:break;default:throw new Error("Unsupported ZIP Compression method "+be)}var Ot=!1;ee&8&&(ce=L.read_shift(4),ce==134695760&&(ce=L.read_shift(4),Ot=!0),je=L.read_shift(4),Se=L.read_shift(4)),je!=Z&&re(Ot,"Bad compressed size: "+Z+" != "+je),Se!=K&&re(Ot,"Bad uncompressed size: "+K+" != "+Se),Gt(X,Ye,tt,{unsafe:!0,mt:M})}function ot(L,Z){var K=Z||{},X=[],J=[],ee=Ae(1),be=K.compression?8:0,M=0,ce=0,je=0,Se=0,Fe=0,Be=L.FullPaths[0],Ye=Be,Me=L.FileIndex[0],qe=[],tt=0;for(ce=1;ce<L.FullPaths.length;++ce)if(Ye=L.FullPaths[ce].slice(Be.length),Me=L.FileIndex[ce],!(!Me.size||!Me.content||Ye=="Sh33tJ5")){var Ot=Se,Qt=Ae(Ye.length);for(je=0;je<Ye.length;++je)Qt.write_shift(1,Ye.charCodeAt(je)&127);Qt=Qt.slice(0,Qt.l),qe[Fe]=Ipe.buf(Me.content,0);var ir=Me.content;be==8&&(ir=z(ir)),ee=Ae(30),ee.write_shift(4,67324752),ee.write_shift(2,20),ee.write_shift(2,M),ee.write_shift(2,be),Me.mt?i(ee,Me.mt):ee.write_shift(4,0),ee.write_shift(-4,qe[Fe]),ee.write_shift(4,ir.length),ee.write_shift(4,Me.content.length),ee.write_shift(2,Qt.length),ee.write_shift(2,0),Se+=ee.length,X.push(ee),Se+=Qt.length,X.push(Qt),Se+=ir.length,X.push(ir),ee=Ae(46),ee.write_shift(4,33639248),ee.write_shift(2,0),ee.write_shift(2,20),ee.write_shift(2,M),ee.write_shift(2,be),ee.write_shift(4,0),ee.write_shift(-4,qe[Fe]),ee.write_shift(4,ir.length),ee.write_shift(4,Me.content.length),ee.write_shift(2,Qt.length),ee.write_shift(2,0),ee.write_shift(2,0),ee.write_shift(2,0),ee.write_shift(2,0),ee.write_shift(4,0),ee.write_shift(4,Ot),tt+=ee.l,J.push(ee),tt+=Qt.length,J.push(Qt),++Fe}return ee=Ae(22),ee.write_shift(4,101010256),ee.write_shift(2,0),ee.write_shift(2,0),ee.write_shift(2,Fe),ee.write_shift(2,Fe),ee.write_shift(4,tt),ee.write_shift(4,Se),ee.write_shift(2,0),Hn([Hn(X),Hn(J),ee])}var ft={htm:"text/html",xml:"text/xml",gif:"image/gif",jpg:"image/jpeg",png:"image/png",mso:"application/x-mso",thmx:"application/vnd.ms-officetheme",sh33tj5:"application/octet-stream"};function Kr(L,Z){if(L.ctype)return L.ctype;var K=L.name||"",X=K.match(/\.([^\.]+)$/);return X&&ft[X[1]]||Z&&(X=(K=Z).match(/[\.\\]([^\.\\])+$/),X&&ft[X[1]])?ft[X[1]]:"application/octet-stream"}function Ct(L){for(var Z=Ih(L),K=[],X=0;X<Z.length;X+=76)K.push(Z.slice(X,X+76));return K.join(`\r
`)+`\r
`}function la(L){var Z=L.replace(/[\x00-\x08\x0B\x0C\x0E-\x1F\x7E-\xFF=]/g,function(je){var Se=je.charCodeAt(0).toString(16).toUpperCase();return"="+(Se.length==1?"0"+Se:Se)});Z=Z.replace(/ $/mg,"=20").replace(/\t$/mg,"=09"),Z.charAt(0)==`
`&&(Z="=0D"+Z.slice(1)),Z=Z.replace(/\r(?!\n)/mg,"=0D").replace(/\n\n/mg,`
=0A`).replace(/([^\r\n])\n/mg,"$1=0A");for(var K=[],X=Z.split(`\r
`),J=0;J<X.length;++J){var ee=X[J];if(ee.length==0){K.push("");continue}for(var be=0;be<ee.length;){var M=76,ce=ee.slice(be,be+M);ce.charAt(M-1)=="="?M--:ce.charAt(M-2)=="="?M-=2:ce.charAt(M-3)=="="&&(M-=3),ce=ee.slice(be,be+M),be+=M,be<ee.length&&(ce+="="),K.push(ce)}}return K.join(`\r
`)}function Xn(L){for(var Z=[],K=0;K<L.length;++K){for(var X=L[K];K<=L.length&&X.charAt(X.length-1)=="=";)X=X.slice(0,X.length-1)+L[++K];Z.push(X)}for(var J=0;J<Z.length;++J)Z[J]=Z[J].replace(/[=][0-9A-Fa-f]{2}/g,function(ee){return String.fromCharCode(parseInt(ee.slice(1),16))});return oi(Z.join(`\r
`))}function Ll(L,Z,K){for(var X="",J="",ee="",be,M=0;M<10;++M){var ce=Z[M];if(!ce||ce.match(/^\s*$/))break;var je=ce.match(/^(.*?):\s*([^\s].*)$/);if(je)switch(je[1].toLowerCase()){case"content-location":X=je[2].trim();break;case"content-type":ee=je[2].trim();break;case"content-transfer-encoding":J=je[2].trim();break}}switch(++M,J.toLowerCase()){case"base64":be=oi(Tl(Z.slice(M).join("")));break;case"quoted-printable":be=Xn(Z.slice(M));break;default:throw new Error("Unsupported Content-Transfer-Encoding "+J)}var Se=Gt(L,X.slice(K.length),be,{unsafe:!0});ee&&(Se.ctype=ee)}function vi(L,Z){if(ve(L.slice(0,13)).toLowerCase()!="mime-version:")throw new Error("Unsupported MAD header");var K=Z&&Z.root||"",X=(Vt&&Buffer.isBuffer(L)?L.toString("binary"):ve(L)).split(`\r
`),J=0,ee="";for(J=0;J<X.length;++J)if(ee=X[J],!!/^Content-Location:/i.test(ee)&&(ee=ee.slice(ee.indexOf("file")),K||(K=ee.slice(0,ee.lastIndexOf("/")+1)),ee.slice(0,K.length)!=K))for(;K.length>0&&(K=K.slice(0,K.length-1),K=K.slice(0,K.lastIndexOf("/")+1),ee.slice(0,K.length)!=K););var be=(X[1]||"").match(/boundary="(.*?)"/);if(!be)throw new Error("MAD cannot find boundary");var M="--"+(be[1]||""),ce=[],je=[],Se={FileIndex:ce,FullPaths:je};O(Se);var Fe,Be=0;for(J=0;J<X.length;++J){var Ye=X[J];Ye!==M&&Ye!==M+"--"||(Be++&&Ll(Se,X.slice(Fe,J),K),Fe=J)}return Se}function ja(L,Z){var K=Z||{},X=K.boundary||"SheetJS";X="------="+X;for(var J=["MIME-Version: 1.0",'Content-Type: multipart/related; boundary="'+X.slice(2)+'"',"","",""],ee=L.FullPaths[0],be=ee,M=L.FileIndex[0],ce=1;ce<L.FullPaths.length;++ce)if(be=L.FullPaths[ce].slice(ee.length),M=L.FileIndex[ce],!(!M.size||!M.content||be=="Sh33tJ5")){be=be.replace(/[\x00-\x08\x0B\x0C\x0E-\x1F\x7E-\xFF]/g,function(tt){return"_x"+tt.charCodeAt(0).toString(16)+"_"}).replace(/[\u0080-\uFFFF]/g,function(tt){return"_u"+tt.charCodeAt(0).toString(16)+"_"});for(var je=M.content,Se=Vt&&Buffer.isBuffer(je)?je.toString("binary"):ve(je),Fe=0,Be=Math.min(1024,Se.length),Ye=0,Me=0;Me<=Be;++Me)(Ye=Se.charCodeAt(Me))>=32&&Ye<128&&++Fe;var qe=Fe>=Be*4/5;J.push(X),J.push("Content-Location: "+(K.root||"file:///C:/SheetJS/")+be),J.push("Content-Transfer-Encoding: "+(qe?"quoted-printable":"base64")),J.push("Content-Type: "+Kr(M,be)),J.push(""),J.push(qe?la(Se):Ct(Se))}return J.push(X+`--\r
`),J.join(`\r
`)}function hr(L){var Z={};return O(Z,L),Z}function Gt(L,Z,K,X){var J=X&&X.unsafe;J||O(L);var ee=!J&&dr.find(L,Z);if(!ee){var be=L.FullPaths[0];Z.slice(0,be.length)==be?be=Z:(be.slice(-1)!="/"&&(be+="/"),be=(be+Z).replace("//","/")),ee={name:s(Z),type:2},L.FileIndex.push(ee),L.FullPaths.push(be),J||dr.utils.cfb_gc(L)}return ee.content=K,ee.size=K?K.length:0,X&&(X.CLSID&&(ee.clsid=X.CLSID),X.mt&&(ee.mt=X.mt),X.ct&&(ee.ct=X.ct)),ee}function Na(L,Z){O(L);var K=dr.find(L,Z);if(K){for(var X=0;X<L.FileIndex.length;++X)if(L.FileIndex[X]==K)return L.FileIndex.splice(X,1),L.FullPaths.splice(X,1),!0}return!1}function yt(L,Z,K){O(L);var X=dr.find(L,Z);if(X){for(var J=0;J<L.FileIndex.length;++J)if(L.FileIndex[J]==X)return L.FileIndex[J].name=s(K),L.FullPaths[J]=K,!0}return!1}function vr(L){R(L,!0)}return t.find=V,t.read=A,t.parse=h,t.write=U,t.writeFile=ue,t.utils={cfb_new:hr,cfb_add:Gt,cfb_del:Na,cfb_mov:yt,cfb_gc:vr,ReadShift:eh,CheckField:dB,prep_blob:ts,bconcat:Hn,use_zlib:F,_deflateRaw:Yn,_inflateRaw:Pt,consts:te},t}();function Fpe(e){return typeof e=="string"?Py(e):Array.isArray(e)?cpe(e):e}function vm(e,t,r){if(typeof Deno<"u"){if(r&&typeof t=="string")switch(r){case"utf8":t=new TextEncoder(r).encode(t);break;case"binary":t=Py(t);break;default:throw new Error("Unsupported encoding "+r)}return Deno.writeFileSync(e,t)}var n=r=="utf8"?Lh(t):t;if(typeof IE_SaveFile<"u")return IE_SaveFile(n,e);if(typeof Blob<"u"){var s=new Blob([Fpe(n)],{type:"application/octet-stream"});if(typeof navigator<"u"&&navigator.msSaveBlob)return navigator.msSaveBlob(s,e);if(typeof saveAs<"u")return saveAs(s,e);if(typeof URL<"u"&&typeof document<"u"&&document.createElement&&URL.createObjectURL){var i=URL.createObjectURL(s);if(typeof chrome=="object"&&typeof(chrome.downloads||{}).download=="function")return URL.revokeObjectURL&&typeof setTimeout<"u"&&setTimeout(function(){URL.revokeObjectURL(i)},6e4),chrome.downloads.download({url:i,filename:e,saveAs:!0});var l=document.createElement("a");if(l.download!=null)return l.download=e,l.href=i,document.body.appendChild(l),l.click(),document.body.removeChild(l),URL.revokeObjectURL&&typeof setTimeout<"u"&&setTimeout(function(){URL.revokeObjectURL(i)},6e4),i}}if(typeof $<"u"&&typeof File<"u"&&typeof Folder<"u")try{var c=File(e);return c.open("w"),c.encoding="binary",Array.isArray(t)&&(t=ym(t)),c.write(t),c.close(),t}catch(d){if(!d.message||!d.message.match(/onstruct/))throw d}throw new Error("cannot save file "+e)}function Gn(e){for(var t=Object.keys(e),r=[],n=0;n<t.length;++n)Object.prototype.hasOwnProperty.call(e,t[n])&&r.push(t[n]);return r}function q5(e,t){for(var r=[],n=Gn(e),s=0;s!==n.length;++s)r[e[n[s]][t]]==null&&(r[e[n[s]][t]]=n[s]);return r}function Ok(e){for(var t=[],r=Gn(e),n=0;n!==r.length;++n)t[e[r[n]]]=r[n];return t}function Iy(e){for(var t=[],r=Gn(e),n=0;n!==r.length;++n)t[e[r[n]]]=parseInt(r[n],10);return t}function Lpe(e){for(var t=[],r=Gn(e),n=0;n!==r.length;++n)t[e[r[n]]]==null&&(t[e[r[n]]]=[]),t[e[r[n]]].push(r[n]);return t}var Nx=new Date(1899,11,30,0,0,0);function Ba(e,t){var r=e.getTime(),n=Nx.getTime()+(e.getTimezoneOffset()-Nx.getTimezoneOffset())*6e4;return(r-n)/(1440*60*1e3)}var K9=new Date,Bpe=Nx.getTime()+(K9.getTimezoneOffset()-Nx.getTimezoneOffset())*6e4,W5=K9.getTimezoneOffset();function Y9(e){var t=new Date;return t.setTime(e*24*60*60*1e3+Bpe),t.getTimezoneOffset()!==W5&&t.setTime(t.getTime()+(t.getTimezoneOffset()-W5)*6e4),t}var G5=new Date("2017-02-19T19:06:09.000Z"),X9=isNaN(G5.getFullYear())?new Date("2/19/17"):G5,$pe=X9.getFullYear()==2017;function ya(e,t){var r=new Date(e);if($pe)return t>0?r.setTime(r.getTime()+r.getTimezoneOffset()*60*1e3):t<0&&r.setTime(r.getTime()-r.getTimezoneOffset()*60*1e3),r;if(e instanceof Date)return e;if(X9.getFullYear()==1917&&!isNaN(r.getFullYear())){var n=r.getFullYear();return e.indexOf(""+n)>-1||r.setFullYear(r.getFullYear()+100),r}var s=e.match(/\d+/g)||["2017","2","19","0","0","0"],i=new Date(+s[0],+s[1]-1,+s[2],+s[3]||0,+s[4]||0,+s[5]||0);return e.indexOf("Z")>-1&&(i=new Date(i.getTime()-i.getTimezoneOffset()*60*1e3)),i}function Fy(e,t){if(Vt&&Buffer.isBuffer(e))return e.toString("binary");if(typeof TextDecoder<"u")try{var r={"€":"","‚":"",ƒ:"","„":"","…":"","†":"","‡":"","ˆ":"","‰":"",Š:"","‹":"",Œ:"",Ž:"","‘":"","’":"","“":"","”":"","•":"","–":"","—":"","˜":"","™":"",š:"","›":"",œ:"",ž:"",Ÿ:""};return Array.isArray(e)&&(e=new Uint8Array(e)),new TextDecoder("latin1").decode(e).replace(/[€‚ƒ„…†‡ˆ‰Š‹ŒŽ‘’“”•–—˜™š›œžŸ]/g,function(i){return r[i]||i})}catch{}for(var n=[],s=0;s!=e.length;++s)n.push(String.fromCharCode(e[s]));return n.join("")}function $a(e){if(typeof JSON<"u"&&!Array.isArray(e))return JSON.parse(JSON.stringify(e));if(typeof e!="object"||e==null)return e;if(e instanceof Date)return new Date(e.getTime());var t={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=$a(e[r]));return t}function qr(e,t){for(var r="";r.length<t;)r+=e;return r}function xl(e){var t=Number(e);if(!isNaN(t))return isFinite(t)?t:NaN;if(!/\d/.test(e))return t;var r=1,n=e.replace(/([\d]),([\d])/g,"$1$2").replace(/[$]/g,"").replace(/[%]/g,function(){return r*=100,""});return!isNaN(t=Number(n))||(n=n.replace(/[(](.*)[)]/,function(s,i){return r=-r,i}),!isNaN(t=Number(n)))?t/r:t}var Upe=["january","february","march","april","may","june","july","august","september","october","november","december"];function Fh(e){var t=new Date(e),r=new Date(NaN),n=t.getYear(),s=t.getMonth(),i=t.getDate();if(isNaN(i))return r;var l=e.toLowerCase();if(l.match(/jan|feb|mar|apr|may|jun|jul|aug|sep|oct|nov|dec/)){if(l=l.replace(/[^a-z]/g,"").replace(/([^a-z]|^)[ap]m?([^a-z]|$)/,""),l.length>3&&Upe.indexOf(l)==-1)return r}else if(l.match(/[a-z]/))return r;return n<0||n>8099?r:(s>0||i>1)&&n!=101?t:e.match(/[^-0-9:,\/\\]/)?r:t}function jt(e,t,r){if(e.FullPaths){if(typeof r=="string"){var n;return Vt?n=Il(r):n=upe(r),dr.utils.cfb_add(e,t,n)}dr.utils.cfb_add(e,t,r)}else e.file(t,r)}function Dk(){return dr.utils.cfb_new()}var un=`<?xml version="1.0" encoding="UTF-8" standalone="yes"?>\r
`,zpe={"&quot;":'"',"&apos;":"'","&gt;":">","&lt;":"<","&amp;":"&"},Pk=Ok(zpe),Mk=/[&<>'"]/g,Hpe=/[\u0000-\u0008\u000b-\u001f]/g;function ar(e){var t=e+"";return t.replace(Mk,function(r){return Pk[r]}).replace(Hpe,function(r){return"_x"+("000"+r.charCodeAt(0).toString(16)).slice(-4)+"_"})}function K5(e){return ar(e).replace(/ /g,"_x0020_")}var Q9=/[\u0000-\u001f]/g;function Vpe(e){var t=e+"";return t.replace(Mk,function(r){return Pk[r]}).replace(/\n/g,"<br/>").replace(Q9,function(r){return"&#x"+("000"+r.charCodeAt(0).toString(16)).slice(-4)+";"})}function qpe(e){var t=e+"";return t.replace(Mk,function(r){return Pk[r]}).replace(Q9,function(r){return"&#x"+r.charCodeAt(0).toString(16).toUpperCase()+";"})}function Wpe(e){return e.replace(/(\r\n|[\r\n])/g,"&#10;")}function Gpe(e){switch(e){case 1:case!0:case"1":case"true":case"TRUE":return!0;default:return!1}}function d2(e){for(var t="",r=0,n=0,s=0,i=0,l=0,c=0;r<e.length;){if(n=e.charCodeAt(r++),n<128){t+=String.fromCharCode(n);continue}if(s=e.charCodeAt(r++),n>191&&n<224){l=(n&31)<<6,l|=s&63,t+=String.fromCharCode(l);continue}if(i=e.charCodeAt(r++),n<240){t+=String.fromCharCode((n&15)<<12|(s&63)<<6|i&63);continue}l=e.charCodeAt(r++),c=((n&7)<<18|(s&63)<<12|(i&63)<<6|l&63)-65536,t+=String.fromCharCode(55296+(c>>>10&1023)),t+=String.fromCharCode(56320+(c&1023))}return t}function Y5(e){var t=iu(2*e.length),r,n,s=1,i=0,l=0,c;for(n=0;n<e.length;n+=s)s=1,(c=e.charCodeAt(n))<128?r=c:c<224?(r=(c&31)*64+(e.charCodeAt(n+1)&63),s=2):c<240?(r=(c&15)*4096+(e.charCodeAt(n+1)&63)*64+(e.charCodeAt(n+2)&63),s=3):(s=4,r=(c&7)*262144+(e.charCodeAt(n+1)&63)*4096+(e.charCodeAt(n+2)&63)*64+(e.charCodeAt(n+3)&63),r-=65536,l=55296+(r>>>10&1023),r=56320+(r&1023)),l!==0&&(t[i++]=l&255,t[i++]=l>>>8,l=0),t[i++]=r%256,t[i++]=r>>>8;return t.slice(0,i).toString("ucs2")}function X5(e){return Il(e,"binary").toString("utf8")}var ap="foo bar bazâð£",J0=Vt&&(X5(ap)==d2(ap)&&X5||Y5(ap)==d2(ap)&&Y5)||d2,Lh=Vt?function(e){return Il(e,"utf8").toString("binary")}:function(e){for(var t=[],r=0,n=0,s=0;r<e.length;)switch(n=e.charCodeAt(r++),!0){case n<128:t.push(String.fromCharCode(n));break;case n<2048:t.push(String.fromCharCode(192+(n>>6))),t.push(String.fromCharCode(128+(n&63)));break;case(n>=55296&&n<57344):n-=55296,s=e.charCodeAt(r++)-56320+(n<<10),t.push(String.fromCharCode(240+(s>>18&7))),t.push(String.fromCharCode(144+(s>>12&63))),t.push(String.fromCharCode(128+(s>>6&63))),t.push(String.fromCharCode(128+(s&63)));break;default:t.push(String.fromCharCode(224+(n>>12))),t.push(String.fromCharCode(128+(n>>6&63))),t.push(String.fromCharCode(128+(n&63)))}return t.join("")},Kpe=function(){var e=[["nbsp"," "],["middot","·"],["quot",'"'],["apos","'"],["gt",">"],["lt","<"],["amp","&"]].map(function(t){return[new RegExp("&"+t[0]+";","ig"),t[1]]});return function(r){for(var n=r.replace(/^[\t\n\r ]+/,"").replace(/[\t\n\r ]+$/,"").replace(/>\s+/g,">").replace(/\s+</g,"<").replace(/[\t\n\r ]+/g," ").replace(/<\s*[bB][rR]\s*\/?>/g,`
`).replace(/<[^>]*>/g,""),s=0;s<e.length;++s)n=n.replace(e[s][0],e[s][1]);return n}}(),Z9=/(^\s|\s$|\n)/;function Vn(e,t){return"<"+e+(t.match(Z9)?' xml:space="preserve"':"")+">"+t+"</"+e+">"}function Bh(e){return Gn(e).map(function(t){return" "+t+'="'+e[t]+'"'}).join("")}function Ve(e,t,r){return"<"+e+(r!=null?Bh(r):"")+(t!=null?(t.match(Z9)?' xml:space="preserve"':"")+">"+t+"</"+e:"/")+">"}function xN(e,t){try{return e.toISOString().replace(/\.\d*/,"")}catch(r){if(t)throw r}return""}function Ype(e,t){switch(typeof e){case"string":var r=Ve("vt:lpwstr",ar(e));return r=r.replace(/&quot;/g,"_x0022_"),r;case"number":return Ve((e|0)==e?"vt:i4":"vt:r8",ar(String(e)));case"boolean":return Ve("vt:bool",e?"true":"false")}if(e instanceof Date)return Ve("vt:filetime",xN(e));throw new Error("Unable to serialize "+e)}var Nn={CORE_PROPS:"http://schemas.openxmlformats.org/package/2006/metadata/core-properties",CUST_PROPS:"http://schemas.openxmlformats.org/officeDocument/2006/custom-properties",EXT_PROPS:"http://schemas.openxmlformats.org/officeDocument/2006/extended-properties",CT:"http://schemas.openxmlformats.org/package/2006/content-types",RELS:"http://schemas.openxmlformats.org/package/2006/relationships",TCMNT:"http://schemas.microsoft.com/office/spreadsheetml/2018/threadedcomments",dc:"http://purl.org/dc/elements/1.1/",dcterms:"http://purl.org/dc/terms/",dcmitype:"http://purl.org/dc/dcmitype/",r:"http://schemas.openxmlformats.org/officeDocument/2006/relationships",vt:"http://schemas.openxmlformats.org/officeDocument/2006/docPropsVTypes",xsi:"http://www.w3.org/2001/XMLSchema-instance",xsd:"http://www.w3.org/2001/XMLSchema"},cf=["http://schemas.openxmlformats.org/spreadsheetml/2006/main","http://purl.oclc.org/ooxml/spreadsheetml/main","http://schemas.microsoft.com/office/excel/2006/main","http://schemas.microsoft.com/office/excel/2006/2"],as={o:"urn:schemas-microsoft-com:office:office",x:"urn:schemas-microsoft-com:office:excel",ss:"urn:schemas-microsoft-com:office:spreadsheet",dt:"uuid:C2F41010-65B3-11d1-A29F-00AA00C14882",mv:"http://macVmlSchemaUri",v:"urn:schemas-microsoft-com:vml",html:"http://www.w3.org/TR/REC-html40"};function Xpe(e,t){for(var r=1-2*(e[t+7]>>>7),n=((e[t+7]&127)<<4)+(e[t+6]>>>4&15),s=e[t+6]&15,i=5;i>=0;--i)s=s*256+e[t+i];return n==2047?s==0?r*(1/0):NaN:(n==0?n=-1022:(n-=1023,s+=Math.pow(2,52)),r*Math.pow(2,n-52)*s)}function Qpe(e,t,r){var n=(t<0||1/t==-1/0?1:0)<<7,s=0,i=0,l=n?-t:t;isFinite(l)?l==0?s=i=0:(s=Math.floor(Math.log(l)/Math.LN2),i=l*Math.pow(2,52-s),s<=-1023&&(!isFinite(i)||i<Math.pow(2,52))?s=-1022:(i-=Math.pow(2,52),s+=1023)):(s=2047,i=isNaN(t)?26985:0);for(var c=0;c<=5;++c,i/=256)e[r+c]=i&255;e[r+6]=(s&15)<<4|i&15,e[r+7]=s>>4|n}var Q5=function(e){for(var t=[],r=10240,n=0;n<e[0].length;++n)if(e[0][n])for(var s=0,i=e[0][n].length;s<i;s+=r)t.push.apply(t,e[0][n].slice(s,s+r));return t},Z5=Vt?function(e){return e[0].length>0&&Buffer.isBuffer(e[0][0])?Buffer.concat(e[0].map(function(t){return Buffer.isBuffer(t)?t:Il(t)})):Q5(e)}:Q5,J5=function(e,t,r){for(var n=[],s=t;s<r;s+=2)n.push(String.fromCharCode(B0(e,s)));return n.join("").replace(Z0,"")},Rk=Vt?function(e,t,r){return Buffer.isBuffer(e)?e.toString("utf16le",t,r).replace(Z0,""):J5(e,t,r)}:J5,eP=function(e,t,r){for(var n=[],s=t;s<t+r;++s)n.push(("0"+e[s].toString(16)).slice(-2));return n.join("")},J9=Vt?function(e,t,r){return Buffer.isBuffer(e)?e.toString("hex",t,t+r):eP(e,t,r)}:eP,tP=function(e,t,r){for(var n=[],s=t;s<r;s++)n.push(String.fromCharCode(id(e,s)));return n.join("")},bm=Vt?function(t,r,n){return Buffer.isBuffer(t)?t.toString("utf8",r,n):tP(t,r,n)}:tP,eB=function(e,t){var r=ss(e,t);return r>0?bm(e,t+4,t+4+r-1):""},tB=eB,rB=function(e,t){var r=ss(e,t);return r>0?bm(e,t+4,t+4+r-1):""},nB=rB,aB=function(e,t){var r=2*ss(e,t);return r>0?bm(e,t+4,t+4+r-1):""},sB=aB,iB=function(t,r){var n=ss(t,r);return n>0?Rk(t,r+4,r+4+n):""},lB=iB,oB=function(e,t){var r=ss(e,t);return r>0?bm(e,t+4,t+4+r):""},cB=oB,uB=function(e,t){return Xpe(e,t)},Sx=uB,Ik=function(t){return Array.isArray(t)||typeof Uint8Array<"u"&&t instanceof Uint8Array};Vt&&(tB=function(t,r){if(!Buffer.isBuffer(t))return eB(t,r);var n=t.readUInt32LE(r);return n>0?t.toString("utf8",r+4,r+4+n-1):""},nB=function(t,r){if(!Buffer.isBuffer(t))return rB(t,r);var n=t.readUInt32LE(r);return n>0?t.toString("utf8",r+4,r+4+n-1):""},sB=function(t,r){if(!Buffer.isBuffer(t))return aB(t,r);var n=2*t.readUInt32LE(r);return t.toString("utf16le",r+4,r+4+n-1)},lB=function(t,r){if(!Buffer.isBuffer(t))return iB(t,r);var n=t.readUInt32LE(r);return t.toString("utf16le",r+4,r+4+n)},cB=function(t,r){if(!Buffer.isBuffer(t))return oB(t,r);var n=t.readUInt32LE(r);return t.toString("utf8",r+4,r+4+n)},Sx=function(t,r){return Buffer.isBuffer(t)?t.readDoubleLE(r):uB(t,r)},Ik=function(t){return Buffer.isBuffer(t)||Array.isArray(t)||typeof Uint8Array<"u"&&t instanceof Uint8Array});var id=function(e,t){return e[t]},B0=function(e,t){return e[t+1]*256+e[t]},Zpe=function(e,t){var r=e[t+1]*256+e[t];return r<32768?r:(65535-r+1)*-1},ss=function(e,t){return e[t+3]*(1<<24)+(e[t+2]<<16)+(e[t+1]<<8)+e[t]},Oc=function(e,t){return e[t+3]<<24|e[t+2]<<16|e[t+1]<<8|e[t]},Jpe=function(e,t){return e[t]<<24|e[t+1]<<16|e[t+2]<<8|e[t+3]};function eh(e,t){var r="",n,s,i=[],l,c,d,f;switch(t){case"dbcs":if(f=this.l,Vt&&Buffer.isBuffer(this))r=this.slice(this.l,this.l+2*e).toString("utf16le");else for(d=0;d<e;++d)r+=String.fromCharCode(B0(this,f)),f+=2;e*=2;break;case"utf8":r=bm(this,this.l,this.l+e);break;case"utf16le":e*=2,r=Rk(this,this.l,this.l+e);break;case"wstr":return eh.call(this,e,"dbcs");case"lpstr-ansi":r=tB(this,this.l),e=4+ss(this,this.l);break;case"lpstr-cp":r=nB(this,this.l),e=4+ss(this,this.l);break;case"lpwstr":r=sB(this,this.l),e=4+2*ss(this,this.l);break;case"lpp4":e=4+ss(this,this.l),r=lB(this,this.l),e&2&&(e+=2);break;case"8lpp4":e=4+ss(this,this.l),r=cB(this,this.l),e&3&&(e+=4-(e&3));break;case"cstr":for(e=0,r="";(l=id(this,this.l+e++))!==0;)i.push(tp(l));r=i.join("");break;case"_wstr":for(e=0,r="";(l=B0(this,this.l+e))!==0;)i.push(tp(l)),e+=2;e+=2,r=i.join("");break;case"dbcs-cont":for(r="",f=this.l,d=0;d<e;++d){if(this.lens&&this.lens.indexOf(f)!==-1)return l=id(this,f),this.l=f+1,c=eh.call(this,e-d,l?"dbcs-cont":"sbcs-cont"),i.join("")+c;i.push(tp(B0(this,f))),f+=2}r=i.join(""),e*=2;break;case"cpstr":case"sbcs-cont":for(r="",f=this.l,d=0;d!=e;++d){if(this.lens&&this.lens.indexOf(f)!==-1)return l=id(this,f),this.l=f+1,c=eh.call(this,e-d,l?"dbcs-cont":"sbcs-cont"),i.join("")+c;i.push(tp(id(this,f))),f+=1}r=i.join("");break;default:switch(e){case 1:return n=id(this,this.l),this.l++,n;case 2:return n=(t==="i"?Zpe:B0)(this,this.l),this.l+=2,n;case 4:case-4:return t==="i"||(this[this.l+3]&128)===0?(n=(e>0?Oc:Jpe)(this,this.l),this.l+=4,n):(s=ss(this,this.l),this.l+=4,s);case 8:case-8:if(t==="f")return e==8?s=Sx(this,this.l):s=Sx([this[this.l+7],this[this.l+6],this[this.l+5],this[this.l+4],this[this.l+3],this[this.l+2],this[this.l+1],this[this.l+0]],0),this.l+=8,s;e=8;case 16:r=J9(this,this.l,e);break}}return this.l+=e,r}var exe=function(e,t,r){e[r]=t&255,e[r+1]=t>>>8&255,e[r+2]=t>>>16&255,e[r+3]=t>>>24&255},txe=function(e,t,r){e[r]=t&255,e[r+1]=t>>8&255,e[r+2]=t>>16&255,e[r+3]=t>>24&255},rxe=function(e,t,r){e[r]=t&255,e[r+1]=t>>>8&255};function nxe(e,t,r){var n=0,s=0;if(r==="dbcs"){for(s=0;s!=t.length;++s)rxe(this,t.charCodeAt(s),this.l+2*s);n=2*t.length}else if(r==="sbcs"){for(t=t.replace(/[^\x00-\x7F]/g,"_"),s=0;s!=t.length;++s)this[this.l+s]=t.charCodeAt(s)&255;n=t.length}else if(r==="hex"){for(;s<e;++s)this[this.l++]=parseInt(t.slice(2*s,2*s+2),16)||0;return this}else if(r==="utf16le"){var i=Math.min(this.l+e,this.length);for(s=0;s<Math.min(t.length,e);++s){var l=t.charCodeAt(s);this[this.l++]=l&255,this[this.l++]=l>>8}for(;this.l<i;)this[this.l++]=0;return this}else switch(e){case 1:n=1,this[this.l]=t&255;break;case 2:n=2,this[this.l]=t&255,t>>>=8,this[this.l+1]=t&255;break;case 3:n=3,this[this.l]=t&255,t>>>=8,this[this.l+1]=t&255,t>>>=8,this[this.l+2]=t&255;break;case 4:n=4,exe(this,t,this.l);break;case 8:if(n=8,r==="f"){Qpe(this,t,this.l);break}case 16:break;case-4:n=4,txe(this,t,this.l);break}return this.l+=n,this}function dB(e,t){var r=J9(this,this.l,e.length>>1);if(r!==e)throw new Error(t+"Expected "+e+" saw "+r);this.l+=e.length>>1}function ts(e,t){e.l=t,e.read_shift=eh,e.chk=dB,e.write_shift=nxe}function Ui(e,t){e.l+=t}function Ae(e){var t=iu(e);return ts(t,0),t}function Ia(){var e=[],t=Vt?256:2048,r=function(f){var h=Ae(f);return ts(h,0),h},n=r(t),s=function(){n&&(n.length>n.l&&(n=n.slice(0,n.l),n.l=n.length),n.length>0&&e.push(n),n=null)},i=function(f){return n&&f<n.length-n.l?n:(s(),n=r(Math.max(f+1,t)))},l=function(){return s(),Hn(e)},c=function(f){s(),n=f,n.l==null&&(n.l=n.length),i(t)};return{next:i,push:c,end:l,_bufs:e}}function Ie(e,t,r,n){var s=+t,i;if(!isNaN(s)){n||(n=Xwe[s].p||(r||[]).length||0),i=1+(s>=128?1:0)+1,n>=128&&++i,n>=16384&&++i,n>=2097152&&++i;var l=e.next(i);s<=127?l.write_shift(1,s):(l.write_shift(1,(s&127)+128),l.write_shift(1,s>>7));for(var c=0;c!=4;++c)if(n>=128)l.write_shift(1,(n&127)+128),n>>=7;else{l.write_shift(1,n);break}n>0&&Ik(r)&&e.push(r)}}function th(e,t,r){var n=$a(e);if(t.s?(n.cRel&&(n.c+=t.s.c),n.rRel&&(n.r+=t.s.r)):(n.cRel&&(n.c+=t.c),n.rRel&&(n.r+=t.r)),!r||r.biff<12){for(;n.c>=256;)n.c-=256;for(;n.r>=65536;)n.r-=65536}return n}function rP(e,t,r){var n=$a(e);return n.s=th(n.s,t.s,r),n.e=th(n.e,t.s,r),n}function rh(e,t){if(e.cRel&&e.c<0)for(e=$a(e);e.c<0;)e.c+=t>8?16384:256;if(e.rRel&&e.r<0)for(e=$a(e);e.r<0;)e.r+=t>8?1048576:t>5?65536:16384;var r=sr(e);return!e.cRel&&e.cRel!=null&&(r=ixe(r)),!e.rRel&&e.rRel!=null&&(r=axe(r)),r}function f2(e,t){return e.s.r==0&&!e.s.rRel&&e.e.r==(t.biff>=12?1048575:t.biff>=8?65536:16384)&&!e.e.rRel?(e.s.cRel?"":"$")+aa(e.s.c)+":"+(e.e.cRel?"":"$")+aa(e.e.c):e.s.c==0&&!e.s.cRel&&e.e.c==(t.biff>=12?16383:255)&&!e.e.cRel?(e.s.rRel?"":"$")+Wn(e.s.r)+":"+(e.e.rRel?"":"$")+Wn(e.e.r):rh(e.s,t.biff)+":"+rh(e.e,t.biff)}function Fk(e){return parseInt(sxe(e),10)-1}function Wn(e){return""+(e+1)}function axe(e){return e.replace(/([A-Z]|^)(\d+)$/,"$1$$$2")}function sxe(e){return e.replace(/\$(\d+)$/,"$1")}function Lk(e){for(var t=lxe(e),r=0,n=0;n!==t.length;++n)r=26*r+t.charCodeAt(n)-64;return r-1}function aa(e){if(e<0)throw new Error("invalid column "+e);var t="";for(++e;e;e=Math.floor((e-1)/26))t=String.fromCharCode((e-1)%26+65)+t;return t}function ixe(e){return e.replace(/^([A-Z])/,"$$$1")}function lxe(e){return e.replace(/^\$([A-Z])/,"$1")}function oxe(e){return e.replace(/(\$?[A-Z]*)(\$?\d*)/,"$1,$2").split(",")}function _n(e){for(var t=0,r=0,n=0;n<e.length;++n){var s=e.charCodeAt(n);s>=48&&s<=57?t=10*t+(s-48):s>=65&&s<=90&&(r=26*r+(s-64))}return{c:r-1,r:t-1}}function sr(e){for(var t=e.c+1,r="";t;t=(t-1)/26|0)r=String.fromCharCode((t-1)%26+65)+r;return r+(e.r+1)}function ps(e){var t=e.indexOf(":");return t==-1?{s:_n(e),e:_n(e)}:{s:_n(e.slice(0,t)),e:_n(e.slice(t+1))}}function cn(e,t){return typeof t>"u"||typeof t=="number"?cn(e.s,e.e):(typeof e!="string"&&(e=sr(e)),typeof t!="string"&&(t=sr(t)),e==t?e:e+":"+t)}function Er(e){var t={s:{c:0,r:0},e:{c:0,r:0}},r=0,n=0,s=0,i=e.length;for(r=0;n<i&&!((s=e.charCodeAt(n)-64)<1||s>26);++n)r=26*r+s;for(t.s.c=--r,r=0;n<i&&!((s=e.charCodeAt(n)-48)<0||s>9);++n)r=10*r+s;if(t.s.r=--r,n===i||s!=10)return t.e.c=t.s.c,t.e.r=t.s.r,t;for(++n,r=0;n!=i&&!((s=e.charCodeAt(n)-64)<1||s>26);++n)r=26*r+s;for(t.e.c=--r,r=0;n!=i&&!((s=e.charCodeAt(n)-48)<0||s>9);++n)r=10*r+s;return t.e.r=--r,t}function nP(e,t){var r=e.t=="d"&&t instanceof Date;if(e.z!=null)try{return e.w=Uo(e.z,r?Ba(t):t)}catch{}try{return e.w=Uo((e.XF||{}).numFmtId||(r?14:0),r?Ba(t):t)}catch{return""+t}}function Al(e,t,r){return e==null||e.t==null||e.t=="z"?"":e.w!==void 0?e.w:(e.t=="d"&&!e.z&&r&&r.dateNF&&(e.z=r.dateNF),e.t=="e"?wm[e.v]||e.v:t==null?nP(e,e.v):nP(e,t))}function xu(e,t){var r=t&&t.sheet?t.sheet:"Sheet1",n={};return n[r]=e,{SheetNames:[r],Sheets:n}}function fB(e,t,r){var n=r||{},s=e?Array.isArray(e):n.dense,i=e||(s?[]:{}),l=0,c=0;if(i&&n.origin!=null){if(typeof n.origin=="number")l=n.origin;else{var d=typeof n.origin=="string"?_n(n.origin):n.origin;l=d.r,c=d.c}i["!ref"]||(i["!ref"]="A1:A1")}var f={s:{c:1e7,r:1e7},e:{c:0,r:0}};if(i["!ref"]){var h=Er(i["!ref"]);f.s.c=h.s.c,f.s.r=h.s.r,f.e.c=Math.max(f.e.c,h.e.c),f.e.r=Math.max(f.e.r,h.e.r),l==-1&&(f.e.r=l=h.e.r+1)}for(var g=0;g!=t.length;++g)if(t[g]){if(!Array.isArray(t[g]))throw new Error("aoa_to_sheet expects an array of arrays");for(var p=0;p!=t[g].length;++p)if(!(typeof t[g][p]>"u")){var y={v:t[g][p]},b=l+g,w=c+p;if(f.s.r>b&&(f.s.r=b),f.s.c>w&&(f.s.c=w),f.e.r<b&&(f.e.r=b),f.e.c<w&&(f.e.c=w),t[g][p]&&typeof t[g][p]=="object"&&!Array.isArray(t[g][p])&&!(t[g][p]instanceof Date))y=t[g][p];else if(Array.isArray(y.v)&&(y.f=t[g][p][1],y.v=y.v[0]),y.v===null)if(y.f)y.t="n";else if(n.nullError)y.t="e",y.v=0;else if(n.sheetStubs)y.t="z";else continue;else typeof y.v=="number"?y.t="n":typeof y.v=="boolean"?y.t="b":y.v instanceof Date?(y.z=n.dateNF||Wr[14],n.cellDates?(y.t="d",y.w=Uo(y.z,Ba(y.v))):(y.t="n",y.v=Ba(y.v),y.w=Uo(y.z,y.v))):y.t="s";if(s)i[b]||(i[b]=[]),i[b][w]&&i[b][w].z&&(y.z=i[b][w].z),i[b][w]=y;else{var j=sr({c:w,r:b});i[j]&&i[j].z&&(y.z=i[j].z),i[j]=y}}}return f.s.c<1e7&&(i["!ref"]=cn(f)),i}function uf(e,t){return fB(null,e,t)}function cxe(e){return e.read_shift(4,"i")}function fi(e,t){return t||(t=Ae(4)),t.write_shift(4,e),t}function sa(e){var t=e.read_shift(4);return t===0?"":e.read_shift(t,"dbcs")}function kn(e,t){var r=!1;return t==null&&(r=!0,t=Ae(4+2*e.length)),t.write_shift(4,e.length),e.length>0&&t.write_shift(0,e,"dbcs"),r?t.slice(0,t.l):t}function uxe(e){return{ich:e.read_shift(2),ifnt:e.read_shift(2)}}function dxe(e,t){return t||(t=Ae(4)),t.write_shift(2,0),t.write_shift(2,0),t}function Bk(e,t){var r=e.l,n=e.read_shift(1),s=sa(e),i=[],l={t:s,h:s};if((n&1)!==0){for(var c=e.read_shift(4),d=0;d!=c;++d)i.push(uxe(e));l.r=i}else l.r=[{ich:0,ifnt:0}];return e.l=r+t,l}function fxe(e,t){var r=!1;return t==null&&(r=!0,t=Ae(15+4*e.t.length)),t.write_shift(1,0),kn(e.t,t),r?t.slice(0,t.l):t}var hxe=Bk;function mxe(e,t){var r=!1;return t==null&&(r=!0,t=Ae(23+4*e.t.length)),t.write_shift(1,1),kn(e.t,t),t.write_shift(4,1),dxe({},t),r?t.slice(0,t.l):t}function Ys(e){var t=e.read_shift(4),r=e.read_shift(2);return r+=e.read_shift(1)<<16,e.l++,{c:t,iStyleRef:r}}function yu(e,t){return t==null&&(t=Ae(8)),t.write_shift(-4,e.c),t.write_shift(3,e.iStyleRef||e.s),t.write_shift(1,0),t}function vu(e){var t=e.read_shift(2);return t+=e.read_shift(1)<<16,e.l++,{c:-1,iStyleRef:t}}function bu(e,t){return t==null&&(t=Ae(4)),t.write_shift(3,e.iStyleRef||e.s),t.write_shift(1,0),t}var gxe=sa,hB=kn;function $k(e){var t=e.read_shift(4);return t===0||t===4294967295?"":e.read_shift(t,"dbcs")}function _x(e,t){var r=!1;return t==null&&(r=!0,t=Ae(127)),t.write_shift(4,e.length>0?e.length:4294967295),e.length>0&&t.write_shift(0,e,"dbcs"),r?t.slice(0,t.l):t}var pxe=sa,yN=$k,Uk=_x;function mB(e){var t=e.slice(e.l,e.l+4),r=t[0]&1,n=t[0]&2;e.l+=4;var s=n===0?Sx([0,0,0,0,t[0]&252,t[1],t[2],t[3]],0):Oc(t,0)>>2;return r?s/100:s}function gB(e,t){t==null&&(t=Ae(4));var r=0,n=0,s=e*100;if(e==(e|0)&&e>=-536870912&&e<1<<29?n=1:s==(s|0)&&s>=-536870912&&s<1<<29&&(n=1,r=1),n)t.write_shift(-4,((r?s:e)<<2)+(r+2));else throw new Error("unsupported RkNumber "+e)}function pB(e){var t={s:{},e:{}};return t.s.r=e.read_shift(4),t.e.r=e.read_shift(4),t.s.c=e.read_shift(4),t.e.c=e.read_shift(4),t}function xxe(e,t){return t||(t=Ae(16)),t.write_shift(4,e.s.r),t.write_shift(4,e.e.r),t.write_shift(4,e.s.c),t.write_shift(4,e.e.c),t}var wu=pB,df=xxe;function ff(e){if(e.length-e.l<8)throw"XLS Xnum Buffer underflow";return e.read_shift(8,"f")}function lu(e,t){return(t||Ae(8)).write_shift(8,e,"f")}function yxe(e){var t={},r=e.read_shift(1),n=r>>>1,s=e.read_shift(1),i=e.read_shift(2,"i"),l=e.read_shift(1),c=e.read_shift(1),d=e.read_shift(1);switch(e.l++,n){case 0:t.auto=1;break;case 1:t.index=s;var f=Exe[s];f&&(t.rgb=mP(f));break;case 2:t.rgb=mP([l,c,d]);break;case 3:t.theme=s;break}return i!=0&&(t.tint=i>0?i/32767:i/32768),t}function kx(e,t){if(t||(t=Ae(8)),!e||e.auto)return t.write_shift(4,0),t.write_shift(4,0),t;e.index!=null?(t.write_shift(1,2),t.write_shift(1,e.index)):e.theme!=null?(t.write_shift(1,6),t.write_shift(1,e.theme)):(t.write_shift(1,5),t.write_shift(1,0));var r=e.tint||0;if(r>0?r*=32767:r<0&&(r*=32768),t.write_shift(2,r),!e.rgb||e.theme!=null)t.write_shift(2,0),t.write_shift(1,0),t.write_shift(1,0);else{var n=e.rgb||"FFFFFF";typeof n=="number"&&(n=("000000"+n.toString(16)).slice(-6)),t.write_shift(1,parseInt(n.slice(0,2),16)),t.write_shift(1,parseInt(n.slice(2,4),16)),t.write_shift(1,parseInt(n.slice(4,6),16)),t.write_shift(1,255)}return t}function vxe(e){var t=e.read_shift(1);e.l++;var r={fBold:t&1,fItalic:t&2,fUnderline:t&4,fStrikeout:t&8,fOutline:t&16,fShadow:t&32,fCondense:t&64,fExtend:t&128};return r}function bxe(e,t){t||(t=Ae(2));var r=(e.italic?2:0)|(e.strike?8:0)|(e.outline?16:0)|(e.shadow?32:0)|(e.condense?64:0)|(e.extend?128:0);return t.write_shift(1,r),t.write_shift(1,0),t}var xB=2,Za=3,sp=11,Ex=19,ip=64,wxe=65,jxe=71,Nxe=4108,Sxe=4126,$n=80,aP={1:{n:"CodePage",t:xB},2:{n:"Category",t:$n},3:{n:"PresentationFormat",t:$n},4:{n:"ByteCount",t:Za},5:{n:"LineCount",t:Za},6:{n:"ParagraphCount",t:Za},7:{n:"SlideCount",t:Za},8:{n:"NoteCount",t:Za},9:{n:"HiddenCount",t:Za},10:{n:"MultimediaClipCount",t:Za},11:{n:"ScaleCrop",t:sp},12:{n:"HeadingPairs",t:Nxe},13:{n:"TitlesOfParts",t:Sxe},14:{n:"Manager",t:$n},15:{n:"Company",t:$n},16:{n:"LinksUpToDate",t:sp},17:{n:"CharacterCount",t:Za},19:{n:"SharedDoc",t:sp},22:{n:"HyperlinksChanged",t:sp},23:{n:"AppVersion",t:Za,p:"version"},24:{n:"DigSig",t:wxe},26:{n:"ContentType",t:$n},27:{n:"ContentStatus",t:$n},28:{n:"Language",t:$n},29:{n:"Version",t:$n},255:{},2147483648:{n:"Locale",t:Ex},2147483651:{n:"Behavior",t:Ex},1919054434:{}},sP={1:{n:"CodePage",t:xB},2:{n:"Title",t:$n},3:{n:"Subject",t:$n},4:{n:"Author",t:$n},5:{n:"Keywords",t:$n},6:{n:"Comments",t:$n},7:{n:"Template",t:$n},8:{n:"LastAuthor",t:$n},9:{n:"RevNumber",t:$n},10:{n:"EditTime",t:ip},11:{n:"LastPrinted",t:ip},12:{n:"CreatedDate",t:ip},13:{n:"ModifiedDate",t:ip},14:{n:"PageCount",t:Za},15:{n:"WordCount",t:Za},16:{n:"CharCount",t:Za},17:{n:"Thumbnail",t:jxe},18:{n:"Application",t:$n},19:{n:"DocSecurity",t:Za},255:{},2147483648:{n:"Locale",t:Ex},2147483651:{n:"Behavior",t:Ex},1919054434:{}};function _xe(e){return e.map(function(t){return[t>>16&255,t>>8&255,t&255]})}var kxe=_xe([0,16777215,16711680,65280,255,16776960,16711935,65535,0,16777215,16711680,65280,255,16776960,16711935,65535,8388608,32768,128,8421376,8388736,32896,12632256,8421504,10066431,10040166,16777164,13434879,6684774,16744576,26316,13421823,128,16711935,16776960,65535,8388736,8388608,32896,255,52479,13434879,13434828,16777113,10079487,16751052,13408767,16764057,3368703,3394764,10079232,16763904,16750848,16737792,6710937,9868950,13158,3381606,13056,3355392,10040064,10040166,3355545,3355443,16777215,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0]),Exe=$a(kxe),wm={0:"#NULL!",7:"#DIV/0!",15:"#VALUE!",23:"#REF!",29:"#NAME?",36:"#NUM!",42:"#N/A",43:"#GETTING_DATA",255:"#WTF?"},Txe={"application/vnd.openxmlformats-officedocument.spreadsheetml.sheet.main+xml":"workbooks","application/vnd.ms-excel.sheet.macroEnabled.main+xml":"workbooks","application/vnd.ms-excel.sheet.binary.macroEnabled.main":"workbooks","application/vnd.ms-excel.addin.macroEnabled.main+xml":"workbooks","application/vnd.openxmlformats-officedocument.spreadsheetml.template.main+xml":"workbooks","application/vnd.openxmlformats-officedocument.spreadsheetml.worksheet+xml":"sheets","application/vnd.ms-excel.worksheet":"sheets","application/vnd.ms-excel.binIndexWs":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.chartsheet+xml":"charts","application/vnd.ms-excel.chartsheet":"charts","application/vnd.ms-excel.macrosheet+xml":"macros","application/vnd.ms-excel.macrosheet":"macros","application/vnd.ms-excel.intlmacrosheet":"TODO","application/vnd.ms-excel.binIndexMs":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.dialogsheet+xml":"dialogs","application/vnd.ms-excel.dialogsheet":"dialogs","application/vnd.openxmlformats-officedocument.spreadsheetml.sharedStrings+xml":"strs","application/vnd.ms-excel.sharedStrings":"strs","application/vnd.openxmlformats-officedocument.spreadsheetml.styles+xml":"styles","application/vnd.ms-excel.styles":"styles","application/vnd.openxmlformats-package.core-properties+xml":"coreprops","application/vnd.openxmlformats-officedocument.custom-properties+xml":"custprops","application/vnd.openxmlformats-officedocument.extended-properties+xml":"extprops","application/vnd.openxmlformats-officedocument.customXmlProperties+xml":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.customProperty":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.comments+xml":"comments","application/vnd.ms-excel.comments":"comments","application/vnd.ms-excel.threadedcomments+xml":"threadedcomments","application/vnd.ms-excel.person+xml":"people","application/vnd.openxmlformats-officedocument.spreadsheetml.sheetMetadata+xml":"metadata","application/vnd.ms-excel.sheetMetadata":"metadata","application/vnd.ms-excel.pivotTable":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.pivotTable+xml":"TODO","application/vnd.openxmlformats-officedocument.drawingml.chart+xml":"TODO","application/vnd.ms-office.chartcolorstyle+xml":"TODO","application/vnd.ms-office.chartstyle+xml":"TODO","application/vnd.ms-office.chartex+xml":"TODO","application/vnd.ms-excel.calcChain":"calcchains","application/vnd.openxmlformats-officedocument.spreadsheetml.calcChain+xml":"calcchains","application/vnd.openxmlformats-officedocument.spreadsheetml.printerSettings":"TODO","application/vnd.ms-office.activeX":"TODO","application/vnd.ms-office.activeX+xml":"TODO","application/vnd.ms-excel.attachedToolbars":"TODO","application/vnd.ms-excel.connections":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.connections+xml":"TODO","application/vnd.ms-excel.externalLink":"links","application/vnd.openxmlformats-officedocument.spreadsheetml.externalLink+xml":"links","application/vnd.ms-excel.pivotCacheDefinition":"TODO","application/vnd.ms-excel.pivotCacheRecords":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.pivotCacheDefinition+xml":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.pivotCacheRecords+xml":"TODO","application/vnd.ms-excel.queryTable":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.queryTable+xml":"TODO","application/vnd.ms-excel.userNames":"TODO","application/vnd.ms-excel.revisionHeaders":"TODO","application/vnd.ms-excel.revisionLog":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.revisionHeaders+xml":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.revisionLog+xml":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.userNames+xml":"TODO","application/vnd.ms-excel.tableSingleCells":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.tableSingleCells+xml":"TODO","application/vnd.ms-excel.slicer":"TODO","application/vnd.ms-excel.slicerCache":"TODO","application/vnd.ms-excel.slicer+xml":"TODO","application/vnd.ms-excel.slicerCache+xml":"TODO","application/vnd.ms-excel.wsSortMap":"TODO","application/vnd.ms-excel.table":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.table+xml":"TODO","application/vnd.openxmlformats-officedocument.theme+xml":"themes","application/vnd.openxmlformats-officedocument.themeOverride+xml":"TODO","application/vnd.ms-excel.Timeline+xml":"TODO","application/vnd.ms-excel.TimelineCache+xml":"TODO","application/vnd.ms-office.vbaProject":"vba","application/vnd.ms-office.vbaProjectSignature":"TODO","application/vnd.ms-office.volatileDependencies":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.volatileDependencies+xml":"TODO","application/vnd.ms-excel.controlproperties+xml":"TODO","application/vnd.openxmlformats-officedocument.model+data":"TODO","application/vnd.ms-excel.Survey+xml":"TODO","application/vnd.openxmlformats-officedocument.drawing+xml":"drawings","application/vnd.openxmlformats-officedocument.drawingml.chartshapes+xml":"TODO","application/vnd.openxmlformats-officedocument.drawingml.diagramColors+xml":"TODO","application/vnd.openxmlformats-officedocument.drawingml.diagramData+xml":"TODO","application/vnd.openxmlformats-officedocument.drawingml.diagramLayout+xml":"TODO","application/vnd.openxmlformats-officedocument.drawingml.diagramStyle+xml":"TODO","application/vnd.openxmlformats-officedocument.vmlDrawing":"TODO","application/vnd.openxmlformats-package.relationships+xml":"rels","application/vnd.openxmlformats-officedocument.oleObject":"TODO","image/png":"TODO",sheet:"js"},lp={workbooks:{xlsx:"application/vnd.openxmlformats-officedocument.spreadsheetml.sheet.main+xml",xlsm:"application/vnd.ms-excel.sheet.macroEnabled.main+xml",xlsb:"application/vnd.ms-excel.sheet.binary.macroEnabled.main",xlam:"application/vnd.ms-excel.addin.macroEnabled.main+xml",xltx:"application/vnd.openxmlformats-officedocument.spreadsheetml.template.main+xml"},strs:{xlsx:"application/vnd.openxmlformats-officedocument.spreadsheetml.sharedStrings+xml",xlsb:"application/vnd.ms-excel.sharedStrings"},comments:{xlsx:"application/vnd.openxmlformats-officedocument.spreadsheetml.comments+xml",xlsb:"application/vnd.ms-excel.comments"},sheets:{xlsx:"application/vnd.openxmlformats-officedocument.spreadsheetml.worksheet+xml",xlsb:"application/vnd.ms-excel.worksheet"},charts:{xlsx:"application/vnd.openxmlformats-officedocument.spreadsheetml.chartsheet+xml",xlsb:"application/vnd.ms-excel.chartsheet"},dialogs:{xlsx:"application/vnd.openxmlformats-officedocument.spreadsheetml.dialogsheet+xml",xlsb:"application/vnd.ms-excel.dialogsheet"},macros:{xlsx:"application/vnd.ms-excel.macrosheet+xml",xlsb:"application/vnd.ms-excel.macrosheet"},metadata:{xlsx:"application/vnd.openxmlformats-officedocument.spreadsheetml.sheetMetadata+xml",xlsb:"application/vnd.ms-excel.sheetMetadata"},styles:{xlsx:"application/vnd.openxmlformats-officedocument.spreadsheetml.styles+xml",xlsb:"application/vnd.ms-excel.styles"}};function yB(){return{workbooks:[],sheets:[],charts:[],dialogs:[],macros:[],rels:[],strs:[],comments:[],threadedcomments:[],links:[],coreprops:[],extprops:[],custprops:[],themes:[],styles:[],calcchains:[],vba:[],drawings:[],metadata:[],people:[],TODO:[],xmlns:""}}function vB(e,t){var r=Lpe(Txe),n=[],s;n[n.length]=un,n[n.length]=Ve("Types",null,{xmlns:Nn.CT,"xmlns:xsd":Nn.xsd,"xmlns:xsi":Nn.xsi}),n=n.concat([["xml","application/xml"],["bin","application/vnd.ms-excel.sheet.binary.macroEnabled.main"],["vml","application/vnd.openxmlformats-officedocument.vmlDrawing"],["data","application/vnd.openxmlformats-officedocument.model+data"],["bmp","image/bmp"],["png","image/png"],["gif","image/gif"],["emf","image/x-emf"],["wmf","image/x-wmf"],["jpg","image/jpeg"],["jpeg","image/jpeg"],["tif","image/tiff"],["tiff","image/tiff"],["pdf","application/pdf"],["rels","application/vnd.openxmlformats-package.relationships+xml"]].map(function(d){return Ve("Default",null,{Extension:d[0],ContentType:d[1]})}));var i=function(d){e[d]&&e[d].length>0&&(s=e[d][0],n[n.length]=Ve("Override",null,{PartName:(s[0]=="/"?"":"/")+s,ContentType:lp[d][t.bookType]||lp[d].xlsx}))},l=function(d){(e[d]||[]).forEach(function(f){n[n.length]=Ve("Override",null,{PartName:(f[0]=="/"?"":"/")+f,ContentType:lp[d][t.bookType]||lp[d].xlsx})})},c=function(d){(e[d]||[]).forEach(function(f){n[n.length]=Ve("Override",null,{PartName:(f[0]=="/"?"":"/")+f,ContentType:r[d][0]})})};return i("workbooks"),l("sheets"),l("charts"),c("themes"),["strs","styles"].forEach(i),["coreprops","extprops","custprops"].forEach(c),c("vba"),c("comments"),c("threadedcomments"),c("drawings"),l("metadata"),c("people"),n.length>2&&(n[n.length]="</Types>",n[1]=n[1].replace("/>",">")),n.join("")}var Bt={WB:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/officeDocument",HLINK:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/hyperlink",VML:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/vmlDrawing",XPATH:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/externalLinkPath",XMISS:"http://schemas.microsoft.com/office/2006/relationships/xlExternalLinkPath/xlPathMissing",CMNT:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/comments",CORE_PROPS:"http://schemas.openxmlformats.org/package/2006/relationships/metadata/core-properties",EXT_PROPS:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/extended-properties",CUST_PROPS:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/custom-properties",SST:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/sharedStrings",STY:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/styles",THEME:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/theme",WS:["http://schemas.openxmlformats.org/officeDocument/2006/relationships/worksheet","http://purl.oclc.org/ooxml/officeDocument/relationships/worksheet"],DRAW:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/drawing",XLMETA:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/sheetMetadata",TCMNT:"http://schemas.microsoft.com/office/2017/10/relationships/threadedComment",PEOPLE:"http://schemas.microsoft.com/office/2017/10/relationships/person",VBA:"http://schemas.microsoft.com/office/2006/relationships/vbaProject"};function bB(e){var t=e.lastIndexOf("/");return e.slice(0,t+1)+"_rels/"+e.slice(t+1)+".rels"}function wd(e){var t=[un,Ve("Relationships",null,{xmlns:Nn.RELS})];return Gn(e["!id"]).forEach(function(r){t[t.length]=Ve("Relationship",null,e["!id"][r])}),t.length>2&&(t[t.length]="</Relationships>",t[1]=t[1].replace("/>",">")),t.join("")}function rr(e,t,r,n,s,i){if(s||(s={}),e["!id"]||(e["!id"]={}),e["!idx"]||(e["!idx"]=1),t<0)for(t=e["!idx"];e["!id"]["rId"+t];++t);if(e["!idx"]=t+1,s.Id="rId"+t,s.Type=n,s.Target=r,[Bt.HLINK,Bt.XPATH,Bt.XMISS].indexOf(s.Type)>-1&&(s.TargetMode="External"),e["!id"][s.Id])throw new Error("Cannot rewrite rId "+t);return e["!id"][s.Id]=s,e[("/"+s.Target).replace("//","/")]=s,t}function Axe(e){var t=[un];t.push(`<manifest:manifest xmlns:manifest="urn:oasis:names:tc:opendocument:xmlns:manifest:1.0" manifest:version="1.2">
`),t.push(`  <manifest:file-entry manifest:full-path="/" manifest:version="1.2" manifest:media-type="application/vnd.oasis.opendocument.spreadsheet"/>
`);for(var r=0;r<e.length;++r)t.push('  <manifest:file-entry manifest:full-path="'+e[r][0]+'" manifest:media-type="'+e[r][1]+`"/>
`);return t.push("</manifest:manifest>"),t.join("")}function iP(e,t,r){return['  <rdf:Description rdf:about="'+e+`">
`,'    <rdf:type rdf:resource="http://docs.oasis-open.org/ns/office/1.2/meta/'+(r||"odf")+"#"+t+`"/>
`,`  </rdf:Description>
`].join("")}function Cxe(e,t){return['  <rdf:Description rdf:about="'+e+`">
`,'    <ns0:hasPart xmlns:ns0="http://docs.oasis-open.org/ns/office/1.2/meta/pkg#" rdf:resource="'+t+`"/>
`,`  </rdf:Description>
`].join("")}function Oxe(e){var t=[un];t.push(`<rdf:RDF xmlns:rdf="http://www.w3.org/1999/02/22-rdf-syntax-ns#">
`);for(var r=0;r!=e.length;++r)t.push(iP(e[r][0],e[r][1])),t.push(Cxe("",e[r][0]));return t.push(iP("","Document","pkg")),t.push("</rdf:RDF>"),t.join("")}function wB(){return'<office:document-meta xmlns:office="urn:oasis:names:tc:opendocument:xmlns:office:1.0" xmlns:meta="urn:oasis:names:tc:opendocument:xmlns:meta:1.0" xmlns:dc="http://purl.org/dc/elements/1.1/" xmlns:xlink="http://www.w3.org/1999/xlink" office:version="1.2"><office:meta><meta:generator>SheetJS '+yx.version+"</meta:generator></office:meta></office:document-meta>"}var Xc=[["cp:category","Category"],["cp:contentStatus","ContentStatus"],["cp:keywords","Keywords"],["cp:lastModifiedBy","LastAuthor"],["cp:lastPrinted","LastPrinted"],["cp:revision","RevNumber"],["cp:version","Version"],["dc:creator","Author"],["dc:description","Comments"],["dc:identifier","Identifier"],["dc:language","Language"],["dc:subject","Subject"],["dc:title","Title"],["dcterms:created","CreatedDate","date"],["dcterms:modified","ModifiedDate","date"]];function h2(e,t,r,n,s){s[e]!=null||t==null||t===""||(s[e]=t,t=ar(t),n[n.length]=r?Ve(e,t,r):Vn(e,t))}function jB(e,t){var r=t||{},n=[un,Ve("cp:coreProperties",null,{"xmlns:cp":Nn.CORE_PROPS,"xmlns:dc":Nn.dc,"xmlns:dcterms":Nn.dcterms,"xmlns:dcmitype":Nn.dcmitype,"xmlns:xsi":Nn.xsi})],s={};if(!e&&!r.Props)return n.join("");e&&(e.CreatedDate!=null&&h2("dcterms:created",typeof e.CreatedDate=="string"?e.CreatedDate:xN(e.CreatedDate,r.WTF),{"xsi:type":"dcterms:W3CDTF"},n,s),e.ModifiedDate!=null&&h2("dcterms:modified",typeof e.ModifiedDate=="string"?e.ModifiedDate:xN(e.ModifiedDate,r.WTF),{"xsi:type":"dcterms:W3CDTF"},n,s));for(var i=0;i!=Xc.length;++i){var l=Xc[i],c=r.Props&&r.Props[l[1]]!=null?r.Props[l[1]]:e?e[l[1]]:null;c===!0?c="1":c===!1?c="0":typeof c=="number"&&(c=String(c)),c!=null&&h2(l[0],c,null,n,s)}return n.length>2&&(n[n.length]="</cp:coreProperties>",n[1]=n[1].replace("/>",">")),n.join("")}var jd=[["Application","Application","string"],["AppVersion","AppVersion","string"],["Company","Company","string"],["DocSecurity","DocSecurity","string"],["Manager","Manager","string"],["HyperlinksChanged","HyperlinksChanged","bool"],["SharedDoc","SharedDoc","bool"],["LinksUpToDate","LinksUpToDate","bool"],["ScaleCrop","ScaleCrop","bool"],["HeadingPairs","HeadingPairs","raw"],["TitlesOfParts","TitlesOfParts","raw"]],NB=["Worksheets","SheetNames","NamedRanges","DefinedNames","Chartsheets","ChartNames"];function SB(e){var t=[],r=Ve;return e||(e={}),e.Application="SheetJS",t[t.length]=un,t[t.length]=Ve("Properties",null,{xmlns:Nn.EXT_PROPS,"xmlns:vt":Nn.vt}),jd.forEach(function(n){if(e[n[1]]!==void 0){var s;switch(n[2]){case"string":s=ar(String(e[n[1]]));break;case"bool":s=e[n[1]]?"true":"false";break}s!==void 0&&(t[t.length]=r(n[0],s))}}),t[t.length]=r("HeadingPairs",r("vt:vector",r("vt:variant","<vt:lpstr>Worksheets</vt:lpstr>")+r("vt:variant",r("vt:i4",String(e.Worksheets))),{size:2,baseType:"variant"})),t[t.length]=r("TitlesOfParts",r("vt:vector",e.SheetNames.map(function(n){return"<vt:lpstr>"+ar(n)+"</vt:lpstr>"}).join(""),{size:e.Worksheets,baseType:"lpstr"})),t.length>2&&(t[t.length]="</Properties>",t[1]=t[1].replace("/>",">")),t.join("")}function _B(e){var t=[un,Ve("Properties",null,{xmlns:Nn.CUST_PROPS,"xmlns:vt":Nn.vt})];if(!e)return t.join("");var r=1;return Gn(e).forEach(function(s){++r,t[t.length]=Ve("property",Ype(e[s]),{fmtid:"{D5CDD505-2E9C-101B-9397-08002B2CF9AE}",pid:r,name:ar(s)})}),t.length>2&&(t[t.length]="</Properties>",t[1]=t[1].replace("/>",">")),t.join("")}var lP={Title:"Title",Subject:"Subject",Author:"Author",Keywords:"Keywords",Comments:"Description",LastAuthor:"LastAuthor",RevNumber:"Revision",Application:"AppName",LastPrinted:"LastPrinted",CreatedDate:"Created",ModifiedDate:"LastSaved",Category:"Category",Manager:"Manager",Company:"Company",AppVersion:"Version",ContentStatus:"ContentStatus",Identifier:"Identifier",Language:"Language"};function Dxe(e,t){var r=[];return Gn(lP).map(function(n){for(var s=0;s<Xc.length;++s)if(Xc[s][1]==n)return Xc[s];for(s=0;s<jd.length;++s)if(jd[s][1]==n)return jd[s];throw n}).forEach(function(n){if(e[n[1]]!=null){var s=t&&t.Props&&t.Props[n[1]]!=null?t.Props[n[1]]:e[n[1]];switch(n[2]){case"date":s=new Date(s).toISOString().replace(/\.\d*Z/,"Z");break}typeof s=="number"?s=String(s):s===!0||s===!1?s=s?"1":"0":s instanceof Date&&(s=new Date(s).toISOString().replace(/\.\d*Z/,"")),r.push(Vn(lP[n[1]]||n[1],s))}}),Ve("DocumentProperties",r.join(""),{xmlns:as.o})}function Pxe(e,t){var r=["Worksheets","SheetNames"],n="CustomDocumentProperties",s=[];return e&&Gn(e).forEach(function(i){if(Object.prototype.hasOwnProperty.call(e,i)){for(var l=0;l<Xc.length;++l)if(i==Xc[l][1])return;for(l=0;l<jd.length;++l)if(i==jd[l][1])return;for(l=0;l<r.length;++l)if(i==r[l])return;var c=e[i],d="string";typeof c=="number"?(d="float",c=String(c)):c===!0||c===!1?(d="boolean",c=c?"1":"0"):c=String(c),s.push(Ve(K5(i),c,{"dt:dt":d}))}}),t&&Gn(t).forEach(function(i){if(Object.prototype.hasOwnProperty.call(t,i)&&!(e&&Object.prototype.hasOwnProperty.call(e,i))){var l=t[i],c="string";typeof l=="number"?(c="float",l=String(l)):l===!0||l===!1?(c="boolean",l=l?"1":"0"):l instanceof Date?(c="dateTime.tz",l=l.toISOString()):l=String(l),s.push(Ve(K5(i),l,{"dt:dt":c}))}}),"<"+n+' xmlns="'+as.o+'">'+s.join("")+"</"+n+">"}function Mxe(e){var t=typeof e=="string"?new Date(Date.parse(e)):e,r=t.getTime()/1e3+11644473600,n=r%Math.pow(2,32),s=(r-n)/Math.pow(2,32);n*=1e7,s*=1e7;var i=n/Math.pow(2,32)|0;i>0&&(n=n%Math.pow(2,32),s+=i);var l=Ae(8);return l.write_shift(4,n),l.write_shift(4,s),l}function oP(e,t){var r=Ae(4),n=Ae(4);switch(r.write_shift(4,e==80?31:e),e){case 3:n.write_shift(-4,t);break;case 5:n=Ae(8),n.write_shift(8,t,"f");break;case 11:n.write_shift(4,t?1:0);break;case 64:n=Mxe(t);break;case 31:case 80:for(n=Ae(4+2*(t.length+1)+(t.length%2?0:2)),n.write_shift(4,t.length+1),n.write_shift(0,t,"dbcs");n.l!=n.length;)n.write_shift(1,0);break;default:throw new Error("TypedPropertyValue unrecognized type "+e+" "+t)}return Hn([r,n])}var kB=["CodePage","Thumbnail","_PID_LINKBASE","_PID_HLINKS","SystemIdentifier","FMTID"];function Rxe(e){switch(typeof e){case"boolean":return 11;case"number":return(e|0)==e?3:5;case"string":return 31;case"object":if(e instanceof Date)return 64;break}return-1}function cP(e,t,r){var n=Ae(8),s=[],i=[],l=8,c=0,d=Ae(8),f=Ae(8);if(d.write_shift(4,2),d.write_shift(4,1200),f.write_shift(4,1),i.push(d),s.push(f),l+=8+d.length,!t){f=Ae(8),f.write_shift(4,0),s.unshift(f);var h=[Ae(4)];for(h[0].write_shift(4,e.length),c=0;c<e.length;++c){var g=e[c][0];for(d=Ae(8+2*(g.length+1)+(g.length%2?0:2)),d.write_shift(4,c+2),d.write_shift(4,g.length+1),d.write_shift(0,g,"dbcs");d.l!=d.length;)d.write_shift(1,0);h.push(d)}d=Hn(h),i.unshift(d),l+=8+d.length}for(c=0;c<e.length;++c)if(!(t&&!t[e[c][0]])&&!(kB.indexOf(e[c][0])>-1||NB.indexOf(e[c][0])>-1)&&e[c][1]!=null){var p=e[c][1],y=0;if(t){y=+t[e[c][0]];var b=r[y];if(b.p=="version"&&typeof p=="string"){var w=p.split(".");p=(+w[0]<<16)+(+w[1]||0)}d=oP(b.t,p)}else{var j=Rxe(p);j==-1&&(j=31,p=String(p)),d=oP(j,p)}i.push(d),f=Ae(8),f.write_shift(4,t?y:2+c),s.push(f),l+=8+d.length}var S=8*(i.length+1);for(c=0;c<i.length;++c)s[c].write_shift(4,S),S+=i[c].length;return n.write_shift(4,l),n.write_shift(4,i.length),Hn([n].concat(s).concat(i))}function uP(e,t,r,n,s,i){var l=Ae(s?68:48),c=[l];l.write_shift(2,65534),l.write_shift(2,0),l.write_shift(4,842412599),l.write_shift(16,dr.utils.consts.HEADER_CLSID,"hex"),l.write_shift(4,s?2:1),l.write_shift(16,t,"hex"),l.write_shift(4,s?68:48);var d=cP(e,r,n);if(c.push(d),s){var f=cP(s,null,null);l.write_shift(16,i,"hex"),l.write_shift(4,68+d.length),c.push(f)}return Hn(c)}function Ixe(e,t){t||(t=Ae(e));for(var r=0;r<e;++r)t.write_shift(1,0);return t}function Fxe(e,t){return e.read_shift(t)===1}function fa(e,t){return t||(t=Ae(2)),t.write_shift(2,+!!e),t}function EB(e){return e.read_shift(2,"u")}function Is(e,t){return t||(t=Ae(2)),t.write_shift(2,e),t}function TB(e,t,r){return r||(r=Ae(2)),r.write_shift(1,t=="e"?+e:+!!e),r.write_shift(1,t=="e"?1:0),r}function AB(e,t,r){var n=e.read_shift(r&&r.biff>=12?2:1),s="sbcs-cont";if(r&&r.biff>=8,!r||r.biff==8){var i=e.read_shift(1);i&&(s="dbcs-cont")}else r.biff==12&&(s="wstr");r.biff>=2&&r.biff<=5&&(s="cpstr");var l=n?e.read_shift(n,s):"";return l}function Lxe(e){var t=e.t||"",r=Ae(3);r.write_shift(2,t.length),r.write_shift(1,1);var n=Ae(2*t.length);n.write_shift(2*t.length,t,"utf16le");var s=[r,n];return Hn(s)}function Bxe(e,t,r){var n;if(r){if(r.biff>=2&&r.biff<=5)return e.read_shift(t,"cpstr");if(r.biff>=12)return e.read_shift(t,"dbcs-cont")}var s=e.read_shift(1);return s===0?n=e.read_shift(t,"sbcs-cont"):n=e.read_shift(t,"dbcs-cont"),n}function $xe(e,t,r){var n=e.read_shift(r&&r.biff==2?1:2);return n===0?(e.l++,""):Bxe(e,n,r)}function Uxe(e,t,r){if(r.biff>5)return $xe(e,t,r);var n=e.read_shift(1);return n===0?(e.l++,""):e.read_shift(n,r.biff<=4||!e.lens?"cpstr":"sbcs-cont")}function CB(e,t,r){return r||(r=Ae(3+2*e.length)),r.write_shift(2,e.length),r.write_shift(1,1),r.write_shift(31,e,"utf16le"),r}function dP(e,t){t||(t=Ae(6+e.length*2)),t.write_shift(4,1+e.length);for(var r=0;r<e.length;++r)t.write_shift(2,e.charCodeAt(r));return t.write_shift(2,0),t}function zxe(e){var t=Ae(512),r=0,n=e.Target;n.slice(0,7)=="file://"&&(n=n.slice(7));var s=n.indexOf("#"),i=s>-1?31:23;switch(n.charAt(0)){case"#":i=28;break;case".":i&=-3;break}t.write_shift(4,2),t.write_shift(4,i);var l=[8,6815827,6619237,4849780,83];for(r=0;r<l.length;++r)t.write_shift(4,l[r]);if(i==28)n=n.slice(1),dP(n,t);else if(i&2){for(l="e0 c9 ea 79 f9 ba ce 11 8c 82 00 aa 00 4b a9 0b".split(" "),r=0;r<l.length;++r)t.write_shift(1,parseInt(l[r],16));var c=s>-1?n.slice(0,s):n;for(t.write_shift(4,2*(c.length+1)),r=0;r<c.length;++r)t.write_shift(2,c.charCodeAt(r));t.write_shift(2,0),i&8&&dP(s>-1?n.slice(s+1):"",t)}else{for(l="03 03 00 00 00 00 00 00 c0 00 00 00 00 00 00 46".split(" "),r=0;r<l.length;++r)t.write_shift(1,parseInt(l[r],16));for(var d=0;n.slice(d*3,d*3+3)=="../"||n.slice(d*3,d*3+3)=="..\\";)++d;for(t.write_shift(2,d),t.write_shift(4,n.length-3*d+1),r=0;r<n.length-3*d;++r)t.write_shift(1,n.charCodeAt(r+3*d)&255);for(t.write_shift(1,0),t.write_shift(2,65535),t.write_shift(2,57005),r=0;r<6;++r)t.write_shift(4,0)}return t.slice(0,t.l)}function ou(e,t,r,n){return n||(n=Ae(6)),n.write_shift(2,e),n.write_shift(2,t),n.write_shift(2,r||0),n}function Hxe(e,t,r){var n=r.biff>8?4:2,s=e.read_shift(n),i=e.read_shift(n,"i"),l=e.read_shift(n,"i");return[s,i,l]}function Vxe(e){var t=e.read_shift(2),r=e.read_shift(2),n=e.read_shift(2),s=e.read_shift(2);return{s:{c:n,r:t},e:{c:s,r}}}function OB(e,t){return t||(t=Ae(8)),t.write_shift(2,e.s.r),t.write_shift(2,e.e.r),t.write_shift(2,e.s.c),t.write_shift(2,e.e.c),t}function zk(e,t,r){var n=1536,s=16;switch(r.bookType){case"biff8":break;case"biff5":n=1280,s=8;break;case"biff4":n=4,s=6;break;case"biff3":n=3,s=6;break;case"biff2":n=2,s=4;break;case"xla":break;default:throw new Error("unsupported BIFF version")}var i=Ae(s);return i.write_shift(2,n),i.write_shift(2,t),s>4&&i.write_shift(2,29282),s>6&&i.write_shift(2,1997),s>8&&(i.write_shift(2,49161),i.write_shift(2,1),i.write_shift(2,1798),i.write_shift(2,0)),i}function qxe(e,t){var r=!t||t.biff==8,n=Ae(r?112:54);for(n.write_shift(t.biff==8?2:1,7),r&&n.write_shift(1,0),n.write_shift(4,859007059),n.write_shift(4,5458548|(r?0:536870912));n.l<n.length;)n.write_shift(1,r?0:32);return n}function Wxe(e,t){var r=!t||t.biff>=8?2:1,n=Ae(8+r*e.name.length);n.write_shift(4,e.pos),n.write_shift(1,e.hs||0),n.write_shift(1,e.dt),n.write_shift(1,e.name.length),t.biff>=8&&n.write_shift(1,1),n.write_shift(r*e.name.length,e.name,t.biff<8?"sbcs":"utf16le");var s=n.slice(0,n.l);return s.l=n.l,s}function Gxe(e,t){var r=Ae(8);r.write_shift(4,e.Count),r.write_shift(4,e.Unique);for(var n=[],s=0;s<e.length;++s)n[s]=Lxe(e[s]);var i=Hn([r].concat(n));return i.parts=[r.length].concat(n.map(function(l){return l.length})),i}function Kxe(){var e=Ae(18);return e.write_shift(2,0),e.write_shift(2,0),e.write_shift(2,29280),e.write_shift(2,17600),e.write_shift(2,56),e.write_shift(2,0),e.write_shift(2,0),e.write_shift(2,1),e.write_shift(2,500),e}function Yxe(e){var t=Ae(18),r=1718;return e&&e.RTL&&(r|=64),t.write_shift(2,r),t.write_shift(4,0),t.write_shift(4,64),t.write_shift(4,0),t.write_shift(4,0),t}function Xxe(e,t){var r=e.name||"Arial",n=t&&t.biff==5,s=n?15+r.length:16+2*r.length,i=Ae(s);return i.write_shift(2,e.sz*20),i.write_shift(4,0),i.write_shift(2,400),i.write_shift(4,0),i.write_shift(2,0),i.write_shift(1,r.length),n||i.write_shift(1,1),i.write_shift((n?1:2)*r.length,r,n?"sbcs":"utf16le"),i}function Qxe(e,t,r,n){var s=Ae(10);return ou(e,t,n,s),s.write_shift(4,r),s}function Zxe(e,t,r,n,s){var i=!s||s.biff==8,l=Ae(8+ +i+(1+i)*r.length);return ou(e,t,n,l),l.write_shift(2,r.length),i&&l.write_shift(1,1),l.write_shift((1+i)*r.length,r,i?"utf16le":"sbcs"),l}function Jxe(e,t,r,n){var s=r&&r.biff==5;n||(n=Ae(s?3+t.length:5+2*t.length)),n.write_shift(2,e),n.write_shift(s?1:2,t.length),s||n.write_shift(1,1),n.write_shift((s?1:2)*t.length,t,s?"sbcs":"utf16le");var i=n.length>n.l?n.slice(0,n.l):n;return i.l==null&&(i.l=i.length),i}function eye(e,t){var r=t.biff==8||!t.biff?4:2,n=Ae(2*r+6);return n.write_shift(r,e.s.r),n.write_shift(r,e.e.r+1),n.write_shift(2,e.s.c),n.write_shift(2,e.e.c+1),n.write_shift(2,0),n}function fP(e,t,r,n){var s=r&&r.biff==5;n||(n=Ae(s?16:20)),n.write_shift(2,0),e.style?(n.write_shift(2,e.numFmtId||0),n.write_shift(2,65524)):(n.write_shift(2,e.numFmtId||0),n.write_shift(2,t<<4));var i=0;return e.numFmtId>0&&s&&(i|=1024),n.write_shift(4,i),n.write_shift(4,0),s||n.write_shift(4,0),n.write_shift(2,0),n}function tye(e){var t=Ae(8);return t.write_shift(4,0),t.write_shift(2,0),t.write_shift(2,0),t}function rye(e,t,r,n,s,i){var l=Ae(8);return ou(e,t,n,l),TB(r,i,l),l}function nye(e,t,r,n){var s=Ae(14);return ou(e,t,n,s),lu(r,s),s}function aye(e,t,r){if(r.biff<8)return sye(e,t,r);for(var n=[],s=e.l+t,i=e.read_shift(r.biff>8?4:2);i--!==0;)n.push(Hxe(e,r.biff>8?12:6,r));if(e.l!=s)throw new Error("Bad ExternSheet: "+e.l+" != "+s);return n}function sye(e,t,r){e[e.l+1]==3&&e[e.l]++;var n=AB(e,t,r);return n.charCodeAt(0)==3?n.slice(1):n}function iye(e){var t=Ae(2+e.length*8);t.write_shift(2,e.length);for(var r=0;r<e.length;++r)OB(e[r],t);return t}function lye(e){var t=Ae(24),r=_n(e[0]);t.write_shift(2,r.r),t.write_shift(2,r.r),t.write_shift(2,r.c),t.write_shift(2,r.c);for(var n="d0 c9 ea 79 f9 ba ce 11 8c 82 00 aa 00 4b a9 0b".split(" "),s=0;s<16;++s)t.write_shift(1,parseInt(n[s],16));return Hn([t,zxe(e[1])])}function oye(e){var t=e[1].Tooltip,r=Ae(10+2*(t.length+1));r.write_shift(2,2048);var n=_n(e[0]);r.write_shift(2,n.r),r.write_shift(2,n.r),r.write_shift(2,n.c),r.write_shift(2,n.c);for(var s=0;s<t.length;++s)r.write_shift(2,t.charCodeAt(s));return r.write_shift(2,0),r}function cye(e){return e||(e=Ae(4)),e.write_shift(2,1),e.write_shift(2,1),e}function uye(e,t,r){if(!r.cellStyles)return Ui(e,t);var n=r&&r.biff>=12?4:2,s=e.read_shift(n),i=e.read_shift(n),l=e.read_shift(n),c=e.read_shift(n),d=e.read_shift(2);n==2&&(e.l+=2);var f={s,e:i,w:l,ixfe:c,flags:d};return(r.biff>=5||!r.biff)&&(f.level=d>>8&7),f}function dye(e,t){var r=Ae(12);r.write_shift(2,t),r.write_shift(2,t),r.write_shift(2,e.width*256),r.write_shift(2,0);var n=0;return e.hidden&&(n|=1),r.write_shift(1,n),n=e.level||0,r.write_shift(1,n),r.write_shift(2,0),r}function fye(e){for(var t=Ae(2*e),r=0;r<e;++r)t.write_shift(2,r+1);return t}function hye(e,t,r){var n=Ae(15);return Nm(n,e,t),n.write_shift(8,r,"f"),n}function mye(e,t,r){var n=Ae(9);return Nm(n,e,t),n.write_shift(2,r),n}var gye=function(){var e={1:437,2:850,3:1252,4:1e4,100:852,101:866,102:865,103:861,104:895,105:620,106:737,107:857,120:950,121:949,122:936,123:932,124:874,125:1255,126:1256,150:10007,151:10029,152:10006,200:1250,201:1251,202:1254,203:1253,0:20127,8:865,9:437,10:850,11:437,13:437,14:850,15:437,16:850,17:437,18:850,19:932,20:850,21:437,22:850,23:865,24:437,25:437,26:850,27:437,28:863,29:850,31:852,34:852,35:852,36:860,37:850,38:866,55:850,64:852,77:936,78:949,79:950,80:874,87:1252,88:1252,89:1252,108:863,134:737,135:852,136:857,204:1257,255:16969},t=Ok({1:437,2:850,3:1252,4:1e4,100:852,101:866,102:865,103:861,104:895,105:620,106:737,107:857,120:950,121:949,122:936,123:932,124:874,125:1255,126:1256,150:10007,151:10029,152:10006,200:1250,201:1251,202:1254,203:1253,0:20127});function r(c,d){var f=[],h=iu(1);switch(d.type){case"base64":h=oi(Tl(c));break;case"binary":h=oi(c);break;case"buffer":case"array":h=c;break}ts(h,0);var g=h.read_shift(1),p=!!(g&136),y=!1,b=!1;switch(g){case 2:break;case 3:break;case 48:y=!0,p=!0;break;case 49:y=!0,p=!0;break;case 131:break;case 139:break;case 140:b=!0;break;case 245:break;default:throw new Error("DBF Unsupported Version: "+g.toString(16))}var w=0,j=521;g==2&&(w=h.read_shift(2)),h.l+=3,g!=2&&(w=h.read_shift(4)),w>1048576&&(w=1e6),g!=2&&(j=h.read_shift(2));var S=h.read_shift(2),k=d.codepage||1252;g!=2&&(h.l+=16,h.read_shift(1),h[h.l]!==0&&(k=e[h[h.l]]),h.l+=1,h.l+=2),b&&(h.l+=36);for(var E=[],C={},T=Math.min(h.length,g==2?521:j-10-(y?264:0)),A=b?32:11;h.l<T&&h[h.l]!=13;)switch(C={},C.name=vx.utils.decode(k,h.slice(h.l,h.l+A)).replace(/[\u0000\r\n].*$/g,""),h.l+=A,C.type=String.fromCharCode(h.read_shift(1)),g!=2&&!b&&(C.offset=h.read_shift(4)),C.len=h.read_shift(1),g==2&&(C.offset=h.read_shift(2)),C.dec=h.read_shift(1),C.name.length&&E.push(C),g!=2&&(h.l+=b?13:14),C.type){case"B":(!y||C.len!=8)&&d.WTF&&console.log("Skipping "+C.name+":"+C.type);break;case"G":case"P":d.WTF&&console.log("Skipping "+C.name+":"+C.type);break;case"+":case"0":case"@":case"C":case"D":case"F":case"I":case"L":case"M":case"N":case"O":case"T":case"Y":break;default:throw new Error("Unknown Field Type: "+C.type)}if(h[h.l]!==13&&(h.l=j-1),h.read_shift(1)!==13)throw new Error("DBF Terminator not found "+h.l+" "+h[h.l]);h.l=j;var O=0,D=0;for(f[0]=[],D=0;D!=E.length;++D)f[0][D]=E[D].name;for(;w-- >0;){if(h[h.l]===42){h.l+=S;continue}for(++h.l,f[++O]=[],D=0,D=0;D!=E.length;++D){var R=h.slice(h.l,h.l+E[D].len);h.l+=E[D].len,ts(R,0);var B=vx.utils.decode(k,R);switch(E[D].type){case"C":B.trim().length&&(f[O][D]=B.replace(/\s+$/,""));break;case"D":B.length===8?f[O][D]=new Date(+B.slice(0,4),+B.slice(4,6)-1,+B.slice(6,8)):f[O][D]=B;break;case"F":f[O][D]=parseFloat(B.trim());break;case"+":case"I":f[O][D]=b?R.read_shift(-4,"i")^2147483648:R.read_shift(4,"i");break;case"L":switch(B.trim().toUpperCase()){case"Y":case"T":f[O][D]=!0;break;case"N":case"F":f[O][D]=!1;break;case"":case"?":break;default:throw new Error("DBF Unrecognized L:|"+B+"|")}break;case"M":if(!p)throw new Error("DBF Unexpected MEMO for type "+g.toString(16));f[O][D]="##MEMO##"+(b?parseInt(B.trim(),10):R.read_shift(4));break;case"N":B=B.replace(/\u0000/g,"").trim(),B&&B!="."&&(f[O][D]=+B||0);break;case"@":f[O][D]=new Date(R.read_shift(-8,"f")-621356832e5);break;case"T":f[O][D]=new Date((R.read_shift(4)-2440588)*864e5+R.read_shift(4));break;case"Y":f[O][D]=R.read_shift(4,"i")/1e4+R.read_shift(4,"i")/1e4*Math.pow(2,32);break;case"O":f[O][D]=-R.read_shift(-8,"f");break;case"B":if(y&&E[D].len==8){f[O][D]=R.read_shift(8,"f");break}case"G":case"P":R.l+=E[D].len;break;case"0":if(E[D].name==="_NullFlags")break;default:throw new Error("DBF Unsupported data type "+E[D].type)}}}if(g!=2&&h.l<h.length&&h[h.l++]!=26)throw new Error("DBF EOF Marker missing "+(h.l-1)+" of "+h.length+" "+h[h.l-1].toString(16));return d&&d.sheetRows&&(f=f.slice(0,d.sheetRows)),d.DBF=E,f}function n(c,d){var f=d||{};f.dateNF||(f.dateNF="yyyymmdd");var h=uf(r(c,f),f);return h["!cols"]=f.DBF.map(function(g){return{wch:g.len,DBF:g}}),delete f.DBF,h}function s(c,d){try{return xu(n(c,d),d)}catch(f){if(d&&d.WTF)throw f}return{SheetNames:[],Sheets:{}}}var i={B:8,C:250,L:1,D:8,"?":0,"":0};function l(c,d){var f=d||{};if(+f.codepage>=0&&Rh(+f.codepage),f.type=="string")throw new Error("Cannot write DBF to JS string");var h=Ia(),g=Dx(c,{header:1,raw:!0,cellDates:!0}),p=g[0],y=g.slice(1),b=c["!cols"]||[],w=0,j=0,S=0,k=1;for(w=0;w<p.length;++w){if(((b[w]||{}).DBF||{}).name){p[w]=b[w].DBF.name,++S;continue}if(p[w]!=null){if(++S,typeof p[w]=="number"&&(p[w]=p[w].toString(10)),typeof p[w]!="string")throw new Error("DBF Invalid column name "+p[w]+" |"+typeof p[w]+"|");if(p.indexOf(p[w])!==w){for(j=0;j<1024;++j)if(p.indexOf(p[w]+"_"+j)==-1){p[w]+="_"+j;break}}}}var E=Er(c["!ref"]),C=[],T=[],A=[];for(w=0;w<=E.e.c-E.s.c;++w){var O="",D="",R=0,B=[];for(j=0;j<y.length;++j)y[j][w]!=null&&B.push(y[j][w]);if(B.length==0||p[w]==null){C[w]="?";continue}for(j=0;j<B.length;++j){switch(typeof B[j]){case"number":D="B";break;case"string":D="C";break;case"boolean":D="L";break;case"object":D=B[j]instanceof Date?"D":"C";break;default:D="C"}R=Math.max(R,String(B[j]).length),O=O&&O!=D?"C":D}R>250&&(R=250),D=((b[w]||{}).DBF||{}).type,D=="C"&&b[w].DBF.len>R&&(R=b[w].DBF.len),O=="B"&&D=="N"&&(O="N",A[w]=b[w].DBF.dec,R=b[w].DBF.len),T[w]=O=="C"||D=="N"?R:i[O]||0,k+=T[w],C[w]=O}var V=h.next(32);for(V.write_shift(4,318902576),V.write_shift(4,y.length),V.write_shift(2,296+32*S),V.write_shift(2,k),w=0;w<4;++w)V.write_shift(4,0);for(V.write_shift(4,0|(+t[P9]||3)<<8),w=0,j=0;w<p.length;++w)if(p[w]!=null){var W=h.next(32),se=(p[w].slice(-10)+"\0\0\0\0\0\0\0\0\0\0\0").slice(0,11);W.write_shift(1,se,"sbcs"),W.write_shift(1,C[w]=="?"?"C":C[w],"sbcs"),W.write_shift(4,j),W.write_shift(1,T[w]||i[C[w]]||0),W.write_shift(1,A[w]||0),W.write_shift(1,2),W.write_shift(4,0),W.write_shift(1,0),W.write_shift(4,0),W.write_shift(4,0),j+=T[w]||i[C[w]]||0}var oe=h.next(264);for(oe.write_shift(4,13),w=0;w<65;++w)oe.write_shift(4,0);for(w=0;w<y.length;++w){var Y=h.next(k);for(Y.write_shift(1,0),j=0;j<p.length;++j)if(p[j]!=null)switch(C[j]){case"L":Y.write_shift(1,y[w][j]==null?63:y[w][j]?84:70);break;case"B":Y.write_shift(8,y[w][j]||0,"f");break;case"N":var Q="0";for(typeof y[w][j]=="number"&&(Q=y[w][j].toFixed(A[j]||0)),S=0;S<T[j]-Q.length;++S)Y.write_shift(1,32);Y.write_shift(1,Q,"sbcs");break;case"D":y[w][j]?(Y.write_shift(4,("0000"+y[w][j].getFullYear()).slice(-4),"sbcs"),Y.write_shift(2,("00"+(y[w][j].getMonth()+1)).slice(-2),"sbcs"),Y.write_shift(2,("00"+y[w][j].getDate()).slice(-2),"sbcs")):Y.write_shift(8,"00000000","sbcs");break;case"C":var te=String(y[w][j]!=null?y[w][j]:"").slice(0,T[j]);for(Y.write_shift(1,te,"sbcs"),S=0;S<T[j]-te.length;++S)Y.write_shift(1,32);break}}return h.next(1).write_shift(1,26),h.end()}return{to_workbook:s,to_sheet:n,from_sheet:l}}(),pye=function(){var e={AA:"À",BA:"Á",CA:"Â",DA:195,HA:"Ä",JA:197,AE:"È",BE:"É",CE:"Ê",HE:"Ë",AI:"Ì",BI:"Í",CI:"Î",HI:"Ï",AO:"Ò",BO:"Ó",CO:"Ô",DO:213,HO:"Ö",AU:"Ù",BU:"Ú",CU:"Û",HU:"Ü",Aa:"à",Ba:"á",Ca:"â",Da:227,Ha:"ä",Ja:229,Ae:"è",Be:"é",Ce:"ê",He:"ë",Ai:"ì",Bi:"í",Ci:"î",Hi:"ï",Ao:"ò",Bo:"ó",Co:"ô",Do:245,Ho:"ö",Au:"ù",Bu:"ú",Cu:"û",Hu:"ü",KC:"Ç",Kc:"ç",q:"æ",z:"œ",a:"Æ",j:"Œ",DN:209,Dn:241,Hy:255,S:169,c:170,R:174,"B ":180,0:176,1:177,2:178,3:179,5:181,6:182,7:183,Q:185,k:186,b:208,i:216,l:222,s:240,y:248,"!":161,'"':162,"#":163,"(":164,"%":165,"'":167,"H ":168,"+":171,";":187,"<":188,"=":189,">":190,"?":191,"{":223},t=new RegExp("\x1BN("+Gn(e).join("|").replace(/\|\|\|/,"|\\||").replace(/([?()+])/g,"\\$1")+"|\\|)","gm"),r=function(p,y){var b=e[y];return typeof b=="number"?I5(b):b},n=function(p,y,b){var w=y.charCodeAt(0)-32<<4|b.charCodeAt(0)-48;return w==59?p:I5(w)};e["|"]=254;function s(p,y){switch(y.type){case"base64":return i(Tl(p),y);case"binary":return i(p,y);case"buffer":return i(Vt&&Buffer.isBuffer(p)?p.toString("binary"):ym(p),y);case"array":return i(Fy(p),y)}throw new Error("Unrecognized type "+y.type)}function i(p,y){var b=p.split(/[\n\r]+/),w=-1,j=-1,S=0,k=0,E=[],C=[],T=null,A={},O=[],D=[],R=[],B=0,V;for(+y.codepage>=0&&Rh(+y.codepage);S!==b.length;++S){B=0;var W=b[S].trim().replace(/\x1B([\x20-\x2F])([\x30-\x3F])/g,n).replace(t,r),se=W.replace(/;;/g,"\0").split(";").map(function(q){return q.replace(/\u0000/g,";")}),oe=se[0],Y;if(W.length>0)switch(oe){case"ID":break;case"E":break;case"B":break;case"O":break;case"W":break;case"P":se[1].charAt(0)=="P"&&C.push(W.slice(3).replace(/;;/g,";"));break;case"C":var Q=!1,te=!1,ue=!1,ve=!1,U=-1,ie=-1;for(k=1;k<se.length;++k)switch(se[k].charAt(0)){case"A":break;case"X":j=parseInt(se[k].slice(1))-1,te=!0;break;case"Y":for(w=parseInt(se[k].slice(1))-1,te||(j=0),V=E.length;V<=w;++V)E[V]=[];break;case"K":Y=se[k].slice(1),Y.charAt(0)==='"'?Y=Y.slice(1,Y.length-1):Y==="TRUE"?Y=!0:Y==="FALSE"?Y=!1:isNaN(xl(Y))?isNaN(Fh(Y).getDate())||(Y=ya(Y)):(Y=xl(Y),T!==null&&q9(T)&&(Y=Y9(Y))),Q=!0;break;case"E":ve=!0;var F=mve(se[k].slice(1),{r:w,c:j});E[w][j]=[E[w][j],F];break;case"S":ue=!0,E[w][j]=[E[w][j],"S5S"];break;case"G":break;case"R":U=parseInt(se[k].slice(1))-1;break;case"C":ie=parseInt(se[k].slice(1))-1;break;default:if(y&&y.WTF)throw new Error("SYLK bad record "+W)}if(Q&&(E[w][j]&&E[w][j].length==2?E[w][j][0]=Y:E[w][j]=Y,T=null),ue){if(ve)throw new Error("SYLK shared formula cannot have own formula");var G=U>-1&&E[U][ie];if(!G||!G[1])throw new Error("SYLK shared formula cannot find base");E[w][j][1]=gve(G[1],{r:w-U,c:j-ie})}break;case"F":var z=0;for(k=1;k<se.length;++k)switch(se[k].charAt(0)){case"X":j=parseInt(se[k].slice(1))-1,++z;break;case"Y":for(w=parseInt(se[k].slice(1))-1,V=E.length;V<=w;++V)E[V]=[];break;case"M":B=parseInt(se[k].slice(1))/20;break;case"F":break;case"G":break;case"P":T=C[parseInt(se[k].slice(1))];break;case"S":break;case"D":break;case"N":break;case"W":for(R=se[k].slice(1).split(" "),V=parseInt(R[0],10);V<=parseInt(R[1],10);++V)B=parseInt(R[2],10),D[V-1]=B===0?{hidden:!0}:{wch:B},Hk(D[V-1]);break;case"C":j=parseInt(se[k].slice(1))-1,D[j]||(D[j]={});break;case"R":w=parseInt(se[k].slice(1))-1,O[w]||(O[w]={}),B>0?(O[w].hpt=B,O[w].hpx=IB(B)):B===0&&(O[w].hidden=!0);break;default:if(y&&y.WTF)throw new Error("SYLK bad record "+W)}z<1&&(T=null);break;default:if(y&&y.WTF)throw new Error("SYLK bad record "+W)}}return O.length>0&&(A["!rows"]=O),D.length>0&&(A["!cols"]=D),y&&y.sheetRows&&(E=E.slice(0,y.sheetRows)),[E,A]}function l(p,y){var b=s(p,y),w=b[0],j=b[1],S=uf(w,y);return Gn(j).forEach(function(k){S[k]=j[k]}),S}function c(p,y){return xu(l(p,y),y)}function d(p,y,b,w){var j="C;Y"+(b+1)+";X"+(w+1)+";K";switch(p.t){case"n":j+=p.v||0,p.f&&!p.F&&(j+=";E"+qk(p.f,{r:b,c:w}));break;case"b":j+=p.v?"TRUE":"FALSE";break;case"e":j+=p.w||p.v;break;case"d":j+='"'+(p.w||p.v)+'"';break;case"s":j+='"'+p.v.replace(/"/g,"").replace(/;/g,";;")+'"';break}return j}function f(p,y){y.forEach(function(b,w){var j="F;W"+(w+1)+" "+(w+1)+" ";b.hidden?j+="0":(typeof b.width=="number"&&!b.wpx&&(b.wpx=Tx(b.width)),typeof b.wpx=="number"&&!b.wch&&(b.wch=Ax(b.wpx)),typeof b.wch=="number"&&(j+=Math.round(b.wch))),j.charAt(j.length-1)!=" "&&p.push(j)})}function h(p,y){y.forEach(function(b,w){var j="F;";b.hidden?j+="M0;":b.hpt?j+="M"+20*b.hpt+";":b.hpx&&(j+="M"+20*Cx(b.hpx)+";"),j.length>2&&p.push(j+"R"+(w+1))})}function g(p,y){var b=["ID;PWXL;N;E"],w=[],j=Er(p["!ref"]),S,k=Array.isArray(p),E=`\r
`;b.push("P;PGeneral"),b.push("F;P0;DG0G8;M255"),p["!cols"]&&f(b,p["!cols"]),p["!rows"]&&h(b,p["!rows"]),b.push("B;Y"+(j.e.r-j.s.r+1)+";X"+(j.e.c-j.s.c+1)+";D"+[j.s.c,j.s.r,j.e.c,j.e.r].join(" "));for(var C=j.s.r;C<=j.e.r;++C)for(var T=j.s.c;T<=j.e.c;++T){var A=sr({r:C,c:T});S=k?(p[C]||[])[T]:p[A],!(!S||S.v==null&&(!S.f||S.F))&&w.push(d(S,p,C,T))}return b.join(E)+E+w.join(E)+E+"E"+E}return{to_workbook:c,to_sheet:l,from_sheet:g}}(),xye=function(){function e(i,l){switch(l.type){case"base64":return t(Tl(i),l);case"binary":return t(i,l);case"buffer":return t(Vt&&Buffer.isBuffer(i)?i.toString("binary"):ym(i),l);case"array":return t(Fy(i),l)}throw new Error("Unrecognized type "+l.type)}function t(i,l){for(var c=i.split(`
`),d=-1,f=-1,h=0,g=[];h!==c.length;++h){if(c[h].trim()==="BOT"){g[++d]=[],f=0;continue}if(!(d<0)){var p=c[h].trim().split(","),y=p[0],b=p[1];++h;for(var w=c[h]||"";(w.match(/["]/g)||[]).length&1&&h<c.length-1;)w+=`
`+c[++h];switch(w=w.trim(),+y){case-1:if(w==="BOT"){g[++d]=[],f=0;continue}else if(w!=="EOD")throw new Error("Unrecognized DIF special command "+w);break;case 0:w==="TRUE"?g[d][f]=!0:w==="FALSE"?g[d][f]=!1:isNaN(xl(b))?isNaN(Fh(b).getDate())?g[d][f]=b:g[d][f]=ya(b):g[d][f]=xl(b),++f;break;case 1:w=w.slice(1,w.length-1),w=w.replace(/""/g,'"'),w&&w.match(/^=".*"$/)&&(w=w.slice(2,-1)),g[d][f++]=w!==""?w:null;break}if(w==="EOD")break}}return l&&l.sheetRows&&(g=g.slice(0,l.sheetRows)),g}function r(i,l){return uf(e(i,l),l)}function n(i,l){return xu(r(i,l),l)}var s=function(){var i=function(d,f,h,g,p){d.push(f),d.push(h+","+g),d.push('"'+p.replace(/"/g,'""')+'"')},l=function(d,f,h,g){d.push(f+","+h),d.push(f==1?'"'+g.replace(/"/g,'""')+'"':g)};return function(d){var f=[],h=Er(d["!ref"]),g,p=Array.isArray(d);i(f,"TABLE",0,1,"sheetjs"),i(f,"VECTORS",0,h.e.r-h.s.r+1,""),i(f,"TUPLES",0,h.e.c-h.s.c+1,""),i(f,"DATA",0,0,"");for(var y=h.s.r;y<=h.e.r;++y){l(f,-1,0,"BOT");for(var b=h.s.c;b<=h.e.c;++b){var w=sr({r:y,c:b});if(g=p?(d[y]||[])[b]:d[w],!g){l(f,1,0,"");continue}switch(g.t){case"n":var j=g.w;!j&&g.v!=null&&(j=g.v),j==null?g.f&&!g.F?l(f,1,0,"="+g.f):l(f,1,0,""):l(f,0,j,"V");break;case"b":l(f,0,g.v?1:0,g.v?"TRUE":"FALSE");break;case"s":l(f,1,0,isNaN(g.v)?g.v:'="'+g.v+'"');break;case"d":g.w||(g.w=Uo(g.z||Wr[14],Ba(ya(g.v)))),l(f,0,g.w,"V");break;default:l(f,1,0,"")}}}l(f,-1,0,"EOD");var S=`\r
`,k=f.join(S);return k}}();return{to_workbook:n,to_sheet:r,from_sheet:s}}(),DB=function(){function e(g){return g.replace(/\\b/g,"\\").replace(/\\c/g,":").replace(/\\n/g,`
`)}function t(g){return g.replace(/\\/g,"\\b").replace(/:/g,"\\c").replace(/\n/g,"\\n")}function r(g,p){for(var y=g.split(`
`),b=-1,w=-1,j=0,S=[];j!==y.length;++j){var k=y[j].trim().split(":");if(k[0]==="cell"){var E=_n(k[1]);if(S.length<=E.r)for(b=S.length;b<=E.r;++b)S[b]||(S[b]=[]);switch(b=E.r,w=E.c,k[2]){case"t":S[b][w]=e(k[3]);break;case"v":S[b][w]=+k[3];break;case"vtf":var C=k[k.length-1];case"vtc":switch(k[3]){case"nl":S[b][w]=!!+k[4];break;default:S[b][w]=+k[4];break}k[2]=="vtf"&&(S[b][w]=[S[b][w],C])}}}return p&&p.sheetRows&&(S=S.slice(0,p.sheetRows)),S}function n(g,p){return uf(r(g,p),p)}function s(g,p){return xu(n(g,p),p)}var i=["socialcalc:version:1.5","MIME-Version: 1.0","Content-Type: multipart/mixed; boundary=SocialCalcSpreadsheetControlSave"].join(`
`),l=["--SocialCalcSpreadsheetControlSave","Content-type: text/plain; charset=UTF-8"].join(`
`)+`
`,c=["# SocialCalc Spreadsheet Control Save","part:sheet"].join(`
`),d="--SocialCalcSpreadsheetControlSave--";function f(g){if(!g||!g["!ref"])return"";for(var p=[],y=[],b,w="",j=ps(g["!ref"]),S=Array.isArray(g),k=j.s.r;k<=j.e.r;++k)for(var E=j.s.c;E<=j.e.c;++E)if(w=sr({r:k,c:E}),b=S?(g[k]||[])[E]:g[w],!(!b||b.v==null||b.t==="z")){switch(y=["cell",w,"t"],b.t){case"s":case"str":y.push(t(b.v));break;case"n":b.f?(y[2]="vtf",y[3]="n",y[4]=b.v,y[5]=t(b.f)):(y[2]="v",y[3]=b.v);break;case"b":y[2]="vt"+(b.f?"f":"c"),y[3]="nl",y[4]=b.v?"1":"0",y[5]=t(b.f||(b.v?"TRUE":"FALSE"));break;case"d":var C=Ba(ya(b.v));y[2]="vtc",y[3]="nd",y[4]=""+C,y[5]=b.w||Uo(b.z||Wr[14],C);break;case"e":continue}p.push(y.join(":"))}return p.push("sheet:c:"+(j.e.c-j.s.c+1)+":r:"+(j.e.r-j.s.r+1)+":tvf:1"),p.push("valueformat:1:text-wiki"),p.join(`
`)}function h(g){return[i,l,c,l,f(g),d].join(`
`)}return{to_workbook:s,to_sheet:n,from_sheet:h}}(),yye=function(){function e(h,g,p,y,b){b.raw?g[p][y]=h:h===""||(h==="TRUE"?g[p][y]=!0:h==="FALSE"?g[p][y]=!1:isNaN(xl(h))?isNaN(Fh(h).getDate())?g[p][y]=h:g[p][y]=ya(h):g[p][y]=xl(h))}function t(h,g){var p=g||{},y=[];if(!h||h.length===0)return y;for(var b=h.split(/[\r\n]/),w=b.length-1;w>=0&&b[w].length===0;)--w;for(var j=10,S=0,k=0;k<=w;++k)S=b[k].indexOf(" "),S==-1?S=b[k].length:S++,j=Math.max(j,S);for(k=0;k<=w;++k){y[k]=[];var E=0;for(e(b[k].slice(0,j).trim(),y,k,E,p),E=1;E<=(b[k].length-j)/10+1;++E)e(b[k].slice(j+(E-1)*10,j+E*10).trim(),y,k,E,p)}return p.sheetRows&&(y=y.slice(0,p.sheetRows)),y}var r={44:",",9:"	",59:";",124:"|"},n={44:3,9:2,59:1,124:0};function s(h){for(var g={},p=!1,y=0,b=0;y<h.length;++y)(b=h.charCodeAt(y))==34?p=!p:!p&&b in r&&(g[b]=(g[b]||0)+1);b=[];for(y in g)Object.prototype.hasOwnProperty.call(g,y)&&b.push([g[y],y]);if(!b.length){g=n;for(y in g)Object.prototype.hasOwnProperty.call(g,y)&&b.push([g[y],y])}return b.sort(function(w,j){return w[0]-j[0]||n[w[1]]-n[j[1]]}),r[b.pop()[1]]||44}function i(h,g){var p=g||{},y="",b=p.dense?[]:{},w={s:{c:0,r:0},e:{c:0,r:0}};h.slice(0,4)=="sep="?h.charCodeAt(5)==13&&h.charCodeAt(6)==10?(y=h.charAt(4),h=h.slice(7)):h.charCodeAt(5)==13||h.charCodeAt(5)==10?(y=h.charAt(4),h=h.slice(6)):y=s(h.slice(0,1024)):p&&p.FS?y=p.FS:y=s(h.slice(0,1024));var j=0,S=0,k=0,E=0,C=0,T=y.charCodeAt(0),A=!1,O=0,D=h.charCodeAt(0);h=h.replace(/\r\n/mg,`
`);var R=p.dateNF!=null?Mpe(p.dateNF):null;function B(){var V=h.slice(E,C),W={};if(V.charAt(0)=='"'&&V.charAt(V.length-1)=='"'&&(V=V.slice(1,-1).replace(/""/g,'"')),V.length===0)W.t="z";else if(p.raw)W.t="s",W.v=V;else if(V.trim().length===0)W.t="s",W.v=V;else if(V.charCodeAt(0)==61)V.charCodeAt(1)==34&&V.charCodeAt(V.length-1)==34?(W.t="s",W.v=V.slice(2,-1).replace(/""/g,'"')):pve(V)?(W.t="n",W.f=V.slice(1)):(W.t="s",W.v=V);else if(V=="TRUE")W.t="b",W.v=!0;else if(V=="FALSE")W.t="b",W.v=!1;else if(!isNaN(k=xl(V)))W.t="n",p.cellText!==!1&&(W.w=V),W.v=k;else if(!isNaN(Fh(V).getDate())||R&&V.match(R)){W.z=p.dateNF||Wr[14];var se=0;R&&V.match(R)&&(V=Rpe(V,p.dateNF,V.match(R)||[]),se=1),p.cellDates?(W.t="d",W.v=ya(V,se)):(W.t="n",W.v=Ba(ya(V,se))),p.cellText!==!1&&(W.w=Uo(W.z,W.v instanceof Date?Ba(W.v):W.v)),p.cellNF||delete W.z}else W.t="s",W.v=V;if(W.t=="z"||(p.dense?(b[j]||(b[j]=[]),b[j][S]=W):b[sr({c:S,r:j})]=W),E=C+1,D=h.charCodeAt(E),w.e.c<S&&(w.e.c=S),w.e.r<j&&(w.e.r=j),O==T)++S;else if(S=0,++j,p.sheetRows&&p.sheetRows<=j)return!0}e:for(;C<h.length;++C)switch(O=h.charCodeAt(C)){case 34:D===34&&(A=!A);break;case T:case 10:case 13:if(!A&&B())break e;break}return C-E>0&&B(),b["!ref"]=cn(w),b}function l(h,g){return!(g&&g.PRN)||g.FS||h.slice(0,4)=="sep="||h.indexOf("	")>=0||h.indexOf(",")>=0||h.indexOf(";")>=0?i(h,g):uf(t(h,g),g)}function c(h,g){var p="",y=g.type=="string"?[0,0,0,0]:C2e(h,g);switch(g.type){case"base64":p=Tl(h);break;case"binary":p=h;break;case"buffer":g.codepage==65001?p=h.toString("utf8"):g.codepage&&typeof vx<"u"||(p=Vt&&Buffer.isBuffer(h)?h.toString("binary"):ym(h));break;case"array":p=Fy(h);break;case"string":p=h;break;default:throw new Error("Unrecognized type "+g.type)}return y[0]==239&&y[1]==187&&y[2]==191?p=J0(p.slice(3)):g.type!="string"&&g.type!="buffer"&&g.codepage==65001?p=J0(p):g.type=="binary"&&typeof vx<"u",p.slice(0,19)=="socialcalc:version:"?DB.to_sheet(g.type=="string"?p:J0(p),g):l(p,g)}function d(h,g){return xu(c(h,g),g)}function f(h){for(var g=[],p=Er(h["!ref"]),y,b=Array.isArray(h),w=p.s.r;w<=p.e.r;++w){for(var j=[],S=p.s.c;S<=p.e.c;++S){var k=sr({r:w,c:S});if(y=b?(h[w]||[])[S]:h[k],!y||y.v==null){j.push("          ");continue}for(var E=(y.w||(Al(y),y.w)||"").slice(0,10);E.length<10;)E+=" ";j.push(E+(S===0?" ":""))}g.push(j.join(""))}return g.join(`
`)}return{to_workbook:d,to_sheet:c,from_sheet:f}}(),hP=function(){function e(F,G,z){if(F){ts(F,F.l||0);for(var q=z.Enum||U;F.l<F.length;){var de=F.read_shift(2),De=q[de]||q[65535],ne=F.read_shift(2),le=F.l+ne,he=De.f&&De.f(F,ne,z);if(F.l=le,G(he,De,de))return}}}function t(F,G){switch(G.type){case"base64":return r(oi(Tl(F)),G);case"binary":return r(oi(F),G);case"buffer":case"array":return r(F,G)}throw"Unsupported type "+G.type}function r(F,G){if(!F)return F;var z=G||{},q=z.dense?[]:{},de="Sheet1",De="",ne=0,le={},he=[],Le=[],pe={s:{r:0,c:0},e:{r:0,c:0}},xe=z.sheetRows||0;if(F[2]==0&&(F[3]==8||F[3]==9)&&F.length>=16&&F[14]==5&&F[15]===108)throw new Error("Unsupported Works 3 for Mac file");if(F[2]==2)z.Enum=U,e(F,function(Ue,At,Xt){switch(Xt){case 0:z.vers=Ue,Ue>=4096&&(z.qpro=!0);break;case 6:pe=Ue;break;case 204:Ue&&(De=Ue);break;case 222:De=Ue;break;case 15:case 51:z.qpro||(Ue[1].v=Ue[1].v.slice(1));case 13:case 14:case 16:Xt==14&&(Ue[2]&112)==112&&(Ue[2]&15)>1&&(Ue[2]&15)<15&&(Ue[1].z=z.dateNF||Wr[14],z.cellDates&&(Ue[1].t="d",Ue[1].v=Y9(Ue[1].v))),z.qpro&&Ue[3]>ne&&(q["!ref"]=cn(pe),le[de]=q,he.push(de),q=z.dense?[]:{},pe={s:{r:0,c:0},e:{r:0,c:0}},ne=Ue[3],de=De||"Sheet"+(ne+1),De="");var bt=z.dense?(q[Ue[0].r]||[])[Ue[0].c]:q[sr(Ue[0])];if(bt){bt.t=Ue[1].t,bt.v=Ue[1].v,Ue[1].z!=null&&(bt.z=Ue[1].z),Ue[1].f!=null&&(bt.f=Ue[1].f);break}z.dense?(q[Ue[0].r]||(q[Ue[0].r]=[]),q[Ue[0].r][Ue[0].c]=Ue[1]):q[sr(Ue[0])]=Ue[1];break}},z);else if(F[2]==26||F[2]==14)z.Enum=ie,F[2]==14&&(z.qpro=!0,F.l=0),e(F,function(Ue,At,Xt){switch(Xt){case 204:de=Ue;break;case 22:Ue[1].v=Ue[1].v.slice(1);case 23:case 24:case 25:case 37:case 39:case 40:if(Ue[3]>ne&&(q["!ref"]=cn(pe),le[de]=q,he.push(de),q=z.dense?[]:{},pe={s:{r:0,c:0},e:{r:0,c:0}},ne=Ue[3],de="Sheet"+(ne+1)),xe>0&&Ue[0].r>=xe)break;z.dense?(q[Ue[0].r]||(q[Ue[0].r]=[]),q[Ue[0].r][Ue[0].c]=Ue[1]):q[sr(Ue[0])]=Ue[1],pe.e.c<Ue[0].c&&(pe.e.c=Ue[0].c),pe.e.r<Ue[0].r&&(pe.e.r=Ue[0].r);break;case 27:Ue[14e3]&&(Le[Ue[14e3][0]]=Ue[14e3][1]);break;case 1537:Le[Ue[0]]=Ue[1],Ue[0]==ne&&(de=Ue[1]);break}},z);else throw new Error("Unrecognized LOTUS BOF "+F[2]);if(q["!ref"]=cn(pe),le[De||de]=q,he.push(De||de),!Le.length)return{SheetNames:he,Sheets:le};for(var $e={},pt=[],Xe=0;Xe<Le.length;++Xe)le[he[Xe]]?(pt.push(Le[Xe]||he[Xe]),$e[Le[Xe]]=le[Le[Xe]]||le[he[Xe]]):(pt.push(Le[Xe]),$e[Le[Xe]]={"!ref":"A1"});return{SheetNames:pt,Sheets:$e}}function n(F,G){var z=G||{};if(+z.codepage>=0&&Rh(+z.codepage),z.type=="string")throw new Error("Cannot write WK1 to JS string");var q=Ia(),de=Er(F["!ref"]),De=Array.isArray(F),ne=[];We(q,0,i(1030)),We(q,6,d(de));for(var le=Math.min(de.e.r,8191),he=de.s.r;he<=le;++he)for(var Le=Wn(he),pe=de.s.c;pe<=de.e.c;++pe){he===de.s.r&&(ne[pe]=aa(pe));var xe=ne[pe]+Le,$e=De?(F[he]||[])[pe]:F[xe];if(!(!$e||$e.t=="z"))if($e.t=="n")($e.v|0)==$e.v&&$e.v>=-32768&&$e.v<=32767?We(q,13,y(he,pe,$e.v)):We(q,14,w(he,pe,$e.v));else{var pt=Al($e);We(q,15,g(he,pe,pt.slice(0,239)))}}return We(q,1),q.end()}function s(F,G){var z=G||{};if(+z.codepage>=0&&Rh(+z.codepage),z.type=="string")throw new Error("Cannot write WK3 to JS string");var q=Ia();We(q,0,l(F));for(var de=0,De=0;de<F.SheetNames.length;++de)(F.Sheets[F.SheetNames[de]]||{})["!ref"]&&We(q,27,ve(F.SheetNames[de],De++));var ne=0;for(de=0;de<F.SheetNames.length;++de){var le=F.Sheets[F.SheetNames[de]];if(!(!le||!le["!ref"])){for(var he=Er(le["!ref"]),Le=Array.isArray(le),pe=[],xe=Math.min(he.e.r,8191),$e=he.s.r;$e<=xe;++$e)for(var pt=Wn($e),Xe=he.s.c;Xe<=he.e.c;++Xe){$e===he.s.r&&(pe[Xe]=aa(Xe));var Ue=pe[Xe]+pt,At=Le?(le[$e]||[])[Xe]:le[Ue];if(!(!At||At.t=="z"))if(At.t=="n")We(q,23,B($e,Xe,ne,At.v));else{var Xt=Al(At);We(q,22,O($e,Xe,ne,Xt.slice(0,239)))}}++ne}}return We(q,1),q.end()}function i(F){var G=Ae(2);return G.write_shift(2,F),G}function l(F){var G=Ae(26);G.write_shift(2,4096),G.write_shift(2,4),G.write_shift(4,0);for(var z=0,q=0,de=0,De=0;De<F.SheetNames.length;++De){var ne=F.SheetNames[De],le=F.Sheets[ne];if(!(!le||!le["!ref"])){++de;var he=ps(le["!ref"]);z<he.e.r&&(z=he.e.r),q<he.e.c&&(q=he.e.c)}}return z>8191&&(z=8191),G.write_shift(2,z),G.write_shift(1,de),G.write_shift(1,q),G.write_shift(2,0),G.write_shift(2,0),G.write_shift(1,1),G.write_shift(1,2),G.write_shift(4,0),G.write_shift(4,0),G}function c(F,G,z){var q={s:{c:0,r:0},e:{c:0,r:0}};return G==8&&z.qpro?(q.s.c=F.read_shift(1),F.l++,q.s.r=F.read_shift(2),q.e.c=F.read_shift(1),F.l++,q.e.r=F.read_shift(2),q):(q.s.c=F.read_shift(2),q.s.r=F.read_shift(2),G==12&&z.qpro&&(F.l+=2),q.e.c=F.read_shift(2),q.e.r=F.read_shift(2),G==12&&z.qpro&&(F.l+=2),q.s.c==65535&&(q.s.c=q.e.c=q.s.r=q.e.r=0),q)}function d(F){var G=Ae(8);return G.write_shift(2,F.s.c),G.write_shift(2,F.s.r),G.write_shift(2,F.e.c),G.write_shift(2,F.e.r),G}function f(F,G,z){var q=[{c:0,r:0},{t:"n",v:0},0,0];return z.qpro&&z.vers!=20768?(q[0].c=F.read_shift(1),q[3]=F.read_shift(1),q[0].r=F.read_shift(2),F.l+=2):(q[2]=F.read_shift(1),q[0].c=F.read_shift(2),q[0].r=F.read_shift(2)),q}function h(F,G,z){var q=F.l+G,de=f(F,G,z);if(de[1].t="s",z.vers==20768){F.l++;var De=F.read_shift(1);return de[1].v=F.read_shift(De,"utf8"),de}return z.qpro&&F.l++,de[1].v=F.read_shift(q-F.l,"cstr"),de}function g(F,G,z){var q=Ae(7+z.length);q.write_shift(1,255),q.write_shift(2,G),q.write_shift(2,F),q.write_shift(1,39);for(var de=0;de<q.length;++de){var De=z.charCodeAt(de);q.write_shift(1,De>=128?95:De)}return q.write_shift(1,0),q}function p(F,G,z){var q=f(F,G,z);return q[1].v=F.read_shift(2,"i"),q}function y(F,G,z){var q=Ae(7);return q.write_shift(1,255),q.write_shift(2,G),q.write_shift(2,F),q.write_shift(2,z,"i"),q}function b(F,G,z){var q=f(F,G,z);return q[1].v=F.read_shift(8,"f"),q}function w(F,G,z){var q=Ae(13);return q.write_shift(1,255),q.write_shift(2,G),q.write_shift(2,F),q.write_shift(8,z,"f"),q}function j(F,G,z){var q=F.l+G,de=f(F,G,z);if(de[1].v=F.read_shift(8,"f"),z.qpro)F.l=q;else{var De=F.read_shift(2);C(F.slice(F.l,F.l+De),de),F.l+=De}return de}function S(F,G,z){var q=G&32768;return G&=-32769,G=(q?F:0)+(G>=8192?G-16384:G),(q?"":"$")+(z?aa(G):Wn(G))}var k={51:["FALSE",0],52:["TRUE",0],70:["LEN",1],80:["SUM",69],81:["AVERAGEA",69],82:["COUNTA",69],83:["MINA",69],84:["MAXA",69],111:["T",1]},E=["","","","","","","","","","+","-","*","/","^","=","<>","<=",">=","<",">","","","","","&","","","","","","",""];function C(F,G){ts(F,0);for(var z=[],q=0,de="",De="",ne="",le="";F.l<F.length;){var he=F[F.l++];switch(he){case 0:z.push(F.read_shift(8,"f"));break;case 1:De=S(G[0].c,F.read_shift(2),!0),de=S(G[0].r,F.read_shift(2),!1),z.push(De+de);break;case 2:{var Le=S(G[0].c,F.read_shift(2),!0),pe=S(G[0].r,F.read_shift(2),!1);De=S(G[0].c,F.read_shift(2),!0),de=S(G[0].r,F.read_shift(2),!1),z.push(Le+pe+":"+De+de)}break;case 3:if(F.l<F.length){console.error("WK1 premature formula end");return}break;case 4:z.push("("+z.pop()+")");break;case 5:z.push(F.read_shift(2));break;case 6:{for(var xe="";he=F[F.l++];)xe+=String.fromCharCode(he);z.push('"'+xe.replace(/"/g,'""')+'"')}break;case 8:z.push("-"+z.pop());break;case 23:z.push("+"+z.pop());break;case 22:z.push("NOT("+z.pop()+")");break;case 20:case 21:le=z.pop(),ne=z.pop(),z.push(["AND","OR"][he-20]+"("+ne+","+le+")");break;default:if(he<32&&E[he])le=z.pop(),ne=z.pop(),z.push(ne+E[he]+le);else if(k[he]){if(q=k[he][1],q==69&&(q=F[F.l++]),q>z.length){console.error("WK1 bad formula parse 0x"+he.toString(16)+":|"+z.join("|")+"|");return}var $e=z.slice(-q);z.length-=q,z.push(k[he][0]+"("+$e.join(",")+")")}else return he<=7?console.error("WK1 invalid opcode "+he.toString(16)):he<=24?console.error("WK1 unsupported op "+he.toString(16)):he<=30?console.error("WK1 invalid opcode "+he.toString(16)):he<=115?console.error("WK1 unsupported function opcode "+he.toString(16)):console.error("WK1 unrecognized opcode "+he.toString(16))}}z.length==1?G[1].f=""+z[0]:console.error("WK1 bad formula parse |"+z.join("|")+"|")}function T(F){var G=[{c:0,r:0},{t:"n",v:0},0];return G[0].r=F.read_shift(2),G[3]=F[F.l++],G[0].c=F[F.l++],G}function A(F,G){var z=T(F);return z[1].t="s",z[1].v=F.read_shift(G-4,"cstr"),z}function O(F,G,z,q){var de=Ae(6+q.length);de.write_shift(2,F),de.write_shift(1,z),de.write_shift(1,G),de.write_shift(1,39);for(var De=0;De<q.length;++De){var ne=q.charCodeAt(De);de.write_shift(1,ne>=128?95:ne)}return de.write_shift(1,0),de}function D(F,G){var z=T(F);z[1].v=F.read_shift(2);var q=z[1].v>>1;if(z[1].v&1)switch(q&7){case 0:q=(q>>3)*5e3;break;case 1:q=(q>>3)*500;break;case 2:q=(q>>3)/20;break;case 3:q=(q>>3)/200;break;case 4:q=(q>>3)/2e3;break;case 5:q=(q>>3)/2e4;break;case 6:q=(q>>3)/16;break;case 7:q=(q>>3)/64;break}return z[1].v=q,z}function R(F,G){var z=T(F),q=F.read_shift(4),de=F.read_shift(4),De=F.read_shift(2);if(De==65535)return q===0&&de===3221225472?(z[1].t="e",z[1].v=15):q===0&&de===3489660928?(z[1].t="e",z[1].v=42):z[1].v=0,z;var ne=De&32768;return De=(De&32767)-16446,z[1].v=(1-ne*2)*(de*Math.pow(2,De+32)+q*Math.pow(2,De)),z}function B(F,G,z,q){var de=Ae(14);if(de.write_shift(2,F),de.write_shift(1,z),de.write_shift(1,G),q==0)return de.write_shift(4,0),de.write_shift(4,0),de.write_shift(2,65535),de;var De=0,ne=0,le=0,he=0;return q<0&&(De=1,q=-q),ne=Math.log2(q)|0,q/=Math.pow(2,ne-31),he=q>>>0,(he&2147483648)==0&&(q/=2,++ne,he=q>>>0),q-=he,he|=2147483648,he>>>=0,q*=Math.pow(2,32),le=q>>>0,de.write_shift(4,le),de.write_shift(4,he),ne+=16383+(De?32768:0),de.write_shift(2,ne),de}function V(F,G){var z=R(F);return F.l+=G-14,z}function W(F,G){var z=T(F),q=F.read_shift(4);return z[1].v=q>>6,z}function se(F,G){var z=T(F),q=F.read_shift(8,"f");return z[1].v=q,z}function oe(F,G){var z=se(F);return F.l+=G-10,z}function Y(F,G){return F[F.l+G-1]==0?F.read_shift(G,"cstr"):""}function Q(F,G){var z=F[F.l++];z>G-1&&(z=G-1);for(var q="";q.length<z;)q+=String.fromCharCode(F[F.l++]);return q}function te(F,G,z){if(!(!z.qpro||G<21)){var q=F.read_shift(1);F.l+=17,F.l+=1,F.l+=2;var de=F.read_shift(G-21,"cstr");return[q,de]}}function ue(F,G){for(var z={},q=F.l+G;F.l<q;){var de=F.read_shift(2);if(de==14e3){for(z[de]=[0,""],z[de][0]=F.read_shift(2);F[F.l];)z[de][1]+=String.fromCharCode(F[F.l]),F.l++;F.l++}}return z}function ve(F,G){var z=Ae(5+F.length);z.write_shift(2,14e3),z.write_shift(2,G);for(var q=0;q<F.length;++q){var de=F.charCodeAt(q);z[z.l++]=de>127?95:de}return z[z.l++]=0,z}var U={0:{n:"BOF",f:EB},1:{n:"EOF"},2:{n:"CALCMODE"},3:{n:"CALCORDER"},4:{n:"SPLIT"},5:{n:"SYNC"},6:{n:"RANGE",f:c},7:{n:"WINDOW1"},8:{n:"COLW1"},9:{n:"WINTWO"},10:{n:"COLW2"},11:{n:"NAME"},12:{n:"BLANK"},13:{n:"INTEGER",f:p},14:{n:"NUMBER",f:b},15:{n:"LABEL",f:h},16:{n:"FORMULA",f:j},24:{n:"TABLE"},25:{n:"ORANGE"},26:{n:"PRANGE"},27:{n:"SRANGE"},28:{n:"FRANGE"},29:{n:"KRANGE1"},32:{n:"HRANGE"},35:{n:"KRANGE2"},36:{n:"PROTEC"},37:{n:"FOOTER"},38:{n:"HEADER"},39:{n:"SETUP"},40:{n:"MARGINS"},41:{n:"LABELFMT"},42:{n:"TITLES"},43:{n:"SHEETJS"},45:{n:"GRAPH"},46:{n:"NGRAPH"},47:{n:"CALCCOUNT"},48:{n:"UNFORMATTED"},49:{n:"CURSORW12"},50:{n:"WINDOW"},51:{n:"STRING",f:h},55:{n:"PASSWORD"},56:{n:"LOCKED"},60:{n:"QUERY"},61:{n:"QUERYNAME"},62:{n:"PRINT"},63:{n:"PRINTNAME"},64:{n:"GRAPH2"},65:{n:"GRAPHNAME"},66:{n:"ZOOM"},67:{n:"SYMSPLIT"},68:{n:"NSROWS"},69:{n:"NSCOLS"},70:{n:"RULER"},71:{n:"NNAME"},72:{n:"ACOMM"},73:{n:"AMACRO"},74:{n:"PARSE"},102:{n:"PRANGES??"},103:{n:"RRANGES??"},104:{n:"FNAME??"},105:{n:"MRANGES??"},204:{n:"SHEETNAMECS",f:Y},222:{n:"SHEETNAMELP",f:Q},65535:{n:""}},ie={0:{n:"BOF"},1:{n:"EOF"},2:{n:"PASSWORD"},3:{n:"CALCSET"},4:{n:"WINDOWSET"},5:{n:"SHEETCELLPTR"},6:{n:"SHEETLAYOUT"},7:{n:"COLUMNWIDTH"},8:{n:"HIDDENCOLUMN"},9:{n:"USERRANGE"},10:{n:"SYSTEMRANGE"},11:{n:"ZEROFORCE"},12:{n:"SORTKEYDIR"},13:{n:"FILESEAL"},14:{n:"DATAFILLNUMS"},15:{n:"PRINTMAIN"},16:{n:"PRINTSTRING"},17:{n:"GRAPHMAIN"},18:{n:"GRAPHSTRING"},19:{n:"??"},20:{n:"ERRCELL"},21:{n:"NACELL"},22:{n:"LABEL16",f:A},23:{n:"NUMBER17",f:R},24:{n:"NUMBER18",f:D},25:{n:"FORMULA19",f:V},26:{n:"FORMULA1A"},27:{n:"XFORMAT",f:ue},28:{n:"DTLABELMISC"},29:{n:"DTLABELCELL"},30:{n:"GRAPHWINDOW"},31:{n:"CPA"},32:{n:"LPLAUTO"},33:{n:"QUERY"},34:{n:"HIDDENSHEET"},35:{n:"??"},37:{n:"NUMBER25",f:W},38:{n:"??"},39:{n:"NUMBER27",f:se},40:{n:"FORMULA28",f:oe},142:{n:"??"},147:{n:"??"},150:{n:"??"},151:{n:"??"},152:{n:"??"},153:{n:"??"},154:{n:"??"},155:{n:"??"},156:{n:"??"},163:{n:"??"},174:{n:"??"},175:{n:"??"},176:{n:"??"},177:{n:"??"},184:{n:"??"},185:{n:"??"},186:{n:"??"},187:{n:"??"},188:{n:"??"},195:{n:"??"},201:{n:"??"},204:{n:"SHEETNAMECS",f:Y},205:{n:"??"},206:{n:"??"},207:{n:"??"},208:{n:"??"},256:{n:"??"},259:{n:"??"},260:{n:"??"},261:{n:"??"},262:{n:"??"},263:{n:"??"},265:{n:"??"},266:{n:"??"},267:{n:"??"},268:{n:"??"},270:{n:"??"},271:{n:"??"},384:{n:"??"},389:{n:"??"},390:{n:"??"},393:{n:"??"},396:{n:"??"},512:{n:"??"},514:{n:"??"},513:{n:"??"},516:{n:"??"},517:{n:"??"},640:{n:"??"},641:{n:"??"},642:{n:"??"},643:{n:"??"},644:{n:"??"},645:{n:"??"},646:{n:"??"},647:{n:"??"},648:{n:"??"},658:{n:"??"},659:{n:"??"},660:{n:"??"},661:{n:"??"},662:{n:"??"},665:{n:"??"},666:{n:"??"},768:{n:"??"},772:{n:"??"},1537:{n:"SHEETINFOQP",f:te},1600:{n:"??"},1602:{n:"??"},1793:{n:"??"},1794:{n:"??"},1795:{n:"??"},1796:{n:"??"},1920:{n:"??"},2048:{n:"??"},2049:{n:"??"},2052:{n:"??"},2688:{n:"??"},10998:{n:"??"},12849:{n:"??"},28233:{n:"??"},28484:{n:"??"},65535:{n:""}};return{sheet_to_wk1:n,book_to_wk3:s,to_workbook:t}}(),vye=/^\s|\s$|[\t\n\r]/;function PB(e,t){if(!t.bookSST)return"";var r=[un];r[r.length]=Ve("sst",null,{xmlns:cf[0],count:e.Count,uniqueCount:e.Unique});for(var n=0;n!=e.length;++n)if(e[n]!=null){var s=e[n],i="<si>";s.r?i+=s.r:(i+="<t",s.t||(s.t=""),s.t.match(vye)&&(i+=' xml:space="preserve"'),i+=">"+ar(s.t)+"</t>"),i+="</si>",r[r.length]=i}return r.length>2&&(r[r.length]="</sst>",r[1]=r[1].replace("/>",">")),r.join("")}function bye(e){return[e.read_shift(4),e.read_shift(4)]}function wye(e,t){return t||(t=Ae(8)),t.write_shift(4,e.Count),t.write_shift(4,e.Unique),t}var jye=fxe;function Nye(e){var t=Ia();Ie(t,159,wye(e));for(var r=0;r<e.length;++r)Ie(t,19,jye(e[r]));return Ie(t,160),t.end()}function Sye(e){for(var t=[],r=e.split(""),n=0;n<r.length;++n)t[n]=r[n].charCodeAt(0);return t}function MB(e){var t=0,r,n=Sye(e),s=n.length+1,i,l,c,d,f;for(r=iu(s),r[0]=n.length,i=1;i!=s;++i)r[i]=n[i-1];for(i=s-1;i>=0;--i)l=r[i],c=(t&16384)===0?0:1,d=t<<1&32767,f=c|d,t=f^l;return t^52811}var _ye=function(){function e(s,i){switch(i.type){case"base64":return t(Tl(s),i);case"binary":return t(s,i);case"buffer":return t(Vt&&Buffer.isBuffer(s)?s.toString("binary"):ym(s),i);case"array":return t(Fy(s),i)}throw new Error("Unrecognized type "+i.type)}function t(s,i){var l=i||{},c=l.dense?[]:{},d=s.match(/\\trowd.*?\\row\b/g);if(!d.length)throw new Error("RTF missing table");var f={s:{c:0,r:0},e:{c:0,r:d.length-1}};return d.forEach(function(h,g){Array.isArray(c)&&(c[g]=[]);for(var p=/\\\w+\b/g,y=0,b,w=-1;b=p.exec(h);){switch(b[0]){case"\\cell":var j=h.slice(y,p.lastIndex-b[0].length);if(j[0]==" "&&(j=j.slice(1)),++w,j.length){var S={v:j,t:"s"};Array.isArray(c)?c[g][w]=S:c[sr({r:g,c:w})]=S}break}y=p.lastIndex}w>f.e.c&&(f.e.c=w)}),c["!ref"]=cn(f),c}function r(s,i){return xu(e(s,i),i)}function n(s){for(var i=["{\\rtf1\\ansi"],l=Er(s["!ref"]),c,d=Array.isArray(s),f=l.s.r;f<=l.e.r;++f){i.push("\\trowd\\trautofit1");for(var h=l.s.c;h<=l.e.c;++h)i.push("\\cellx"+(h+1));for(i.push("\\pard\\intbl"),h=l.s.c;h<=l.e.c;++h){var g=sr({r:f,c:h});c=d?(s[f]||[])[h]:s[g],!(!c||c.v==null&&(!c.f||c.F))&&(i.push(" "+(c.w||(Al(c),c.w))),i.push("\\cell"))}i.push("\\pard\\intbl\\row")}return i.join("")+"}"}return{to_workbook:r,to_sheet:e,from_sheet:n}}();function mP(e){for(var t=0,r=1;t!=3;++t)r=r*256+(e[t]>255?255:e[t]<0?0:e[t]);return r.toString(16).toUpperCase().slice(1)}var kye=6,yl=kye;function Tx(e){return Math.floor((e+Math.round(128/yl)/256)*yl)}function Ax(e){return Math.floor((e-5)/yl*100+.5)/100}function vN(e){return Math.round((e*yl+5)/yl*256)/256}function Hk(e){e.width?(e.wpx=Tx(e.width),e.wch=Ax(e.wpx),e.MDW=yl):e.wpx?(e.wch=Ax(e.wpx),e.width=vN(e.wch),e.MDW=yl):typeof e.wch=="number"&&(e.width=vN(e.wch),e.wpx=Tx(e.width),e.MDW=yl),e.customWidth&&delete e.customWidth}var Eye=96,RB=Eye;function Cx(e){return e*96/RB}function IB(e){return e*RB/96}function Tye(e){var t=["<numFmts>"];return[[5,8],[23,26],[41,44],[50,392]].forEach(function(r){for(var n=r[0];n<=r[1];++n)e[n]!=null&&(t[t.length]=Ve("numFmt",null,{numFmtId:n,formatCode:ar(e[n])}))}),t.length===1?"":(t[t.length]="</numFmts>",t[0]=Ve("numFmts",null,{count:t.length-2}).replace("/>",">"),t.join(""))}function Aye(e){var t=[];return t[t.length]=Ve("cellXfs",null),e.forEach(function(r){t[t.length]=Ve("xf",null,r)}),t[t.length]="</cellXfs>",t.length===2?"":(t[0]=Ve("cellXfs",null,{count:t.length-2}).replace("/>",">"),t.join(""))}function FB(e,t){var r=[un,Ve("styleSheet",null,{xmlns:cf[0],"xmlns:vt":Nn.vt})],n;return e.SSF&&(n=Tye(e.SSF))!=null&&(r[r.length]=n),r[r.length]='<fonts count="1"><font><sz val="12"/><color theme="1"/><name val="Calibri"/><family val="2"/><scheme val="minor"/></font></fonts>',r[r.length]='<fills count="2"><fill><patternFill patternType="none"/></fill><fill><patternFill patternType="gray125"/></fill></fills>',r[r.length]='<borders count="1"><border><left/><right/><top/><bottom/><diagonal/></border></borders>',r[r.length]='<cellStyleXfs count="1"><xf numFmtId="0" fontId="0" fillId="0" borderId="0"/></cellStyleXfs>',(n=Aye(t.cellXfs))&&(r[r.length]=n),r[r.length]='<cellStyles count="1"><cellStyle name="Normal" xfId="0" builtinId="0"/></cellStyles>',r[r.length]='<dxfs count="0"/>',r[r.length]='<tableStyles count="0" defaultTableStyle="TableStyleMedium9" defaultPivotStyle="PivotStyleMedium4"/>',r.length>2&&(r[r.length]="</styleSheet>",r[1]=r[1].replace("/>",">")),r.join("")}function Cye(e,t){var r=e.read_shift(2),n=sa(e);return[r,n]}function Oye(e,t,r){r||(r=Ae(6+4*t.length)),r.write_shift(2,e),kn(t,r);var n=r.length>r.l?r.slice(0,r.l):r;return r.l==null&&(r.l=r.length),n}function Dye(e,t,r){var n={};n.sz=e.read_shift(2)/20;var s=vxe(e);s.fItalic&&(n.italic=1),s.fCondense&&(n.condense=1),s.fExtend&&(n.extend=1),s.fShadow&&(n.shadow=1),s.fOutline&&(n.outline=1),s.fStrikeout&&(n.strike=1);var i=e.read_shift(2);switch(i===700&&(n.bold=1),e.read_shift(2)){case 1:n.vertAlign="superscript";break;case 2:n.vertAlign="subscript";break}var l=e.read_shift(1);l!=0&&(n.underline=l);var c=e.read_shift(1);c>0&&(n.family=c);var d=e.read_shift(1);switch(d>0&&(n.charset=d),e.l++,n.color=yxe(e),e.read_shift(1)){case 1:n.scheme="major";break;case 2:n.scheme="minor";break}return n.name=sa(e),n}function Pye(e,t){t||(t=Ae(153)),t.write_shift(2,e.sz*20),bxe(e,t),t.write_shift(2,e.bold?700:400);var r=0;e.vertAlign=="superscript"?r=1:e.vertAlign=="subscript"&&(r=2),t.write_shift(2,r),t.write_shift(1,e.underline||0),t.write_shift(1,e.family||0),t.write_shift(1,e.charset||0),t.write_shift(1,0),kx(e.color,t);var n=0;return n=2,t.write_shift(1,n),kn(e.name,t),t.length>t.l?t.slice(0,t.l):t}var Mye=["none","solid","mediumGray","darkGray","lightGray","darkHorizontal","darkVertical","darkDown","darkUp","darkGrid","darkTrellis","lightHorizontal","lightVertical","lightDown","lightUp","lightGrid","lightTrellis","gray125","gray0625"],m2,Rye=Ui;function gP(e,t){t||(t=Ae(84)),m2||(m2=Ok(Mye));var r=m2[e.patternType];r==null&&(r=40),t.write_shift(4,r);var n=0;if(r!=40)for(kx({auto:1},t),kx({auto:1},t);n<12;++n)t.write_shift(4,0);else{for(;n<4;++n)t.write_shift(4,0);for(;n<12;++n)t.write_shift(4,0)}return t.length>t.l?t.slice(0,t.l):t}function Iye(e,t){var r=e.l+t,n=e.read_shift(2),s=e.read_shift(2);return e.l=r,{ixfe:n,numFmtId:s}}function LB(e,t,r){r||(r=Ae(16)),r.write_shift(2,t||0),r.write_shift(2,e.numFmtId||0),r.write_shift(2,0),r.write_shift(2,0),r.write_shift(2,0),r.write_shift(1,0),r.write_shift(1,0);var n=0;return r.write_shift(1,n),r.write_shift(1,0),r.write_shift(1,0),r.write_shift(1,0),r}function k0(e,t){return t||(t=Ae(10)),t.write_shift(1,0),t.write_shift(1,0),t.write_shift(4,0),t.write_shift(4,0),t}var Fye=Ui;function Lye(e,t){return t||(t=Ae(51)),t.write_shift(1,0),k0(null,t),k0(null,t),k0(null,t),k0(null,t),k0(null,t),t.length>t.l?t.slice(0,t.l):t}function Bye(e,t){return t||(t=Ae(52)),t.write_shift(4,e.xfId),t.write_shift(2,1),t.write_shift(1,0),t.write_shift(1,0),_x(e.name||"",t),t.length>t.l?t.slice(0,t.l):t}function $ye(e,t,r){var n=Ae(2052);return n.write_shift(4,e),_x(t,n),_x(r,n),n.length>n.l?n.slice(0,n.l):n}function Uye(e,t){if(t){var r=0;[[5,8],[23,26],[41,44],[50,392]].forEach(function(n){for(var s=n[0];s<=n[1];++s)t[s]!=null&&++r}),r!=0&&(Ie(e,615,fi(r)),[[5,8],[23,26],[41,44],[50,392]].forEach(function(n){for(var s=n[0];s<=n[1];++s)t[s]!=null&&Ie(e,44,Oye(s,t[s]))}),Ie(e,616))}}function zye(e){var t=1;Ie(e,611,fi(t)),Ie(e,43,Pye({sz:12,color:{theme:1},name:"Calibri",family:2})),Ie(e,612)}function Hye(e){var t=2;Ie(e,603,fi(t)),Ie(e,45,gP({patternType:"none"})),Ie(e,45,gP({patternType:"gray125"})),Ie(e,604)}function Vye(e){var t=1;Ie(e,613,fi(t)),Ie(e,46,Lye()),Ie(e,614)}function qye(e){var t=1;Ie(e,626,fi(t)),Ie(e,47,LB({numFmtId:0},65535)),Ie(e,627)}function Wye(e,t){Ie(e,617,fi(t.length)),t.forEach(function(r){Ie(e,47,LB(r,0))}),Ie(e,618)}function Gye(e){var t=1;Ie(e,619,fi(t)),Ie(e,48,Bye({xfId:0,name:"Normal"})),Ie(e,620)}function Kye(e){var t=0;Ie(e,505,fi(t)),Ie(e,506)}function Yye(e){var t=0;Ie(e,508,$ye(t,"TableStyleMedium9","PivotStyleMedium4")),Ie(e,509)}function Xye(e,t){var r=Ia();return Ie(r,278),Uye(r,e.SSF),zye(r),Hye(r),Vye(r),qye(r),Wye(r,t.cellXfs),Gye(r),Kye(r),Yye(r),Ie(r,279),r.end()}function BB(e,t){if(t&&t.themeXLSX)return t.themeXLSX;if(e&&typeof e.raw=="string")return e.raw;var r=[un];return r[r.length]='<a:theme xmlns:a="http://schemas.openxmlformats.org/drawingml/2006/main" name="Office Theme">',r[r.length]="<a:themeElements>",r[r.length]='<a:clrScheme name="Office">',r[r.length]='<a:dk1><a:sysClr val="windowText" lastClr="000000"/></a:dk1>',r[r.length]='<a:lt1><a:sysClr val="window" lastClr="FFFFFF"/></a:lt1>',r[r.length]='<a:dk2><a:srgbClr val="1F497D"/></a:dk2>',r[r.length]='<a:lt2><a:srgbClr val="EEECE1"/></a:lt2>',r[r.length]='<a:accent1><a:srgbClr val="4F81BD"/></a:accent1>',r[r.length]='<a:accent2><a:srgbClr val="C0504D"/></a:accent2>',r[r.length]='<a:accent3><a:srgbClr val="9BBB59"/></a:accent3>',r[r.length]='<a:accent4><a:srgbClr val="8064A2"/></a:accent4>',r[r.length]='<a:accent5><a:srgbClr val="4BACC6"/></a:accent5>',r[r.length]='<a:accent6><a:srgbClr val="F79646"/></a:accent6>',r[r.length]='<a:hlink><a:srgbClr val="0000FF"/></a:hlink>',r[r.length]='<a:folHlink><a:srgbClr val="800080"/></a:folHlink>',r[r.length]="</a:clrScheme>",r[r.length]='<a:fontScheme name="Office">',r[r.length]="<a:majorFont>",r[r.length]='<a:latin typeface="Cambria"/>',r[r.length]='<a:ea typeface=""/>',r[r.length]='<a:cs typeface=""/>',r[r.length]='<a:font script="Jpan" typeface="ＭＳ Ｐゴシック"/>',r[r.length]='<a:font script="Hang" typeface="맑은 고딕"/>',r[r.length]='<a:font script="Hans" typeface="宋体"/>',r[r.length]='<a:font script="Hant" typeface="新細明體"/>',r[r.length]='<a:font script="Arab" typeface="Times New Roman"/>',r[r.length]='<a:font script="Hebr" typeface="Times New Roman"/>',r[r.length]='<a:font script="Thai" typeface="Tahoma"/>',r[r.length]='<a:font script="Ethi" typeface="Nyala"/>',r[r.length]='<a:font script="Beng" typeface="Vrinda"/>',r[r.length]='<a:font script="Gujr" typeface="Shruti"/>',r[r.length]='<a:font script="Khmr" typeface="MoolBoran"/>',r[r.length]='<a:font script="Knda" typeface="Tunga"/>',r[r.length]='<a:font script="Guru" typeface="Raavi"/>',r[r.length]='<a:font script="Cans" typeface="Euphemia"/>',r[r.length]='<a:font script="Cher" typeface="Plantagenet Cherokee"/>',r[r.length]='<a:font script="Yiii" typeface="Microsoft Yi Baiti"/>',r[r.length]='<a:font script="Tibt" typeface="Microsoft Himalaya"/>',r[r.length]='<a:font script="Thaa" typeface="MV Boli"/>',r[r.length]='<a:font script="Deva" typeface="Mangal"/>',r[r.length]='<a:font script="Telu" typeface="Gautami"/>',r[r.length]='<a:font script="Taml" typeface="Latha"/>',r[r.length]='<a:font script="Syrc" typeface="Estrangelo Edessa"/>',r[r.length]='<a:font script="Orya" typeface="Kalinga"/>',r[r.length]='<a:font script="Mlym" typeface="Kartika"/>',r[r.length]='<a:font script="Laoo" typeface="DokChampa"/>',r[r.length]='<a:font script="Sinh" typeface="Iskoola Pota"/>',r[r.length]='<a:font script="Mong" typeface="Mongolian Baiti"/>',r[r.length]='<a:font script="Viet" typeface="Times New Roman"/>',r[r.length]='<a:font script="Uigh" typeface="Microsoft Uighur"/>',r[r.length]='<a:font script="Geor" typeface="Sylfaen"/>',r[r.length]="</a:majorFont>",r[r.length]="<a:minorFont>",r[r.length]='<a:latin typeface="Calibri"/>',r[r.length]='<a:ea typeface=""/>',r[r.length]='<a:cs typeface=""/>',r[r.length]='<a:font script="Jpan" typeface="ＭＳ Ｐゴシック"/>',r[r.length]='<a:font script="Hang" typeface="맑은 고딕"/>',r[r.length]='<a:font script="Hans" typeface="宋体"/>',r[r.length]='<a:font script="Hant" typeface="新細明體"/>',r[r.length]='<a:font script="Arab" typeface="Arial"/>',r[r.length]='<a:font script="Hebr" typeface="Arial"/>',r[r.length]='<a:font script="Thai" typeface="Tahoma"/>',r[r.length]='<a:font script="Ethi" typeface="Nyala"/>',r[r.length]='<a:font script="Beng" typeface="Vrinda"/>',r[r.length]='<a:font script="Gujr" typeface="Shruti"/>',r[r.length]='<a:font script="Khmr" typeface="DaunPenh"/>',r[r.length]='<a:font script="Knda" typeface="Tunga"/>',r[r.length]='<a:font script="Guru" typeface="Raavi"/>',r[r.length]='<a:font script="Cans" typeface="Euphemia"/>',r[r.length]='<a:font script="Cher" typeface="Plantagenet Cherokee"/>',r[r.length]='<a:font script="Yiii" typeface="Microsoft Yi Baiti"/>',r[r.length]='<a:font script="Tibt" typeface="Microsoft Himalaya"/>',r[r.length]='<a:font script="Thaa" typeface="MV Boli"/>',r[r.length]='<a:font script="Deva" typeface="Mangal"/>',r[r.length]='<a:font script="Telu" typeface="Gautami"/>',r[r.length]='<a:font script="Taml" typeface="Latha"/>',r[r.length]='<a:font script="Syrc" typeface="Estrangelo Edessa"/>',r[r.length]='<a:font script="Orya" typeface="Kalinga"/>',r[r.length]='<a:font script="Mlym" typeface="Kartika"/>',r[r.length]='<a:font script="Laoo" typeface="DokChampa"/>',r[r.length]='<a:font script="Sinh" typeface="Iskoola Pota"/>',r[r.length]='<a:font script="Mong" typeface="Mongolian Baiti"/>',r[r.length]='<a:font script="Viet" typeface="Arial"/>',r[r.length]='<a:font script="Uigh" typeface="Microsoft Uighur"/>',r[r.length]='<a:font script="Geor" typeface="Sylfaen"/>',r[r.length]="</a:minorFont>",r[r.length]="</a:fontScheme>",r[r.length]='<a:fmtScheme name="Office">',r[r.length]="<a:fillStyleLst>",r[r.length]='<a:solidFill><a:schemeClr val="phClr"/></a:solidFill>',r[r.length]='<a:gradFill rotWithShape="1">',r[r.length]="<a:gsLst>",r[r.length]='<a:gs pos="0"><a:schemeClr val="phClr"><a:tint val="50000"/><a:satMod val="300000"/></a:schemeClr></a:gs>',r[r.length]='<a:gs pos="35000"><a:schemeClr val="phClr"><a:tint val="37000"/><a:satMod val="300000"/></a:schemeClr></a:gs>',r[r.length]='<a:gs pos="100000"><a:schemeClr val="phClr"><a:tint val="15000"/><a:satMod val="350000"/></a:schemeClr></a:gs>',r[r.length]="</a:gsLst>",r[r.length]='<a:lin ang="16200000" scaled="1"/>',r[r.length]="</a:gradFill>",r[r.length]='<a:gradFill rotWithShape="1">',r[r.length]="<a:gsLst>",r[r.length]='<a:gs pos="0"><a:schemeClr val="phClr"><a:tint val="100000"/><a:shade val="100000"/><a:satMod val="130000"/></a:schemeClr></a:gs>',r[r.length]='<a:gs pos="100000"><a:schemeClr val="phClr"><a:tint val="50000"/><a:shade val="100000"/><a:satMod val="350000"/></a:schemeClr></a:gs>',r[r.length]="</a:gsLst>",r[r.length]='<a:lin ang="16200000" scaled="0"/>',r[r.length]="</a:gradFill>",r[r.length]="</a:fillStyleLst>",r[r.length]="<a:lnStyleLst>",r[r.length]='<a:ln w="9525" cap="flat" cmpd="sng" algn="ctr"><a:solidFill><a:schemeClr val="phClr"><a:shade val="95000"/><a:satMod val="105000"/></a:schemeClr></a:solidFill><a:prstDash val="solid"/></a:ln>',r[r.length]='<a:ln w="25400" cap="flat" cmpd="sng" algn="ctr"><a:solidFill><a:schemeClr val="phClr"/></a:solidFill><a:prstDash val="solid"/></a:ln>',r[r.length]='<a:ln w="38100" cap="flat" cmpd="sng" algn="ctr"><a:solidFill><a:schemeClr val="phClr"/></a:solidFill><a:prstDash val="solid"/></a:ln>',r[r.length]="</a:lnStyleLst>",r[r.length]="<a:effectStyleLst>",r[r.length]="<a:effectStyle>",r[r.length]="<a:effectLst>",r[r.length]='<a:outerShdw blurRad="40000" dist="20000" dir="5400000" rotWithShape="0"><a:srgbClr val="000000"><a:alpha val="38000"/></a:srgbClr></a:outerShdw>',r[r.length]="</a:effectLst>",r[r.length]="</a:effectStyle>",r[r.length]="<a:effectStyle>",r[r.length]="<a:effectLst>",r[r.length]='<a:outerShdw blurRad="40000" dist="23000" dir="5400000" rotWithShape="0"><a:srgbClr val="000000"><a:alpha val="35000"/></a:srgbClr></a:outerShdw>',r[r.length]="</a:effectLst>",r[r.length]="</a:effectStyle>",r[r.length]="<a:effectStyle>",r[r.length]="<a:effectLst>",r[r.length]='<a:outerShdw blurRad="40000" dist="23000" dir="5400000" rotWithShape="0"><a:srgbClr val="000000"><a:alpha val="35000"/></a:srgbClr></a:outerShdw>',r[r.length]="</a:effectLst>",r[r.length]='<a:scene3d><a:camera prst="orthographicFront"><a:rot lat="0" lon="0" rev="0"/></a:camera><a:lightRig rig="threePt" dir="t"><a:rot lat="0" lon="0" rev="1200000"/></a:lightRig></a:scene3d>',r[r.length]='<a:sp3d><a:bevelT w="63500" h="25400"/></a:sp3d>',r[r.length]="</a:effectStyle>",r[r.length]="</a:effectStyleLst>",r[r.length]="<a:bgFillStyleLst>",r[r.length]='<a:solidFill><a:schemeClr val="phClr"/></a:solidFill>',r[r.length]='<a:gradFill rotWithShape="1">',r[r.length]="<a:gsLst>",r[r.length]='<a:gs pos="0"><a:schemeClr val="phClr"><a:tint val="40000"/><a:satMod val="350000"/></a:schemeClr></a:gs>',r[r.length]='<a:gs pos="40000"><a:schemeClr val="phClr"><a:tint val="45000"/><a:shade val="99000"/><a:satMod val="350000"/></a:schemeClr></a:gs>',r[r.length]='<a:gs pos="100000"><a:schemeClr val="phClr"><a:shade val="20000"/><a:satMod val="255000"/></a:schemeClr></a:gs>',r[r.length]="</a:gsLst>",r[r.length]='<a:path path="circle"><a:fillToRect l="50000" t="-80000" r="50000" b="180000"/></a:path>',r[r.length]="</a:gradFill>",r[r.length]='<a:gradFill rotWithShape="1">',r[r.length]="<a:gsLst>",r[r.length]='<a:gs pos="0"><a:schemeClr val="phClr"><a:tint val="80000"/><a:satMod val="300000"/></a:schemeClr></a:gs>',r[r.length]='<a:gs pos="100000"><a:schemeClr val="phClr"><a:shade val="30000"/><a:satMod val="200000"/></a:schemeClr></a:gs>',r[r.length]="</a:gsLst>",r[r.length]='<a:path path="circle"><a:fillToRect l="50000" t="50000" r="50000" b="50000"/></a:path>',r[r.length]="</a:gradFill>",r[r.length]="</a:bgFillStyleLst>",r[r.length]="</a:fmtScheme>",r[r.length]="</a:themeElements>",r[r.length]="<a:objectDefaults>",r[r.length]="<a:spDef>",r[r.length]='<a:spPr/><a:bodyPr/><a:lstStyle/><a:style><a:lnRef idx="1"><a:schemeClr val="accent1"/></a:lnRef><a:fillRef idx="3"><a:schemeClr val="accent1"/></a:fillRef><a:effectRef idx="2"><a:schemeClr val="accent1"/></a:effectRef><a:fontRef idx="minor"><a:schemeClr val="lt1"/></a:fontRef></a:style>',r[r.length]="</a:spDef>",r[r.length]="<a:lnDef>",r[r.length]='<a:spPr/><a:bodyPr/><a:lstStyle/><a:style><a:lnRef idx="2"><a:schemeClr val="accent1"/></a:lnRef><a:fillRef idx="0"><a:schemeClr val="accent1"/></a:fillRef><a:effectRef idx="1"><a:schemeClr val="accent1"/></a:effectRef><a:fontRef idx="minor"><a:schemeClr val="tx1"/></a:fontRef></a:style>',r[r.length]="</a:lnDef>",r[r.length]="</a:objectDefaults>",r[r.length]="<a:extraClrSchemeLst/>",r[r.length]="</a:theme>",r.join("")}function Qye(e,t){return{flags:e.read_shift(4),version:e.read_shift(4),name:sa(e)}}function Zye(e){var t=Ae(12+2*e.name.length);return t.write_shift(4,e.flags),t.write_shift(4,e.version),kn(e.name,t),t.slice(0,t.l)}function Jye(e){for(var t=[],r=e.read_shift(4);r-- >0;)t.push([e.read_shift(4),e.read_shift(4)]);return t}function eve(e){var t=Ae(4+8*e.length);t.write_shift(4,e.length);for(var r=0;r<e.length;++r)t.write_shift(4,e[r][0]),t.write_shift(4,e[r][1]);return t}function tve(e,t){var r=Ae(8+2*t.length);return r.write_shift(4,e),kn(t,r),r.slice(0,r.l)}function rve(e){return e.l+=4,e.read_shift(4)!=0}function nve(e,t){var r=Ae(8);return r.write_shift(4,e),r.write_shift(4,1),r}function ave(){var e=Ia();return Ie(e,332),Ie(e,334,fi(1)),Ie(e,335,Zye({name:"XLDAPR",version:12e4,flags:3496657072})),Ie(e,336),Ie(e,339,tve(1,"XLDAPR")),Ie(e,52),Ie(e,35,fi(514)),Ie(e,4096,fi(0)),Ie(e,4097,Is(1)),Ie(e,36),Ie(e,53),Ie(e,340),Ie(e,337,nve(1)),Ie(e,51,eve([[1,0]])),Ie(e,338),Ie(e,333),e.end()}function $B(){var e=[un];return e.push(`<metadata xmlns="http://schemas.openxmlformats.org/spreadsheetml/2006/main" xmlns:xlrd="http://schemas.microsoft.com/office/spreadsheetml/2017/richdata" xmlns:xda="http://schemas.microsoft.com/office/spreadsheetml/2017/dynamicarray">
  <metadataTypes count="1">
    <metadataType name="XLDAPR" minSupportedVersion="120000" copy="1" pasteAll="1" pasteValues="1" merge="1" splitFirst="1" rowColShift="1" clearFormats="1" clearComments="1" assign="1" coerce="1" cellMeta="1"/>
  </metadataTypes>
  <futureMetadata name="XLDAPR" count="1">
    <bk>
      <extLst>
        <ext uri="{bdbb8cdc-fa1e-496e-a857-3c3f30c029c3}">
          <xda:dynamicArrayProperties fDynamic="1" fCollapsed="0"/>
        </ext>
      </extLst>
    </bk>
  </futureMetadata>
  <cellMetadata count="1">
    <bk>
      <rc t="1" v="0"/>
    </bk>
  </cellMetadata>
</metadata>`),e.join("")}function sve(e){var t={};t.i=e.read_shift(4);var r={};r.r=e.read_shift(4),r.c=e.read_shift(4),t.r=sr(r);var n=e.read_shift(1);return n&2&&(t.l="1"),n&8&&(t.a="1"),t}var pd=1024;function UB(e,t){for(var r=[21600,21600],n=["m0,0l0",r[1],r[0],r[1],r[0],"0xe"].join(","),s=[Ve("xml",null,{"xmlns:v":as.v,"xmlns:o":as.o,"xmlns:x":as.x,"xmlns:mv":as.mv}).replace(/\/>/,">"),Ve("o:shapelayout",Ve("o:idmap",null,{"v:ext":"edit",data:e}),{"v:ext":"edit"}),Ve("v:shapetype",[Ve("v:stroke",null,{joinstyle:"miter"}),Ve("v:path",null,{gradientshapeok:"t","o:connecttype":"rect"})].join(""),{id:"_x0000_t202","o:spt":202,coordsize:r.join(","),path:n})];pd<e*1e3;)pd+=1e3;return t.forEach(function(i){var l=_n(i[0]),c={color2:"#BEFF82",type:"gradient"};c.type=="gradient"&&(c.angle="-180");var d=c.type=="gradient"?Ve("o:fill",null,{type:"gradientUnscaled","v:ext":"view"}):null,f=Ve("v:fill",d,c),h={on:"t",obscured:"t"};++pd,s=s.concat(["<v:shape"+Bh({id:"_x0000_s"+pd,type:"#_x0000_t202",style:"position:absolute; margin-left:80pt;margin-top:5pt;width:104pt;height:64pt;z-index:10"+(i[1].hidden?";visibility:hidden":""),fillcolor:"#ECFAD4",strokecolor:"#edeaa1"})+">",f,Ve("v:shadow",null,h),Ve("v:path",null,{"o:connecttype":"none"}),'<v:textbox><div style="text-align:left"></div></v:textbox>','<x:ClientData ObjectType="Note">',"<x:MoveWithCells/>","<x:SizeWithCells/>",Vn("x:Anchor",[l.c+1,0,l.r+1,0,l.c+3,20,l.r+5,20].join(",")),Vn("x:AutoFill","False"),Vn("x:Row",String(l.r)),Vn("x:Column",String(l.c)),i[1].hidden?"":"<x:Visible/>","</x:ClientData>","</v:shape>"])}),s.push("</xml>"),s.join("")}function zB(e){var t=[un,Ve("comments",null,{xmlns:cf[0]})],r=[];return t.push("<authors>"),e.forEach(function(n){n[1].forEach(function(s){var i=ar(s.a);r.indexOf(i)==-1&&(r.push(i),t.push("<author>"+i+"</author>")),s.T&&s.ID&&r.indexOf("tc="+s.ID)==-1&&(r.push("tc="+s.ID),t.push("<author>tc="+s.ID+"</author>"))})}),r.length==0&&(r.push("SheetJ5"),t.push("<author>SheetJ5</author>")),t.push("</authors>"),t.push("<commentList>"),e.forEach(function(n){var s=0,i=[];if(n[1][0]&&n[1][0].T&&n[1][0].ID?s=r.indexOf("tc="+n[1][0].ID):n[1].forEach(function(d){d.a&&(s=r.indexOf(ar(d.a))),i.push(d.t||"")}),t.push('<comment ref="'+n[0]+'" authorId="'+s+'"><text>'),i.length<=1)t.push(Vn("t",ar(i[0]||"")));else{for(var l=`Comment:
    `+i[0]+`
`,c=1;c<i.length;++c)l+=`Reply:
    `+i[c]+`
`;t.push(Vn("t",ar(l)))}t.push("</text></comment>")}),t.push("</commentList>"),t.length>2&&(t[t.length]="</comments>",t[1]=t[1].replace("/>",">")),t.join("")}function ive(e,t,r){var n=[un,Ve("ThreadedComments",null,{xmlns:Nn.TCMNT}).replace(/[\/]>/,">")];return e.forEach(function(s){var i="";(s[1]||[]).forEach(function(l,c){if(!l.T){delete l.ID;return}l.a&&t.indexOf(l.a)==-1&&t.push(l.a);var d={ref:s[0],id:"{54EE7951-7262-4200-6969-"+("000000000000"+r.tcid++).slice(-12)+"}"};c==0?i=d.id:d.parentId=i,l.ID=d.id,l.a&&(d.personId="{54EE7950-7262-4200-6969-"+("000000000000"+t.indexOf(l.a)).slice(-12)+"}"),n.push(Ve("threadedComment",Vn("text",l.t||""),d))})}),n.push("</ThreadedComments>"),n.join("")}function lve(e){var t=[un,Ve("personList",null,{xmlns:Nn.TCMNT,"xmlns:x":cf[0]}).replace(/[\/]>/,">")];return e.forEach(function(r,n){t.push(Ve("person",null,{displayName:r,id:"{54EE7950-7262-4200-6969-"+("000000000000"+n).slice(-12)+"}",userId:r,providerId:"None"}))}),t.push("</personList>"),t.join("")}function ove(e){var t={};t.iauthor=e.read_shift(4);var r=wu(e);return t.rfx=r.s,t.ref=sr(r.s),e.l+=16,t}function cve(e,t){return t==null&&(t=Ae(36)),t.write_shift(4,e[1].iauthor),df(e[0],t),t.write_shift(4,0),t.write_shift(4,0),t.write_shift(4,0),t.write_shift(4,0),t}var uve=sa;function dve(e){return kn(e.slice(0,54))}function fve(e){var t=Ia(),r=[];return Ie(t,628),Ie(t,630),e.forEach(function(n){n[1].forEach(function(s){r.indexOf(s.a)>-1||(r.push(s.a.slice(0,54)),Ie(t,632,dve(s.a)))})}),Ie(t,631),Ie(t,633),e.forEach(function(n){n[1].forEach(function(s){s.iauthor=r.indexOf(s.a);var i={s:_n(n[0]),e:_n(n[0])};Ie(t,635,cve([i,s])),s.t&&s.t.length>0&&Ie(t,637,mxe(s)),Ie(t,636),delete s.iauthor})}),Ie(t,634),Ie(t,629),t.end()}function hve(e,t){t.FullPaths.forEach(function(r,n){if(n!=0){var s=r.replace(/[^\/]*[\/]/,"/_VBA_PROJECT_CUR/");s.slice(-1)!=="/"&&dr.utils.cfb_add(e,s,t.FileIndex[n].content)}})}var HB=["xlsb","xlsm","xlam","biff8","xla"],mve=function(){var e=/(^|[^A-Za-z_])R(\[?-?\d+\]|[1-9]\d*|)C(\[?-?\d+\]|[1-9]\d*|)(?![A-Za-z0-9_])/g,t={r:0,c:0};function r(n,s,i,l){var c=!1,d=!1;i.length==0?d=!0:i.charAt(0)=="["&&(d=!0,i=i.slice(1,-1)),l.length==0?c=!0:l.charAt(0)=="["&&(c=!0,l=l.slice(1,-1));var f=i.length>0?parseInt(i,10)|0:0,h=l.length>0?parseInt(l,10)|0:0;return c?h+=t.c:--h,d?f+=t.r:--f,s+(c?"":"$")+aa(h)+(d?"":"$")+Wn(f)}return function(s,i){return t=i,s.replace(e,r)}}(),Vk=/(^|[^._A-Z0-9])([$]?)([A-Z]{1,2}|[A-W][A-Z]{2}|X[A-E][A-Z]|XF[A-D])([$]?)(10[0-3]\d{4}|104[0-7]\d{3}|1048[0-4]\d{2}|10485[0-6]\d|104857[0-6]|[1-9]\d{0,5})(?![_.\(A-Za-z0-9])/g,qk=function(){return function(t,r){return t.replace(Vk,function(n,s,i,l,c,d){var f=Lk(l)-(i?0:r.c),h=Fk(d)-(c?0:r.r),g=h==0?"":c?h+1:"["+h+"]",p=f==0?"":i?f+1:"["+f+"]";return s+"R"+g+"C"+p})}}();function gve(e,t){return e.replace(Vk,function(r,n,s,i,l,c){return n+(s=="$"?s+i:aa(Lk(i)+t.c))+(l=="$"?l+c:Wn(Fk(c)+t.r))})}function pve(e){return e.length!=1}function rn(e){e.l+=1}function zo(e,t){var r=e.read_shift(2);return[r&16383,r>>14&1,r>>15&1]}function VB(e,t,r){var n=2;if(r){if(r.biff>=2&&r.biff<=5)return qB(e);r.biff==12&&(n=4)}var s=e.read_shift(n),i=e.read_shift(n),l=zo(e),c=zo(e);return{s:{r:s,c:l[0],cRel:l[1],rRel:l[2]},e:{r:i,c:c[0],cRel:c[1],rRel:c[2]}}}function qB(e){var t=zo(e),r=zo(e),n=e.read_shift(1),s=e.read_shift(1);return{s:{r:t[0],c:n,cRel:t[1],rRel:t[2]},e:{r:r[0],c:s,cRel:r[1],rRel:r[2]}}}function xve(e,t,r){if(r.biff<8)return qB(e);var n=e.read_shift(r.biff==12?4:2),s=e.read_shift(r.biff==12?4:2),i=zo(e),l=zo(e);return{s:{r:n,c:i[0],cRel:i[1],rRel:i[2]},e:{r:s,c:l[0],cRel:l[1],rRel:l[2]}}}function WB(e,t,r){if(r&&r.biff>=2&&r.biff<=5)return yve(e);var n=e.read_shift(r&&r.biff==12?4:2),s=zo(e);return{r:n,c:s[0],cRel:s[1],rRel:s[2]}}function yve(e){var t=zo(e),r=e.read_shift(1);return{r:t[0],c:r,cRel:t[1],rRel:t[2]}}function vve(e){var t=e.read_shift(2),r=e.read_shift(2);return{r:t,c:r&255,fQuoted:!!(r&16384),cRel:r>>15,rRel:r>>15}}function bve(e,t,r){var n=r&&r.biff?r.biff:8;if(n>=2&&n<=5)return wve(e);var s=e.read_shift(n>=12?4:2),i=e.read_shift(2),l=(i&16384)>>14,c=(i&32768)>>15;if(i&=16383,c==1)for(;s>524287;)s-=1048576;if(l==1)for(;i>8191;)i=i-16384;return{r:s,c:i,cRel:l,rRel:c}}function wve(e){var t=e.read_shift(2),r=e.read_shift(1),n=(t&32768)>>15,s=(t&16384)>>14;return t&=16383,n==1&&t>=8192&&(t=t-16384),s==1&&r>=128&&(r=r-256),{r:t,c:r,cRel:s,rRel:n}}function jve(e,t,r){var n=(e[e.l++]&96)>>5,s=VB(e,r.biff>=2&&r.biff<=5?6:8,r);return[n,s]}function Nve(e,t,r){var n=(e[e.l++]&96)>>5,s=e.read_shift(2,"i"),i=8;if(r)switch(r.biff){case 5:e.l+=12,i=6;break;case 12:i=12;break}var l=VB(e,i,r);return[n,s,l]}function Sve(e,t,r){var n=(e[e.l++]&96)>>5;return e.l+=r&&r.biff>8?12:r.biff<8?6:8,[n]}function _ve(e,t,r){var n=(e[e.l++]&96)>>5,s=e.read_shift(2),i=8;if(r)switch(r.biff){case 5:e.l+=12,i=6;break;case 12:i=12;break}return e.l+=i,[n,s]}function kve(e,t,r){var n=(e[e.l++]&96)>>5,s=xve(e,t-1,r);return[n,s]}function Eve(e,t,r){var n=(e[e.l++]&96)>>5;return e.l+=r.biff==2?6:r.biff==12?14:7,[n]}function pP(e){var t=e[e.l+1]&1,r=1;return e.l+=4,[t,r]}function Tve(e,t,r){e.l+=2;for(var n=e.read_shift(r&&r.biff==2?1:2),s=[],i=0;i<=n;++i)s.push(e.read_shift(r&&r.biff==2?1:2));return s}function Ave(e,t,r){var n=e[e.l+1]&255?1:0;return e.l+=2,[n,e.read_shift(r&&r.biff==2?1:2)]}function Cve(e,t,r){var n=e[e.l+1]&255?1:0;return e.l+=2,[n,e.read_shift(r&&r.biff==2?1:2)]}function Ove(e){var t=e[e.l+1]&255?1:0;return e.l+=2,[t,e.read_shift(2)]}function Dve(e,t,r){var n=e[e.l+1]&255?1:0;return e.l+=r&&r.biff==2?3:4,[n]}function GB(e){var t=e.read_shift(1),r=e.read_shift(1);return[t,r]}function Pve(e){return e.read_shift(2),GB(e)}function Mve(e){return e.read_shift(2),GB(e)}function Rve(e,t,r){var n=(e[e.l]&96)>>5;e.l+=1;var s=WB(e,0,r);return[n,s]}function Ive(e,t,r){var n=(e[e.l]&96)>>5;e.l+=1;var s=bve(e,0,r);return[n,s]}function Fve(e,t,r){var n=(e[e.l]&96)>>5;e.l+=1;var s=e.read_shift(2);r&&r.biff==5&&(e.l+=12);var i=WB(e,0,r);return[n,s,i]}function Lve(e,t,r){var n=(e[e.l]&96)>>5;e.l+=1;var s=e.read_shift(r&&r.biff<=3?1:2);return[Lbe[s],XB[s],n]}function Bve(e,t,r){var n=e[e.l++],s=e.read_shift(1),i=r&&r.biff<=3?[n==88?-1:0,e.read_shift(1)]:$ve(e);return[s,(i[0]===0?XB:Fbe)[i[1]]]}function $ve(e){return[e[e.l+1]>>7,e.read_shift(2)&32767]}function Uve(e,t,r){e.l+=r&&r.biff==2?3:4}function zve(e,t,r){if(e.l++,r&&r.biff==12)return[e.read_shift(4,"i"),0];var n=e.read_shift(2),s=e.read_shift(r&&r.biff==2?1:2);return[n,s]}function Hve(e){return e.l++,wm[e.read_shift(1)]}function Vve(e){return e.l++,e.read_shift(2)}function qve(e){return e.l++,e.read_shift(1)!==0}function Wve(e){return e.l++,ff(e)}function Gve(e,t,r){return e.l++,AB(e,t-1,r)}function Kve(e,t){var r=[e.read_shift(1)];if(t==12)switch(r[0]){case 2:r[0]=4;break;case 4:r[0]=16;break;case 0:r[0]=1;break;case 1:r[0]=2;break}switch(r[0]){case 4:r[1]=Fxe(e,1)?"TRUE":"FALSE",t!=12&&(e.l+=7);break;case 37:case 16:r[1]=wm[e[e.l]],e.l+=t==12?4:8;break;case 0:e.l+=8;break;case 1:r[1]=ff(e);break;case 2:r[1]=Uxe(e,0,{biff:t>0&&t<8?2:t});break;default:throw new Error("Bad SerAr: "+r[0])}return r}function Yve(e,t,r){for(var n=e.read_shift(r.biff==12?4:2),s=[],i=0;i!=n;++i)s.push((r.biff==12?wu:Vxe)(e));return s}function Xve(e,t,r){var n=0,s=0;r.biff==12?(n=e.read_shift(4),s=e.read_shift(4)):(s=1+e.read_shift(1),n=1+e.read_shift(2)),r.biff>=2&&r.biff<8&&(--n,--s==0&&(s=256));for(var i=0,l=[];i!=n&&(l[i]=[]);++i)for(var c=0;c!=s;++c)l[i][c]=Kve(e,r.biff);return l}function Qve(e,t,r){var n=e.read_shift(1)>>>5&3,s=!r||r.biff>=8?4:2,i=e.read_shift(s);switch(r.biff){case 2:e.l+=5;break;case 3:case 4:e.l+=8;break;case 5:e.l+=12;break}return[n,0,i]}function Zve(e,t,r){if(r.biff==5)return Jve(e);var n=e.read_shift(1)>>>5&3,s=e.read_shift(2),i=e.read_shift(4);return[n,s,i]}function Jve(e){var t=e.read_shift(1)>>>5&3,r=e.read_shift(2,"i");e.l+=8;var n=e.read_shift(2);return e.l+=12,[t,r,n]}function ebe(e,t,r){var n=e.read_shift(1)>>>5&3;e.l+=r&&r.biff==2?3:4;var s=e.read_shift(r&&r.biff==2?1:2);return[n,s]}function tbe(e,t,r){var n=e.read_shift(1)>>>5&3,s=e.read_shift(r&&r.biff==2?1:2);return[n,s]}function rbe(e,t,r){var n=e.read_shift(1)>>>5&3;return e.l+=4,r.biff<8&&e.l--,r.biff==12&&(e.l+=2),[n]}function nbe(e,t,r){var n=(e[e.l++]&96)>>5,s=e.read_shift(2),i=4;if(r)switch(r.biff){case 5:i=15;break;case 12:i=6;break}return e.l+=i,[n,s]}var abe=Ui,sbe=Ui,ibe=Ui;function jm(e,t,r){return e.l+=2,[vve(e)]}function Wk(e){return e.l+=6,[]}var lbe=jm,obe=Wk,cbe=Wk,ube=jm;function KB(e){return e.l+=2,[EB(e),e.read_shift(2)&1]}var dbe=jm,fbe=KB,hbe=Wk,mbe=jm,gbe=jm,pbe=["Data","All","Headers","??","?Data2","??","?DataHeaders","??","Totals","??","??","??","?DataTotals","??","??","??","?Current"];function xbe(e){e.l+=2;var t=e.read_shift(2),r=e.read_shift(2),n=e.read_shift(4),s=e.read_shift(2),i=e.read_shift(2),l=pbe[r>>2&31];return{ixti:t,coltype:r&3,rt:l,idx:n,c:s,C:i}}function ybe(e){return e.l+=2,[e.read_shift(4)]}function vbe(e,t,r){return e.l+=5,e.l+=2,e.l+=r.biff==2?1:4,["PTGSHEET"]}function bbe(e,t,r){return e.l+=r.biff==2?4:5,["PTGENDSHEET"]}function wbe(e){var t=e.read_shift(1)>>>5&3,r=e.read_shift(2);return[t,r]}function jbe(e){var t=e.read_shift(1)>>>5&3,r=e.read_shift(2);return[t,r]}function Nbe(e){return e.l+=4,[0,0]}var xP={1:{n:"PtgExp",f:zve},2:{n:"PtgTbl",f:ibe},3:{n:"PtgAdd",f:rn},4:{n:"PtgSub",f:rn},5:{n:"PtgMul",f:rn},6:{n:"PtgDiv",f:rn},7:{n:"PtgPower",f:rn},8:{n:"PtgConcat",f:rn},9:{n:"PtgLt",f:rn},10:{n:"PtgLe",f:rn},11:{n:"PtgEq",f:rn},12:{n:"PtgGe",f:rn},13:{n:"PtgGt",f:rn},14:{n:"PtgNe",f:rn},15:{n:"PtgIsect",f:rn},16:{n:"PtgUnion",f:rn},17:{n:"PtgRange",f:rn},18:{n:"PtgUplus",f:rn},19:{n:"PtgUminus",f:rn},20:{n:"PtgPercent",f:rn},21:{n:"PtgParen",f:rn},22:{n:"PtgMissArg",f:rn},23:{n:"PtgStr",f:Gve},26:{n:"PtgSheet",f:vbe},27:{n:"PtgEndSheet",f:bbe},28:{n:"PtgErr",f:Hve},29:{n:"PtgBool",f:qve},30:{n:"PtgInt",f:Vve},31:{n:"PtgNum",f:Wve},32:{n:"PtgArray",f:Eve},33:{n:"PtgFunc",f:Lve},34:{n:"PtgFuncVar",f:Bve},35:{n:"PtgName",f:Qve},36:{n:"PtgRef",f:Rve},37:{n:"PtgArea",f:jve},38:{n:"PtgMemArea",f:ebe},39:{n:"PtgMemErr",f:abe},40:{n:"PtgMemNoMem",f:sbe},41:{n:"PtgMemFunc",f:tbe},42:{n:"PtgRefErr",f:rbe},43:{n:"PtgAreaErr",f:Sve},44:{n:"PtgRefN",f:Ive},45:{n:"PtgAreaN",f:kve},46:{n:"PtgMemAreaN",f:wbe},47:{n:"PtgMemNoMemN",f:jbe},57:{n:"PtgNameX",f:Zve},58:{n:"PtgRef3d",f:Fve},59:{n:"PtgArea3d",f:Nve},60:{n:"PtgRefErr3d",f:nbe},61:{n:"PtgAreaErr3d",f:_ve},255:{}},Sbe={64:32,96:32,65:33,97:33,66:34,98:34,67:35,99:35,68:36,100:36,69:37,101:37,70:38,102:38,71:39,103:39,72:40,104:40,73:41,105:41,74:42,106:42,75:43,107:43,76:44,108:44,77:45,109:45,78:46,110:46,79:47,111:47,88:34,120:34,89:57,121:57,90:58,122:58,91:59,123:59,92:60,124:60,93:61,125:61},_be={1:{n:"PtgElfLel",f:KB},2:{n:"PtgElfRw",f:mbe},3:{n:"PtgElfCol",f:lbe},6:{n:"PtgElfRwV",f:gbe},7:{n:"PtgElfColV",f:ube},10:{n:"PtgElfRadical",f:dbe},11:{n:"PtgElfRadicalS",f:hbe},13:{n:"PtgElfColS",f:obe},15:{n:"PtgElfColSV",f:cbe},16:{n:"PtgElfRadicalLel",f:fbe},25:{n:"PtgList",f:xbe},29:{n:"PtgSxName",f:ybe},255:{}},kbe={0:{n:"PtgAttrNoop",f:Nbe},1:{n:"PtgAttrSemi",f:Dve},2:{n:"PtgAttrIf",f:Cve},4:{n:"PtgAttrChoose",f:Tve},8:{n:"PtgAttrGoto",f:Ave},16:{n:"PtgAttrSum",f:Uve},32:{n:"PtgAttrBaxcel",f:pP},33:{n:"PtgAttrBaxcel",f:pP},64:{n:"PtgAttrSpace",f:Pve},65:{n:"PtgAttrSpaceSemi",f:Mve},128:{n:"PtgAttrIfError",f:Ove},255:{}};function Ebe(e,t,r,n){if(n.biff<8)return Ui(e,t);for(var s=e.l+t,i=[],l=0;l!==r.length;++l)switch(r[l][0]){case"PtgArray":r[l][1]=Xve(e,0,n),i.push(r[l][1]);break;case"PtgMemArea":r[l][2]=Yve(e,r[l][1],n),i.push(r[l][2]);break;case"PtgExp":n&&n.biff==12&&(r[l][1][1]=e.read_shift(4),i.push(r[l][1]));break;case"PtgList":case"PtgElfRadicalS":case"PtgElfColS":case"PtgElfColSV":throw"Unsupported "+r[l][0]}return t=s-e.l,t!==0&&i.push(Ui(e,t)),i}function Tbe(e,t,r){for(var n=e.l+t,s,i,l=[];n!=e.l;)t=n-e.l,i=e[e.l],s=xP[i]||xP[Sbe[i]],(i===24||i===25)&&(s=(i===24?_be:kbe)[e[e.l+1]]),!s||!s.f?Ui(e,t):l.push([s.n,s.f(e,t,r)]);return l}function Abe(e){for(var t=[],r=0;r<e.length;++r){for(var n=e[r],s=[],i=0;i<n.length;++i){var l=n[i];if(l)switch(l[0]){case 2:s.push('"'+l[1].replace(/"/g,'""')+'"');break;default:s.push(l[1])}else s.push("")}t.push(s.join(","))}return t.join(";")}var Cbe={PtgAdd:"+",PtgConcat:"&",PtgDiv:"/",PtgEq:"=",PtgGe:">=",PtgGt:">",PtgLe:"<=",PtgLt:"<",PtgMul:"*",PtgNe:"<>",PtgPower:"^",PtgSub:"-"};function Obe(e,t){if(!e&&!(t&&t.biff<=5&&t.biff>=2))throw new Error("empty sheet name");return/[^\w\u4E00-\u9FFF\u3040-\u30FF]/.test(e)?"'"+e+"'":e}function YB(e,t,r){if(!e)return"SH33TJSERR0";if(r.biff>8&&(!e.XTI||!e.XTI[t]))return e.SheetNames[t];if(!e.XTI)return"SH33TJSERR6";var n=e.XTI[t];if(r.biff<8)return t>1e4&&(t-=65536),t<0&&(t=-t),t==0?"":e.XTI[t-1];if(!n)return"SH33TJSERR1";var s="";if(r.biff>8)switch(e[n[0]][0]){case 357:return s=n[1]==-1?"#REF":e.SheetNames[n[1]],n[1]==n[2]?s:s+":"+e.SheetNames[n[2]];case 358:return r.SID!=null?e.SheetNames[r.SID]:"SH33TJSSAME"+e[n[0]][0];case 355:default:return"SH33TJSSRC"+e[n[0]][0]}switch(e[n[0]][0][0]){case 1025:return s=n[1]==-1?"#REF":e.SheetNames[n[1]]||"SH33TJSERR3",n[1]==n[2]?s:s+":"+e.SheetNames[n[2]];case 14849:return e[n[0]].slice(1).map(function(i){return i.Name}).join(";;");default:return e[n[0]][0][3]?(s=n[1]==-1?"#REF":e[n[0]][0][3][n[1]]||"SH33TJSERR4",n[1]==n[2]?s:s+":"+e[n[0]][0][3][n[2]]):"SH33TJSERR2"}}function yP(e,t,r){var n=YB(e,t,r);return n=="#REF"?n:Obe(n,r)}function Bd(e,t,r,n,s){var i=s&&s.biff||8,l={s:{c:0,r:0}},c=[],d,f,h,g=0,p=0,y,b="";if(!e[0]||!e[0][0])return"";for(var w=-1,j="",S=0,k=e[0].length;S<k;++S){var E=e[0][S];switch(E[0]){case"PtgUminus":c.push("-"+c.pop());break;case"PtgUplus":c.push("+"+c.pop());break;case"PtgPercent":c.push(c.pop()+"%");break;case"PtgAdd":case"PtgConcat":case"PtgDiv":case"PtgEq":case"PtgGe":case"PtgGt":case"PtgLe":case"PtgLt":case"PtgMul":case"PtgNe":case"PtgPower":case"PtgSub":if(d=c.pop(),f=c.pop(),w>=0){switch(e[0][w][1][0]){case 0:j=qr(" ",e[0][w][1][1]);break;case 1:j=qr("\r",e[0][w][1][1]);break;default:if(j="",s.WTF)throw new Error("Unexpected PtgAttrSpaceType "+e[0][w][1][0])}f=f+j,w=-1}c.push(f+Cbe[E[0]]+d);break;case"PtgIsect":d=c.pop(),f=c.pop(),c.push(f+" "+d);break;case"PtgUnion":d=c.pop(),f=c.pop(),c.push(f+","+d);break;case"PtgRange":d=c.pop(),f=c.pop(),c.push(f+":"+d);break;case"PtgAttrChoose":break;case"PtgAttrGoto":break;case"PtgAttrIf":break;case"PtgAttrIfError":break;case"PtgRef":h=th(E[1][1],l,s),c.push(rh(h,i));break;case"PtgRefN":h=r?th(E[1][1],r,s):E[1][1],c.push(rh(h,i));break;case"PtgRef3d":g=E[1][1],h=th(E[1][2],l,s),b=yP(n,g,s),c.push(b+"!"+rh(h,i));break;case"PtgFunc":case"PtgFuncVar":var C=E[1][0],T=E[1][1];C||(C=0),C&=127;var A=C==0?[]:c.slice(-C);c.length-=C,T==="User"&&(T=A.shift()),c.push(T+"("+A.join(",")+")");break;case"PtgBool":c.push(E[1]?"TRUE":"FALSE");break;case"PtgInt":c.push(E[1]);break;case"PtgNum":c.push(String(E[1]));break;case"PtgStr":c.push('"'+E[1].replace(/"/g,'""')+'"');break;case"PtgErr":c.push(E[1]);break;case"PtgAreaN":y=rP(E[1][1],r?{s:r}:l,s),c.push(f2(y,s));break;case"PtgArea":y=rP(E[1][1],l,s),c.push(f2(y,s));break;case"PtgArea3d":g=E[1][1],y=E[1][2],b=yP(n,g,s),c.push(b+"!"+f2(y,s));break;case"PtgAttrSum":c.push("SUM("+c.pop()+")");break;case"PtgAttrBaxcel":case"PtgAttrSemi":break;case"PtgName":p=E[1][2];var O=(n.names||[])[p-1]||(n[0]||[])[p],D=O?O.Name:"SH33TJSNAME"+String(p);D&&D.slice(0,6)=="_xlfn."&&!s.xlfn&&(D=D.slice(6)),c.push(D);break;case"PtgNameX":var R=E[1][1];p=E[1][2];var B;if(s.biff<=5)R<0&&(R=-R),n[R]&&(B=n[R][p]);else{var V="";if(((n[R]||[])[0]||[])[0]==14849||(((n[R]||[])[0]||[])[0]==1025?n[R][p]&&n[R][p].itab>0&&(V=n.SheetNames[n[R][p].itab-1]+"!"):V=n.SheetNames[p-1]+"!"),n[R]&&n[R][p])V+=n[R][p].Name;else if(n[0]&&n[0][p])V+=n[0][p].Name;else{var W=(YB(n,R,s)||"").split(";;");W[p-1]?V=W[p-1]:V+="SH33TJSERRX"}c.push(V);break}B||(B={Name:"SH33TJSERRY"}),c.push(B.Name);break;case"PtgParen":var se="(",oe=")";if(w>=0){switch(j="",e[0][w][1][0]){case 2:se=qr(" ",e[0][w][1][1])+se;break;case 3:se=qr("\r",e[0][w][1][1])+se;break;case 4:oe=qr(" ",e[0][w][1][1])+oe;break;case 5:oe=qr("\r",e[0][w][1][1])+oe;break;default:if(s.WTF)throw new Error("Unexpected PtgAttrSpaceType "+e[0][w][1][0])}w=-1}c.push(se+c.pop()+oe);break;case"PtgRefErr":c.push("#REF!");break;case"PtgRefErr3d":c.push("#REF!");break;case"PtgExp":h={c:E[1][1],r:E[1][0]};var Y={c:r.c,r:r.r};if(n.sharedf[sr(h)]){var Q=n.sharedf[sr(h)];c.push(Bd(Q,l,Y,n,s))}else{var te=!1;for(d=0;d!=n.arrayf.length;++d)if(f=n.arrayf[d],!(h.c<f[0].s.c||h.c>f[0].e.c)&&!(h.r<f[0].s.r||h.r>f[0].e.r)){c.push(Bd(f[1],l,Y,n,s)),te=!0;break}te||c.push(E[1])}break;case"PtgArray":c.push("{"+Abe(E[1])+"}");break;case"PtgMemArea":break;case"PtgAttrSpace":case"PtgAttrSpaceSemi":w=S;break;case"PtgTbl":break;case"PtgMemErr":break;case"PtgMissArg":c.push("");break;case"PtgAreaErr":c.push("#REF!");break;case"PtgAreaErr3d":c.push("#REF!");break;case"PtgList":c.push("Table"+E[1].idx+"[#"+E[1].rt+"]");break;case"PtgMemAreaN":case"PtgMemNoMemN":case"PtgAttrNoop":case"PtgSheet":case"PtgEndSheet":break;case"PtgMemFunc":break;case"PtgMemNoMem":break;case"PtgElfCol":case"PtgElfColS":case"PtgElfColSV":case"PtgElfColV":case"PtgElfLel":case"PtgElfRadical":case"PtgElfRadicalLel":case"PtgElfRadicalS":case"PtgElfRw":case"PtgElfRwV":throw new Error("Unsupported ELFs");case"PtgSxName":throw new Error("Unrecognized Formula Token: "+String(E));default:throw new Error("Unrecognized Formula Token: "+String(E))}var ue=["PtgAttrSpace","PtgAttrSpaceSemi","PtgAttrGoto"];if(s.biff!=3&&w>=0&&ue.indexOf(e[0][S][0])==-1){E=e[0][w];var ve=!0;switch(E[1][0]){case 4:ve=!1;case 0:j=qr(" ",E[1][1]);break;case 5:ve=!1;case 1:j=qr("\r",E[1][1]);break;default:if(j="",s.WTF)throw new Error("Unexpected PtgAttrSpaceType "+E[1][0])}c.push((ve?j:"")+c.pop()+(ve?"":j)),w=-1}}if(c.length>1&&s.WTF)throw new Error("bad formula stack");return c[0]}function Dbe(e){if(e==null){var t=Ae(8);return t.write_shift(1,3),t.write_shift(1,0),t.write_shift(2,0),t.write_shift(2,0),t.write_shift(2,65535),t}else if(typeof e=="number")return lu(e);return lu(0)}function Pbe(e,t,r,n,s){var i=ou(t,r,s),l=Dbe(e.v),c=Ae(6),d=33;c.write_shift(2,d),c.write_shift(4,0);for(var f=Ae(e.bf.length),h=0;h<e.bf.length;++h)f[h]=e.bf[h];var g=Hn([i,l,c,f]);return g}function Ly(e,t,r){var n=e.read_shift(4),s=Tbe(e,n,r),i=e.read_shift(4),l=i>0?Ebe(e,i,s,r):null;return[s,l]}var Mbe=Ly,By=Ly,Rbe=Ly,Ibe=Ly,Fbe={0:"BEEP",1:"OPEN",2:"OPEN.LINKS",3:"CLOSE.ALL",4:"SAVE",5:"SAVE.AS",6:"FILE.DELETE",7:"PAGE.SETUP",8:"PRINT",9:"PRINTER.SETUP",10:"QUIT",11:"NEW.WINDOW",12:"ARRANGE.ALL",13:"WINDOW.SIZE",14:"WINDOW.MOVE",15:"FULL",16:"CLOSE",17:"RUN",22:"SET.PRINT.AREA",23:"SET.PRINT.TITLES",24:"SET.PAGE.BREAK",25:"REMOVE.PAGE.BREAK",26:"FONT",27:"DISPLAY",28:"PROTECT.DOCUMENT",29:"PRECISION",30:"A1.R1C1",31:"CALCULATE.NOW",32:"CALCULATION",34:"DATA.FIND",35:"EXTRACT",36:"DATA.DELETE",37:"SET.DATABASE",38:"SET.CRITERIA",39:"SORT",40:"DATA.SERIES",41:"TABLE",42:"FORMAT.NUMBER",43:"ALIGNMENT",44:"STYLE",45:"BORDER",46:"CELL.PROTECTION",47:"COLUMN.WIDTH",48:"UNDO",49:"CUT",50:"COPY",51:"PASTE",52:"CLEAR",53:"PASTE.SPECIAL",54:"EDIT.DELETE",55:"INSERT",56:"FILL.RIGHT",57:"FILL.DOWN",61:"DEFINE.NAME",62:"CREATE.NAMES",63:"FORMULA.GOTO",64:"FORMULA.FIND",65:"SELECT.LAST.CELL",66:"SHOW.ACTIVE.CELL",67:"GALLERY.AREA",68:"GALLERY.BAR",69:"GALLERY.COLUMN",70:"GALLERY.LINE",71:"GALLERY.PIE",72:"GALLERY.SCATTER",73:"COMBINATION",74:"PREFERRED",75:"ADD.OVERLAY",76:"GRIDLINES",77:"SET.PREFERRED",78:"AXES",79:"LEGEND",80:"ATTACH.TEXT",81:"ADD.ARROW",82:"SELECT.CHART",83:"SELECT.PLOT.AREA",84:"PATTERNS",85:"MAIN.CHART",86:"OVERLAY",87:"SCALE",88:"FORMAT.LEGEND",89:"FORMAT.TEXT",90:"EDIT.REPEAT",91:"PARSE",92:"JUSTIFY",93:"HIDE",94:"UNHIDE",95:"WORKSPACE",96:"FORMULA",97:"FORMULA.FILL",98:"FORMULA.ARRAY",99:"DATA.FIND.NEXT",100:"DATA.FIND.PREV",101:"FORMULA.FIND.NEXT",102:"FORMULA.FIND.PREV",103:"ACTIVATE",104:"ACTIVATE.NEXT",105:"ACTIVATE.PREV",106:"UNLOCKED.NEXT",107:"UNLOCKED.PREV",108:"COPY.PICTURE",109:"SELECT",110:"DELETE.NAME",111:"DELETE.FORMAT",112:"VLINE",113:"HLINE",114:"VPAGE",115:"HPAGE",116:"VSCROLL",117:"HSCROLL",118:"ALERT",119:"NEW",120:"CANCEL.COPY",121:"SHOW.CLIPBOARD",122:"MESSAGE",124:"PASTE.LINK",125:"APP.ACTIVATE",126:"DELETE.ARROW",127:"ROW.HEIGHT",128:"FORMAT.MOVE",129:"FORMAT.SIZE",130:"FORMULA.REPLACE",131:"SEND.KEYS",132:"SELECT.SPECIAL",133:"APPLY.NAMES",134:"REPLACE.FONT",135:"FREEZE.PANES",136:"SHOW.INFO",137:"SPLIT",138:"ON.WINDOW",139:"ON.DATA",140:"DISABLE.INPUT",142:"OUTLINE",143:"LIST.NAMES",144:"FILE.CLOSE",145:"SAVE.WORKBOOK",146:"DATA.FORM",147:"COPY.CHART",148:"ON.TIME",149:"WAIT",150:"FORMAT.FONT",151:"FILL.UP",152:"FILL.LEFT",153:"DELETE.OVERLAY",155:"SHORT.MENUS",159:"SET.UPDATE.STATUS",161:"COLOR.PALETTE",162:"DELETE.STYLE",163:"WINDOW.RESTORE",164:"WINDOW.MAXIMIZE",166:"CHANGE.LINK",167:"CALCULATE.DOCUMENT",168:"ON.KEY",169:"APP.RESTORE",170:"APP.MOVE",171:"APP.SIZE",172:"APP.MINIMIZE",173:"APP.MAXIMIZE",174:"BRING.TO.FRONT",175:"SEND.TO.BACK",185:"MAIN.CHART.TYPE",186:"OVERLAY.CHART.TYPE",187:"SELECT.END",188:"OPEN.MAIL",189:"SEND.MAIL",190:"STANDARD.FONT",191:"CONSOLIDATE",192:"SORT.SPECIAL",193:"GALLERY.3D.AREA",194:"GALLERY.3D.COLUMN",195:"GALLERY.3D.LINE",196:"GALLERY.3D.PIE",197:"VIEW.3D",198:"GOAL.SEEK",199:"WORKGROUP",200:"FILL.GROUP",201:"UPDATE.LINK",202:"PROMOTE",203:"DEMOTE",204:"SHOW.DETAIL",206:"UNGROUP",207:"OBJECT.PROPERTIES",208:"SAVE.NEW.OBJECT",209:"SHARE",210:"SHARE.NAME",211:"DUPLICATE",212:"APPLY.STYLE",213:"ASSIGN.TO.OBJECT",214:"OBJECT.PROTECTION",215:"HIDE.OBJECT",216:"SET.EXTRACT",217:"CREATE.PUBLISHER",218:"SUBSCRIBE.TO",219:"ATTRIBUTES",220:"SHOW.TOOLBAR",222:"PRINT.PREVIEW",223:"EDIT.COLOR",224:"SHOW.LEVELS",225:"FORMAT.MAIN",226:"FORMAT.OVERLAY",227:"ON.RECALC",228:"EDIT.SERIES",229:"DEFINE.STYLE",240:"LINE.PRINT",243:"ENTER.DATA",249:"GALLERY.RADAR",250:"MERGE.STYLES",251:"EDITION.OPTIONS",252:"PASTE.PICTURE",253:"PASTE.PICTURE.LINK",254:"SPELLING",256:"ZOOM",259:"INSERT.OBJECT",260:"WINDOW.MINIMIZE",265:"SOUND.NOTE",266:"SOUND.PLAY",267:"FORMAT.SHAPE",268:"EXTEND.POLYGON",269:"FORMAT.AUTO",272:"GALLERY.3D.BAR",273:"GALLERY.3D.SURFACE",274:"FILL.AUTO",276:"CUSTOMIZE.TOOLBAR",277:"ADD.TOOL",278:"EDIT.OBJECT",279:"ON.DOUBLECLICK",280:"ON.ENTRY",281:"WORKBOOK.ADD",282:"WORKBOOK.MOVE",283:"WORKBOOK.COPY",284:"WORKBOOK.OPTIONS",285:"SAVE.WORKSPACE",288:"CHART.WIZARD",289:"DELETE.TOOL",290:"MOVE.TOOL",291:"WORKBOOK.SELECT",292:"WORKBOOK.ACTIVATE",293:"ASSIGN.TO.TOOL",295:"COPY.TOOL",296:"RESET.TOOL",297:"CONSTRAIN.NUMERIC",298:"PASTE.TOOL",302:"WORKBOOK.NEW",305:"SCENARIO.CELLS",306:"SCENARIO.DELETE",307:"SCENARIO.ADD",308:"SCENARIO.EDIT",309:"SCENARIO.SHOW",310:"SCENARIO.SHOW.NEXT",311:"SCENARIO.SUMMARY",312:"PIVOT.TABLE.WIZARD",313:"PIVOT.FIELD.PROPERTIES",314:"PIVOT.FIELD",315:"PIVOT.ITEM",316:"PIVOT.ADD.FIELDS",318:"OPTIONS.CALCULATION",319:"OPTIONS.EDIT",320:"OPTIONS.VIEW",321:"ADDIN.MANAGER",322:"MENU.EDITOR",323:"ATTACH.TOOLBARS",324:"VBAActivate",325:"OPTIONS.CHART",328:"VBA.INSERT.FILE",330:"VBA.PROCEDURE.DEFINITION",336:"ROUTING.SLIP",338:"ROUTE.DOCUMENT",339:"MAIL.LOGON",342:"INSERT.PICTURE",343:"EDIT.TOOL",344:"GALLERY.DOUGHNUT",350:"CHART.TREND",352:"PIVOT.ITEM.PROPERTIES",354:"WORKBOOK.INSERT",355:"OPTIONS.TRANSITION",356:"OPTIONS.GENERAL",370:"FILTER.ADVANCED",373:"MAIL.ADD.MAILER",374:"MAIL.DELETE.MAILER",375:"MAIL.REPLY",376:"MAIL.REPLY.ALL",377:"MAIL.FORWARD",378:"MAIL.NEXT.LETTER",379:"DATA.LABEL",380:"INSERT.TITLE",381:"FONT.PROPERTIES",382:"MACRO.OPTIONS",383:"WORKBOOK.HIDE",384:"WORKBOOK.UNHIDE",385:"WORKBOOK.DELETE",386:"WORKBOOK.NAME",388:"GALLERY.CUSTOM",390:"ADD.CHART.AUTOFORMAT",391:"DELETE.CHART.AUTOFORMAT",392:"CHART.ADD.DATA",393:"AUTO.OUTLINE",394:"TAB.ORDER",395:"SHOW.DIALOG",396:"SELECT.ALL",397:"UNGROUP.SHEETS",398:"SUBTOTAL.CREATE",399:"SUBTOTAL.REMOVE",400:"RENAME.OBJECT",412:"WORKBOOK.SCROLL",413:"WORKBOOK.NEXT",414:"WORKBOOK.PREV",415:"WORKBOOK.TAB.SPLIT",416:"FULL.SCREEN",417:"WORKBOOK.PROTECT",420:"SCROLLBAR.PROPERTIES",421:"PIVOT.SHOW.PAGES",422:"TEXT.TO.COLUMNS",423:"FORMAT.CHARTTYPE",424:"LINK.FORMAT",425:"TRACER.DISPLAY",430:"TRACER.NAVIGATE",431:"TRACER.CLEAR",432:"TRACER.ERROR",433:"PIVOT.FIELD.GROUP",434:"PIVOT.FIELD.UNGROUP",435:"CHECKBOX.PROPERTIES",436:"LABEL.PROPERTIES",437:"LISTBOX.PROPERTIES",438:"EDITBOX.PROPERTIES",439:"PIVOT.REFRESH",440:"LINK.COMBO",441:"OPEN.TEXT",442:"HIDE.DIALOG",443:"SET.DIALOG.FOCUS",444:"ENABLE.OBJECT",445:"PUSHBUTTON.PROPERTIES",446:"SET.DIALOG.DEFAULT",447:"FILTER",448:"FILTER.SHOW.ALL",449:"CLEAR.OUTLINE",450:"FUNCTION.WIZARD",451:"ADD.LIST.ITEM",452:"SET.LIST.ITEM",453:"REMOVE.LIST.ITEM",454:"SELECT.LIST.ITEM",455:"SET.CONTROL.VALUE",456:"SAVE.COPY.AS",458:"OPTIONS.LISTS.ADD",459:"OPTIONS.LISTS.DELETE",460:"SERIES.AXES",461:"SERIES.X",462:"SERIES.Y",463:"ERRORBAR.X",464:"ERRORBAR.Y",465:"FORMAT.CHART",466:"SERIES.ORDER",467:"MAIL.LOGOFF",468:"CLEAR.ROUTING.SLIP",469:"APP.ACTIVATE.MICROSOFT",470:"MAIL.EDIT.MAILER",471:"ON.SHEET",472:"STANDARD.WIDTH",473:"SCENARIO.MERGE",474:"SUMMARY.INFO",475:"FIND.FILE",476:"ACTIVE.CELL.FONT",477:"ENABLE.TIPWIZARD",478:"VBA.MAKE.ADDIN",480:"INSERTDATATABLE",481:"WORKGROUP.OPTIONS",482:"MAIL.SEND.MAILER",485:"AUTOCORRECT",489:"POST.DOCUMENT",491:"PICKLIST",493:"VIEW.SHOW",494:"VIEW.DEFINE",495:"VIEW.DELETE",509:"SHEET.BACKGROUND",510:"INSERT.MAP.OBJECT",511:"OPTIONS.MENONO",517:"MSOCHECKS",518:"NORMAL",519:"LAYOUT",520:"RM.PRINT.AREA",521:"CLEAR.PRINT.AREA",522:"ADD.PRINT.AREA",523:"MOVE.BRK",545:"HIDECURR.NOTE",546:"HIDEALL.NOTES",547:"DELETE.NOTE",548:"TRAVERSE.NOTES",549:"ACTIVATE.NOTES",620:"PROTECT.REVISIONS",621:"UNPROTECT.REVISIONS",647:"OPTIONS.ME",653:"WEB.PUBLISH",667:"NEWWEBQUERY",673:"PIVOT.TABLE.CHART",753:"OPTIONS.SAVE",755:"OPTIONS.SPELL",808:"HIDEALL.INKANNOTS"},XB={0:"COUNT",1:"IF",2:"ISNA",3:"ISERROR",4:"SUM",5:"AVERAGE",6:"MIN",7:"MAX",8:"ROW",9:"COLUMN",10:"NA",11:"NPV",12:"STDEV",13:"DOLLAR",14:"FIXED",15:"SIN",16:"COS",17:"TAN",18:"ATAN",19:"PI",20:"SQRT",21:"EXP",22:"LN",23:"LOG10",24:"ABS",25:"INT",26:"SIGN",27:"ROUND",28:"LOOKUP",29:"INDEX",30:"REPT",31:"MID",32:"LEN",33:"VALUE",34:"TRUE",35:"FALSE",36:"AND",37:"OR",38:"NOT",39:"MOD",40:"DCOUNT",41:"DSUM",42:"DAVERAGE",43:"DMIN",44:"DMAX",45:"DSTDEV",46:"VAR",47:"DVAR",48:"TEXT",49:"LINEST",50:"TREND",51:"LOGEST",52:"GROWTH",53:"GOTO",54:"HALT",55:"RETURN",56:"PV",57:"FV",58:"NPER",59:"PMT",60:"RATE",61:"MIRR",62:"IRR",63:"RAND",64:"MATCH",65:"DATE",66:"TIME",67:"DAY",68:"MONTH",69:"YEAR",70:"WEEKDAY",71:"HOUR",72:"MINUTE",73:"SECOND",74:"NOW",75:"AREAS",76:"ROWS",77:"COLUMNS",78:"OFFSET",79:"ABSREF",80:"RELREF",81:"ARGUMENT",82:"SEARCH",83:"TRANSPOSE",84:"ERROR",85:"STEP",86:"TYPE",87:"ECHO",88:"SET.NAME",89:"CALLER",90:"DEREF",91:"WINDOWS",92:"SERIES",93:"DOCUMENTS",94:"ACTIVE.CELL",95:"SELECTION",96:"RESULT",97:"ATAN2",98:"ASIN",99:"ACOS",100:"CHOOSE",101:"HLOOKUP",102:"VLOOKUP",103:"LINKS",104:"INPUT",105:"ISREF",106:"GET.FORMULA",107:"GET.NAME",108:"SET.VALUE",109:"LOG",110:"EXEC",111:"CHAR",112:"LOWER",113:"UPPER",114:"PROPER",115:"LEFT",116:"RIGHT",117:"EXACT",118:"TRIM",119:"REPLACE",120:"SUBSTITUTE",121:"CODE",122:"NAMES",123:"DIRECTORY",124:"FIND",125:"CELL",126:"ISERR",127:"ISTEXT",128:"ISNUMBER",129:"ISBLANK",130:"T",131:"N",132:"FOPEN",133:"FCLOSE",134:"FSIZE",135:"FREADLN",136:"FREAD",137:"FWRITELN",138:"FWRITE",139:"FPOS",140:"DATEVALUE",141:"TIMEVALUE",142:"SLN",143:"SYD",144:"DDB",145:"GET.DEF",146:"REFTEXT",147:"TEXTREF",148:"INDIRECT",149:"REGISTER",150:"CALL",151:"ADD.BAR",152:"ADD.MENU",153:"ADD.COMMAND",154:"ENABLE.COMMAND",155:"CHECK.COMMAND",156:"RENAME.COMMAND",157:"SHOW.BAR",158:"DELETE.MENU",159:"DELETE.COMMAND",160:"GET.CHART.ITEM",161:"DIALOG.BOX",162:"CLEAN",163:"MDETERM",164:"MINVERSE",165:"MMULT",166:"FILES",167:"IPMT",168:"PPMT",169:"COUNTA",170:"CANCEL.KEY",171:"FOR",172:"WHILE",173:"BREAK",174:"NEXT",175:"INITIATE",176:"REQUEST",177:"POKE",178:"EXECUTE",179:"TERMINATE",180:"RESTART",181:"HELP",182:"GET.BAR",183:"PRODUCT",184:"FACT",185:"GET.CELL",186:"GET.WORKSPACE",187:"GET.WINDOW",188:"GET.DOCUMENT",189:"DPRODUCT",190:"ISNONTEXT",191:"GET.NOTE",192:"NOTE",193:"STDEVP",194:"VARP",195:"DSTDEVP",196:"DVARP",197:"TRUNC",198:"ISLOGICAL",199:"DCOUNTA",200:"DELETE.BAR",201:"UNREGISTER",204:"USDOLLAR",205:"FINDB",206:"SEARCHB",207:"REPLACEB",208:"LEFTB",209:"RIGHTB",210:"MIDB",211:"LENB",212:"ROUNDUP",213:"ROUNDDOWN",214:"ASC",215:"DBCS",216:"RANK",219:"ADDRESS",220:"DAYS360",221:"TODAY",222:"VDB",223:"ELSE",224:"ELSE.IF",225:"END.IF",226:"FOR.CELL",227:"MEDIAN",228:"SUMPRODUCT",229:"SINH",230:"COSH",231:"TANH",232:"ASINH",233:"ACOSH",234:"ATANH",235:"DGET",236:"CREATE.OBJECT",237:"VOLATILE",238:"LAST.ERROR",239:"CUSTOM.UNDO",240:"CUSTOM.REPEAT",241:"FORMULA.CONVERT",242:"GET.LINK.INFO",243:"TEXT.BOX",244:"INFO",245:"GROUP",246:"GET.OBJECT",247:"DB",248:"PAUSE",251:"RESUME",252:"FREQUENCY",253:"ADD.TOOLBAR",254:"DELETE.TOOLBAR",255:"User",256:"RESET.TOOLBAR",257:"EVALUATE",258:"GET.TOOLBAR",259:"GET.TOOL",260:"SPELLING.CHECK",261:"ERROR.TYPE",262:"APP.TITLE",263:"WINDOW.TITLE",264:"SAVE.TOOLBAR",265:"ENABLE.TOOL",266:"PRESS.TOOL",267:"REGISTER.ID",268:"GET.WORKBOOK",269:"AVEDEV",270:"BETADIST",271:"GAMMALN",272:"BETAINV",273:"BINOMDIST",274:"CHIDIST",275:"CHIINV",276:"COMBIN",277:"CONFIDENCE",278:"CRITBINOM",279:"EVEN",280:"EXPONDIST",281:"FDIST",282:"FINV",283:"FISHER",284:"FISHERINV",285:"FLOOR",286:"GAMMADIST",287:"GAMMAINV",288:"CEILING",289:"HYPGEOMDIST",290:"LOGNORMDIST",291:"LOGINV",292:"NEGBINOMDIST",293:"NORMDIST",294:"NORMSDIST",295:"NORMINV",296:"NORMSINV",297:"STANDARDIZE",298:"ODD",299:"PERMUT",300:"POISSON",301:"TDIST",302:"WEIBULL",303:"SUMXMY2",304:"SUMX2MY2",305:"SUMX2PY2",306:"CHITEST",307:"CORREL",308:"COVAR",309:"FORECAST",310:"FTEST",311:"INTERCEPT",312:"PEARSON",313:"RSQ",314:"STEYX",315:"SLOPE",316:"TTEST",317:"PROB",318:"DEVSQ",319:"GEOMEAN",320:"HARMEAN",321:"SUMSQ",322:"KURT",323:"SKEW",324:"ZTEST",325:"LARGE",326:"SMALL",327:"QUARTILE",328:"PERCENTILE",329:"PERCENTRANK",330:"MODE",331:"TRIMMEAN",332:"TINV",334:"MOVIE.COMMAND",335:"GET.MOVIE",336:"CONCATENATE",337:"POWER",338:"PIVOT.ADD.DATA",339:"GET.PIVOT.TABLE",340:"GET.PIVOT.FIELD",341:"GET.PIVOT.ITEM",342:"RADIANS",343:"DEGREES",344:"SUBTOTAL",345:"SUMIF",346:"COUNTIF",347:"COUNTBLANK",348:"SCENARIO.GET",349:"OPTIONS.LISTS.GET",350:"ISPMT",351:"DATEDIF",352:"DATESTRING",353:"NUMBERSTRING",354:"ROMAN",355:"OPEN.DIALOG",356:"SAVE.DIALOG",357:"VIEW.GET",358:"GETPIVOTDATA",359:"HYPERLINK",360:"PHONETIC",361:"AVERAGEA",362:"MAXA",363:"MINA",364:"STDEVPA",365:"VARPA",366:"STDEVA",367:"VARA",368:"BAHTTEXT",369:"THAIDAYOFWEEK",370:"THAIDIGIT",371:"THAIMONTHOFYEAR",372:"THAINUMSOUND",373:"THAINUMSTRING",374:"THAISTRINGLENGTH",375:"ISTHAIDIGIT",376:"ROUNDBAHTDOWN",377:"ROUNDBAHTUP",378:"THAIYEAR",379:"RTD",380:"CUBEVALUE",381:"CUBEMEMBER",382:"CUBEMEMBERPROPERTY",383:"CUBERANKEDMEMBER",384:"HEX2BIN",385:"HEX2DEC",386:"HEX2OCT",387:"DEC2BIN",388:"DEC2HEX",389:"DEC2OCT",390:"OCT2BIN",391:"OCT2HEX",392:"OCT2DEC",393:"BIN2DEC",394:"BIN2OCT",395:"BIN2HEX",396:"IMSUB",397:"IMDIV",398:"IMPOWER",399:"IMABS",400:"IMSQRT",401:"IMLN",402:"IMLOG2",403:"IMLOG10",404:"IMSIN",405:"IMCOS",406:"IMEXP",407:"IMARGUMENT",408:"IMCONJUGATE",409:"IMAGINARY",410:"IMREAL",411:"COMPLEX",412:"IMSUM",413:"IMPRODUCT",414:"SERIESSUM",415:"FACTDOUBLE",416:"SQRTPI",417:"QUOTIENT",418:"DELTA",419:"GESTEP",420:"ISEVEN",421:"ISODD",422:"MROUND",423:"ERF",424:"ERFC",425:"BESSELJ",426:"BESSELK",427:"BESSELY",428:"BESSELI",429:"XIRR",430:"XNPV",431:"PRICEMAT",432:"YIELDMAT",433:"INTRATE",434:"RECEIVED",435:"DISC",436:"PRICEDISC",437:"YIELDDISC",438:"TBILLEQ",439:"TBILLPRICE",440:"TBILLYIELD",441:"PRICE",442:"YIELD",443:"DOLLARDE",444:"DOLLARFR",445:"NOMINAL",446:"EFFECT",447:"CUMPRINC",448:"CUMIPMT",449:"EDATE",450:"EOMONTH",451:"YEARFRAC",452:"COUPDAYBS",453:"COUPDAYS",454:"COUPDAYSNC",455:"COUPNCD",456:"COUPNUM",457:"COUPPCD",458:"DURATION",459:"MDURATION",460:"ODDLPRICE",461:"ODDLYIELD",462:"ODDFPRICE",463:"ODDFYIELD",464:"RANDBETWEEN",465:"WEEKNUM",466:"AMORDEGRC",467:"AMORLINC",468:"CONVERT",724:"SHEETJS",469:"ACCRINT",470:"ACCRINTM",471:"WORKDAY",472:"NETWORKDAYS",473:"GCD",474:"MULTINOMIAL",475:"LCM",476:"FVSCHEDULE",477:"CUBEKPIMEMBER",478:"CUBESET",479:"CUBESETCOUNT",480:"IFERROR",481:"COUNTIFS",482:"SUMIFS",483:"AVERAGEIF",484:"AVERAGEIFS"},Lbe={2:1,3:1,10:0,15:1,16:1,17:1,18:1,19:0,20:1,21:1,22:1,23:1,24:1,25:1,26:1,27:2,30:2,31:3,32:1,33:1,34:0,35:0,38:1,39:2,40:3,41:3,42:3,43:3,44:3,45:3,47:3,48:2,53:1,61:3,63:0,65:3,66:3,67:1,68:1,69:1,70:1,71:1,72:1,73:1,74:0,75:1,76:1,77:1,79:2,80:2,83:1,85:0,86:1,89:0,90:1,94:0,95:0,97:2,98:1,99:1,101:3,102:3,105:1,106:1,108:2,111:1,112:1,113:1,114:1,117:2,118:1,119:4,121:1,126:1,127:1,128:1,129:1,130:1,131:1,133:1,134:1,135:1,136:2,137:2,138:2,140:1,141:1,142:3,143:4,144:4,161:1,162:1,163:1,164:1,165:2,172:1,175:2,176:2,177:3,178:2,179:1,184:1,186:1,189:3,190:1,195:3,196:3,197:1,198:1,199:3,201:1,207:4,210:3,211:1,212:2,213:2,214:1,215:1,225:0,229:1,230:1,231:1,232:1,233:1,234:1,235:3,244:1,247:4,252:2,257:1,261:1,271:1,273:4,274:2,275:2,276:2,277:3,278:3,279:1,280:3,281:3,282:3,283:1,284:1,285:2,286:4,287:3,288:2,289:4,290:3,291:3,292:3,293:4,294:1,295:3,296:1,297:3,298:1,299:2,300:3,301:3,302:4,303:2,304:2,305:2,306:2,307:2,308:2,309:3,310:2,311:2,312:2,313:2,314:2,315:2,316:4,325:2,326:2,327:2,328:2,331:2,332:2,337:2,342:1,343:1,346:2,347:1,350:4,351:3,352:1,353:2,360:1,368:1,369:1,370:1,371:1,372:1,373:1,374:1,375:1,376:1,377:1,378:1,382:3,385:1,392:1,393:1,396:2,397:2,398:2,399:1,400:1,401:1,402:1,403:1,404:1,405:1,406:1,407:1,408:1,409:1,410:1,414:4,415:1,416:1,417:2,420:1,421:1,422:2,424:1,425:2,426:2,427:2,428:2,430:3,438:3,439:3,440:3,443:2,444:2,445:2,446:2,447:6,448:6,449:2,450:2,464:2,468:3,476:2,479:1,480:2,65535:0};function Bbe(e){var t="of:="+e.replace(Vk,"$1[.$2$3$4$5]").replace(/\]:\[/g,":");return t.replace(/;/g,"|").replace(/,/g,";")}function $be(e){return e.replace(/\./,"!")}var nh=typeof Map<"u";function Gk(e,t,r){var n=0,s=e.length;if(r){if(nh?r.has(t):Object.prototype.hasOwnProperty.call(r,t)){for(var i=nh?r.get(t):r[t];n<i.length;++n)if(e[i[n]].t===t)return e.Count++,i[n]}}else for(;n<s;++n)if(e[n].t===t)return e.Count++,n;return e[s]={t},e.Count++,e.Unique++,r&&(nh?(r.has(t)||r.set(t,[]),r.get(t).push(s)):(Object.prototype.hasOwnProperty.call(r,t)||(r[t]=[]),r[t].push(s))),s}function $y(e,t){var r={min:e+1,max:e+1},n=-1;return t.MDW&&(yl=t.MDW),t.width!=null?r.customWidth=1:t.wpx!=null?n=Ax(t.wpx):t.wch!=null&&(n=t.wch),n>-1?(r.width=vN(n),r.customWidth=1):t.width!=null&&(r.width=t.width),t.hidden&&(r.hidden=!0),t.level!=null&&(r.outlineLevel=r.level=t.level),r}function QB(e,t){if(e){var r=[.7,.7,.75,.75,.3,.3];e.left==null&&(e.left=r[0]),e.right==null&&(e.right=r[1]),e.top==null&&(e.top=r[2]),e.bottom==null&&(e.bottom=r[3]),e.header==null&&(e.header=r[4]),e.footer==null&&(e.footer=r[5])}}function Jo(e,t,r){var n=r.revssf[t.z!=null?t.z:"General"],s=60,i=e.length;if(n==null&&r.ssf){for(;s<392;++s)if(r.ssf[s]==null){W9(t.z,s),r.ssf[s]=t.z,r.revssf[t.z]=n=s;break}}for(s=0;s!=i;++s)if(e[s].numFmtId===n)return s;return e[i]={numFmtId:n,fontId:0,fillId:0,borderId:0,xfId:0,applyNumberFormat:1},i}function Ube(e,t,r){if(e&&e["!ref"]){var n=Er(e["!ref"]);if(n.e.c<n.s.c||n.e.r<n.s.r)throw new Error("Bad range ("+r+"): "+e["!ref"])}}function zbe(e){if(e.length===0)return"";for(var t='<mergeCells count="'+e.length+'">',r=0;r!=e.length;++r)t+='<mergeCell ref="'+cn(e[r])+'"/>';return t+"</mergeCells>"}function Hbe(e,t,r,n,s){var i=!1,l={},c=null;if(n.bookType!=="xlsx"&&t.vbaraw){var d=t.SheetNames[r];try{t.Workbook&&(d=t.Workbook.Sheets[r].CodeName||d)}catch{}i=!0,l.codeName=Lh(ar(d))}if(e&&e["!outline"]){var f={summaryBelow:1,summaryRight:1};e["!outline"].above&&(f.summaryBelow=0),e["!outline"].left&&(f.summaryRight=0),c=(c||"")+Ve("outlinePr",null,f)}!i&&!c||(s[s.length]=Ve("sheetPr",c,l))}var Vbe=["objects","scenarios","selectLockedCells","selectUnlockedCells"],qbe=["formatColumns","formatRows","formatCells","insertColumns","insertRows","insertHyperlinks","deleteColumns","deleteRows","sort","autoFilter","pivotTables"];function Wbe(e){var t={sheet:1};return Vbe.forEach(function(r){e[r]!=null&&e[r]&&(t[r]="1")}),qbe.forEach(function(r){e[r]!=null&&!e[r]&&(t[r]="0")}),e.password&&(t.password=MB(e.password).toString(16).toUpperCase()),Ve("sheetProtection",null,t)}function Gbe(e){return QB(e),Ve("pageMargins",null,e)}function Kbe(e,t){for(var r=["<cols>"],n,s=0;s!=t.length;++s)(n=t[s])&&(r[r.length]=Ve("col",null,$y(s,n)));return r[r.length]="</cols>",r.join("")}function Ybe(e,t,r,n){var s=typeof e.ref=="string"?e.ref:cn(e.ref);r.Workbook||(r.Workbook={Sheets:[]}),r.Workbook.Names||(r.Workbook.Names=[]);var i=r.Workbook.Names,l=ps(s);l.s.r==l.e.r&&(l.e.r=ps(t["!ref"]).e.r,s=cn(l));for(var c=0;c<i.length;++c){var d=i[c];if(d.Name=="_xlnm._FilterDatabase"&&d.Sheet==n){d.Ref="'"+r.SheetNames[n]+"'!"+s;break}}return c==i.length&&i.push({Name:"_xlnm._FilterDatabase",Sheet:n,Ref:"'"+r.SheetNames[n]+"'!"+s}),Ve("autoFilter",null,{ref:s})}function Xbe(e,t,r,n){var s={workbookViewId:"0"};return(((n||{}).Workbook||{}).Views||[])[0]&&(s.rightToLeft=n.Workbook.Views[0].RTL?"1":"0"),Ve("sheetViews",Ve("sheetView",null,s),{})}function Qbe(e,t,r,n){if(e.c&&r["!comments"].push([t,e.c]),e.v===void 0&&typeof e.f!="string"||e.t==="z"&&!e.f)return"";var s="",i=e.t,l=e.v;if(e.t!=="z")switch(e.t){case"b":s=e.v?"1":"0";break;case"n":s=""+e.v;break;case"e":s=wm[e.v];break;case"d":n&&n.cellDates?s=ya(e.v,-1).toISOString():(e=$a(e),e.t="n",s=""+(e.v=Ba(ya(e.v)))),typeof e.z>"u"&&(e.z=Wr[14]);break;default:s=e.v;break}var c=Vn("v",ar(s)),d={r:t},f=Jo(n.cellXfs,e,n);switch(f!==0&&(d.s=f),e.t){case"n":break;case"d":d.t="d";break;case"b":d.t="b";break;case"e":d.t="e";break;case"z":break;default:if(e.v==null){delete e.t;break}if(e.v.length>32767)throw new Error("Text length must not exceed 32767 characters");if(n&&n.bookSST){c=Vn("v",""+Gk(n.Strings,e.v,n.revStrings)),d.t="s";break}d.t="str";break}if(e.t!=i&&(e.t=i,e.v=l),typeof e.f=="string"&&e.f){var h=e.F&&e.F.slice(0,t.length)==t?{t:"array",ref:e.F}:null;c=Ve("f",ar(e.f),h)+(e.v!=null?c:"")}return e.l&&r["!links"].push([t,e.l]),e.D&&(d.cm=1),Ve("c",c,d)}function Zbe(e,t,r,n){var s=[],i=[],l=Er(e["!ref"]),c="",d,f="",h=[],g=0,p=0,y=e["!rows"],b=Array.isArray(e),w={r:f},j,S=-1;for(p=l.s.c;p<=l.e.c;++p)h[p]=aa(p);for(g=l.s.r;g<=l.e.r;++g){for(i=[],f=Wn(g),p=l.s.c;p<=l.e.c;++p){d=h[p]+f;var k=b?(e[g]||[])[p]:e[d];k!==void 0&&(c=Qbe(k,d,e,t))!=null&&i.push(c)}(i.length>0||y&&y[g])&&(w={r:f},y&&y[g]&&(j=y[g],j.hidden&&(w.hidden=1),S=-1,j.hpx?S=Cx(j.hpx):j.hpt&&(S=j.hpt),S>-1&&(w.ht=S,w.customHeight=1),j.level&&(w.outlineLevel=j.level)),s[s.length]=Ve("row",i.join(""),w))}if(y)for(;g<y.length;++g)y&&y[g]&&(w={r:g+1},j=y[g],j.hidden&&(w.hidden=1),S=-1,j.hpx?S=Cx(j.hpx):j.hpt&&(S=j.hpt),S>-1&&(w.ht=S,w.customHeight=1),j.level&&(w.outlineLevel=j.level),s[s.length]=Ve("row","",w));return s.join("")}function ZB(e,t,r,n){var s=[un,Ve("worksheet",null,{xmlns:cf[0],"xmlns:r":Nn.r})],i=r.SheetNames[e],l=0,c="",d=r.Sheets[i];d==null&&(d={});var f=d["!ref"]||"A1",h=Er(f);if(h.e.c>16383||h.e.r>1048575){if(t.WTF)throw new Error("Range "+f+" exceeds format limit A1:XFD1048576");h.e.c=Math.min(h.e.c,16383),h.e.r=Math.min(h.e.c,1048575),f=cn(h)}n||(n={}),d["!comments"]=[];var g=[];Hbe(d,r,e,t,s),s[s.length]=Ve("dimension",null,{ref:f}),s[s.length]=Xbe(d,t,e,r),t.sheetFormat&&(s[s.length]=Ve("sheetFormatPr",null,{defaultRowHeight:t.sheetFormat.defaultRowHeight||"16",baseColWidth:t.sheetFormat.baseColWidth||"10",outlineLevelRow:t.sheetFormat.outlineLevelRow||"7"})),d["!cols"]!=null&&d["!cols"].length>0&&(s[s.length]=Kbe(d,d["!cols"])),s[l=s.length]="<sheetData/>",d["!links"]=[],d["!ref"]!=null&&(c=Zbe(d,t),c.length>0&&(s[s.length]=c)),s.length>l+1&&(s[s.length]="</sheetData>",s[l]=s[l].replace("/>",">")),d["!protect"]&&(s[s.length]=Wbe(d["!protect"])),d["!autofilter"]!=null&&(s[s.length]=Ybe(d["!autofilter"],d,r,e)),d["!merges"]!=null&&d["!merges"].length>0&&(s[s.length]=zbe(d["!merges"]));var p=-1,y,b=-1;return d["!links"].length>0&&(s[s.length]="<hyperlinks>",d["!links"].forEach(function(w){w[1].Target&&(y={ref:w[0]},w[1].Target.charAt(0)!="#"&&(b=rr(n,-1,ar(w[1].Target).replace(/#.*$/,""),Bt.HLINK),y["r:id"]="rId"+b),(p=w[1].Target.indexOf("#"))>-1&&(y.location=ar(w[1].Target.slice(p+1))),w[1].Tooltip&&(y.tooltip=ar(w[1].Tooltip)),s[s.length]=Ve("hyperlink",null,y))}),s[s.length]="</hyperlinks>"),delete d["!links"],d["!margins"]!=null&&(s[s.length]=Gbe(d["!margins"])),(!t||t.ignoreEC||t.ignoreEC==null)&&(s[s.length]=Vn("ignoredErrors",Ve("ignoredError",null,{numberStoredAsText:1,sqref:f}))),g.length>0&&(b=rr(n,-1,"../drawings/drawing"+(e+1)+".xml",Bt.DRAW),s[s.length]=Ve("drawing",null,{"r:id":"rId"+b}),d["!drawing"]=g),d["!comments"].length>0&&(b=rr(n,-1,"../drawings/vmlDrawing"+(e+1)+".vml",Bt.VML),s[s.length]=Ve("legacyDrawing",null,{"r:id":"rId"+b}),d["!legacy"]=b),s.length>1&&(s[s.length]="</worksheet>",s[1]=s[1].replace("/>",">")),s.join("")}function Jbe(e,t){var r={},n=e.l+t;r.r=e.read_shift(4),e.l+=4;var s=e.read_shift(2);e.l+=1;var i=e.read_shift(1);return e.l=n,i&7&&(r.level=i&7),i&16&&(r.hidden=!0),i&32&&(r.hpt=s/20),r}function e1e(e,t,r){var n=Ae(145),s=(r["!rows"]||[])[e]||{};n.write_shift(4,e),n.write_shift(4,0);var i=320;s.hpx?i=Cx(s.hpx)*20:s.hpt&&(i=s.hpt*20),n.write_shift(2,i),n.write_shift(1,0);var l=0;s.level&&(l|=s.level),s.hidden&&(l|=16),(s.hpx||s.hpt)&&(l|=32),n.write_shift(1,l),n.write_shift(1,0);var c=0,d=n.l;n.l+=4;for(var f={r:e,c:0},h=0;h<16;++h)if(!(t.s.c>h+1<<10||t.e.c<h<<10)){for(var g=-1,p=-1,y=h<<10;y<h+1<<10;++y){f.c=y;var b=Array.isArray(r)?(r[f.r]||[])[f.c]:r[sr(f)];b&&(g<0&&(g=y),p=y)}g<0||(++c,n.write_shift(4,g),n.write_shift(4,p))}var w=n.l;return n.l=d,n.write_shift(4,c),n.l=w,n.length>n.l?n.slice(0,n.l):n}function t1e(e,t,r,n){var s=e1e(n,r,t);(s.length>17||(t["!rows"]||[])[n])&&Ie(e,0,s)}var r1e=wu,n1e=df;function a1e(){}function s1e(e,t){var r={},n=e[e.l];return++e.l,r.above=!(n&64),r.left=!(n&128),e.l+=18,r.name=gxe(e),r}function i1e(e,t,r){r==null&&(r=Ae(84+4*e.length));var n=192;t&&(t.above&&(n&=-65),t.left&&(n&=-129)),r.write_shift(1,n);for(var s=1;s<3;++s)r.write_shift(1,0);return kx({auto:1},r),r.write_shift(-4,-1),r.write_shift(-4,-1),hB(e,r),r.slice(0,r.l)}function l1e(e){var t=Ys(e);return[t]}function o1e(e,t,r){return r==null&&(r=Ae(8)),yu(t,r)}function c1e(e){var t=vu(e);return[t]}function u1e(e,t,r){return r==null&&(r=Ae(4)),bu(t,r)}function d1e(e){var t=Ys(e),r=e.read_shift(1);return[t,r,"b"]}function f1e(e,t,r){return r==null&&(r=Ae(9)),yu(t,r),r.write_shift(1,e.v?1:0),r}function h1e(e){var t=vu(e),r=e.read_shift(1);return[t,r,"b"]}function m1e(e,t,r){return r==null&&(r=Ae(5)),bu(t,r),r.write_shift(1,e.v?1:0),r}function g1e(e){var t=Ys(e),r=e.read_shift(1);return[t,r,"e"]}function p1e(e,t,r){return r==null&&(r=Ae(9)),yu(t,r),r.write_shift(1,e.v),r}function x1e(e){var t=vu(e),r=e.read_shift(1);return[t,r,"e"]}function y1e(e,t,r){return r==null&&(r=Ae(8)),bu(t,r),r.write_shift(1,e.v),r.write_shift(2,0),r.write_shift(1,0),r}function v1e(e){var t=Ys(e),r=e.read_shift(4);return[t,r,"s"]}function b1e(e,t,r){return r==null&&(r=Ae(12)),yu(t,r),r.write_shift(4,t.v),r}function w1e(e){var t=vu(e),r=e.read_shift(4);return[t,r,"s"]}function j1e(e,t,r){return r==null&&(r=Ae(8)),bu(t,r),r.write_shift(4,t.v),r}function N1e(e){var t=Ys(e),r=ff(e);return[t,r,"n"]}function S1e(e,t,r){return r==null&&(r=Ae(16)),yu(t,r),lu(e.v,r),r}function _1e(e){var t=vu(e),r=ff(e);return[t,r,"n"]}function k1e(e,t,r){return r==null&&(r=Ae(12)),bu(t,r),lu(e.v,r),r}function E1e(e){var t=Ys(e),r=mB(e);return[t,r,"n"]}function T1e(e,t,r){return r==null&&(r=Ae(12)),yu(t,r),gB(e.v,r),r}function A1e(e){var t=vu(e),r=mB(e);return[t,r,"n"]}function C1e(e,t,r){return r==null&&(r=Ae(8)),bu(t,r),gB(e.v,r),r}function O1e(e){var t=Ys(e),r=Bk(e);return[t,r,"is"]}function D1e(e){var t=Ys(e),r=sa(e);return[t,r,"str"]}function P1e(e,t,r){return r==null&&(r=Ae(12+4*e.v.length)),yu(t,r),kn(e.v,r),r.length>r.l?r.slice(0,r.l):r}function M1e(e){var t=vu(e),r=sa(e);return[t,r,"str"]}function R1e(e,t,r){return r==null&&(r=Ae(8+4*e.v.length)),bu(t,r),kn(e.v,r),r.length>r.l?r.slice(0,r.l):r}function I1e(e,t,r){var n=e.l+t,s=Ys(e);s.r=r["!row"];var i=e.read_shift(1),l=[s,i,"b"];if(r.cellFormula){e.l+=2;var c=By(e,n-e.l,r);l[3]=Bd(c,null,s,r.supbooks,r)}else e.l=n;return l}function F1e(e,t,r){var n=e.l+t,s=Ys(e);s.r=r["!row"];var i=e.read_shift(1),l=[s,i,"e"];if(r.cellFormula){e.l+=2;var c=By(e,n-e.l,r);l[3]=Bd(c,null,s,r.supbooks,r)}else e.l=n;return l}function L1e(e,t,r){var n=e.l+t,s=Ys(e);s.r=r["!row"];var i=ff(e),l=[s,i,"n"];if(r.cellFormula){e.l+=2;var c=By(e,n-e.l,r);l[3]=Bd(c,null,s,r.supbooks,r)}else e.l=n;return l}function B1e(e,t,r){var n=e.l+t,s=Ys(e);s.r=r["!row"];var i=sa(e),l=[s,i,"str"];if(r.cellFormula){e.l+=2;var c=By(e,n-e.l,r);l[3]=Bd(c,null,s,r.supbooks,r)}else e.l=n;return l}var $1e=wu,U1e=df;function z1e(e,t){return t==null&&(t=Ae(4)),t.write_shift(4,e),t}function H1e(e,t){var r=e.l+t,n=wu(e),s=$k(e),i=sa(e),l=sa(e),c=sa(e);e.l=r;var d={rfx:n,relId:s,loc:i,display:c};return l&&(d.Tooltip=l),d}function V1e(e,t){var r=Ae(50+4*(e[1].Target.length+(e[1].Tooltip||"").length));df({s:_n(e[0]),e:_n(e[0])},r),Uk("rId"+t,r);var n=e[1].Target.indexOf("#"),s=n==-1?"":e[1].Target.slice(n+1);return kn(s||"",r),kn(e[1].Tooltip||"",r),kn("",r),r.slice(0,r.l)}function q1e(){}function W1e(e,t,r){var n=e.l+t,s=pB(e),i=e.read_shift(1),l=[s];if(l[2]=i,r.cellFormula){var c=Mbe(e,n-e.l,r);l[1]=c}else e.l=n;return l}function G1e(e,t,r){var n=e.l+t,s=wu(e),i=[s];if(r.cellFormula){var l=Ibe(e,n-e.l,r);i[1]=l,e.l=n}else e.l=n;return i}function K1e(e,t,r){r==null&&(r=Ae(18));var n=$y(e,t);r.write_shift(-4,e),r.write_shift(-4,e),r.write_shift(4,(n.width||10)*256),r.write_shift(4,0);var s=0;return t.hidden&&(s|=1),typeof n.width=="number"&&(s|=2),t.level&&(s|=t.level<<8),r.write_shift(2,s),r}var JB=["left","right","top","bottom","header","footer"];function Y1e(e){var t={};return JB.forEach(function(r){t[r]=ff(e)}),t}function X1e(e,t){return t==null&&(t=Ae(48)),QB(e),JB.forEach(function(r){lu(e[r],t)}),t}function Q1e(e){var t=e.read_shift(2);return e.l+=28,{RTL:t&32}}function Z1e(e,t,r){r==null&&(r=Ae(30));var n=924;return(((t||{}).Views||[])[0]||{}).RTL&&(n|=32),r.write_shift(2,n),r.write_shift(4,0),r.write_shift(4,0),r.write_shift(4,0),r.write_shift(1,0),r.write_shift(1,0),r.write_shift(2,0),r.write_shift(2,100),r.write_shift(2,0),r.write_shift(2,0),r.write_shift(2,0),r.write_shift(4,0),r}function J1e(e){var t=Ae(24);return t.write_shift(4,4),t.write_shift(4,1),df(e,t),t}function ewe(e,t){return t==null&&(t=Ae(66)),t.write_shift(2,e.password?MB(e.password):0),t.write_shift(4,1),[["objects",!1],["scenarios",!1],["formatCells",!0],["formatColumns",!0],["formatRows",!0],["insertColumns",!0],["insertRows",!0],["insertHyperlinks",!0],["deleteColumns",!0],["deleteRows",!0],["selectLockedCells",!1],["sort",!0],["autoFilter",!0],["pivotTables",!0],["selectUnlockedCells",!1]].forEach(function(r){r[1]?t.write_shift(4,e[r[0]]!=null&&!e[r[0]]?1:0):t.write_shift(4,e[r[0]]!=null&&e[r[0]]?0:1)}),t}function twe(){}function rwe(){}function nwe(e,t,r,n,s,i,l){if(t.v===void 0)return!1;var c="";switch(t.t){case"b":c=t.v?"1":"0";break;case"d":t=$a(t),t.z=t.z||Wr[14],t.v=Ba(ya(t.v)),t.t="n";break;case"n":case"e":c=""+t.v;break;default:c=t.v;break}var d={r,c:n};switch(d.s=Jo(s.cellXfs,t,s),t.l&&i["!links"].push([sr(d),t.l]),t.c&&i["!comments"].push([sr(d),t.c]),t.t){case"s":case"str":return s.bookSST?(c=Gk(s.Strings,t.v,s.revStrings),d.t="s",d.v=c,l?Ie(e,18,j1e(t,d)):Ie(e,7,b1e(t,d))):(d.t="str",l?Ie(e,17,R1e(t,d)):Ie(e,6,P1e(t,d))),!0;case"n":return t.v==(t.v|0)&&t.v>-1e3&&t.v<1e3?l?Ie(e,13,C1e(t,d)):Ie(e,2,T1e(t,d)):l?Ie(e,16,k1e(t,d)):Ie(e,5,S1e(t,d)),!0;case"b":return d.t="b",l?Ie(e,15,m1e(t,d)):Ie(e,4,f1e(t,d)),!0;case"e":return d.t="e",l?Ie(e,14,y1e(t,d)):Ie(e,3,p1e(t,d)),!0}return l?Ie(e,12,u1e(t,d)):Ie(e,1,o1e(t,d)),!0}function awe(e,t,r,n){var s=Er(t["!ref"]||"A1"),i,l="",c=[];Ie(e,145);var d=Array.isArray(t),f=s.e.r;t["!rows"]&&(f=Math.max(s.e.r,t["!rows"].length-1));for(var h=s.s.r;h<=f;++h){l=Wn(h),t1e(e,t,s,h);var g=!1;if(h<=s.e.r)for(var p=s.s.c;p<=s.e.c;++p){h===s.s.r&&(c[p]=aa(p)),i=c[p]+l;var y=d?(t[h]||[])[p]:t[i];if(!y){g=!1;continue}g=nwe(e,y,h,p,n,t,g)}}Ie(e,146)}function swe(e,t){!t||!t["!merges"]||(Ie(e,177,z1e(t["!merges"].length)),t["!merges"].forEach(function(r){Ie(e,176,U1e(r))}),Ie(e,178))}function iwe(e,t){!t||!t["!cols"]||(Ie(e,390),t["!cols"].forEach(function(r,n){r&&Ie(e,60,K1e(n,r))}),Ie(e,391))}function lwe(e,t){!t||!t["!ref"]||(Ie(e,648),Ie(e,649,J1e(Er(t["!ref"]))),Ie(e,650))}function owe(e,t,r){t["!links"].forEach(function(n){if(n[1].Target){var s=rr(r,-1,n[1].Target.replace(/#.*$/,""),Bt.HLINK);Ie(e,494,V1e(n,s))}}),delete t["!links"]}function cwe(e,t,r,n){if(t["!comments"].length>0){var s=rr(n,-1,"../drawings/vmlDrawing"+(r+1)+".vml",Bt.VML);Ie(e,551,Uk("rId"+s)),t["!legacy"]=s}}function uwe(e,t,r,n){if(t["!autofilter"]){var s=t["!autofilter"],i=typeof s.ref=="string"?s.ref:cn(s.ref);r.Workbook||(r.Workbook={Sheets:[]}),r.Workbook.Names||(r.Workbook.Names=[]);var l=r.Workbook.Names,c=ps(i);c.s.r==c.e.r&&(c.e.r=ps(t["!ref"]).e.r,i=cn(c));for(var d=0;d<l.length;++d){var f=l[d];if(f.Name=="_xlnm._FilterDatabase"&&f.Sheet==n){f.Ref="'"+r.SheetNames[n]+"'!"+i;break}}d==l.length&&l.push({Name:"_xlnm._FilterDatabase",Sheet:n,Ref:"'"+r.SheetNames[n]+"'!"+i}),Ie(e,161,df(Er(i))),Ie(e,162)}}function dwe(e,t,r){Ie(e,133),Ie(e,137,Z1e(t,r)),Ie(e,138),Ie(e,134)}function fwe(e,t){t["!protect"]&&Ie(e,535,ewe(t["!protect"]))}function hwe(e,t,r,n){var s=Ia(),i=r.SheetNames[e],l=r.Sheets[i]||{},c=i;try{r&&r.Workbook&&(c=r.Workbook.Sheets[e].CodeName||c)}catch{}var d=Er(l["!ref"]||"A1");if(d.e.c>16383||d.e.r>1048575){if(t.WTF)throw new Error("Range "+(l["!ref"]||"A1")+" exceeds format limit A1:XFD1048576");d.e.c=Math.min(d.e.c,16383),d.e.r=Math.min(d.e.c,1048575)}return l["!links"]=[],l["!comments"]=[],Ie(s,129),(r.vbaraw||l["!outline"])&&Ie(s,147,i1e(c,l["!outline"])),Ie(s,148,n1e(d)),dwe(s,l,r.Workbook),iwe(s,l),awe(s,l,e,t),fwe(s,l),uwe(s,l,r,e),swe(s,l),owe(s,l,n),l["!margins"]&&Ie(s,476,X1e(l["!margins"])),(!t||t.ignoreEC||t.ignoreEC==null)&&lwe(s,l),cwe(s,l,e,n),Ie(s,130),s.end()}function mwe(e,t){e.l+=10;var r=sa(e);return{name:r}}var gwe=[["allowRefreshQuery",!1,"bool"],["autoCompressPictures",!0,"bool"],["backupFile",!1,"bool"],["checkCompatibility",!1,"bool"],["CodeName",""],["date1904",!1,"bool"],["defaultThemeVersion",0,"int"],["filterPrivacy",!1,"bool"],["hidePivotFieldList",!1,"bool"],["promptedSolutions",!1,"bool"],["publishItems",!1,"bool"],["refreshAllConnections",!1,"bool"],["saveExternalLinkValues",!0,"bool"],["showBorderUnselectedTables",!0,"bool"],["showInkAnnotation",!0,"bool"],["showObjects","all"],["showPivotChartFilter",!1,"bool"],["updateLinks","userSet"]];function pwe(e){return!e.Workbook||!e.Workbook.WBProps?"false":Gpe(e.Workbook.WBProps.date1904)?"true":"false"}var xwe="][*?/\\".split("");function e$(e,t){if(e.length>31)throw new Error("Sheet names cannot exceed 31 chars");var r=!0;return xwe.forEach(function(n){if(e.indexOf(n)!=-1)throw new Error("Sheet name cannot contain : \\ / ? * [ ]")}),r}function ywe(e,t,r){e.forEach(function(n,s){e$(n);for(var i=0;i<s;++i)if(n==e[i])throw new Error("Duplicate Sheet Name: "+n);if(r){var l=t&&t[s]&&t[s].CodeName||n;if(l.charCodeAt(0)==95&&l.length>22)throw new Error("Bad Code Name: Worksheet"+l)}})}function vwe(e){if(!e||!e.SheetNames||!e.Sheets)throw new Error("Invalid Workbook");if(!e.SheetNames.length)throw new Error("Workbook is empty");var t=e.Workbook&&e.Workbook.Sheets||[];ywe(e.SheetNames,t,!!e.vbaraw);for(var r=0;r<e.SheetNames.length;++r)Ube(e.Sheets[e.SheetNames[r]],e.SheetNames[r],r)}function t$(e){var t=[un];t[t.length]=Ve("workbook",null,{xmlns:cf[0],"xmlns:r":Nn.r});var r=e.Workbook&&(e.Workbook.Names||[]).length>0,n={codeName:"ThisWorkbook"};e.Workbook&&e.Workbook.WBProps&&(gwe.forEach(function(c){e.Workbook.WBProps[c[0]]!=null&&e.Workbook.WBProps[c[0]]!=c[1]&&(n[c[0]]=e.Workbook.WBProps[c[0]])}),e.Workbook.WBProps.CodeName&&(n.codeName=e.Workbook.WBProps.CodeName,delete n.CodeName)),t[t.length]=Ve("workbookPr",null,n);var s=e.Workbook&&e.Workbook.Sheets||[],i=0;if(s&&s[0]&&s[0].Hidden){for(t[t.length]="<bookViews>",i=0;i!=e.SheetNames.length&&!(!s[i]||!s[i].Hidden);++i);i==e.SheetNames.length&&(i=0),t[t.length]='<workbookView firstSheet="'+i+'" activeTab="'+i+'"/>',t[t.length]="</bookViews>"}for(t[t.length]="<sheets>",i=0;i!=e.SheetNames.length;++i){var l={name:ar(e.SheetNames[i].slice(0,31))};if(l.sheetId=""+(i+1),l["r:id"]="rId"+(i+1),s[i])switch(s[i].Hidden){case 1:l.state="hidden";break;case 2:l.state="veryHidden";break}t[t.length]=Ve("sheet",null,l)}return t[t.length]="</sheets>",r&&(t[t.length]="<definedNames>",e.Workbook&&e.Workbook.Names&&e.Workbook.Names.forEach(function(c){var d={name:c.Name};c.Comment&&(d.comment=c.Comment),c.Sheet!=null&&(d.localSheetId=""+c.Sheet),c.Hidden&&(d.hidden="1"),c.Ref&&(t[t.length]=Ve("definedName",ar(c.Ref),d))}),t[t.length]="</definedNames>"),t.length>2&&(t[t.length]="</workbook>",t[1]=t[1].replace("/>",">")),t.join("")}function bwe(e,t){var r={};return r.Hidden=e.read_shift(4),r.iTabID=e.read_shift(4),r.strRelID=yN(e),r.name=sa(e),r}function wwe(e,t){return t||(t=Ae(127)),t.write_shift(4,e.Hidden),t.write_shift(4,e.iTabID),Uk(e.strRelID,t),kn(e.name.slice(0,31),t),t.length>t.l?t.slice(0,t.l):t}function jwe(e,t){var r={},n=e.read_shift(4);r.defaultThemeVersion=e.read_shift(4);var s=t>8?sa(e):"";return s.length>0&&(r.CodeName=s),r.autoCompressPictures=!!(n&65536),r.backupFile=!!(n&64),r.checkCompatibility=!!(n&4096),r.date1904=!!(n&1),r.filterPrivacy=!!(n&8),r.hidePivotFieldList=!!(n&1024),r.promptedSolutions=!!(n&16),r.publishItems=!!(n&2048),r.refreshAllConnections=!!(n&262144),r.saveExternalLinkValues=!!(n&128),r.showBorderUnselectedTables=!!(n&4),r.showInkAnnotation=!!(n&32),r.showObjects=["all","placeholders","none"][n>>13&3],r.showPivotChartFilter=!!(n&32768),r.updateLinks=["userSet","never","always"][n>>8&3],r}function Nwe(e,t){t||(t=Ae(72));var r=0;return e&&e.filterPrivacy&&(r|=8),t.write_shift(4,r),t.write_shift(4,0),hB(e&&e.CodeName||"ThisWorkbook",t),t.slice(0,t.l)}function Swe(e,t,r){var n=e.l+t;e.l+=4,e.l+=1;var s=e.read_shift(4),i=pxe(e),l=Rbe(e,0,r),c=$k(e);e.l=n;var d={Name:i,Ptg:l};return s<268435455&&(d.Sheet=s),c&&(d.Comment=c),d}function _we(e,t){Ie(e,143);for(var r=0;r!=t.SheetNames.length;++r){var n=t.Workbook&&t.Workbook.Sheets&&t.Workbook.Sheets[r]&&t.Workbook.Sheets[r].Hidden||0,s={Hidden:n,iTabID:r+1,strRelID:"rId"+(r+1),name:t.SheetNames[r]};Ie(e,156,wwe(s))}Ie(e,144)}function kwe(e,t){t||(t=Ae(127));for(var r=0;r!=4;++r)t.write_shift(4,0);return kn("SheetJS",t),kn(yx.version,t),kn(yx.version,t),kn("7262",t),t.length>t.l?t.slice(0,t.l):t}function Ewe(e,t){t||(t=Ae(29)),t.write_shift(-4,0),t.write_shift(-4,460),t.write_shift(4,28800),t.write_shift(4,17600),t.write_shift(4,500),t.write_shift(4,e),t.write_shift(4,e);var r=120;return t.write_shift(1,r),t.length>t.l?t.slice(0,t.l):t}function Twe(e,t){if(!(!t.Workbook||!t.Workbook.Sheets)){for(var r=t.Workbook.Sheets,n=0,s=-1,i=-1;n<r.length;++n)!r[n]||!r[n].Hidden&&s==-1?s=n:r[n].Hidden==1&&i==-1&&(i=n);i>s||(Ie(e,135),Ie(e,158,Ewe(s)),Ie(e,136))}}function Awe(e,t){var r=Ia();return Ie(r,131),Ie(r,128,kwe()),Ie(r,153,Nwe(e.Workbook&&e.Workbook.WBProps||null)),Twe(r,e),_we(r,e),Ie(r,132),r.end()}function Cwe(e,t,r){return(t.slice(-4)===".bin"?Awe:t$)(e)}function Owe(e,t,r,n,s){return(t.slice(-4)===".bin"?hwe:ZB)(e,r,n,s)}function Dwe(e,t,r){return(t.slice(-4)===".bin"?Xye:FB)(e,r)}function Pwe(e,t,r){return(t.slice(-4)===".bin"?Nye:PB)(e,r)}function Mwe(e,t,r){return(t.slice(-4)===".bin"?fve:zB)(e)}function Rwe(e){return(e.slice(-4)===".bin"?ave:$B)()}function Iwe(e,t){var r=[];return e.Props&&r.push(Dxe(e.Props,t)),e.Custprops&&r.push(Pxe(e.Props,e.Custprops)),r.join("")}function Fwe(){return""}function Lwe(e,t){var r=['<Style ss:ID="Default" ss:Name="Normal"><NumberFormat/></Style>'];return t.cellXfs.forEach(function(n,s){var i=[];i.push(Ve("NumberFormat",null,{"ss:Format":ar(Wr[n.numFmtId])}));var l={"ss:ID":"s"+(21+s)};r.push(Ve("Style",i.join(""),l))}),Ve("Styles",r.join(""))}function r$(e){return Ve("NamedRange",null,{"ss:Name":e.Name,"ss:RefersTo":"="+qk(e.Ref,{r:0,c:0})})}function Bwe(e){if(!((e||{}).Workbook||{}).Names)return"";for(var t=e.Workbook.Names,r=[],n=0;n<t.length;++n){var s=t[n];s.Sheet==null&&(s.Name.match(/^_xlfn\./)||r.push(r$(s)))}return Ve("Names",r.join(""))}function $we(e,t,r,n){if(!e||!((n||{}).Workbook||{}).Names)return"";for(var s=n.Workbook.Names,i=[],l=0;l<s.length;++l){var c=s[l];c.Sheet==r&&(c.Name.match(/^_xlfn\./)||i.push(r$(c)))}return i.join("")}function Uwe(e,t,r,n){if(!e)return"";var s=[];if(e["!margins"]&&(s.push("<PageSetup>"),e["!margins"].header&&s.push(Ve("Header",null,{"x:Margin":e["!margins"].header})),e["!margins"].footer&&s.push(Ve("Footer",null,{"x:Margin":e["!margins"].footer})),s.push(Ve("PageMargins",null,{"x:Bottom":e["!margins"].bottom||"0.75","x:Left":e["!margins"].left||"0.7","x:Right":e["!margins"].right||"0.7","x:Top":e["!margins"].top||"0.75"})),s.push("</PageSetup>")),n&&n.Workbook&&n.Workbook.Sheets&&n.Workbook.Sheets[r])if(n.Workbook.Sheets[r].Hidden)s.push(Ve("Visible",n.Workbook.Sheets[r].Hidden==1?"SheetHidden":"SheetVeryHidden",{}));else{for(var i=0;i<r&&!(n.Workbook.Sheets[i]&&!n.Workbook.Sheets[i].Hidden);++i);i==r&&s.push("<Selected/>")}return((((n||{}).Workbook||{}).Views||[])[0]||{}).RTL&&s.push("<DisplayRightToLeft/>"),e["!protect"]&&(s.push(Vn("ProtectContents","True")),e["!protect"].objects&&s.push(Vn("ProtectObjects","True")),e["!protect"].scenarios&&s.push(Vn("ProtectScenarios","True")),e["!protect"].selectLockedCells!=null&&!e["!protect"].selectLockedCells?s.push(Vn("EnableSelection","NoSelection")):e["!protect"].selectUnlockedCells!=null&&!e["!protect"].selectUnlockedCells&&s.push(Vn("EnableSelection","UnlockedCells")),[["formatCells","AllowFormatCells"],["formatColumns","AllowSizeCols"],["formatRows","AllowSizeRows"],["insertColumns","AllowInsertCols"],["insertRows","AllowInsertRows"],["insertHyperlinks","AllowInsertHyperlinks"],["deleteColumns","AllowDeleteCols"],["deleteRows","AllowDeleteRows"],["sort","AllowSort"],["autoFilter","AllowFilter"],["pivotTables","AllowUsePivotTables"]].forEach(function(l){e["!protect"][l[0]]&&s.push("<"+l[1]+"/>")})),s.length==0?"":Ve("WorksheetOptions",s.join(""),{xmlns:as.x})}function zwe(e){return e.map(function(t){var r=Wpe(t.t||""),n=Ve("ss:Data",r,{xmlns:"http://www.w3.org/TR/REC-html40"});return Ve("Comment",n,{"ss:Author":t.a})}).join("")}function Hwe(e,t,r,n,s,i,l){if(!e||e.v==null&&e.f==null)return"";var c={};if(e.f&&(c["ss:Formula"]="="+ar(qk(e.f,l))),e.F&&e.F.slice(0,t.length)==t){var d=_n(e.F.slice(t.length+1));c["ss:ArrayRange"]="RC:R"+(d.r==l.r?"":"["+(d.r-l.r)+"]")+"C"+(d.c==l.c?"":"["+(d.c-l.c)+"]")}if(e.l&&e.l.Target&&(c["ss:HRef"]=ar(e.l.Target),e.l.Tooltip&&(c["x:HRefScreenTip"]=ar(e.l.Tooltip))),r["!merges"])for(var f=r["!merges"],h=0;h!=f.length;++h)f[h].s.c!=l.c||f[h].s.r!=l.r||(f[h].e.c>f[h].s.c&&(c["ss:MergeAcross"]=f[h].e.c-f[h].s.c),f[h].e.r>f[h].s.r&&(c["ss:MergeDown"]=f[h].e.r-f[h].s.r));var g="",p="";switch(e.t){case"z":if(!n.sheetStubs)return"";break;case"n":g="Number",p=String(e.v);break;case"b":g="Boolean",p=e.v?"1":"0";break;case"e":g="Error",p=wm[e.v];break;case"d":g="DateTime",p=new Date(e.v).toISOString(),e.z==null&&(e.z=e.z||Wr[14]);break;case"s":g="String",p=qpe(e.v||"");break}var y=Jo(n.cellXfs,e,n);c["ss:StyleID"]="s"+(21+y),c["ss:Index"]=l.c+1;var b=e.v!=null?p:"",w=e.t=="z"?"":'<Data ss:Type="'+g+'">'+b+"</Data>";return(e.c||[]).length>0&&(w+=zwe(e.c)),Ve("Cell",w,c)}function Vwe(e,t){var r='<Row ss:Index="'+(e+1)+'"';return t&&(t.hpt&&!t.hpx&&(t.hpx=IB(t.hpt)),t.hpx&&(r+=' ss:AutoFitHeight="0" ss:Height="'+t.hpx+'"'),t.hidden&&(r+=' ss:Hidden="1"')),r+">"}function qwe(e,t,r,n){if(!e["!ref"])return"";var s=Er(e["!ref"]),i=e["!merges"]||[],l=0,c=[];e["!cols"]&&e["!cols"].forEach(function(j,S){Hk(j);var k=!!j.width,E=$y(S,j),C={"ss:Index":S+1};k&&(C["ss:Width"]=Tx(E.width)),j.hidden&&(C["ss:Hidden"]="1"),c.push(Ve("Column",null,C))});for(var d=Array.isArray(e),f=s.s.r;f<=s.e.r;++f){for(var h=[Vwe(f,(e["!rows"]||[])[f])],g=s.s.c;g<=s.e.c;++g){var p=!1;for(l=0;l!=i.length;++l)if(!(i[l].s.c>g)&&!(i[l].s.r>f)&&!(i[l].e.c<g)&&!(i[l].e.r<f)){(i[l].s.c!=g||i[l].s.r!=f)&&(p=!0);break}if(!p){var y={r:f,c:g},b=sr(y),w=d?(e[f]||[])[g]:e[b];h.push(Hwe(w,b,e,t,r,n,y))}}h.push("</Row>"),h.length>2&&c.push(h.join(""))}return c.join("")}function Wwe(e,t,r){var n=[],s=r.SheetNames[e],i=r.Sheets[s],l=i?$we(i,t,e,r):"";return l.length>0&&n.push("<Names>"+l+"</Names>"),l=i?qwe(i,t,e,r):"",l.length>0&&n.push("<Table>"+l+"</Table>"),n.push(Uwe(i,t,e,r)),n.join("")}function Gwe(e,t){t||(t={}),e.SSF||(e.SSF=$a(Wr)),e.SSF&&(Ry(),My(e.SSF),t.revssf=Iy(e.SSF),t.revssf[e.SSF[65535]]=0,t.ssf=e.SSF,t.cellXfs=[],Jo(t.cellXfs,{},{revssf:{General:0}}));var r=[];r.push(Iwe(e,t)),r.push(Fwe()),r.push(""),r.push("");for(var n=0;n<e.SheetNames.length;++n)r.push(Ve("Worksheet",Wwe(n,t,e),{"ss:Name":ar(e.SheetNames[n])}));return r[2]=Lwe(e,t),r[3]=Bwe(e),un+Ve("Workbook",r.join(""),{xmlns:as.ss,"xmlns:o":as.o,"xmlns:x":as.x,"xmlns:ss":as.ss,"xmlns:dt":as.dt,"xmlns:html":as.html})}var g2={SI:"e0859ff2f94f6810ab9108002b27b3d9",DSI:"02d5cdd59c2e1b10939708002b2cf9ae",UDI:"05d5cdd59c2e1b10939708002b2cf9ae"};function Kwe(e,t){var r=[],n=[],s=[],i=0,l,c=q5(aP,"n"),d=q5(sP,"n");if(e.Props)for(l=Gn(e.Props),i=0;i<l.length;++i)(Object.prototype.hasOwnProperty.call(c,l[i])?r:Object.prototype.hasOwnProperty.call(d,l[i])?n:s).push([l[i],e.Props[l[i]]]);if(e.Custprops)for(l=Gn(e.Custprops),i=0;i<l.length;++i)Object.prototype.hasOwnProperty.call(e.Props||{},l[i])||(Object.prototype.hasOwnProperty.call(c,l[i])?r:Object.prototype.hasOwnProperty.call(d,l[i])?n:s).push([l[i],e.Custprops[l[i]]]);var f=[];for(i=0;i<s.length;++i)kB.indexOf(s[i][0])>-1||NB.indexOf(s[i][0])>-1||s[i][1]!=null&&f.push(s[i]);n.length&&dr.utils.cfb_add(t,"/SummaryInformation",uP(n,g2.SI,d,sP)),(r.length||f.length)&&dr.utils.cfb_add(t,"/DocumentSummaryInformation",uP(r,g2.DSI,c,aP,f.length?f:null,g2.UDI))}function Ywe(e,t){var r=t||{},n=dr.utils.cfb_new({root:"R"}),s="/Workbook";switch(r.bookType||"xls"){case"xls":r.bookType="biff8";case"xla":r.bookType||(r.bookType="xla");case"biff8":s="/Workbook",r.biff=8;break;case"biff5":s="/Book",r.biff=5;break;default:throw new Error("invalid type "+r.bookType+" for XLS CFB")}return dr.utils.cfb_add(n,s,n$(e,r)),r.biff==8&&(e.Props||e.Custprops)&&Kwe(e,n),r.biff==8&&e.vbaraw&&hve(n,dr.read(e.vbaraw,{type:typeof e.vbaraw=="string"?"binary":"buffer"})),n}var Xwe={0:{f:Jbe},1:{f:l1e},2:{f:E1e},3:{f:g1e},4:{f:d1e},5:{f:N1e},6:{f:D1e},7:{f:v1e},8:{f:B1e},9:{f:L1e},10:{f:I1e},11:{f:F1e},12:{f:c1e},13:{f:A1e},14:{f:x1e},15:{f:h1e},16:{f:_1e},17:{f:M1e},18:{f:w1e},19:{f:Bk},20:{},21:{},22:{},23:{},24:{},25:{},26:{},27:{},28:{},29:{},30:{},31:{},32:{},33:{},34:{},35:{T:1},36:{T:-1},37:{T:1},38:{T:-1},39:{f:Swe},40:{},42:{},43:{f:Dye},44:{f:Cye},45:{f:Rye},46:{f:Fye},47:{f:Iye},48:{},49:{f:cxe},50:{},51:{f:Jye},52:{T:1},53:{T:-1},54:{T:1},55:{T:-1},56:{T:1},57:{T:-1},58:{},59:{},60:{f:uye},62:{f:O1e},63:{f:sve},64:{f:twe},65:{},66:{},67:{},68:{},69:{},70:{},128:{},129:{T:1},130:{T:-1},131:{T:1,f:Ui,p:0},132:{T:-1},133:{T:1},134:{T:-1},135:{T:1},136:{T:-1},137:{T:1,f:Q1e},138:{T:-1},139:{T:1},140:{T:-1},141:{T:1},142:{T:-1},143:{T:1},144:{T:-1},145:{T:1},146:{T:-1},147:{f:s1e},148:{f:r1e,p:16},151:{f:q1e},152:{},153:{f:jwe},154:{},155:{},156:{f:bwe},157:{},158:{},159:{T:1,f:bye},160:{T:-1},161:{T:1,f:wu},162:{T:-1},163:{T:1},164:{T:-1},165:{T:1},166:{T:-1},167:{},168:{},169:{},170:{},171:{},172:{T:1},173:{T:-1},174:{},175:{},176:{f:$1e},177:{T:1},178:{T:-1},179:{T:1},180:{T:-1},181:{T:1},182:{T:-1},183:{T:1},184:{T:-1},185:{T:1},186:{T:-1},187:{T:1},188:{T:-1},189:{T:1},190:{T:-1},191:{T:1},192:{T:-1},193:{T:1},194:{T:-1},195:{T:1},196:{T:-1},197:{T:1},198:{T:-1},199:{T:1},200:{T:-1},201:{T:1},202:{T:-1},203:{T:1},204:{T:-1},205:{T:1},206:{T:-1},207:{T:1},208:{T:-1},209:{T:1},210:{T:-1},211:{T:1},212:{T:-1},213:{T:1},214:{T:-1},215:{T:1},216:{T:-1},217:{T:1},218:{T:-1},219:{T:1},220:{T:-1},221:{T:1},222:{T:-1},223:{T:1},224:{T:-1},225:{T:1},226:{T:-1},227:{T:1},228:{T:-1},229:{T:1},230:{T:-1},231:{T:1},232:{T:-1},233:{T:1},234:{T:-1},235:{T:1},236:{T:-1},237:{T:1},238:{T:-1},239:{T:1},240:{T:-1},241:{T:1},242:{T:-1},243:{T:1},244:{T:-1},245:{T:1},246:{T:-1},247:{T:1},248:{T:-1},249:{T:1},250:{T:-1},251:{T:1},252:{T:-1},253:{T:1},254:{T:-1},255:{T:1},256:{T:-1},257:{T:1},258:{T:-1},259:{T:1},260:{T:-1},261:{T:1},262:{T:-1},263:{T:1},264:{T:-1},265:{T:1},266:{T:-1},267:{T:1},268:{T:-1},269:{T:1},270:{T:-1},271:{T:1},272:{T:-1},273:{T:1},274:{T:-1},275:{T:1},276:{T:-1},277:{},278:{T:1},279:{T:-1},280:{T:1},281:{T:-1},282:{T:1},283:{T:1},284:{T:-1},285:{T:1},286:{T:-1},287:{T:1},288:{T:-1},289:{T:1},290:{T:-1},291:{T:1},292:{T:-1},293:{T:1},294:{T:-1},295:{T:1},296:{T:-1},297:{T:1},298:{T:-1},299:{T:1},300:{T:-1},301:{T:1},302:{T:-1},303:{T:1},304:{T:-1},305:{T:1},306:{T:-1},307:{T:1},308:{T:-1},309:{T:1},310:{T:-1},311:{T:1},312:{T:-1},313:{T:-1},314:{T:1},315:{T:-1},316:{T:1},317:{T:-1},318:{T:1},319:{T:-1},320:{T:1},321:{T:-1},322:{T:1},323:{T:-1},324:{T:1},325:{T:-1},326:{T:1},327:{T:-1},328:{T:1},329:{T:-1},330:{T:1},331:{T:-1},332:{T:1},333:{T:-1},334:{T:1},335:{f:Qye},336:{T:-1},337:{f:rve,T:1},338:{T:-1},339:{T:1},340:{T:-1},341:{T:1},342:{T:-1},343:{T:1},344:{T:-1},345:{T:1},346:{T:-1},347:{T:1},348:{T:-1},349:{T:1},350:{T:-1},351:{},352:{},353:{T:1},354:{T:-1},355:{f:yN},357:{},358:{},359:{},360:{T:1},361:{},362:{f:aye},363:{},364:{},366:{},367:{},368:{},369:{},370:{},371:{},372:{T:1},373:{T:-1},374:{T:1},375:{T:-1},376:{T:1},377:{T:-1},378:{T:1},379:{T:-1},380:{T:1},381:{T:-1},382:{T:1},383:{T:-1},384:{T:1},385:{T:-1},386:{T:1},387:{T:-1},388:{T:1},389:{T:-1},390:{T:1},391:{T:-1},392:{T:1},393:{T:-1},394:{T:1},395:{T:-1},396:{},397:{},398:{},399:{},400:{},401:{T:1},403:{},404:{},405:{},406:{},407:{},408:{},409:{},410:{},411:{},412:{},413:{},414:{},415:{},416:{},417:{},418:{},419:{},420:{},421:{},422:{T:1},423:{T:1},424:{T:-1},425:{T:-1},426:{f:W1e},427:{f:G1e},428:{},429:{T:1},430:{T:-1},431:{T:1},432:{T:-1},433:{T:1},434:{T:-1},435:{T:1},436:{T:-1},437:{T:1},438:{T:-1},439:{T:1},440:{T:-1},441:{T:1},442:{T:-1},443:{T:1},444:{T:-1},445:{T:1},446:{T:-1},447:{T:1},448:{T:-1},449:{T:1},450:{T:-1},451:{T:1},452:{T:-1},453:{T:1},454:{T:-1},455:{T:1},456:{T:-1},457:{T:1},458:{T:-1},459:{T:1},460:{T:-1},461:{T:1},462:{T:-1},463:{T:1},464:{T:-1},465:{T:1},466:{T:-1},467:{T:1},468:{T:-1},469:{T:1},470:{T:-1},471:{},472:{},473:{T:1},474:{T:-1},475:{},476:{f:Y1e},477:{},478:{},479:{T:1},480:{T:-1},481:{T:1},482:{T:-1},483:{T:1},484:{T:-1},485:{f:a1e},486:{T:1},487:{T:-1},488:{T:1},489:{T:-1},490:{T:1},491:{T:-1},492:{T:1},493:{T:-1},494:{f:H1e},495:{T:1},496:{T:-1},497:{T:1},498:{T:-1},499:{},500:{T:1},501:{T:-1},502:{T:1},503:{T:-1},504:{},505:{T:1},506:{T:-1},507:{},508:{T:1},509:{T:-1},510:{T:1},511:{T:-1},512:{},513:{},514:{T:1},515:{T:-1},516:{T:1},517:{T:-1},518:{T:1},519:{T:-1},520:{T:1},521:{T:-1},522:{},523:{},524:{},525:{},526:{},527:{},528:{T:1},529:{T:-1},530:{T:1},531:{T:-1},532:{T:1},533:{T:-1},534:{},535:{},536:{},537:{},538:{T:1},539:{T:-1},540:{T:1},541:{T:-1},542:{T:1},548:{},549:{},550:{f:yN},551:{},552:{},553:{},554:{T:1},555:{T:-1},556:{T:1},557:{T:-1},558:{T:1},559:{T:-1},560:{T:1},561:{T:-1},562:{},564:{},565:{T:1},566:{T:-1},569:{T:1},570:{T:-1},572:{},573:{T:1},574:{T:-1},577:{},578:{},579:{},580:{},581:{},582:{},583:{},584:{},585:{},586:{},587:{},588:{T:-1},589:{},590:{T:1},591:{T:-1},592:{T:1},593:{T:-1},594:{T:1},595:{T:-1},596:{},597:{T:1},598:{T:-1},599:{T:1},600:{T:-1},601:{T:1},602:{T:-1},603:{T:1},604:{T:-1},605:{T:1},606:{T:-1},607:{},608:{T:1},609:{T:-1},610:{},611:{T:1},612:{T:-1},613:{T:1},614:{T:-1},615:{T:1},616:{T:-1},617:{T:1},618:{T:-1},619:{T:1},620:{T:-1},625:{},626:{T:1},627:{T:-1},628:{T:1},629:{T:-1},630:{T:1},631:{T:-1},632:{f:uve},633:{T:1},634:{T:-1},635:{T:1,f:ove},636:{T:-1},637:{f:hxe},638:{T:1},639:{},640:{T:-1},641:{T:1},642:{T:-1},643:{T:1},644:{},645:{T:-1},646:{T:1},648:{T:1},649:{},650:{T:-1},651:{f:mwe},652:{},653:{T:1},654:{T:-1},655:{T:1},656:{T:-1},657:{T:1},658:{T:-1},659:{},660:{T:1},661:{},662:{T:-1},663:{},664:{T:1},665:{},666:{T:-1},667:{},668:{},669:{},671:{T:1},672:{T:-1},673:{T:1},674:{T:-1},675:{},676:{},677:{},678:{},679:{},680:{},681:{},1024:{},1025:{},1026:{T:1},1027:{T:-1},1028:{T:1},1029:{T:-1},1030:{},1031:{T:1},1032:{T:-1},1033:{T:1},1034:{T:-1},1035:{},1036:{},1037:{},1038:{T:1},1039:{T:-1},1040:{},1041:{T:1},1042:{T:-1},1043:{},1044:{},1045:{},1046:{T:1},1047:{T:-1},1048:{T:1},1049:{T:-1},1050:{},1051:{T:1},1052:{T:1},1053:{f:rwe},1054:{T:1},1055:{},1056:{T:1},1057:{T:-1},1058:{T:1},1059:{T:-1},1061:{},1062:{T:1},1063:{T:-1},1064:{T:1},1065:{T:-1},1066:{T:1},1067:{T:-1},1068:{T:1},1069:{T:-1},1070:{T:1},1071:{T:-1},1072:{T:1},1073:{T:-1},1075:{T:1},1076:{T:-1},1077:{T:1},1078:{T:-1},1079:{T:1},1080:{T:-1},1081:{T:1},1082:{T:-1},1083:{T:1},1084:{T:-1},1085:{},1086:{T:1},1087:{T:-1},1088:{T:1},1089:{T:-1},1090:{T:1},1091:{T:-1},1092:{T:1},1093:{T:-1},1094:{T:1},1095:{T:-1},1096:{},1097:{T:1},1098:{},1099:{T:-1},1100:{T:1},1101:{T:-1},1102:{},1103:{},1104:{},1105:{},1111:{},1112:{},1113:{T:1},1114:{T:-1},1115:{T:1},1116:{T:-1},1117:{},1118:{T:1},1119:{T:-1},1120:{T:1},1121:{T:-1},1122:{T:1},1123:{T:-1},1124:{T:1},1125:{T:-1},1126:{},1128:{T:1},1129:{T:-1},1130:{},1131:{T:1},1132:{T:-1},1133:{T:1},1134:{T:-1},1135:{T:1},1136:{T:-1},1137:{T:1},1138:{T:-1},1139:{T:1},1140:{T:-1},1141:{},1142:{T:1},1143:{T:-1},1144:{T:1},1145:{T:-1},1146:{},1147:{T:1},1148:{T:-1},1149:{T:1},1150:{T:-1},1152:{T:1},1153:{T:-1},1154:{T:-1},1155:{T:-1},1156:{T:-1},1157:{T:1},1158:{T:-1},1159:{T:1},1160:{T:-1},1161:{T:1},1162:{T:-1},1163:{T:1},1164:{T:-1},1165:{T:1},1166:{T:-1},1167:{T:1},1168:{T:-1},1169:{T:1},1170:{T:-1},1171:{},1172:{T:1},1173:{T:-1},1177:{},1178:{T:1},1180:{},1181:{},1182:{},2048:{T:1},2049:{T:-1},2050:{},2051:{T:1},2052:{T:-1},2053:{},2054:{},2055:{T:1},2056:{T:-1},2057:{T:1},2058:{T:-1},2060:{},2067:{},2068:{T:1},2069:{T:-1},2070:{},2071:{},2072:{T:1},2073:{T:-1},2075:{},2076:{},2077:{T:1},2078:{T:-1},2079:{},2080:{T:1},2081:{T:-1},2082:{},2083:{T:1},2084:{T:-1},2085:{T:1},2086:{T:-1},2087:{T:1},2088:{T:-1},2089:{T:1},2090:{T:-1},2091:{},2092:{},2093:{T:1},2094:{T:-1},2095:{},2096:{T:1},2097:{T:-1},2098:{T:1},2099:{T:-1},2100:{T:1},2101:{T:-1},2102:{},2103:{T:1},2104:{T:-1},2105:{},2106:{T:1},2107:{T:-1},2108:{},2109:{T:1},2110:{T:-1},2111:{T:1},2112:{T:-1},2113:{T:1},2114:{T:-1},2115:{},2116:{},2117:{},2118:{T:1},2119:{T:-1},2120:{},2121:{T:1},2122:{T:-1},2123:{T:1},2124:{T:-1},2125:{},2126:{T:1},2127:{T:-1},2128:{},2129:{T:1},2130:{T:-1},2131:{T:1},2132:{T:-1},2133:{T:1},2134:{},2135:{},2136:{},2137:{T:1},2138:{T:-1},2139:{T:1},2140:{T:-1},2141:{},3072:{},3073:{},4096:{T:1},4097:{T:-1},5002:{T:1},5003:{T:-1},5081:{T:1},5082:{T:-1},5083:{},5084:{T:1},5085:{T:-1},5086:{T:1},5087:{T:-1},5088:{},5089:{},5090:{},5092:{T:1},5093:{T:-1},5094:{},5095:{T:1},5096:{T:-1},5097:{},5099:{},65535:{n:""}};function We(e,t,r,n){var s=t;if(!isNaN(s)){var i=n||(r||[]).length||0,l=e.next(4);l.write_shift(2,s),l.write_shift(2,i),i>0&&Ik(r)&&e.push(r)}}function Qwe(e,t,r,n){var s=(r||[]).length||0;if(s<=8224)return We(e,t,r,s);var i=t;if(!isNaN(i)){for(var l=r.parts||[],c=0,d=0,f=0;f+(l[c]||8224)<=8224;)f+=l[c]||8224,c++;var h=e.next(4);for(h.write_shift(2,i),h.write_shift(2,f),e.push(r.slice(d,d+f)),d+=f;d<s;){for(h=e.next(4),h.write_shift(2,60),f=0;f+(l[c]||8224)<=8224;)f+=l[c]||8224,c++;h.write_shift(2,f),e.push(r.slice(d,d+f)),d+=f}}}function Nm(e,t,r){return e||(e=Ae(7)),e.write_shift(2,t),e.write_shift(2,r),e.write_shift(2,0),e.write_shift(1,0),e}function Zwe(e,t,r,n){var s=Ae(9);return Nm(s,e,t),TB(r,n||"b",s),s}function Jwe(e,t,r){var n=Ae(8+2*r.length);return Nm(n,e,t),n.write_shift(1,r.length),n.write_shift(r.length,r,"sbcs"),n.l<n.length?n.slice(0,n.l):n}function e2e(e,t,r,n){if(t.v!=null)switch(t.t){case"d":case"n":var s=t.t=="d"?Ba(ya(t.v)):t.v;s==(s|0)&&s>=0&&s<65536?We(e,2,mye(r,n,s)):We(e,3,hye(r,n,s));return;case"b":case"e":We(e,5,Zwe(r,n,t.v,t.t));return;case"s":case"str":We(e,4,Jwe(r,n,(t.v||"").slice(0,255)));return}We(e,1,Nm(null,r,n))}function t2e(e,t,r,n){var s=Array.isArray(t),i=Er(t["!ref"]||"A1"),l,c="",d=[];if(i.e.c>255||i.e.r>16383){if(n.WTF)throw new Error("Range "+(t["!ref"]||"A1")+" exceeds format limit A1:IV16384");i.e.c=Math.min(i.e.c,255),i.e.r=Math.min(i.e.c,16383),l=cn(i)}for(var f=i.s.r;f<=i.e.r;++f){c=Wn(f);for(var h=i.s.c;h<=i.e.c;++h){f===i.s.r&&(d[h]=aa(h)),l=d[h]+c;var g=s?(t[f]||[])[h]:t[l];g&&e2e(e,g,f,h)}}}function r2e(e,t){for(var r=t||{},n=Ia(),s=0,i=0;i<e.SheetNames.length;++i)e.SheetNames[i]==r.sheet&&(s=i);if(s==0&&r.sheet&&e.SheetNames[0]!=r.sheet)throw new Error("Sheet not found: "+r.sheet);return We(n,r.biff==4?1033:r.biff==3?521:9,zk(e,16,r)),t2e(n,e.Sheets[e.SheetNames[s]],s,r),We(n,10),n.end()}function n2e(e,t,r){We(e,49,Xxe({sz:12,name:"Arial"},r))}function a2e(e,t,r){t&&[[5,8],[23,26],[41,44],[50,392]].forEach(function(n){for(var s=n[0];s<=n[1];++s)t[s]!=null&&We(e,1054,Jxe(s,t[s],r))})}function s2e(e,t){var r=Ae(19);r.write_shift(4,2151),r.write_shift(4,0),r.write_shift(4,0),r.write_shift(2,3),r.write_shift(1,1),r.write_shift(4,0),We(e,2151,r),r=Ae(39),r.write_shift(4,2152),r.write_shift(4,0),r.write_shift(4,0),r.write_shift(2,3),r.write_shift(1,0),r.write_shift(4,0),r.write_shift(2,1),r.write_shift(4,4),r.write_shift(2,0),OB(Er(t["!ref"]||"A1"),r),r.write_shift(4,4),We(e,2152,r)}function i2e(e,t){for(var r=0;r<16;++r)We(e,224,fP({numFmtId:0,style:!0},0,t));t.cellXfs.forEach(function(n){We(e,224,fP(n,0,t))})}function l2e(e,t){for(var r=0;r<t["!links"].length;++r){var n=t["!links"][r];We(e,440,lye(n)),n[1].Tooltip&&We(e,2048,oye(n))}delete t["!links"]}function o2e(e,t){if(t){var r=0;t.forEach(function(n,s){++r<=256&&n&&We(e,125,dye($y(s,n),s))})}}function c2e(e,t,r,n,s){var i=16+Jo(s.cellXfs,t,s);if(t.v==null&&!t.bf){We(e,513,ou(r,n,i));return}if(t.bf)We(e,6,Pbe(t,r,n,s,i));else switch(t.t){case"d":case"n":var l=t.t=="d"?Ba(ya(t.v)):t.v;We(e,515,nye(r,n,l,i));break;case"b":case"e":We(e,517,rye(r,n,t.v,i,s,t.t));break;case"s":case"str":if(s.bookSST){var c=Gk(s.Strings,t.v,s.revStrings);We(e,253,Qxe(r,n,c,i))}else We(e,516,Zxe(r,n,(t.v||"").slice(0,255),i,s));break;default:We(e,513,ou(r,n,i))}}function u2e(e,t,r){var n=Ia(),s=r.SheetNames[e],i=r.Sheets[s]||{},l=(r||{}).Workbook||{},c=(l.Sheets||[])[e]||{},d=Array.isArray(i),f=t.biff==8,h,g="",p=[],y=Er(i["!ref"]||"A1"),b=f?65536:16384;if(y.e.c>255||y.e.r>=b){if(t.WTF)throw new Error("Range "+(i["!ref"]||"A1")+" exceeds format limit A1:IV16384");y.e.c=Math.min(y.e.c,255),y.e.r=Math.min(y.e.c,b-1)}We(n,2057,zk(r,16,t)),We(n,13,Is(1)),We(n,12,Is(100)),We(n,15,fa(!0)),We(n,17,fa(!1)),We(n,16,lu(.001)),We(n,95,fa(!0)),We(n,42,fa(!1)),We(n,43,fa(!1)),We(n,130,Is(1)),We(n,128,tye()),We(n,131,fa(!1)),We(n,132,fa(!1)),f&&o2e(n,i["!cols"]),We(n,512,eye(y,t)),f&&(i["!links"]=[]);for(var w=y.s.r;w<=y.e.r;++w){g=Wn(w);for(var j=y.s.c;j<=y.e.c;++j){w===y.s.r&&(p[j]=aa(j)),h=p[j]+g;var S=d?(i[w]||[])[j]:i[h];S&&(c2e(n,S,w,j,t),f&&S.l&&i["!links"].push([h,S.l]))}}var k=c.CodeName||c.name||s;return f&&We(n,574,Yxe((l.Views||[])[0])),f&&(i["!merges"]||[]).length&&We(n,229,iye(i["!merges"])),f&&l2e(n,i),We(n,442,CB(k)),f&&s2e(n,i),We(n,10),n.end()}function d2e(e,t,r){var n=Ia(),s=(e||{}).Workbook||{},i=s.Sheets||[],l=s.WBProps||{},c=r.biff==8,d=r.biff==5;if(We(n,2057,zk(e,5,r)),r.bookType=="xla"&&We(n,135),We(n,225,c?Is(1200):null),We(n,193,Ixe(2)),d&&We(n,191),d&&We(n,192),We(n,226),We(n,92,qxe("SheetJS",r)),We(n,66,Is(c?1200:1252)),c&&We(n,353,Is(0)),c&&We(n,448),We(n,317,fye(e.SheetNames.length)),c&&e.vbaraw&&We(n,211),c&&e.vbaraw){var f=l.CodeName||"ThisWorkbook";We(n,442,CB(f))}We(n,156,Is(17)),We(n,25,fa(!1)),We(n,18,fa(!1)),We(n,19,Is(0)),c&&We(n,431,fa(!1)),c&&We(n,444,Is(0)),We(n,61,Kxe()),We(n,64,fa(!1)),We(n,141,Is(0)),We(n,34,fa(pwe(e)=="true")),We(n,14,fa(!0)),c&&We(n,439,fa(!1)),We(n,218,Is(0)),n2e(n,e,r),a2e(n,e.SSF,r),i2e(n,r),c&&We(n,352,fa(!1));var h=n.end(),g=Ia();c&&We(g,140,cye()),c&&r.Strings&&Qwe(g,252,Gxe(r.Strings)),We(g,10);var p=g.end(),y=Ia(),b=0,w=0;for(w=0;w<e.SheetNames.length;++w)b+=(c?12:11)+(c?2:1)*e.SheetNames[w].length;var j=h.length+b+p.length;for(w=0;w<e.SheetNames.length;++w){var S=i[w]||{};We(y,133,Wxe({pos:j,hs:S.Hidden||0,dt:0,name:e.SheetNames[w]},r)),j+=t[w].length}var k=y.end();if(b!=k.length)throw new Error("BS8 "+b+" != "+k.length);var E=[];return h.length&&E.push(h),k.length&&E.push(k),p.length&&E.push(p),Hn(E)}function f2e(e,t){var r=t||{},n=[];e&&!e.SSF&&(e.SSF=$a(Wr)),e&&e.SSF&&(Ry(),My(e.SSF),r.revssf=Iy(e.SSF),r.revssf[e.SSF[65535]]=0,r.ssf=e.SSF),r.Strings=[],r.Strings.Count=0,r.Strings.Unique=0,Kk(r),r.cellXfs=[],Jo(r.cellXfs,{},{revssf:{General:0}}),e.Props||(e.Props={});for(var s=0;s<e.SheetNames.length;++s)n[n.length]=u2e(s,r,e);return n.unshift(d2e(e,n,r)),Hn(n)}function n$(e,t){for(var r=0;r<=e.SheetNames.length;++r){var n=e.Sheets[e.SheetNames[r]];if(!(!n||!n["!ref"])){var s=ps(n["!ref"]);s.e.c>255&&typeof console<"u"&&console.error&&console.error("Worksheet '"+e.SheetNames[r]+"' extends beyond column IV (255).  Data may be lost.")}}var i=t||{};switch(i.biff||2){case 8:case 5:return f2e(e,t);case 4:case 3:case 2:return r2e(e,t)}throw new Error("invalid type "+i.bookType+" for BIFF")}function h2e(e,t,r,n){for(var s=e["!merges"]||[],i=[],l=t.s.c;l<=t.e.c;++l){for(var c=0,d=0,f=0;f<s.length;++f)if(!(s[f].s.r>r||s[f].s.c>l)&&!(s[f].e.r<r||s[f].e.c<l)){if(s[f].s.r<r||s[f].s.c<l){c=-1;break}c=s[f].e.r-s[f].s.r+1,d=s[f].e.c-s[f].s.c+1;break}if(!(c<0)){var h=sr({r,c:l}),g=n.dense?(e[r]||[])[l]:e[h],p=g&&g.v!=null&&(g.h||Vpe(g.w||(Al(g),g.w)||""))||"",y={};c>1&&(y.rowspan=c),d>1&&(y.colspan=d),n.editable?p='<span contenteditable="true">'+p+"</span>":g&&(y["data-t"]=g&&g.t||"z",g.v!=null&&(y["data-v"]=g.v),g.z!=null&&(y["data-z"]=g.z),g.l&&(g.l.Target||"#").charAt(0)!="#"&&(p='<a href="'+g.l.Target+'">'+p+"</a>")),y.id=(n.id||"sjs")+"-"+h,i.push(Ve("td",p,y))}}var b="<tr>";return b+i.join("")+"</tr>"}var m2e='<html><head><meta charset="utf-8"/><title>SheetJS Table Export</title></head><body>',g2e="</body></html>";function p2e(e,t,r){var n=[];return n.join("")+"<table"+(r&&r.id?' id="'+r.id+'"':"")+">"}function a$(e,t){var r=t||{},n=r.header!=null?r.header:m2e,s=r.footer!=null?r.footer:g2e,i=[n],l=ps(e["!ref"]);r.dense=Array.isArray(e),i.push(p2e(e,l,r));for(var c=l.s.r;c<=l.e.r;++c)i.push(h2e(e,l,c,r));return i.push("</table>"+s),i.join("")}function s$(e,t,r){var n=r||{},s=0,i=0;if(n.origin!=null)if(typeof n.origin=="number")s=n.origin;else{var l=typeof n.origin=="string"?_n(n.origin):n.origin;s=l.r,i=l.c}var c=t.getElementsByTagName("tr"),d=Math.min(n.sheetRows||1e7,c.length),f={s:{r:0,c:0},e:{r:s,c:i}};if(e["!ref"]){var h=ps(e["!ref"]);f.s.r=Math.min(f.s.r,h.s.r),f.s.c=Math.min(f.s.c,h.s.c),f.e.r=Math.max(f.e.r,h.e.r),f.e.c=Math.max(f.e.c,h.e.c),s==-1&&(f.e.r=s=h.e.r+1)}var g=[],p=0,y=e["!rows"]||(e["!rows"]=[]),b=0,w=0,j=0,S=0,k=0,E=0;for(e["!cols"]||(e["!cols"]=[]);b<c.length&&w<d;++b){var C=c[b];if(vP(C)){if(n.display)continue;y[w]={hidden:!0}}var T=C.children;for(j=S=0;j<T.length;++j){var A=T[j];if(!(n.display&&vP(A))){var O=A.hasAttribute("data-v")?A.getAttribute("data-v"):A.hasAttribute("v")?A.getAttribute("v"):Kpe(A.innerHTML),D=A.getAttribute("data-z")||A.getAttribute("z");for(p=0;p<g.length;++p){var R=g[p];R.s.c==S+i&&R.s.r<w+s&&w+s<=R.e.r&&(S=R.e.c+1-i,p=-1)}E=+A.getAttribute("colspan")||1,((k=+A.getAttribute("rowspan")||1)>1||E>1)&&g.push({s:{r:w+s,c:S+i},e:{r:w+s+(k||1)-1,c:S+i+(E||1)-1}});var B={t:"s",v:O},V=A.getAttribute("data-t")||A.getAttribute("t")||"";O!=null&&(O.length==0?B.t=V||"z":n.raw||O.trim().length==0||V=="s"||(O==="TRUE"?B={t:"b",v:!0}:O==="FALSE"?B={t:"b",v:!1}:isNaN(xl(O))?isNaN(Fh(O).getDate())||(B={t:"d",v:ya(O)},n.cellDates||(B={t:"n",v:Ba(B.v)}),B.z=n.dateNF||Wr[14]):B={t:"n",v:xl(O)})),B.z===void 0&&D!=null&&(B.z=D);var W="",se=A.getElementsByTagName("A");if(se&&se.length)for(var oe=0;oe<se.length&&!(se[oe].hasAttribute("href")&&(W=se[oe].getAttribute("href"),W.charAt(0)!="#"));++oe);W&&W.charAt(0)!="#"&&(B.l={Target:W}),n.dense?(e[w+s]||(e[w+s]=[]),e[w+s][S+i]=B):e[sr({c:S+i,r:w+s})]=B,f.e.c<S+i&&(f.e.c=S+i),S+=E}}++w}return g.length&&(e["!merges"]=(e["!merges"]||[]).concat(g)),f.e.r=Math.max(f.e.r,w-1+s),e["!ref"]=cn(f),w>=d&&(e["!fullref"]=cn((f.e.r=c.length-b+w-1+s,f))),e}function i$(e,t){var r=t||{},n=r.dense?[]:{};return s$(n,e,t)}function x2e(e,t){return xu(i$(e,t),t)}function vP(e){var t="",r=y2e(e);return r&&(t=r(e).getPropertyValue("display")),t||(t=e.style&&e.style.display),t==="none"}function y2e(e){return e.ownerDocument.defaultView&&typeof e.ownerDocument.defaultView.getComputedStyle=="function"?e.ownerDocument.defaultView.getComputedStyle:typeof getComputedStyle=="function"?getComputedStyle:null}var v2e=function(){var e=["<office:master-styles>",'<style:master-page style:name="mp1" style:page-layout-name="mp1">',"<style:header/>",'<style:header-left style:display="false"/>',"<style:footer/>",'<style:footer-left style:display="false"/>',"</style:master-page>","</office:master-styles>"].join(""),t="<office:document-styles "+Bh({"xmlns:office":"urn:oasis:names:tc:opendocument:xmlns:office:1.0","xmlns:table":"urn:oasis:names:tc:opendocument:xmlns:table:1.0","xmlns:style":"urn:oasis:names:tc:opendocument:xmlns:style:1.0","xmlns:text":"urn:oasis:names:tc:opendocument:xmlns:text:1.0","xmlns:draw":"urn:oasis:names:tc:opendocument:xmlns:drawing:1.0","xmlns:fo":"urn:oasis:names:tc:opendocument:xmlns:xsl-fo-compatible:1.0","xmlns:xlink":"http://www.w3.org/1999/xlink","xmlns:dc":"http://purl.org/dc/elements/1.1/","xmlns:number":"urn:oasis:names:tc:opendocument:xmlns:datastyle:1.0","xmlns:svg":"urn:oasis:names:tc:opendocument:xmlns:svg-compatible:1.0","xmlns:of":"urn:oasis:names:tc:opendocument:xmlns:of:1.2","office:version":"1.2"})+">"+e+"</office:document-styles>";return function(){return un+t}}(),bP=function(){var e=function(i){return ar(i).replace(/  +/g,function(l){return'<text:s text:c="'+l.length+'"/>'}).replace(/\t/g,"<text:tab/>").replace(/\n/g,"</text:p><text:p>").replace(/^ /,"<text:s/>").replace(/ $/,"<text:s/>")},t=`          <table:table-cell />
`,r=`          <table:covered-table-cell/>
`,n=function(i,l,c){var d=[];d.push('      <table:table table:name="'+ar(l.SheetNames[c])+`" table:style-name="ta1">
`);var f=0,h=0,g=ps(i["!ref"]||"A1"),p=i["!merges"]||[],y=0,b=Array.isArray(i);if(i["!cols"])for(h=0;h<=g.e.c;++h)d.push("        <table:table-column"+(i["!cols"][h]?' table:style-name="co'+i["!cols"][h].ods+'"':"")+`></table:table-column>
`);var w="",j=i["!rows"]||[];for(f=0;f<g.s.r;++f)w=j[f]?' table:style-name="ro'+j[f].ods+'"':"",d.push("        <table:table-row"+w+`></table:table-row>
`);for(;f<=g.e.r;++f){for(w=j[f]?' table:style-name="ro'+j[f].ods+'"':"",d.push("        <table:table-row"+w+`>
`),h=0;h<g.s.c;++h)d.push(t);for(;h<=g.e.c;++h){var S=!1,k={},E="";for(y=0;y!=p.length;++y)if(!(p[y].s.c>h)&&!(p[y].s.r>f)&&!(p[y].e.c<h)&&!(p[y].e.r<f)){(p[y].s.c!=h||p[y].s.r!=f)&&(S=!0),k["table:number-columns-spanned"]=p[y].e.c-p[y].s.c+1,k["table:number-rows-spanned"]=p[y].e.r-p[y].s.r+1;break}if(S){d.push(r);continue}var C=sr({r:f,c:h}),T=b?(i[f]||[])[h]:i[C];if(T&&T.f&&(k["table:formula"]=ar(Bbe(T.f)),T.F&&T.F.slice(0,C.length)==C)){var A=ps(T.F);k["table:number-matrix-columns-spanned"]=A.e.c-A.s.c+1,k["table:number-matrix-rows-spanned"]=A.e.r-A.s.r+1}if(!T){d.push(t);continue}switch(T.t){case"b":E=T.v?"TRUE":"FALSE",k["office:value-type"]="boolean",k["office:boolean-value"]=T.v?"true":"false";break;case"n":E=T.w||String(T.v||0),k["office:value-type"]="float",k["office:value"]=T.v||0;break;case"s":case"str":E=T.v==null?"":T.v,k["office:value-type"]="string";break;case"d":E=T.w||ya(T.v).toISOString(),k["office:value-type"]="date",k["office:date-value"]=ya(T.v).toISOString(),k["table:style-name"]="ce1";break;default:d.push(t);continue}var O=e(E);if(T.l&&T.l.Target){var D=T.l.Target;D=D.charAt(0)=="#"?"#"+$be(D.slice(1)):D,D.charAt(0)!="#"&&!D.match(/^\w+:/)&&(D="../"+D),O=Ve("text:a",O,{"xlink:href":D.replace(/&/g,"&amp;")})}d.push("          "+Ve("table:table-cell",Ve("text:p",O,{}),k)+`
`)}d.push(`        </table:table-row>
`)}return d.push(`      </table:table>
`),d.join("")},s=function(i,l){i.push(` <office:automatic-styles>
`),i.push(`  <number:date-style style:name="N37" number:automatic-order="true">
`),i.push(`   <number:month number:style="long"/>
`),i.push(`   <number:text>/</number:text>
`),i.push(`   <number:day number:style="long"/>
`),i.push(`   <number:text>/</number:text>
`),i.push(`   <number:year/>
`),i.push(`  </number:date-style>
`);var c=0;l.SheetNames.map(function(f){return l.Sheets[f]}).forEach(function(f){if(f&&f["!cols"]){for(var h=0;h<f["!cols"].length;++h)if(f["!cols"][h]){var g=f["!cols"][h];if(g.width==null&&g.wpx==null&&g.wch==null)continue;Hk(g),g.ods=c;var p=f["!cols"][h].wpx+"px";i.push('  <style:style style:name="co'+c+`" style:family="table-column">
`),i.push('   <style:table-column-properties fo:break-before="auto" style:column-width="'+p+`"/>
`),i.push(`  </style:style>
`),++c}}});var d=0;l.SheetNames.map(function(f){return l.Sheets[f]}).forEach(function(f){if(f&&f["!rows"]){for(var h=0;h<f["!rows"].length;++h)if(f["!rows"][h]){f["!rows"][h].ods=d;var g=f["!rows"][h].hpx+"px";i.push('  <style:style style:name="ro'+d+`" style:family="table-row">
`),i.push('   <style:table-row-properties fo:break-before="auto" style:row-height="'+g+`"/>
`),i.push(`  </style:style>
`),++d}}}),i.push(`  <style:style style:name="ta1" style:family="table" style:master-page-name="mp1">
`),i.push(`   <style:table-properties table:display="true" style:writing-mode="lr-tb"/>
`),i.push(`  </style:style>
`),i.push(`  <style:style style:name="ce1" style:family="table-cell" style:parent-style-name="Default" style:data-style-name="N37"/>
`),i.push(` </office:automatic-styles>
`)};return function(l,c){var d=[un],f=Bh({"xmlns:office":"urn:oasis:names:tc:opendocument:xmlns:office:1.0","xmlns:table":"urn:oasis:names:tc:opendocument:xmlns:table:1.0","xmlns:style":"urn:oasis:names:tc:opendocument:xmlns:style:1.0","xmlns:text":"urn:oasis:names:tc:opendocument:xmlns:text:1.0","xmlns:draw":"urn:oasis:names:tc:opendocument:xmlns:drawing:1.0","xmlns:fo":"urn:oasis:names:tc:opendocument:xmlns:xsl-fo-compatible:1.0","xmlns:xlink":"http://www.w3.org/1999/xlink","xmlns:dc":"http://purl.org/dc/elements/1.1/","xmlns:meta":"urn:oasis:names:tc:opendocument:xmlns:meta:1.0","xmlns:number":"urn:oasis:names:tc:opendocument:xmlns:datastyle:1.0","xmlns:presentation":"urn:oasis:names:tc:opendocument:xmlns:presentation:1.0","xmlns:svg":"urn:oasis:names:tc:opendocument:xmlns:svg-compatible:1.0","xmlns:chart":"urn:oasis:names:tc:opendocument:xmlns:chart:1.0","xmlns:dr3d":"urn:oasis:names:tc:opendocument:xmlns:dr3d:1.0","xmlns:math":"http://www.w3.org/1998/Math/MathML","xmlns:form":"urn:oasis:names:tc:opendocument:xmlns:form:1.0","xmlns:script":"urn:oasis:names:tc:opendocument:xmlns:script:1.0","xmlns:ooo":"http://openoffice.org/2004/office","xmlns:ooow":"http://openoffice.org/2004/writer","xmlns:oooc":"http://openoffice.org/2004/calc","xmlns:dom":"http://www.w3.org/2001/xml-events","xmlns:xforms":"http://www.w3.org/2002/xforms","xmlns:xsd":"http://www.w3.org/2001/XMLSchema","xmlns:xsi":"http://www.w3.org/2001/XMLSchema-instance","xmlns:sheet":"urn:oasis:names:tc:opendocument:sh33tjs:1.0","xmlns:rpt":"http://openoffice.org/2005/report","xmlns:of":"urn:oasis:names:tc:opendocument:xmlns:of:1.2","xmlns:xhtml":"http://www.w3.org/1999/xhtml","xmlns:grddl":"http://www.w3.org/2003/g/data-view#","xmlns:tableooo":"http://openoffice.org/2009/table","xmlns:drawooo":"http://openoffice.org/2010/draw","xmlns:calcext":"urn:org:documentfoundation:names:experimental:calc:xmlns:calcext:1.0","xmlns:loext":"urn:org:documentfoundation:names:experimental:office:xmlns:loext:1.0","xmlns:field":"urn:openoffice:names:experimental:ooo-ms-interop:xmlns:field:1.0","xmlns:formx":"urn:openoffice:names:experimental:ooxml-odf-interop:xmlns:form:1.0","xmlns:css3t":"http://www.w3.org/TR/css3-text/","office:version":"1.2"}),h=Bh({"xmlns:config":"urn:oasis:names:tc:opendocument:xmlns:config:1.0","office:mimetype":"application/vnd.oasis.opendocument.spreadsheet"});c.bookType=="fods"?(d.push("<office:document"+f+h+`>
`),d.push(wB().replace(/office:document-meta/g,"office:meta"))):d.push("<office:document-content"+f+`>
`),s(d,l),d.push(`  <office:body>
`),d.push(`    <office:spreadsheet>
`);for(var g=0;g!=l.SheetNames.length;++g)d.push(n(l.Sheets[l.SheetNames[g]],l,g));return d.push(`    </office:spreadsheet>
`),d.push(`  </office:body>
`),c.bookType=="fods"?d.push("</office:document>"):d.push("</office:document-content>"),d.join("")}}();function l$(e,t){if(t.bookType=="fods")return bP(e,t);var r=Dk(),n="",s=[],i=[];return n="mimetype",jt(r,n,"application/vnd.oasis.opendocument.spreadsheet"),n="content.xml",jt(r,n,bP(e,t)),s.push([n,"text/xml"]),i.push([n,"ContentFile"]),n="styles.xml",jt(r,n,v2e(e,t)),s.push([n,"text/xml"]),i.push([n,"StylesFile"]),n="meta.xml",jt(r,n,un+wB()),s.push([n,"text/xml"]),i.push([n,"MetadataFile"]),n="manifest.rdf",jt(r,n,Oxe(i)),s.push([n,"application/rdf+xml"]),n="META-INF/manifest.xml",jt(r,n,Axe(s)),r}/*! sheetjs (C) 2013-present SheetJS -- http://sheetjs.com */function Ox(e){return new DataView(e.buffer,e.byteOffset,e.byteLength)}function b2e(e){return typeof TextEncoder<"u"?new TextEncoder().encode(e):oi(Lh(e))}function w2e(e,t){e:for(var r=0;r<=e.length-t.length;++r){for(var n=0;n<t.length;++n)if(e[r+n]!=t[n])continue e;return!0}return!1}function Ho(e){var t=e.reduce(function(s,i){return s+i.length},0),r=new Uint8Array(t),n=0;return e.forEach(function(s){r.set(s,n),n+=s.length}),r}function j2e(e,t,r){var n=Math.floor(r==0?0:Math.LOG10E*Math.log(Math.abs(r)))+6176-20,s=r/Math.pow(10,n-6176);e[t+15]|=n>>7,e[t+14]|=(n&127)<<1;for(var i=0;s>=1;++i,s/=256)e[t+i]=s&255;e[t+15]|=r>=0?0:128}function $h(e,t){var r=t?t[0]:0,n=e[r]&127;e:if(e[r++]>=128&&(n|=(e[r]&127)<<7,e[r++]<128||(n|=(e[r]&127)<<14,e[r++]<128)||(n|=(e[r]&127)<<21,e[r++]<128)||(n+=(e[r]&127)*Math.pow(2,28),++r,e[r++]<128)||(n+=(e[r]&127)*Math.pow(2,35),++r,e[r++]<128)||(n+=(e[r]&127)*Math.pow(2,42),++r,e[r++]<128)))break e;return t&&(t[0]=r),n}function er(e){var t=new Uint8Array(7);t[0]=e&127;var r=1;e:if(e>127){if(t[r-1]|=128,t[r]=e>>7&127,++r,e<=16383||(t[r-1]|=128,t[r]=e>>14&127,++r,e<=2097151)||(t[r-1]|=128,t[r]=e>>21&127,++r,e<=268435455)||(t[r-1]|=128,t[r]=e/256>>>21&127,++r,e<=34359738367)||(t[r-1]|=128,t[r]=e/65536>>>21&127,++r,e<=4398046511103))break e;t[r-1]|=128,t[r]=e/16777216>>>21&127,++r}return t.slice(0,r)}function Nd(e){var t=0,r=e[t]&127;e:if(e[t++]>=128){if(r|=(e[t]&127)<<7,e[t++]<128||(r|=(e[t]&127)<<14,e[t++]<128)||(r|=(e[t]&127)<<21,e[t++]<128))break e;r|=(e[t]&127)<<28}return r}function mn(e){for(var t=[],r=[0];r[0]<e.length;){var n=r[0],s=$h(e,r),i=s&7;s=Math.floor(s/8);var l=0,c;if(s==0)break;switch(i){case 0:{for(var d=r[0];e[r[0]++]>=128;);c=e.slice(d,r[0])}break;case 5:l=4,c=e.slice(r[0],r[0]+l),r[0]+=l;break;case 1:l=8,c=e.slice(r[0],r[0]+l),r[0]+=l;break;case 2:l=$h(e,r),c=e.slice(r[0],r[0]+l),r[0]+=l;break;case 3:case 4:default:throw new Error("PB Type ".concat(i," for Field ").concat(s," at offset ").concat(n))}var f={data:c,type:i};t[s]==null?t[s]=[f]:t[s].push(f)}return t}function Ln(e){var t=[];return e.forEach(function(r,n){r.forEach(function(s){s.data&&(t.push(er(n*8+s.type)),s.type==2&&t.push(er(s.data.length)),t.push(s.data))})}),Ho(t)}function ri(e){for(var t,r=[],n=[0];n[0]<e.length;){var s=$h(e,n),i=mn(e.slice(n[0],n[0]+s));n[0]+=s;var l={id:Nd(i[1][0].data),messages:[]};i[2].forEach(function(c){var d=mn(c.data),f=Nd(d[3][0].data);l.messages.push({meta:d,data:e.slice(n[0],n[0]+f)}),n[0]+=f}),(t=i[3])!=null&&t[0]&&(l.merge=Nd(i[3][0].data)>>>0>0),r.push(l)}return r}function rd(e){var t=[];return e.forEach(function(r){var n=[];n[1]=[{data:er(r.id),type:0}],n[2]=[],r.merge!=null&&(n[3]=[{data:er(+!!r.merge),type:0}]);var s=[];r.messages.forEach(function(l){s.push(l.data),l.meta[3]=[{type:0,data:er(l.data.length)}],n[2].push({data:Ln(l.meta),type:2})});var i=Ln(n);t.push(er(i.length)),t.push(i),s.forEach(function(l){return t.push(l)})}),Ho(t)}function N2e(e,t){if(e!=0)throw new Error("Unexpected Snappy chunk type ".concat(e));for(var r=[0],n=$h(t,r),s=[];r[0]<t.length;){var i=t[r[0]]&3;if(i==0){var l=t[r[0]++]>>2;if(l<60)++l;else{var c=l-59;l=t[r[0]],c>1&&(l|=t[r[0]+1]<<8),c>2&&(l|=t[r[0]+2]<<16),c>3&&(l|=t[r[0]+3]<<24),l>>>=0,l++,r[0]+=c}s.push(t.slice(r[0],r[0]+l)),r[0]+=l;continue}else{var d=0,f=0;if(i==1?(f=(t[r[0]]>>2&7)+4,d=(t[r[0]++]&224)<<3,d|=t[r[0]++]):(f=(t[r[0]++]>>2)+1,i==2?(d=t[r[0]]|t[r[0]+1]<<8,r[0]+=2):(d=(t[r[0]]|t[r[0]+1]<<8|t[r[0]+2]<<16|t[r[0]+3]<<24)>>>0,r[0]+=4)),s=[Ho(s)],d==0)throw new Error("Invalid offset 0");if(d>s[0].length)throw new Error("Invalid offset beyond length");if(f>=d)for(s.push(s[0].slice(-d)),f-=d;f>=s[s.length-1].length;)s.push(s[s.length-1]),f-=s[s.length-1].length;s.push(s[0].slice(-d,-d+f))}}var h=Ho(s);if(h.length!=n)throw new Error("Unexpected length: ".concat(h.length," != ").concat(n));return h}function ni(e){for(var t=[],r=0;r<e.length;){var n=e[r++],s=e[r]|e[r+1]<<8|e[r+2]<<16;r+=3,t.push(N2e(n,e.slice(r,r+s))),r+=s}if(r!==e.length)throw new Error("data is not a valid framed stream!");return Ho(t)}function nd(e){for(var t=[],r=0;r<e.length;){var n=Math.min(e.length-r,268435455),s=new Uint8Array(4);t.push(s);var i=er(n),l=i.length;t.push(i),n<=60?(l++,t.push(new Uint8Array([n-1<<2]))):n<=256?(l+=2,t.push(new Uint8Array([240,n-1&255]))):n<=65536?(l+=3,t.push(new Uint8Array([244,n-1&255,n-1>>8&255]))):n<=16777216?(l+=4,t.push(new Uint8Array([248,n-1&255,n-1>>8&255,n-1>>16&255]))):n<=4294967296&&(l+=5,t.push(new Uint8Array([252,n-1&255,n-1>>8&255,n-1>>16&255,n-1>>>24&255]))),t.push(e.slice(r,r+n)),l+=n,s[0]=0,s[1]=l&255,s[2]=l>>8&255,s[3]=l>>16&255,r+=n}return Ho(t)}function p2(e,t){var r=new Uint8Array(32),n=Ox(r),s=12,i=0;switch(r[0]=5,e.t){case"n":r[1]=2,j2e(r,s,e.v),i|=1,s+=16;break;case"b":r[1]=6,n.setFloat64(s,e.v?1:0,!0),i|=2,s+=8;break;case"s":if(t.indexOf(e.v)==-1)throw new Error("Value ".concat(e.v," missing from SST!"));r[1]=3,n.setUint32(s,t.indexOf(e.v),!0),i|=8,s+=4;break;default:throw"unsupported cell type "+e.t}return n.setUint32(8,i,!0),r.slice(0,s)}function x2(e,t){var r=new Uint8Array(32),n=Ox(r),s=12,i=0;switch(r[0]=3,e.t){case"n":r[2]=2,n.setFloat64(s,e.v,!0),i|=32,s+=8;break;case"b":r[2]=6,n.setFloat64(s,e.v?1:0,!0),i|=32,s+=8;break;case"s":if(t.indexOf(e.v)==-1)throw new Error("Value ".concat(e.v," missing from SST!"));r[2]=3,n.setUint32(s,t.indexOf(e.v),!0),i|=16,s+=4;break;default:throw"unsupported cell type "+e.t}return n.setUint32(4,i,!0),r.slice(0,s)}function uo(e){var t=mn(e);return $h(t[1][0].data)}function S2e(e,t,r){var n,s,i,l;if(!((n=e[6])!=null&&n[0])||!((s=e[7])!=null&&s[0]))throw"Mutation only works on post-BNC storages!";var c=((l=(i=e[8])==null?void 0:i[0])==null?void 0:l.data)&&Nd(e[8][0].data)>0||!1;if(c)throw"Math only works with normal offsets";for(var d=0,f=Ox(e[7][0].data),h=0,g=[],p=Ox(e[4][0].data),y=0,b=[],w=0;w<t.length;++w){if(t[w]==null){f.setUint16(w*2,65535,!0),p.setUint16(w*2,65535);continue}f.setUint16(w*2,h,!0),p.setUint16(w*2,y,!0);var j,S;switch(typeof t[w]){case"string":j=p2({t:"s",v:t[w]},r),S=x2({t:"s",v:t[w]},r);break;case"number":j=p2({t:"n",v:t[w]},r),S=x2({t:"n",v:t[w]},r);break;case"boolean":j=p2({t:"b",v:t[w]},r),S=x2({t:"b",v:t[w]},r);break;default:throw new Error("Unsupported value "+t[w])}g.push(j),h+=j.length,b.push(S),y+=S.length,++d}for(e[2][0].data=er(d);w<e[7][0].data.length/2;++w)f.setUint16(w*2,65535,!0),p.setUint16(w*2,65535,!0);return e[6][0].data=Ho(g),e[3][0].data=Ho(b),d}function _2e(e,t){if(!t||!t.numbers)throw new Error("Must pass a `numbers` option -- check the README");var r=e.Sheets[e.SheetNames[0]];e.SheetNames.length>1&&console.error("The Numbers writer currently writes only the first table");var n=ps(r["!ref"]);n.s.r=n.s.c=0;var s=!1;n.e.c>9&&(s=!0,n.e.c=9),n.e.r>49&&(s=!0,n.e.r=49),s&&console.error("The Numbers writer is currently limited to ".concat(cn(n)));var i=Dx(r,{range:n,header:1}),l=["~Sh33tJ5~"];i.forEach(function(G){return G.forEach(function(z){typeof z=="string"&&l.push(z)})});var c={},d=[],f=dr.read(t.numbers,{type:"base64"});f.FileIndex.map(function(G,z){return[G,f.FullPaths[z]]}).forEach(function(G){var z=G[0],q=G[1];if(z.type==2&&z.name.match(/\.iwa/)){var de=z.content,De=ni(de),ne=ri(De);ne.forEach(function(le){d.push(le.id),c[le.id]={deps:[],location:q,type:Nd(le.messages[0].meta[1][0].data)}})}}),d.sort(function(G,z){return G-z});var h=d.filter(function(G){return G>1}).map(function(G){return[G,er(G)]});f.FileIndex.map(function(G,z){return[G,f.FullPaths[z]]}).forEach(function(G){var z=G[0];if(G[1],!!z.name.match(/\.iwa/)){var q=ri(ni(z.content));q.forEach(function(de){de.messages.forEach(function(De){h.forEach(function(ne){de.messages.some(function(le){return Nd(le.meta[1][0].data)!=11006&&w2e(le.data,ne[1])})&&c[ne[0]].deps.push(de.id)})})})}});for(var g=dr.find(f,c[1].location),p=ri(ni(g.content)),y,b=0;b<p.length;++b){var w=p[b];w.id==1&&(y=w)}var j=uo(mn(y.messages[0].data)[1][0].data);for(g=dr.find(f,c[j].location),p=ri(ni(g.content)),b=0;b<p.length;++b)w=p[b],w.id==j&&(y=w);for(j=uo(mn(y.messages[0].data)[2][0].data),g=dr.find(f,c[j].location),p=ri(ni(g.content)),b=0;b<p.length;++b)w=p[b],w.id==j&&(y=w);for(j=uo(mn(y.messages[0].data)[2][0].data),g=dr.find(f,c[j].location),p=ri(ni(g.content)),b=0;b<p.length;++b)w=p[b],w.id==j&&(y=w);var S=mn(y.messages[0].data);{S[6][0].data=er(n.e.r+1),S[7][0].data=er(n.e.c+1);var k=uo(S[46][0].data),E=dr.find(f,c[k].location),C=ri(ni(E.content));{for(var T=0;T<C.length&&C[T].id!=k;++T);if(C[T].id!=k)throw"Bad ColumnRowUIDMapArchive";var A=mn(C[T].messages[0].data);A[1]=[],A[2]=[],A[3]=[];for(var O=0;O<=n.e.c;++O){var D=[];D[1]=D[2]=[{type:0,data:er(O+420690)}],A[1].push({type:2,data:Ln(D)}),A[2].push({type:0,data:er(O)}),A[3].push({type:0,data:er(O)})}A[4]=[],A[5]=[],A[6]=[];for(var R=0;R<=n.e.r;++R)D=[],D[1]=D[2]=[{type:0,data:er(R+726270)}],A[4].push({type:2,data:Ln(D)}),A[5].push({type:0,data:er(R)}),A[6].push({type:0,data:er(R)});C[T].messages[0].data=Ln(A)}E.content=nd(rd(C)),E.size=E.content.length,delete S[46];var B=mn(S[4][0].data);{B[7][0].data=er(n.e.r+1);var V=mn(B[1][0].data),W=uo(V[2][0].data);E=dr.find(f,c[W].location),C=ri(ni(E.content));{if(C[0].id!=W)throw"Bad HeaderStorageBucket";var se=mn(C[0].messages[0].data);for(R=0;R<i.length;++R){var oe=mn(se[2][0].data);oe[1][0].data=er(R),oe[4][0].data=er(i[R].length),se[2][R]={type:se[2][0].type,data:Ln(oe)}}C[0].messages[0].data=Ln(se)}E.content=nd(rd(C)),E.size=E.content.length;var Y=uo(B[2][0].data);E=dr.find(f,c[Y].location),C=ri(ni(E.content));{if(C[0].id!=Y)throw"Bad HeaderStorageBucket";for(se=mn(C[0].messages[0].data),O=0;O<=n.e.c;++O)oe=mn(se[2][0].data),oe[1][0].data=er(O),oe[4][0].data=er(n.e.r+1),se[2][O]={type:se[2][0].type,data:Ln(oe)};C[0].messages[0].data=Ln(se)}E.content=nd(rd(C)),E.size=E.content.length;var Q=uo(B[4][0].data);(function(){for(var G=dr.find(f,c[Q].location),z=ri(ni(G.content)),q,de=0;de<z.length;++de){var De=z[de];De.id==Q&&(q=De)}var ne=mn(q.messages[0].data);{ne[3]=[];var le=[];l.forEach(function(pe,xe){le[1]=[{type:0,data:er(xe)}],le[2]=[{type:0,data:er(1)}],le[3]=[{type:2,data:b2e(pe)}],ne[3].push({type:2,data:Ln(le)})})}q.messages[0].data=Ln(ne);var he=rd(z),Le=nd(he);G.content=Le,G.size=G.content.length})();var te=mn(B[3][0].data);{var ue=te[1][0];delete te[2];var ve=mn(ue.data);{var U=uo(ve[2][0].data);(function(){for(var G=dr.find(f,c[U].location),z=ri(ni(G.content)),q,de=0;de<z.length;++de){var De=z[de];De.id==U&&(q=De)}var ne=mn(q.messages[0].data);{delete ne[6],delete te[7];var le=new Uint8Array(ne[5][0].data);ne[5]=[];for(var he=0,Le=0;Le<=n.e.r;++Le){var pe=mn(le);he+=S2e(pe,i[Le],l),pe[1][0].data=er(Le),ne[5].push({data:Ln(pe),type:2})}ne[1]=[{type:0,data:er(n.e.c+1)}],ne[2]=[{type:0,data:er(n.e.r+1)}],ne[3]=[{type:0,data:er(he)}],ne[4]=[{type:0,data:er(n.e.r+1)}]}q.messages[0].data=Ln(ne);var xe=rd(z),$e=nd(xe);G.content=$e,G.size=G.content.length})()}ue.data=Ln(ve)}B[3][0].data=Ln(te)}S[4][0].data=Ln(B)}y.messages[0].data=Ln(S);var ie=rd(p),F=nd(ie);return g.content=F,g.size=g.content.length,f}function k2e(e){return function(r){for(var n=0;n!=e.length;++n){var s=e[n];r[s[0]]===void 0&&(r[s[0]]=s[1]),s[2]==="n"&&(r[s[0]]=Number(r[s[0]]))}}}function Kk(e){k2e([["cellDates",!1],["bookSST",!1],["bookType","xlsx"],["compression",!1],["WTF",!1]])(e)}function E2e(e,t){return t.bookType=="ods"?l$(e,t):t.bookType=="numbers"?_2e(e,t):t.bookType=="xlsb"?T2e(e,t):A2e(e,t)}function T2e(e,t){pd=1024,e&&!e.SSF&&(e.SSF=$a(Wr)),e&&e.SSF&&(Ry(),My(e.SSF),t.revssf=Iy(e.SSF),t.revssf[e.SSF[65535]]=0,t.ssf=e.SSF),t.rels={},t.wbrels={},t.Strings=[],t.Strings.Count=0,t.Strings.Unique=0,nh?t.revStrings=new Map:(t.revStrings={},t.revStrings.foo=[],delete t.revStrings.foo);var r=t.bookType=="xlsb"?"bin":"xml",n=HB.indexOf(t.bookType)>-1,s=yB();Kk(t=t||{});var i=Dk(),l="",c=0;if(t.cellXfs=[],Jo(t.cellXfs,{},{revssf:{General:0}}),e.Props||(e.Props={}),l="docProps/core.xml",jt(i,l,jB(e.Props,t)),s.coreprops.push(l),rr(t.rels,2,l,Bt.CORE_PROPS),l="docProps/app.xml",!(e.Props&&e.Props.SheetNames))if(!e.Workbook||!e.Workbook.Sheets)e.Props.SheetNames=e.SheetNames;else{for(var d=[],f=0;f<e.SheetNames.length;++f)(e.Workbook.Sheets[f]||{}).Hidden!=2&&d.push(e.SheetNames[f]);e.Props.SheetNames=d}for(e.Props.Worksheets=e.Props.SheetNames.length,jt(i,l,SB(e.Props)),s.extprops.push(l),rr(t.rels,3,l,Bt.EXT_PROPS),e.Custprops!==e.Props&&Gn(e.Custprops||{}).length>0&&(l="docProps/custom.xml",jt(i,l,_B(e.Custprops)),s.custprops.push(l),rr(t.rels,4,l,Bt.CUST_PROPS)),c=1;c<=e.SheetNames.length;++c){var h={"!id":{}},g=e.Sheets[e.SheetNames[c-1]],p=(g||{})["!type"]||"sheet";switch(p){case"chart":default:l="xl/worksheets/sheet"+c+"."+r,jt(i,l,Owe(c-1,l,t,e,h)),s.sheets.push(l),rr(t.wbrels,-1,"worksheets/sheet"+c+"."+r,Bt.WS[0])}if(g){var y=g["!comments"],b=!1,w="";y&&y.length>0&&(w="xl/comments"+c+"."+r,jt(i,w,Mwe(y,w)),s.comments.push(w),rr(h,-1,"../comments"+c+"."+r,Bt.CMNT),b=!0),g["!legacy"]&&b&&jt(i,"xl/drawings/vmlDrawing"+c+".vml",UB(c,g["!comments"])),delete g["!comments"],delete g["!legacy"]}h["!id"].rId1&&jt(i,bB(l),wd(h))}return t.Strings!=null&&t.Strings.length>0&&(l="xl/sharedStrings."+r,jt(i,l,Pwe(t.Strings,l,t)),s.strs.push(l),rr(t.wbrels,-1,"sharedStrings."+r,Bt.SST)),l="xl/workbook."+r,jt(i,l,Cwe(e,l)),s.workbooks.push(l),rr(t.rels,1,l,Bt.WB),l="xl/theme/theme1.xml",jt(i,l,BB(e.Themes,t)),s.themes.push(l),rr(t.wbrels,-1,"theme/theme1.xml",Bt.THEME),l="xl/styles."+r,jt(i,l,Dwe(e,l,t)),s.styles.push(l),rr(t.wbrels,-1,"styles."+r,Bt.STY),e.vbaraw&&n&&(l="xl/vbaProject.bin",jt(i,l,e.vbaraw),s.vba.push(l),rr(t.wbrels,-1,"vbaProject.bin",Bt.VBA)),l="xl/metadata."+r,jt(i,l,Rwe(l)),s.metadata.push(l),rr(t.wbrels,-1,"metadata."+r,Bt.XLMETA),jt(i,"[Content_Types].xml",vB(s,t)),jt(i,"_rels/.rels",wd(t.rels)),jt(i,"xl/_rels/workbook."+r+".rels",wd(t.wbrels)),delete t.revssf,delete t.ssf,i}function A2e(e,t){pd=1024,e&&!e.SSF&&(e.SSF=$a(Wr)),e&&e.SSF&&(Ry(),My(e.SSF),t.revssf=Iy(e.SSF),t.revssf[e.SSF[65535]]=0,t.ssf=e.SSF),t.rels={},t.wbrels={},t.Strings=[],t.Strings.Count=0,t.Strings.Unique=0,nh?t.revStrings=new Map:(t.revStrings={},t.revStrings.foo=[],delete t.revStrings.foo);var r="xml",n=HB.indexOf(t.bookType)>-1,s=yB();Kk(t=t||{});var i=Dk(),l="",c=0;if(t.cellXfs=[],Jo(t.cellXfs,{},{revssf:{General:0}}),e.Props||(e.Props={}),l="docProps/core.xml",jt(i,l,jB(e.Props,t)),s.coreprops.push(l),rr(t.rels,2,l,Bt.CORE_PROPS),l="docProps/app.xml",!(e.Props&&e.Props.SheetNames))if(!e.Workbook||!e.Workbook.Sheets)e.Props.SheetNames=e.SheetNames;else{for(var d=[],f=0;f<e.SheetNames.length;++f)(e.Workbook.Sheets[f]||{}).Hidden!=2&&d.push(e.SheetNames[f]);e.Props.SheetNames=d}e.Props.Worksheets=e.Props.SheetNames.length,jt(i,l,SB(e.Props)),s.extprops.push(l),rr(t.rels,3,l,Bt.EXT_PROPS),e.Custprops!==e.Props&&Gn(e.Custprops||{}).length>0&&(l="docProps/custom.xml",jt(i,l,_B(e.Custprops)),s.custprops.push(l),rr(t.rels,4,l,Bt.CUST_PROPS));var h=["SheetJ5"];for(t.tcid=0,c=1;c<=e.SheetNames.length;++c){var g={"!id":{}},p=e.Sheets[e.SheetNames[c-1]],y=(p||{})["!type"]||"sheet";switch(y){case"chart":default:l="xl/worksheets/sheet"+c+"."+r,jt(i,l,ZB(c-1,t,e,g)),s.sheets.push(l),rr(t.wbrels,-1,"worksheets/sheet"+c+"."+r,Bt.WS[0])}if(p){var b=p["!comments"],w=!1,j="";if(b&&b.length>0){var S=!1;b.forEach(function(k){k[1].forEach(function(E){E.T==!0&&(S=!0)})}),S&&(j="xl/threadedComments/threadedComment"+c+"."+r,jt(i,j,ive(b,h,t)),s.threadedcomments.push(j),rr(g,-1,"../threadedComments/threadedComment"+c+"."+r,Bt.TCMNT)),j="xl/comments"+c+"."+r,jt(i,j,zB(b)),s.comments.push(j),rr(g,-1,"../comments"+c+"."+r,Bt.CMNT),w=!0}p["!legacy"]&&w&&jt(i,"xl/drawings/vmlDrawing"+c+".vml",UB(c,p["!comments"])),delete p["!comments"],delete p["!legacy"]}g["!id"].rId1&&jt(i,bB(l),wd(g))}return t.Strings!=null&&t.Strings.length>0&&(l="xl/sharedStrings."+r,jt(i,l,PB(t.Strings,t)),s.strs.push(l),rr(t.wbrels,-1,"sharedStrings."+r,Bt.SST)),l="xl/workbook."+r,jt(i,l,t$(e)),s.workbooks.push(l),rr(t.rels,1,l,Bt.WB),l="xl/theme/theme1.xml",jt(i,l,BB(e.Themes,t)),s.themes.push(l),rr(t.wbrels,-1,"theme/theme1.xml",Bt.THEME),l="xl/styles."+r,jt(i,l,FB(e,t)),s.styles.push(l),rr(t.wbrels,-1,"styles."+r,Bt.STY),e.vbaraw&&n&&(l="xl/vbaProject.bin",jt(i,l,e.vbaraw),s.vba.push(l),rr(t.wbrels,-1,"vbaProject.bin",Bt.VBA)),l="xl/metadata."+r,jt(i,l,$B()),s.metadata.push(l),rr(t.wbrels,-1,"metadata."+r,Bt.XLMETA),h.length>1&&(l="xl/persons/person.xml",jt(i,l,lve(h)),s.people.push(l),rr(t.wbrels,-1,"persons/person.xml",Bt.PEOPLE)),jt(i,"[Content_Types].xml",vB(s,t)),jt(i,"_rels/.rels",wd(t.rels)),jt(i,"xl/_rels/workbook."+r+".rels",wd(t.wbrels)),delete t.revssf,delete t.ssf,i}function C2e(e,t){var r="";switch((t||{}).type||"base64"){case"buffer":return[e[0],e[1],e[2],e[3],e[4],e[5],e[6],e[7]];case"base64":r=Tl(e.slice(0,12));break;case"binary":r=e;break;case"array":return[e[0],e[1],e[2],e[3],e[4],e[5],e[6],e[7]];default:throw new Error("Unrecognized type "+(t&&t.type||"undefined"))}return[r.charCodeAt(0),r.charCodeAt(1),r.charCodeAt(2),r.charCodeAt(3),r.charCodeAt(4),r.charCodeAt(5),r.charCodeAt(6),r.charCodeAt(7)]}function o$(e,t){switch(t.type){case"base64":case"binary":break;case"buffer":case"array":t.type="";break;case"file":return vm(t.file,dr.write(e,{type:Vt?"buffer":""}));case"string":throw new Error("'string' output type invalid for '"+t.bookType+"' files");default:throw new Error("Unrecognized type "+t.type)}return dr.write(e,t)}function O2e(e,t){var r=$a(t||{}),n=E2e(e,r);return D2e(n,r)}function D2e(e,t){var r={},n=Vt?"nodebuffer":typeof Uint8Array<"u"?"array":"string";if(t.compression&&(r.compression="DEFLATE"),t.password)r.type=n;else switch(t.type){case"base64":r.type="base64";break;case"binary":r.type="string";break;case"string":throw new Error("'string' output type invalid for '"+t.bookType+"' files");case"buffer":case"file":r.type=n;break;default:throw new Error("Unrecognized type "+t.type)}var s=e.FullPaths?dr.write(e,{fileType:"zip",type:{nodebuffer:"buffer",string:"binary"}[r.type]||r.type,compression:!!t.compression}):e.generate(r);if(typeof Deno<"u"&&typeof s=="string"){if(t.type=="binary"||t.type=="base64")return s;s=new Uint8Array(Py(s))}return t.password&&typeof encrypt_agile<"u"?o$(encrypt_agile(s,t.password),t):t.type==="file"?vm(t.file,s):t.type=="string"?J0(s):s}function P2e(e,t){var r=t||{},n=Ywe(e,r);return o$(n,r)}function Ti(e,t,r){r||(r="");var n=r+e;switch(t.type){case"base64":return Ih(Lh(n));case"binary":return Lh(n);case"string":return e;case"file":return vm(t.file,n,"utf8");case"buffer":return Vt?Il(n,"utf8"):typeof TextEncoder<"u"?new TextEncoder().encode(n):Ti(n,{type:"binary"}).split("").map(function(s){return s.charCodeAt(0)})}throw new Error("Unrecognized type "+t.type)}function M2e(e,t){switch(t.type){case"base64":return Ih(e);case"binary":return e;case"string":return e;case"file":return vm(t.file,e,"binary");case"buffer":return Vt?Il(e,"binary"):e.split("").map(function(r){return r.charCodeAt(0)})}throw new Error("Unrecognized type "+t.type)}function op(e,t){switch(t.type){case"string":case"base64":case"binary":for(var r="",n=0;n<e.length;++n)r+=String.fromCharCode(e[n]);return t.type=="base64"?Ih(r):t.type=="string"?J0(r):r;case"file":return vm(t.file,e);case"buffer":return e;default:throw new Error("Unrecognized type "+t.type)}}function c$(e,t){ope(),vwe(e);var r=$a(t||{});if(r.cellStyles&&(r.cellNF=!0,r.sheetStubs=!0),r.type=="array"){r.type="binary";var n=c$(e,r);return r.type="array",Py(n)}var s=0;if(r.sheet&&(typeof r.sheet=="number"?s=r.sheet:s=e.SheetNames.indexOf(r.sheet),!e.SheetNames[s]))throw new Error("Sheet not found: "+r.sheet+" : "+typeof r.sheet);switch(r.bookType||"xlsb"){case"xml":case"xlml":return Ti(Gwe(e,r),r);case"slk":case"sylk":return Ti(pye.from_sheet(e.Sheets[e.SheetNames[s]],r),r);case"htm":case"html":return Ti(a$(e.Sheets[e.SheetNames[s]],r),r);case"txt":return M2e(d$(e.Sheets[e.SheetNames[s]],r),r);case"csv":return Ti(Yk(e.Sheets[e.SheetNames[s]],r),r,"\uFEFF");case"dif":return Ti(xye.from_sheet(e.Sheets[e.SheetNames[s]],r),r);case"dbf":return op(gye.from_sheet(e.Sheets[e.SheetNames[s]],r),r);case"prn":return Ti(yye.from_sheet(e.Sheets[e.SheetNames[s]],r),r);case"rtf":return Ti(_ye.from_sheet(e.Sheets[e.SheetNames[s]],r),r);case"eth":return Ti(DB.from_sheet(e.Sheets[e.SheetNames[s]],r),r);case"fods":return Ti(l$(e,r),r);case"wk1":return op(hP.sheet_to_wk1(e.Sheets[e.SheetNames[s]],r),r);case"wk3":return op(hP.book_to_wk3(e,r),r);case"biff2":r.biff||(r.biff=2);case"biff3":r.biff||(r.biff=3);case"biff4":return r.biff||(r.biff=4),op(n$(e,r),r);case"biff5":r.biff||(r.biff=5);case"biff8":case"xla":case"xls":return r.biff||(r.biff=8),P2e(e,r);case"xlsx":case"xlsm":case"xlam":case"xlsb":case"numbers":case"ods":return O2e(e,r);default:throw new Error("Unrecognized bookType |"+r.bookType+"|")}}function R2e(e){if(!e.bookType){var t={xls:"biff8",htm:"html",slk:"sylk",socialcalc:"eth",Sh33tJS:"WTF"},r=e.file.slice(e.file.lastIndexOf(".")).toLowerCase();r.match(/^\.[a-z]+$/)&&(e.bookType=r.slice(1)),e.bookType=t[e.bookType]||e.bookType}}function u$(e,t,r){var n={};return n.type="file",n.file=t,R2e(n),c$(e,n)}function I2e(e,t,r,n,s,i,l,c){var d=Wn(r),f=c.defval,h=c.raw||!Object.prototype.hasOwnProperty.call(c,"raw"),g=!0,p=s===1?[]:{};if(s!==1)if(Object.defineProperty)try{Object.defineProperty(p,"__rowNum__",{value:r,enumerable:!1})}catch{p.__rowNum__=r}else p.__rowNum__=r;if(!l||e[r])for(var y=t.s.c;y<=t.e.c;++y){var b=l?e[r][y]:e[n[y]+d];if(b===void 0||b.t===void 0){if(f===void 0)continue;i[y]!=null&&(p[i[y]]=f);continue}var w=b.v;switch(b.t){case"z":if(w==null)break;continue;case"e":w=w==0?null:void 0;break;case"s":case"d":case"b":case"n":break;default:throw new Error("unrecognized type "+b.t)}if(i[y]!=null){if(w==null)if(b.t=="e"&&w===null)p[i[y]]=null;else if(f!==void 0)p[i[y]]=f;else if(h&&w===null)p[i[y]]=null;else continue;else p[i[y]]=h&&(b.t!=="n"||b.t==="n"&&c.rawNumbers!==!1)?w:Al(b,w,c);w!=null&&(g=!1)}}return{row:p,isempty:g}}function Dx(e,t){if(e==null||e["!ref"]==null)return[];var r={t:"n",v:0},n=0,s=1,i=[],l=0,c="",d={s:{r:0,c:0},e:{r:0,c:0}},f=t||{},h=f.range!=null?f.range:e["!ref"];switch(f.header===1?n=1:f.header==="A"?n=2:Array.isArray(f.header)?n=3:f.header==null&&(n=0),typeof h){case"string":d=Er(h);break;case"number":d=Er(e["!ref"]),d.s.r=h;break;default:d=h}n>0&&(s=0);var g=Wn(d.s.r),p=[],y=[],b=0,w=0,j=Array.isArray(e),S=d.s.r,k=0,E={};j&&!e[S]&&(e[S]=[]);var C=f.skipHidden&&e["!cols"]||[],T=f.skipHidden&&e["!rows"]||[];for(k=d.s.c;k<=d.e.c;++k)if(!(C[k]||{}).hidden)switch(p[k]=aa(k),r=j?e[S][k]:e[p[k]+g],n){case 1:i[k]=k-d.s.c;break;case 2:i[k]=p[k];break;case 3:i[k]=f.header[k-d.s.c];break;default:if(r==null&&(r={w:"__EMPTY",t:"s"}),c=l=Al(r,null,f),w=E[l]||0,!w)E[l]=1;else{do c=l+"_"+w++;while(E[c]);E[l]=w,E[c]=1}i[k]=c}for(S=d.s.r+s;S<=d.e.r;++S)if(!(T[S]||{}).hidden){var A=I2e(e,d,S,p,n,i,j,f);(A.isempty===!1||(n===1?f.blankrows!==!1:f.blankrows))&&(y[b++]=A.row)}return y.length=b,y}var wP=/"/g;function F2e(e,t,r,n,s,i,l,c){for(var d=!0,f=[],h="",g=Wn(r),p=t.s.c;p<=t.e.c;++p)if(n[p]){var y=c.dense?(e[r]||[])[p]:e[n[p]+g];if(y==null)h="";else if(y.v!=null){d=!1,h=""+(c.rawNumbers&&y.t=="n"?y.v:Al(y,null,c));for(var b=0,w=0;b!==h.length;++b)if((w=h.charCodeAt(b))===s||w===i||w===34||c.forceQuotes){h='"'+h.replace(wP,'""')+'"';break}h=="ID"&&(h='"ID"')}else y.f!=null&&!y.F?(d=!1,h="="+y.f,h.indexOf(",")>=0&&(h='"'+h.replace(wP,'""')+'"')):h="";f.push(h)}return c.blankrows===!1&&d?null:f.join(l)}function Yk(e,t){var r=[],n=t??{};if(e==null||e["!ref"]==null)return"";var s=Er(e["!ref"]),i=n.FS!==void 0?n.FS:",",l=i.charCodeAt(0),c=n.RS!==void 0?n.RS:`
`,d=c.charCodeAt(0),f=new RegExp((i=="|"?"\\|":i)+"+$"),h="",g=[];n.dense=Array.isArray(e);for(var p=n.skipHidden&&e["!cols"]||[],y=n.skipHidden&&e["!rows"]||[],b=s.s.c;b<=s.e.c;++b)(p[b]||{}).hidden||(g[b]=aa(b));for(var w=0,j=s.s.r;j<=s.e.r;++j)(y[j]||{}).hidden||(h=F2e(e,s,j,g,l,d,i,n),h!=null&&(n.strip&&(h=h.replace(f,"")),(h||n.blankrows!==!1)&&r.push((w++?c:"")+h)));return delete n.dense,r.join("")}function d$(e,t){t||(t={}),t.FS="	",t.RS=`
`;var r=Yk(e,t);return r}function L2e(e){var t="",r,n="";if(e==null||e["!ref"]==null)return[];var s=Er(e["!ref"]),i="",l=[],c,d=[],f=Array.isArray(e);for(c=s.s.c;c<=s.e.c;++c)l[c]=aa(c);for(var h=s.s.r;h<=s.e.r;++h)for(i=Wn(h),c=s.s.c;c<=s.e.c;++c)if(t=l[c]+i,r=f?(e[h]||[])[c]:e[t],n="",r!==void 0){if(r.F!=null){if(t=r.F,!r.f)continue;n=r.f,t.indexOf(":")==-1&&(t=t+":"+t)}if(r.f!=null)n=r.f;else{if(r.t=="z")continue;if(r.t=="n"&&r.v!=null)n=""+r.v;else if(r.t=="b")n=r.v?"TRUE":"FALSE";else if(r.w!==void 0)n="'"+r.w;else{if(r.v===void 0)continue;r.t=="s"?n="'"+r.v:n=""+r.v}}d[d.length]=t+"="+n}return d}function f$(e,t,r){var n=r||{},s=+!n.skipHeader,i=e||{},l=0,c=0;if(i&&n.origin!=null)if(typeof n.origin=="number")l=n.origin;else{var d=typeof n.origin=="string"?_n(n.origin):n.origin;l=d.r,c=d.c}var f,h={s:{c:0,r:0},e:{c,r:l+t.length-1+s}};if(i["!ref"]){var g=Er(i["!ref"]);h.e.c=Math.max(h.e.c,g.e.c),h.e.r=Math.max(h.e.r,g.e.r),l==-1&&(l=g.e.r+1,h.e.r=l+t.length-1+s)}else l==-1&&(l=0,h.e.r=t.length-1+s);var p=n.header||[],y=0;t.forEach(function(w,j){Gn(w).forEach(function(S){(y=p.indexOf(S))==-1&&(p[y=p.length]=S);var k=w[S],E="z",C="",T=sr({c:c+y,r:l+j+s});f=Uh(i,T),k&&typeof k=="object"&&!(k instanceof Date)?i[T]=k:(typeof k=="number"?E="n":typeof k=="boolean"?E="b":typeof k=="string"?E="s":k instanceof Date?(E="d",n.cellDates||(E="n",k=Ba(k)),C=n.dateNF||Wr[14]):k===null&&n.nullError&&(E="e",k=0),f?(f.t=E,f.v=k,delete f.w,delete f.R,C&&(f.z=C)):i[T]=f={t:E,v:k},C&&(f.z=C))})}),h.e.c=Math.max(h.e.c,c+p.length-1);var b=Wn(l);if(s)for(y=0;y<p.length;++y)i[aa(y+c)+b]={t:"s",v:p[y]};return i["!ref"]=cn(h),i}function B2e(e,t){return f$(null,e,t)}function Uh(e,t,r){if(typeof t=="string"){if(Array.isArray(e)){var n=_n(t);return e[n.r]||(e[n.r]=[]),e[n.r][n.c]||(e[n.r][n.c]={t:"z"})}return e[t]||(e[t]={t:"z"})}return typeof t!="number"?Uh(e,sr(t)):Uh(e,sr({r:t,c:r||0}))}function $2e(e,t){if(typeof t=="number"){if(t>=0&&e.SheetNames.length>t)return t;throw new Error("Cannot find sheet # "+t)}else if(typeof t=="string"){var r=e.SheetNames.indexOf(t);if(r>-1)return r;throw new Error("Cannot find sheet name |"+t+"|")}else throw new Error("Cannot find sheet |"+t+"|")}function U2e(){return{SheetNames:[],Sheets:{}}}function z2e(e,t,r,n){var s=1;if(!r)for(;s<=65535&&e.SheetNames.indexOf(r="Sheet"+s)!=-1;++s,r=void 0);if(!r||e.SheetNames.length>=65535)throw new Error("Too many worksheets");if(n&&e.SheetNames.indexOf(r)>=0){var i=r.match(/(^.*?)(\d+)$/);s=i&&+i[2]||0;var l=i&&i[1]||r;for(++s;s<=65535&&e.SheetNames.indexOf(r=l+s)!=-1;++s);}if(e$(r),e.SheetNames.indexOf(r)>=0)throw new Error("Worksheet with name |"+r+"| already exists!");return e.SheetNames.push(r),e.Sheets[r]=t,r}function H2e(e,t,r){e.Workbook||(e.Workbook={}),e.Workbook.Sheets||(e.Workbook.Sheets=[]);var n=$2e(e,t);switch(e.Workbook.Sheets[n]||(e.Workbook.Sheets[n]={}),r){case 0:case 1:case 2:break;default:throw new Error("Bad sheet visibility setting "+r)}e.Workbook.Sheets[n].Hidden=r}function V2e(e,t){return e.z=t,e}function h$(e,t,r){return t?(e.l={Target:t},r&&(e.l.Tooltip=r)):delete e.l,e}function q2e(e,t,r){return h$(e,"#"+t,r)}function W2e(e,t,r){e.c||(e.c=[]),e.c.push({t,a:r||"SheetJS"})}function G2e(e,t,r,n){for(var s=typeof t!="string"?t:Er(t),i=typeof t=="string"?t:cn(t),l=s.s.r;l<=s.e.r;++l)for(var c=s.s.c;c<=s.e.c;++c){var d=Uh(e,l,c);d.t="n",d.F=i,delete d.v,l==s.s.r&&c==s.s.c&&(d.f=r,n&&(d.D=!0))}return e}var Sd={encode_col:aa,encode_row:Wn,encode_cell:sr,encode_range:cn,decode_col:Lk,decode_row:Fk,split_cell:oxe,decode_cell:_n,decode_range:ps,format_cell:Al,sheet_add_aoa:fB,sheet_add_json:f$,sheet_add_dom:s$,aoa_to_sheet:uf,json_to_sheet:B2e,table_to_sheet:i$,table_to_book:x2e,sheet_to_csv:Yk,sheet_to_txt:d$,sheet_to_json:Dx,sheet_to_html:a$,sheet_to_formulae:L2e,sheet_to_row_object_array:Dx,sheet_get_cell:Uh,book_new:U2e,book_append_sheet:z2e,book_set_sheet_visibility:H2e,cell_set_number_format:V2e,cell_set_hyperlink:h$,cell_set_internal_link:q2e,cell_add_comment:W2e,sheet_set_array_formula:G2e,consts:{SHEET_VISIBLE:0,SHEET_HIDDEN:1,SHEET_VERY_HIDDEN:2}};const m$="lead_utm_attribution";function K2e(e){const t=new URLSearchParams(e.startsWith("?")?e:`?${e}`),r={};return t.forEach((n,s)=>{r[s]=n}),r}function jP(e,t){try{const r=new URL(e),n=K2e(r.search),s={utm_source:n.utm_source||void 0,utm_medium:n.utm_medium||void 0,utm_campaign:n.utm_campaign||void 0,utm_term:n.utm_term||void 0,utm_content:n.utm_content||void 0,referrer_url:t||void 0,landing_page_url:r.origin+r.pathname+(r.search||""),gclid:n.gclid||void 0,fbclid:n.fbclid||void 0};return Object.values(s).some(l=>typeof l=="string"&&l.length>0)?(localStorage.setItem(m$,JSON.stringify(s)),s):null}catch{return null}}function g$(){try{const e=localStorage.getItem(m$);return e?JSON.parse(e):null}catch{return null}}async function ld(){return Ee("/api/leads")}async function Y2e(e){return Ee(`/api/leads/${e}`)}async function X2e(e){const t=g$()||{};return Ee("/api/leads",{method:"POST",body:JSON.stringify({...t,...e})})}async function Q2e(e,t){return Ee(`/api/leads/${e}`,{method:"PUT",body:JSON.stringify(t)})}async function Z2e(e){return Ee(`/api/leads/${e}`,{method:"DELETE"})}async function J2e(e,t){return Ee(`/api/leads/${e}/convert-to-deal`,{method:"POST",body:JSON.stringify({title:`Deal from Lead ${e}`,description:"Deal converted from lead",value:0})})}async function eje(e,t){return Ee(`/api/contacts/${e}/convert-to-lead`,{method:"POST",body:JSON.stringify(t||{title:`Lead from Contact ${e}`,status:"new",source:"contact_conversion",score:50})})}async function tje(){const e=await fetch(`${Rc}/api/leads/score-all`,{method:"POST",headers:{"Content-Type":"application/json"}});if(!e.ok)throw new Error("Failed to score all leads");return e.json()}async function rje(){const e=await fetch(`${Rc}/api/leads/scoring-analytics`);if(!e.ok)throw new Error("Failed to get scoring analytics");return e.json()}function nje(e){return e>=80?"text-red-600 bg-red-100":e>=60?"text-orange-600 bg-orange-100":e>=40?"text-yellow-600 bg-yellow-100":"text-gray-600 bg-gray-100"}function aje(e){return e>=80?"Hot Lead":e>=60?"Warm Lead":e>=40?"Lukewarm Lead":"Cold Lead"}var sje=Object.defineProperty,ije=(e,t,r)=>t in e?sje(e,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):e[t]=r,y2=(e,t,r)=>(ije(e,typeof t!="symbol"?t+"":t,r),r);let lje=class{constructor(){y2(this,"current",this.detect()),y2(this,"handoffState","pending"),y2(this,"currentId",0)}set(t){this.current!==t&&(this.handoffState="pending",this.currentId=0,this.current=t)}reset(){this.set(this.detect())}nextId(){return++this.currentId}get isServer(){return this.current==="server"}get isClient(){return this.current==="client"}detect(){return typeof window>"u"||typeof document>"u"?"server":"client"}handoff(){this.handoffState==="pending"&&(this.handoffState="complete")}get isHandoffComplete(){return this.handoffState==="complete"}},vl=new lje;function Uy(e){var t,r;return vl.isServer?null:e?"ownerDocument"in e?e.ownerDocument:"current"in e?(r=(t=e.current)==null?void 0:t.ownerDocument)!=null?r:document:null:document}function zy(e){typeof queueMicrotask=="function"?queueMicrotask(e):Promise.resolve().then(e).catch(t=>setTimeout(()=>{throw t}))}function Fl(){let e=[],t={addEventListener(r,n,s,i){return r.addEventListener(n,s,i),t.add(()=>r.removeEventListener(n,s,i))},requestAnimationFrame(...r){let n=requestAnimationFrame(...r);return t.add(()=>cancelAnimationFrame(n))},nextFrame(...r){return t.requestAnimationFrame(()=>t.requestAnimationFrame(...r))},setTimeout(...r){let n=setTimeout(...r);return t.add(()=>clearTimeout(n))},microTask(...r){let n={current:!0};return zy(()=>{n.current&&r[0]()}),t.add(()=>{n.current=!1})},style(r,n,s){let i=r.style.getPropertyValue(n);return Object.assign(r.style,{[n]:s}),this.add(()=>{Object.assign(r.style,{[n]:i})})},group(r){let n=Fl();return r(n),this.add(()=>n.dispose())},add(r){return e.includes(r)||e.push(r),()=>{let n=e.indexOf(r);if(n>=0)for(let s of e.splice(n,1))s()}},dispose(){for(let r of e.splice(0))r()}};return t}function Hy(){let[e]=v.useState(Fl);return v.useEffect(()=>()=>e.dispose(),[e]),e}let Fa=(e,t)=>{vl.isServer?v.useEffect(e,t):v.useLayoutEffect(e,t)};function ju(e){let t=v.useRef(e);return Fa(()=>{t.current=e},[e]),t}let pr=function(e){let t=ju(e);return Qe.useCallback((...r)=>t.current(...r),[t])};function Sm(e){return v.useMemo(()=>e,Object.values(e))}let oje=v.createContext(void 0);function cje(){return v.useContext(oje)}function bN(...e){return Array.from(new Set(e.flatMap(t=>typeof t=="string"?t.split(" "):[]))).filter(Boolean).join(" ")}function Cl(e,t,...r){if(e in t){let s=t[e];return typeof s=="function"?s(...r):s}let n=new Error(`Tried to handle "${e}" but there is no handler defined. Only defined handlers are: ${Object.keys(t).map(s=>`"${s}"`).join(", ")}.`);throw Error.captureStackTrace&&Error.captureStackTrace(n,Cl),n}var Px=(e=>(e[e.None=0]="None",e[e.RenderStrategy=1]="RenderStrategy",e[e.Static=2]="Static",e))(Px||{}),wo=(e=>(e[e.Unmount=0]="Unmount",e[e.Hidden=1]="Hidden",e))(wo||{});function Xs(){let e=dje();return v.useCallback(t=>uje({mergeRefs:e,...t}),[e])}function uje({ourProps:e,theirProps:t,slot:r,defaultTag:n,features:s,visible:i=!0,name:l,mergeRefs:c}){c=c??fje;let d=p$(t,e);if(i)return cp(d,r,n,l,c);let f=s??0;if(f&2){let{static:h=!1,...g}=d;if(h)return cp(g,r,n,l,c)}if(f&1){let{unmount:h=!0,...g}=d;return Cl(h?0:1,{0(){return null},1(){return cp({...g,hidden:!0,style:{display:"none"}},r,n,l,c)}})}return cp(d,r,n,l,c)}function cp(e,t={},r,n,s){let{as:i=r,children:l,refName:c="ref",...d}=v2(e,["unmount","static"]),f=e.ref!==void 0?{[c]:e.ref}:{},h=typeof l=="function"?l(t):l;"className"in d&&d.className&&typeof d.className=="function"&&(d.className=d.className(t)),d["aria-labelledby"]&&d["aria-labelledby"]===d.id&&(d["aria-labelledby"]=void 0);let g={};if(t){let p=!1,y=[];for(let[b,w]of Object.entries(t))typeof w=="boolean"&&(p=!0),w===!0&&y.push(b.replace(/([A-Z])/g,j=>`-${j.toLowerCase()}`));if(p){g["data-headlessui-state"]=y.join(" ");for(let b of y)g[`data-${b}`]=""}}if(ah(i)&&(Object.keys(Tc(d)).length>0||Object.keys(Tc(g)).length>0))if(!v.isValidElement(h)||Array.isArray(h)&&h.length>1||mje(h)){if(Object.keys(Tc(d)).length>0)throw new Error(['Passing props on "Fragment"!',"",`The current component <${n} /> is rendering a "Fragment".`,"However we need to passthrough the following props:",Object.keys(Tc(d)).concat(Object.keys(Tc(g))).map(p=>`  - ${p}`).join(`
`),"","You can apply a few solutions:",['Add an `as="..."` prop, to ensure that we render an actual element instead of a "Fragment".',"Render a single element as the child so that we can forward the props onto that element."].map(p=>`  - ${p}`).join(`
`)].join(`
`))}else{let p=h.props,y=p?.className,b=typeof y=="function"?(...S)=>bN(y(...S),d.className):bN(y,d.className),w=b?{className:b}:{},j=p$(h.props,Tc(v2(d,["ref"])));for(let S in g)S in j&&delete g[S];return v.cloneElement(h,Object.assign({},j,g,f,{ref:s(hje(h),f.ref)},w))}return v.createElement(i,Object.assign({},v2(d,["ref"]),!ah(i)&&f,!ah(i)&&g),h)}function dje(){let e=v.useRef([]),t=v.useCallback(r=>{for(let n of e.current)n!=null&&(typeof n=="function"?n(r):n.current=r)},[]);return(...r)=>{if(!r.every(n=>n==null))return e.current=r,t}}function fje(...e){return e.every(t=>t==null)?void 0:t=>{for(let r of e)r!=null&&(typeof r=="function"?r(t):r.current=t)}}function p$(...e){if(e.length===0)return{};if(e.length===1)return e[0];let t={},r={};for(let n of e)for(let s in n)s.startsWith("on")&&typeof n[s]=="function"?(r[s]!=null||(r[s]=[]),r[s].push(n[s])):t[s]=n[s];if(t.disabled||t["aria-disabled"])for(let n in r)/^(on(?:Click|Pointer|Mouse|Key)(?:Down|Up|Press)?)$/.test(n)&&(r[n]=[s=>{var i;return(i=s?.preventDefault)==null?void 0:i.call(s)}]);for(let n in r)Object.assign(t,{[n](s,...i){let l=r[n];for(let c of l){if((s instanceof Event||s?.nativeEvent instanceof Event)&&s.defaultPrevented)return;c(s,...i)}}});return t}function Ua(e){var t;return Object.assign(v.forwardRef(e),{displayName:(t=e.displayName)!=null?t:e.name})}function Tc(e){let t=Object.assign({},e);for(let r in t)t[r]===void 0&&delete t[r];return t}function v2(e,t=[]){let r=Object.assign({},e);for(let n of t)n in r&&delete r[n];return r}function hje(e){return Qe.version.split(".")[0]>="19"?e.props.ref:e.ref}function ah(e){return e===v.Fragment||e===Symbol.for("react.fragment")}function mje(e){return ah(e.type)}let gje="span";var Mx=(e=>(e[e.None=1]="None",e[e.Focusable=2]="Focusable",e[e.Hidden=4]="Hidden",e))(Mx||{});function pje(e,t){var r;let{features:n=1,...s}=e,i={ref:t,"aria-hidden":(n&2)===2?!0:(r=s["aria-hidden"])!=null?r:void 0,hidden:(n&4)===4?!0:void 0,style:{position:"fixed",top:1,left:1,width:1,height:0,padding:0,margin:-1,overflow:"hidden",clip:"rect(0, 0, 0, 0)",whiteSpace:"nowrap",borderWidth:"0",...(n&4)===4&&(n&2)!==2&&{display:"none"}}};return Xs()({ourProps:i,theirProps:s,slot:{},defaultTag:gje,name:"Hidden"})}let wN=Ua(pje);function xje(e){return typeof e!="object"||e===null?!1:"nodeType"in e}function Eo(e){return xje(e)&&"tagName"in e}function cu(e){return Eo(e)&&"accessKey"in e}function jo(e){return Eo(e)&&"tabIndex"in e}function yje(e){return Eo(e)&&"style"in e}function vje(e){return cu(e)&&e.nodeName==="IFRAME"}function bje(e){return cu(e)&&e.nodeName==="INPUT"}let x$=Symbol();function wje(e,t=!0){return Object.assign(e,{[x$]:t})}function Hi(...e){let t=v.useRef(e);v.useEffect(()=>{t.current=e},[e]);let r=pr(n=>{for(let s of t.current)s!=null&&(typeof s=="function"?s(n):s.current=n)});return e.every(n=>n==null||n?.[x$])?void 0:r}let Xk=v.createContext(null);Xk.displayName="DescriptionContext";function y$(){let e=v.useContext(Xk);if(e===null){let t=new Error("You used a <Description /> component, but it is not inside a relevant parent.");throw Error.captureStackTrace&&Error.captureStackTrace(t,y$),t}return e}function jje(){let[e,t]=v.useState([]);return[e.length>0?e.join(" "):void 0,v.useMemo(()=>function(r){let n=pr(i=>(t(l=>[...l,i]),()=>t(l=>{let c=l.slice(),d=c.indexOf(i);return d!==-1&&c.splice(d,1),c}))),s=v.useMemo(()=>({register:n,slot:r.slot,name:r.name,props:r.props,value:r.value}),[n,r.slot,r.name,r.props,r.value]);return Qe.createElement(Xk.Provider,{value:s},r.children)},[t])]}let Nje="p";function Sje(e,t){let r=v.useId(),n=cje(),{id:s=`headlessui-description-${r}`,...i}=e,l=y$(),c=Hi(t);Fa(()=>l.register(s),[s,l.register]);let d=Sm({...l.slot,disabled:n||!1}),f={ref:c,...l.props,id:s};return Xs()({ourProps:f,theirProps:i,slot:d,defaultTag:Nje,name:l.name||"Description"})}let _je=Ua(Sje),kje=Object.assign(_je,{});var v$=(e=>(e.Space=" ",e.Enter="Enter",e.Escape="Escape",e.Backspace="Backspace",e.Delete="Delete",e.ArrowLeft="ArrowLeft",e.ArrowUp="ArrowUp",e.ArrowRight="ArrowRight",e.ArrowDown="ArrowDown",e.Home="Home",e.End="End",e.PageUp="PageUp",e.PageDown="PageDown",e.Tab="Tab",e))(v$||{});let Eje=v.createContext(()=>{});function Tje({value:e,children:t}){return Qe.createElement(Eje.Provider,{value:e},t)}let b$=class extends Map{constructor(t){super(),this.factory=t}get(t){let r=super.get(t);return r===void 0&&(r=this.factory(t),this.set(t,r)),r}};var Aje=Object.defineProperty,Cje=(e,t,r)=>t in e?Aje(e,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):e[t]=r,Oje=(e,t,r)=>(Cje(e,t+"",r),r),w$=(e,t,r)=>{if(!t.has(e))throw TypeError("Cannot "+r)},Cs=(e,t,r)=>(w$(e,t,"read from private field"),r?r.call(e):t.get(e)),b2=(e,t,r)=>{if(t.has(e))throw TypeError("Cannot add the same private member more than once");t instanceof WeakSet?t.add(e):t.set(e,r)},NP=(e,t,r,n)=>(w$(e,t,"write to private field"),t.set(e,r),r),Ai,$0,U0;let Dje=class{constructor(t){b2(this,Ai,{}),b2(this,$0,new b$(()=>new Set)),b2(this,U0,new Set),Oje(this,"disposables",Fl()),NP(this,Ai,t),vl.isServer&&this.disposables.microTask(()=>{this.dispose()})}dispose(){this.disposables.dispose()}get state(){return Cs(this,Ai)}subscribe(t,r){if(vl.isServer)return()=>{};let n={selector:t,callback:r,current:t(Cs(this,Ai))};return Cs(this,U0).add(n),this.disposables.add(()=>{Cs(this,U0).delete(n)})}on(t,r){return vl.isServer?()=>{}:(Cs(this,$0).get(t).add(r),this.disposables.add(()=>{Cs(this,$0).get(t).delete(r)}))}send(t){let r=this.reduce(Cs(this,Ai),t);if(r!==Cs(this,Ai)){NP(this,Ai,r);for(let n of Cs(this,U0)){let s=n.selector(Cs(this,Ai));j$(n.current,s)||(n.current=s,n.callback(s))}for(let n of Cs(this,$0).get(t.type))n(Cs(this,Ai),t)}}};Ai=new WeakMap,$0=new WeakMap,U0=new WeakMap;function j$(e,t){return Object.is(e,t)?!0:typeof e!="object"||e===null||typeof t!="object"||t===null?!1:Array.isArray(e)&&Array.isArray(t)?e.length!==t.length?!1:w2(e[Symbol.iterator](),t[Symbol.iterator]()):e instanceof Map&&t instanceof Map||e instanceof Set&&t instanceof Set?e.size!==t.size?!1:w2(e.entries(),t.entries()):SP(e)&&SP(t)?w2(Object.entries(e)[Symbol.iterator](),Object.entries(t)[Symbol.iterator]()):!1}function w2(e,t){do{let r=e.next(),n=t.next();if(r.done&&n.done)return!0;if(r.done||n.done||!Object.is(r.value,n.value))return!1}while(!0)}function SP(e){if(Object.prototype.toString.call(e)!=="[object Object]")return!1;let t=Object.getPrototypeOf(e);return t===null||Object.getPrototypeOf(t)===null}var Pje=Object.defineProperty,Mje=(e,t,r)=>t in e?Pje(e,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):e[t]=r,_P=(e,t,r)=>(Mje(e,typeof t!="symbol"?t+"":t,r),r),Rje=(e=>(e[e.Push=0]="Push",e[e.Pop=1]="Pop",e))(Rje||{});let Ije={0(e,t){let r=t.id,n=e.stack,s=e.stack.indexOf(r);if(s!==-1){let i=e.stack.slice();return i.splice(s,1),i.push(r),n=i,{...e,stack:n}}return{...e,stack:[...e.stack,r]}},1(e,t){let r=t.id,n=e.stack.indexOf(r);if(n===-1)return e;let s=e.stack.slice();return s.splice(n,1),{...e,stack:s}}},Fje=class N$ extends Dje{constructor(){super(...arguments),_P(this,"actions",{push:t=>this.send({type:0,id:t}),pop:t=>this.send({type:1,id:t})}),_P(this,"selectors",{isTop:(t,r)=>t.stack[t.stack.length-1]===r,inStack:(t,r)=>t.stack.includes(r)})}static new(){return new N$({stack:[]})}reduce(t,r){return Cl(r.type,Ije,t,r)}};const S$=new b$(()=>Fje.new());function _$(e,t,r=j$){return yme.useSyncExternalStoreWithSelector(pr(n=>e.subscribe(Lje,n)),pr(()=>e.state),pr(()=>e.state),pr(t),r)}function Lje(e){return e}function _m(e,t){let r=v.useId(),n=S$.get(t),[s,i]=_$(n,v.useCallback(l=>[n.selectors.isTop(l,r),n.selectors.inStack(l,r)],[n,r]));return Fa(()=>{if(e)return n.actions.push(r),()=>n.actions.pop(r)},[n,e,r]),e?i?s:!0:!1}let jN=new Map,sh=new Map;function kP(e){var t;let r=(t=sh.get(e))!=null?t:0;return sh.set(e,r+1),r!==0?()=>EP(e):(jN.set(e,{"aria-hidden":e.getAttribute("aria-hidden"),inert:e.inert}),e.setAttribute("aria-hidden","true"),e.inert=!0,()=>EP(e))}function EP(e){var t;let r=(t=sh.get(e))!=null?t:1;if(r===1?sh.delete(e):sh.set(e,r-1),r!==1)return;let n=jN.get(e);n&&(n["aria-hidden"]===null?e.removeAttribute("aria-hidden"):e.setAttribute("aria-hidden",n["aria-hidden"]),e.inert=n.inert,jN.delete(e))}function Bje(e,{allowed:t,disallowed:r}={}){let n=_m(e,"inert-others");Fa(()=>{var s,i;if(!n)return;let l=Fl();for(let d of(s=r?.())!=null?s:[])d&&l.add(kP(d));let c=(i=t?.())!=null?i:[];for(let d of c){if(!d)continue;let f=Uy(d);if(!f)continue;let h=d.parentElement;for(;h&&h!==f.body;){for(let g of h.children)c.some(p=>g.contains(p))||l.add(kP(g));h=h.parentElement}}return l.dispose},[n,t,r])}function $je(e,t,r){let n=ju(s=>{let i=s.getBoundingClientRect();i.x===0&&i.y===0&&i.width===0&&i.height===0&&r()});v.useEffect(()=>{if(!e)return;let s=t===null?null:cu(t)?t:t.current;if(!s)return;let i=Fl();if(typeof ResizeObserver<"u"){let l=new ResizeObserver(()=>n.current(s));l.observe(s),i.add(()=>l.disconnect())}if(typeof IntersectionObserver<"u"){let l=new IntersectionObserver(()=>n.current(s));l.observe(s),i.add(()=>l.disconnect())}return()=>i.dispose()},[t,n,e])}let Rx=["[contentEditable=true]","[tabindex]","a[href]","area[href]","button:not([disabled])","iframe","input:not([disabled])","select:not([disabled])","details>summary","textarea:not([disabled])"].map(e=>`${e}:not([tabindex='-1'])`).join(","),Uje=["[data-autofocus]"].map(e=>`${e}:not([tabindex='-1'])`).join(",");var ol=(e=>(e[e.First=1]="First",e[e.Previous=2]="Previous",e[e.Next=4]="Next",e[e.Last=8]="Last",e[e.WrapAround=16]="WrapAround",e[e.NoScroll=32]="NoScroll",e[e.AutoFocus=64]="AutoFocus",e))(ol||{}),NN=(e=>(e[e.Error=0]="Error",e[e.Overflow=1]="Overflow",e[e.Success=2]="Success",e[e.Underflow=3]="Underflow",e))(NN||{}),zje=(e=>(e[e.Previous=-1]="Previous",e[e.Next=1]="Next",e))(zje||{});function Hje(e=document.body){return e==null?[]:Array.from(e.querySelectorAll(Rx)).sort((t,r)=>Math.sign((t.tabIndex||Number.MAX_SAFE_INTEGER)-(r.tabIndex||Number.MAX_SAFE_INTEGER)))}function Vje(e=document.body){return e==null?[]:Array.from(e.querySelectorAll(Uje)).sort((t,r)=>Math.sign((t.tabIndex||Number.MAX_SAFE_INTEGER)-(r.tabIndex||Number.MAX_SAFE_INTEGER)))}var k$=(e=>(e[e.Strict=0]="Strict",e[e.Loose=1]="Loose",e))(k$||{});function qje(e,t=0){var r;return e===((r=Uy(e))==null?void 0:r.body)?!1:Cl(t,{0(){return e.matches(Rx)},1(){let n=e;for(;n!==null;){if(n.matches(Rx))return!0;n=n.parentElement}return!1}})}var Wje=(e=>(e[e.Keyboard=0]="Keyboard",e[e.Mouse=1]="Mouse",e))(Wje||{});typeof window<"u"&&typeof document<"u"&&(document.addEventListener("keydown",e=>{e.metaKey||e.altKey||e.ctrlKey||(document.documentElement.dataset.headlessuiFocusVisible="")},!0),document.addEventListener("click",e=>{e.detail===1?delete document.documentElement.dataset.headlessuiFocusVisible:e.detail===0&&(document.documentElement.dataset.headlessuiFocusVisible="")},!0));function bl(e){e?.focus({preventScroll:!0})}let Gje=["textarea","input"].join(",");function Kje(e){var t,r;return(r=(t=e?.matches)==null?void 0:t.call(e,Gje))!=null?r:!1}function Yje(e,t=r=>r){return e.slice().sort((r,n)=>{let s=t(r),i=t(n);if(s===null||i===null)return 0;let l=s.compareDocumentPosition(i);return l&Node.DOCUMENT_POSITION_FOLLOWING?-1:l&Node.DOCUMENT_POSITION_PRECEDING?1:0})}function ih(e,t,{sorted:r=!0,relativeTo:n=null,skipElements:s=[]}={}){let i=Array.isArray(e)?e.length>0?e[0].ownerDocument:document:e.ownerDocument,l=Array.isArray(e)?r?Yje(e):e:t&64?Vje(e):Hje(e);s.length>0&&l.length>1&&(l=l.filter(y=>!s.some(b=>b!=null&&"current"in b?b?.current===y:b===y))),n=n??i.activeElement;let c=(()=>{if(t&5)return 1;if(t&10)return-1;throw new Error("Missing Focus.First, Focus.Previous, Focus.Next or Focus.Last")})(),d=(()=>{if(t&1)return 0;if(t&2)return Math.max(0,l.indexOf(n))-1;if(t&4)return Math.max(0,l.indexOf(n))+1;if(t&8)return l.length-1;throw new Error("Missing Focus.First, Focus.Previous, Focus.Next or Focus.Last")})(),f=t&32?{preventScroll:!0}:{},h=0,g=l.length,p;do{if(h>=g||h+g<=0)return 0;let y=d+h;if(t&16)y=(y+g)%g;else{if(y<0)return 3;if(y>=g)return 1}p=l[y],p?.focus(f),h+=c}while(p!==i.activeElement);return t&6&&Kje(p)&&p.select(),2}function E$(){return/iPhone/gi.test(window.navigator.platform)||/Mac/gi.test(window.navigator.platform)&&window.navigator.maxTouchPoints>0}function Xje(){return/Android/gi.test(window.navigator.userAgent)}function TP(){return E$()||Xje()}function up(e,t,r,n){let s=ju(r);v.useEffect(()=>{if(!e)return;function i(l){s.current(l)}return document.addEventListener(t,i,n),()=>document.removeEventListener(t,i,n)},[e,t,n])}function T$(e,t,r,n){let s=ju(r);v.useEffect(()=>{if(!e)return;function i(l){s.current(l)}return window.addEventListener(t,i,n),()=>window.removeEventListener(t,i,n)},[e,t,n])}const AP=30;function Qje(e,t,r){let n=ju(r),s=v.useCallback(function(c,d){if(c.defaultPrevented)return;let f=d(c);if(f===null||!f.getRootNode().contains(f)||!f.isConnected)return;let h=function g(p){return typeof p=="function"?g(p()):Array.isArray(p)||p instanceof Set?p:[p]}(t);for(let g of h)if(g!==null&&(g.contains(f)||c.composed&&c.composedPath().includes(g)))return;return!qje(f,k$.Loose)&&f.tabIndex!==-1&&c.preventDefault(),n.current(c,f)},[n,t]),i=v.useRef(null);up(e,"pointerdown",c=>{var d,f;TP()||(i.current=((f=(d=c.composedPath)==null?void 0:d.call(c))==null?void 0:f[0])||c.target)},!0),up(e,"pointerup",c=>{if(TP()||!i.current)return;let d=i.current;return i.current=null,s(c,()=>d)},!0);let l=v.useRef({x:0,y:0});up(e,"touchstart",c=>{l.current.x=c.touches[0].clientX,l.current.y=c.touches[0].clientY},!0),up(e,"touchend",c=>{let d={x:c.changedTouches[0].clientX,y:c.changedTouches[0].clientY};if(!(Math.abs(d.x-l.current.x)>=AP||Math.abs(d.y-l.current.y)>=AP))return s(c,()=>jo(c.target)?c.target:null)},!0),T$(e,"blur",c=>s(c,()=>vje(window.document.activeElement)?window.document.activeElement:null),!0)}function Vy(...e){return v.useMemo(()=>Uy(...e),[...e])}function A$(e,t,r,n){let s=ju(r);v.useEffect(()=>{e=e??window;function i(l){s.current(l)}return e.addEventListener(t,i,n),()=>e.removeEventListener(t,i,n)},[e,t,n])}function Zje(e){return v.useSyncExternalStore(e.subscribe,e.getSnapshot,e.getSnapshot)}function Jje(e,t){let r=e(),n=new Set;return{getSnapshot(){return r},subscribe(s){return n.add(s),()=>n.delete(s)},dispatch(s,...i){let l=t[s].call(r,...i);l&&(r=l,n.forEach(c=>c()))}}}function eNe(){let e;return{before({doc:t}){var r;let n=t.documentElement,s=(r=t.defaultView)!=null?r:window;e=Math.max(0,s.innerWidth-n.clientWidth)},after({doc:t,d:r}){let n=t.documentElement,s=Math.max(0,n.clientWidth-n.offsetWidth),i=Math.max(0,e-s);r.style(n,"paddingRight",`${i}px`)}}}function tNe(){return E$()?{before({doc:e,d:t,meta:r}){function n(s){return r.containers.flatMap(i=>i()).some(i=>i.contains(s))}t.microTask(()=>{var s;if(window.getComputedStyle(e.documentElement).scrollBehavior!=="auto"){let c=Fl();c.style(e.documentElement,"scrollBehavior","auto"),t.add(()=>t.microTask(()=>c.dispose()))}let i=(s=window.scrollY)!=null?s:window.pageYOffset,l=null;t.addEventListener(e,"click",c=>{if(jo(c.target))try{let d=c.target.closest("a");if(!d)return;let{hash:f}=new URL(d.href),h=e.querySelector(f);jo(h)&&!n(h)&&(l=h)}catch{}},!0),t.addEventListener(e,"touchstart",c=>{if(jo(c.target)&&yje(c.target))if(n(c.target)){let d=c.target;for(;d.parentElement&&n(d.parentElement);)d=d.parentElement;t.style(d,"overscrollBehavior","contain")}else t.style(c.target,"touchAction","none")}),t.addEventListener(e,"touchmove",c=>{if(jo(c.target)){if(bje(c.target))return;if(n(c.target)){let d=c.target;for(;d.parentElement&&d.dataset.headlessuiPortal!==""&&!(d.scrollHeight>d.clientHeight||d.scrollWidth>d.clientWidth);)d=d.parentElement;d.dataset.headlessuiPortal===""&&c.preventDefault()}else c.preventDefault()}},{passive:!1}),t.add(()=>{var c;let d=(c=window.scrollY)!=null?c:window.pageYOffset;i!==d&&window.scrollTo(0,i),l&&l.isConnected&&(l.scrollIntoView({block:"nearest"}),l=null)})})}}:{}}function rNe(){return{before({doc:e,d:t}){t.style(e.documentElement,"overflow","hidden")}}}function nNe(e){let t={};for(let r of e)Object.assign(t,r(t));return t}let zc=Jje(()=>new Map,{PUSH(e,t){var r;let n=(r=this.get(e))!=null?r:{doc:e,count:0,d:Fl(),meta:new Set};return n.count++,n.meta.add(t),this.set(e,n),this},POP(e,t){let r=this.get(e);return r&&(r.count--,r.meta.delete(t)),this},SCROLL_PREVENT({doc:e,d:t,meta:r}){let n={doc:e,d:t,meta:nNe(r)},s=[tNe(),eNe(),rNe()];s.forEach(({before:i})=>i?.(n)),s.forEach(({after:i})=>i?.(n))},SCROLL_ALLOW({d:e}){e.dispose()},TEARDOWN({doc:e}){this.delete(e)}});zc.subscribe(()=>{let e=zc.getSnapshot(),t=new Map;for(let[r]of e)t.set(r,r.documentElement.style.overflow);for(let r of e.values()){let n=t.get(r.doc)==="hidden",s=r.count!==0;(s&&!n||!s&&n)&&zc.dispatch(r.count>0?"SCROLL_PREVENT":"SCROLL_ALLOW",r),r.count===0&&zc.dispatch("TEARDOWN",r)}});function aNe(e,t,r=()=>({containers:[]})){let n=Zje(zc),s=t?n.get(t):void 0,i=s?s.count>0:!1;return Fa(()=>{if(!(!t||!e))return zc.dispatch("PUSH",t,r),()=>zc.dispatch("POP",t,r)},[e,t]),i}function sNe(e,t,r=()=>[document.body]){let n=_m(e,"scroll-lock");aNe(n,t,s=>{var i;return{containers:[...(i=s.containers)!=null?i:[],r]}})}function iNe(e=0){let[t,r]=v.useState(e),n=v.useCallback(d=>r(d),[]),s=v.useCallback(d=>r(f=>f|d),[]),i=v.useCallback(d=>(t&d)===d,[t]),l=v.useCallback(d=>r(f=>f&~d),[]),c=v.useCallback(d=>r(f=>f^d),[]);return{flags:t,setFlag:n,addFlag:s,hasFlag:i,removeFlag:l,toggleFlag:c}}var lNe={},CP,OP;typeof process<"u"&&typeof globalThis<"u"&&typeof Element<"u"&&((CP=process==null?void 0:lNe)==null?void 0:CP.NODE_ENV)==="test"&&typeof((OP=Element?.prototype)==null?void 0:OP.getAnimations)>"u"&&(Element.prototype.getAnimations=function(){return console.warn(["Headless UI has polyfilled `Element.prototype.getAnimations` for your tests.","Please install a proper polyfill e.g. `jsdom-testing-mocks`, to silence these warnings.","","Example usage:","```js","import { mockAnimationsApi } from 'jsdom-testing-mocks'","mockAnimationsApi()","```"].join(`
`)),[]});var oNe=(e=>(e[e.None=0]="None",e[e.Closed=1]="Closed",e[e.Enter=2]="Enter",e[e.Leave=4]="Leave",e))(oNe||{});function cNe(e){let t={};for(let r in e)e[r]===!0&&(t[`data-${r}`]="");return t}function uNe(e,t,r,n){let[s,i]=v.useState(r),{hasFlag:l,addFlag:c,removeFlag:d}=iNe(e&&s?3:0),f=v.useRef(!1),h=v.useRef(!1),g=Hy();return Fa(()=>{var p;if(e){if(r&&i(!0),!t){r&&c(3);return}return(p=n?.start)==null||p.call(n,r),dNe(t,{inFlight:f,prepare(){h.current?h.current=!1:h.current=f.current,f.current=!0,!h.current&&(r?(c(3),d(4)):(c(4),d(2)))},run(){h.current?r?(d(3),c(4)):(d(4),c(3)):r?d(1):c(1)},done(){var y;h.current&&typeof t.getAnimations=="function"&&t.getAnimations().length>0||(f.current=!1,d(7),r||i(!1),(y=n?.end)==null||y.call(n,r))}})}},[e,r,t,g]),e?[s,{closed:l(1),enter:l(2),leave:l(4),transition:l(2)||l(4)}]:[r,{closed:void 0,enter:void 0,leave:void 0,transition:void 0}]}function dNe(e,{prepare:t,run:r,done:n,inFlight:s}){let i=Fl();return hNe(e,{prepare:t,inFlight:s}),i.nextFrame(()=>{r(),i.requestAnimationFrame(()=>{i.add(fNe(e,n))})}),i.dispose}function fNe(e,t){var r,n;let s=Fl();if(!e)return s.dispose;let i=!1;s.add(()=>{i=!0});let l=(n=(r=e.getAnimations)==null?void 0:r.call(e).filter(c=>c instanceof CSSTransition))!=null?n:[];return l.length===0?(t(),s.dispose):(Promise.allSettled(l.map(c=>c.finished)).then(()=>{i||t()}),s.dispose)}function hNe(e,{inFlight:t,prepare:r}){if(t!=null&&t.current){r();return}let n=e.style.transition;e.style.transition="none",r(),e.offsetHeight,e.style.transition=n}function Qk(e,t){let r=v.useRef([]),n=pr(e);v.useEffect(()=>{let s=[...r.current];for(let[i,l]of t.entries())if(r.current[i]!==l){let c=n(t,s);return r.current=t,c}},[n,...t])}let qy=v.createContext(null);qy.displayName="OpenClosedContext";var ui=(e=>(e[e.Open=1]="Open",e[e.Closed=2]="Closed",e[e.Closing=4]="Closing",e[e.Opening=8]="Opening",e))(ui||{});function Wy(){return v.useContext(qy)}function mNe({value:e,children:t}){return Qe.createElement(qy.Provider,{value:e},t)}function gNe({children:e}){return Qe.createElement(qy.Provider,{value:null},e)}function pNe(e){function t(){document.readyState!=="loading"&&(e(),document.removeEventListener("DOMContentLoaded",t))}typeof window<"u"&&typeof document<"u"&&(document.addEventListener("DOMContentLoaded",t),t())}let po=[];pNe(()=>{function e(t){if(!jo(t.target)||t.target===document.body||po[0]===t.target)return;let r=t.target;r=r.closest(Rx),po.unshift(r??t.target),po=po.filter(n=>n!=null&&n.isConnected),po.splice(10)}window.addEventListener("click",e,{capture:!0}),window.addEventListener("mousedown",e,{capture:!0}),window.addEventListener("focus",e,{capture:!0}),document.body.addEventListener("click",e,{capture:!0}),document.body.addEventListener("mousedown",e,{capture:!0}),document.body.addEventListener("focus",e,{capture:!0})});function C$(e){let t=pr(e),r=v.useRef(!1);v.useEffect(()=>(r.current=!1,()=>{r.current=!0,zy(()=>{r.current&&t()})}),[t])}let O$=v.createContext(!1);function xNe(){return v.useContext(O$)}function DP(e){return Qe.createElement(O$.Provider,{value:e.force},e.children)}function yNe(e){let t=xNe(),r=v.useContext(P$),[n,s]=v.useState(()=>{var i;if(!t&&r!==null)return(i=r.current)!=null?i:null;if(vl.isServer)return null;let l=e?.getElementById("headlessui-portal-root");if(l)return l;if(e===null)return null;let c=e.createElement("div");return c.setAttribute("id","headlessui-portal-root"),e.body.appendChild(c)});return v.useEffect(()=>{n!==null&&(e!=null&&e.body.contains(n)||e==null||e.body.appendChild(n))},[n,e]),v.useEffect(()=>{t||r!==null&&s(r.current)},[r,s,t]),n}let D$=v.Fragment,vNe=Ua(function(e,t){let{ownerDocument:r=null,...n}=e,s=v.useRef(null),i=Hi(wje(p=>{s.current=p}),t),l=Vy(s),c=r??l,d=yNe(c),f=v.useContext(SN),h=Hy(),g=Xs();return C$(()=>{var p;d&&d.childNodes.length<=0&&((p=d.parentElement)==null||p.removeChild(d))}),d?Gd.createPortal(Qe.createElement("div",{"data-headlessui-portal":"",ref:p=>{h.dispose(),f&&p&&h.add(f.register(p))}},g({ourProps:{ref:i},theirProps:n,slot:{},defaultTag:D$,name:"Portal"})),d):null});function bNe(e,t){let r=Hi(t),{enabled:n=!0,ownerDocument:s,...i}=e,l=Xs();return n?Qe.createElement(vNe,{...i,ownerDocument:s,ref:r}):l({ourProps:{ref:r},theirProps:i,slot:{},defaultTag:D$,name:"Portal"})}let wNe=v.Fragment,P$=v.createContext(null);function jNe(e,t){let{target:r,...n}=e,s={ref:Hi(t)},i=Xs();return Qe.createElement(P$.Provider,{value:r},i({ourProps:s,theirProps:n,defaultTag:wNe,name:"Popover.Group"}))}let SN=v.createContext(null);function NNe(){let e=v.useContext(SN),t=v.useRef([]),r=pr(i=>(t.current.push(i),e&&e.register(i),()=>n(i))),n=pr(i=>{let l=t.current.indexOf(i);l!==-1&&t.current.splice(l,1),e&&e.unregister(i)}),s=v.useMemo(()=>({register:r,unregister:n,portals:t}),[r,n,t]);return[t,v.useMemo(()=>function({children:i}){return Qe.createElement(SN.Provider,{value:s},i)},[s])]}let SNe=Ua(bNe),M$=Ua(jNe),_Ne=Object.assign(SNe,{Group:M$});function kNe(e,t=typeof document<"u"?document.defaultView:null,r){let n=_m(e,"escape");A$(t,"keydown",s=>{n&&(s.defaultPrevented||s.key===v$.Escape&&r(s))})}function ENe(){var e;let[t]=v.useState(()=>typeof window<"u"&&typeof window.matchMedia=="function"?window.matchMedia("(pointer: coarse)"):null),[r,n]=v.useState((e=t?.matches)!=null?e:!1);return Fa(()=>{if(!t)return;function s(i){n(i.matches)}return t.addEventListener("change",s),()=>t.removeEventListener("change",s)},[t]),r}function TNe({defaultContainers:e=[],portals:t,mainTreeNode:r}={}){let n=Vy(r),s=pr(()=>{var i,l;let c=[];for(let d of e)d!==null&&(Eo(d)?c.push(d):"current"in d&&Eo(d.current)&&c.push(d.current));if(t!=null&&t.current)for(let d of t.current)c.push(d);for(let d of(i=n?.querySelectorAll("html > *, body > *"))!=null?i:[])d!==document.body&&d!==document.head&&Eo(d)&&d.id!=="headlessui-portal-root"&&(r&&(d.contains(r)||d.contains((l=r?.getRootNode())==null?void 0:l.host))||c.some(f=>d.contains(f))||c.push(d));return c});return{resolveContainers:s,contains:pr(i=>s().some(l=>l.contains(i)))}}let R$=v.createContext(null);function PP({children:e,node:t}){let[r,n]=v.useState(null),s=I$(t??r);return Qe.createElement(R$.Provider,{value:s},e,s===null&&Qe.createElement(wN,{features:Mx.Hidden,ref:i=>{var l,c;if(i){for(let d of(c=(l=Uy(i))==null?void 0:l.querySelectorAll("html > *, body > *"))!=null?c:[])if(d!==document.body&&d!==document.head&&Eo(d)&&d!=null&&d.contains(i)){n(d);break}}}}))}function I$(e=null){var t;return(t=v.useContext(R$))!=null?t:e}function ANe(){let e=typeof document>"u";return"useSyncExternalStore"in WA?(t=>t.useSyncExternalStore)(WA)(()=>()=>{},()=>!1,()=>!e):!1}function Gy(){let e=ANe(),[t,r]=v.useState(vl.isHandoffComplete);return t&&vl.isHandoffComplete===!1&&r(!1),v.useEffect(()=>{t!==!0&&r(!0)},[t]),v.useEffect(()=>vl.handoff(),[]),e?!1:t}function Zk(){let e=v.useRef(!1);return Fa(()=>(e.current=!0,()=>{e.current=!1}),[]),e}var z0=(e=>(e[e.Forwards=0]="Forwards",e[e.Backwards=1]="Backwards",e))(z0||{});function CNe(){let e=v.useRef(0);return T$(!0,"keydown",t=>{t.key==="Tab"&&(e.current=t.shiftKey?1:0)},!0),e}function F$(e){if(!e)return new Set;if(typeof e=="function")return new Set(e());let t=new Set;for(let r of e.current)Eo(r.current)&&t.add(r.current);return t}let ONe="div";var Dc=(e=>(e[e.None=0]="None",e[e.InitialFocus=1]="InitialFocus",e[e.TabLock=2]="TabLock",e[e.FocusLock=4]="FocusLock",e[e.RestoreFocus=8]="RestoreFocus",e[e.AutoFocus=16]="AutoFocus",e))(Dc||{});function DNe(e,t){let r=v.useRef(null),n=Hi(r,t),{initialFocus:s,initialFocusFallback:i,containers:l,features:c=15,...d}=e;Gy()||(c=0);let f=Vy(r);INe(c,{ownerDocument:f});let h=FNe(c,{ownerDocument:f,container:r,initialFocus:s,initialFocusFallback:i});LNe(c,{ownerDocument:f,container:r,containers:l,previousActiveElement:h});let g=CNe(),p=pr(k=>{if(!cu(r.current))return;let E=r.current;(C=>C())(()=>{Cl(g.current,{[z0.Forwards]:()=>{ih(E,ol.First,{skipElements:[k.relatedTarget,i]})},[z0.Backwards]:()=>{ih(E,ol.Last,{skipElements:[k.relatedTarget,i]})}})})}),y=_m(!!(c&2),"focus-trap#tab-lock"),b=Hy(),w=v.useRef(!1),j={ref:n,onKeyDown(k){k.key=="Tab"&&(w.current=!0,b.requestAnimationFrame(()=>{w.current=!1}))},onBlur(k){if(!(c&4))return;let E=F$(l);cu(r.current)&&E.add(r.current);let C=k.relatedTarget;jo(C)&&C.dataset.headlessuiFocusGuard!=="true"&&(L$(E,C)||(w.current?ih(r.current,Cl(g.current,{[z0.Forwards]:()=>ol.Next,[z0.Backwards]:()=>ol.Previous})|ol.WrapAround,{relativeTo:k.target}):jo(k.target)&&bl(k.target)))}},S=Xs();return Qe.createElement(Qe.Fragment,null,y&&Qe.createElement(wN,{as:"button",type:"button","data-headlessui-focus-guard":!0,onFocus:p,features:Mx.Focusable}),S({ourProps:j,theirProps:d,defaultTag:ONe,name:"FocusTrap"}),y&&Qe.createElement(wN,{as:"button",type:"button","data-headlessui-focus-guard":!0,onFocus:p,features:Mx.Focusable}))}let PNe=Ua(DNe),MNe=Object.assign(PNe,{features:Dc});function RNe(e=!0){let t=v.useRef(po.slice());return Qk(([r],[n])=>{n===!0&&r===!1&&zy(()=>{t.current.splice(0)}),n===!1&&r===!0&&(t.current=po.slice())},[e,po,t]),pr(()=>{var r;return(r=t.current.find(n=>n!=null&&n.isConnected))!=null?r:null})}function INe(e,{ownerDocument:t}){let r=!!(e&8),n=RNe(r);Qk(()=>{r||t?.activeElement===t?.body&&bl(n())},[r]),C$(()=>{r&&bl(n())})}function FNe(e,{ownerDocument:t,container:r,initialFocus:n,initialFocusFallback:s}){let i=v.useRef(null),l=_m(!!(e&1),"focus-trap#initial-focus"),c=Zk();return Qk(()=>{if(e===0)return;if(!l){s!=null&&s.current&&bl(s.current);return}let d=r.current;d&&zy(()=>{if(!c.current)return;let f=t?.activeElement;if(n!=null&&n.current){if(n?.current===f){i.current=f;return}}else if(d.contains(f)){i.current=f;return}if(n!=null&&n.current)bl(n.current);else{if(e&16){if(ih(d,ol.First|ol.AutoFocus)!==NN.Error)return}else if(ih(d,ol.First)!==NN.Error)return;if(s!=null&&s.current&&(bl(s.current),t?.activeElement===s.current))return;console.warn("There are no focusable elements inside the <FocusTrap />")}i.current=t?.activeElement})},[s,l,e]),i}function LNe(e,{ownerDocument:t,container:r,containers:n,previousActiveElement:s}){let i=Zk(),l=!!(e&4);A$(t?.defaultView,"focus",c=>{if(!l||!i.current)return;let d=F$(n);cu(r.current)&&d.add(r.current);let f=s.current;if(!f)return;let h=c.target;cu(h)?L$(d,h)?(s.current=h,bl(h)):(c.preventDefault(),c.stopPropagation(),bl(f)):bl(s.current)},!0)}function L$(e,t){for(let r of e)if(r.contains(t))return!0;return!1}function B$(e){var t;return!!(e.enter||e.enterFrom||e.enterTo||e.leave||e.leaveFrom||e.leaveTo)||!ah((t=e.as)!=null?t:U$)||Qe.Children.count(e.children)===1}let Ky=v.createContext(null);Ky.displayName="TransitionContext";var BNe=(e=>(e.Visible="visible",e.Hidden="hidden",e))(BNe||{});function $Ne(){let e=v.useContext(Ky);if(e===null)throw new Error("A <Transition.Child /> is used but it is missing a parent <Transition /> or <Transition.Root />.");return e}function UNe(){let e=v.useContext(Yy);if(e===null)throw new Error("A <Transition.Child /> is used but it is missing a parent <Transition /> or <Transition.Root />.");return e}let Yy=v.createContext(null);Yy.displayName="NestingContext";function Xy(e){return"children"in e?Xy(e.children):e.current.filter(({el:t})=>t.current!==null).filter(({state:t})=>t==="visible").length>0}function $$(e,t){let r=ju(e),n=v.useRef([]),s=Zk(),i=Hy(),l=pr((y,b=wo.Hidden)=>{let w=n.current.findIndex(({el:j})=>j===y);w!==-1&&(Cl(b,{[wo.Unmount](){n.current.splice(w,1)},[wo.Hidden](){n.current[w].state="hidden"}}),i.microTask(()=>{var j;!Xy(n)&&s.current&&((j=r.current)==null||j.call(r))}))}),c=pr(y=>{let b=n.current.find(({el:w})=>w===y);return b?b.state!=="visible"&&(b.state="visible"):n.current.push({el:y,state:"visible"}),()=>l(y,wo.Unmount)}),d=v.useRef([]),f=v.useRef(Promise.resolve()),h=v.useRef({enter:[],leave:[]}),g=pr((y,b,w)=>{d.current.splice(0),t&&(t.chains.current[b]=t.chains.current[b].filter(([j])=>j!==y)),t?.chains.current[b].push([y,new Promise(j=>{d.current.push(j)})]),t?.chains.current[b].push([y,new Promise(j=>{Promise.all(h.current[b].map(([S,k])=>k)).then(()=>j())})]),b==="enter"?f.current=f.current.then(()=>t?.wait.current).then(()=>w(b)):w(b)}),p=pr((y,b,w)=>{Promise.all(h.current[b].splice(0).map(([j,S])=>S)).then(()=>{var j;(j=d.current.shift())==null||j()}).then(()=>w(b))});return v.useMemo(()=>({children:n,register:c,unregister:l,onStart:g,onStop:p,wait:f,chains:h}),[c,l,n,g,p,h,f])}let U$=v.Fragment,z$=Px.RenderStrategy;function zNe(e,t){var r,n;let{transition:s=!0,beforeEnter:i,afterEnter:l,beforeLeave:c,afterLeave:d,enter:f,enterFrom:h,enterTo:g,entered:p,leave:y,leaveFrom:b,leaveTo:w,...j}=e,[S,k]=v.useState(null),E=v.useRef(null),C=B$(e),T=Hi(...C?[E,t,k]:t===null?[]:[t]),A=(r=j.unmount)==null||r?wo.Unmount:wo.Hidden,{show:O,appear:D,initial:R}=$Ne(),[B,V]=v.useState(O?"visible":"hidden"),W=UNe(),{register:se,unregister:oe}=W;Fa(()=>se(E),[se,E]),Fa(()=>{if(A===wo.Hidden&&E.current){if(O&&B!=="visible"){V("visible");return}return Cl(B,{hidden:()=>oe(E),visible:()=>se(E)})}},[B,E,se,oe,O,A]);let Y=Gy();Fa(()=>{if(C&&Y&&B==="visible"&&E.current===null)throw new Error("Did you forget to passthrough the `ref` to the actual DOM node?")},[E,B,Y,C]);let Q=R&&!D,te=D&&O&&R,ue=v.useRef(!1),ve=$$(()=>{ue.current||(V("hidden"),oe(E))},W),U=pr(De=>{ue.current=!0;let ne=De?"enter":"leave";ve.onStart(E,ne,le=>{le==="enter"?i?.():le==="leave"&&c?.()})}),ie=pr(De=>{let ne=De?"enter":"leave";ue.current=!1,ve.onStop(E,ne,le=>{le==="enter"?l?.():le==="leave"&&d?.()}),ne==="leave"&&!Xy(ve)&&(V("hidden"),oe(E))});v.useEffect(()=>{C&&s||(U(O),ie(O))},[O,C,s]);let F=!(!s||!C||!Y||Q),[,G]=uNe(F,S,O,{start:U,end:ie}),z=Tc({ref:T,className:((n=bN(j.className,te&&f,te&&h,G.enter&&f,G.enter&&G.closed&&h,G.enter&&!G.closed&&g,G.leave&&y,G.leave&&!G.closed&&b,G.leave&&G.closed&&w,!G.transition&&O&&p))==null?void 0:n.trim())||void 0,...cNe(G)}),q=0;B==="visible"&&(q|=ui.Open),B==="hidden"&&(q|=ui.Closed),O&&B==="hidden"&&(q|=ui.Opening),!O&&B==="visible"&&(q|=ui.Closing);let de=Xs();return Qe.createElement(Yy.Provider,{value:ve},Qe.createElement(mNe,{value:q},de({ourProps:z,theirProps:j,defaultTag:U$,features:z$,visible:B==="visible",name:"Transition.Child"})))}function HNe(e,t){let{show:r,appear:n=!1,unmount:s=!0,...i}=e,l=v.useRef(null),c=B$(e),d=Hi(...c?[l,t]:t===null?[]:[t]);Gy();let f=Wy();if(r===void 0&&f!==null&&(r=(f&ui.Open)===ui.Open),r===void 0)throw new Error("A <Transition /> is used but it is missing a `show={true | false}` prop.");let[h,g]=v.useState(r?"visible":"hidden"),p=$$(()=>{r||g("hidden")}),[y,b]=v.useState(!0),w=v.useRef([r]);Fa(()=>{y!==!1&&w.current[w.current.length-1]!==r&&(w.current.push(r),b(!1))},[w,r]);let j=v.useMemo(()=>({show:r,appear:n,initial:y}),[r,n,y]);Fa(()=>{r?g("visible"):!Xy(p)&&l.current!==null&&g("hidden")},[r,p]);let S={unmount:s},k=pr(()=>{var T;y&&b(!1),(T=e.beforeEnter)==null||T.call(e)}),E=pr(()=>{var T;y&&b(!1),(T=e.beforeLeave)==null||T.call(e)}),C=Xs();return Qe.createElement(Yy.Provider,{value:p},Qe.createElement(Ky.Provider,{value:j},C({ourProps:{...S,as:v.Fragment,children:Qe.createElement(H$,{ref:d,...S,...i,beforeEnter:k,beforeLeave:E})},theirProps:{},defaultTag:v.Fragment,features:z$,visible:h==="visible",name:"Transition"})))}function VNe(e,t){let r=v.useContext(Ky)!==null,n=Wy()!==null;return Qe.createElement(Qe.Fragment,null,!r&&n?Qe.createElement(_N,{ref:t,...e}):Qe.createElement(H$,{ref:t,...e}))}let _N=Ua(HNe),H$=Ua(zNe),Jk=Ua(VNe),Np=Object.assign(_N,{Child:Jk,Root:_N});var qNe=(e=>(e[e.Open=0]="Open",e[e.Closed=1]="Closed",e))(qNe||{}),WNe=(e=>(e[e.SetTitleId=0]="SetTitleId",e))(WNe||{});let GNe={0(e,t){return e.titleId===t.id?e:{...e,titleId:t.id}}},e4=v.createContext(null);e4.displayName="DialogContext";function Qy(e){let t=v.useContext(e4);if(t===null){let r=new Error(`<${e} /> is missing a parent <Dialog /> component.`);throw Error.captureStackTrace&&Error.captureStackTrace(r,Qy),r}return t}function KNe(e,t){return Cl(t.type,GNe,e,t)}let MP=Ua(function(e,t){let r=v.useId(),{id:n=`headlessui-dialog-${r}`,open:s,onClose:i,initialFocus:l,role:c="dialog",autoFocus:d=!0,__demoMode:f=!1,unmount:h=!1,...g}=e,p=v.useRef(!1);c=function(){return c==="dialog"||c==="alertdialog"?c:(p.current||(p.current=!0,console.warn(`Invalid role [${c}] passed to <Dialog />. Only \`dialog\` and and \`alertdialog\` are supported. Using \`dialog\` instead.`)),"dialog")}();let y=Wy();s===void 0&&y!==null&&(s=(y&ui.Open)===ui.Open);let b=v.useRef(null),w=Hi(b,t),j=Vy(b),S=s?0:1,[k,E]=v.useReducer(KNe,{titleId:null,descriptionId:null,panelRef:v.createRef()}),C=pr(()=>i(!1)),T=pr(G=>E({type:0,id:G})),A=Gy()?S===0:!1,[O,D]=NNe(),R={get current(){var G;return(G=k.panelRef.current)!=null?G:b.current}},B=I$(),{resolveContainers:V}=TNe({mainTreeNode:B,portals:O,defaultContainers:[R]}),W=y!==null?(y&ui.Closing)===ui.Closing:!1;Bje(f||W?!1:A,{allowed:pr(()=>{var G,z;return[(z=(G=b.current)==null?void 0:G.closest("[data-headlessui-portal]"))!=null?z:null]}),disallowed:pr(()=>{var G;return[(G=B?.closest("body > *:not(#headlessui-portal-root)"))!=null?G:null]})});let se=S$.get(null);Fa(()=>{if(A)return se.actions.push(n),()=>se.actions.pop(n)},[se,n,A]);let oe=_$(se,v.useCallback(G=>se.selectors.isTop(G,n),[se,n]));Qje(oe,V,G=>{G.preventDefault(),C()}),kNe(oe,j?.defaultView,G=>{G.preventDefault(),G.stopPropagation(),document.activeElement&&"blur"in document.activeElement&&typeof document.activeElement.blur=="function"&&document.activeElement.blur(),C()}),sNe(f||W?!1:A,j,V),$je(A,b,C);let[Y,Q]=jje(),te=v.useMemo(()=>[{dialogState:S,close:C,setTitleId:T,unmount:h},k],[S,C,T,h,k]),ue=Sm({open:S===0}),ve={ref:w,id:n,role:c,tabIndex:-1,"aria-modal":f?void 0:S===0?!0:void 0,"aria-labelledby":k.titleId,"aria-describedby":Y,unmount:h},U=!ENe(),ie=Dc.None;A&&!f&&(ie|=Dc.RestoreFocus,ie|=Dc.TabLock,d&&(ie|=Dc.AutoFocus),U&&(ie|=Dc.InitialFocus));let F=Xs();return Qe.createElement(gNe,null,Qe.createElement(DP,{force:!0},Qe.createElement(_Ne,null,Qe.createElement(e4.Provider,{value:te},Qe.createElement(M$,{target:b},Qe.createElement(DP,{force:!1},Qe.createElement(Q,{slot:ue},Qe.createElement(D,null,Qe.createElement(MNe,{initialFocus:l,initialFocusFallback:b,containers:V,features:ie},Qe.createElement(Tje,{value:C},F({ourProps:ve,theirProps:g,slot:ue,defaultTag:YNe,features:XNe,visible:S===0,name:"Dialog"})))))))))))}),YNe="div",XNe=Px.RenderStrategy|Px.Static;function QNe(e,t){let{transition:r=!1,open:n,...s}=e,i=Wy(),l=e.hasOwnProperty("open")||i!==null,c=e.hasOwnProperty("onClose");if(!l&&!c)throw new Error("You have to provide an `open` and an `onClose` prop to the `Dialog` component.");if(!l)throw new Error("You provided an `onClose` prop to the `Dialog`, but forgot an `open` prop.");if(!c)throw new Error("You provided an `open` prop to the `Dialog`, but forgot an `onClose` prop.");if(!i&&typeof e.open!="boolean")throw new Error(`You provided an \`open\` prop to the \`Dialog\`, but the value is not a boolean. Received: ${e.open}`);if(typeof e.onClose!="function")throw new Error(`You provided an \`onClose\` prop to the \`Dialog\`, but the value is not a function. Received: ${e.onClose}`);return(n!==void 0||r)&&!s.static?Qe.createElement(PP,null,Qe.createElement(Np,{show:n,transition:r,unmount:s.unmount},Qe.createElement(MP,{ref:t,...s}))):Qe.createElement(PP,null,Qe.createElement(MP,{ref:t,open:n,...s}))}let ZNe="div";function JNe(e,t){let r=v.useId(),{id:n=`headlessui-dialog-panel-${r}`,transition:s=!1,...i}=e,[{dialogState:l,unmount:c},d]=Qy("Dialog.Panel"),f=Hi(t,d.panelRef),h=Sm({open:l===0}),g=pr(j=>{j.stopPropagation()}),p={ref:f,id:n,onClick:g},y=s?Jk:v.Fragment,b=s?{unmount:c}:{},w=Xs();return Qe.createElement(y,{...b},w({ourProps:p,theirProps:i,slot:h,defaultTag:ZNe,name:"Dialog.Panel"}))}let eSe="div";function tSe(e,t){let{transition:r=!1,...n}=e,[{dialogState:s,unmount:i}]=Qy("Dialog.Backdrop"),l=Sm({open:s===0}),c={ref:t,"aria-hidden":!0},d=r?Jk:v.Fragment,f=r?{unmount:i}:{},h=Xs();return Qe.createElement(d,{...f},h({ourProps:c,theirProps:n,slot:l,defaultTag:eSe,name:"Dialog.Backdrop"}))}let rSe="h2";function nSe(e,t){let r=v.useId(),{id:n=`headlessui-dialog-title-${r}`,...s}=e,[{dialogState:i,setTitleId:l}]=Qy("Dialog.Title"),c=Hi(t);v.useEffect(()=>(l(n),()=>l(null)),[n,l]);let d=Sm({open:i===0}),f={ref:c,id:n};return Xs()({ourProps:f,theirProps:s,slot:d,defaultTag:rSe,name:"Dialog.Title"})}let aSe=Ua(QNe),sSe=Ua(JNe);Ua(tSe);let iSe=Ua(nSe),Ix=Object.assign(aSe,{Panel:sSe,Title:iSe,Description:kje});const Fx=({open:e,onClose:t,title:r,children:n})=>a.jsx(Ix,{open:e,onClose:t,className:"fixed z-50 inset-0 overflow-y-auto",children:a.jsxs("div",{className:"flex items-center justify-center min-h-screen px-4",children:[a.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-30","aria-hidden":"true"}),a.jsxs("div",{className:"relative bg-white dark:bg-gray-900 rounded-2xl p-8 max-w-md w-full mx-auto z-10 shadow-xl border border-gray-200 dark:border-gray-800",children:[a.jsx("button",{className:"absolute top-4 right-4 p-2 rounded-full hover:bg-gray-100 dark:hover:bg-gray-800",onClick:t,title:"Close",children:a.jsx(jr,{className:"w-5 h-5 text-gray-500"})}),a.jsx(Ix.Title,{className:"text-2xl font-bold mb-4 text-gray-900 dark:text-white",children:r}),a.jsx("div",{className:"space-y-2 text-lg",children:n})]})]})});function j2({score:e,confidence:t,showDetails:r=!1,size:n="md",className:s=""}){if(e==null)return a.jsx("div",{className:`flex items-center gap-2 ${s}`,children:a.jsx("div",{className:"text-gray-400 text-sm",children:"No score"})});const i=nje(e),l=aje(e),d={sm:{container:"text-xs",score:"text-lg font-bold",category:"text-xs",circle:"w-8 h-8"},md:{container:"text-sm",score:"text-xl font-bold",category:"text-sm",circle:"w-12 h-12"},lg:{container:"text-base",score:"text-2xl font-bold",category:"text-base",circle:"w-16 h-16"}}[n],f=n==="sm"?14:n==="md"?20:28,h=2*Math.PI*f,p=`${e/100*h} ${h}`,y=()=>e>=80?a.jsx(Cr,{className:"w-3 h-3 text-green-600"}):e>=60?a.jsx(Cr,{className:"w-3 h-3 text-orange-600"}):e>=40?a.jsx(MG,{className:"w-3 h-3 text-yellow-600"}):a.jsx(cR,{className:"w-3 h-3 text-gray-600"});return a.jsxs("div",{className:`flex items-center gap-3 ${d.container} ${s}`,children:[a.jsxs("div",{className:"relative",children:[a.jsxs("svg",{className:d.circle,children:[a.jsx("circle",{cx:f+2,cy:f+2,r:f,stroke:"currentColor",strokeWidth:"2",fill:"none",className:"text-gray-200"}),a.jsx("circle",{cx:f+2,cy:f+2,r:f,stroke:"currentColor",strokeWidth:"2",fill:"none",strokeDasharray:p,strokeLinecap:"round",className:`${e>=80?"text-red-500":e>=60?"text-orange-500":e>=40?"text-yellow-500":"text-gray-400"}`,style:{transform:"rotate(-90deg)",transformOrigin:"center"}})]}),a.jsx("div",{className:"absolute inset-0 flex items-center justify-center",children:a.jsx("span",{className:`${d.score} ${e>=80?"text-red-600":e>=60?"text-orange-600":e>=40?"text-yellow-600":"text-gray-600"}`,children:e})})]}),a.jsxs("div",{className:"flex flex-col",children:[a.jsxs("div",{className:"flex items-center gap-1",children:[a.jsx("span",{className:`font-semibold ${d.category}`,children:l}),y()]}),r&&t!==void 0&&a.jsxs("div",{className:"text-gray-500 text-xs",children:["Confidence: ",Math.round(t*100),"%"]})]}),!r&&a.jsx("span",{className:`px-2 py-1 rounded-full text-xs font-semibold ${i}`,children:e})]})}const $t=({open:e,onClose:t,title:r,children:n,animationType:s="scale",size:i="md"})=>{const l={sm:"max-w-sm",md:"max-w-md",lg:"max-w-lg",xl:"max-w-xl"},d=(()=>{switch(s){case"slideUp":return{enter:"transform transition-all duration-300 ease-out",enterFrom:"translate-y-full opacity-0",enterTo:"translate-y-0 opacity-100",leave:"transform transition-all duration-200 ease-in",leaveFrom:"translate-y-0 opacity-100",leaveTo:"translate-y-full opacity-0"};case"scale":return{enter:"transform transition-all duration-300 ease-out",enterFrom:"scale-95 opacity-0",enterTo:"scale-100 opacity-100",leave:"transform transition-all duration-200 ease-in",leaveFrom:"scale-100 opacity-100",leaveTo:"scale-95 opacity-0"};case"fade":return{enter:"transition-opacity duration-300 ease-out",enterFrom:"opacity-0",enterTo:"opacity-100",leave:"transition-opacity duration-200 ease-in",leaveFrom:"opacity-100",leaveTo:"opacity-0"};case"slideDown":return{enter:"transform transition-all duration-300 ease-out",enterFrom:"-translate-y-full opacity-0",enterTo:"translate-y-0 opacity-100",leave:"transform transition-all duration-200 ease-in",leaveFrom:"translate-y-0 opacity-100",leaveTo:"-translate-y-full opacity-0"};default:return{enter:"transform transition-all duration-300 ease-out",enterFrom:"scale-95 opacity-0",enterTo:"scale-100 opacity-100",leave:"transform transition-all duration-200 ease-in",leaveFrom:"scale-100 opacity-100",leaveTo:"scale-95 opacity-0"}}})();return a.jsx(Np,{appear:!0,show:e,as:v.Fragment,children:a.jsx(Ix,{as:"div",className:"fixed z-50 inset-0 overflow-y-auto",onClose:t,children:a.jsxs("div",{className:"flex items-center justify-center min-h-screen px-4",children:[a.jsx(Np.Child,{as:v.Fragment,enter:"transition-opacity duration-300",enterFrom:"opacity-0",enterTo:"opacity-100",leave:"transition-opacity duration-200",leaveFrom:"opacity-100",leaveTo:"opacity-0",children:a.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 backdrop-blur-sm"})}),a.jsx(Np.Child,{as:v.Fragment,enter:d.enter,enterFrom:d.enterFrom,enterTo:d.enterTo,leave:d.leave,leaveFrom:d.leaveFrom,leaveTo:d.leaveTo,children:a.jsxs("div",{className:`relative bg-white dark:bg-gray-900 rounded-2xl p-8 ${l[i]} w-full mx-auto z-10 shadow-2xl border border-gray-200 dark:border-gray-800`,children:[a.jsx("button",{className:"absolute top-4 right-4 p-2 rounded-full hover:bg-gray-100 dark:hover:bg-gray-800 transition-colors duration-200 group",onClick:t,title:"Close",children:a.jsx(jr,{className:"w-5 h-5 text-gray-500 group-hover:text-gray-700 dark:group-hover:text-gray-300 transition-colors duration-200"})}),a.jsx(Ix.Title,{className:"text-2xl font-bold mb-6 text-gray-900 dark:text-white",children:r}),a.jsx("div",{className:"space-y-2 text-lg",children:n})]})})]})})})},lSe={New:"bg-blue-100 text-blue-700",Contacted:"bg-yellow-100 text-yellow-700",Qualified:"bg-green-100 text-green-700",Lost:"bg-red-100 text-red-700",new:"bg-blue-100 text-blue-700",contacted:"bg-yellow-100 text-yellow-700",qualified:"bg-green-100 text-green-700",lost:"bg-red-100 text-red-700",converted:"bg-purple-100 text-purple-700"},RP={new:"bg-blue-100 text-blue-700",qualified:"bg-green-100 text-green-700",lost:"bg-red-100 text-red-700",converted:"bg-purple-100 text-purple-700",contacted:"bg-yellow-100 text-yellow-700",proposal:"bg-pink-100 text-pink-700",negotiation:"bg-orange-100 text-orange-700",won:"bg-green-200 text-green-800"},IP=[{key:"title",label:"Name",sortable:!0},{key:"company",label:"Company",sortable:!0},{key:"status",label:"Status",sortable:!0},{key:"score",label:"Score",sortable:!0},{key:"owner_name",label:"Owner",sortable:!0},{key:"created_at",label:"Created",sortable:!0}];function oSe(){const[e,t]=v.useState([]),[r,n]=v.useState(!0),[s,i]=v.useState(null),[l,c]=v.useState(""),[d,f]=v.useState(""),[h,g]=v.useState(""),[p,y]=v.useState(null),[b,w]=v.useState(null),[j,S]=v.useState(""),[k,E]=v.useState("created"),[C,T]=v.useState("desc"),[A,O]=v.useState(1),[D,R]=v.useState([]),B=10,[V,W]=v.useState(!1),[se,oe]=v.useState(null),[Y,Q]=v.useState(null),[te,ue]=v.useState(!1),[ve,U]=v.useState({title:"",status:"new",source:"manual",contact_id:null,owner_id:1}),[ie,F]=v.useState(null),[G,z]=v.useState(null),[q,de]=v.useState(!1),[De,ne]=v.useState(!1),[le,he]=v.useState(null);if(v.useEffect(()=>{ld().then(ge=>{t(ge),n(!1)}).catch(ge=>{console.error("Failed to load leads:",ge),i("Failed to load leads"),n(!1)});try{F(g$())}catch{}},[]),r)return a.jsx("div",{className:"p-8 text-lg",children:"Loading..."});if(s)return a.jsx("div",{className:"p-8 text-red-500",children:s});let Le=e.filter(ge=>{const st=!l||ge.title?.toLowerCase().includes(l.toLowerCase())||ge.company?.toLowerCase().includes(l.toLowerCase()),Pt=!d||ge.status&&(ge.status.toLowerCase()===d.toLowerCase()||ge.status===d);let re=!0;if(h){const Ce=ge.score??0;switch(h){case"hot":re=Ce>=80;break;case"warm":re=Ce>=60&&Ce<80;break;case"lukewarm":re=Ce>=40&&Ce<60;break;case"cold":re=Ce<40;break;case"scored":re=Ce>0;break;case"unscored":re=Ce===0||Ce===null;break}}return st&&Pt&&re});Le=Le.sort((ge,st)=>{let Pt=ge[k],re=st[k];return k==="score"&&(Pt=Pt??0,re=re??0),k==="created_at"&&(Pt=new Date(Pt||0),re=new Date(re||0)),typeof Pt=="string"&&typeof re=="string"&&(Pt=Pt.toLowerCase(),re=re.toLowerCase()),Pt<re?C==="asc"?-1:1:Pt>re?C==="asc"?1:-1:0});const pe=Math.ceil(Le.length/B),xe=Le.slice((A-1)*B,A*B),$e=ge=>{k===ge?T(C==="asc"?"desc":"asc"):(E(ge),T("asc")),O(1)},pt=xe.length>0&&xe.every(ge=>D.includes(ge.id)),Xe=xe.some(ge=>D.includes(ge.id)),Ue=()=>{R(pt?D.filter(ge=>!xe.some(st=>st.id===ge)):[...D,...xe.filter(ge=>!D.includes(ge.id)).map(ge=>ge.id)])},At=ge=>{R(D.includes(ge)?D.filter(st=>st!==ge):[...D,ge])},Xt=()=>R([]),bt=()=>{alert(`Deleted ${D.length} leads (demo only)`),Xt()},Wt=(ge,st,Pt)=>{w({id:ge,field:st}),S(Pt)},Rr=async(ge,st)=>{W(!0);try{await Q2e(ge,{[st]:j}),t(Pt=>Pt.map(re=>re.id===ge?{...re,[st]:j}:re)),oe("Lead updated!"),setTimeout(()=>oe(null),2e3)}catch{alert("Failed to update lead")}w(null),S(""),W(!1)},Gr=(ge,st,Pt)=>{ge.key==="Enter"&&Rr(st,Pt),ge.key==="Escape"&&w(null)};function yr(){const ge=["Name","Company","Status","Owner","Created"],st=Le.map(ot=>[ot.name,ot.company,ot.status,ot.owner,ot.created]),Pt=[ge,...st].map(ot=>ot.map(ft=>`"${String(ft).replace(/"/g,'""')}"`).join(",")).join(`
`),re=new Blob([Pt],{type:"text/csv"}),Ce=URL.createObjectURL(re),Te=document.createElement("a");Te.href=Ce,Te.download="leads.csv",Te.click(),URL.revokeObjectURL(Ce)}function Dn(){const ge=["Name","Company","Status","Owner","Created"],st=Le.map(Ce=>[Ce.name,Ce.company,Ce.status,Ce.owner,Ce.created]),Pt=Sd.aoa_to_sheet([ge,...st]),re=Sd.book_new();Sd.book_append_sheet(re,Pt,"Leads"),u$(re,"leads.xlsx")}const Pn=async ge=>{W(!0);try{const st=await Y2e(ge);y(st)}catch{alert("Failed to fetch lead details")}W(!1)},vt=async ge=>{Q(ge)},fr=async()=>{if(Y!==null){W(!0);try{await Z2e(Y),ld().then(t),oe("Lead deleted!"),setTimeout(()=>oe(null),2e3)}catch{alert("Failed to delete lead")}W(!1),Q(null)}},dt=()=>Q(null),Yn=async ge=>{W(!0);try{const st=await J2e(ge);t(await ld()),oe(`Lead converted to deal: ${st.message}`),setTimeout(()=>oe(null),3e3)}catch{alert("Failed to convert lead to deal")}W(!1)},wa=async()=>{if(!ve.title.trim()){alert("Please enter a lead title");return}W(!0);try{await X2e(ve),t(await ld()),ue(!1),U({title:"",status:"new",source:"manual",contact_id:null,owner_id:1}),oe("Lead created successfully!"),setTimeout(()=>oe(null),2e3)}catch{alert("Failed to create lead")}W(!1)},gt=()=>{U({title:"",status:"new",source:"manual",contact_id:null,owner_id:1})},Tr=async()=>{ne(!0);try{const ge=await tje();t(await ld()),oe(`Successfully scored ${ge.results.length} leads!`),setTimeout(()=>oe(null),3e3)}catch{oe("Failed to score leads"),setTimeout(()=>oe(null),3e3)}ne(!1)},xt=async()=>{ne(!0);try{const ge=await rje();z(ge),de(!0)}catch{oe("Failed to load scoring analytics"),setTimeout(()=>oe(null),3e3)}ne(!1)},_t=()=>{if(!e||e.length===0)return["new","qualified","lost","converted","contacted"];const ge=[...new Set(e.map(st=>st.status).filter(Boolean))];return ge.length>0?ge:["new","qualified","lost","converted","contacted"]};return a.jsxs("div",{className:"p-2 md:p-6",children:[D.length>0&&a.jsxs("div",{className:"flex items-center justify-between bg-pink-50 dark:bg-pink-900/30 border border-pink-200 dark:border-pink-800 rounded-xl px-4 py-2 mb-4 shadow animate-fade-in",children:[a.jsxs("span",{className:"text-pink-700 dark:text-pink-200 font-semibold",children:[D.length," selected"]}),a.jsxs("div",{className:"flex gap-2",children:[a.jsx("button",{className:"px-4 py-1 rounded-full bg-red-500 text-white font-semibold hover:bg-red-600 transition",onClick:bt,children:"Delete Selected"}),a.jsx("button",{className:"px-4 py-1 rounded-full bg-gray-200 dark:bg-gray-800 text-gray-700 dark:text-gray-200 font-semibold hover:bg-gray-300 dark:hover:bg-gray-700 transition",onClick:Xt,children:"Clear"})]})]}),a.jsxs("div",{className:"flex flex-col lg:flex-row lg:items-center lg:justify-between gap-6 mb-6",children:[a.jsx("h1",{className:"text-3xl font-extrabold text-gray-900 dark:text-white",children:"Leads"}),a.jsxs("div",{className:"flex flex-col sm:flex-row gap-4 items-start sm:items-center",children:[a.jsxs("div",{className:"flex flex-wrap gap-3",children:[a.jsx(Hr,{variant:"pink",size:"md",icon:_r,onClick:ge=>{ge&&he(ge.currentTarget.getBoundingClientRect()),ue(!0)},children:"Create Lead"}),a.jsx(Hr,{variant:"blue",size:"md",icon:Do,onClick:Tr,disabled:De,loading:De,children:"Score All Leads"}),a.jsx(Hr,{variant:"success",size:"md",icon:ia,onClick:xt,disabled:De,children:"Analytics"})]}),a.jsxs("div",{className:"flex flex-wrap gap-3",children:[a.jsx(Hr,{variant:"purple",size:"sm",icon:Cr,onClick:()=>{E("score"),T("desc"),O(1)},children:"Sort by Score"}),a.jsx(Hr,{variant:"primary",size:"sm",icon:hh,onClick:yr,children:"Export CSV"}),a.jsx(Hr,{variant:"green",size:"sm",icon:hh,onClick:Dn,children:"Export Excel"})]})]})]}),a.jsxs("div",{className:"flex flex-col lg:flex-row gap-4 mb-6",children:[a.jsxs("div",{className:"flex flex-col sm:flex-row gap-3 flex-1",children:[a.jsxs("div",{className:"relative flex-1 max-w-md",children:[a.jsx("input",{type:"text",value:l,onChange:ge=>c(ge.target.value),placeholder:"Search leads...",className:"w-full rounded-full pl-10 pr-4 py-2 bg-white/80 dark:bg-gray-800/80 text-gray-900 dark:text-white placeholder:text-gray-400 focus:outline-none focus:ring-2 focus:ring-pink-400 shadow"}),a.jsx(Fi,{className:"absolute left-3 top-2.5 w-5 h-5 text-gray-400"})]}),a.jsxs("div",{className:"relative",children:[a.jsxs("select",{value:d,onChange:ge=>f(ge.target.value),className:"rounded-full pl-10 pr-4 py-2 bg-white/80 dark:bg-gray-800/80 text-gray-900 dark:text-white focus:outline-none focus:ring-2 focus:ring-blue-400 w-40 shadow appearance-none",children:[a.jsx("option",{value:"",children:"All Statuses"}),_t().map(ge=>a.jsx("option",{value:ge,children:ge.charAt(0).toUpperCase()+ge.slice(1)},ge))]}),a.jsx(K2,{className:"absolute left-3 top-2.5 w-5 h-5 text-gray-400"})]}),a.jsxs("div",{className:"relative",children:[a.jsxs("select",{value:h,onChange:ge=>g(ge.target.value),className:"rounded-full pl-10 pr-4 py-2 bg-white/80 dark:bg-gray-800/80 text-gray-900 dark:text-white focus:outline-none focus:ring-2 focus:ring-pink-400 w-40 shadow appearance-none",children:[a.jsx("option",{value:"",children:"All Scores"}),a.jsx("option",{value:"hot",children:"Hot Leads (80+)"}),a.jsx("option",{value:"warm",children:"Warm Leads (60-79)"}),a.jsx("option",{value:"lukewarm",children:"Lukewarm (40-59)"}),a.jsx("option",{value:"cold",children:"Cold Leads (0-39)"}),a.jsx("option",{value:"scored",children:"Scored Leads"}),a.jsx("option",{value:"unscored",children:"Unscored Leads"})]}),a.jsx(K2,{className:"absolute left-3 top-2.5 w-5 h-5 text-gray-400"})]})]}),(l||d||h)&&a.jsx("div",{className:"flex justify-end",children:a.jsx(Hr,{variant:"gray",size:"sm",icon:jr,onClick:()=>{c(""),f(""),g(""),E("created_at"),T("desc"),O(1)},children:"Clear Filters"})})]}),(l||d||h||k!=="created_at")&&a.jsx("div",{className:"mb-4 p-3 bg-blue-50 dark:bg-blue-900/30 rounded-xl border border-blue-200 dark:border-blue-800",children:a.jsxs("div",{className:"flex flex-wrap items-center gap-2 text-sm",children:[a.jsx("span",{className:"font-semibold text-blue-700 dark:text-blue-300",children:"Active Filters:"}),l&&a.jsxs("span",{className:"px-2 py-1 bg-blue-100 dark:bg-blue-800 text-blue-700 dark:text-blue-300 rounded-full",children:['Search: "',l,'"']}),d&&a.jsxs("span",{className:"px-2 py-1 bg-blue-100 dark:bg-blue-800 text-blue-700 dark:text-blue-300 rounded-full",children:["Status: ",d]}),h&&a.jsxs("span",{className:"px-2 py-1 bg-blue-100 dark:bg-blue-800 text-blue-700 dark:text-blue-300 rounded-full",children:["Score: ",h]}),a.jsxs("span",{className:"px-2 py-1 bg-green-100 dark:bg-green-800 text-green-700 dark:text-green-300 rounded-full",children:["Sort: ",IP.find(ge=>ge.key===k)?.label," (",C.toUpperCase(),")"]}),a.jsxs("span",{className:"text-gray-500 dark:text-gray-400",children:["Showing ",Le.length," of ",e.length," leads"]})]})}),a.jsx("div",{className:"overflow-x-auto rounded-2xl shadow border bg-white dark:bg-gray-900 hidden sm:block",children:a.jsxs("table",{className:"min-w-full bg-white dark:bg-gray-900 rounded shadow overflow-hidden",children:[a.jsx("thead",{children:a.jsxs("tr",{className:"bg-gray-100 dark:bg-gray-700",children:[a.jsx("th",{className:"px-4 py-2",children:a.jsx("input",{type:"checkbox",checked:pt,ref:ge=>{ge&&(ge.indeterminate=Xe&&!pt)},onChange:Ue,"aria-label":"Select all leads on this page",className:"accent-pink-500 w-5 h-5 rounded focus:ring-pink-400"})}),IP.map(ge=>a.jsx("th",{className:"px-4 py-2 text-left text-sm font-semibold text-gray-700 dark:text-gray-200 cursor-pointer hover:bg-gray-200 dark:hover:bg-gray-600 transition-colors",onClick:()=>ge.sortable&&$e(ge.key),children:a.jsxs("div",{className:"flex items-center gap-1",children:[ge.label,ge.sortable&&a.jsxs("div",{className:"flex flex-col",children:[a.jsx(UW,{className:`w-3 h-3 ${k===ge.key&&C==="asc"?"text-pink-500":"text-gray-400"}`}),a.jsx(rR,{className:`w-3 h-3 ${k===ge.key&&C==="desc"?"text-pink-500":"text-gray-400"}`})]})]})},ge.key)),a.jsx("th",{className:"px-4 py-2 text-left text-sm font-semibold text-gray-700 dark:text-gray-200",children:"Actions"})]})}),a.jsx("tbody",{children:xe.map(ge=>a.jsxs("tr",{className:"border-b border-gray-200 dark:border-gray-700 hover:bg-pink-50 dark:hover:bg-pink-900/20 transition cursor-pointer",children:[a.jsx("td",{className:"px-4 py-2",children:a.jsx("input",{type:"checkbox",checked:D.includes(ge.id),onChange:()=>At(ge.id),"aria-label":`Select lead ${ge.title||ge.contact_name}`,className:"accent-pink-500 w-5 h-5 rounded focus:ring-pink-400"})}),a.jsx("td",{className:"px-4 py-2 text-gray-900 dark:text-white",children:b&&b.id===ge.id&&b.field==="title"?a.jsx("input",{autoFocus:!0,value:j,onChange:st=>S(st.target.value),onBlur:()=>Rr(ge.id,"title"),onKeyDown:st=>Gr(st,ge.id,"title"),className:"rounded px-2 py-1 border-2 border-pink-400 focus:outline-none focus:ring-2 focus:ring-pink-400 bg-white dark:bg-gray-800 text-gray-900 dark:text-white"}):a.jsx("span",{className:"cursor-pointer hover:underline",onClick:()=>Wt(ge.id,"title",ge.title),children:ge.title||ge.contact_name})}),a.jsx("td",{className:"px-4 py-2 text-gray-700 dark:text-gray-300",children:ge.company}),a.jsx("td",{className:"px-4 py-2",children:b&&b.id===ge.id&&b.field==="status"?a.jsx("select",{autoFocus:!0,value:j,onChange:st=>S(st.target.value),onBlur:()=>Rr(ge.id,"status"),onKeyDown:st=>Gr(st,ge.id,"status"),className:"rounded px-2 py-1 border-2 border-pink-400 focus:outline-none focus:ring-2 focus:ring-pink-400 bg-white dark:bg-gray-800 text-gray-900 dark:text-white",children:Object.keys(RP).map(st=>a.jsx("option",{value:st,children:st},st))}):a.jsx("span",{className:`cursor-pointer hover:underline px-3 py-1 rounded-full text-xs font-bold capitalize ${RP[ge.status?.toLowerCase()]||"bg-gray-200 text-gray-700"}`,onClick:()=>Wt(ge.id,"status",ge.status),children:ge.status?ge.status.charAt(0).toUpperCase()+ge.status.slice(1):"Unknown"})}),a.jsx("td",{className:"px-4 py-2",children:a.jsx(j2,{score:ge.score,size:"sm"})}),a.jsx("td",{className:"px-4 py-2 text-gray-700 dark:text-gray-300",children:ge.owner_name}),a.jsx("td",{className:"px-4 py-2 text-gray-500 dark:text-gray-400",children:ge.created_at?.slice(0,10)}),a.jsxs("td",{className:"px-4 py-2 flex gap-2",children:[a.jsx("button",{className:"text-blue-500 hover:text-blue-700",title:"View",onClick:()=>Pn(ge.id).then(()=>y(ge)),disabled:V,children:a.jsx(gn,{})}),ge.status!=="converted"&&a.jsx("button",{className:"text-green-500 hover:text-green-700",title:"Convert to Deal",onClick:()=>Yn(ge.id),disabled:V,children:a.jsx(Oo,{})}),a.jsx("button",{className:"text-red-500 hover:text-red-700",title:"Delete",onClick:()=>vt(ge.id),disabled:V,children:a.jsx(mi,{})})]})]},ge.id))})]})}),a.jsxs("div",{className:"sm:hidden space-y-4",children:[a.jsx(Hr,{variant:"pink",size:"lg",icon:_r,className:"w-full",onClick:ge=>{ge&&he(ge.currentTarget.getBoundingClientRect()),ue(!0)},children:"Create New Lead"}),xe.map(ge=>a.jsxs("div",{className:`rounded-2xl shadow border p-4 bg-white dark:bg-gray-900 transition ${D.includes(ge.id)?"bg-pink-100 dark:bg-pink-900/40 border-pink-300 dark:border-pink-800":"hover:bg-pink-50 dark:hover:bg-pink-900/20"}`,children:[a.jsxs("div",{className:"flex items-center justify-between mb-2",children:[a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx("input",{type:"checkbox",checked:D.includes(ge.id),onChange:()=>At(ge.id),className:"accent-pink-500 w-5 h-5 rounded focus:ring-pink-400"}),a.jsx("span",{className:"font-bold text-lg text-gray-900 dark:text-white",children:ge.name})]}),a.jsxs("div",{className:"flex gap-2",children:[a.jsx("button",{className:"p-2 rounded-full hover:bg-blue-100 dark:hover:bg-blue-900 transition",title:"View",onClick:()=>y(ge),children:a.jsx(gn,{className:"w-5 h-5 text-blue-500"})}),ge.status!=="converted"&&a.jsx("button",{className:"p-2 rounded-full hover:bg-green-100 dark:hover:bg-green-900 transition",title:"Convert to Deal",onClick:()=>Yn(ge.id),disabled:V,children:a.jsx(Oo,{className:"w-5 h-5 text-green-500"})}),a.jsx("button",{className:"p-2 rounded-full hover:bg-red-100 dark:hover:bg-red-900 transition",title:"Delete",children:a.jsx(mi,{className:"w-5 h-5 text-red-500"})})]})]}),a.jsxs("div",{className:"text-gray-700 dark:text-gray-200 text-sm mb-1",children:[a.jsx("span",{className:"font-semibold",children:"Company:"})," ",ge.company]}),a.jsxs("div",{className:"flex items-center justify-between mb-1",children:[a.jsx("div",{className:"text-sm",children:a.jsx("span",{className:`px-3 py-1 rounded-full text-xs font-bold ${lSe[ge.status]}`,children:ge.status?ge.status.charAt(0).toUpperCase()+ge.status.slice(1):"Unknown"})}),a.jsx(j2,{score:ge.score,size:"sm"})]}),a.jsxs("div",{className:"text-gray-700 dark:text-gray-200 text-sm mb-1",children:[a.jsx("span",{className:"font-semibold",children:"Owner:"})," ",ge.owner_name]}),a.jsxs("div",{className:"text-gray-500 dark:text-gray-400 text-xs",children:[a.jsx("span",{className:"font-semibold",children:"Created:"})," ",ge.created_at?.slice(0,10)]})]},ge.id)),xe.length===0&&a.jsx("div",{className:"text-center py-8 text-gray-400 dark:text-gray-600",children:"No leads found."})]}),a.jsxs("div",{className:"flex justify-end items-center gap-2 mt-4",children:[a.jsx("button",{className:"px-3 py-1 rounded-full bg-gray-100 dark:bg-gray-800 text-gray-500 dark:text-gray-300 font-semibold disabled:opacity-50",onClick:()=>O(ge=>Math.max(1,ge-1)),disabled:A===1,children:"Prev"}),a.jsxs("span",{className:"text-gray-700 dark:text-gray-200 text-sm",children:["Page ",A," of ",pe]}),a.jsx("button",{className:"px-3 py-1 rounded-full bg-gray-100 dark:bg-gray-800 text-gray-500 dark:text-gray-300 font-semibold disabled:opacity-50",onClick:()=>O(ge=>Math.min(pe,ge+1)),disabled:A===pe,children:"Next"})]}),p&&a.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center bg-black/40",children:a.jsxs("div",{className:"bg-white dark:bg-gray-900 rounded-2xl shadow-2xl p-8 w-full max-w-md relative",children:[a.jsx("button",{className:"absolute top-4 right-4 p-2 rounded-full hover:bg-gray-100 dark:hover:bg-gray-800",onClick:()=>y(null),title:"Close",children:a.jsx(jr,{className:"w-5 h-5 text-gray-500"})}),a.jsx("h2",{className:"text-2xl font-bold mb-4 text-gray-900 dark:text-white",children:"Lead Details"}),a.jsxs("div",{className:"space-y-2",children:[a.jsxs("div",{children:[a.jsx("span",{className:"font-semibold",children:"Name:"})," ",p.name]}),a.jsxs("div",{children:[a.jsx("span",{className:"font-semibold",children:"Company:"})," ",p.company]}),a.jsxs("div",{children:[a.jsx("span",{className:"font-semibold",children:"Status:"})," ",p.status]}),a.jsxs("div",{children:[a.jsx("span",{className:"font-semibold",children:"Owner:"})," ",p.owner]}),a.jsxs("div",{children:[a.jsx("span",{className:"font-semibold",children:"Created:"})," ",p.created]})]})]})}),a.jsx(Fx,{open:!!p,onClose:()=>y(null),title:"Lead Details",children:p&&a.jsxs(a.Fragment,{children:[a.jsxs("div",{children:[a.jsx("b",{children:"Name:"})," ",p.title||p.contact_name]}),a.jsxs("div",{children:[a.jsx("b",{children:"Company:"})," ",p.company]}),a.jsxs("div",{children:[a.jsx("b",{children:"Status:"})," ",p.status]}),a.jsxs("div",{children:[a.jsx("b",{children:"Owner:"})," ",p.owner_name]}),a.jsxs("div",{children:[a.jsx("b",{children:"Created:"})," ",p.created_at?.slice(0,10)]})]})}),a.jsxs(Fx,{open:Y!==null,onClose:dt,title:"Delete Lead?",children:[a.jsx("div",{children:"Are you sure you want to delete this lead?"}),a.jsxs("div",{className:"flex gap-4 mt-6 justify-end",children:[a.jsx("button",{className:"px-4 py-2 rounded-full bg-gray-200 dark:bg-gray-800 text-gray-700 dark:text-gray-200 font-semibold hover:bg-gray-300 dark:hover:bg-gray-700 transition",onClick:dt,disabled:V,children:"Cancel"}),a.jsx("button",{className:"px-4 py-2 rounded-full bg-red-500 text-white font-semibold hover:bg-red-600 transition",onClick:fr,disabled:V,children:"Delete"})]})]}),a.jsx($t,{open:te,onClose:()=>{ue(!1),gt()},title:"Create Lead",children:a.jsxs("div",{className:"p-8 w-full max-w-md relative",children:[a.jsx("button",{className:"absolute top-4 right-4 p-2 rounded-full hover:bg-gray-100 dark:hover:bg-gray-800",onClick:()=>{ue(!1),gt()},title:"Close",children:a.jsx(jr,{className:"w-5 h-5 text-gray-500"})}),a.jsx("h2",{className:"text-2xl font-bold mb-6 text-gray-900 dark:text-white",children:"Create New Lead"}),a.jsxs("div",{className:"space-y-4",children:[a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Lead Title *"}),a.jsx("input",{type:"text",value:ve.title,onChange:ge=>U({...ve,title:ge.target.value}),className:"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-lg focus:outline-none focus:ring-2 focus:ring-pink-400 bg-white dark:bg-gray-800 text-gray-900 dark:text-white",placeholder:"Enter lead title"})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Status"}),a.jsxs("select",{value:ve.status,onChange:ge=>U({...ve,status:ge.target.value}),className:"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-lg focus:outline-none focus:ring-2 focus:ring-pink-400 bg-white dark:bg-gray-800 text-gray-900 dark:text-white",children:[a.jsx("option",{value:"new",children:"New"}),a.jsx("option",{value:"contacted",children:"Contacted"}),a.jsx("option",{value:"qualified",children:"Qualified"}),a.jsx("option",{value:"proposal",children:"Proposal"}),a.jsx("option",{value:"negotiation",children:"Negotiation"}),a.jsx("option",{value:"won",children:"Won"}),a.jsx("option",{value:"lost",children:"Lost"})]})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Source"}),a.jsxs("select",{value:ve.source,onChange:ge=>U({...ve,source:ge.target.value}),className:"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-lg focus:outline-none focus:ring-2 focus:ring-pink-400 bg-white dark:bg-gray-800 text-gray-900 dark:text-white",children:[a.jsx("option",{value:"manual",children:"Manual"}),a.jsx("option",{value:"website",children:"Website"}),a.jsx("option",{value:"referral",children:"Referral"}),a.jsx("option",{value:"social",children:"Social Media"}),a.jsx("option",{value:"email",children:"Email Campaign"})]})]}),a.jsxs("div",{className:"rounded-lg border border-dashed border-gray-300 dark:border-gray-700 p-3 mt-2",children:[a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsx("span",{className:"text-sm font-semibold text-gray-800 dark:text-gray-200",children:"Attribution (UTM)"}),!ie&&a.jsx("span",{className:"text-xs text-gray-500",children:"No UTM detected"})]}),ie&&a.jsxs("div",{className:"mt-2 grid grid-cols-1 gap-2 text-sm text-gray-700 dark:text-gray-300",children:[ie.utm_source&&a.jsxs("div",{children:[a.jsx("b",{children:"utm_source:"})," ",ie.utm_source]}),ie.utm_medium&&a.jsxs("div",{children:[a.jsx("b",{children:"utm_medium:"})," ",ie.utm_medium]}),ie.utm_campaign&&a.jsxs("div",{children:[a.jsx("b",{children:"utm_campaign:"})," ",ie.utm_campaign]}),ie.utm_term&&a.jsxs("div",{children:[a.jsx("b",{children:"utm_term:"})," ",ie.utm_term]}),ie.utm_content&&a.jsxs("div",{children:[a.jsx("b",{children:"utm_content:"})," ",ie.utm_content]}),ie.gclid&&a.jsxs("div",{children:[a.jsx("b",{children:"gclid:"})," ",ie.gclid]}),ie.fbclid&&a.jsxs("div",{children:[a.jsx("b",{children:"fbclid:"})," ",ie.fbclid]}),ie.referrer_url&&a.jsxs("div",{className:"truncate",children:[a.jsx("b",{children:"referrer:"})," ",ie.referrer_url]}),ie.landing_page_url&&a.jsxs("div",{className:"truncate",children:[a.jsx("b",{children:"landing:"})," ",ie.landing_page_url]})]}),a.jsx("div",{className:"mt-2 text-xs text-gray-500",children:"These values are captured from the URL and will be saved with the lead."})]}),a.jsxs("div",{className:"flex gap-4 pt-4",children:[a.jsx("button",{className:"flex-1 px-4 py-2 rounded-lg bg-gray-200 dark:bg-gray-800 text-gray-700 dark:text-gray-200 font-semibold hover:bg-gray-300 dark:hover:bg-gray-700 transition",onClick:()=>{ue(!1),gt()},disabled:V,children:"Cancel"}),a.jsx(Hr,{variant:"pink",size:"md",className:"flex-1",onClick:wa,disabled:V,loading:V,children:"Create Lead"})]})]})]})}),q&&G&&a.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center bg-black/40",children:a.jsxs("div",{className:"bg-white dark:bg-gray-900 rounded-2xl shadow-2xl p-8 w-full max-w-2xl relative max-h-[80vh] overflow-y-auto",children:[a.jsx("button",{className:"absolute top-4 right-4 p-2 rounded-full hover:bg-gray-100 dark:hover:bg-gray-800",onClick:()=>de(!1),title:"Close",children:a.jsx(jr,{className:"w-5 h-5 text-gray-500"})}),a.jsx("h2",{className:"text-2xl font-bold mb-6 text-gray-900 dark:text-white",children:"Lead Scoring Analytics"}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[a.jsxs("div",{className:"space-y-4",children:[a.jsxs("div",{className:"bg-gradient-to-r from-blue-50 to-cyan-50 dark:from-blue-900/30 dark:to-cyan-900/30 rounded-xl p-4",children:[a.jsx("h3",{className:"font-semibold text-gray-900 dark:text-white mb-2",children:"Summary"}),a.jsxs("div",{className:"space-y-2",children:[a.jsxs("div",{className:"flex justify-between",children:[a.jsx("span",{className:"text-gray-600 dark:text-gray-300",children:"Total Leads:"}),a.jsx("span",{className:"font-semibold",children:G.total_leads})]}),a.jsxs("div",{className:"flex justify-between",children:[a.jsx("span",{className:"text-gray-600 dark:text-gray-300",children:"Average Score:"}),a.jsx("span",{className:"font-semibold",children:G.average_score})]})]})]}),a.jsxs("div",{className:"bg-gradient-to-r from-green-50 to-emerald-50 dark:from-green-900/30 dark:to-emerald-900/30 rounded-xl p-4",children:[a.jsx("h3",{className:"font-semibold text-gray-900 dark:text-white mb-2",children:"Score Distribution"}),a.jsx("div",{className:"space-y-2",children:Object.entries(G.score_distribution).map(([ge,st])=>a.jsxs("div",{className:"flex justify-between items-center",children:[a.jsxs("span",{className:"text-gray-600 dark:text-gray-300",children:[ge,":"]}),a.jsx("span",{className:"font-semibold",children:st})]},ge))})]})]}),a.jsxs("div",{className:"bg-gradient-to-r from-purple-50 to-pink-50 dark:from-purple-900/30 dark:to-pink-900/30 rounded-xl p-4",children:[a.jsx("h3",{className:"font-semibold text-gray-900 dark:text-white mb-4",children:"Top Scoring Leads"}),a.jsx("div",{className:"space-y-3",children:G.top_scoring_leads.map(ge=>a.jsxs("div",{className:"flex items-center justify-between p-3 bg-white dark:bg-gray-800 rounded-lg",children:[a.jsxs("div",{children:[a.jsx("div",{className:"font-medium text-gray-900 dark:text-white",children:ge.title}),a.jsx("div",{className:"text-sm text-gray-500 dark:text-gray-400",children:ge.status})]}),a.jsx(j2,{score:ge.score,size:"sm"})]},ge.id))})]})]})]})}),se&&a.jsx("div",{className:"fixed bottom-6 right-6 bg-green-600 text-white px-6 py-3 rounded-xl shadow-lg z-50 animate-fade-in",children:se})]})}async function V$(){return Ee("/api/contacts")}async function cSe(e){return Ee(`/api/contacts/${e}`)}async function uSe(e){return Ee("/api/contacts",{method:"POST",body:JSON.stringify(e)})}async function dSe(e,t){return Ee(`/api/contacts/${e}`,{method:"PUT",body:JSON.stringify(t)})}async function fSe(e){return Ee(`/api/contacts/${e}`,{method:"DELETE"})}function hSe(){const[e,t]=v.useState([]),[r,n]=v.useState(!0),[s,i]=v.useState(null),[l,c]=v.useState(""),[d,f]=v.useState(null),[h,g]=v.useState(!1),[p,y]=v.useState(!1),[b,w]=v.useState(null),[j,S]=v.useState(""),[k,E]=v.useState(!1),[C,T]=v.useState(null),[A,O]=v.useState(null),[D,R]=v.useState({name:"",email:"",phone:"",company:"",owner_id:1}),[B,V]=v.useState(null);v.useEffect(()=>{V$().then(z=>{t(z),n(!1)}).catch(()=>{i("Failed to load contacts"),n(!1)})},[]);const W=v.useMemo(()=>{if(!l)return e;const z=l.toLowerCase();return e.filter(q=>(q.name||"").toLowerCase().includes(z)||(q.email||"").toLowerCase().includes(z)||(q.phone||"").toLowerCase().includes(z)||(q.company||"").toLowerCase().includes(z))},[e,l]),se=async()=>{if(!D.name.trim()){O("Name is required"),setTimeout(()=>O(null),3e3);return}y(!0);try{const z=await uSe(D);t(q=>[z,...q]),g(!1),R({name:"",email:"",phone:"",company:"",owner_id:1}),O("Contact created successfully!"),setTimeout(()=>O(null),3e3)}catch{O("Failed to create contact"),setTimeout(()=>O(null),3e3)}finally{y(!1)}},oe=async z=>{try{const q=await cSe(z);f(q)}catch{O("Failed to fetch contact details"),setTimeout(()=>O(null),3e3)}},Y=async z=>{T(z)},Q=async()=>{if(C!==null){E(!0);try{await fSe(C),t(z=>z.filter(q=>q.id!==C)),O("Contact deleted successfully!"),setTimeout(()=>O(null),3e3)}catch(z){console.error("Delete error:",z),z?.response?.data?.type==="foreign_key_violation"?O("Cannot delete contact: Contact is referenced by deals or other records. Please remove associated records first."):O("Failed to delete contact"),setTimeout(()=>O(null),5e3)}E(!1),T(null)}},te=()=>{T(null)},ue=async z=>{E(!0);try{const q={title:`${z.name} - ${z.company}`,status:"new",source:"contact_conversion",score:75},de=await eje(z.id,q);O(`Contact converted to lead: ${de.message}`),setTimeout(()=>O(null),3e3)}catch{alert("Failed to create lead from contact")}E(!1)},ve=(z,q,de)=>{w({id:z,field:q}),S(de||"")},U=async(z,q)=>{E(!0);try{await dSe(z,{[q]:j}),t(de=>de.map(De=>De.id===z?{...De,[q]:j}:De)),O("Contact updated successfully!"),setTimeout(()=>O(null),3e3)}catch{O("Failed to update contact"),setTimeout(()=>O(null),3e3)}w(null),S(""),E(!1)},ie=(z,q,de)=>{z.key==="Enter"&&U(q,de),z.key==="Escape"&&w(null)};function F(){const z=["Name","Email","Phone","Company","Owner","Created"],q=W.map(he=>[he.name,he.email,he.phone,he.company,he.owner_name,he.created_at?.slice(0,10)]),de=[z,...q].map(he=>he.map(Le=>`"${String(Le).replace(/"/g,'""')}"`).join(",")).join(`
`),De=new Blob([de],{type:"text/csv"}),ne=URL.createObjectURL(De),le=document.createElement("a");le.href=ne,le.download="contacts.csv",le.click(),URL.revokeObjectURL(ne)}function G(){const z=["Name","Email","Phone","Company","Owner","Created"],q=W.map(ne=>[ne.name,ne.email,ne.phone,ne.company,ne.owner_name,ne.created_at?.slice(0,10)]),de=Sd.aoa_to_sheet([z,...q]),De=Sd.book_new();Sd.book_append_sheet(De,de,"Contacts"),u$(De,"contacts.xlsx")}return r?a.jsx("div",{className:"p-8 text-lg",children:"Loading..."}):a.jsxs("div",{className:"p-6",children:[A&&a.jsx("div",{className:"fixed top-4 right-4 bg-green-500 text-white px-6 py-3 rounded-lg shadow-lg z-50",children:A}),s&&a.jsxs("div",{className:"mb-4 p-4 bg-red-100 border border-red-400 text-red-700 rounded-lg",children:[s,a.jsx("button",{onClick:()=>i(null),className:"ml-2 text-red-500 hover:text-red-700",children:"×"})]}),a.jsxs("div",{className:"flex flex-col md:flex-row md:items-center md:justify-between gap-4 mb-6",children:[a.jsx("h1",{className:"text-3xl font-extrabold text-gray-900 dark:text-white",children:"Contacts"}),a.jsxs("div",{className:"flex items-center gap-3",children:[a.jsxs("div",{className:"relative",children:[a.jsx("input",{value:l,onChange:z=>c(z.target.value),placeholder:"Search name, email, phone, company...",className:"rounded-full pl-10 pr-4 py-2 bg-white/80 dark:bg-gray-800/80 text-gray-900 dark:text-white placeholder:text-gray-400 focus:outline-none focus:ring-2 focus:ring-pink-400 w-72 shadow"}),a.jsx(Fi,{className:"absolute left-3 top-2.5 w-5 h-5 text-gray-400"})]}),a.jsx(Hr,{variant:"success",size:"md",icon:hh,onClick:F,children:"Export CSV"}),a.jsx(Hr,{variant:"purple",size:"md",icon:hh,onClick:G,children:"Export XLS"}),a.jsx(Hr,{variant:"blue",size:"md",icon:_r,onClick:z=>{z&&V(z.currentTarget.getBoundingClientRect()),g(!0)},children:"Add Contact"})]})]}),a.jsx("div",{className:"overflow-x-auto rounded-2xl shadow border bg-white dark:bg-gray-900",children:a.jsxs("table",{className:"min-w-full",children:[a.jsx("thead",{children:a.jsxs("tr",{className:"bg-gray-50 dark:bg-gray-800",children:[a.jsx("th",{className:"px-6 py-3 text-left text-sm font-semibold",children:"Name"}),a.jsx("th",{className:"px-6 py-3 text-left text-sm font-semibold",children:"Email"}),a.jsx("th",{className:"px-6 py-3 text-left text-sm font-semibold",children:"Phone"}),a.jsx("th",{className:"px-6 py-3 text-left text-sm font-semibold",children:"Company"}),a.jsx("th",{className:"px-6 py-3 text-left text-sm font-semibold",children:"Actions"})]})}),a.jsx("tbody",{className:"divide-y divide-gray-200 dark:divide-gray-800",children:W.map(z=>a.jsxs("tr",{className:"hover:bg-gray-50 dark:hover:bg-gray-800",children:[a.jsx("td",{className:"px-6 py-3",children:b&&b.id===z.id&&b.field==="name"?a.jsx("input",{autoFocus:!0,value:j,onChange:q=>S(q.target.value),onBlur:()=>U(z.id,"name"),onKeyDown:q=>ie(q,z.id,"name"),className:"rounded px-2 py-1 border-2 border-blue-400 focus:outline-none focus:ring-2 focus:ring-blue-400 bg-white dark:bg-gray-800 text-gray-900 dark:text-white"}):a.jsx("span",{className:"cursor-pointer hover:underline",onClick:()=>ve(z.id,"name",z.name),children:z.name})}),a.jsx("td",{className:"px-6 py-3",children:b&&b.id===z.id&&b.field==="email"?a.jsx("input",{autoFocus:!0,type:"email",value:j,onChange:q=>S(q.target.value),onBlur:()=>U(z.id,"email"),onKeyDown:q=>ie(q,z.id,"email"),className:"rounded px-2 py-1 border-2 border-blue-400 focus:outline-none focus:ring-2 focus:ring-blue-400 bg-white dark:bg-gray-800 text-gray-900 dark:text-white"}):a.jsx("span",{className:"cursor-pointer hover:underline",onClick:()=>ve(z.id,"email",z.email),children:z.email})}),a.jsx("td",{className:"px-6 py-3",children:b&&b.id===z.id&&b.field==="phone"?a.jsx("input",{autoFocus:!0,value:j,onChange:q=>S(q.target.value),onBlur:()=>U(z.id,"phone"),onKeyDown:q=>ie(q,z.id,"phone"),className:"rounded px-2 py-1 border-2 border-blue-400 focus:outline-none focus:ring-2 focus:ring-blue-400 bg-white dark:bg-gray-800 text-gray-900 dark:text-white"}):a.jsx("span",{className:"cursor-pointer hover:underline",onClick:()=>ve(z.id,"phone",z.phone),children:z.phone})}),a.jsx("td",{className:"px-6 py-3",children:b&&b.id===z.id&&b.field==="company"?a.jsx("input",{autoFocus:!0,value:j,onChange:q=>S(q.target.value),onBlur:()=>U(z.id,"company"),onKeyDown:q=>ie(q,z.id,"company"),className:"rounded px-2 py-1 border-2 border-blue-400 focus:outline-none focus:ring-2 focus:ring-blue-400 bg-white dark:bg-gray-800 text-gray-900 dark:text-white"}):a.jsx("span",{className:"cursor-pointer hover:underline",onClick:()=>ve(z.id,"company",z.company),children:z.company})}),a.jsx("td",{className:"px-6 py-3",children:a.jsxs("div",{className:"flex gap-2",children:[a.jsx("button",{className:"text-blue-600 hover:text-blue-800",onClick:()=>oe(z.id),disabled:k,title:"View Contact",children:a.jsx(gn,{className:"w-4 h-4"})}),a.jsx("button",{className:"text-green-600 hover:text-green-800",onClick:()=>ue(z),disabled:k,title:"Create Lead",children:a.jsx(Oo,{className:"w-4 h-4"})}),a.jsx("button",{className:"text-red-600 hover:text-red-800",onClick:()=>Y(z.id),disabled:k,title:"Delete Contact",children:a.jsx(mi,{className:"w-4 h-4"})})]})})]},z.id))})]})}),a.jsx($t,{open:h,onClose:()=>g(!1),title:"Create Contact",children:a.jsxs("div",{className:"p-6 w-full max-w-md",children:[a.jsxs("div",{className:"flex items-center justify-between mb-4",children:[a.jsx("h2",{className:"text-xl font-bold",children:"Create Contact"}),a.jsx("button",{className:"p-2 hover:bg-gray-100 dark:hover:bg-gray-800 rounded-lg",onClick:()=>g(!1),children:a.jsx(jr,{className:"w-5 h-5 text-gray-500"})})]}),a.jsxs("div",{className:"space-y-4",children:[a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium mb-1",children:"Name *"}),a.jsx("input",{value:D.name,onChange:z=>R({...D,name:z.target.value}),className:"w-full px-3 py-2 border rounded-lg bg-white dark:bg-gray-800",placeholder:"Full name"})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium mb-1",children:"Email"}),a.jsx("input",{type:"email",value:D.email,onChange:z=>R({...D,email:z.target.value}),className:"w-full px-3 py-2 border rounded-lg bg-white dark:bg-gray-800",placeholder:"name@company.com"})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium mb-1",children:"Phone"}),a.jsx("input",{value:D.phone,onChange:z=>R({...D,phone:z.target.value}),className:"w-full px-3 py-2 border rounded-lg bg-white dark:bg-gray-800",placeholder:"+1 555 123 4567"})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium mb-1",children:"Company"}),a.jsx("input",{value:D.company,onChange:z=>R({...D,company:z.target.value}),className:"w-full px-3 py-2 border rounded-lg bg-white dark:bg-gray-800",placeholder:"Company name"})]})]}),a.jsxs("div",{className:"flex gap-3 mt-6",children:[a.jsx("button",{className:"flex-1 px-4 py-2 border rounded-lg",onClick:()=>g(!1),children:"Cancel"}),a.jsx(Hr,{variant:"blue",size:"md",className:"flex-1",onClick:se,disabled:p||!D.name.trim(),loading:p,children:"Create Contact"})]})]})}),a.jsx(Fx,{open:!!d,onClose:()=>f(null),title:"Contact Details",children:d&&a.jsxs(a.Fragment,{children:[a.jsxs("div",{children:[a.jsx("b",{children:"Name:"})," ",d.name]}),a.jsxs("div",{children:[a.jsx("b",{children:"Email:"})," ",d.email]}),a.jsxs("div",{children:[a.jsx("b",{children:"Phone:"})," ",d.phone]}),a.jsxs("div",{children:[a.jsx("b",{children:"Company:"})," ",d.company]}),a.jsxs("div",{children:[a.jsx("b",{children:"Owner:"})," ",d.owner_name]}),a.jsxs("div",{children:[a.jsx("b",{children:"Created:"})," ",d.created_at?.slice(0,10)]})]})}),a.jsxs(Fx,{open:C!==null,onClose:te,title:"Delete Contact?",children:[a.jsx("div",{children:"Are you sure you want to delete this contact? This action cannot be undone."}),a.jsxs("div",{className:"flex gap-4 mt-6 justify-end",children:[a.jsx("button",{className:"px-4 py-2 rounded-full bg-gray-200 dark:bg-gray-800 text-gray-700 dark:text-gray-200 font-semibold hover:bg-gray-300 dark:hover:bg-gray-700 transition",onClick:te,disabled:k,children:"Cancel"}),a.jsx("button",{className:"px-4 py-2 rounded-full bg-red-600 text-white font-semibold hover:bg-red-700 transition disabled:opacity-50",onClick:Q,disabled:k,children:k?"Deleting...":"Delete Contact"})]})]})]})}var di=function(t){var r=t.top,n=t.right,s=t.bottom,i=t.left,l=n-i,c=s-r,d={top:r,right:n,bottom:s,left:i,width:l,height:c,x:i,y:r,center:{x:(n+i)/2,y:(s+r)/2}};return d},t4=function(t,r){return{top:t.top-r.top,left:t.left-r.left,bottom:t.bottom+r.bottom,right:t.right+r.right}},FP=function(t,r){return{top:t.top+r.top,left:t.left+r.left,bottom:t.bottom-r.bottom,right:t.right-r.right}},mSe=function(t,r){return{top:t.top+r.y,left:t.left+r.x,bottom:t.bottom+r.y,right:t.right+r.x}},N2={top:0,right:0,bottom:0,left:0},r4=function(t){var r=t.borderBox,n=t.margin,s=n===void 0?N2:n,i=t.border,l=i===void 0?N2:i,c=t.padding,d=c===void 0?N2:c,f=di(t4(r,s)),h=di(FP(r,l)),g=di(FP(h,d));return{marginBox:f,borderBox:di(r),paddingBox:h,contentBox:g,margin:s,border:l,padding:d}},Os=function(t){var r=t.slice(0,-2),n=t.slice(-2);if(n!=="px")return 0;var s=Number(r);return isNaN(s)&&zL(),s},gSe=function(){return{x:window.pageXOffset,y:window.pageYOffset}},Lx=function(t,r){var n=t.borderBox,s=t.border,i=t.margin,l=t.padding,c=mSe(n,r);return r4({borderBox:c,border:s,margin:i,padding:l})},Bx=function(t,r){return r===void 0&&(r=gSe()),Lx(t,r)},q$=function(t,r){var n={top:Os(r.marginTop),right:Os(r.marginRight),bottom:Os(r.marginBottom),left:Os(r.marginLeft)},s={top:Os(r.paddingTop),right:Os(r.paddingRight),bottom:Os(r.paddingBottom),left:Os(r.paddingLeft)},i={top:Os(r.borderTopWidth),right:Os(r.borderRightWidth),bottom:Os(r.borderBottomWidth),left:Os(r.borderLeftWidth)};return r4({borderBox:t,margin:n,padding:s,border:i})},W$=function(t){var r=t.getBoundingClientRect(),n=window.getComputedStyle(t);return q$(r,n)},zh=function(t){var r=[],n=null,s=function(){for(var l=arguments.length,c=new Array(l),d=0;d<l;d++)c[d]=arguments[d];r=c,!n&&(n=requestAnimationFrame(function(){n=null,t.apply(void 0,r)}))};return s.cancel=function(){n&&(cancelAnimationFrame(n),n=null)},s};function $x(){return $x=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},$x.apply(null,arguments)}function G$(e,t){}G$.bind(null,"warn");G$.bind(null,"error");function To(){}function pSe(e,t){return{...e,...t}}function $s(e,t,r){const n=t.map(s=>{const i=pSe(r,s.options);return e.addEventListener(s.eventName,s.fn,i),function(){e.removeEventListener(s.eventName,s.fn,i)}});return function(){n.forEach(i=>{i()})}}const xSe="Invariant failed";class Ux extends Error{}Ux.prototype.toString=function(){return this.message};function Ge(e,t){throw new Ux(xSe)}class ySe extends Qe.Component{constructor(...t){super(...t),this.callbacks=null,this.unbind=To,this.onWindowError=r=>{const n=this.getCallbacks();n.isDragging()&&n.tryAbort(),r.error instanceof Ux&&r.preventDefault()},this.getCallbacks=()=>{if(!this.callbacks)throw new Error("Unable to find AppCallbacks in <ErrorBoundary/>");return this.callbacks},this.setCallbacks=r=>{this.callbacks=r}}componentDidMount(){this.unbind=$s(window,[{eventName:"error",fn:this.onWindowError}])}componentDidCatch(t){if(t instanceof Ux){this.setState({});return}throw t}componentWillUnmount(){this.unbind()}render(){return this.props.children(this.setCallbacks)}}const vSe=`
  Press space bar to start a drag.
  When dragging you can use the arrow keys to move the item around and escape to cancel.
  Some screen readers may require you to be in focus mode or to use your pass through key
`,zx=e=>e+1,bSe=e=>`
  You have lifted an item in position ${zx(e.source.index)}
`,K$=(e,t)=>{const r=e.droppableId===t.droppableId,n=zx(e.index),s=zx(t.index);return r?`
      You have moved the item from position ${n}
      to position ${s}
    `:`
    You have moved the item from position ${n}
    in list ${e.droppableId}
    to list ${t.droppableId}
    in position ${s}
  `},Y$=(e,t,r)=>t.droppableId===r.droppableId?`
      The item ${e}
      has been combined with ${r.draggableId}`:`
      The item ${e}
      in list ${t.droppableId}
      has been combined with ${r.draggableId}
      in list ${r.droppableId}
    `,wSe=e=>{const t=e.destination;if(t)return K$(e.source,t);const r=e.combine;return r?Y$(e.draggableId,e.source,r):"You are over an area that cannot be dropped on"},LP=e=>`
  The item has returned to its starting position
  of ${zx(e.index)}
`,jSe=e=>{if(e.reason==="CANCEL")return`
      Movement cancelled.
      ${LP(e.source)}
    `;const t=e.destination,r=e.combine;return t?`
      You have dropped the item.
      ${K$(e.source,t)}
    `:r?`
      You have dropped the item.
      ${Y$(e.draggableId,e.source,r)}
    `:`
    The item has been dropped while not over a drop area.
    ${LP(e.source)}
  `},Sp={dragHandleUsageInstructions:vSe,onDragStart:bSe,onDragUpdate:wSe,onDragEnd:jSe};function NSe(e,t){return!!(e===t||Number.isNaN(e)&&Number.isNaN(t))}function X$(e,t){if(e.length!==t.length)return!1;for(let r=0;r<e.length;r++)if(!NSe(e[r],t[r]))return!1;return!0}function It(e,t){const r=v.useState(()=>({inputs:t,result:e()}))[0],n=v.useRef(!0),s=v.useRef(r),l=n.current||!!(t&&s.current.inputs&&X$(t,s.current.inputs))?s.current:{inputs:t,result:e()};return v.useEffect(()=>{n.current=!1,s.current=l},[l]),l.result}function lt(e,t){return It(()=>e,t)}const An={x:0,y:0},qn=(e,t)=>({x:e.x+t.x,y:e.y+t.y}),ls=(e,t)=>({x:e.x-t.x,y:e.y-t.y}),Ao=(e,t)=>e.x===t.x&&e.y===t.y,hf=e=>({x:e.x!==0?-e.x:0,y:e.y!==0?-e.y:0}),uu=(e,t,r=0)=>e==="x"?{x:t,y:r}:{x:r,y:t},Hh=(e,t)=>Math.sqrt((t.x-e.x)**2+(t.y-e.y)**2),BP=(e,t)=>Math.min(...t.map(r=>Hh(e,r))),Q$=e=>t=>({x:e(t.x),y:e(t.y)});var SSe=(e,t)=>{const r=di({top:Math.max(t.top,e.top),right:Math.min(t.right,e.right),bottom:Math.min(t.bottom,e.bottom),left:Math.max(t.left,e.left)});return r.width<=0||r.height<=0?null:r};const km=(e,t)=>({top:e.top+t.y,left:e.left+t.x,bottom:e.bottom+t.y,right:e.right+t.x}),$P=e=>[{x:e.left,y:e.top},{x:e.right,y:e.top},{x:e.left,y:e.bottom},{x:e.right,y:e.bottom}],_Se={top:0,right:0,bottom:0,left:0},kSe=(e,t)=>t?km(e,t.scroll.diff.displacement):e,ESe=(e,t,r)=>r&&r.increasedBy?{...e,[t.end]:e[t.end]+r.increasedBy[t.line]}:e,TSe=(e,t)=>t&&t.shouldClipSubject?SSe(t.pageMarginBox,e):di(e);var $d=({page:e,withPlaceholder:t,axis:r,frame:n})=>{const s=kSe(e.marginBox,n),i=ESe(s,r,t),l=TSe(i,n);return{page:e,withPlaceholder:t,active:l}},n4=(e,t)=>{e.frame||Ge();const r=e.frame,n=ls(t,r.scroll.initial),s=hf(n),i={...r,scroll:{initial:r.scroll.initial,current:t,diff:{value:n,displacement:s},max:r.scroll.max}},l=$d({page:e.subject.page,withPlaceholder:e.subject.withPlaceholder,axis:e.axis,frame:i});return{...e,frame:i,subject:l}};function En(e,t=X$){let r=null;function n(...s){if(r&&r.lastThis===this&&t(s,r.lastArgs))return r.lastResult;const i=e.apply(this,s);return r={lastResult:i,lastArgs:s,lastThis:this},i}return n.clear=function(){r=null},n}const Z$=En(e=>e.reduce((t,r)=>(t[r.descriptor.id]=r,t),{})),J$=En(e=>e.reduce((t,r)=>(t[r.descriptor.id]=r,t),{})),Zy=En(e=>Object.values(e)),ASe=En(e=>Object.values(e));var mf=En((e,t)=>ASe(t).filter(n=>e===n.descriptor.droppableId).sort((n,s)=>n.descriptor.index-s.descriptor.index));function a4(e){return e.at&&e.at.type==="REORDER"?e.at.destination:null}function Jy(e){return e.at&&e.at.type==="COMBINE"?e.at.combine:null}var ev=En((e,t)=>t.filter(r=>r.descriptor.id!==e.descriptor.id)),CSe=({isMovingForward:e,draggable:t,destination:r,insideDestination:n,previousImpact:s})=>{if(!r.isCombineEnabled||!a4(s))return null;function l(y){const b={type:"COMBINE",combine:{draggableId:y,droppableId:r.descriptor.id}};return{...s,at:b}}const c=s.displaced.all,d=c.length?c[0]:null;if(e)return d?l(d):null;const f=ev(t,n);if(!d){if(!f.length)return null;const y=f[f.length-1];return l(y.descriptor.id)}const h=f.findIndex(y=>y.descriptor.id===d);h===-1&&Ge();const g=h-1;if(g<0)return null;const p=f[g];return l(p.descriptor.id)},gf=(e,t)=>e.descriptor.droppableId===t.descriptor.id;const eU={point:An,value:0},Vh={invisible:{},visible:{},all:[]},OSe={displaced:Vh,displacedBy:eU,at:null};var zs=(e,t)=>r=>e<=r&&r<=t,tU=e=>{const t=zs(e.top,e.bottom),r=zs(e.left,e.right);return n=>{if(t(n.top)&&t(n.bottom)&&r(n.left)&&r(n.right))return!0;const i=t(n.top)||t(n.bottom),l=r(n.left)||r(n.right);if(i&&l)return!0;const d=n.top<e.top&&n.bottom>e.bottom,f=n.left<e.left&&n.right>e.right;return d&&f?!0:d&&l||f&&i}},DSe=e=>{const t=zs(e.top,e.bottom),r=zs(e.left,e.right);return n=>t(n.top)&&t(n.bottom)&&r(n.left)&&r(n.right)};const s4={direction:"vertical",line:"y",crossAxisLine:"x",start:"top",end:"bottom",size:"height",crossAxisStart:"left",crossAxisEnd:"right",crossAxisSize:"width"},rU={direction:"horizontal",line:"x",crossAxisLine:"y",start:"left",end:"right",size:"width",crossAxisStart:"top",crossAxisEnd:"bottom",crossAxisSize:"height"};var PSe=e=>t=>{const r=zs(t.top,t.bottom),n=zs(t.left,t.right);return s=>e===s4?r(s.top)&&r(s.bottom):n(s.left)&&n(s.right)};const MSe=(e,t)=>{const r=t.frame?t.frame.scroll.diff.displacement:An;return km(e,r)},RSe=(e,t,r)=>t.subject.active?r(t.subject.active)(e):!1,ISe=(e,t,r)=>r(t)(e),i4=({target:e,destination:t,viewport:r,withDroppableDisplacement:n,isVisibleThroughFrameFn:s})=>{const i=n?MSe(e,t):e;return RSe(i,t,s)&&ISe(i,r,s)},FSe=e=>i4({...e,isVisibleThroughFrameFn:tU}),nU=e=>i4({...e,isVisibleThroughFrameFn:DSe}),LSe=e=>i4({...e,isVisibleThroughFrameFn:PSe(e.destination.axis)}),BSe=(e,t,r)=>{if(typeof r=="boolean")return r;if(!t)return!0;const{invisible:n,visible:s}=t;if(n[e])return!1;const i=s[e];return i?i.shouldAnimate:!0};function $Se(e,t){const r=e.page.marginBox,n={top:t.point.y,right:0,bottom:0,left:t.point.x};return di(t4(r,n))}function qh({afterDragging:e,destination:t,displacedBy:r,viewport:n,forceShouldAnimate:s,last:i}){return e.reduce(function(c,d){const f=$Se(d,r),h=d.descriptor.id;if(c.all.push(h),!FSe({target:f,destination:t,viewport:n,withDroppableDisplacement:!0}))return c.invisible[d.descriptor.id]=!0,c;const p=BSe(h,i,s),y={draggableId:h,shouldAnimate:p};return c.visible[h]=y,c},{all:[],visible:{},invisible:{}})}function USe(e,t){if(!e.length)return 0;const r=e[e.length-1].descriptor.index;return t.inHomeList?r:r+1}function UP({insideDestination:e,inHomeList:t,displacedBy:r,destination:n}){const s=USe(e,{inHomeList:t});return{displaced:Vh,displacedBy:r,at:{type:"REORDER",destination:{droppableId:n.descriptor.id,index:s}}}}function Hx({draggable:e,insideDestination:t,destination:r,viewport:n,displacedBy:s,last:i,index:l,forceShouldAnimate:c}){const d=gf(e,r);if(l==null)return UP({insideDestination:t,inHomeList:d,displacedBy:s,destination:r});const f=t.find(b=>b.descriptor.index===l);if(!f)return UP({insideDestination:t,inHomeList:d,displacedBy:s,destination:r});const h=ev(e,t),g=t.indexOf(f),p=h.slice(g);return{displaced:qh({afterDragging:p,destination:r,displacedBy:s,last:i,viewport:n.frame,forceShouldAnimate:c}),displacedBy:s,at:{type:"REORDER",destination:{droppableId:r.descriptor.id,index:l}}}}function Vo(e,t){return!!t.effected[e]}var zSe=({isMovingForward:e,destination:t,draggables:r,combine:n,afterCritical:s})=>{if(!t.isCombineEnabled)return null;const i=n.draggableId,c=r[i].descriptor.index;return Vo(i,s)?e?c:c-1:e?c+1:c},HSe=({isMovingForward:e,isInHomeList:t,insideDestination:r,location:n})=>{if(!r.length)return null;const s=n.index,i=e?s+1:s-1,l=r[0].descriptor.index,c=r[r.length-1].descriptor.index,d=t?c:c+1;return i<l||i>d?null:i},VSe=({isMovingForward:e,isInHomeList:t,draggable:r,draggables:n,destination:s,insideDestination:i,previousImpact:l,viewport:c,afterCritical:d})=>{const f=l.at;if(f||Ge(),f.type==="REORDER"){const g=HSe({isMovingForward:e,isInHomeList:t,location:f.destination,insideDestination:i});return g==null?null:Hx({draggable:r,insideDestination:i,destination:s,viewport:c,last:l.displaced,displacedBy:l.displacedBy,index:g})}const h=zSe({isMovingForward:e,destination:s,displaced:l.displaced,draggables:n,combine:f.combine,afterCritical:d});return h==null?null:Hx({draggable:r,insideDestination:i,destination:s,viewport:c,last:l.displaced,displacedBy:l.displacedBy,index:h})},qSe=({displaced:e,afterCritical:t,combineWith:r,displacedBy:n})=>{const s=!!(e.visible[r]||e.invisible[r]);return Vo(r,t)?s?An:hf(n.point):s?n.point:An},WSe=({afterCritical:e,impact:t,draggables:r})=>{const n=Jy(t);n||Ge();const s=n.draggableId,i=r[s].page.borderBox.center,l=qSe({displaced:t.displaced,afterCritical:e,combineWith:s,displacedBy:t.displacedBy});return qn(i,l)};const aU=(e,t)=>t.margin[e.start]+t.borderBox[e.size]/2,GSe=(e,t)=>t.margin[e.end]+t.borderBox[e.size]/2,l4=(e,t,r)=>t[e.crossAxisStart]+r.margin[e.crossAxisStart]+r.borderBox[e.crossAxisSize]/2,zP=({axis:e,moveRelativeTo:t,isMoving:r})=>uu(e.line,t.marginBox[e.end]+aU(e,r),l4(e,t.marginBox,r)),HP=({axis:e,moveRelativeTo:t,isMoving:r})=>uu(e.line,t.marginBox[e.start]-GSe(e,r),l4(e,t.marginBox,r)),KSe=({axis:e,moveInto:t,isMoving:r})=>uu(e.line,t.contentBox[e.start]+aU(e,r),l4(e,t.contentBox,r));var YSe=({impact:e,draggable:t,draggables:r,droppable:n,afterCritical:s})=>{const i=mf(n.descriptor.id,r),l=t.page,c=n.axis;if(!i.length)return KSe({axis:c,moveInto:n.page,isMoving:l});const{displaced:d,displacedBy:f}=e,h=d.all[0];if(h){const p=r[h];if(Vo(h,s))return HP({axis:c,moveRelativeTo:p.page,isMoving:l});const y=Lx(p.page,f.point);return HP({axis:c,moveRelativeTo:y,isMoving:l})}const g=i[i.length-1];if(g.descriptor.id===t.descriptor.id)return l.borderBox.center;if(Vo(g.descriptor.id,s)){const p=Lx(g.page,hf(s.displacedBy.point));return zP({axis:c,moveRelativeTo:p,isMoving:l})}return zP({axis:c,moveRelativeTo:g.page,isMoving:l})},kN=(e,t)=>{const r=e.frame;return r?qn(t,r.scroll.diff.displacement):t};const XSe=({impact:e,draggable:t,droppable:r,draggables:n,afterCritical:s})=>{const i=t.page.borderBox.center,l=e.at;return!r||!l?i:l.type==="REORDER"?YSe({impact:e,draggable:t,draggables:n,droppable:r,afterCritical:s}):WSe({impact:e,draggables:n,afterCritical:s})};var tv=e=>{const t=XSe(e),r=e.droppable;return r?kN(r,t):t},sU=(e,t)=>{const r=ls(t,e.scroll.initial),n=hf(r);return{frame:di({top:t.y,bottom:t.y+e.frame.height,left:t.x,right:t.x+e.frame.width}),scroll:{initial:e.scroll.initial,max:e.scroll.max,current:t,diff:{value:r,displacement:n}}}};function VP(e,t){return e.map(r=>t[r])}function QSe(e,t){for(let r=0;r<t.length;r++){const n=t[r].visible[e];if(n)return n}return null}var ZSe=({impact:e,viewport:t,destination:r,draggables:n,maxScrollChange:s})=>{const i=sU(t,qn(t.scroll.current,s)),l=r.frame?n4(r,qn(r.frame.scroll.current,s)):r,c=e.displaced,d=qh({afterDragging:VP(c.all,n),destination:r,displacedBy:e.displacedBy,viewport:i.frame,last:c,forceShouldAnimate:!1}),f=qh({afterDragging:VP(c.all,n),destination:l,displacedBy:e.displacedBy,viewport:t.frame,last:c,forceShouldAnimate:!1}),h={},g={},p=[c,d,f];return c.all.forEach(b=>{const w=QSe(b,p);if(w){g[b]=w;return}h[b]=!0}),{...e,displaced:{all:c.all,invisible:h,visible:g}}},JSe=(e,t)=>qn(e.scroll.diff.displacement,t),o4=({pageBorderBoxCenter:e,draggable:t,viewport:r})=>{const n=JSe(r,e),s=ls(n,t.page.borderBox.center);return qn(t.client.borderBox.center,s)},iU=({draggable:e,destination:t,newPageBorderBoxCenter:r,viewport:n,withDroppableDisplacement:s,onlyOnMainAxis:i=!1})=>{const l=ls(r,e.page.borderBox.center),d={target:km(e.page.borderBox,l),destination:t,withDroppableDisplacement:s,viewport:n};return i?LSe(d):nU(d)},e_e=({isMovingForward:e,draggable:t,destination:r,draggables:n,previousImpact:s,viewport:i,previousPageBorderBoxCenter:l,previousClientSelection:c,afterCritical:d})=>{if(!r.isEnabled)return null;const f=mf(r.descriptor.id,n),h=gf(t,r),g=CSe({isMovingForward:e,draggable:t,destination:r,insideDestination:f,previousImpact:s})||VSe({isMovingForward:e,isInHomeList:h,draggable:t,draggables:n,destination:r,insideDestination:f,previousImpact:s,viewport:i,afterCritical:d});if(!g)return null;const p=tv({impact:g,draggable:t,droppable:r,draggables:n,afterCritical:d});if(iU({draggable:t,destination:r,newPageBorderBoxCenter:p,viewport:i.frame,withDroppableDisplacement:!1,onlyOnMainAxis:!0}))return{clientSelection:o4({pageBorderBoxCenter:p,draggable:t,viewport:i}),impact:g,scrollJumpRequest:null};const b=ls(p,l),w=ZSe({impact:g,viewport:i,destination:r,draggables:n,maxScrollChange:b});return{clientSelection:c,impact:w,scrollJumpRequest:b}};const ua=e=>{const t=e.subject.active;return t||Ge(),t};var t_e=({isMovingForward:e,pageBorderBoxCenter:t,source:r,droppables:n,viewport:s})=>{const i=r.subject.active;if(!i)return null;const l=r.axis,c=zs(i[l.start],i[l.end]),d=Zy(n).filter(h=>h!==r).filter(h=>h.isEnabled).filter(h=>!!h.subject.active).filter(h=>tU(s.frame)(ua(h))).filter(h=>{const g=ua(h);return e?i[l.crossAxisEnd]<g[l.crossAxisEnd]:g[l.crossAxisStart]<i[l.crossAxisStart]}).filter(h=>{const g=ua(h),p=zs(g[l.start],g[l.end]);return c(g[l.start])||c(g[l.end])||p(i[l.start])||p(i[l.end])}).sort((h,g)=>{const p=ua(h)[l.crossAxisStart],y=ua(g)[l.crossAxisStart];return e?p-y:y-p}).filter((h,g,p)=>ua(h)[l.crossAxisStart]===ua(p[0])[l.crossAxisStart]);if(!d.length)return null;if(d.length===1)return d[0];const f=d.filter(h=>zs(ua(h)[l.start],ua(h)[l.end])(t[l.line]));return f.length===1?f[0]:f.length>1?f.sort((h,g)=>ua(h)[l.start]-ua(g)[l.start])[0]:d.sort((h,g)=>{const p=BP(t,$P(ua(h))),y=BP(t,$P(ua(g)));return p!==y?p-y:ua(h)[l.start]-ua(g)[l.start]})[0]};const qP=(e,t)=>{const r=e.page.borderBox.center;return Vo(e.descriptor.id,t)?ls(r,t.displacedBy.point):r},r_e=(e,t)=>{const r=e.page.borderBox;return Vo(e.descriptor.id,t)?km(r,hf(t.displacedBy.point)):r};var n_e=({pageBorderBoxCenter:e,viewport:t,destination:r,insideDestination:n,afterCritical:s})=>n.filter(l=>nU({target:r_e(l,s),destination:r,viewport:t.frame,withDroppableDisplacement:!0})).sort((l,c)=>{const d=Hh(e,kN(r,qP(l,s))),f=Hh(e,kN(r,qP(c,s)));return d<f?-1:f<d?1:l.descriptor.index-c.descriptor.index})[0]||null,Em=En(function(t,r){const n=r[t.line];return{value:n,point:uu(t.line,n)}});const a_e=(e,t,r)=>{const n=e.axis;if(e.descriptor.mode==="virtual")return uu(n.line,t[n.line]);const s=e.subject.page.contentBox[n.size],d=mf(e.descriptor.id,r).reduce((f,h)=>f+h.client.marginBox[n.size],0)+t[n.line]-s;return d<=0?null:uu(n.line,d)},lU=(e,t)=>({...e,scroll:{...e.scroll,max:t}}),oU=(e,t,r)=>{const n=e.frame;gf(t,e)&&Ge(),e.subject.withPlaceholder&&Ge();const s=Em(e.axis,t.displaceBy).point,i=a_e(e,s,r),l={placeholderSize:s,increasedBy:i,oldFrameMaxScroll:e.frame?e.frame.scroll.max:null};if(!n){const h=$d({page:e.subject.page,withPlaceholder:l,axis:e.axis,frame:e.frame});return{...e,subject:h}}const c=i?qn(n.scroll.max,i):n.scroll.max,d=lU(n,c),f=$d({page:e.subject.page,withPlaceholder:l,axis:e.axis,frame:d});return{...e,subject:f,frame:d}},s_e=e=>{const t=e.subject.withPlaceholder;t||Ge();const r=e.frame;if(!r){const l=$d({page:e.subject.page,axis:e.axis,frame:null,withPlaceholder:null});return{...e,subject:l}}const n=t.oldFrameMaxScroll;n||Ge();const s=lU(r,n),i=$d({page:e.subject.page,axis:e.axis,frame:s,withPlaceholder:null});return{...e,subject:i,frame:s}};var i_e=({previousPageBorderBoxCenter:e,moveRelativeTo:t,insideDestination:r,draggable:n,draggables:s,destination:i,viewport:l,afterCritical:c})=>{if(!t){if(r.length)return null;const g={displaced:Vh,displacedBy:eU,at:{type:"REORDER",destination:{droppableId:i.descriptor.id,index:0}}},p=tv({impact:g,draggable:n,droppable:i,draggables:s,afterCritical:c}),y=gf(n,i)?i:oU(i,n,s);return iU({draggable:n,destination:y,newPageBorderBoxCenter:p,viewport:l.frame,withDroppableDisplacement:!1,onlyOnMainAxis:!0})?g:null}const d=e[i.axis.line]<=t.page.borderBox.center[i.axis.line],f=(()=>{const g=t.descriptor.index;return t.descriptor.id===n.descriptor.id||d?g:g+1})(),h=Em(i.axis,n.displaceBy);return Hx({draggable:n,insideDestination:r,destination:i,viewport:l,displacedBy:h,last:Vh,index:f})},l_e=({isMovingForward:e,previousPageBorderBoxCenter:t,draggable:r,isOver:n,draggables:s,droppables:i,viewport:l,afterCritical:c})=>{const d=t_e({isMovingForward:e,pageBorderBoxCenter:t,source:n,droppables:i,viewport:l});if(!d)return null;const f=mf(d.descriptor.id,s),h=n_e({pageBorderBoxCenter:t,viewport:l,destination:d,insideDestination:f,afterCritical:c}),g=i_e({previousPageBorderBoxCenter:t,destination:d,draggable:r,draggables:s,moveRelativeTo:h,insideDestination:f,viewport:l,afterCritical:c});if(!g)return null;const p=tv({impact:g,draggable:r,droppable:d,draggables:s,afterCritical:c});return{clientSelection:o4({pageBorderBoxCenter:p,draggable:r,viewport:l}),impact:g,scrollJumpRequest:null}},us=e=>{const t=e.at;return t?t.type==="REORDER"?t.destination.droppableId:t.combine.droppableId:null};const o_e=(e,t)=>{const r=us(e);return r?t[r]:null};var c_e=({state:e,type:t})=>{const r=o_e(e.impact,e.dimensions.droppables),n=!!r,s=e.dimensions.droppables[e.critical.droppable.id],i=r||s,l=i.axis.direction,c=l==="vertical"&&(t==="MOVE_UP"||t==="MOVE_DOWN")||l==="horizontal"&&(t==="MOVE_LEFT"||t==="MOVE_RIGHT");if(c&&!n)return null;const d=t==="MOVE_DOWN"||t==="MOVE_RIGHT",f=e.dimensions.draggables[e.critical.draggable.id],h=e.current.page.borderBoxCenter,{draggables:g,droppables:p}=e.dimensions;return c?e_e({isMovingForward:d,previousPageBorderBoxCenter:h,draggable:f,destination:i,draggables:g,viewport:e.viewport,previousClientSelection:e.current.client.selection,previousImpact:e.impact,afterCritical:e.afterCritical}):l_e({isMovingForward:d,previousPageBorderBoxCenter:h,draggable:f,isOver:i,draggables:g,droppables:p,viewport:e.viewport,afterCritical:e.afterCritical})};function Ac(e){return e.phase==="DRAGGING"||e.phase==="COLLECTING"}function cU(e){const t=zs(e.top,e.bottom),r=zs(e.left,e.right);return function(s){return t(s.y)&&r(s.x)}}function u_e(e,t){return e.left<t.right&&e.right>t.left&&e.top<t.bottom&&e.bottom>t.top}function d_e({pageBorderBox:e,draggable:t,candidates:r}){const n=t.page.borderBox.center,s=r.map(i=>{const l=i.axis,c=uu(i.axis.line,e.center[l.line],i.page.borderBox.center[l.crossAxisLine]);return{id:i.descriptor.id,distance:Hh(n,c)}}).sort((i,l)=>l.distance-i.distance);return s[0]?s[0].id:null}function f_e({pageBorderBox:e,draggable:t,droppables:r}){const n=Zy(r).filter(s=>{if(!s.isEnabled)return!1;const i=s.subject.active;if(!i||!u_e(e,i))return!1;if(cU(i)(e.center))return!0;const l=s.axis,c=i.center[l.crossAxisLine],d=e[l.crossAxisStart],f=e[l.crossAxisEnd],h=zs(i[l.crossAxisStart],i[l.crossAxisEnd]),g=h(d),p=h(f);return!g&&!p?!0:g?d<c:f>c});return n.length?n.length===1?n[0].descriptor.id:d_e({pageBorderBox:e,draggable:t,candidates:n}):null}const uU=(e,t)=>di(km(e,t));var h_e=(e,t)=>{const r=e.frame;return r?uU(t,r.scroll.diff.value):t};function dU({displaced:e,id:t}){return!!(e.visible[t]||e.invisible[t])}function m_e({draggable:e,closest:t,inHomeList:r}){return t?r&&t.descriptor.index>e.descriptor.index?t.descriptor.index-1:t.descriptor.index:null}var g_e=({pageBorderBoxWithDroppableScroll:e,draggable:t,destination:r,insideDestination:n,last:s,viewport:i,afterCritical:l})=>{const c=r.axis,d=Em(r.axis,t.displaceBy),f=d.value,h=e[c.start],g=e[c.end],y=ev(t,n).find(w=>{const j=w.descriptor.id,S=w.page.borderBox.center[c.line],k=Vo(j,l),E=dU({displaced:s,id:j});return k?E?g<=S:h<S-f:E?g<=S+f:h<S})||null,b=m_e({draggable:t,closest:y,inHomeList:gf(t,r)});return Hx({draggable:t,insideDestination:n,destination:r,viewport:i,last:s,displacedBy:d,index:b})};const p_e=4;var x_e=({draggable:e,pageBorderBoxWithDroppableScroll:t,previousImpact:r,destination:n,insideDestination:s,afterCritical:i})=>{if(!n.isCombineEnabled)return null;const l=n.axis,c=Em(n.axis,e.displaceBy),d=c.value,f=t[l.start],h=t[l.end],p=ev(e,s).find(b=>{const w=b.descriptor.id,j=b.page.borderBox,k=j[l.size]/p_e,E=Vo(w,i),C=dU({displaced:r.displaced,id:w});return E?C?h>j[l.start]+k&&h<j[l.end]-k:f>j[l.start]-d+k&&f<j[l.end]-d-k:C?h>j[l.start]+d+k&&h<j[l.end]+d-k:f>j[l.start]+k&&f<j[l.end]-k});return p?{displacedBy:c,displaced:r.displaced,at:{type:"COMBINE",combine:{draggableId:p.descriptor.id,droppableId:n.descriptor.id}}}:null},fU=({pageOffset:e,draggable:t,draggables:r,droppables:n,previousImpact:s,viewport:i,afterCritical:l})=>{const c=uU(t.page.borderBox,e),d=f_e({pageBorderBox:c,draggable:t,droppables:n});if(!d)return OSe;const f=n[d],h=mf(f.descriptor.id,r),g=h_e(f,c);return x_e({pageBorderBoxWithDroppableScroll:g,draggable:t,previousImpact:s,destination:f,insideDestination:h,afterCritical:l})||g_e({pageBorderBoxWithDroppableScroll:g,draggable:t,destination:f,insideDestination:h,last:s.displaced,viewport:i,afterCritical:l})},c4=(e,t)=>({...e,[t.descriptor.id]:t});const y_e=({previousImpact:e,impact:t,droppables:r})=>{const n=us(e),s=us(t);if(!n||n===s)return r;const i=r[n];if(!i.subject.withPlaceholder)return r;const l=s_e(i);return c4(r,l)};var v_e=({draggable:e,draggables:t,droppables:r,previousImpact:n,impact:s})=>{const i=y_e({previousImpact:n,impact:s,droppables:r}),l=us(s);if(!l)return i;const c=r[l];if(gf(e,c)||c.subject.withPlaceholder)return i;const d=oU(c,e,t);return c4(i,d)},lh=({state:e,clientSelection:t,dimensions:r,viewport:n,impact:s,scrollJumpRequest:i})=>{const l=n||e.viewport,c=r||e.dimensions,d=t||e.current.client.selection,f=ls(d,e.initial.client.selection),h={offset:f,selection:d,borderBoxCenter:qn(e.initial.client.borderBoxCenter,f)},g={selection:qn(h.selection,l.scroll.current),borderBoxCenter:qn(h.borderBoxCenter,l.scroll.current),offset:qn(h.offset,l.scroll.diff.value)},p={client:h,page:g};if(e.phase==="COLLECTING")return{...e,dimensions:c,viewport:l,current:p};const y=c.draggables[e.critical.draggable.id],b=s||fU({pageOffset:g.offset,draggable:y,draggables:c.draggables,droppables:c.droppables,previousImpact:e.impact,viewport:l,afterCritical:e.afterCritical}),w=v_e({draggable:y,impact:b,previousImpact:e.impact,draggables:c.draggables,droppables:c.droppables});return{...e,current:p,dimensions:{draggables:c.draggables,droppables:w},impact:b,viewport:l,scrollJumpRequest:i||null,forceShouldAnimate:i?!1:null}};function b_e(e,t){return e.map(r=>t[r])}var hU=({impact:e,viewport:t,draggables:r,destination:n,forceShouldAnimate:s})=>{const i=e.displaced,l=b_e(i.all,r),c=qh({afterDragging:l,destination:n,displacedBy:e.displacedBy,viewport:t.frame,forceShouldAnimate:s,last:i});return{...e,displaced:c}},mU=({impact:e,draggable:t,droppable:r,draggables:n,viewport:s,afterCritical:i})=>{const l=tv({impact:e,draggable:t,draggables:n,droppable:r,afterCritical:i});return o4({pageBorderBoxCenter:l,draggable:t,viewport:s})},gU=({state:e,dimensions:t,viewport:r})=>{e.movementMode!=="SNAP"&&Ge();const n=e.impact,s=r||e.viewport,i=t||e.dimensions,{draggables:l,droppables:c}=i,d=l[e.critical.draggable.id],f=us(n);f||Ge();const h=c[f],g=hU({impact:n,viewport:s,destination:h,draggables:l}),p=mU({impact:g,draggable:d,droppable:h,draggables:l,viewport:s,afterCritical:e.afterCritical});return lh({impact:g,clientSelection:p,state:e,dimensions:i,viewport:s})},w_e=e=>({index:e.index,droppableId:e.droppableId}),pU=({draggable:e,home:t,draggables:r,viewport:n})=>{const s=Em(t.axis,e.displaceBy),i=mf(t.descriptor.id,r),l=i.indexOf(e);l===-1&&Ge();const c=i.slice(l+1),d=c.reduce((p,y)=>(p[y.descriptor.id]=!0,p),{}),f={inVirtualList:t.descriptor.mode==="virtual",displacedBy:s,effected:d};return{impact:{displaced:qh({afterDragging:c,destination:t,displacedBy:s,last:null,viewport:n.frame,forceShouldAnimate:!1}),displacedBy:s,at:{type:"REORDER",destination:w_e(e.descriptor)}},afterCritical:f}},j_e=(e,t)=>({draggables:e.draggables,droppables:c4(e.droppables,t)}),N_e=({draggable:e,offset:t,initialWindowScroll:r})=>{const n=Lx(e.client,t),s=Bx(n,r);return{...e,placeholder:{...e.placeholder,client:n},client:n,page:s}},S_e=e=>{const t=e.frame;return t||Ge(),t},__e=({additions:e,updatedDroppables:t,viewport:r})=>{const n=r.scroll.diff.value;return e.map(s=>{const i=s.descriptor.droppableId,l=t[i],d=S_e(l).scroll.diff.value,f=qn(n,d);return N_e({draggable:s,offset:f,initialWindowScroll:r.scroll.initial})})},k_e=({state:e,published:t})=>{const r=t.modified.map(S=>{const k=e.dimensions.droppables[S.droppableId];return n4(k,S.scroll)}),n={...e.dimensions.droppables,...Z$(r)},s=J$(__e({additions:t.additions,updatedDroppables:n,viewport:e.viewport})),i={...e.dimensions.draggables,...s};t.removals.forEach(S=>{delete i[S]});const l={droppables:n,draggables:i},c=us(e.impact),d=c?l.droppables[c]:null,f=l.draggables[e.critical.draggable.id],h=l.droppables[e.critical.droppable.id],{impact:g,afterCritical:p}=pU({draggable:f,home:h,draggables:i,viewport:e.viewport}),y=d&&d.isCombineEnabled?e.impact:g,b=fU({pageOffset:e.current.page.offset,draggable:l.draggables[e.critical.draggable.id],draggables:l.draggables,droppables:l.droppables,previousImpact:y,viewport:e.viewport,afterCritical:p}),w={...e,phase:"DRAGGING",impact:b,onLiftImpact:g,dimensions:l,afterCritical:p,forceShouldAnimate:!1};return e.phase==="COLLECTING"?w:{...w,phase:"DROP_PENDING",reason:e.reason,isWaiting:!1}};const EN=e=>e.movementMode==="SNAP",S2=(e,t,r)=>{const n=j_e(e.dimensions,t);return!EN(e)||r?lh({state:e,dimensions:n}):gU({state:e,dimensions:n})};function _2(e){return e.isDragging&&e.movementMode==="SNAP"?{...e,scrollJumpRequest:null}:e}const WP={phase:"IDLE",completed:null,shouldFlush:!1};var E_e=(e=WP,t)=>{if(t.type==="FLUSH")return{...WP,shouldFlush:!0};if(t.type==="INITIAL_PUBLISH"){e.phase!=="IDLE"&&Ge();const{critical:r,clientSelection:n,viewport:s,dimensions:i,movementMode:l}=t.payload,c=i.draggables[r.draggable.id],d=i.droppables[r.droppable.id],f={selection:n,borderBoxCenter:c.client.borderBox.center,offset:An},h={client:f,page:{selection:qn(f.selection,s.scroll.initial),borderBoxCenter:qn(f.selection,s.scroll.initial),offset:qn(f.selection,s.scroll.diff.value)}},g=Zy(i.droppables).every(w=>!w.isFixedOnPage),{impact:p,afterCritical:y}=pU({draggable:c,home:d,draggables:i.draggables,viewport:s});return{phase:"DRAGGING",isDragging:!0,critical:r,movementMode:l,dimensions:i,initial:h,current:h,isWindowScrollAllowed:g,impact:p,afterCritical:y,onLiftImpact:p,viewport:s,scrollJumpRequest:null,forceShouldAnimate:null}}if(t.type==="COLLECTION_STARTING")return e.phase==="COLLECTING"||e.phase==="DROP_PENDING"?e:(e.phase!=="DRAGGING"&&Ge(),{...e,phase:"COLLECTING"});if(t.type==="PUBLISH_WHILE_DRAGGING")return e.phase==="COLLECTING"||e.phase==="DROP_PENDING"||Ge(),k_e({state:e,published:t.payload});if(t.type==="MOVE"){if(e.phase==="DROP_PENDING")return e;Ac(e)||Ge();const{client:r}=t.payload;return Ao(r,e.current.client.selection)?e:lh({state:e,clientSelection:r,impact:EN(e)?e.impact:null})}if(t.type==="UPDATE_DROPPABLE_SCROLL"){if(e.phase==="DROP_PENDING"||e.phase==="COLLECTING")return _2(e);Ac(e)||Ge();const{id:r,newScroll:n}=t.payload,s=e.dimensions.droppables[r];if(!s)return e;const i=n4(s,n);return S2(e,i,!1)}if(t.type==="UPDATE_DROPPABLE_IS_ENABLED"){if(e.phase==="DROP_PENDING")return e;Ac(e)||Ge();const{id:r,isEnabled:n}=t.payload,s=e.dimensions.droppables[r];s||Ge(),s.isEnabled===n&&Ge();const i={...s,isEnabled:n};return S2(e,i,!0)}if(t.type==="UPDATE_DROPPABLE_IS_COMBINE_ENABLED"){if(e.phase==="DROP_PENDING")return e;Ac(e)||Ge();const{id:r,isCombineEnabled:n}=t.payload,s=e.dimensions.droppables[r];s||Ge(),s.isCombineEnabled===n&&Ge();const i={...s,isCombineEnabled:n};return S2(e,i,!0)}if(t.type==="MOVE_BY_WINDOW_SCROLL"){if(e.phase==="DROP_PENDING"||e.phase==="DROP_ANIMATING")return e;Ac(e)||Ge(),e.isWindowScrollAllowed||Ge();const r=t.payload.newScroll;if(Ao(e.viewport.scroll.current,r))return _2(e);const n=sU(e.viewport,r);return EN(e)?gU({state:e,viewport:n}):lh({state:e,viewport:n})}if(t.type==="UPDATE_VIEWPORT_MAX_SCROLL"){if(!Ac(e))return e;const r=t.payload.maxScroll;if(Ao(r,e.viewport.scroll.max))return e;const n={...e.viewport,scroll:{...e.viewport.scroll,max:r}};return{...e,viewport:n}}if(t.type==="MOVE_UP"||t.type==="MOVE_DOWN"||t.type==="MOVE_LEFT"||t.type==="MOVE_RIGHT"){if(e.phase==="COLLECTING"||e.phase==="DROP_PENDING")return e;e.phase!=="DRAGGING"&&Ge();const r=c_e({state:e,type:t.type});return r?lh({state:e,impact:r.impact,clientSelection:r.clientSelection,scrollJumpRequest:r.scrollJumpRequest}):e}if(t.type==="DROP_PENDING"){const r=t.payload.reason;return e.phase!=="COLLECTING"&&Ge(),{...e,phase:"DROP_PENDING",isWaiting:!0,reason:r}}if(t.type==="DROP_ANIMATE"){const{completed:r,dropDuration:n,newHomeClientOffset:s}=t.payload;return e.phase==="DRAGGING"||e.phase==="DROP_PENDING"||Ge(),{phase:"DROP_ANIMATING",completed:r,dropDuration:n,newHomeClientOffset:s,dimensions:e.dimensions}}if(t.type==="DROP_COMPLETE"){const{completed:r}=t.payload;return{phase:"IDLE",completed:r,shouldFlush:!1}}return e};function Yt(e,t){return e instanceof Object&&"type"in e&&e.type===t}const T_e=e=>({type:"BEFORE_INITIAL_CAPTURE",payload:e}),A_e=e=>({type:"LIFT",payload:e}),C_e=e=>({type:"INITIAL_PUBLISH",payload:e}),O_e=e=>({type:"PUBLISH_WHILE_DRAGGING",payload:e}),D_e=()=>({type:"COLLECTION_STARTING",payload:null}),P_e=e=>({type:"UPDATE_DROPPABLE_SCROLL",payload:e}),M_e=e=>({type:"UPDATE_DROPPABLE_IS_ENABLED",payload:e}),R_e=e=>({type:"UPDATE_DROPPABLE_IS_COMBINE_ENABLED",payload:e}),xU=e=>({type:"MOVE",payload:e}),I_e=e=>({type:"MOVE_BY_WINDOW_SCROLL",payload:e}),F_e=e=>({type:"UPDATE_VIEWPORT_MAX_SCROLL",payload:e}),L_e=()=>({type:"MOVE_UP",payload:null}),B_e=()=>({type:"MOVE_DOWN",payload:null}),$_e=()=>({type:"MOVE_RIGHT",payload:null}),U_e=()=>({type:"MOVE_LEFT",payload:null}),u4=()=>({type:"FLUSH",payload:null}),z_e=e=>({type:"DROP_ANIMATE",payload:e}),d4=e=>({type:"DROP_COMPLETE",payload:e}),yU=e=>({type:"DROP",payload:e}),H_e=e=>({type:"DROP_PENDING",payload:e}),vU=()=>({type:"DROP_ANIMATION_FINISHED",payload:null});var V_e=e=>({getState:t,dispatch:r})=>n=>s=>{if(!Yt(s,"LIFT")){n(s);return}const{id:i,clientSelection:l,movementMode:c}=s.payload,d=t();d.phase==="DROP_ANIMATING"&&r(d4({completed:d.completed})),t().phase!=="IDLE"&&Ge(),r(u4()),r(T_e({draggableId:i,movementMode:c}));const h={draggableId:i,scrollOptions:{shouldPublishImmediately:c==="SNAP"}},{critical:g,dimensions:p,viewport:y}=e.startPublishing(h);r(C_e({critical:g,dimensions:p,clientSelection:l,movementMode:c,viewport:y}))},q_e=e=>()=>t=>r=>{Yt(r,"INITIAL_PUBLISH")&&e.dragging(),Yt(r,"DROP_ANIMATE")&&e.dropping(r.payload.completed.result.reason),(Yt(r,"FLUSH")||Yt(r,"DROP_COMPLETE"))&&e.resting(),t(r)};const f4={outOfTheWay:"cubic-bezier(0.2, 0, 0, 1)",drop:"cubic-bezier(.2,1,.1,1)"},Wh={opacity:{drop:0,combining:.7},scale:{drop:.75}},bU={outOfTheWay:.2,minDropTime:.33,maxDropTime:.55},jc=`${bU.outOfTheWay}s ${f4.outOfTheWay}`,oh={fluid:`opacity ${jc}`,snap:`transform ${jc}, opacity ${jc}`,drop:e=>{const t=`${e}s ${f4.drop}`;return`transform ${t}, opacity ${t}`},outOfTheWay:`transform ${jc}`,placeholder:`height ${jc}, width ${jc}, margin ${jc}`},GP=e=>Ao(e,An)?void 0:`translate(${e.x}px, ${e.y}px)`,TN={moveTo:GP,drop:(e,t)=>{const r=GP(e);if(r)return t?`${r} scale(${Wh.scale.drop})`:r}},{minDropTime:AN,maxDropTime:wU}=bU,W_e=wU-AN,KP=1500,G_e=.6;var K_e=({current:e,destination:t,reason:r})=>{const n=Hh(e,t);if(n<=0)return AN;if(n>=KP)return wU;const s=n/KP,i=AN+W_e*s,l=r==="CANCEL"?i*G_e:i;return Number(l.toFixed(2))},Y_e=({impact:e,draggable:t,dimensions:r,viewport:n,afterCritical:s})=>{const{draggables:i,droppables:l}=r,c=us(e),d=c?l[c]:null,f=l[t.descriptor.droppableId],h=mU({impact:e,draggable:t,draggables:i,afterCritical:s,droppable:d||f,viewport:n});return ls(h,t.client.borderBox.center)},X_e=({draggables:e,reason:t,lastImpact:r,home:n,viewport:s,onLiftImpact:i})=>!r.at||t!=="DROP"?{impact:hU({draggables:e,impact:i,destination:n,viewport:s,forceShouldAnimate:!0}),didDropInsideDroppable:!1}:r.at.type==="REORDER"?{impact:r,didDropInsideDroppable:!0}:{impact:{...r,displaced:Vh},didDropInsideDroppable:!0};const Q_e=({getState:e,dispatch:t})=>r=>n=>{if(!Yt(n,"DROP")){r(n);return}const s=e(),i=n.payload.reason;if(s.phase==="COLLECTING"){t(H_e({reason:i}));return}if(s.phase==="IDLE")return;s.phase==="DROP_PENDING"&&s.isWaiting&&Ge(),s.phase==="DRAGGING"||s.phase==="DROP_PENDING"||Ge();const c=s.critical,d=s.dimensions,f=d.draggables[s.critical.draggable.id],{impact:h,didDropInsideDroppable:g}=X_e({reason:i,lastImpact:s.impact,afterCritical:s.afterCritical,onLiftImpact:s.onLiftImpact,home:s.dimensions.droppables[s.critical.droppable.id],viewport:s.viewport,draggables:s.dimensions.draggables}),p=g?a4(h):null,y=g?Jy(h):null,b={index:c.draggable.index,droppableId:c.droppable.id},w={draggableId:f.descriptor.id,type:f.descriptor.type,source:b,reason:i,mode:s.movementMode,destination:p,combine:y},j=Y_e({impact:h,draggable:f,dimensions:d,viewport:s.viewport,afterCritical:s.afterCritical}),S={critical:s.critical,afterCritical:s.afterCritical,result:w,impact:h};if(!(!Ao(s.current.client.offset,j)||!!w.combine)){t(d4({completed:S}));return}const E=K_e({current:s.current.client.offset,destination:j,reason:i});t(z_e({newHomeClientOffset:j,dropDuration:E,completed:S}))};var jU=()=>({x:window.pageXOffset,y:window.pageYOffset});function Z_e(e){return{eventName:"scroll",options:{passive:!0,capture:!1},fn:t=>{t.target!==window&&t.target!==window.document||e()}}}function J_e({onWindowScroll:e}){function t(){e(jU())}const r=zh(t),n=Z_e(r);let s=To;function i(){return s!==To}function l(){i()&&Ge(),s=$s(window,[n])}function c(){i()||Ge(),r.cancel(),s(),s=To}return{start:l,stop:c,isActive:i}}const eke=e=>Yt(e,"DROP_COMPLETE")||Yt(e,"DROP_ANIMATE")||Yt(e,"FLUSH"),tke=e=>{const t=J_e({onWindowScroll:r=>{e.dispatch(I_e({newScroll:r}))}});return r=>n=>{!t.isActive()&&Yt(n,"INITIAL_PUBLISH")&&t.start(),t.isActive()&&eke(n)&&t.stop(),r(n)}};var rke=e=>{let t=!1,r=!1;const n=setTimeout(()=>{r=!0}),s=i=>{t||r||(t=!0,e(i),clearTimeout(n))};return s.wasCalled=()=>t,s},nke=()=>{const e=[],t=s=>{const i=e.findIndex(c=>c.timerId===s);i===-1&&Ge();const[l]=e.splice(i,1);l.callback()};return{add:s=>{const i=setTimeout(()=>t(i)),l={timerId:i,callback:s};e.push(l)},flush:()=>{if(!e.length)return;const s=[...e];e.length=0,s.forEach(i=>{clearTimeout(i.timerId),i.callback()})}}};const ake=(e,t)=>e==null&&t==null?!0:e==null||t==null?!1:e.droppableId===t.droppableId&&e.index===t.index,ske=(e,t)=>e==null&&t==null?!0:e==null||t==null?!1:e.draggableId===t.draggableId&&e.droppableId===t.droppableId,ike=(e,t)=>{if(e===t)return!0;const r=e.draggable.id===t.draggable.id&&e.draggable.droppableId===t.draggable.droppableId&&e.draggable.type===t.draggable.type&&e.draggable.index===t.draggable.index,n=e.droppable.id===t.droppable.id&&e.droppable.type===t.droppable.type;return r&&n},E0=(e,t)=>{t()},dp=(e,t)=>({draggableId:e.draggable.id,type:e.droppable.type,source:{droppableId:e.droppable.id,index:e.draggable.index},mode:t});function k2(e,t,r,n){if(!e){r(n(t));return}const s=rke(r);e(t,{announce:s}),s.wasCalled()||r(n(t))}var lke=(e,t)=>{const r=nke();let n=null;const s=(g,p)=>{n&&Ge(),E0("onBeforeCapture",()=>{const y=e().onBeforeCapture;y&&y({draggableId:g,mode:p})})},i=(g,p)=>{n&&Ge(),E0("onBeforeDragStart",()=>{const y=e().onBeforeDragStart;y&&y(dp(g,p))})},l=(g,p)=>{n&&Ge();const y=dp(g,p);n={mode:p,lastCritical:g,lastLocation:y.source,lastCombine:null},r.add(()=>{E0("onDragStart",()=>k2(e().onDragStart,y,t,Sp.onDragStart))})},c=(g,p)=>{const y=a4(p),b=Jy(p);n||Ge();const w=!ike(g,n.lastCritical);w&&(n.lastCritical=g);const j=!ake(n.lastLocation,y);j&&(n.lastLocation=y);const S=!ske(n.lastCombine,b);if(S&&(n.lastCombine=b),!w&&!j&&!S)return;const k={...dp(g,n.mode),combine:b,destination:y};r.add(()=>{E0("onDragUpdate",()=>k2(e().onDragUpdate,k,t,Sp.onDragUpdate))})},d=()=>{n||Ge(),r.flush()},f=g=>{n||Ge(),n=null,E0("onDragEnd",()=>k2(e().onDragEnd,g,t,Sp.onDragEnd))};return{beforeCapture:s,beforeStart:i,start:l,update:c,flush:d,drop:f,abort:()=>{if(!n)return;const g={...dp(n.lastCritical,n.mode),combine:null,destination:null,reason:"CANCEL"};f(g)}}},oke=(e,t)=>{const r=lke(e,t);return n=>s=>i=>{if(Yt(i,"BEFORE_INITIAL_CAPTURE")){r.beforeCapture(i.payload.draggableId,i.payload.movementMode);return}if(Yt(i,"INITIAL_PUBLISH")){const c=i.payload.critical;r.beforeStart(c,i.payload.movementMode),s(i),r.start(c,i.payload.movementMode);return}if(Yt(i,"DROP_COMPLETE")){const c=i.payload.completed.result;r.flush(),s(i),r.drop(c);return}if(s(i),Yt(i,"FLUSH")){r.abort();return}const l=n.getState();l.phase==="DRAGGING"&&r.update(l.critical,l.impact)}};const cke=e=>t=>r=>{if(!Yt(r,"DROP_ANIMATION_FINISHED")){t(r);return}const n=e.getState();n.phase!=="DROP_ANIMATING"&&Ge(),e.dispatch(d4({completed:n.completed}))},uke=e=>{let t=null,r=null;function n(){r&&(cancelAnimationFrame(r),r=null),t&&(t(),t=null)}return s=>i=>{if((Yt(i,"FLUSH")||Yt(i,"DROP_COMPLETE")||Yt(i,"DROP_ANIMATION_FINISHED"))&&n(),s(i),!Yt(i,"DROP_ANIMATE"))return;const l={eventName:"scroll",options:{capture:!0,passive:!1,once:!0},fn:function(){e.getState().phase==="DROP_ANIMATING"&&e.dispatch(vU())}};r=requestAnimationFrame(()=>{r=null,t=$s(window,[l])})}};var dke=e=>()=>t=>r=>{(Yt(r,"DROP_COMPLETE")||Yt(r,"FLUSH")||Yt(r,"DROP_ANIMATE"))&&e.stopPublishing(),t(r)},fke=e=>{let t=!1;return()=>r=>n=>{if(Yt(n,"INITIAL_PUBLISH")){t=!0,e.tryRecordFocus(n.payload.critical.draggable.id),r(n),e.tryRestoreFocusRecorded();return}if(r(n),!!t){if(Yt(n,"FLUSH")){t=!1,e.tryRestoreFocusRecorded();return}if(Yt(n,"DROP_COMPLETE")){t=!1;const s=n.payload.completed.result;s.combine&&e.tryShiftRecord(s.draggableId,s.combine.draggableId),e.tryRestoreFocusRecorded()}}}};const hke=e=>Yt(e,"DROP_COMPLETE")||Yt(e,"DROP_ANIMATE")||Yt(e,"FLUSH");var mke=e=>t=>r=>n=>{if(hke(n)){e.stop(),r(n);return}if(Yt(n,"INITIAL_PUBLISH")){r(n);const s=t.getState();s.phase!=="DRAGGING"&&Ge(),e.start(s);return}r(n),e.scroll(t.getState())};const gke=e=>t=>r=>{if(t(r),!Yt(r,"PUBLISH_WHILE_DRAGGING"))return;const n=e.getState();n.phase==="DROP_PENDING"&&(n.isWaiting||e.dispatch(yU({reason:n.reason})))},pke=jh;var xke=({dimensionMarshal:e,focusMarshal:t,styleMarshal:r,getResponders:n,announce:s,autoScroller:i})=>HS(E_e,pke(AI(q_e(r),dke(e),V_e(e),Q_e,cke,uke,gke,mke(i),tke,fke(t),oke(n,s))));const E2=()=>({additions:{},removals:{},modified:{}});function yke({registry:e,callbacks:t}){let r=E2(),n=null;const s=()=>{n||(t.collectionStarting(),n=requestAnimationFrame(()=>{n=null;const{additions:d,removals:f,modified:h}=r,g=Object.keys(d).map(b=>e.draggable.getById(b).getDimension(An)).sort((b,w)=>b.descriptor.index-w.descriptor.index),p=Object.keys(h).map(b=>{const j=e.droppable.getById(b).callbacks.getScrollWhileDragging();return{droppableId:b,scroll:j}}),y={additions:g,removals:Object.keys(f),modified:p};r=E2(),t.publish(y)}))};return{add:d=>{const f=d.descriptor.id;r.additions[f]=d,r.modified[d.descriptor.droppableId]=!0,r.removals[f]&&delete r.removals[f],s()},remove:d=>{const f=d.descriptor;r.removals[f.id]=!0,r.modified[f.droppableId]=!0,r.additions[f.id]&&delete r.additions[f.id],s()},stop:()=>{n&&(cancelAnimationFrame(n),n=null,r=E2())}}}var NU=({scrollHeight:e,scrollWidth:t,height:r,width:n})=>{const s=ls({x:t,y:e},{x:n,y:r});return{x:Math.max(0,s.x),y:Math.max(0,s.y)}},SU=()=>{const e=document.documentElement;return e||Ge(),e},_U=()=>{const e=SU();return NU({scrollHeight:e.scrollHeight,scrollWidth:e.scrollWidth,width:e.clientWidth,height:e.clientHeight})},vke=()=>{const e=jU(),t=_U(),r=e.y,n=e.x,s=SU(),i=s.clientWidth,l=s.clientHeight,c=n+i,d=r+l;return{frame:di({top:r,left:n,right:c,bottom:d}),scroll:{initial:e,current:e,max:t,diff:{value:An,displacement:An}}}},bke=({critical:e,scrollOptions:t,registry:r})=>{const n=vke(),s=n.scroll.current,i=e.droppable,l=r.droppable.getAllByType(i.type).map(h=>h.callbacks.getDimensionAndWatchScroll(s,t)),c=r.draggable.getAllByType(e.draggable.type).map(h=>h.getDimension(s));return{dimensions:{draggables:J$(c),droppables:Z$(l)},critical:e,viewport:n}};function YP(e,t,r){return!(r.descriptor.id===t.id||r.descriptor.type!==t.type||e.droppable.getById(r.descriptor.droppableId).descriptor.mode!=="virtual")}var wke=(e,t)=>{let r=null;const n=yke({callbacks:{publish:t.publishWhileDragging,collectionStarting:t.collectionStarting},registry:e}),s=(p,y)=>{e.droppable.exists(p)||Ge(),r&&t.updateDroppableIsEnabled({id:p,isEnabled:y})},i=(p,y)=>{r&&(e.droppable.exists(p)||Ge(),t.updateDroppableIsCombineEnabled({id:p,isCombineEnabled:y}))},l=(p,y)=>{r&&(e.droppable.exists(p)||Ge(),t.updateDroppableScroll({id:p,newScroll:y}))},c=(p,y)=>{r&&e.droppable.getById(p).callbacks.scroll(y)},d=()=>{if(!r)return;n.stop();const p=r.critical.droppable;e.droppable.getAllByType(p.type).forEach(y=>y.callbacks.dragStopped()),r.unsubscribe(),r=null},f=p=>{r||Ge();const y=r.critical.draggable;p.type==="ADDITION"&&YP(e,y,p.value)&&n.add(p.value),p.type==="REMOVAL"&&YP(e,y,p.value)&&n.remove(p.value)};return{updateDroppableIsEnabled:s,updateDroppableIsCombineEnabled:i,scrollDroppable:c,updateDroppableScroll:l,startPublishing:p=>{r&&Ge();const y=e.draggable.getById(p.draggableId),b=e.droppable.getById(y.descriptor.droppableId),w={draggable:y.descriptor,droppable:b.descriptor},j=e.subscribe(f);return r={critical:w,unsubscribe:j},bke({critical:w,registry:e,scrollOptions:p.scrollOptions})},stopPublishing:d}},kU=(e,t)=>e.phase==="IDLE"?!0:e.phase!=="DROP_ANIMATING"||e.completed.result.draggableId===t?!1:e.completed.result.reason==="DROP",jke=e=>{window.scrollBy(e.x,e.y)};const Nke=En(e=>Zy(e).filter(t=>!(!t.isEnabled||!t.frame))),Ske=(e,t)=>Nke(t).find(n=>(n.frame||Ge(),cU(n.frame.pageMarginBox)(e)))||null;var _ke=({center:e,destination:t,droppables:r})=>{if(t){const s=r[t];return s.frame?s:null}return Ske(e,r)};const Gh={startFromPercentage:.25,maxScrollAtPercentage:.05,maxPixelScroll:28,ease:e=>e**2,durationDampening:{stopDampeningAt:1200,accelerateAt:360},disabled:!1};var kke=(e,t,r=()=>Gh)=>{const n=r(),s=e[t.size]*n.startFromPercentage,i=e[t.size]*n.maxScrollAtPercentage;return{startScrollingFrom:s,maxScrollValueAt:i}},EU=({startOfRange:e,endOfRange:t,current:r})=>{const n=t-e;return n===0?0:(r-e)/n},h4=1,Eke=(e,t,r=()=>Gh)=>{const n=r();if(e>t.startScrollingFrom)return 0;if(e<=t.maxScrollValueAt)return n.maxPixelScroll;if(e===t.startScrollingFrom)return h4;const i=1-EU({startOfRange:t.maxScrollValueAt,endOfRange:t.startScrollingFrom,current:e}),l=n.maxPixelScroll*n.ease(i);return Math.ceil(l)},Tke=(e,t,r)=>{const n=r(),s=n.durationDampening.accelerateAt,i=n.durationDampening.stopDampeningAt,l=t,c=i,f=Date.now()-l;if(f>=i)return e;if(f<s)return h4;const h=EU({startOfRange:s,endOfRange:c,current:f}),g=e*n.ease(h);return Math.ceil(g)},XP=({distanceToEdge:e,thresholds:t,dragStartTime:r,shouldUseTimeDampening:n,getAutoScrollerOptions:s})=>{const i=Eke(e,t,s);return i===0?0:n?Math.max(Tke(i,r,s),h4):i},QP=({container:e,distanceToEdges:t,dragStartTime:r,axis:n,shouldUseTimeDampening:s,getAutoScrollerOptions:i})=>{const l=kke(e,n,i);return t[n.end]<t[n.start]?XP({distanceToEdge:t[n.end],thresholds:l,dragStartTime:r,shouldUseTimeDampening:s,getAutoScrollerOptions:i}):-1*XP({distanceToEdge:t[n.start],thresholds:l,dragStartTime:r,shouldUseTimeDampening:s,getAutoScrollerOptions:i})},Ake=({container:e,subject:t,proposedScroll:r})=>{const n=t.height>e.height,s=t.width>e.width;return!s&&!n?r:s&&n?null:{x:s?0:r.x,y:n?0:r.y}};const Cke=Q$(e=>e===0?0:e);var TU=({dragStartTime:e,container:t,subject:r,center:n,shouldUseTimeDampening:s,getAutoScrollerOptions:i})=>{const l={top:n.y-t.top,right:t.right-n.x,bottom:t.bottom-n.y,left:n.x-t.left},c=QP({container:t,distanceToEdges:l,dragStartTime:e,axis:s4,shouldUseTimeDampening:s,getAutoScrollerOptions:i}),d=QP({container:t,distanceToEdges:l,dragStartTime:e,axis:rU,shouldUseTimeDampening:s,getAutoScrollerOptions:i}),f=Cke({x:d,y:c});if(Ao(f,An))return null;const h=Ake({container:t,subject:r,proposedScroll:f});return h?Ao(h,An)?null:h:null};const Oke=Q$(e=>e===0?0:e>0?1:-1),m4=(()=>{const e=(t,r)=>t<0?t:t>r?t-r:0;return({current:t,max:r,change:n})=>{const s=qn(t,n),i={x:e(s.x,r.x),y:e(s.y,r.y)};return Ao(i,An)?null:i}})(),AU=({max:e,current:t,change:r})=>{const n={x:Math.max(t.x,e.x),y:Math.max(t.y,e.y)},s=Oke(r),i=m4({max:n,current:t,change:s});return!i||s.x!==0&&i.x===0||s.y!==0&&i.y===0},g4=(e,t)=>AU({current:e.scroll.current,max:e.scroll.max,change:t}),Dke=(e,t)=>{if(!g4(e,t))return null;const r=e.scroll.max,n=e.scroll.current;return m4({current:n,max:r,change:t})},p4=(e,t)=>{const r=e.frame;return r?AU({current:r.scroll.current,max:r.scroll.max,change:t}):!1},Pke=(e,t)=>{const r=e.frame;return!r||!p4(e,t)?null:m4({current:r.scroll.current,max:r.scroll.max,change:t})};var Mke=({viewport:e,subject:t,center:r,dragStartTime:n,shouldUseTimeDampening:s,getAutoScrollerOptions:i})=>{const l=TU({dragStartTime:n,container:e.frame,subject:t,center:r,shouldUseTimeDampening:s,getAutoScrollerOptions:i});return l&&g4(e,l)?l:null},Rke=({droppable:e,subject:t,center:r,dragStartTime:n,shouldUseTimeDampening:s,getAutoScrollerOptions:i})=>{const l=e.frame;if(!l)return null;const c=TU({dragStartTime:n,container:l.pageMarginBox,subject:t,center:r,shouldUseTimeDampening:s,getAutoScrollerOptions:i});return c&&p4(e,c)?c:null},ZP=({state:e,dragStartTime:t,shouldUseTimeDampening:r,scrollWindow:n,scrollDroppable:s,getAutoScrollerOptions:i})=>{const l=e.current.page.borderBoxCenter,d=e.dimensions.draggables[e.critical.draggable.id].page.marginBox;if(e.isWindowScrollAllowed){const g=e.viewport,p=Mke({dragStartTime:t,viewport:g,subject:d,center:l,shouldUseTimeDampening:r,getAutoScrollerOptions:i});if(p){n(p);return}}const f=_ke({center:l,destination:us(e.impact),droppables:e.dimensions.droppables});if(!f)return;const h=Rke({dragStartTime:t,droppable:f,subject:d,center:l,shouldUseTimeDampening:r,getAutoScrollerOptions:i});h&&s(f.descriptor.id,h)},Ike=({scrollWindow:e,scrollDroppable:t,getAutoScrollerOptions:r=()=>Gh})=>{const n=zh(e),s=zh(t);let i=null;const l=f=>{i||Ge();const{shouldUseTimeDampening:h,dragStartTime:g}=i;ZP({state:f,scrollWindow:n,scrollDroppable:s,dragStartTime:g,shouldUseTimeDampening:h,getAutoScrollerOptions:r})};return{start:f=>{i&&Ge();const h=Date.now();let g=!1;const p=()=>{g=!0};ZP({state:f,dragStartTime:0,shouldUseTimeDampening:!1,scrollWindow:p,scrollDroppable:p,getAutoScrollerOptions:r}),i={dragStartTime:h,shouldUseTimeDampening:g},g&&l(f)},stop:()=>{i&&(n.cancel(),s.cancel(),i=null)},scroll:l}},Fke=({move:e,scrollDroppable:t,scrollWindow:r})=>{const n=(c,d)=>{const f=qn(c.current.client.selection,d);e({client:f})},s=(c,d)=>{if(!p4(c,d))return d;const f=Pke(c,d);if(!f)return t(c.descriptor.id,d),null;const h=ls(d,f);return t(c.descriptor.id,h),ls(d,h)},i=(c,d,f)=>{if(!c||!g4(d,f))return f;const h=Dke(d,f);if(!h)return r(f),null;const g=ls(f,h);return r(g),ls(f,g)};return c=>{const d=c.scrollJumpRequest;if(!d)return;const f=us(c.impact);f||Ge();const h=s(c.dimensions.droppables[f],d);if(!h)return;const g=c.viewport,p=i(c.isWindowScrollAllowed,g,h);p&&n(c,p)}},Lke=({scrollDroppable:e,scrollWindow:t,move:r,getAutoScrollerOptions:n})=>{const s=Ike({scrollWindow:t,scrollDroppable:e,getAutoScrollerOptions:n}),i=Fke({move:r,scrollWindow:t,scrollDroppable:e});return{scroll:d=>{if(!(n().disabled||d.phase!=="DRAGGING")){if(d.movementMode==="FLUID"){s.scroll(d);return}d.scrollJumpRequest&&i(d)}},start:s.start,stop:s.stop}};const Ud="data-rfd",zd=(()=>{const e=`${Ud}-drag-handle`;return{base:e,draggableId:`${e}-draggable-id`,contextId:`${e}-context-id`}})(),CN=(()=>{const e=`${Ud}-draggable`;return{base:e,contextId:`${e}-context-id`,id:`${e}-id`}})(),Bke=(()=>{const e=`${Ud}-droppable`;return{base:e,contextId:`${e}-context-id`,id:`${e}-id`}})(),JP={contextId:`${Ud}-scroll-container-context-id`},$ke=e=>t=>`[${t}="${e}"]`,T0=(e,t)=>e.map(r=>{const n=r.styles[t];return n?`${r.selector} { ${n} }`:""}).join(" "),Uke="pointer-events: none;";var zke=e=>{const t=$ke(e),r=(()=>{const c=`
      cursor: -webkit-grab;
      cursor: grab;
    `;return{selector:t(zd.contextId),styles:{always:`
          -webkit-touch-callout: none;
          -webkit-tap-highlight-color: rgba(0,0,0,0);
          touch-action: manipulation;
        `,resting:c,dragging:Uke,dropAnimating:c}}})(),n=(()=>{const c=`
      transition: ${oh.outOfTheWay};
    `;return{selector:t(CN.contextId),styles:{dragging:c,dropAnimating:c,userCancel:c}}})(),s={selector:t(Bke.contextId),styles:{always:"overflow-anchor: none;"}},l=[n,r,s,{selector:"body",styles:{dragging:`
        cursor: grabbing;
        cursor: -webkit-grabbing;
        user-select: none;
        -webkit-user-select: none;
        -moz-user-select: none;
        -ms-user-select: none;
        overflow-anchor: none;
      `}}];return{always:T0(l,"always"),resting:T0(l,"resting"),dragging:T0(l,"dragging"),dropAnimating:T0(l,"dropAnimating"),userCancel:T0(l,"userCancel")}};const ds=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u"?v.useLayoutEffect:v.useEffect,T2=()=>{const e=document.querySelector("head");return e||Ge(),e},eM=e=>{const t=document.createElement("style");return e&&t.setAttribute("nonce",e),t.type="text/css",t};function Hke(e,t){const r=It(()=>zke(e),[e]),n=v.useRef(null),s=v.useRef(null),i=lt(En(g=>{const p=s.current;p||Ge(),p.textContent=g}),[]),l=lt(g=>{const p=n.current;p||Ge(),p.textContent=g},[]);ds(()=>{!n.current&&!s.current||Ge();const g=eM(t),p=eM(t);return n.current=g,s.current=p,g.setAttribute(`${Ud}-always`,e),p.setAttribute(`${Ud}-dynamic`,e),T2().appendChild(g),T2().appendChild(p),l(r.always),i(r.resting),()=>{const y=b=>{const w=b.current;w||Ge(),T2().removeChild(w),b.current=null};y(n),y(s)}},[t,l,i,r.always,r.resting,e]);const c=lt(()=>i(r.dragging),[i,r.dragging]),d=lt(g=>{if(g==="DROP"){i(r.dropAnimating);return}i(r.userCancel)},[i,r.dropAnimating,r.userCancel]),f=lt(()=>{s.current&&i(r.resting)},[i,r.resting]);return It(()=>({dragging:c,dropping:d,resting:f}),[c,d,f])}function CU(e,t){return Array.from(e.querySelectorAll(t))}var OU=e=>e&&e.ownerDocument&&e.ownerDocument.defaultView?e.ownerDocument.defaultView:window;function rv(e){return e instanceof OU(e).HTMLElement}function Vke(e,t){const r=`[${zd.contextId}="${e}"]`,n=CU(document,r);if(!n.length)return null;const s=n.find(i=>i.getAttribute(zd.draggableId)===t);return!s||!rv(s)?null:s}function qke(e){const t=v.useRef({}),r=v.useRef(null),n=v.useRef(null),s=v.useRef(!1),i=lt(function(p,y){const b={id:p,focus:y};return t.current[p]=b,function(){const j=t.current;j[p]!==b&&delete j[p]}},[]),l=lt(function(p){const y=Vke(e,p);y&&y!==document.activeElement&&y.focus()},[e]),c=lt(function(p,y){r.current===p&&(r.current=y)},[]),d=lt(function(){n.current||s.current&&(n.current=requestAnimationFrame(()=>{n.current=null;const p=r.current;p&&l(p)}))},[l]),f=lt(function(p){r.current=null;const y=document.activeElement;y&&y.getAttribute(zd.draggableId)===p&&(r.current=p)},[]);return ds(()=>(s.current=!0,function(){s.current=!1;const p=n.current;p&&cancelAnimationFrame(p)}),[]),It(()=>({register:i,tryRecordFocus:f,tryRestoreFocusRecorded:d,tryShiftRecord:c}),[i,f,d,c])}function Wke(){const e={draggables:{},droppables:{}},t=[];function r(g){return t.push(g),function(){const y=t.indexOf(g);y!==-1&&t.splice(y,1)}}function n(g){t.length&&t.forEach(p=>p(g))}function s(g){return e.draggables[g]||null}function i(g){const p=s(g);return p||Ge(),p}const l={register:g=>{e.draggables[g.descriptor.id]=g,n({type:"ADDITION",value:g})},update:(g,p)=>{const y=e.draggables[p.descriptor.id];y&&y.uniqueId===g.uniqueId&&(delete e.draggables[p.descriptor.id],e.draggables[g.descriptor.id]=g)},unregister:g=>{const p=g.descriptor.id,y=s(p);y&&g.uniqueId===y.uniqueId&&(delete e.draggables[p],e.droppables[g.descriptor.droppableId]&&n({type:"REMOVAL",value:g}))},getById:i,findById:s,exists:g=>!!s(g),getAllByType:g=>Object.values(e.draggables).filter(p=>p.descriptor.type===g)};function c(g){return e.droppables[g]||null}function d(g){const p=c(g);return p||Ge(),p}const f={register:g=>{e.droppables[g.descriptor.id]=g},unregister:g=>{const p=c(g.descriptor.id);p&&g.uniqueId===p.uniqueId&&delete e.droppables[g.descriptor.id]},getById:d,findById:c,exists:g=>!!c(g),getAllByType:g=>Object.values(e.droppables).filter(p=>p.descriptor.type===g)};function h(){e.draggables={},e.droppables={},t.length=0}return{draggable:l,droppable:f,subscribe:r,clean:h}}function Gke(){const e=It(Wke,[]);return v.useEffect(()=>function(){e.clean()},[e]),e}var x4=Qe.createContext(null),Vx=()=>{const e=document.body;return e||Ge(),e};const Kke={position:"absolute",width:"1px",height:"1px",margin:"-1px",border:"0",padding:"0",overflow:"hidden",clip:"rect(0 0 0 0)","clip-path":"inset(100%)"},Yke=e=>`rfd-announcement-${e}`;function Xke(e){const t=It(()=>Yke(e),[e]),r=v.useRef(null);return v.useEffect(function(){const i=document.createElement("div");return r.current=i,i.id=t,i.setAttribute("aria-live","assertive"),i.setAttribute("aria-atomic","true"),$x(i.style,Kke),Vx().appendChild(i),function(){setTimeout(function(){const d=Vx();d.contains(i)&&d.removeChild(i),i===r.current&&(r.current=null)})}},[t]),lt(s=>{const i=r.current;if(i){i.textContent=s;return}},[])}const Qke={separator:"::"};function y4(e,t=Qke){const r=Qe.useId();return It(()=>`${e}${t.separator}${r}`,[t.separator,e,r])}function Zke({contextId:e,uniqueId:t}){return`rfd-hidden-text-${e}-${t}`}function Jke({contextId:e,text:t}){const r=y4("hidden-text",{separator:"-"}),n=It(()=>Zke({contextId:e,uniqueId:r}),[r,e]);return v.useEffect(function(){const i=document.createElement("div");return i.id=n,i.textContent=t,i.style.display="none",Vx().appendChild(i),function(){const c=Vx();c.contains(i)&&c.removeChild(i)}},[n,t]),n}var nv=Qe.createContext(null);function DU(e){const t=v.useRef(e);return v.useEffect(()=>{t.current=e}),t}function e4e(){let e=null;function t(){return!!e}function r(l){return l===e}function n(l){e&&Ge();const c={abandon:l};return e=c,c}function s(){e||Ge(),e=null}function i(){e&&(e.abandon(),s())}return{isClaimed:t,isActive:r,claim:n,release:s,tryAbandon:i}}function Kh(e){return e.phase==="IDLE"||e.phase==="DROP_ANIMATING"?!1:e.isDragging}const t4e=9,r4e=13,v4=27,PU=32,n4e=33,a4e=34,s4e=35,i4e=36,l4e=37,o4e=38,c4e=39,u4e=40,d4e={[r4e]:!0,[t4e]:!0};var MU=e=>{d4e[e.keyCode]&&e.preventDefault()};const av=(()=>{const e="visibilitychange";return typeof document>"u"?e:[e,`ms${e}`,`webkit${e}`,`moz${e}`,`o${e}`].find(n=>`on${n}`in document)||e})(),RU=0,tM=5;function f4e(e,t){return Math.abs(t.x-e.x)>=tM||Math.abs(t.y-e.y)>=tM}const rM={type:"IDLE"};function h4e({cancel:e,completed:t,getPhase:r,setPhase:n}){return[{eventName:"mousemove",fn:s=>{const{button:i,clientX:l,clientY:c}=s;if(i!==RU)return;const d={x:l,y:c},f=r();if(f.type==="DRAGGING"){s.preventDefault(),f.actions.move(d);return}f.type!=="PENDING"&&Ge();const h=f.point;if(!f4e(h,d))return;s.preventDefault();const g=f.actions.fluidLift(d);n({type:"DRAGGING",actions:g})}},{eventName:"mouseup",fn:s=>{const i=r();if(i.type!=="DRAGGING"){e();return}s.preventDefault(),i.actions.drop({shouldBlockNextClick:!0}),t()}},{eventName:"mousedown",fn:s=>{r().type==="DRAGGING"&&s.preventDefault(),e()}},{eventName:"keydown",fn:s=>{if(r().type==="PENDING"){e();return}if(s.keyCode===v4){s.preventDefault(),e();return}MU(s)}},{eventName:"resize",fn:e},{eventName:"scroll",options:{passive:!0,capture:!1},fn:()=>{r().type==="PENDING"&&e()}},{eventName:"webkitmouseforcedown",fn:s=>{const i=r();if(i.type==="IDLE"&&Ge(),i.actions.shouldRespectForcePress()){e();return}s.preventDefault()}},{eventName:av,fn:e}]}function m4e(e){const t=v.useRef(rM),r=v.useRef(To),n=It(()=>({eventName:"mousedown",fn:function(g){if(g.defaultPrevented||g.button!==RU||g.ctrlKey||g.metaKey||g.shiftKey||g.altKey)return;const p=e.findClosestDraggableId(g);if(!p)return;const y=e.tryGetLock(p,l,{sourceEvent:g});if(!y)return;g.preventDefault();const b={x:g.clientX,y:g.clientY};r.current(),f(y,b)}}),[e]),s=It(()=>({eventName:"webkitmouseforcewillbegin",fn:h=>{if(h.defaultPrevented)return;const g=e.findClosestDraggableId(h);if(!g)return;const p=e.findOptionsForDraggable(g);p&&(p.shouldRespectForcePress||e.canGetLock(g)&&h.preventDefault())}}),[e]),i=lt(function(){const g={passive:!1,capture:!0};r.current=$s(window,[s,n],g)},[s,n]),l=lt(()=>{t.current.type!=="IDLE"&&(t.current=rM,r.current(),i())},[i]),c=lt(()=>{const h=t.current;l(),h.type==="DRAGGING"&&h.actions.cancel({shouldBlockNextClick:!0}),h.type==="PENDING"&&h.actions.abort()},[l]),d=lt(function(){const g={capture:!0,passive:!1},p=h4e({cancel:c,completed:l,getPhase:()=>t.current,setPhase:y=>{t.current=y}});r.current=$s(window,p,g)},[c,l]),f=lt(function(g,p){t.current.type!=="IDLE"&&Ge(),t.current={type:"PENDING",point:p,actions:g},d()},[d]);ds(function(){return i(),function(){r.current()}},[i])}function g4e(){}const p4e={[a4e]:!0,[n4e]:!0,[i4e]:!0,[s4e]:!0};function x4e(e,t){function r(){t(),e.cancel()}function n(){t(),e.drop()}return[{eventName:"keydown",fn:s=>{if(s.keyCode===v4){s.preventDefault(),r();return}if(s.keyCode===PU){s.preventDefault(),n();return}if(s.keyCode===u4e){s.preventDefault(),e.moveDown();return}if(s.keyCode===o4e){s.preventDefault(),e.moveUp();return}if(s.keyCode===c4e){s.preventDefault(),e.moveRight();return}if(s.keyCode===l4e){s.preventDefault(),e.moveLeft();return}if(p4e[s.keyCode]){s.preventDefault();return}MU(s)}},{eventName:"mousedown",fn:r},{eventName:"mouseup",fn:r},{eventName:"click",fn:r},{eventName:"touchstart",fn:r},{eventName:"resize",fn:r},{eventName:"wheel",fn:r,options:{passive:!0}},{eventName:av,fn:r}]}function y4e(e){const t=v.useRef(g4e),r=It(()=>({eventName:"keydown",fn:function(i){if(i.defaultPrevented||i.keyCode!==PU)return;const l=e.findClosestDraggableId(i);if(!l)return;const c=e.tryGetLock(l,h,{sourceEvent:i});if(!c)return;i.preventDefault();let d=!0;const f=c.snapLift();t.current();function h(){d||Ge(),d=!1,t.current(),n()}t.current=$s(window,x4e(f,h),{capture:!0,passive:!1})}}),[e]),n=lt(function(){const i={passive:!1,capture:!0};t.current=$s(window,[r],i)},[r]);ds(function(){return n(),function(){t.current()}},[n])}const A2={type:"IDLE"},v4e=120,b4e=.15;function w4e({cancel:e,getPhase:t}){return[{eventName:"orientationchange",fn:e},{eventName:"resize",fn:e},{eventName:"contextmenu",fn:r=>{r.preventDefault()}},{eventName:"keydown",fn:r=>{if(t().type!=="DRAGGING"){e();return}r.keyCode===v4&&r.preventDefault(),e()}},{eventName:av,fn:e}]}function j4e({cancel:e,completed:t,getPhase:r}){return[{eventName:"touchmove",options:{capture:!1},fn:n=>{const s=r();if(s.type!=="DRAGGING"){e();return}s.hasMoved=!0;const{clientX:i,clientY:l}=n.touches[0],c={x:i,y:l};n.preventDefault(),s.actions.move(c)}},{eventName:"touchend",fn:n=>{const s=r();if(s.type!=="DRAGGING"){e();return}n.preventDefault(),s.actions.drop({shouldBlockNextClick:!0}),t()}},{eventName:"touchcancel",fn:n=>{if(r().type!=="DRAGGING"){e();return}n.preventDefault(),e()}},{eventName:"touchforcechange",fn:n=>{const s=r();s.type==="IDLE"&&Ge();const i=n.touches[0];if(!i||!(i.force>=b4e))return;const c=s.actions.shouldRespectForcePress();if(s.type==="PENDING"){c&&e();return}if(c){if(s.hasMoved){n.preventDefault();return}e();return}n.preventDefault()}},{eventName:av,fn:e}]}function N4e(e){const t=v.useRef(A2),r=v.useRef(To),n=lt(function(){return t.current},[]),s=lt(function(y){t.current=y},[]),i=It(()=>({eventName:"touchstart",fn:function(y){if(y.defaultPrevented)return;const b=e.findClosestDraggableId(y);if(!b)return;const w=e.tryGetLock(b,c,{sourceEvent:y});if(!w)return;const j=y.touches[0],{clientX:S,clientY:k}=j,E={x:S,y:k};r.current(),g(w,E)}}),[e]),l=lt(function(){const y={capture:!0,passive:!1};r.current=$s(window,[i],y)},[i]),c=lt(()=>{const p=t.current;p.type!=="IDLE"&&(p.type==="PENDING"&&clearTimeout(p.longPressTimerId),s(A2),r.current(),l())},[l,s]),d=lt(()=>{const p=t.current;c(),p.type==="DRAGGING"&&p.actions.cancel({shouldBlockNextClick:!0}),p.type==="PENDING"&&p.actions.abort()},[c]),f=lt(function(){const y={capture:!0,passive:!1},b={cancel:d,completed:c,getPhase:n},w=$s(window,j4e(b),y),j=$s(window,w4e(b),y);r.current=function(){w(),j()}},[d,n,c]),h=lt(function(){const y=n();y.type!=="PENDING"&&Ge();const b=y.actions.fluidLift(y.point);s({type:"DRAGGING",actions:b,hasMoved:!1})},[n,s]),g=lt(function(y,b){n().type!=="IDLE"&&Ge();const w=setTimeout(h,v4e);s({type:"PENDING",point:b,actions:y,longPressTimerId:w}),f()},[f,n,s,h]);ds(function(){return l(),function(){r.current();const b=n();b.type==="PENDING"&&(clearTimeout(b.longPressTimerId),s(A2))}},[n,l,s]),ds(function(){return $s(window,[{eventName:"touchmove",fn:()=>{},options:{capture:!1,passive:!1}}])},[])}const S4e=["input","button","textarea","select","option","optgroup","video","audio"];function IU(e,t){if(t==null)return!1;if(S4e.includes(t.tagName.toLowerCase()))return!0;const n=t.getAttribute("contenteditable");return n==="true"||n===""?!0:t===e?!1:IU(e,t.parentElement)}function _4e(e,t){const r=t.target;return rv(r)?IU(e,r):!1}var k4e=e=>di(e.getBoundingClientRect()).center;function E4e(e){return e instanceof OU(e).Element}const T4e=(()=>{const e="matches";return typeof document>"u"?e:[e,"msMatchesSelector","webkitMatchesSelector"].find(n=>n in Element.prototype)||e})();function FU(e,t){return e==null?null:e[T4e](t)?e:FU(e.parentElement,t)}function A4e(e,t){return e.closest?e.closest(t):FU(e,t)}function C4e(e){return`[${zd.contextId}="${e}"]`}function O4e(e,t){const r=t.target;if(!E4e(r))return null;const n=C4e(e),s=A4e(r,n);return!s||!rv(s)?null:s}function D4e(e,t){const r=O4e(e,t);return r?r.getAttribute(zd.draggableId):null}function P4e(e,t){const r=`[${CN.contextId}="${e}"]`,s=CU(document,r).find(i=>i.getAttribute(CN.id)===t);return!s||!rv(s)?null:s}function M4e(e){e.preventDefault()}function fp({expected:e,phase:t,isLockActive:r,shouldWarn:n}){return!(!r()||e!==t)}function LU({lockAPI:e,store:t,registry:r,draggableId:n}){if(e.isClaimed())return!1;const s=r.draggable.findById(n);return!(!s||!s.options.isEnabled||!kU(t.getState(),n))}function R4e({lockAPI:e,contextId:t,store:r,registry:n,draggableId:s,forceSensorStop:i,sourceEvent:l}){if(!LU({lockAPI:e,store:r,registry:n,draggableId:s}))return null;const d=n.draggable.getById(s),f=P4e(t,d.descriptor.id);if(!f||l&&!d.options.canDragInteractiveElements&&_4e(f,l))return null;const h=e.claim(i||To);let g="PRE_DRAG";function p(){return d.options.shouldRespectForcePress}function y(){return e.isActive(h)}function b(T,A){fp({expected:T,phase:g,isLockActive:y,shouldWarn:!0})&&r.dispatch(A())}const w=b.bind(null,"DRAGGING");function j(T){function A(){e.release(),g="COMPLETED"}g!=="PRE_DRAG"&&(A(),Ge()),r.dispatch(A_e(T.liftActionArgs)),g="DRAGGING";function O(D,R={shouldBlockNextClick:!1}){if(T.cleanup(),R.shouldBlockNextClick){const B=$s(window,[{eventName:"click",fn:M4e,options:{once:!0,passive:!1,capture:!0}}]);setTimeout(B)}A(),r.dispatch(yU({reason:D}))}return{isActive:()=>fp({expected:"DRAGGING",phase:g,isLockActive:y,shouldWarn:!1}),shouldRespectForcePress:p,drop:D=>O("DROP",D),cancel:D=>O("CANCEL",D),...T.actions}}function S(T){const A=zh(D=>{w(()=>xU({client:D}))});return{...j({liftActionArgs:{id:s,clientSelection:T,movementMode:"FLUID"},cleanup:()=>A.cancel(),actions:{move:A}}),move:A}}function k(){const T={moveUp:()=>w(L_e),moveRight:()=>w($_e),moveDown:()=>w(B_e),moveLeft:()=>w(U_e)};return j({liftActionArgs:{id:s,clientSelection:k4e(f),movementMode:"SNAP"},cleanup:To,actions:T})}function E(){fp({expected:"PRE_DRAG",phase:g,isLockActive:y,shouldWarn:!0})&&e.release()}return{isActive:()=>fp({expected:"PRE_DRAG",phase:g,isLockActive:y,shouldWarn:!1}),shouldRespectForcePress:p,fluidLift:S,snapLift:k,abort:E}}const I4e=[m4e,y4e,N4e];function F4e({contextId:e,store:t,registry:r,customSensors:n,enableDefaultSensors:s}){const i=[...s?I4e:[],...n||[]],l=v.useState(()=>e4e())[0],c=lt(function(j,S){Kh(j)&&!Kh(S)&&l.tryAbandon()},[l]);ds(function(){let j=t.getState();return t.subscribe(()=>{const k=t.getState();c(j,k),j=k})},[l,t,c]),ds(()=>l.tryAbandon,[l.tryAbandon]);const d=lt(w=>LU({lockAPI:l,registry:r,store:t,draggableId:w}),[l,r,t]),f=lt((w,j,S)=>R4e({lockAPI:l,registry:r,contextId:e,store:t,draggableId:w,forceSensorStop:j||null,sourceEvent:S&&S.sourceEvent?S.sourceEvent:null}),[e,l,r,t]),h=lt(w=>D4e(e,w),[e]),g=lt(w=>{const j=r.draggable.findById(w);return j?j.options:null},[r.draggable]),p=lt(function(){l.isClaimed()&&(l.tryAbandon(),t.getState().phase!=="IDLE"&&t.dispatch(u4()))},[l,t]),y=lt(()=>l.isClaimed(),[l]),b=It(()=>({canGetLock:d,tryGetLock:f,findClosestDraggableId:h,findOptionsForDraggable:g,tryReleaseLock:p,isLockClaimed:y}),[d,f,h,g,p,y]);for(let w=0;w<i.length;w++)i[w](b)}const L4e=e=>({onBeforeCapture:t=>{const r=()=>{e.onBeforeCapture&&e.onBeforeCapture(t)};Gd.flushSync(r)},onBeforeDragStart:e.onBeforeDragStart,onDragStart:e.onDragStart,onDragEnd:e.onDragEnd,onDragUpdate:e.onDragUpdate}),B4e=e=>({...Gh,...e.autoScrollerOptions,durationDampening:{...Gh.durationDampening,...e.autoScrollerOptions}});function A0(e){return e.current||Ge(),e.current}function $4e(e){const{contextId:t,setCallbacks:r,sensors:n,nonce:s,dragHandleUsageInstructions:i}=e,l=v.useRef(null),c=DU(e),d=lt(()=>L4e(c.current),[c]),f=lt(()=>B4e(c.current),[c]),h=Xke(t),g=Jke({contextId:t,text:i}),p=Hke(t,s),y=lt(B=>{A0(l).dispatch(B)},[]),b=It(()=>F6({publishWhileDragging:O_e,updateDroppableScroll:P_e,updateDroppableIsEnabled:M_e,updateDroppableIsCombineEnabled:R_e,collectionStarting:D_e},y),[y]),w=Gke(),j=It(()=>wke(w,b),[w,b]),S=It(()=>Lke({scrollWindow:jke,scrollDroppable:j.scrollDroppable,getAutoScrollerOptions:f,...F6({move:xU},y)}),[j.scrollDroppable,y,f]),k=qke(t),E=It(()=>xke({announce:h,autoScroller:S,dimensionMarshal:j,focusMarshal:k,getResponders:d,styleMarshal:p}),[h,S,j,k,d,p]);l.current=E;const C=lt(()=>{const B=A0(l);B.getState().phase!=="IDLE"&&B.dispatch(u4())},[]),T=lt(()=>{const B=A0(l).getState();return B.phase==="DROP_ANIMATING"?!0:B.phase==="IDLE"?!1:B.isDragging},[]),A=It(()=>({isDragging:T,tryAbort:C}),[T,C]);r(A);const O=lt(B=>kU(A0(l).getState(),B),[]),D=lt(()=>Ac(A0(l).getState()),[]),R=It(()=>({marshal:j,focus:k,contextId:t,canLift:O,isMovementAllowed:D,dragHandleUsageInstructionsId:g,registry:w}),[t,j,g,k,O,D,w]);return F4e({contextId:t,store:E,registry:w,customSensors:n||null,enableDefaultSensors:e.enableDefaultSensors!==!1}),v.useEffect(()=>C,[C]),Qe.createElement(nv.Provider,{value:R},Qe.createElement(x9,{context:x4,store:E},e.children))}function U4e(){return Qe.useId()}function z4e(e){const t=U4e(),r=e.dragHandleUsageInstructions||Sp.dragHandleUsageInstructions;return Qe.createElement(ySe,null,n=>Qe.createElement($4e,{nonce:e.nonce,contextId:t,setCallbacks:n,dragHandleUsageInstructions:r,enableDefaultSensors:e.enableDefaultSensors,sensors:e.sensors,onBeforeCapture:e.onBeforeCapture,onBeforeDragStart:e.onBeforeDragStart,onDragStart:e.onDragStart,onDragUpdate:e.onDragUpdate,onDragEnd:e.onDragEnd,autoScrollerOptions:e.autoScrollerOptions},e.children))}const nM={dragging:5e3,dropAnimating:4500},H4e=(e,t)=>t?oh.drop(t.duration):e?oh.snap:oh.fluid,V4e=(e,t)=>{if(e)return t?Wh.opacity.drop:Wh.opacity.combining},q4e=e=>e.forceShouldAnimate!=null?e.forceShouldAnimate:e.mode==="SNAP";function W4e(e){const r=e.dimension.client,{offset:n,combineWith:s,dropping:i}=e,l=!!s,c=q4e(e),d=!!i,f=d?TN.drop(n,l):TN.moveTo(n);return{position:"fixed",top:r.marginBox.top,left:r.marginBox.left,boxSizing:"border-box",width:r.borderBox.width,height:r.borderBox.height,transition:H4e(c,i),transform:f,opacity:V4e(l,d),zIndex:d?nM.dropAnimating:nM.dragging,pointerEvents:"none"}}function G4e(e){return{transform:TN.moveTo(e.offset),transition:e.shouldAnimateDisplacement?void 0:"none"}}function K4e(e){return e.type==="DRAGGING"?W4e(e):G4e(e)}function Y4e(e,t,r=An){const n=window.getComputedStyle(t),s=t.getBoundingClientRect(),i=q$(s,n),l=Bx(i,r),c={client:i,tagName:t.tagName.toLowerCase(),display:n.display},d={x:i.marginBox.width,y:i.marginBox.height};return{descriptor:e,placeholder:c,displaceBy:d,client:i,page:l}}function X4e(e){const t=y4("draggable"),{descriptor:r,registry:n,getDraggableRef:s,canDragInteractiveElements:i,shouldRespectForcePress:l,isEnabled:c}=e,d=It(()=>({canDragInteractiveElements:i,shouldRespectForcePress:l,isEnabled:c}),[i,c,l]),f=lt(y=>{const b=s();return b||Ge(),Y4e(r,b,y)},[r,s]),h=It(()=>({uniqueId:t,descriptor:r,options:d,getDimension:f}),[r,f,d,t]),g=v.useRef(h),p=v.useRef(!0);ds(()=>(n.draggable.register(g.current),()=>n.draggable.unregister(g.current)),[n.draggable]),ds(()=>{if(p.current){p.current=!1;return}const y=g.current;g.current=h,n.draggable.update(h,y)},[h,n.draggable])}var b4=Qe.createContext(null);function qx(e){const t=v.useContext(e);return t||Ge(),t}function Q4e(e){e.preventDefault()}const Z4e=e=>{const t=v.useRef(null),r=lt((A=null)=>{t.current=A},[]),n=lt(()=>t.current,[]),{contextId:s,dragHandleUsageInstructionsId:i,registry:l}=qx(nv),{type:c,droppableId:d}=qx(b4),f=It(()=>({id:e.draggableId,index:e.index,type:c,droppableId:d}),[e.draggableId,e.index,c,d]),{children:h,draggableId:g,isEnabled:p,shouldRespectForcePress:y,canDragInteractiveElements:b,isClone:w,mapped:j,dropAnimationFinished:S}=e;if(!w){const A=It(()=>({descriptor:f,registry:l,getDraggableRef:n,canDragInteractiveElements:b,shouldRespectForcePress:y,isEnabled:p}),[f,l,n,b,y,p]);X4e(A)}const k=It(()=>p?{tabIndex:0,role:"button","aria-describedby":i,"data-rfd-drag-handle-draggable-id":g,"data-rfd-drag-handle-context-id":s,draggable:!1,onDragStart:Q4e}:null,[s,i,g,p]),E=lt(A=>{j.type==="DRAGGING"&&j.dropping&&A.propertyName==="transform"&&Gd.flushSync(S)},[S,j]),C=It(()=>{const A=K4e(j),O=j.type==="DRAGGING"&&j.dropping?E:void 0;return{innerRef:r,draggableProps:{"data-rfd-draggable-context-id":s,"data-rfd-draggable-id":g,style:A,onTransitionEnd:O},dragHandleProps:k}},[s,k,g,j,E,r]),T=It(()=>({draggableId:f.id,type:f.type,source:{index:f.index,droppableId:f.droppableId}}),[f.droppableId,f.id,f.index,f.type]);return Qe.createElement(Qe.Fragment,null,h(C,j.snapshot,T))};var BU=(e,t)=>e===t,$U=e=>{const{combine:t,destination:r}=e;return r?r.droppableId:t?t.droppableId:null};const J4e=e=>e.combine?e.combine.draggableId:null,eEe=e=>e.at&&e.at.type==="COMBINE"?e.at.combine.draggableId:null;function tEe(){const e=En((s,i)=>({x:s,y:i})),t=En((s,i,l=null,c=null,d=null)=>({isDragging:!0,isClone:i,isDropAnimating:!!d,dropAnimation:d,mode:s,draggingOver:l,combineWith:c,combineTargetFor:null})),r=En((s,i,l,c,d=null,f=null,h=null)=>({mapped:{type:"DRAGGING",dropping:null,draggingOver:d,combineWith:f,mode:i,offset:s,dimension:l,forceShouldAnimate:h,snapshot:t(i,c,d,f,null)}}));return(s,i)=>{if(Kh(s)){if(s.critical.draggable.id!==i.draggableId)return null;const l=s.current.client.offset,c=s.dimensions.draggables[i.draggableId],d=us(s.impact),f=eEe(s.impact),h=s.forceShouldAnimate;return r(e(l.x,l.y),s.movementMode,c,i.isClone,d,f,h)}if(s.phase==="DROP_ANIMATING"){const l=s.completed;if(l.result.draggableId!==i.draggableId)return null;const c=i.isClone,d=s.dimensions.draggables[i.draggableId],f=l.result,h=f.mode,g=$U(f),p=J4e(f),b={duration:s.dropDuration,curve:f4.drop,moveTo:s.newHomeClientOffset,opacity:p?Wh.opacity.drop:null,scale:p?Wh.scale.drop:null};return{mapped:{type:"DRAGGING",offset:s.newHomeClientOffset,dimension:d,dropping:b,draggingOver:g,combineWith:p,mode:h,forceShouldAnimate:null,snapshot:t(h,c,g,p,b)}}}return null}}function UU(e=null){return{isDragging:!1,isDropAnimating:!1,isClone:!1,dropAnimation:null,mode:null,draggingOver:null,combineTargetFor:e,combineWith:null}}const rEe={mapped:{type:"SECONDARY",offset:An,combineTargetFor:null,shouldAnimateDisplacement:!0,snapshot:UU(null)}};function nEe(){const e=En((l,c)=>({x:l,y:c})),t=En(UU),r=En((l,c=null,d)=>({mapped:{type:"SECONDARY",offset:l,combineTargetFor:c,shouldAnimateDisplacement:d,snapshot:t(c)}})),n=l=>l?r(An,l,!0):null,s=(l,c,d,f)=>{const h=d.displaced.visible[l],g=!!(f.inVirtualList&&f.effected[l]),p=Jy(d),y=p&&p.draggableId===l?c:null;if(!h){if(!g)return n(y);if(d.displaced.invisible[l])return null;const j=hf(f.displacedBy.point),S=e(j.x,j.y);return r(S,y,!0)}if(g)return n(y);const b=d.displacedBy.point,w=e(b.x,b.y);return r(w,y,h.shouldAnimate)};return(l,c)=>{if(Kh(l))return l.critical.draggable.id===c.draggableId?null:s(c.draggableId,l.critical.draggable.id,l.impact,l.afterCritical);if(l.phase==="DROP_ANIMATING"){const d=l.completed;return d.result.draggableId===c.draggableId?null:s(c.draggableId,d.result.draggableId,d.impact,d.afterCritical)}return null}}const aEe=()=>{const e=tEe(),t=nEe();return(n,s)=>e(n,s)||t(n,s)||rEe},sEe={dropAnimationFinished:vU},iEe=p9(aEe,sEe,null,{context:x4,areStatePropsEqual:BU})(Z4e);function zU(e){return qx(b4).isUsingCloneFor===e.draggableId&&!e.isClone?null:Qe.createElement(iEe,e)}function lEe(e){const t=typeof e.isDragDisabled=="boolean"?!e.isDragDisabled:!0,r=!!e.disableInteractiveElementBlocking,n=!!e.shouldRespectForcePress;return Qe.createElement(zU,$x({},e,{isClone:!1,isEnabled:t,canDragInteractiveElements:r,shouldRespectForcePress:n}))}const HU=e=>t=>e===t,oEe=HU("scroll"),cEe=HU("auto"),aM=(e,t)=>t(e.overflowX)||t(e.overflowY),uEe=e=>{const t=window.getComputedStyle(e),r={overflowX:t.overflowX,overflowY:t.overflowY};return aM(r,oEe)||aM(r,cEe)},dEe=()=>!1,VU=e=>e==null?null:e===document.body?dEe()?e:null:e===document.documentElement?null:uEe(e)?e:VU(e.parentElement);var ON=e=>({x:e.scrollLeft,y:e.scrollTop});const qU=e=>e?window.getComputedStyle(e).position==="fixed"?!0:qU(e.parentElement):!1;var fEe=e=>{const t=VU(e),r=qU(e);return{closestScrollable:t,isFixedOnPage:r}},hEe=({descriptor:e,isEnabled:t,isCombineEnabled:r,isFixedOnPage:n,direction:s,client:i,page:l,closest:c})=>{const d=(()=>{if(!c)return null;const{scrollSize:p,client:y}=c,b=NU({scrollHeight:p.scrollHeight,scrollWidth:p.scrollWidth,height:y.paddingBox.height,width:y.paddingBox.width});return{pageMarginBox:c.page.marginBox,frameClient:y,scrollSize:p,shouldClipSubject:c.shouldClipSubject,scroll:{initial:c.scroll,current:c.scroll,max:b,diff:{value:An,displacement:An}}}})(),f=s==="vertical"?s4:rU,h=$d({page:l,withPlaceholder:null,axis:f,frame:d});return{descriptor:e,isCombineEnabled:r,isFixedOnPage:n,axis:f,isEnabled:t,client:i,page:l,frame:d,subject:h}};const mEe=(e,t)=>{const r=W$(e);if(!t||e!==t)return r;const n=r.paddingBox.top-t.scrollTop,s=r.paddingBox.left-t.scrollLeft,i=n+t.scrollHeight,l=s+t.scrollWidth,d=t4({top:n,right:l,bottom:i,left:s},r.border);return r4({borderBox:d,margin:r.margin,border:r.border,padding:r.padding})};var gEe=({ref:e,descriptor:t,env:r,windowScroll:n,direction:s,isDropDisabled:i,isCombineEnabled:l,shouldClipSubject:c})=>{const d=r.closestScrollable,f=mEe(e,d),h=Bx(f,n),g=(()=>{if(!d)return null;const y=W$(d),b={scrollHeight:d.scrollHeight,scrollWidth:d.scrollWidth};return{client:y,page:Bx(y,n),scroll:ON(d),scrollSize:b,shouldClipSubject:c}})();return hEe({descriptor:t,isEnabled:!i,isCombineEnabled:l,isFixedOnPage:r.isFixedOnPage,direction:s,client:f,page:h,closest:g})};const pEe={passive:!1},xEe={passive:!0};var sM=e=>e.shouldPublishImmediately?pEe:xEe;const hp=e=>e&&e.env.closestScrollable||null;function yEe(e){const t=v.useRef(null),r=qx(nv),n=y4("droppable"),{registry:s,marshal:i}=r,l=DU(e),c=It(()=>({id:e.droppableId,type:e.type,mode:e.mode}),[e.droppableId,e.mode,e.type]),d=v.useRef(c),f=It(()=>En((C,T)=>{t.current||Ge();const A={x:C,y:T};i.updateDroppableScroll(c.id,A)}),[c.id,i]),h=lt(()=>{const C=t.current;return!C||!C.env.closestScrollable?An:ON(C.env.closestScrollable)},[]),g=lt(()=>{const C=h();f(C.x,C.y)},[h,f]),p=It(()=>zh(g),[g]),y=lt(()=>{const C=t.current,T=hp(C);if(C&&T||Ge(),C.scrollOptions.shouldPublishImmediately){g();return}p()},[p,g]),b=lt((C,T)=>{t.current&&Ge();const A=l.current,O=A.getDroppableRef();O||Ge();const D=fEe(O),R={ref:O,descriptor:c,env:D,scrollOptions:T};t.current=R;const B=gEe({ref:O,descriptor:c,env:D,windowScroll:C,direction:A.direction,isDropDisabled:A.isDropDisabled,isCombineEnabled:A.isCombineEnabled,shouldClipSubject:!A.ignoreContainerClipping}),V=D.closestScrollable;return V&&(V.setAttribute(JP.contextId,r.contextId),V.addEventListener("scroll",y,sM(R.scrollOptions))),B},[r.contextId,c,y,l]),w=lt(()=>{const C=t.current,T=hp(C);return C&&T||Ge(),ON(T)},[]),j=lt(()=>{const C=t.current;C||Ge();const T=hp(C);t.current=null,T&&(p.cancel(),T.removeAttribute(JP.contextId),T.removeEventListener("scroll",y,sM(C.scrollOptions)))},[y,p]),S=lt(C=>{const T=t.current;T||Ge();const A=hp(T);A||Ge(),A.scrollTop+=C.y,A.scrollLeft+=C.x},[]),k=It(()=>({getDimensionAndWatchScroll:b,getScrollWhileDragging:w,dragStopped:j,scroll:S}),[j,b,w,S]),E=It(()=>({uniqueId:n,descriptor:c,callbacks:k}),[k,c,n]);ds(()=>(d.current=E.descriptor,s.droppable.register(E),()=>{t.current&&j(),s.droppable.unregister(E)}),[k,c,j,E,i,s.droppable]),ds(()=>{t.current&&i.updateDroppableIsEnabled(d.current.id,!e.isDropDisabled)},[e.isDropDisabled,i]),ds(()=>{t.current&&i.updateDroppableIsCombineEnabled(d.current.id,e.isCombineEnabled)},[e.isCombineEnabled,i])}function C2(){}const iM={width:0,height:0,margin:_Se},vEe=({isAnimatingOpenOnMount:e,placeholder:t,animate:r})=>e||r==="close"?iM:{height:t.client.borderBox.height,width:t.client.borderBox.width,margin:t.client.margin},bEe=({isAnimatingOpenOnMount:e,placeholder:t,animate:r})=>{const n=vEe({isAnimatingOpenOnMount:e,placeholder:t,animate:r});return{display:t.display,boxSizing:"border-box",width:n.width,height:n.height,marginTop:n.margin.top,marginRight:n.margin.right,marginBottom:n.margin.bottom,marginLeft:n.margin.left,flexShrink:"0",flexGrow:"0",pointerEvents:"none",transition:r!=="none"?oh.placeholder:null}},wEe=e=>{const t=v.useRef(null),r=lt(()=>{t.current&&(clearTimeout(t.current),t.current=null)},[]),{animate:n,onTransitionEnd:s,onClose:i,contextId:l}=e,[c,d]=v.useState(e.animate==="open");v.useEffect(()=>c?n!=="open"?(r(),d(!1),C2):t.current?C2:(t.current=setTimeout(()=>{t.current=null,d(!1)}),r):C2,[n,c,r]);const f=lt(g=>{g.propertyName==="height"&&(s(),n==="close"&&i())},[n,i,s]),h=bEe({isAnimatingOpenOnMount:c,animate:e.animate,placeholder:e.placeholder});return Qe.createElement(e.placeholder.tagName,{style:h,"data-rfd-placeholder-context-id":l,onTransitionEnd:f,ref:e.innerRef})};var jEe=Qe.memo(wEe);class NEe extends Qe.PureComponent{constructor(...t){super(...t),this.state={isVisible:!!this.props.on,data:this.props.on,animate:this.props.shouldAnimate&&this.props.on?"open":"none"},this.onClose=()=>{this.state.animate==="close"&&this.setState({isVisible:!1})}}static getDerivedStateFromProps(t,r){return t.shouldAnimate?t.on?{isVisible:!0,data:t.on,animate:"open"}:r.isVisible?{isVisible:!0,data:r.data,animate:"close"}:{isVisible:!1,animate:"close",data:null}:{isVisible:!!t.on,data:t.on,animate:"none"}}render(){if(!this.state.isVisible)return null;const t={onClose:this.onClose,data:this.state.data,animate:this.state.animate};return this.props.children(t)}}const SEe=e=>{const t=v.useContext(nv);t||Ge();const{contextId:r,isMovementAllowed:n}=t,s=v.useRef(null),i=v.useRef(null),{children:l,droppableId:c,type:d,mode:f,direction:h,ignoreContainerClipping:g,isDropDisabled:p,isCombineEnabled:y,snapshot:b,useClone:w,updateViewportMaxScroll:j,getContainerForClone:S}=e,k=lt(()=>s.current,[]),E=lt((V=null)=>{s.current=V},[]);lt(()=>i.current,[]);const C=lt((V=null)=>{i.current=V},[]),T=lt(()=>{n()&&j({maxScroll:_U()})},[n,j]);yEe({droppableId:c,type:d,mode:f,direction:h,isDropDisabled:p,isCombineEnabled:y,ignoreContainerClipping:g,getDroppableRef:k});const A=It(()=>Qe.createElement(NEe,{on:e.placeholder,shouldAnimate:e.shouldAnimatePlaceholder},({onClose:V,data:W,animate:se})=>Qe.createElement(jEe,{placeholder:W,onClose:V,innerRef:C,animate:se,contextId:r,onTransitionEnd:T})),[r,T,e.placeholder,e.shouldAnimatePlaceholder,C]),O=It(()=>({innerRef:E,placeholder:A,droppableProps:{"data-rfd-droppable-id":c,"data-rfd-droppable-context-id":r}}),[r,c,A,E]),D=w?w.dragging.draggableId:null,R=It(()=>({droppableId:c,type:d,isUsingCloneFor:D}),[c,D,d]);function B(){if(!w)return null;const{dragging:V,render:W}=w,se=Qe.createElement(zU,{draggableId:V.draggableId,index:V.source.index,isClone:!0,isEnabled:!0,shouldRespectForcePress:!1,canDragInteractiveElements:!0},(oe,Y)=>W(oe,Y,V));return uW.createPortal(se,S())}return Qe.createElement(b4.Provider,{value:R},l(O,b),B())};function _Ee(){return document.body||Ge(),document.body}const lM={mode:"standard",type:"DEFAULT",direction:"vertical",isDropDisabled:!1,isCombineEnabled:!1,ignoreContainerClipping:!1,renderClone:null,getContainerForClone:_Ee},WU=e=>{let t={...e},r;for(r in lM)e[r]===void 0&&(t={...t,[r]:lM[r]});return t},O2=(e,t)=>e===t.droppable.type,oM=(e,t)=>t.draggables[e.draggable.id],kEe=()=>{const e={placeholder:null,shouldAnimatePlaceholder:!0,snapshot:{isDraggingOver:!1,draggingOverWith:null,draggingFromThisWith:null,isUsingPlaceholder:!1},useClone:null},t={...e,shouldAnimatePlaceholder:!1},r=En(i=>({draggableId:i.id,type:i.type,source:{index:i.index,droppableId:i.droppableId}})),n=En((i,l,c,d,f,h)=>{const g=f.descriptor.id;if(f.descriptor.droppableId===i){const b=h?{render:h,dragging:r(f.descriptor)}:null,w={isDraggingOver:c,draggingOverWith:c?g:null,draggingFromThisWith:g,isUsingPlaceholder:!0};return{placeholder:f.placeholder,shouldAnimatePlaceholder:!1,snapshot:w,useClone:b}}if(!l)return t;if(!d)return e;const y={isDraggingOver:c,draggingOverWith:g,draggingFromThisWith:null,isUsingPlaceholder:!0};return{placeholder:f.placeholder,shouldAnimatePlaceholder:!0,snapshot:y,useClone:null}});return(i,l)=>{const c=WU(l),d=c.droppableId,f=c.type,h=!c.isDropDisabled,g=c.renderClone;if(Kh(i)){const p=i.critical;if(!O2(f,p))return t;const y=oM(p,i.dimensions),b=us(i.impact)===d;return n(d,h,b,b,y,g)}if(i.phase==="DROP_ANIMATING"){const p=i.completed;if(!O2(f,p.critical))return t;const y=oM(p.critical,i.dimensions);return n(d,h,$U(p.result)===d,us(p.impact)===d,y,g)}if(i.phase==="IDLE"&&i.completed&&!i.shouldFlush){const p=i.completed;if(!O2(f,p.critical))return t;const y=us(p.impact)===d,b=!!(p.impact.at&&p.impact.at.type==="COMBINE"),w=p.critical.droppable.id===d;return y?b?e:t:w?e:t}return t}},EEe={updateViewportMaxScroll:F_e},TEe=p9(kEe,EEe,(e,t,r)=>({...WU(r),...e,...t}),{context:x4,areStatePropsEqual:BU})(SEe),mp={async getStages(){return Ee("/stages","GET")},async createStage(e){return Ee("/stages","POST",e)},async updateStage(e,t){return Ee(`/stages/${e}`,"PUT",t)},async deleteStage(e){return Ee(`/stages/${e}`,"DELETE")}},AEe=async()=>Ee("/api/kanban/board"),CEe=async(e,t)=>Ee(`/api/kanban/deals/${e}`,{method:"PUT",body:JSON.stringify(t)}),cM=async(e,t,r)=>Ee(`/api/kanban/deals/${e}/move`,{method:"POST",body:JSON.stringify({to_stage_id:t,position:r})}),OEe=async e=>Ee(`/api/kanban/deals/${e}/watch`,{method:"POST"}),DEe=async e=>Ee(`/api/kanban/deals/${e}/watch`,{method:"POST"}),GU=({isOpen:e,onClose:t,onConfirm:r,title:n,message:s,confirmText:i="Confirm",cancelText:l="Cancel",type:c="danger",isLoading:d=!1})=>{if(!e)return null;const f=()=>{switch(c){case"danger":return"text-red-500";case"warning":return"text-yellow-500";case"info":return"text-blue-500";default:return"text-red-500"}},h=()=>{switch(c){case"danger":return"bg-red-600 hover:bg-red-700 focus:ring-red-500";case"warning":return"bg-yellow-600 hover:bg-yellow-700 focus:ring-yellow-500";case"info":return"bg-blue-600 hover:bg-blue-700 focus:ring-blue-500";default:return"bg-red-600 hover:bg-red-700 focus:ring-red-500"}};return a.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:a.jsx("div",{className:"bg-white rounded-lg shadow-xl max-w-md w-full mx-4",children:a.jsxs("div",{className:"p-6",children:[a.jsxs("div",{className:"flex items-center justify-between mb-4",children:[a.jsxs("div",{className:"flex items-center",children:[a.jsx(pa,{className:`w-6 h-6 ${f()} mr-3`}),a.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:n})]}),a.jsx("button",{onClick:t,className:"text-gray-400 hover:text-gray-600 transition-colors",disabled:d,children:a.jsx(jr,{className:"w-5 h-5"})})]}),a.jsx("div",{className:"mb-6",children:a.jsx("p",{className:"text-sm text-gray-600 leading-relaxed",children:s})}),a.jsxs("div",{className:"flex justify-end space-x-3",children:[a.jsx("button",{onClick:t,disabled:d,className:"px-4 py-2 text-sm font-medium text-gray-700 bg-gray-100 border border-gray-300 rounded-md hover:bg-gray-200 focus:outline-none focus:ring-2 focus:ring-gray-500 focus:ring-offset-2 disabled:opacity-50 disabled:cursor-not-allowed transition-colors",children:l}),a.jsx("button",{onClick:r,disabled:d,className:`px-4 py-2 text-sm font-medium text-white rounded-md focus:outline-none focus:ring-2 focus:ring-offset-2 disabled:opacity-50 disabled:cursor-not-allowed transition-colors ${h()}`,children:d?a.jsxs("div",{className:"flex items-center",children:[a.jsx("div",{className:"animate-spin rounded-full h-4 w-4 border-b-2 border-white mr-2"}),"Processing..."]}):i})]})]})})})};function PEe({isOpen:e,onClose:t,onStagesUpdated:r}){const[n,s]=v.useState([]),[i,l]=v.useState(!1),[c,d]=v.useState(null),[f,h]=v.useState(!1),[g,p]=v.useState(null),[y,b]=v.useState({name:"",order:0,wip_limit:void 0}),[w,j]=v.useState({isOpen:!1,title:"",message:"",onConfirm:()=>{}});v.useEffect(()=>{e&&S()},[e]);const S=async()=>{l(!0),d(null);try{const A=await mp.getStages();s(A)}catch(A){d("Failed to load stages"),console.error("Error loading stages:",A)}finally{l(!1)}},k=async()=>{if(y.name.trim()){l(!0);try{const A=Math.max(...n.map(O=>O.order),0)+1;await mp.createStage({...y,order:A}),b({name:"",order:0,wip_limit:void 0}),h(!1),await S(),r()}catch(A){d("Failed to create stage"),console.error("Error creating stage:",A)}finally{l(!1)}}},E=async A=>{l(!0);try{await mp.updateStage(A.id,{name:A.name,order:A.order,wip_limit:A.wip_limit}),p(null),await S(),r()}catch(O){d("Failed to update stage"),console.error("Error updating stage:",O)}finally{l(!1)}},C=async A=>{if(window.confirm("Are you sure you want to delete this stage? Deals in this stage will be moved to the first stage.")){l(!0);try{await mp.deleteStage(A),await S(),r()}catch(O){d("Failed to delete stage"),console.error("Error deleting stage:",O)}finally{l(!1)}}},T=(A,O)=>{const D=[...n],R=O==="up"?A-1:A+1;R<0||R>=D.length||([D[A],D[R]]=[D[R],D[A]],D.forEach((B,V)=>{B.order=V+1}),s(D))};return e?a.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center bg-black bg-opacity-50",children:a.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-2xl shadow-2xl w-full max-w-2xl max-h-[90vh] overflow-hidden",children:[a.jsxs("div",{className:"flex items-center justify-between p-6 border-b border-gray-200 dark:border-gray-700",children:[a.jsx("h2",{className:"text-2xl font-bold text-gray-900 dark:text-white",children:"Manage Stages"}),a.jsx("button",{onClick:t,className:"p-2 hover:bg-gray-100 dark:hover:bg-gray-700 rounded-full transition-colors",children:a.jsx(jr,{className:"w-5 h-5"})})]}),a.jsxs("div",{className:"p-6 overflow-y-auto max-h-[calc(90vh-140px)]",children:[c&&a.jsx("div",{className:"mb-4 p-3 bg-red-100 dark:bg-red-900 text-red-700 dark:text-red-300 rounded-lg",children:c}),a.jsxs("div",{className:"mb-6",children:[a.jsxs("button",{onClick:()=>h(!f),className:"flex items-center gap-2 px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors",children:[a.jsx(_r,{className:"w-4 h-4"}),"Add New Stage"]}),f&&a.jsx("div",{className:"mt-4 p-4 border border-gray-200 dark:border-gray-700 rounded-lg",children:a.jsxs("div",{className:"space-y-4",children:[a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:"Stage Name"}),a.jsx("input",{type:"text",value:y.name,onChange:A=>b({...y,name:A.target.value}),className:"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent dark:bg-gray-700 dark:text-white",placeholder:"Enter stage name"})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:"WIP Limit (optional)"}),a.jsx("input",{type:"number",value:y.wip_limit||"",onChange:A=>b({...y,wip_limit:A.target.value?parseInt(A.target.value):void 0}),className:"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent dark:bg-gray-700 dark:text-white",placeholder:"Maximum deals in this stage"})]}),a.jsxs("div",{className:"flex gap-2",children:[a.jsx("button",{onClick:k,disabled:i||!y.name.trim(),className:"px-4 py-2 bg-green-600 text-white rounded-lg hover:bg-green-700 disabled:opacity-50 disabled:cursor-not-allowed transition-colors",children:"Create Stage"}),a.jsx("button",{onClick:()=>{h(!1),b({name:"",order:0,wip_limit:void 0})},className:"px-4 py-2 bg-gray-500 text-white rounded-lg hover:bg-gray-600 transition-colors",children:"Cancel"})]})]})})]}),a.jsxs("div",{className:"space-y-3",children:[a.jsx("h3",{className:"text-lg font-semibold text-gray-900 dark:text-white",children:"Current Stages"}),i&&n.length===0?a.jsx("div",{className:"text-center py-8 text-gray-500",children:"Loading stages..."}):n.length===0?a.jsx("div",{className:"text-center py-8 text-gray-500",children:"No stages found"}):n.map((A,O)=>a.jsxs("div",{className:"flex items-center gap-3 p-4 border border-gray-200 dark:border-gray-700 rounded-lg hover:bg-gray-50 dark:hover:bg-gray-700 transition-colors",children:[a.jsx(hG,{className:"w-5 h-5 text-gray-400 cursor-move"}),a.jsx("div",{className:"flex-1",children:g?.id===A.id?a.jsxs("div",{className:"space-y-2",children:[a.jsx("input",{type:"text",value:g.name,onChange:D=>p({...g,name:D.target.value}),className:"w-full px-3 py-1 border border-gray-300 dark:border-gray-600 rounded focus:ring-2 focus:ring-blue-500 focus:border-transparent dark:bg-gray-700 dark:text-white"}),a.jsx("input",{type:"number",value:g.wip_limit||"",onChange:D=>p({...g,wip_limit:D.target.value?parseInt(D.target.value):void 0}),className:"w-full px-3 py-1 border border-gray-300 dark:border-gray-600 rounded focus:ring-2 focus:ring-blue-500 focus:border-transparent dark:bg-gray-700 dark:text-white",placeholder:"WIP Limit"})]}):a.jsxs("div",{children:[a.jsx("div",{className:"font-medium text-gray-900 dark:text-white",children:A.name}),a.jsxs("div",{className:"text-sm text-gray-500",children:["Order: ",A.order,A.wip_limit&&` • WIP Limit: ${A.wip_limit}`]})]})}),a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx("button",{onClick:()=>T(O,"up"),disabled:O===0,className:"p-1 text-gray-400 hover:text-gray-600 disabled:opacity-30 disabled:cursor-not-allowed",title:"Move up",children:"↑"}),a.jsx("button",{onClick:()=>T(O,"down"),disabled:O===n.length-1,className:"p-1 text-gray-400 hover:text-gray-600 disabled:opacity-30 disabled:cursor-not-allowed",title:"Move down",children:"↓"}),g?.id===A.id?a.jsx("button",{onClick:()=>E(g),disabled:i,className:"p-2 text-green-600 hover:text-green-700 disabled:opacity-50",title:"Save changes",children:"✓"}):a.jsx("button",{onClick:()=>p(A),className:"p-2 text-blue-600 hover:text-blue-700",title:"Edit stage",children:a.jsx(UG,{className:"w-4 h-4"})}),a.jsx("button",{onClick:()=>C(A.id),disabled:i,className:"p-2 text-red-600 hover:text-red-700 disabled:opacity-50",title:"Delete stage",children:a.jsx(mi,{className:"w-4 h-4"})})]})]},A.id))]})]}),a.jsx("div",{className:"flex justify-end gap-3 p-6 border-t border-gray-200 dark:border-gray-700",children:a.jsx("button",{onClick:t,className:"px-6 py-2 bg-gray-500 text-white rounded-lg hover:bg-gray-600 transition-colors",children:"Close"})})]})}):null}var _p={exports:{}},MEe=_p.exports,uM;function REe(){return uM||(uM=1,function(e,t){(function(r,n){e.exports=n()})(MEe,function(){var r=1e3,n=6e4,s=36e5,i="millisecond",l="second",c="minute",d="hour",f="day",h="week",g="month",p="quarter",y="year",b="date",w="Invalid Date",j=/^(\d{4})[-/]?(\d{1,2})?[-/]?(\d{0,2})[Tt\s]*(\d{1,2})?:?(\d{1,2})?:?(\d{1,2})?[.:]?(\d+)?$/,S=/\[([^\]]+)]|Y{1,4}|M{1,4}|D{1,2}|d{1,4}|H{1,2}|h{1,2}|a|A|m{1,2}|s{1,2}|Z{1,2}|SSS/g,k={name:"en",weekdays:"Sunday_Monday_Tuesday_Wednesday_Thursday_Friday_Saturday".split("_"),months:"January_February_March_April_May_June_July_August_September_October_November_December".split("_"),ordinal:function(oe){var Y=["th","st","nd","rd"],Q=oe%100;return"["+oe+(Y[(Q-20)%10]||Y[Q]||Y[0])+"]"}},E=function(oe,Y,Q){var te=String(oe);return!te||te.length>=Y?oe:""+Array(Y+1-te.length).join(Q)+oe},C={s:E,z:function(oe){var Y=-oe.utcOffset(),Q=Math.abs(Y),te=Math.floor(Q/60),ue=Q%60;return(Y<=0?"+":"-")+E(te,2,"0")+":"+E(ue,2,"0")},m:function oe(Y,Q){if(Y.date()<Q.date())return-oe(Q,Y);var te=12*(Q.year()-Y.year())+(Q.month()-Y.month()),ue=Y.clone().add(te,g),ve=Q-ue<0,U=Y.clone().add(te+(ve?-1:1),g);return+(-(te+(Q-ue)/(ve?ue-U:U-ue))||0)},a:function(oe){return oe<0?Math.ceil(oe)||0:Math.floor(oe)},p:function(oe){return{M:g,y,w:h,d:f,D:b,h:d,m:c,s:l,ms:i,Q:p}[oe]||String(oe||"").toLowerCase().replace(/s$/,"")},u:function(oe){return oe===void 0}},T="en",A={};A[T]=k;var O="$isDayjsObject",D=function(oe){return oe instanceof W||!(!oe||!oe[O])},R=function oe(Y,Q,te){var ue;if(!Y)return T;if(typeof Y=="string"){var ve=Y.toLowerCase();A[ve]&&(ue=ve),Q&&(A[ve]=Q,ue=ve);var U=Y.split("-");if(!ue&&U.length>1)return oe(U[0])}else{var ie=Y.name;A[ie]=Y,ue=ie}return!te&&ue&&(T=ue),ue||!te&&T},B=function(oe,Y){if(D(oe))return oe.clone();var Q=typeof Y=="object"?Y:{};return Q.date=oe,Q.args=arguments,new W(Q)},V=C;V.l=R,V.i=D,V.w=function(oe,Y){return B(oe,{locale:Y.$L,utc:Y.$u,x:Y.$x,$offset:Y.$offset})};var W=function(){function oe(Q){this.$L=R(Q.locale,null,!0),this.parse(Q),this.$x=this.$x||Q.x||{},this[O]=!0}var Y=oe.prototype;return Y.parse=function(Q){this.$d=function(te){var ue=te.date,ve=te.utc;if(ue===null)return new Date(NaN);if(V.u(ue))return new Date;if(ue instanceof Date)return new Date(ue);if(typeof ue=="string"&&!/Z$/i.test(ue)){var U=ue.match(j);if(U){var ie=U[2]-1||0,F=(U[7]||"0").substring(0,3);return ve?new Date(Date.UTC(U[1],ie,U[3]||1,U[4]||0,U[5]||0,U[6]||0,F)):new Date(U[1],ie,U[3]||1,U[4]||0,U[5]||0,U[6]||0,F)}}return new Date(ue)}(Q),this.init()},Y.init=function(){var Q=this.$d;this.$y=Q.getFullYear(),this.$M=Q.getMonth(),this.$D=Q.getDate(),this.$W=Q.getDay(),this.$H=Q.getHours(),this.$m=Q.getMinutes(),this.$s=Q.getSeconds(),this.$ms=Q.getMilliseconds()},Y.$utils=function(){return V},Y.isValid=function(){return this.$d.toString()!==w},Y.isSame=function(Q,te){var ue=B(Q);return this.startOf(te)<=ue&&ue<=this.endOf(te)},Y.isAfter=function(Q,te){return B(Q)<this.startOf(te)},Y.isBefore=function(Q,te){return this.endOf(te)<B(Q)},Y.$g=function(Q,te,ue){return V.u(Q)?this[te]:this.set(ue,Q)},Y.unix=function(){return Math.floor(this.valueOf()/1e3)},Y.valueOf=function(){return this.$d.getTime()},Y.startOf=function(Q,te){var ue=this,ve=!!V.u(te)||te,U=V.p(Q),ie=function(le,he){var Le=V.w(ue.$u?Date.UTC(ue.$y,he,le):new Date(ue.$y,he,le),ue);return ve?Le:Le.endOf(f)},F=function(le,he){return V.w(ue.toDate()[le].apply(ue.toDate("s"),(ve?[0,0,0,0]:[23,59,59,999]).slice(he)),ue)},G=this.$W,z=this.$M,q=this.$D,de="set"+(this.$u?"UTC":"");switch(U){case y:return ve?ie(1,0):ie(31,11);case g:return ve?ie(1,z):ie(0,z+1);case h:var De=this.$locale().weekStart||0,ne=(G<De?G+7:G)-De;return ie(ve?q-ne:q+(6-ne),z);case f:case b:return F(de+"Hours",0);case d:return F(de+"Minutes",1);case c:return F(de+"Seconds",2);case l:return F(de+"Milliseconds",3);default:return this.clone()}},Y.endOf=function(Q){return this.startOf(Q,!1)},Y.$set=function(Q,te){var ue,ve=V.p(Q),U="set"+(this.$u?"UTC":""),ie=(ue={},ue[f]=U+"Date",ue[b]=U+"Date",ue[g]=U+"Month",ue[y]=U+"FullYear",ue[d]=U+"Hours",ue[c]=U+"Minutes",ue[l]=U+"Seconds",ue[i]=U+"Milliseconds",ue)[ve],F=ve===f?this.$D+(te-this.$W):te;if(ve===g||ve===y){var G=this.clone().set(b,1);G.$d[ie](F),G.init(),this.$d=G.set(b,Math.min(this.$D,G.daysInMonth())).$d}else ie&&this.$d[ie](F);return this.init(),this},Y.set=function(Q,te){return this.clone().$set(Q,te)},Y.get=function(Q){return this[V.p(Q)]()},Y.add=function(Q,te){var ue,ve=this;Q=Number(Q);var U=V.p(te),ie=function(z){var q=B(ve);return V.w(q.date(q.date()+Math.round(z*Q)),ve)};if(U===g)return this.set(g,this.$M+Q);if(U===y)return this.set(y,this.$y+Q);if(U===f)return ie(1);if(U===h)return ie(7);var F=(ue={},ue[c]=n,ue[d]=s,ue[l]=r,ue)[U]||1,G=this.$d.getTime()+Q*F;return V.w(G,this)},Y.subtract=function(Q,te){return this.add(-1*Q,te)},Y.format=function(Q){var te=this,ue=this.$locale();if(!this.isValid())return ue.invalidDate||w;var ve=Q||"YYYY-MM-DDTHH:mm:ssZ",U=V.z(this),ie=this.$H,F=this.$m,G=this.$M,z=ue.weekdays,q=ue.months,de=ue.meridiem,De=function(he,Le,pe,xe){return he&&(he[Le]||he(te,ve))||pe[Le].slice(0,xe)},ne=function(he){return V.s(ie%12||12,he,"0")},le=de||function(he,Le,pe){var xe=he<12?"AM":"PM";return pe?xe.toLowerCase():xe};return ve.replace(S,function(he,Le){return Le||function(pe){switch(pe){case"YY":return String(te.$y).slice(-2);case"YYYY":return V.s(te.$y,4,"0");case"M":return G+1;case"MM":return V.s(G+1,2,"0");case"MMM":return De(ue.monthsShort,G,q,3);case"MMMM":return De(q,G);case"D":return te.$D;case"DD":return V.s(te.$D,2,"0");case"d":return String(te.$W);case"dd":return De(ue.weekdaysMin,te.$W,z,2);case"ddd":return De(ue.weekdaysShort,te.$W,z,3);case"dddd":return z[te.$W];case"H":return String(ie);case"HH":return V.s(ie,2,"0");case"h":return ne(1);case"hh":return ne(2);case"a":return le(ie,F,!0);case"A":return le(ie,F,!1);case"m":return String(F);case"mm":return V.s(F,2,"0");case"s":return String(te.$s);case"ss":return V.s(te.$s,2,"0");case"SSS":return V.s(te.$ms,3,"0");case"Z":return U}return null}(he)||U.replace(":","")})},Y.utcOffset=function(){return 15*-Math.round(this.$d.getTimezoneOffset()/15)},Y.diff=function(Q,te,ue){var ve,U=this,ie=V.p(te),F=B(Q),G=(F.utcOffset()-this.utcOffset())*n,z=this-F,q=function(){return V.m(U,F)};switch(ie){case y:ve=q()/12;break;case g:ve=q();break;case p:ve=q()/3;break;case h:ve=(z-G)/6048e5;break;case f:ve=(z-G)/864e5;break;case d:ve=z/s;break;case c:ve=z/n;break;case l:ve=z/r;break;default:ve=z}return ue?ve:V.a(ve)},Y.daysInMonth=function(){return this.endOf(g).$D},Y.$locale=function(){return A[this.$L]},Y.locale=function(Q,te){if(!Q)return this.$L;var ue=this.clone(),ve=R(Q,te,!0);return ve&&(ue.$L=ve),ue},Y.clone=function(){return V.w(this.$d,this)},Y.toDate=function(){return new Date(this.valueOf())},Y.toJSON=function(){return this.isValid()?this.toISOString():null},Y.toISOString=function(){return this.$d.toISOString()},Y.toString=function(){return this.$d.toUTCString()},oe}(),se=W.prototype;return B.prototype=se,[["$ms",i],["$s",l],["$m",c],["$H",d],["$W",f],["$M",g],["$y",y],["$D",b]].forEach(function(oe){se[oe[1]]=function(Y){return this.$g(Y,oe[0],oe[1])}}),B.extend=function(oe,Y){return oe.$i||(oe(Y,W,B),oe.$i=!0),B},B.locale=R,B.isDayjs=D,B.unix=function(oe){return B(1e3*oe)},B.en=A[T],B.Ls=A,B.p={},B})}(_p)),_p.exports}var IEe=REe();const Ms=xs(IEe);var kp={exports:{}},FEe=kp.exports,dM;function LEe(){return dM||(dM=1,function(e,t){(function(r,n){e.exports=n()})(FEe,function(){return function(r,n,s){r=r||{};var i=n.prototype,l={future:"in %s",past:"%s ago",s:"a few seconds",m:"a minute",mm:"%d minutes",h:"an hour",hh:"%d hours",d:"a day",dd:"%d days",M:"a month",MM:"%d months",y:"a year",yy:"%d years"};function c(f,h,g,p){return i.fromToBase(f,h,g,p)}s.en.relativeTime=l,i.fromToBase=function(f,h,g,p,y){for(var b,w,j,S=g.$locale().relativeTime||l,k=r.thresholds||[{l:"s",r:44,d:"second"},{l:"m",r:89},{l:"mm",r:44,d:"minute"},{l:"h",r:89},{l:"hh",r:21,d:"hour"},{l:"d",r:35},{l:"dd",r:25,d:"day"},{l:"M",r:45},{l:"MM",r:10,d:"month"},{l:"y",r:17},{l:"yy",d:"year"}],E=k.length,C=0;C<E;C+=1){var T=k[C];T.d&&(b=p?s(f).diff(g,T.d,!0):g.diff(f,T.d,!0));var A=(r.rounding||Math.round)(Math.abs(b));if(j=b>0,A<=T.r||!T.r){A<=1&&C>0&&(T=k[C-1]);var O=S[T.l];y&&(A=y(""+A)),w=typeof O=="string"?O.replace("%d",A):O(A,h,T.l,j);break}}if(h)return w;var D=j?S.future:S.past;return typeof D=="function"?D(w):D.replace("%s",w)},i.to=function(f,h){return c(f,h,this,!0)},i.from=function(f,h){return c(f,h,this)};var d=function(f){return f.$u?s.utc():s()};i.toNow=function(f){return this.to(d(this),f)},i.fromNow=function(f){return this.from(d(this),f)}}})}(kp)),kp.exports}var BEe=LEe();const $Ee=xs(BEe);Ms.extend($Ee);const UEe=[{label:"High Priority",color:"bg-red-500"},{label:"VIP",color:"bg-yellow-500"},{label:"Follow Up",color:"bg-blue-500"},{label:"Demo",color:"bg-purple-500"}],fM={New:"bg-blue-500",Contacted:"bg-purple-500","Proposal Sent":"bg-yellow-500",Negotiation:"bg-green-500",Won:"bg-green-500",Lost:"bg-red-500"},C0=({active:e,payload:t,label:r})=>!e||!t||!t.length?null:a.jsxs("div",{style:{background:"#fff",border:"1px solid #eee",borderRadius:4,padding:"2px 8px",fontSize:12,color:"#222",boxShadow:"0 1px 4px rgba(0,0,0,0.04)"},children:[r&&a.jsx("div",{style:{fontWeight:600},children:r}),t.map((n,s)=>a.jsxs("div",{children:[a.jsxs("span",{style:{color:n.color,fontWeight:600},children:[n.name||n.dataKey,":"]})," ",n.value]},s))]});function hM(e,t=[]){const n={New:.2,Contacted:.4,"Proposal Sent":.6,Negotiation:.8,Won:1,Lost:0}[e.stage]??.3,s=Math.min(parseFloat(e.value.replace(/[^\d.]/g,""))/2e4,1)*.3,i=Math.min((t?.length||0)/10,1)*.3;let l=n+s+i;return e.stage==="Lost"&&(l=0),e.stage==="Won"&&(l=1),Math.round(l*100)}function mM(e){switch(e.stage){case"New":return"Contact the lead";case"Contacted":return"Send proposal";case"Proposal Sent":return"Follow up";case"Negotiation":return"Close the deal";case"Won":return"Onboard client";case"Lost":return"Review lost reason";default:return"Review deal"}}function D2(e){return e.split(" ").map(t=>t[0]).join("").toUpperCase()}function zEe(){const e=RM(),[t,r]=v.useState(null),[n,s]=v.useState(!1),[i,l]=v.useState(!1),[c,d]=v.useState("board"),[f,h]=v.useState("All"),[g,p]=v.useState(""),y=v.useRef(null);v.useEffect(()=>{const re=Ce=>{Ce.ctrlKey&&Ce.key==="f"&&(Ce.preventDefault(),y.current?.focus())};return document.addEventListener("keydown",re),()=>document.removeEventListener("keydown",re)},[]);const[b,w]=v.useState(null),[j,S]=v.useState({watchers:[]}),[k,E]=v.useState(!1),[C,T]=v.useState(!1),A=v.useRef(null),[O,D]=v.useState(!1),[R,B]=v.useState(null),[V,W]=v.useState({}),[se,oe]=v.useState(""),[Y,Q]=v.useState({}),[te,ue]=v.useState(!1),[ve,U]=v.useState({}),[ie,F]=v.useState(null),[G,z]=v.useState(null),{data:q,isLoading:de,error:De}=FM({queryKey:["kanban"],queryFn:AEe}),ne=v.useMemo(()=>{if(!q?.deals||!q?.stages)return{};const re=new Map;return q.stages.forEach(Ce=>re.set(Ce.id,Ce.name)),q.deals.reduce((Ce,Te)=>{const ot=Te.stage_id;Ce[ot]||(Ce[ot]=[]);const ft={...Te,id:String(Te.id),value:`$${Te.value?.toLocaleString()||"0"}`,owner:Te.owner_name||"Unassigned",stage:re.get(ot)||"Unknown",tags:[],watchers:Te.watchers||[]};return Ce[ot].push(ft),Ce},{})},[q]),le=v.useMemo(()=>q?.stages?[...q.stages].sort((re,Ce)=>re.order-Ce.order):[],[q?.stages]),he=v.useMemo(()=>{const re=Object.values(ne).flat();return Array.from(new Set(re.map(Ce=>Ce.owner)))},[ne]),{user:Le}=va(),pe=Le?.name||"Unknown User",xe={Alex:{color:"bg-blue-500"},Sam:{color:"bg-green-500"},Chris:{color:"bg-purple-500"}},$e=v.useCallback((re,Ce,Te)=>{const ot={id:Date.now().toString(),user:pe,type:Ce,message:Te,timestamp:new Date().toISOString()};U(ft=>({...ft,[re]:[...ft[re]||[],ot]}))},[pe]),pt=v.useCallback(re=>{if(!se.trim())return;const Ce={id:Date.now().toString(),author:pe,text:se.trim(),timestamp:new Date().toISOString()};W(Te=>({...Te,[re]:[...Te[re]||[],Ce]})),oe(""),$e(re,"comment","Added a comment")},[se,pe,$e]),Xe=v.useCallback((re,Ce)=>{W(Te=>({...Te,[re]:(Te[re]||[]).filter(ot=>ot.id!==Ce)})),$e(re,"comment","Deleted a comment")},[$e]),Ue=v.useCallback((re,Ce)=>{ue(!0),setTimeout(()=>{const Te={id:Date.now().toString(),name:Ce.name,size:Ce.size,type:Ce.type,url:URL.createObjectURL(Ce),uploadedAt:new Date().toISOString()};Q(ot=>({...ot,[re]:[...ot[re]||[],Te]})),ue(!1),$e(re,"attachment",`Uploaded ${Ce.name}`)},1e3)},[$e]),At=v.useCallback((re,Ce)=>{Q(Te=>({...Te,[re]:(Te[re]||[]).filter(ot=>ot.id!==Ce)})),$e(re,"attachment","Deleted an attachment")},[$e]),Xt=v.useCallback((re,Ce)=>{S(Te=>({...Te,[re]:Ce}))},[]),bt=v.useCallback(async()=>{if(b){E(!0);try{const re={};j.title&&(re.title=j.title),j.description!==void 0&&(re.description=j.description),j.value&&(re.value=j.value),j.reminderDate&&(re.reminder_date=j.reminderDate),await CEe(parseInt(b.id),re),e.setQueryData(["kanban"],Ce=>Ce&&{...Ce,deals:Ce.deals.map(Te=>Te.id===parseInt(b.id)?{...Te,title:j.title||Te.title,description:j.description||Te.description,value:j.value?parseFloat(j.value.replace(/[^\d.]/g,"")):Te.value,reminder_date:j.reminderDate||Te.reminder_date}:Te)}),$e(b.id,"edit","Updated deal details"),w(null),S({})}catch(re){console.error("Failed to update deal:",re),e.invalidateQueries({queryKey:["kanban"]})}finally{E(!1)}}},[b,j,e,$e]),Wt=v.useCallback(re=>{A.current=re,T(!0)},[]),Rr=v.useCallback(()=>{A.current&&(e.setQueryData(["kanban"],re=>re&&{...re,deals:re.deals.filter(Ce=>Ce.id!==parseInt(A.current.id))}),T(!1),A.current=null)},[e]),Gr=v.useCallback(re=>{e.setQueryData(["kanban"],Ce=>Ce&&{...Ce,stages:Ce.stages.filter(Te=>Te.name!==re),deals:Ce.deals.filter(Te=>Ce.stages.find(ft=>ft.id===Te.stage_id)?.name!==re)}),F(null)},[e]),yr=v.useCallback(re=>{B(re),D(!0)},[]),Dn=v.useCallback(async re=>{if(R)try{await cM(parseInt(R.id),re,0),e.invalidateQueries({queryKey:["kanban"]}),D(!1),B(null)}catch(Ce){console.error("Failed to move deal:",Ce)}},[R,e]),Pn=v.useCallback(async re=>{try{const Ce=await fetch("/api/approval-requests",{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${localStorage.getItem("access_token")}`},body:JSON.stringify({entity_type:"deal",entity_id:parseInt(re.id),request_reason:`Approval request for deal: ${re.title}`,priority:"medium",request_data:{deal_title:re.title,deal_value:re.value,deal_stage:re.stage,deal_owner:re.owner}})}),Te=await Ce.json();Ce.ok?alert("Approval request submitted successfully!"):alert(`Failed to submit approval request: ${Te.error}`)}catch(Ce){console.error("Error submitting approval request:",Ce),alert("Error submitting approval request")}},[]),vt=v.useCallback(re=>{const{source:Ce,destination:Te}=re;if(!Te||Ce.droppableId===Te.droppableId&&Ce.index===Te.index)return;const ot=parseInt(Te.droppableId),ft=parseInt(re.draggableId);e.setQueryData(["kanban"],Kr=>{if(!Kr||!Kr.deals.find(Xn=>Xn.id===ft))return Kr;const la=Kr.deals.map(Xn=>({...Xn,stage_id:Xn.id===ft?ot:Xn.stage_id}));return{...Kr,deals:la}}),cM(ft,ot,Te.index).then(()=>{console.log(`Deal ${ft} moved to stage ${ot}`)}).catch(Kr=>{console.error("Failed to move deal:",Kr),e.invalidateQueries({queryKey:["kanban"]})})},[e]),fr=v.useMemo(()=>le.reduce((re,Ce)=>{let Te=ne[Ce.id]||[];if(f!=="All"&&(Te=Te.filter(ot=>ot.owner===f)),g.trim()){const ot=g.toLowerCase().trim();Te=Te.filter(ft=>ft.title.toLowerCase().includes(ot)||ft.value.toLowerCase().includes(ot)||ft.owner.toLowerCase().includes(ot)||ft.stage.toLowerCase().includes(ot)||ft.description&&ft.description.toLowerCase().includes(ot)||ft.tags&&ft.tags.some(Kr=>Kr.label.toLowerCase().includes(ot)))}return re[Ce.id]=Te,re},{}),[ne,f,g,le]),dt=Object.values(ne).flat(),Yn=le.map(re=>({stage:re.name,count:re.deal_count||(ne[re.id]||[]).length})),wa=le.map(re=>{const Ce=ne[re.id]||[],Te=Ce.length?Ce.reduce((ot,ft)=>ot+parseFloat(ft.value.replace(/[^\d.]/g,"")),0)/Ce.length:0;return{stage:re.name,avg:Math.round(Te)}}),gt=le.map((re,Ce)=>({stage:re.name,count:(ne[re.id]||[]).length,next:Ce<le.length-1?(ne[le[Ce+1].id]||[]).length:0})),Tr=["#6366f1","#f59e42","#10b981","#f43f5e","#a21caf","#fbbf24","#0ea5e9","#eab308"],xt=he.map(re=>({owner:re,count:dt.filter(Ce=>Ce.owner===re&&Ce.stage==="Won").length})).sort((re,Ce)=>Ce.count-re.count).slice(0,10),_t=he.map(re=>({owner:re,count:dt.filter(Ce=>Ce.owner===re).length})).sort((re,Ce)=>Ce.count-re.count).slice(0,10),ge=he.map(re=>({owner:re,value:dt.filter(Ce=>Ce.owner===re).reduce((Ce,Te)=>Ce+parseFloat(Te.value.replace(/[^\d.]/g,"")),0)})).sort((re,Ce)=>Ce.value-re.value).slice(0,10),st=()=>a.jsx("div",{className:"flex items-center justify-center h-64",children:a.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-t-2 border-b-2 border-blue-500"})}),Pt=({error:re,onRetry:Ce})=>a.jsx("div",{className:"bg-red-50 dark:bg-red-900/20 border border-red-200 dark:border-red-800 rounded-lg p-4 text-red-700 dark:text-red-400",children:a.jsxs("div",{className:"flex",children:[a.jsx("div",{className:"flex-shrink-0",children:a.jsx("svg",{className:"h-5 w-5 text-red-400",viewBox:"0 0 20 20",fill:"currentColor",children:a.jsx("path",{fillRule:"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zM8.28 7.22a.75.75 0 00-1.06 1.06L8.94 10l-1.72 1.72a.75.75 0 101.06 1.06L10 11.06l1.72 1.72a.75.75 0 101.06-1.06L11.06 10l1.72-1.72a.75.75 0 00-1.06-1.06L10 8.94 8.28 7.22z",clipRule:"evenodd"})})}),a.jsxs("div",{className:"ml-3",children:[a.jsx("h3",{className:"text-sm font-medium",children:"Error loading Kanban board"}),a.jsx("div",{className:"mt-2 text-sm",children:a.jsx("p",{children:re?.message||"An error occurred"})}),a.jsx("div",{className:"mt-4",children:a.jsx("button",{type:"button",onClick:Ce,className:"rounded-md bg-red-50 dark:bg-red-900/30 px-2 py-1.5 text-sm font-medium text-red-800 dark:text-red-300 hover:bg-red-100 dark:hover:bg-red-900/40 focus:outline-none focus:ring-2 focus:ring-red-600 focus:ring-offset-2 focus:ring-offset-red-50 dark:focus:ring-offset-gray-800",children:"Try again"})})]})]})});return de?a.jsx(st,{}):De?a.jsx(Pt,{error:De,onRetry:()=>e.invalidateQueries({queryKey:["kanban"]})}):a.jsxs("div",{className:"p-2 md:p-6",children:[a.jsx("h1",{className:"text-3xl font-extrabold text-gray-900 dark:text-white mb-6",children:"Deals Pipeline"}),a.jsxs("div",{className:"mb-4 flex flex-col md:flex-row md:items-center md:gap-4 gap-2",children:[a.jsxs("div",{className:"flex items-center gap-2 flex-1",children:[a.jsx("label",{className:"font-medium text-gray-700 dark:text-gray-200",children:"Search:"}),a.jsx("input",{ref:y,type:"text",placeholder:"Search deals by title, value, owner, stage, tags... (Ctrl+F)",className:"flex-1 rounded px-3 py-2 border border-gray-300 dark:border-gray-700 bg-white dark:bg-gray-800 text-gray-900 dark:text-white placeholder-gray-500 dark:placeholder-gray-400 focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent",value:g,onChange:re=>p(re.target.value),onKeyDown:re=>{re.key==="Escape"&&p("")}}),g&&a.jsx("button",{onClick:()=>p(""),className:"px-2 py-1 text-gray-500 hover:text-gray-700 dark:text-gray-400 dark:hover:text-gray-200",title:"Clear search",children:"✕"})]}),a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx("label",{className:"font-medium text-gray-700 dark:text-gray-200",children:"Owner:"}),a.jsxs("select",{className:"rounded px-2 py-1 border border-gray-300 dark:border-gray-700 bg-white dark:bg-gray-800 text-gray-900 dark:text-white min-w-[100px]",value:f,onChange:re=>h(re.target.value),children:[a.jsx("option",{value:"All",children:"All"}),he.map(re=>a.jsx("option",{value:re,children:re},re))]})]})]}),g&&a.jsx("div",{className:"mb-4 p-3 bg-blue-50 dark:bg-blue-900/20 border border-blue-200 dark:border-blue-800 rounded-lg",children:a.jsxs("div",{className:"flex items-center gap-2 text-blue-700 dark:text-blue-300",children:[a.jsx("span",{className:"font-medium",children:"Search Results:"}),a.jsxs("span",{children:[Object.values(fr).flat().length,' deal(s) found for "',g,'"']}),a.jsx("button",{onClick:()=>p(""),className:"ml-2 px-2 py-1 text-blue-600 hover:text-blue-800 dark:text-blue-400 dark:hover:text-blue-200 text-sm border border-blue-300 dark:border-blue-600 rounded",children:"Clear search"})]})}),a.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-4 gap-6 mb-8",children:[a.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-2xl shadow p-6 flex flex-col items-center text-center border transition duration-300 ease hover:shadow-2xl hover:scale-105",children:[a.jsx("div",{className:"bg-blue-100 dark:bg-blue-900 p-3 rounded-full mb-3",children:a.jsx("svg",{className:"w-7 h-7 text-blue-600 dark:text-blue-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 5H7a2 2 0 00-2 2v10a2 2 0 002 2h8a2 2 0 002-2V7a2 2 0 00-2-2h-2M9 5a2 2 0 002 2h2a2 2 0 002-2M9 5a2 2 0 012-2h2a2 2 0 012 2"})})}),a.jsx("div",{className:"text-3xl font-extrabold text-blue-600 dark:text-blue-400 mb-1",children:q?.total_deals||dt.length}),a.jsx("div",{className:"text-gray-700 dark:text-gray-200 text-lg font-semibold mb-1",children:"Total Deals"}),a.jsx("div",{className:"text-xs text-purple-500",children:"Active pipeline"})]}),a.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-2xl shadow p-6 flex flex-col items-center text-center border transition duration-300 ease hover:shadow-2xl hover:scale-105",children:[a.jsx("div",{className:"bg-yellow-100 dark:bg-yellow-900 p-3 rounded-full mb-3",children:a.jsx("svg",{className:"w-7 h-7 text-yellow-600 dark:text-yellow-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 8v4l3 3m6-3a9 9 0 11-18 0 9 9 0 0118 0z"})})}),a.jsx("div",{className:"text-3xl font-extrabold text-yellow-600 dark:text-yellow-400 mb-1",children:dt.filter(re=>re.stage!=="Won"&&re.stage!=="Lost").length}),a.jsx("div",{className:"text-gray-700 dark:text-gray-200 text-lg font-semibold mb-1",children:"In Progress"}),a.jsx("div",{className:"text-xs text-blue-500",children:"Active negotiations"})]}),a.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-2xl shadow p-6 flex flex-col items-center text-center border transition duration-300 ease hover:shadow-2xl hover:scale-105",children:[a.jsx("div",{className:"bg-green-100 dark:bg-green-900 p-3 rounded-full mb-3",children:a.jsx("svg",{className:"w-7 h-7 text-green-600 dark:text-green-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 8c-1.657 0-3 .895-3 2s1.343 2 3 2 3 .895 3 2-1.343 2-3 2m0-8c1.11 0 2.08.402 2.599 1M12 8V7m0 1v8m0 0v1m0-1c-1.11 0-2.08-.402-2.599-1"})})}),a.jsxs("div",{className:"text-3xl font-extrabold text-green-600 dark:text-green-400 mb-1",children:["$",dt.reduce((re,Ce)=>re+parseFloat(Ce.value.replace(/[^\d.]/g,"")),0).toLocaleString()]}),a.jsx("div",{className:"text-gray-700 dark:text-gray-200 text-lg font-semibold mb-1",children:"Total Value"}),a.jsx("div",{className:"text-xs text-pink-500",children:"Pipeline worth"})]}),a.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-2xl shadow p-6 flex flex-col items-center text-center border transition duration-300 ease hover:shadow-2xl hover:scale-105",children:[a.jsx("div",{className:"bg-purple-100 dark:bg-purple-900 p-3 rounded-full mb-3",children:a.jsx("svg",{className:"w-7 h-7 text-purple-600 dark:text-purple-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M13 7h8m0 0v8m0-8l-8 8-4-4-6 6"})})}),a.jsxs("div",{className:"text-3xl font-extrabold text-purple-600 dark:text-purple-400 mb-1",children:[dt.length>0?Math.round(dt.filter(re=>re.stage==="Won").length/dt.length*100):0,"%"]}),a.jsx("div",{className:"text-gray-700 dark:text-gray-200 text-lg font-semibold mb-1",children:"Win Rate"}),a.jsx("div",{className:"text-xs text-green-500",children:"Success ratio"})]})]}),a.jsx("div",{className:"flex justify-end mb-2",children:a.jsxs("button",{className:"flex items-center gap-2 px-4 py-2 rounded-full bg-gradient-to-r from-fuchsia-600 to-pink-500 text-white font-semibold shadow hover:from-fuchsia-700 hover:to-pink-600 transition",onClick:()=>l(!0),children:[a.jsx(_r,{className:"w-4 h-4"})," Manage Stages"]})}),a.jsxs("div",{children:[a.jsxs("div",{className:"flex gap-2 mb-6",children:[a.jsx("button",{className:`px-4 py-2 rounded-full font-semibold transition ${c==="board"?"bg-gradient-to-r from-blue-500 to-purple-500 text-white shadow":"bg-gray-200 dark:bg-gray-700 text-gray-700 dark:text-gray-200"}`,onClick:()=>d("board"),children:"Board"}),a.jsx("button",{className:`px-4 py-2 rounded-full font-semibold transition ${c==="analytics"?"bg-gradient-to-r from-blue-500 to-purple-500 text-white shadow":"bg-gray-200 dark:bg-gray-700 text-gray-700 dark:text-gray-200"}`,onClick:()=>d("analytics"),children:"Analytics"})]}),c==="board"&&a.jsxs("div",{className:"relative",children:[a.jsx("div",{className:"absolute top-0 right-0 z-10 bg-gradient-to-l from-white to-transparent dark:from-gray-900 w-8 h-full pointer-events-none"}),a.jsx(z4e,{onDragEnd:vt,children:a.jsx("div",{className:"flex gap-3 pb-4 overflow-x-auto scrollbar-thin scrollbar-thumb-gray-300 scrollbar-track-gray-100 dark:scrollbar-thumb-gray-600 dark:scrollbar-track-gray-800",style:{scrollbarWidth:"thin"},children:le.map(re=>a.jsx("div",{className:"flex-shrink-0 w-64",children:a.jsxs("div",{className:"flex-shrink-0 w-64 bg-gray-50 dark:bg-gray-900 rounded-2xl shadow border border-gray-200 dark:border-gray-800 p-3 flex flex-col transition",children:[a.jsxs("div",{className:"font-bold text-lg mb-3 text-gray-700 dark:text-gray-200 flex items-center gap-2",children:[a.jsx("span",{className:`inline-block w-3 h-3 rounded-full mr-2 ${fM[re.name]||"bg-gray-500"}`}),re.name,a.jsx("span",{className:"bg-pink-100 dark:bg-pink-900 text-pink-600 dark:text-pink-200 rounded-full px-2 py-0.5 text-xs font-semibold",children:re.deal_count||fr[re.id]?.length||0})]}),a.jsx(TEe,{droppableId:String(re.id),isDropDisabled:!1,children:Ce=>a.jsxs("div",{ref:Ce.innerRef,...Ce.droppableProps,className:"flex-1 space-y-4 pr-1 min-h-0",children:[fr[re.id]?.length===0&&a.jsx("div",{className:"text-gray-400 dark:text-gray-600 text-sm text-center mt-8",children:"No deals"}),fr[re.id]?.map((Te,ot)=>a.jsx(lEe,{draggableId:Te.id,index:ot,isDragDisabled:!1,children:(ft,Kr)=>a.jsxs("div",{ref:ft.innerRef,...ft.draggableProps,...ft.dragHandleProps,className:`rounded-xl bg-white dark:bg-gray-800 shadow p-3 border border-gray-100 dark:border-gray-800 hover:shadow-xl hover:scale-105 transition-all duration-300 cursor-pointer transform ${Kr.isDragging?"ring-2 ring-blue-400 scale-105":""}`,onClick:()=>r(Te),children:[a.jsxs("div",{className:"flex items-start justify-between mb-2",children:[a.jsxs("div",{className:"flex-1 min-w-0",children:[a.jsxs("div",{className:"flex items-center gap-1 mb-1",children:[a.jsx("span",{className:`inline-block w-2 h-2 rounded-full ${fM[Te.stage]||"bg-gray-500"}`}),a.jsx("div",{className:"font-semibold text-gray-900 dark:text-white text-xs truncate",children:Te.title}),a.jsxs("span",{className:"px-1 py-0.5 rounded-full text-xs font-bold bg-gradient-to-r from-green-400 to-blue-400 text-white",title:"AI Score",children:[hM(Te,ve[Te.id]),"%"]})]}),a.jsx("div",{className:"text-blue-600 dark:text-blue-400 font-bold text-sm",children:Te.value}),a.jsxs("div",{className:"text-xs text-gray-500 dark:text-gray-400",children:["Owner: ",Te.owner]})]}),a.jsx("button",{className:`ml-2 focus:outline-none rounded-full p-2 transition shadow ${Array.isArray(Te.watchers)&&Te.watchers.includes(pe)?"bg-pink-100 dark:bg-pink-900":"bg-gray-100 dark:bg-gray-800"} hover:scale-110 hover:shadow-lg`,style:{minWidth:36,minHeight:36,position:"relative"},onClick:async Ct=>{Ct.stopPropagation(),z(Number(Te.id)),Array.isArray(Te.watchers)&&Te.watchers.includes(pe)?await DEe(Number(Te.id)):await OEe(Number(Te.id)),z(null),e.invalidateQueries({queryKey:["kanban"]})},title:Array.isArray(Te.watchers)&&Te.watchers.length>0?`Watchers: ${Te.watchers.join(", ")}`:"No watchers",disabled:G===Number(Te.id),children:G===Number(Te.id)?a.jsx("span",{className:"w-6 h-6 block animate-spin border-2 border-blue-400 border-t-transparent rounded-full mx-auto"}):a.jsxs("span",{className:"relative flex items-center",children:[a.jsx(gn,{className:`w-6 h-6 ${Array.isArray(Te.watchers)&&Te.watchers.includes(pe)?"text-pink-500":"text-gray-400"}`}),Array.isArray(Te.watchers)&&Te.watchers.length>0&&a.jsx("span",{className:"absolute -top-1 -right-2 bg-blue-500 text-white text-xs font-bold rounded-full px-1.5 py-0.5 shadow border border-white dark:border-gray-900",children:Te.watchers.length})]})})]}),a.jsxs("div",{className:"flex items-center justify-between mb-2",children:[Te.tags&&Te.tags.length>0&&a.jsxs("div",{className:"flex gap-1",children:[Te.tags.slice(0,2).map(Ct=>a.jsx("span",{className:`px-1.5 py-0.5 rounded-full text-xs font-semibold text-white ${Ct.color}`,children:Ct.label},Ct.label)),Te.tags.length>2&&a.jsxs("span",{className:"px-1.5 py-0.5 rounded-full text-xs font-semibold bg-gray-500 text-white",children:["+",Te.tags.length-2]})]}),Te.reminderDate&&a.jsxs("div",{className:"flex items-center gap-1 text-xs",children:[a.jsx(qN,{className:"w-3 h-3"}),a.jsx("span",{className:Ms(Te.reminderDate).isBefore(Ms(),"day")?"text-red-500":Ms(Te.reminderDate).isSame(Ms(),"day")?"text-yellow-500":"text-blue-500",children:Ms(Te.reminderDate).format("MMM D")})]})]}),a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{className:"flex gap-1",children:[a.jsx("button",{className:"px-2 py-1 rounded-full bg-gradient-to-r from-blue-500 to-purple-500 text-white text-xs font-semibold shadow hover:from-blue-600 hover:to-purple-600 transition-all duration-300 hover:scale-110 hover:shadow-lg transform",onClick:Ct=>{Ct.stopPropagation(),r(Te),s(!0)},title:"View Details",children:"View"}),a.jsx("button",{className:"px-2 py-1 rounded-full bg-gradient-to-r from-yellow-400 to-pink-500 text-white text-xs font-semibold shadow hover:from-yellow-500 hover:to-pink-600 transition-all duration-300 hover:scale-110 hover:shadow-lg transform",onClick:Ct=>{Ct.stopPropagation(),w(Te)},title:"Edit Deal",children:"Edit"}),a.jsx("button",{className:"px-1.5 py-1 rounded-full bg-gradient-to-r from-green-500 to-blue-500 text-white text-xs font-semibold shadow hover:from-green-600 hover:to-blue-600 transition-all duration-300 hover:scale-110 hover:shadow-lg transform flex items-center gap-1",onClick:Ct=>{Ct.stopPropagation(),yr(Te)},title:"Move to Stage",children:a.jsx(Oo,{size:12})}),a.jsx("button",{className:"px-1.5 py-1 rounded-full bg-gradient-to-r from-purple-500 to-pink-500 text-white text-xs font-semibold shadow hover:from-purple-600 hover:to-pink-600 transition-all duration-300 hover:scale-110 hover:shadow-lg transform flex items-center gap-1",onClick:Ct=>{Ct.stopPropagation(),Pn(Te)},title:"Request Approval",children:a.jsx(Tt,{size:12})})]}),a.jsx("div",{className:"flex items-center gap-1",children:Array.isArray(Te.watchers)&&Te.watchers.length>0&&a.jsxs("div",{className:"flex -space-x-1",children:[Te.watchers.slice(0,3).map(Ct=>a.jsx("span",{className:"w-5 h-5 rounded-full bg-gradient-to-r from-blue-500 to-indigo-500 flex items-center justify-center text-xs font-bold text-white border border-white dark:border-gray-900",children:D2(Ct)},Ct)),Te.watchers.length>3&&a.jsxs("span",{className:"w-5 h-5 rounded-full bg-gray-300 dark:bg-gray-600 flex items-center justify-center text-xs font-bold text-gray-600 dark:text-gray-300 border border-white dark:border-gray-900",children:["+",Te.watchers.length-3]})]})})]}),a.jsxs("div",{className:"text-xs text-pink-600 dark:text-pink-300 mt-1 font-medium",children:["Next: ",mM(Te)]})]})},Te.id)),Ce.placeholder]})})]})},re.id))})})]}),c==="analytics"&&a.jsx(a.Fragment,{children:a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 xl:grid-cols-3 gap-6",children:[a.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-2xl shadow p-6 border flex flex-col items-center",children:[a.jsx("div",{className:"font-bold text-lg mb-4 text-gray-900 dark:text-white",children:"Conversion Funnel"}),a.jsx(Oi,{width:"100%",height:220,children:a.jsxs(L0,{data:gt,margin:{top:10,right:10,left:0,bottom:0},children:[a.jsx(Uc,{strokeDasharray:"3 3"}),a.jsx(xo,{dataKey:"stage"}),a.jsx(yo,{allowDecimals:!1}),a.jsx(Ci,{content:a.jsx(C0,{})}),a.jsx(dl,{dataKey:"count",fill:"#6366f1",radius:[8,8,0,0]})]})})]}),a.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-2xl shadow p-6 border flex flex-col items-center",children:[a.jsx("div",{className:"font-bold text-lg mb-4 text-gray-900 dark:text-white",children:"Deals per Stage"}),a.jsx(Oi,{width:"100%",height:220,children:a.jsxs(xx,{children:[a.jsx(Fd,{data:Yn,dataKey:"count",nameKey:"stage",cx:"50%",cy:"50%",outerRadius:70,label:!0,children:Yn.map((re,Ce)=>a.jsx($o,{fill:Tr[Ce%Tr.length]},`cell-${re.stage}`))}),a.jsx(Ci,{content:a.jsx(C0,{})}),a.jsx(Io,{})]})})]}),a.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-2xl shadow p-6 border flex flex-col items-center",children:[a.jsx("div",{className:"font-bold text-lg mb-4 text-gray-900 dark:text-white",children:"Average Deal Size"}),a.jsx(Oi,{width:"100%",height:220,children:a.jsxs(L0,{data:wa,margin:{top:10,right:10,left:0,bottom:0},children:[a.jsx(Uc,{strokeDasharray:"3 3"}),a.jsx(xo,{dataKey:"stage"}),a.jsx(yo,{allowDecimals:!1}),a.jsx(Ci,{content:a.jsx(C0,{})}),a.jsx(dl,{dataKey:"avg",fill:"#f59e42",radius:[8,8,0,0]})]})})]}),a.jsxs("div",{className:"col-span-1 md:col-span-2 xl:col-span-1 bg-white dark:bg-gray-800 rounded-2xl shadow p-6 border flex flex-col items-center mt-6",children:[a.jsx("div",{className:"font-bold text-lg mb-4 text-gray-900 dark:text-white",children:"Top 10 Owners (Deals Closed)"}),a.jsx(Oi,{width:"100%",height:220,children:a.jsxs(L0,{data:xt,margin:{top:10,right:10,left:0,bottom:0},children:[a.jsx(Uc,{strokeDasharray:"3 3"}),a.jsx(xo,{dataKey:"owner"}),a.jsx(yo,{allowDecimals:!1}),a.jsx(Ci,{content:a.jsx(C0,{})}),a.jsx(dl,{dataKey:"count",fill:"#10b981",radius:[8,8,0,0]})]})})]}),a.jsxs("div",{className:"col-span-1 md:col-span-2 xl:col-span-1 bg-white dark:bg-gray-800 rounded-2xl shadow p-6 border flex flex-col items-center mt-6",children:[a.jsx("div",{className:"font-bold text-lg mb-4 text-gray-900 dark:text-white",children:"Top 10 Deal Count by Owner"}),a.jsx(Oi,{width:"100%",height:220,children:a.jsxs(xx,{children:[a.jsx(Fd,{data:_t,dataKey:"count",nameKey:"owner",cx:"50%",cy:"50%",outerRadius:70,label:!0,children:_t.map((re,Ce)=>a.jsx($o,{fill:Tr[Ce%Tr.length]},`cell-${re.owner}`))}),a.jsx(Ci,{content:a.jsx(C0,{})}),a.jsx(Io,{})]})})]}),a.jsxs("div",{className:"col-span-1 md:col-span-2 xl:col-span-1 bg-white dark:bg-gray-800 rounded-2xl shadow p-6 border flex flex-col items-center mt-6",children:[a.jsx("div",{className:"font-bold text-lg mb-4 text-gray-900 dark:text-white",children:"Top 10 Deal Value by Owner"}),a.jsx(Oi,{width:"100%",height:220,children:a.jsxs(L0,{data:ge,margin:{top:10,right:10,left:0,bottom:0},children:[a.jsx(Uc,{strokeDasharray:"3 3"}),a.jsx(xo,{dataKey:"owner"}),a.jsx(yo,{allowDecimals:!1}),a.jsx(Ci,{formatter:re=>`$${re}`}),a.jsx(dl,{dataKey:"value",fill:"#f59e42",radius:[8,8,0,0]})]})})]})]})})]}),a.jsx($t,{open:n,onClose:()=>s(!1),title:t?`Deal: ${t.title}`:"Deal Details",animationType:"slideUp",size:"lg",children:t&&a.jsxs("div",{className:"space-y-6",children:[a.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[a.jsxs("div",{children:[a.jsx("h3",{className:"font-semibold text-gray-900 dark:text-white text-sm",children:"Title"}),a.jsx("p",{className:"text-gray-600 dark:text-gray-300",children:t.title})]}),a.jsxs("div",{children:[a.jsx("h3",{className:"font-semibold text-gray-900 dark:text-white text-sm",children:"Value"}),a.jsx("p",{className:"text-blue-600 dark:text-blue-400 font-bold",children:t.value})]}),a.jsxs("div",{children:[a.jsx("h3",{className:"font-semibold text-gray-900 dark:text-white text-sm",children:"Owner"}),a.jsx("p",{className:"text-gray-600 dark:text-gray-300",children:t.owner})]}),a.jsxs("div",{children:[a.jsx("h3",{className:"font-semibold text-gray-900 dark:text-white text-sm",children:"Stage"}),a.jsx("p",{className:"text-gray-600 dark:text-gray-300",children:t.stage})]}),a.jsxs("div",{children:[a.jsx("h3",{className:"font-semibold text-gray-900 dark:text-white text-sm",children:"AI Score"}),a.jsxs("p",{className:"text-gray-600 dark:text-gray-300",children:[hM(t,ve[t.id]),"%"]})]}),a.jsxs("div",{children:[a.jsx("h3",{className:"font-semibold text-gray-900 dark:text-white text-sm",children:"Next Step"}),a.jsx("p",{className:"text-gray-600 dark:text-gray-300",children:mM(t)})]})]}),t.description&&a.jsxs("div",{children:[a.jsx("h3",{className:"font-semibold text-gray-900 dark:text-white text-sm mb-2",children:"Description"}),a.jsx("p",{className:"text-gray-600 dark:text-gray-300 text-sm",children:t.description})]}),t.tags&&t.tags.length>0&&a.jsxs("div",{children:[a.jsx("h3",{className:"font-semibold text-gray-900 dark:text-white text-sm mb-2",children:"Tags"}),a.jsx("div",{className:"flex flex-wrap gap-2",children:t.tags.map(re=>a.jsx("span",{className:`px-2 py-1 rounded-full text-xs font-semibold text-white ${re.color}`,children:re.label},re.label))})]}),a.jsxs("div",{children:[a.jsx("h3",{className:"font-semibold text-gray-900 dark:text-white text-sm mb-2",children:"Comments"}),a.jsxs("div",{className:"space-y-2 max-h-32 overflow-y-auto text-xs",children:[(V[t.id]||[]).length===0&&a.jsx("div",{className:"text-gray-400",children:"No comments yet."}),(V[t.id]||[]).map(re=>a.jsxs("div",{className:"flex items-start gap-2 bg-gray-50 dark:bg-gray-800 rounded p-2",children:[a.jsx("span",{className:`w-5 h-5 rounded-full flex items-center justify-center text-xs font-bold text-white shadow ${xe[re.author]?.color||"bg-gray-400"}`,children:D2(re.author)}),a.jsxs("div",{className:"flex-1",children:[a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsxs("span",{className:"font-bold text-blue-600 dark:text-blue-400",children:["[",re.author,"]"]}),a.jsx("span",{className:"text-gray-400",children:Ms(re.timestamp).fromNow()})]}),a.jsx("p",{className:"text-gray-900 dark:text-gray-100 mt-1",children:re.text})]}),a.jsx("button",{className:"text-xs text-gray-400 hover:text-red-500 transition",title:"Delete",onClick:()=>Xe(t.id,re.id),children:"×"})]},re.id))]}),a.jsxs("form",{className:"flex gap-2 mt-2 items-center",onSubmit:re=>{re.preventDefault(),pt(t.id)},children:[a.jsx("input",{type:"text",className:"flex-1 px-2 py-1 text-xs border border-gray-300 dark:border-gray-600 rounded bg-white dark:bg-gray-800 text-gray-900 dark:text-white",placeholder:"Add a comment...",value:se,onChange:re=>oe(re.target.value)}),a.jsx("button",{type:"submit",className:"px-3 py-1 rounded bg-blue-500 text-white text-xs font-semibold hover:bg-blue-600 transition",disabled:!se.trim(),children:"Add"})]})]}),a.jsxs("div",{children:[a.jsx("h3",{className:"font-semibold text-gray-900 dark:text-white text-sm mb-2",children:"Attachments"}),a.jsxs("div",{className:"space-y-2 max-h-32 overflow-y-auto text-xs",children:[(Y[t.id]||[]).length===0&&a.jsx("div",{className:"text-gray-400",children:"No attachments yet."}),(Y[t.id]||[]).map(re=>a.jsxs("div",{className:"flex items-center gap-2 bg-gray-50 dark:bg-gray-800 rounded px-3 py-2",children:[a.jsx("a",{href:re.url,download:re.name,target:"_blank",rel:"noopener noreferrer",className:"text-blue-600 dark:text-blue-400 font-medium hover:underline truncate max-w-[120px]",title:re.name,children:re.name}),a.jsxs("span",{className:"text-xs text-gray-500",children:["(",(re.size/1024).toFixed(1)," KB)"]}),a.jsx("span",{className:"text-xs text-gray-400",children:re.type.startsWith("image/")?"Image":re.type==="application/pdf"?"PDF":re.type}),a.jsx("span",{className:"text-xs text-gray-400 ml-auto",children:Ms(re.uploadedAt).fromNow()}),a.jsx("button",{className:"ml-2 text-xs text-gray-400 hover:text-red-500 transition",title:"Delete",onClick:()=>At(t.id,re.id),children:"×"})]},re.id))]}),a.jsx("form",{className:"flex gap-2 mt-2 items-center",onSubmit:re=>re.preventDefault(),children:a.jsxs("label",{className:"px-3 py-1 rounded bg-blue-500 text-white text-xs font-semibold hover:bg-blue-600 transition cursor-pointer",children:[a.jsx("input",{type:"file",accept:"image/*,application/pdf",className:"hidden",onChange:re=>{const Ce=re.target.files?.[0];Ce&&t&&Ue(t.id,Ce),re.target.value=""},disabled:te}),te?"Uploading...":"Upload"]})})]}),a.jsxs("div",{children:[a.jsx("h3",{className:"font-semibold text-gray-900 dark:text-white text-sm mb-2",children:"Activity Log"}),a.jsxs("div",{className:"space-y-2 max-h-32 overflow-y-auto text-xs",children:[(ve[t.id]||[]).length===0&&a.jsx("div",{className:"text-gray-400",children:"No activity yet."}),(ve[t.id]||[]).map(re=>a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx("span",{className:`w-5 h-5 rounded-full flex items-center justify-center text-xs font-bold text-white shadow ${xe[re.user]?.color||"bg-gray-400"}`,children:D2(re.user)}),a.jsxs("span",{className:"font-bold text-blue-600 dark:text-blue-400",children:["[",re.user,"]"]}),a.jsx("span",{className:"font-bold text-gray-700 dark:text-gray-200",children:re.type.charAt(0).toUpperCase()+re.type.slice(1)}),a.jsx("span",{className:"text-gray-900 dark:text-gray-100",children:re.message}),a.jsx("span",{className:"text-gray-400 ml-auto",children:Ms(re.timestamp).fromNow()})]},re.id))]})]})]})}),a.jsxs($t,{open:!!b,onClose:()=>w(null),title:b?`Edit Deal: ${b.title}`:"Edit Deal",animationType:"scale",size:"md",children:[b&&a.jsx("form",{onSubmit:re=>{re.preventDefault(),bt()},children:a.jsxs("div",{className:"space-y-4",children:[a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-200 mb-1",children:"Title"}),a.jsx("input",{type:"text",value:j.title||b.title,onChange:re=>Xt("title",re.target.value),className:"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-md bg-white dark:bg-gray-800 text-gray-900 dark:text-white",required:!0})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-200 mb-1",children:"Value"}),a.jsx("input",{type:"text",value:j.value||b.value,onChange:re=>Xt("value",re.target.value),className:"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-md bg-white dark:bg-gray-800 text-gray-900 dark:text-white",required:!0})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-200 mb-1",children:"Owner"}),a.jsx("select",{className:"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-md bg-white dark:bg-gray-800 text-gray-900 dark:text-white",value:j.owner||b.owner,onChange:re=>Xt("owner",re.target.value),required:!0,children:he.map(re=>a.jsx("option",{value:re,children:re},re))})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-200 mb-1",children:"Stage"}),a.jsx("select",{className:"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-md bg-white dark:bg-gray-800 text-gray-900 dark:text-white",value:j.stage||b.stage,onChange:re=>Xt("stage",re.target.value),required:!0,children:le.map(re=>a.jsx("option",{value:re.name,children:re.name},re.id))})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-200 mb-1",children:"Tags"}),a.jsx("div",{className:"flex flex-wrap gap-2",children:UEe.map(re=>{const Ce=(j.tags||b.tags||[]).some(Te=>Te.label===re.label);return a.jsx("button",{type:"button",className:`px-2 py-1 rounded-full text-xs font-semibold border transition ${re.color} text-white ${Ce?"ring-2 ring-pink-400":"opacity-70"}`,onClick:()=>{let Te=j.tags?[...j.tags]:[...b.tags||[]];Ce?Te=Te.filter(ot=>ot.label!==re.label):Te.push(re),Xt("tags",Te)},children:re.label},re.label)})})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-200 mb-1",children:"Description"}),a.jsx("textarea",{value:j.description||b.description||"",onChange:re=>Xt("description",re.target.value),rows:3,className:"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-md bg-white dark:bg-gray-800 text-gray-900 dark:text-white"})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-200 mb-1",children:"Reminder / Follow-up Date"}),a.jsx("input",{type:"date",className:"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-md bg-white dark:bg-gray-800 text-gray-900 dark:text-white",value:j.reminderDate?Ms(j.reminderDate).format("YYYY-MM-DD"):b.reminderDate?Ms(b.reminderDate).format("YYYY-MM-DD"):"",onChange:re=>Xt("reminderDate",re.target.value?Ms(re.target.value).toISOString():void 0)})]}),a.jsxs("div",{className:"flex gap-2 pt-4",children:[a.jsx("button",{type:"submit",disabled:k,className:"flex-1 px-4 py-2 bg-blue-600 text-white rounded-md hover:bg-blue-700 transition-all duration-300 hover:scale-105 hover:shadow-lg transform disabled:opacity-50 disabled:cursor-not-allowed disabled:transform-none",children:k?"Saving...":"Save Changes"}),a.jsx("button",{type:"button",onClick:()=>{w(null),S({})},className:"flex-1 px-4 py-2 bg-gray-300 dark:bg-gray-600 text-gray-700 dark:text-gray-200 rounded-md hover:bg-gray-400 dark:hover:bg-gray-500 transition-all duration-300 hover:scale-105 hover:shadow-lg transform",children:"Cancel"})]})]})}),b&&a.jsx("div",{className:"mt-4 pt-4 border-t border-gray-200 dark:border-gray-700",children:a.jsx("button",{type:"button",className:"w-full px-4 py-2 bg-red-600 text-white rounded-md hover:bg-red-700 transition",onClick:()=>Wt(b),children:"Delete Deal"})})]}),a.jsx($t,{open:C,onClose:()=>T(!1),title:"Delete Deal",animationType:"slideDown",size:"sm",children:a.jsxs("div",{className:"space-y-4",children:[a.jsx("p",{className:"text-gray-700 dark:text-gray-200",children:"Are you sure you want to delete this deal? This action cannot be undone."}),a.jsxs("div",{className:"flex gap-2 pt-4",children:[a.jsx("button",{onClick:Rr,className:"flex-1 px-4 py-2 bg-red-600 text-white rounded-md hover:bg-red-700 transition",children:"Delete"}),a.jsx("button",{onClick:()=>T(!1),className:"flex-1 px-4 py-2 bg-gray-300 dark:bg-gray-600 text-gray-700 dark:text-gray-200 rounded-md hover:bg-gray-400 dark:hover:bg-gray-500 transition",children:"Cancel"})]})]})}),a.jsx($t,{open:O,onClose:()=>D(!1),title:R?`Move "${R.title}" to Stage`:"Select Stage",animationType:"scale",size:"sm",children:R&&a.jsxs("div",{className:"p-4",children:[a.jsx("p",{className:"text-gray-600 dark:text-gray-300 mb-4",children:"Select a new stage for this deal:"}),a.jsx("div",{className:"space-y-2",children:q?.stages?.filter(re=>re.id!==R.stage_id)?.map(re=>a.jsx("button",{onClick:()=>Dn(re.id),className:"w-full text-left px-4 py-3 rounded-lg border border-gray-200 dark:border-gray-600 hover:bg-gray-50 dark:hover:bg-gray-700 transition-colors",children:a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsx("span",{className:"font-medium text-gray-900 dark:text-gray-100",children:re.name}),a.jsxs("span",{className:"text-sm text-gray-500 dark:text-gray-400",children:[ne[re.id]?.length||0," deals"]})]})},re.id))}),a.jsx("div",{className:"flex justify-end mt-6",children:a.jsx("button",{onClick:()=>D(!1),className:"px-4 py-2 text-gray-600 dark:text-gray-300 hover:text-gray-800 dark:hover:text-gray-100 transition-colors",children:"Cancel"})})]})}),a.jsx($t,{open:!!ie,onClose:()=>F(null),title:"Delete Stage",animationType:"fade",size:"sm",children:a.jsxs("div",{className:"space-y-4",children:[a.jsxs("p",{className:"text-gray-700 dark:text-gray-200",children:['Are you sure you want to delete the stage "',ie,'"? All deals in this stage will be removed. This action cannot be undone.']}),a.jsxs("div",{className:"flex gap-2 pt-4",children:[a.jsx("button",{onClick:()=>ie&&Gr(ie),className:"flex-1 px-4 py-2 bg-red-600 text-white rounded-md hover:bg-red-700 transition",children:"Delete"}),a.jsx("button",{onClick:()=>F(null),className:"flex-1 px-4 py-2 bg-gray-300 dark:bg-gray-600 text-gray-700 dark:text-gray-200 rounded-md hover:bg-gray-400 dark:hover:bg-gray-500 transition",children:"Cancel"})]})]})}),a.jsx(PEe,{isOpen:i,onClose:()=>l(!1),onStagesUpdated:()=>{e.invalidateQueries({queryKey:["kanban-board"]})}})]})}const Hc={async getRooms(){return Ee("/chat/rooms","GET")},async createRoom(e){return Ee("/chat/rooms","POST",e)},async getRoom(e){return Ee(`/chat/rooms/${e}`,"GET")},async getMessages(e,t=50,r=0){return Ee(`/chat/rooms/${e}/messages?limit=${t}&offset=${r}`,"GET")},async sendMessage(e,t){return Ee(`/chat/rooms/${e}/messages`,"POST",t)},async getParticipants(e){return Ee(`/chat/rooms/${e}/participants`,"GET")},async addParticipant(e,t){return Ee(`/chat/rooms/${e}/participants`,"POST",{user_id:t})},async removeParticipant(e,t){return Ee(`/chat/rooms/${e}/participants/${t}`,"DELETE")},async getOrganizationUsers(e){return Ee(`/chat/organizations/${e}/users`,"GET")}},HEe=(e={})=>{const{roomId:t,onMessage:r,onError:n,onOpen:s,onClose:i}=e,{getAuthToken:l}=va(),[c,d]=v.useState(!1),[f,h]=v.useState(null),g=v.useRef(null),p=v.useRef(null),y=v.useRef(0),b=5,w=v.useCallback(()=>{if(g.current?.readyState!==WebSocket.OPEN)try{const A=l();if(!A){h("No authentication token available");return}const O=`ws://localhost:8000/ws/chat/${t||0}?token=${encodeURIComponent(A)}`,D=new WebSocket(O);D.onopen=()=>{d(!0),h(null),y.current=0,s?.()},D.onmessage=R=>{try{const B=JSON.parse(R.data);r?.(B)}catch{}},D.onerror=R=>{h("WebSocket connection error"),n?.(R)},D.onclose=R=>{if(d(!1),i?.(),R.code!==1e3&&y.current<b){const B=Math.min(1e3*Math.pow(2,y.current),3e4);p.current=setTimeout(()=>{y.current++,w()},B)}},g.current=D}catch{h("Failed to create WebSocket connection")}},[t,l,r,n,s,i]),j=v.useCallback(()=>{p.current&&(clearTimeout(p.current),p.current=null),g.current&&(g.current.close(1e3,"User disconnected"),g.current=null),d(!1)},[]),S=v.useCallback(A=>{g.current?.readyState===WebSocket.OPEN&&g.current.send(JSON.stringify(A))},[]),k=v.useCallback((A,O="text",D)=>{S({type:"message",content:A,message_type:O,reply_to_id:D})},[S]),E=v.useCallback(A=>{S({type:"typing",is_typing:A})},[S]),C=v.useCallback(A=>{S({type:"join_room",room_id:A})},[S]),T=v.useCallback(A=>{S({type:"leave_room",room_id:A})},[S]);return v.useEffect(()=>(t&&w(),()=>{j()}),[t]),v.useEffect(()=>()=>{j()},[j]),{isConnected:c,connectionError:f,sendMessage:S,sendChatMessage:k,sendTypingIndicator:E,joinRoom:C,leaveRoom:T,connect:w,disconnect:j}},KU=6048e5,VEe=864e5,gM=Symbol.for("constructDateFrom");function qo(e,t){return typeof e=="function"?e(t):e&&typeof e=="object"&&gM in e?e[gM](t):e instanceof Date?new e.constructor(t):new Date(t)}function yi(e,t){return qo(t||e,e)}let qEe={};function sv(){return qEe}function Yh(e,t){const r=sv(),n=t?.weekStartsOn??t?.locale?.options?.weekStartsOn??r.weekStartsOn??r.locale?.options?.weekStartsOn??0,s=yi(e,t?.in),i=s.getDay(),l=(i<n?7:0)+i-n;return s.setDate(s.getDate()-l),s.setHours(0,0,0,0),s}function Wx(e,t){return Yh(e,{...t,weekStartsOn:1})}function YU(e,t){const r=yi(e,t?.in),n=r.getFullYear(),s=qo(r,0);s.setFullYear(n+1,0,4),s.setHours(0,0,0,0);const i=Wx(s),l=qo(r,0);l.setFullYear(n,0,4),l.setHours(0,0,0,0);const c=Wx(l);return r.getTime()>=i.getTime()?n+1:r.getTime()>=c.getTime()?n:n-1}function pM(e){const t=yi(e),r=new Date(Date.UTC(t.getFullYear(),t.getMonth(),t.getDate(),t.getHours(),t.getMinutes(),t.getSeconds(),t.getMilliseconds()));return r.setUTCFullYear(t.getFullYear()),+e-+r}function WEe(e,...t){const r=qo.bind(null,t.find(n=>typeof n=="object"));return t.map(r)}function xM(e,t){const r=yi(e,t?.in);return r.setHours(0,0,0,0),r}function GEe(e,t,r){const[n,s]=WEe(r?.in,e,t),i=xM(n),l=xM(s),c=+i-pM(i),d=+l-pM(l);return Math.round((c-d)/VEe)}function KEe(e,t){const r=YU(e,t),n=qo(e,0);return n.setFullYear(r,0,4),n.setHours(0,0,0,0),Wx(n)}function YEe(e){return e instanceof Date||typeof e=="object"&&Object.prototype.toString.call(e)==="[object Date]"}function XEe(e){return!(!YEe(e)&&typeof e!="number"||isNaN(+yi(e)))}function QEe(e,t){const r=yi(e,t?.in);return r.setFullYear(r.getFullYear(),0,1),r.setHours(0,0,0,0),r}const ZEe={lessThanXSeconds:{one:"less than a second",other:"less than {{count}} seconds"},xSeconds:{one:"1 second",other:"{{count}} seconds"},halfAMinute:"half a minute",lessThanXMinutes:{one:"less than a minute",other:"less than {{count}} minutes"},xMinutes:{one:"1 minute",other:"{{count}} minutes"},aboutXHours:{one:"about 1 hour",other:"about {{count}} hours"},xHours:{one:"1 hour",other:"{{count}} hours"},xDays:{one:"1 day",other:"{{count}} days"},aboutXWeeks:{one:"about 1 week",other:"about {{count}} weeks"},xWeeks:{one:"1 week",other:"{{count}} weeks"},aboutXMonths:{one:"about 1 month",other:"about {{count}} months"},xMonths:{one:"1 month",other:"{{count}} months"},aboutXYears:{one:"about 1 year",other:"about {{count}} years"},xYears:{one:"1 year",other:"{{count}} years"},overXYears:{one:"over 1 year",other:"over {{count}} years"},almostXYears:{one:"almost 1 year",other:"almost {{count}} years"}},JEe=(e,t,r)=>{let n;const s=ZEe[e];return typeof s=="string"?n=s:t===1?n=s.one:n=s.other.replace("{{count}}",t.toString()),r?.addSuffix?r.comparison&&r.comparison>0?"in "+n:n+" ago":n};function P2(e){return(t={})=>{const r=t.width?String(t.width):e.defaultWidth;return e.formats[r]||e.formats[e.defaultWidth]}}const eTe={full:"EEEE, MMMM do, y",long:"MMMM do, y",medium:"MMM d, y",short:"MM/dd/yyyy"},tTe={full:"h:mm:ss a zzzz",long:"h:mm:ss a z",medium:"h:mm:ss a",short:"h:mm a"},rTe={full:"{{date}} 'at' {{time}}",long:"{{date}} 'at' {{time}}",medium:"{{date}}, {{time}}",short:"{{date}}, {{time}}"},nTe={date:P2({formats:eTe,defaultWidth:"full"}),time:P2({formats:tTe,defaultWidth:"full"}),dateTime:P2({formats:rTe,defaultWidth:"full"})},aTe={lastWeek:"'last' eeee 'at' p",yesterday:"'yesterday at' p",today:"'today at' p",tomorrow:"'tomorrow at' p",nextWeek:"eeee 'at' p",other:"P"},sTe=(e,t,r,n)=>aTe[e];function O0(e){return(t,r)=>{const n=r?.context?String(r.context):"standalone";let s;if(n==="formatting"&&e.formattingValues){const l=e.defaultFormattingWidth||e.defaultWidth,c=r?.width?String(r.width):l;s=e.formattingValues[c]||e.formattingValues[l]}else{const l=e.defaultWidth,c=r?.width?String(r.width):e.defaultWidth;s=e.values[c]||e.values[l]}const i=e.argumentCallback?e.argumentCallback(t):t;return s[i]}}const iTe={narrow:["B","A"],abbreviated:["BC","AD"],wide:["Before Christ","Anno Domini"]},lTe={narrow:["1","2","3","4"],abbreviated:["Q1","Q2","Q3","Q4"],wide:["1st quarter","2nd quarter","3rd quarter","4th quarter"]},oTe={narrow:["J","F","M","A","M","J","J","A","S","O","N","D"],abbreviated:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],wide:["January","February","March","April","May","June","July","August","September","October","November","December"]},cTe={narrow:["S","M","T","W","T","F","S"],short:["Su","Mo","Tu","We","Th","Fr","Sa"],abbreviated:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],wide:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"]},uTe={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"}},dTe={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"}},fTe=(e,t)=>{const r=Number(e),n=r%100;if(n>20||n<10)switch(n%10){case 1:return r+"st";case 2:return r+"nd";case 3:return r+"rd"}return r+"th"},hTe={ordinalNumber:fTe,era:O0({values:iTe,defaultWidth:"wide"}),quarter:O0({values:lTe,defaultWidth:"wide",argumentCallback:e=>e-1}),month:O0({values:oTe,defaultWidth:"wide"}),day:O0({values:cTe,defaultWidth:"wide"}),dayPeriod:O0({values:uTe,defaultWidth:"wide",formattingValues:dTe,defaultFormattingWidth:"wide"})};function D0(e){return(t,r={})=>{const n=r.width,s=n&&e.matchPatterns[n]||e.matchPatterns[e.defaultMatchWidth],i=t.match(s);if(!i)return null;const l=i[0],c=n&&e.parsePatterns[n]||e.parsePatterns[e.defaultParseWidth],d=Array.isArray(c)?gTe(c,g=>g.test(l)):mTe(c,g=>g.test(l));let f;f=e.valueCallback?e.valueCallback(d):d,f=r.valueCallback?r.valueCallback(f):f;const h=t.slice(l.length);return{value:f,rest:h}}}function mTe(e,t){for(const r in e)if(Object.prototype.hasOwnProperty.call(e,r)&&t(e[r]))return r}function gTe(e,t){for(let r=0;r<e.length;r++)if(t(e[r]))return r}function pTe(e){return(t,r={})=>{const n=t.match(e.matchPattern);if(!n)return null;const s=n[0],i=t.match(e.parsePattern);if(!i)return null;let l=e.valueCallback?e.valueCallback(i[0]):i[0];l=r.valueCallback?r.valueCallback(l):l;const c=t.slice(s.length);return{value:l,rest:c}}}const xTe=/^(\d+)(th|st|nd|rd)?/i,yTe=/\d+/i,vTe={narrow:/^(b|a)/i,abbreviated:/^(b\.?\s?c\.?|b\.?\s?c\.?\s?e\.?|a\.?\s?d\.?|c\.?\s?e\.?)/i,wide:/^(before christ|before common era|anno domini|common era)/i},bTe={any:[/^b/i,/^(a|c)/i]},wTe={narrow:/^[1234]/i,abbreviated:/^q[1234]/i,wide:/^[1234](th|st|nd|rd)? quarter/i},jTe={any:[/1/i,/2/i,/3/i,/4/i]},NTe={narrow:/^[jfmasond]/i,abbreviated:/^(jan|feb|mar|apr|may|jun|jul|aug|sep|oct|nov|dec)/i,wide:/^(january|february|march|april|may|june|july|august|september|october|november|december)/i},STe={narrow:[/^j/i,/^f/i,/^m/i,/^a/i,/^m/i,/^j/i,/^j/i,/^a/i,/^s/i,/^o/i,/^n/i,/^d/i],any:[/^ja/i,/^f/i,/^mar/i,/^ap/i,/^may/i,/^jun/i,/^jul/i,/^au/i,/^s/i,/^o/i,/^n/i,/^d/i]},_Te={narrow:/^[smtwf]/i,short:/^(su|mo|tu|we|th|fr|sa)/i,abbreviated:/^(sun|mon|tue|wed|thu|fri|sat)/i,wide:/^(sunday|monday|tuesday|wednesday|thursday|friday|saturday)/i},kTe={narrow:[/^s/i,/^m/i,/^t/i,/^w/i,/^t/i,/^f/i,/^s/i],any:[/^su/i,/^m/i,/^tu/i,/^w/i,/^th/i,/^f/i,/^sa/i]},ETe={narrow:/^(a|p|mi|n|(in the|at) (morning|afternoon|evening|night))/i,any:/^([ap]\.?\s?m\.?|midnight|noon|(in the|at) (morning|afternoon|evening|night))/i},TTe={any:{am:/^a/i,pm:/^p/i,midnight:/^mi/i,noon:/^no/i,morning:/morning/i,afternoon:/afternoon/i,evening:/evening/i,night:/night/i}},ATe={ordinalNumber:pTe({matchPattern:xTe,parsePattern:yTe,valueCallback:e=>parseInt(e,10)}),era:D0({matchPatterns:vTe,defaultMatchWidth:"wide",parsePatterns:bTe,defaultParseWidth:"any"}),quarter:D0({matchPatterns:wTe,defaultMatchWidth:"wide",parsePatterns:jTe,defaultParseWidth:"any",valueCallback:e=>e+1}),month:D0({matchPatterns:NTe,defaultMatchWidth:"wide",parsePatterns:STe,defaultParseWidth:"any"}),day:D0({matchPatterns:_Te,defaultMatchWidth:"wide",parsePatterns:kTe,defaultParseWidth:"any"}),dayPeriod:D0({matchPatterns:ETe,defaultMatchWidth:"any",parsePatterns:TTe,defaultParseWidth:"any"})},CTe={code:"en-US",formatDistance:JEe,formatLong:nTe,formatRelative:sTe,localize:hTe,match:ATe,options:{weekStartsOn:0,firstWeekContainsDate:1}};function OTe(e,t){const r=yi(e,t?.in);return GEe(r,QEe(r))+1}function DTe(e,t){const r=yi(e,t?.in),n=+Wx(r)-+KEe(r);return Math.round(n/KU)+1}function XU(e,t){const r=yi(e,t?.in),n=r.getFullYear(),s=sv(),i=t?.firstWeekContainsDate??t?.locale?.options?.firstWeekContainsDate??s.firstWeekContainsDate??s.locale?.options?.firstWeekContainsDate??1,l=qo(t?.in||e,0);l.setFullYear(n+1,0,i),l.setHours(0,0,0,0);const c=Yh(l,t),d=qo(t?.in||e,0);d.setFullYear(n,0,i),d.setHours(0,0,0,0);const f=Yh(d,t);return+r>=+c?n+1:+r>=+f?n:n-1}function PTe(e,t){const r=sv(),n=t?.firstWeekContainsDate??t?.locale?.options?.firstWeekContainsDate??r.firstWeekContainsDate??r.locale?.options?.firstWeekContainsDate??1,s=XU(e,t),i=qo(t?.in||e,0);return i.setFullYear(s,0,n),i.setHours(0,0,0,0),Yh(i,t)}function MTe(e,t){const r=yi(e,t?.in),n=+Yh(r,t)-+PTe(r,t);return Math.round(n/KU)+1}function tr(e,t){const r=e<0?"-":"",n=Math.abs(e).toString().padStart(t,"0");return r+n}const fo={y(e,t){const r=e.getFullYear(),n=r>0?r:1-r;return tr(t==="yy"?n%100:n,t.length)},M(e,t){const r=e.getMonth();return t==="M"?String(r+1):tr(r+1,2)},d(e,t){return tr(e.getDate(),t.length)},a(e,t){const r=e.getHours()/12>=1?"pm":"am";switch(t){case"a":case"aa":return r.toUpperCase();case"aaa":return r;case"aaaaa":return r[0];case"aaaa":default:return r==="am"?"a.m.":"p.m."}},h(e,t){return tr(e.getHours()%12||12,t.length)},H(e,t){return tr(e.getHours(),t.length)},m(e,t){return tr(e.getMinutes(),t.length)},s(e,t){return tr(e.getSeconds(),t.length)},S(e,t){const r=t.length,n=e.getMilliseconds(),s=Math.trunc(n*Math.pow(10,r-3));return tr(s,t.length)}},ad={midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},yM={G:function(e,t,r){const n=e.getFullYear()>0?1:0;switch(t){case"G":case"GG":case"GGG":return r.era(n,{width:"abbreviated"});case"GGGGG":return r.era(n,{width:"narrow"});case"GGGG":default:return r.era(n,{width:"wide"})}},y:function(e,t,r){if(t==="yo"){const n=e.getFullYear(),s=n>0?n:1-n;return r.ordinalNumber(s,{unit:"year"})}return fo.y(e,t)},Y:function(e,t,r,n){const s=XU(e,n),i=s>0?s:1-s;if(t==="YY"){const l=i%100;return tr(l,2)}return t==="Yo"?r.ordinalNumber(i,{unit:"year"}):tr(i,t.length)},R:function(e,t){const r=YU(e);return tr(r,t.length)},u:function(e,t){const r=e.getFullYear();return tr(r,t.length)},Q:function(e,t,r){const n=Math.ceil((e.getMonth()+1)/3);switch(t){case"Q":return String(n);case"QQ":return tr(n,2);case"Qo":return r.ordinalNumber(n,{unit:"quarter"});case"QQQ":return r.quarter(n,{width:"abbreviated",context:"formatting"});case"QQQQQ":return r.quarter(n,{width:"narrow",context:"formatting"});case"QQQQ":default:return r.quarter(n,{width:"wide",context:"formatting"})}},q:function(e,t,r){const n=Math.ceil((e.getMonth()+1)/3);switch(t){case"q":return String(n);case"qq":return tr(n,2);case"qo":return r.ordinalNumber(n,{unit:"quarter"});case"qqq":return r.quarter(n,{width:"abbreviated",context:"standalone"});case"qqqqq":return r.quarter(n,{width:"narrow",context:"standalone"});case"qqqq":default:return r.quarter(n,{width:"wide",context:"standalone"})}},M:function(e,t,r){const n=e.getMonth();switch(t){case"M":case"MM":return fo.M(e,t);case"Mo":return r.ordinalNumber(n+1,{unit:"month"});case"MMM":return r.month(n,{width:"abbreviated",context:"formatting"});case"MMMMM":return r.month(n,{width:"narrow",context:"formatting"});case"MMMM":default:return r.month(n,{width:"wide",context:"formatting"})}},L:function(e,t,r){const n=e.getMonth();switch(t){case"L":return String(n+1);case"LL":return tr(n+1,2);case"Lo":return r.ordinalNumber(n+1,{unit:"month"});case"LLL":return r.month(n,{width:"abbreviated",context:"standalone"});case"LLLLL":return r.month(n,{width:"narrow",context:"standalone"});case"LLLL":default:return r.month(n,{width:"wide",context:"standalone"})}},w:function(e,t,r,n){const s=MTe(e,n);return t==="wo"?r.ordinalNumber(s,{unit:"week"}):tr(s,t.length)},I:function(e,t,r){const n=DTe(e);return t==="Io"?r.ordinalNumber(n,{unit:"week"}):tr(n,t.length)},d:function(e,t,r){return t==="do"?r.ordinalNumber(e.getDate(),{unit:"date"}):fo.d(e,t)},D:function(e,t,r){const n=OTe(e);return t==="Do"?r.ordinalNumber(n,{unit:"dayOfYear"}):tr(n,t.length)},E:function(e,t,r){const n=e.getDay();switch(t){case"E":case"EE":case"EEE":return r.day(n,{width:"abbreviated",context:"formatting"});case"EEEEE":return r.day(n,{width:"narrow",context:"formatting"});case"EEEEEE":return r.day(n,{width:"short",context:"formatting"});case"EEEE":default:return r.day(n,{width:"wide",context:"formatting"})}},e:function(e,t,r,n){const s=e.getDay(),i=(s-n.weekStartsOn+8)%7||7;switch(t){case"e":return String(i);case"ee":return tr(i,2);case"eo":return r.ordinalNumber(i,{unit:"day"});case"eee":return r.day(s,{width:"abbreviated",context:"formatting"});case"eeeee":return r.day(s,{width:"narrow",context:"formatting"});case"eeeeee":return r.day(s,{width:"short",context:"formatting"});case"eeee":default:return r.day(s,{width:"wide",context:"formatting"})}},c:function(e,t,r,n){const s=e.getDay(),i=(s-n.weekStartsOn+8)%7||7;switch(t){case"c":return String(i);case"cc":return tr(i,t.length);case"co":return r.ordinalNumber(i,{unit:"day"});case"ccc":return r.day(s,{width:"abbreviated",context:"standalone"});case"ccccc":return r.day(s,{width:"narrow",context:"standalone"});case"cccccc":return r.day(s,{width:"short",context:"standalone"});case"cccc":default:return r.day(s,{width:"wide",context:"standalone"})}},i:function(e,t,r){const n=e.getDay(),s=n===0?7:n;switch(t){case"i":return String(s);case"ii":return tr(s,t.length);case"io":return r.ordinalNumber(s,{unit:"day"});case"iii":return r.day(n,{width:"abbreviated",context:"formatting"});case"iiiii":return r.day(n,{width:"narrow",context:"formatting"});case"iiiiii":return r.day(n,{width:"short",context:"formatting"});case"iiii":default:return r.day(n,{width:"wide",context:"formatting"})}},a:function(e,t,r){const s=e.getHours()/12>=1?"pm":"am";switch(t){case"a":case"aa":return r.dayPeriod(s,{width:"abbreviated",context:"formatting"});case"aaa":return r.dayPeriod(s,{width:"abbreviated",context:"formatting"}).toLowerCase();case"aaaaa":return r.dayPeriod(s,{width:"narrow",context:"formatting"});case"aaaa":default:return r.dayPeriod(s,{width:"wide",context:"formatting"})}},b:function(e,t,r){const n=e.getHours();let s;switch(n===12?s=ad.noon:n===0?s=ad.midnight:s=n/12>=1?"pm":"am",t){case"b":case"bb":return r.dayPeriod(s,{width:"abbreviated",context:"formatting"});case"bbb":return r.dayPeriod(s,{width:"abbreviated",context:"formatting"}).toLowerCase();case"bbbbb":return r.dayPeriod(s,{width:"narrow",context:"formatting"});case"bbbb":default:return r.dayPeriod(s,{width:"wide",context:"formatting"})}},B:function(e,t,r){const n=e.getHours();let s;switch(n>=17?s=ad.evening:n>=12?s=ad.afternoon:n>=4?s=ad.morning:s=ad.night,t){case"B":case"BB":case"BBB":return r.dayPeriod(s,{width:"abbreviated",context:"formatting"});case"BBBBB":return r.dayPeriod(s,{width:"narrow",context:"formatting"});case"BBBB":default:return r.dayPeriod(s,{width:"wide",context:"formatting"})}},h:function(e,t,r){if(t==="ho"){let n=e.getHours()%12;return n===0&&(n=12),r.ordinalNumber(n,{unit:"hour"})}return fo.h(e,t)},H:function(e,t,r){return t==="Ho"?r.ordinalNumber(e.getHours(),{unit:"hour"}):fo.H(e,t)},K:function(e,t,r){const n=e.getHours()%12;return t==="Ko"?r.ordinalNumber(n,{unit:"hour"}):tr(n,t.length)},k:function(e,t,r){let n=e.getHours();return n===0&&(n=24),t==="ko"?r.ordinalNumber(n,{unit:"hour"}):tr(n,t.length)},m:function(e,t,r){return t==="mo"?r.ordinalNumber(e.getMinutes(),{unit:"minute"}):fo.m(e,t)},s:function(e,t,r){return t==="so"?r.ordinalNumber(e.getSeconds(),{unit:"second"}):fo.s(e,t)},S:function(e,t){return fo.S(e,t)},X:function(e,t,r){const n=e.getTimezoneOffset();if(n===0)return"Z";switch(t){case"X":return bM(n);case"XXXX":case"XX":return Cc(n);case"XXXXX":case"XXX":default:return Cc(n,":")}},x:function(e,t,r){const n=e.getTimezoneOffset();switch(t){case"x":return bM(n);case"xxxx":case"xx":return Cc(n);case"xxxxx":case"xxx":default:return Cc(n,":")}},O:function(e,t,r){const n=e.getTimezoneOffset();switch(t){case"O":case"OO":case"OOO":return"GMT"+vM(n,":");case"OOOO":default:return"GMT"+Cc(n,":")}},z:function(e,t,r){const n=e.getTimezoneOffset();switch(t){case"z":case"zz":case"zzz":return"GMT"+vM(n,":");case"zzzz":default:return"GMT"+Cc(n,":")}},t:function(e,t,r){const n=Math.trunc(+e/1e3);return tr(n,t.length)},T:function(e,t,r){return tr(+e,t.length)}};function vM(e,t=""){const r=e>0?"-":"+",n=Math.abs(e),s=Math.trunc(n/60),i=n%60;return i===0?r+String(s):r+String(s)+t+tr(i,2)}function bM(e,t){return e%60===0?(e>0?"-":"+")+tr(Math.abs(e)/60,2):Cc(e,t)}function Cc(e,t=""){const r=e>0?"-":"+",n=Math.abs(e),s=tr(Math.trunc(n/60),2),i=tr(n%60,2);return r+s+t+i}const wM=(e,t)=>{switch(e){case"P":return t.date({width:"short"});case"PP":return t.date({width:"medium"});case"PPP":return t.date({width:"long"});case"PPPP":default:return t.date({width:"full"})}},QU=(e,t)=>{switch(e){case"p":return t.time({width:"short"});case"pp":return t.time({width:"medium"});case"ppp":return t.time({width:"long"});case"pppp":default:return t.time({width:"full"})}},RTe=(e,t)=>{const r=e.match(/(P+)(p+)?/)||[],n=r[1],s=r[2];if(!s)return wM(e,t);let i;switch(n){case"P":i=t.dateTime({width:"short"});break;case"PP":i=t.dateTime({width:"medium"});break;case"PPP":i=t.dateTime({width:"long"});break;case"PPPP":default:i=t.dateTime({width:"full"});break}return i.replace("{{date}}",wM(n,t)).replace("{{time}}",QU(s,t))},ITe={p:QU,P:RTe},FTe=/^D+$/,LTe=/^Y+$/,BTe=["D","DD","YY","YYYY"];function $Te(e){return FTe.test(e)}function UTe(e){return LTe.test(e)}function zTe(e,t,r){const n=HTe(e,t,r);if(console.warn(n),BTe.includes(e))throw new RangeError(n)}function HTe(e,t,r){const n=e[0]==="Y"?"years":"days of the month";return`Use \`${e.toLowerCase()}\` instead of \`${e}\` (in \`${t}\`) for formatting ${n} to the input \`${r}\`; see: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md`}const VTe=/[yYQqMLwIdDecihHKkms]o|(\w)\1*|''|'(''|[^'])+('|$)|./g,qTe=/P+p+|P+|p+|''|'(''|[^'])+('|$)|./g,WTe=/^'([^]*?)'?$/,GTe=/''/g,KTe=/[a-zA-Z]/;function P0(e,t,r){const n=sv(),s=n.locale??CTe,i=n.firstWeekContainsDate??n.locale?.options?.firstWeekContainsDate??1,l=n.weekStartsOn??n.locale?.options?.weekStartsOn??0,c=yi(e,r?.in);if(!XEe(c))throw new RangeError("Invalid time value");let d=t.match(qTe).map(h=>{const g=h[0];if(g==="p"||g==="P"){const p=ITe[g];return p(h,s.formatLong)}return h}).join("").match(VTe).map(h=>{if(h==="''")return{isToken:!1,value:"'"};const g=h[0];if(g==="'")return{isToken:!1,value:YTe(h)};if(yM[g])return{isToken:!0,value:h};if(g.match(KTe))throw new RangeError("Format string contains an unescaped latin alphabet character `"+g+"`");return{isToken:!1,value:h}});s.localize.preprocessor&&(d=s.localize.preprocessor(c,d));const f={firstWeekContainsDate:i,weekStartsOn:l,locale:s};return d.map(h=>{if(!h.isToken)return h.value;const g=h.value;(UTe(g)||$Te(g))&&zTe(g,t,String(e));const p=yM[g[0]];return p(c,g,s.localize,f)}).join("")}function YTe(e){const t=e.match(WTe);return t?t[1].replace(GTe,"'"):e}const XTe=({messages:e,currentUserId:t,onReply:r})=>{const n=f=>{const h=new Date(f),p=(new Date().getTime()-h.getTime())/(1e3*60*60);return p<24?P0(h,"HH:mm"):p<168?P0(h,"EEE HH:mm"):P0(h,"MMM dd, HH:mm")},s=f=>{const h=new Date(f),p=Math.floor((new Date().getTime()-h.getTime())/(1e3*60*60*24));return p===0?"Today":p===1?"Yesterday":p<7?P0(h,"EEEE"):P0(h,"MMMM dd, yyyy")},i=(f,h)=>{if(!h)return!0;const g=new Date(f.created_at).toDateString(),p=new Date(h.created_at).toDateString();return g!==p},l=(f,h)=>h?f.sender_id!==h.sender_id||new Date(h.created_at).getTime()-new Date(f.created_at).getTime()>3e5:!0,c=f=>{const h=f.sender_id===t,g="max-w-xs lg:max-w-md px-4 py-2 rounded-2xl";return h?`${g} bg-gradient-to-r from-fuchsia-600 to-pink-500 text-white ml-auto`:`${g} bg-gray-100 text-gray-900`},d=f=>`w-8 h-8 rounded-full flex items-center justify-center text-white text-sm font-medium ${f.sender_id===t?"bg-gradient-to-r from-fuchsia-600 to-pink-500":"bg-gradient-to-r from-blue-500 to-purple-500"}`;return e.length===0?a.jsx("div",{className:"flex-1 flex items-center justify-center p-8",children:a.jsxs("div",{className:"text-center",children:[a.jsx("div",{className:"w-16 h-16 bg-gray-100 rounded-full flex items-center justify-center mx-auto mb-4",children:a.jsx("span",{className:"text-2xl",children:"💬"})}),a.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-2",children:"No messages yet"}),a.jsx("p",{className:"text-gray-500",children:"Start the conversation by sending a message!"})]})}):a.jsx("div",{className:"flex-1 overflow-y-auto p-4 space-y-4 min-h-0",children:e.map((f,h)=>{const g=h>0?e[h-1]:void 0,p=h<e.length-1?e[h+1]:void 0,y=i(f,g),b=l(f,p),w=f.sender_id===t;return a.jsxs("div",{children:[y&&a.jsx("div",{className:"flex items-center justify-center my-6",children:a.jsx("div",{className:"bg-gray-100 text-gray-600 text-sm px-3 py-1 rounded-full",children:s(f.created_at)})}),a.jsxs("div",{className:`flex items-end space-x-2 ${w?"flex-row-reverse space-x-reverse":""}`,children:[b?a.jsx("div",{className:d(f),children:f.sender_name?.charAt(0).toUpperCase()||"?"}):a.jsx("div",{className:"w-8 h-8"}),a.jsxs("div",{className:`flex flex-col ${w?"items-end":"items-start"}`,children:[!w&&b&&a.jsx("span",{className:"text-sm font-medium text-gray-700 mb-1",children:f.sender_name}),a.jsxs("div",{className:"group relative",children:[a.jsxs("div",{className:c(f),children:[f.reply_to_id&&a.jsx("div",{className:"text-xs opacity-75 mb-1 border-l-2 border-current pl-2",children:"Replying to message"}),a.jsx("p",{className:"text-sm whitespace-pre-wrap break-words",children:f.content})]}),a.jsxs("div",{className:`absolute top-0 ${w?"left-0 -translate-x-12":"right-0 translate-x-12"} opacity-0 group-hover:opacity-100 transition-opacity flex items-center space-x-1`,children:[a.jsx("button",{onClick:()=>r?.(f.id),className:"p-1 text-gray-400 hover:text-gray-600 rounded-full hover:bg-gray-100 transition-colors",title:"Reply",children:a.jsx(GG,{className:"w-4 h-4"})}),a.jsx("button",{className:"p-1 text-gray-400 hover:text-gray-600 rounded-full hover:bg-gray-100 transition-colors",children:a.jsx(aG,{className:"w-4 h-4"})})]})]}),a.jsx("span",{className:"text-xs text-gray-500 mt-1",children:n(f.created_at)})]})]})]},f.id)})})},QTe=({onSendMessage:e,onTyping:t,disabled:r=!1,placeholder:n="Type a message...",replyTo:s,onCancelReply:i})=>{const[l,c]=v.useState(""),[d,f]=v.useState(!1),h=v.useRef(null),g=v.useRef(null);v.useEffect(()=>{h.current&&(h.current.style.height="auto",h.current.style.height=`${h.current.scrollHeight}px`)},[l]),v.useEffect(()=>(l.trim()&&!d?(f(!0),t?.(!0)):!l.trim()&&d&&(f(!1),t?.(!1)),g.current&&clearTimeout(g.current),l.trim()&&(g.current=setTimeout(()=>{f(!1),t?.(!1)},1e3)),()=>{g.current&&clearTimeout(g.current)}),[l,d,t]);const p=j=>{j.preventDefault(),!(!l.trim()||r)&&(e(l.trim(),"text",s?.id),c(""),d&&(f(!1),t?.(!1)))},y=j=>{j.key==="Enter"&&!j.shiftKey&&(j.preventDefault(),p(j))},b=()=>{},w=()=>{};return a.jsxs("div",{className:"border-t border-gray-200 bg-white p-4",children:[s&&a.jsx("div",{className:"mb-3 p-3 bg-gray-50 rounded-lg border-l-4 border-fuchsia-500",children:a.jsxs("div",{className:"flex items-start justify-between",children:[a.jsxs("div",{className:"flex-1",children:[a.jsxs("div",{className:"text-sm font-medium text-gray-700 mb-1",children:["Replying to ",s.senderName]}),a.jsx("div",{className:"text-sm text-gray-600 truncate",children:s.content})]}),a.jsx("button",{onClick:i,className:"p-1 text-gray-400 hover:text-gray-600 rounded-full hover:bg-gray-200 transition-colors",children:a.jsx(jr,{className:"w-4 h-4"})})]})}),a.jsxs("form",{onSubmit:p,className:"flex items-end space-x-3",children:[a.jsxs("div",{className:"flex-1 relative",children:[a.jsx("textarea",{ref:h,value:l,onChange:j=>c(j.target.value),onKeyDown:y,placeholder:n,disabled:r,className:"w-full px-4 py-3 pr-12 border border-gray-300 rounded-2xl resize-none focus:outline-none focus:ring-2 focus:ring-fuchsia-500 focus:border-transparent disabled:bg-gray-100 disabled:cursor-not-allowed",rows:1,style:{minHeight:"48px",maxHeight:"120px"}}),a.jsxs("div",{className:"absolute right-3 bottom-3 flex items-center space-x-1",children:[a.jsx("button",{type:"button",onClick:w,className:"p-1 text-gray-400 hover:text-gray-600 rounded-full hover:bg-gray-100 transition-colors",disabled:r,children:a.jsx(rK,{className:"w-5 h-5"})}),a.jsx("button",{type:"button",onClick:b,className:"p-1 text-gray-400 hover:text-gray-600 rounded-full hover:bg-gray-100 transition-colors",disabled:r,children:a.jsx(LG,{className:"w-5 h-5"})})]})]}),a.jsx("button",{type:"submit",disabled:!l.trim()||r,className:"p-3 bg-gradient-to-r from-fuchsia-600 to-pink-500 text-white rounded-full hover:from-fuchsia-700 hover:to-pink-600 disabled:from-gray-300 disabled:to-gray-400 disabled:cursor-not-allowed transition-all duration-200 transform hover:scale-105 disabled:hover:scale-100",children:a.jsx(eu,{className:"w-5 h-5"})})]}),d&&a.jsx("div",{className:"mt-2 text-sm text-gray-500",children:"Typing..."}),r&&a.jsx("div",{className:"mt-2 text-sm text-red-500",children:"Disconnected - messages will be sent when connection is restored"})]})},ZTe=({room:e,participants:t,onClose:r})=>{const[n,s]=v.useState("members"),i=c=>{switch(c){case"admin":return a.jsx(xp,{className:"w-4 h-4 text-yellow-500"});case"moderator":return a.jsx(WN,{className:"w-4 h-4 text-blue-500"});default:return a.jsx(Yd,{className:"w-4 h-4 text-gray-500"})}},l=c=>{switch(c){case"admin":return"text-yellow-600 bg-yellow-50";case"moderator":return"text-blue-600 bg-blue-50";default:return"text-gray-600 bg-gray-50"}};return e?a.jsxs("div",{className:"w-80 bg-white border-l border-gray-200 flex flex-col",children:[a.jsx("div",{className:"p-4 border-b border-gray-200",children:a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:"Room Info"}),a.jsx("button",{onClick:r,className:"p-1 text-gray-400 hover:text-gray-600 rounded-full hover:bg-gray-100 transition-colors",children:a.jsx(jr,{className:"w-5 h-5"})})]})}),a.jsx("div",{className:"p-4 border-b border-gray-200",children:a.jsxs("div",{className:"space-y-3",children:[a.jsxs("div",{children:[a.jsx("h4",{className:"font-medium text-gray-900",children:e.name}),e.description&&a.jsx("p",{className:"text-sm text-gray-500 mt-1",children:e.description})]}),a.jsxs("div",{className:"flex items-center space-x-4 text-sm text-gray-500",children:[a.jsxs("div",{className:"flex items-center space-x-1",children:[a.jsx(kr,{className:"w-4 h-4"}),a.jsxs("span",{children:[t.length," members"]})]}),a.jsx("div",{className:"flex items-center space-x-1",children:a.jsx("span",{className:"capitalize",children:e.room_type})})]})]})}),a.jsxs("div",{className:"flex border-b border-gray-200",children:[a.jsx("button",{onClick:()=>s("members"),className:`flex-1 px-4 py-3 text-sm font-medium transition-colors ${n==="members"?"text-fuchsia-600 border-b-2 border-fuchsia-600 bg-fuchsia-50":"text-gray-500 hover:text-gray-700"}`,children:a.jsxs("div",{className:"flex items-center justify-center space-x-2",children:[a.jsx(kr,{className:"w-4 h-4"}),a.jsx("span",{children:"Members"})]})}),a.jsx("button",{onClick:()=>s("settings"),className:`flex-1 px-4 py-3 text-sm font-medium transition-colors ${n==="settings"?"text-fuchsia-600 border-b-2 border-fuchsia-600 bg-fuchsia-50":"text-gray-500 hover:text-gray-700"}`,children:a.jsxs("div",{className:"flex items-center justify-center space-x-2",children:[a.jsx(Hs,{className:"w-4 h-4"}),a.jsx("span",{children:"Settings"})]})})]}),a.jsxs("div",{className:"flex-1 overflow-y-auto",children:[n==="members"&&a.jsxs("div",{className:"p-4",children:[a.jsxs("div",{className:"flex items-center justify-between mb-4",children:[a.jsxs("h4",{className:"font-medium text-gray-900",children:["Members (",t.length,")"]}),a.jsx("button",{className:"p-1 text-gray-400 hover:text-gray-600 rounded-full hover:bg-gray-100 transition-colors",children:a.jsx(Yx,{className:"w-4 h-4"})})]}),a.jsx("div",{className:"space-y-3",children:t.map(c=>a.jsxs("div",{className:"flex items-center space-x-3 p-2 rounded-lg hover:bg-gray-50 transition-colors",children:[a.jsx("div",{className:"w-10 h-10 bg-gradient-to-r from-blue-500 to-purple-500 rounded-full flex items-center justify-center text-white font-medium",children:c.user_name?.charAt(0).toUpperCase()||"?"}),a.jsxs("div",{className:"flex-1 min-w-0",children:[a.jsxs("div",{className:"flex items-center space-x-2",children:[a.jsx("p",{className:"text-sm font-medium text-gray-900 truncate",children:c.user_name}),i(c.role)]}),a.jsx("p",{className:"text-xs text-gray-500 truncate",children:c.user_email})]}),a.jsx("span",{className:`px-2 py-1 text-xs font-medium rounded-full ${l(c.role)}`,children:c.role})]},c.id))})]}),n==="settings"&&a.jsxs("div",{className:"p-4 space-y-4",children:[a.jsxs("div",{children:[a.jsx("h4",{className:"font-medium text-gray-900 mb-3",children:"Room Settings"}),a.jsxs("div",{className:"space-y-3",children:[a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{children:[a.jsx("p",{className:"text-sm font-medium text-gray-900",children:"Notifications"}),a.jsx("p",{className:"text-xs text-gray-500",children:"Get notified about new messages"})]}),a.jsxs("label",{className:"relative inline-flex items-center cursor-pointer",children:[a.jsx("input",{type:"checkbox",className:"sr-only peer",defaultChecked:!0}),a.jsx("div",{className:"w-11 h-6 bg-gray-200 peer-focus:outline-none peer-focus:ring-4 peer-focus:ring-fuchsia-300 rounded-full peer peer-checked:after:translate-x-full peer-checked:after:border-white after:content-[''] after:absolute after:top-[2px] after:left-[2px] after:bg-white after:border-gray-300 after:border after:rounded-full after:h-5 after:w-5 after:transition-all peer-checked:bg-fuchsia-600"})]})]}),a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{children:[a.jsx("p",{className:"text-sm font-medium text-gray-900",children:"Mute Room"}),a.jsx("p",{className:"text-xs text-gray-500",children:"Hide notifications from this room"})]}),a.jsxs("label",{className:"relative inline-flex items-center cursor-pointer",children:[a.jsx("input",{type:"checkbox",className:"sr-only peer"}),a.jsx("div",{className:"w-11 h-6 bg-gray-200 peer-focus:outline-none peer-focus:ring-4 peer-focus:ring-fuchsia-300 rounded-full peer peer-checked:after:translate-x-full peer-checked:after:border-white after:content-[''] after:absolute after:top-[2px] after:left-[2px] after:bg-white after:border-gray-300 after:border after:rounded-full after:h-5 after:w-5 after:transition-all peer-checked:bg-fuchsia-600"})]})]})]})]}),a.jsxs("div",{className:"border-t border-gray-200 pt-4",children:[a.jsx("h4",{className:"font-medium text-gray-900 mb-3",children:"Danger Zone"}),a.jsxs("div",{className:"space-y-2",children:[a.jsx("button",{className:"w-full text-left px-3 py-2 text-sm text-red-600 hover:bg-red-50 rounded-lg transition-colors",children:"Leave Room"}),e.room_type==="group"&&a.jsx("button",{className:"w-full text-left px-3 py-2 text-sm text-red-600 hover:bg-red-50 rounded-lg transition-colors",children:"Delete Room"})]})]})]})]})]}):null},JTe=({roomId:e,onRoomSelect:t})=>{const{user:r}=va(),[n,s]=v.useState(null),[i,l]=v.useState([]),[c,d]=v.useState([]),[f,h]=v.useState(!1),[g,p]=v.useState(null),[y,b]=v.useState(!1),w=v.useRef(null),{isConnected:j,sendChatMessage:S,sendTypingIndicator:k,joinRoom:E}=HEe({roomId:e,onMessage:C,onError:()=>p("Connection error"),onOpen:()=>p(null)});function C(D){switch(D.type){case"new_message":l(R=>[D.message,...R]);break;case"typing":break;case"user_joined":case"user_left":break;case"connection_established":p(null);break;case"error":p(D.message);break}}v.useEffect(()=>{e?T(e):(s(null),l([]),d([]))},[e]);const T=async D=>{h(!0),p(null);try{const[R,B,V]=await Promise.all([Hc.getRoom(D),Hc.getMessages(D),Hc.getParticipants(D)]);s(R),l(B.reverse()),d(V),E(D)}catch(R){p("Failed to load room data"),console.error("Error loading room data:",R)}finally{h(!1)}},A=async(D,R="text",B)=>{if(!(!n||!D.trim()))try{S(D,R,B),await Hc.sendMessage(n.id,{content:D,message_type:R,reply_to_id:B})}catch(V){p("Failed to send message"),console.error("Error sending message:",V)}},O=D=>{k(D)};return v.useEffect(()=>{w.current?.scrollIntoView({behavior:"smooth"})},[i]),e?f?a.jsx("div",{className:"flex-1 flex items-center justify-center bg-gray-50",children:a.jsxs("div",{className:"text-center",children:[a.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-fuchsia-600 mx-auto mb-4"}),a.jsx("p",{className:"text-gray-500",children:"Loading conversation..."})]})}):g?a.jsx("div",{className:"flex-1 flex items-center justify-center bg-gray-50",children:a.jsxs("div",{className:"text-center",children:[a.jsx("div",{className:"text-red-500 mb-4",children:"⚠️"}),a.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-2",children:"Error"}),a.jsx("p",{className:"text-gray-500 mb-4",children:g}),a.jsx("button",{onClick:()=>e&&T(e),className:"px-4 py-2 bg-fuchsia-600 text-white rounded-lg hover:bg-fuchsia-700 transition-colors",children:"Retry"})]})}):a.jsxs("div",{className:"h-full flex flex-col bg-white",children:[a.jsxs("div",{className:"flex items-center justify-between p-4 border-b border-gray-200 bg-white",children:[a.jsxs("div",{className:"flex items-center space-x-3",children:[a.jsx("div",{className:"w-10 h-10 bg-gradient-to-r from-fuchsia-600 to-pink-500 rounded-full flex items-center justify-center",children:a.jsx(_d,{className:"w-5 h-5 text-white"})}),a.jsxs("div",{children:[a.jsx("h2",{className:"text-lg font-semibold text-gray-900",children:n?.name}),a.jsxs("div",{className:"flex items-center space-x-2 text-sm text-gray-500",children:[a.jsx(kr,{className:"w-4 h-4"}),a.jsxs("span",{children:[c.length," members"]}),!j&&a.jsx("span",{className:"text-red-500",children:"• Disconnected"})]})]})]}),a.jsxs("div",{className:"flex items-center space-x-2",children:[a.jsx("button",{onClick:()=>b(!y),className:"p-2 text-gray-500 hover:text-gray-700 hover:bg-gray-100 rounded-lg transition-colors",children:a.jsx(kr,{className:"w-5 h-5"})}),a.jsx("button",{className:"p-2 text-gray-500 hover:text-gray-700 hover:bg-gray-100 rounded-lg transition-colors",children:a.jsx(Hs,{className:"w-5 h-5"})})]})]}),a.jsxs("div",{className:"flex-1 flex overflow-hidden min-h-0",children:[a.jsxs("div",{className:"flex-1 flex flex-col min-h-0",children:[a.jsx(XTe,{messages:i,currentUserId:r?.id,onReply:D=>{}}),a.jsx("div",{ref:w}),a.jsx(QTe,{onSendMessage:A,onTyping:O,disabled:!j,placeholder:`Message ${n?.name}...`})]}),y&&a.jsx(ZTe,{room:n,participants:c,onClose:()=>b(!1)})]})]}):a.jsx("div",{className:"flex-1 flex items-center justify-center bg-gray-50",children:a.jsxs("div",{className:"text-center",children:[a.jsx(_d,{className:"w-16 h-16 text-gray-400 mx-auto mb-4"}),a.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-2",children:"Welcome to Chat"}),a.jsx("p",{className:"text-gray-500",children:"Select a conversation to start messaging"})]})})},eAe=({onClose:e,onRoomCreated:t})=>{const{user:r}=va(),[n,s]=v.useState(""),[i,l]=v.useState(""),[c,d]=v.useState("group"),[f,h]=v.useState([]),[g,p]=v.useState([]),[y,b]=v.useState(!1),[w,j]=v.useState(null);v.useEffect(()=>{r?.organization_id&&S()},[r]);const S=async()=>{try{const A=await Hc.getOrganizationUsers(r.organization_id);p(A.filter(O=>O.id!==r.id))}catch{}},k=async A=>{if(A.preventDefault(),!(!n.trim()||!r?.organization_id)){b(!0),j(null);try{const O=await Hc.createRoom({name:n.trim(),description:i.trim()||void 0,room_type:c,organization_id:r.organization_id,participant_ids:f});t(O)}catch{j("Failed to create room")}finally{b(!1)}}},E=A=>{h(O=>O.includes(A)?O.filter(D=>D!==A):[...O,A])},C=A=>{switch(A){case"direct":return a.jsx(Yd,{className:"w-5 h-5"});case"group":return a.jsx(kr,{className:"w-5 h-5"});case"channel":return a.jsx(gG,{className:"w-5 h-5"});default:return a.jsx(kr,{className:"w-5 h-5"})}},T=A=>{switch(A){case"direct":return"Private conversation between two people";case"group":return"Private group conversation";case"channel":return"Public channel for team discussions";default:return""}};return a.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4",children:a.jsxs("div",{className:"bg-white rounded-lg shadow-xl w-full max-w-md max-h-[90vh] overflow-hidden",children:[a.jsxs("div",{className:"flex items-center justify-between p-6 border-b border-gray-200",children:[a.jsx("h2",{className:"text-xl font-semibold text-gray-900",children:"Create New Room"}),a.jsx("button",{onClick:e,className:"p-1 text-gray-400 hover:text-gray-600 rounded-full hover:bg-gray-100 transition-colors",children:a.jsx(jr,{className:"w-5 h-5"})})]}),a.jsxs("form",{onSubmit:k,className:"p-6 space-y-6",children:[a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Room Name *"}),a.jsx("input",{type:"text",value:n,onChange:A=>s(A.target.value),placeholder:"Enter room name...",className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-fuchsia-500 focus:border-transparent",required:!0})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Description"}),a.jsx("textarea",{value:i,onChange:A=>l(A.target.value),placeholder:"Enter room description (optional)...",rows:3,className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-fuchsia-500 focus:border-transparent resize-none"})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-3",children:"Room Type"}),a.jsx("div",{className:"space-y-2",children:["group","channel","direct"].map(A=>a.jsxs("label",{className:`flex items-center p-3 border rounded-lg cursor-pointer transition-colors ${c===A?"border-fuchsia-500 bg-fuchsia-50":"border-gray-300 hover:border-gray-400"}`,children:[a.jsx("input",{type:"radio",name:"roomType",value:A,checked:c===A,onChange:O=>d(O.target.value),className:"sr-only"}),a.jsxs("div",{className:"flex items-center space-x-3",children:[a.jsx("div",{className:`p-2 rounded-lg ${c===A?"bg-fuchsia-100 text-fuchsia-600":"bg-gray-100 text-gray-500"}`,children:C(A)}),a.jsxs("div",{children:[a.jsx("div",{className:"font-medium text-gray-900 capitalize",children:A}),a.jsx("div",{className:"text-sm text-gray-500",children:T(A)})]})]})]},A))})]}),c!=="direct"&&a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-3",children:"Add Members"}),a.jsx("div",{className:"max-h-40 overflow-y-auto space-y-2",children:g.map(A=>a.jsxs("label",{className:"flex items-center space-x-3 p-2 rounded-lg hover:bg-gray-50 cursor-pointer",children:[a.jsx("input",{type:"checkbox",checked:f.includes(A.id),onChange:()=>E(A.id),className:"w-4 h-4 text-fuchsia-600 border-gray-300 rounded focus:ring-fuchsia-500"}),a.jsx("div",{className:"w-8 h-8 bg-gradient-to-r from-blue-500 to-purple-500 rounded-full flex items-center justify-center text-white text-sm font-medium",children:A.name.charAt(0).toUpperCase()}),a.jsxs("div",{className:"flex-1 min-w-0",children:[a.jsx("div",{className:"text-sm font-medium text-gray-900 truncate",children:A.name}),a.jsx("div",{className:"text-xs text-gray-500 truncate",children:A.email})]})]},A.id))}),f.length>0&&a.jsxs("div",{className:"mt-2 text-sm text-gray-600",children:[f.length," member",f.length!==1?"s":""," selected"]})]}),w&&a.jsx("div",{className:"p-3 bg-red-50 border border-red-200 rounded-lg",children:a.jsx("p",{className:"text-sm text-red-600",children:w})}),a.jsxs("div",{className:"flex items-center justify-end space-x-3 pt-4 border-t border-gray-200",children:[a.jsx("button",{type:"button",onClick:e,className:"px-4 py-2 text-gray-700 bg-gray-100 rounded-lg hover:bg-gray-200 transition-colors",children:"Cancel"}),a.jsx("button",{type:"submit",disabled:!n.trim()||y,className:"px-4 py-2 bg-gradient-to-r from-fuchsia-600 to-pink-500 text-white rounded-lg hover:from-fuchsia-700 hover:to-pink-600 disabled:from-gray-300 disabled:to-gray-400 disabled:cursor-not-allowed transition-all duration-200",children:y?"Creating...":"Create Room"})]})]})]})})},tAe=()=>{const{user:e}=va(),[t,r]=v.useState([]),[n,s]=v.useState(),[i,l]=v.useState(!0),[c,d]=v.useState(null),[f,h]=v.useState(""),[g,p]=v.useState(!1);v.useEffect(()=>{y()},[]);const y=async()=>{try{l(!0);const k=await Hc.getRooms();r(k),k.length>0&&!n&&s(k[0].id)}catch{d("Failed to load chat rooms")}finally{l(!1)}},b=k=>{s(k)},w=k=>{r(E=>[k,...E]),s(k.id),p(!1)},j=t.filter(k=>k&&typeof k=="object").filter(k=>(k.name||"").toLowerCase().includes((f||"").toLowerCase())),S=k=>{switch(k){case"direct":return"👤";case"group":return"👥";case"channel":return"📢";default:return"💬"}};return i?a.jsx("div",{className:"flex-1 flex items-center justify-center",children:a.jsxs("div",{className:"text-center",children:[a.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-fuchsia-600 mx-auto mb-4"}),a.jsx("p",{className:"text-gray-500",children:"Loading chat rooms..."})]})}):a.jsxs("div",{className:"h-full flex bg-gray-50 -m-6",children:[a.jsxs("div",{className:"w-80 bg-white border-r border-gray-200 flex flex-col",children:[a.jsxs("div",{className:"p-4 border-b border-gray-200",children:[a.jsxs("div",{className:"flex items-center justify-between mb-4",children:[a.jsx("h1",{className:"text-xl font-semibold text-gray-900",children:"Chat"}),a.jsx("button",{onClick:()=>p(!0),className:"p-2 bg-gradient-to-r from-fuchsia-600 to-pink-500 text-white rounded-full hover:from-fuchsia-700 hover:to-pink-600 transition-all duration-200 transform hover:scale-105",children:a.jsx(_r,{className:"w-5 h-5"})})]}),a.jsxs("div",{className:"relative",children:[a.jsx(Fi,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400 w-4 h-4"}),a.jsx("input",{type:"text",placeholder:"Search conversations...",value:f,onChange:k=>h(k.target.value),className:"w-full pl-10 pr-4 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-fuchsia-500 focus:border-transparent"})]})]}),a.jsxs("div",{className:"flex-1 overflow-y-auto",children:[c&&a.jsxs("div",{className:"p-4 text-center",children:[a.jsx("div",{className:"text-red-500 mb-2",children:"⚠️"}),a.jsx("p",{className:"text-sm text-gray-600 mb-3",children:c}),a.jsx("button",{onClick:y,className:"px-3 py-1 bg-fuchsia-600 text-white text-sm rounded-lg hover:bg-fuchsia-700 transition-colors",children:"Retry"})]}),j.length===0&&!c&&a.jsxs("div",{className:"p-4 text-center",children:[a.jsx(_d,{className:"w-12 h-12 text-gray-400 mx-auto mb-3"}),a.jsx("h3",{className:"text-sm font-medium text-gray-900 mb-1",children:"No conversations"}),a.jsx("p",{className:"text-xs text-gray-500 mb-3",children:"Start a new conversation"}),a.jsx("button",{onClick:()=>p(!0),className:"px-3 py-1 bg-fuchsia-600 text-white text-sm rounded-lg hover:bg-fuchsia-700 transition-colors",children:"Create Room"})]}),a.jsx("div",{className:"space-y-1 p-2",children:j.map((k,E)=>{const C=k.updated_at||k.created_at,T=C?(()=>{const A=new Date(C);return isNaN(A.getTime())?"":A.toLocaleDateString()})():"";return a.jsx("button",{onClick:()=>b(k.id),className:`w-full text-left p-3 rounded-lg transition-colors ${n===k.id?"bg-gradient-to-r from-fuchsia-50 to-pink-50 border border-fuchsia-200":"hover:bg-gray-50"}`,children:a.jsxs("div",{className:"flex items-center space-x-3",children:[a.jsx("div",{className:"w-10 h-10 bg-gradient-to-r from-fuchsia-600 to-pink-500 rounded-full flex items-center justify-center text-white text-lg",children:S(k.room_type)}),a.jsxs("div",{className:"flex-1 min-w-0",children:[a.jsxs("div",{className:"flex items-center space-x-2",children:[a.jsx("h3",{className:"text-sm font-medium text-gray-900 truncate",children:k.name||"Untitled room"}),k.room_type==="direct"&&a.jsx("span",{className:"w-2 h-2 bg-green-500 rounded-full"})]}),k.description&&a.jsx("p",{className:"text-xs text-gray-500 truncate",children:k.description}),T&&a.jsxs("p",{className:"text-xs text-gray-400",children:[k.room_type," • ",T]})]})]})},k.id??E)})})]})]}),a.jsx("div",{className:"flex-1 flex flex-col",children:a.jsx(JTe,{roomId:n,onRoomSelect:b})}),g&&a.jsx(eAe,{onClose:()=>p(!1),onRoomCreated:w})]})},rAe=()=>{const{user:e}=va(),t=Wo(),[r,n]=v.useState([{id:"1",content:`👋 Hello! I'm your AI Sales Assistant, powered by advanced CRM analytics.

🎯 I can help you with:
• **Pipeline Analysis** - Deep insights into your sales funnel
• **Lead Intelligence** - Find your hottest prospects automatically
• **Deal Strategy** - Personalized recommendations for each opportunity
• **Revenue Optimization** - Data-driven tactics to boost your numbers
• **Follow-up Automation** - Smart reminders and next steps

💡 Try asking me:
• "What are my top 3 deals this month?"
• "Which leads need immediate attention?"
• "How can I improve my pipeline?"

What would you like to explore today?`,sender:"ai",timestamp:new Date}]),[s,i]=v.useState(""),[l,c]=v.useState(!1),[d,f]=v.useState(null),h=v.useRef(null),g=v.useRef(null),p=()=>{h.current?.scrollIntoView({behavior:"smooth"})};v.useEffect(()=>{p()},[r]);const y=async()=>{if(!s.trim()||l)return;const k={id:Date.now().toString(),content:s.trim(),sender:"user",timestamp:new Date};n(E=>[...E,k]),i(""),c(!0);try{const E=localStorage.getItem("access_token"),C=await fetch("/api/ai/assistant",{method:"POST",headers:{"Content-Type":"application/json",...E&&{Authorization:`Bearer ${E}`}},body:JSON.stringify({message:s.trim(),user_id:e?.id||1})});if(!C.ok)throw new Error("Failed to get AI response");const T=await C.json(),A={id:(Date.now()+1).toString(),content:T.response,sender:"ai",timestamp:new Date};n(O=>[...O,A])}catch(E){console.error("Error sending message:",E);const C={id:(Date.now()+1).toString(),content:"Sorry, I'm having trouble connecting right now. Please try again in a moment.",sender:"ai",timestamp:new Date};n(T=>[...T,C])}finally{c(!1)}},b=k=>{k.key==="Enter"&&!k.shiftKey&&(k.preventDefault(),y())},w=async(k,E)=>{try{await navigator.clipboard.writeText(k),f(E),setTimeout(()=>f(null),2e3)}catch(C){console.error("Failed to copy text: ",C)}},j=["Show me my top 3 deals this month","Which leads need immediate attention?","Analyze my pipeline performance","Find my hottest prospects","What deals are at risk of stalling?","Suggest follow-up actions for this week"],S=k=>{i(k),g.current?.focus()};return a.jsxs("div",{className:"flex flex-col h-full bg-white",children:[a.jsxs("div",{className:"flex items-center justify-between p-4 border-b border-gray-200 bg-gradient-to-r from-indigo-600 to-purple-600 text-white",children:[a.jsxs("div",{className:"flex items-center gap-3",children:[a.jsx("div",{className:"p-2 bg-white/20 rounded-lg",children:a.jsx(hl,{className:"h-6 w-6"})}),a.jsxs("div",{children:[a.jsx("h2",{className:"text-lg font-semibold",children:"AI Sales Assistant"}),a.jsx("p",{className:"text-sm text-white/80",children:"Powered by AI"})]})]}),a.jsxs("button",{onClick:()=>t("/ai-help"),className:"flex items-center gap-2 px-3 py-2 bg-white/20 hover:bg-white/30 rounded-lg transition-colors",title:"Open AI Help Guide",children:[a.jsx(VN,{className:"h-4 w-4"}),a.jsx("span",{className:"text-sm font-medium",children:"Help"})]})]}),a.jsxs("div",{className:"flex-1 overflow-y-auto p-4 space-y-4",children:[r.map(k=>a.jsxs("div",{className:`flex gap-3 ${k.sender==="user"?"justify-end":"justify-start"}`,children:[k.sender==="ai"&&a.jsx("div",{className:"flex-shrink-0 w-8 h-8 bg-gradient-to-r from-indigo-500 to-purple-600 rounded-full flex items-center justify-center",children:a.jsx(hl,{className:"h-4 w-4 text-white"})}),a.jsxs("div",{className:`max-w-[80%] rounded-2xl px-4 py-3 ${k.sender==="user"?"bg-gradient-to-r from-indigo-600 to-purple-600 text-white":"bg-gray-100 text-gray-900"}`,children:[a.jsx("div",{className:"whitespace-pre-wrap text-sm leading-relaxed",children:k.content}),a.jsxs("div",{className:"flex items-center justify-between mt-2",children:[a.jsx("span",{className:`text-xs ${k.sender==="user"?"text-white/70":"text-gray-500"}`,children:k.timestamp.toLocaleTimeString([],{hour:"2-digit",minute:"2-digit"})}),k.sender==="ai"&&a.jsx("button",{onClick:()=>w(k.content,k.id),className:"ml-2 p-1 hover:bg-gray-200 rounded transition-colors",title:"Copy message",children:d===k.id?a.jsx(tR,{className:"h-3 w-3 text-green-600"}):a.jsx(XW,{className:"h-3 w-3 text-gray-500"})})]})]}),k.sender==="user"&&a.jsx("div",{className:"flex-shrink-0 w-8 h-8 bg-gray-300 rounded-full flex items-center justify-center",children:a.jsx(Yd,{className:"h-4 w-4 text-gray-600"})})]},k.id)),l&&a.jsxs("div",{className:"flex gap-3 justify-start",children:[a.jsx("div",{className:"flex-shrink-0 w-8 h-8 bg-gradient-to-r from-indigo-500 to-purple-600 rounded-full flex items-center justify-center",children:a.jsx(hl,{className:"h-4 w-4 text-white"})}),a.jsx("div",{className:"bg-gray-100 rounded-2xl px-4 py-3",children:a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsxs("div",{className:"flex space-x-1",children:[a.jsx("div",{className:"w-2 h-2 bg-gray-400 rounded-full animate-bounce"}),a.jsx("div",{className:"w-2 h-2 bg-gray-400 rounded-full animate-bounce",style:{animationDelay:"0.1s"}}),a.jsx("div",{className:"w-2 h-2 bg-gray-400 rounded-full animate-bounce",style:{animationDelay:"0.2s"}})]}),a.jsx("span",{className:"text-sm text-gray-500",children:"AI is thinking..."})]})})]}),r.length===1&&a.jsxs("div",{className:"mt-6",children:[a.jsx("p",{className:"text-sm text-gray-500 mb-3 text-center",children:"Try these suggestions:"}),a.jsx("div",{className:"flex flex-wrap gap-2 justify-center",children:j.map((k,E)=>a.jsx("button",{onClick:()=>S(k),className:"px-4 py-2 bg-gradient-to-r from-indigo-100 to-purple-100 hover:from-indigo-200 hover:to-purple-200 text-indigo-700 rounded-full text-sm font-medium transition-all duration-200 transform hover:scale-105",children:k},E))})]}),a.jsx("div",{ref:h})]}),a.jsxs("div",{className:"p-4 border-t border-gray-200",children:[a.jsxs("div",{className:"flex gap-3",children:[a.jsxs("div",{className:"flex-1 relative",children:[a.jsx("textarea",{ref:g,value:s,onChange:k=>i(k.target.value),onKeyPress:b,placeholder:"Ask me about your sales data...",className:"w-full px-4 py-3 pr-12 border border-gray-200 rounded-xl focus:ring-2 focus:ring-indigo-500 focus:border-transparent resize-none",rows:1,style:{minHeight:"48px",maxHeight:"120px"},disabled:l}),a.jsx("div",{className:"absolute right-3 top-1/2 transform -translate-y-1/2",children:a.jsx(So,{className:"h-5 w-5 text-gray-400"})})]}),a.jsx("button",{onClick:y,disabled:!s.trim()||l,className:"px-6 py-3 bg-gradient-to-r from-indigo-600 to-purple-600 text-white rounded-xl hover:from-indigo-700 hover:to-purple-700 disabled:opacity-50 disabled:cursor-not-allowed transition-all duration-200 transform hover:scale-105 disabled:hover:scale-100",children:a.jsx(eu,{className:"h-5 w-5"})})]}),a.jsx("p",{className:"text-xs text-gray-500 mt-2 text-center",children:"Press Enter to send • Shift+Enter for new line"})]})]})},nAe=[{id:"lead-scoring",title:"AI Lead Scoring",description:"Automatically score leads based on behavior, engagement, and company data to prioritize high-value prospects.",icon:a.jsx(ha,{className:"w-8 h-8"}),status:"implemented",category:"lead-management",details:{howItWorks:"Our AI analyzes multiple data points including email engagement, website activity, company size, industry, and interaction patterns to assign a score from 0-100. The algorithm learns from your historical conversion data to improve accuracy over time.",businessBenefits:["Focus sales efforts on high-probability leads","Reduce time spent on low-value prospects","Improve conversion rates by 40-60%","Better resource allocation and forecasting"],technicalDetails:"Uses machine learning models trained on your CRM data, integrates with email tracking, website analytics, and company databases. Updates scores in real-time as new data becomes available.",useCases:["Prioritizing daily lead follow-ups","Segmenting leads for different sales approaches","Identifying upsell opportunities","Predicting deal closure probability"]}},{id:"email-automation",title:"Smart Email Automation",description:"AI-powered email campaigns with personalization, timing optimization, and behavioral triggers.",icon:a.jsx(Kd,{className:"w-8 h-8"}),status:"implemented",category:"automation",details:{howItWorks:"The system analyzes recipient behavior patterns, optimal sending times, and content preferences to automatically send personalized emails. It uses A/B testing to optimize subject lines, content, and timing for maximum engagement.",businessBenefits:["Increase email open rates by 25-35%","Reduce manual email management by 80%","Improve lead nurturing efficiency","Scale personalized communication"],technicalDetails:"Integrates with email providers, uses natural language processing for content personalization, machine learning for timing optimization, and behavioral analytics for trigger-based automation.",useCases:["Welcome series for new leads","Follow-up sequences after meetings","Re-engagement campaigns for cold leads","Product announcement campaigns"]}},{id:"chat-assistant",title:"AI Chat Assistant",description:"Intelligent chatbot that handles customer inquiries, qualifies leads, and provides instant support.",icon:a.jsx(gh,{className:"w-8 h-8"}),status:"implemented",category:"communication",details:{howItWorks:"The AI assistant uses natural language processing to understand customer queries and provide relevant responses. It can qualify leads, schedule meetings, answer FAQs, and escalate complex issues to human agents.",businessBenefits:["Provide 24/7 customer support","Qualify leads automatically","Reduce response time to seconds","Handle multiple conversations simultaneously"],technicalDetails:"Built on advanced language models, integrates with your CRM, calendar, and knowledge base. Continuously learns from conversations to improve accuracy and response quality.",useCases:["Website live chat support","Lead qualification and scheduling","FAQ handling and troubleshooting","Meeting scheduling and reminders"]}},{id:"predictive-analytics",title:"Predictive Analytics",description:"Forecast sales trends, identify opportunities, and predict customer behavior using AI algorithms.",icon:a.jsx(Cr,{className:"w-8 h-8"}),status:"implemented",category:"analytics",details:{howItWorks:"Advanced machine learning models analyze historical sales data, customer behavior patterns, market trends, and external factors to predict future outcomes. The system provides actionable insights and recommendations.",businessBenefits:["Accurate sales forecasting","Identify at-risk customers early","Optimize pricing strategies","Improve inventory management"],technicalDetails:"Uses time-series analysis, regression models, and deep learning algorithms. Integrates with multiple data sources including CRM, ERP, and external market data for comprehensive predictions.",useCases:["Monthly/quarterly sales forecasting","Customer churn prediction","Revenue optimization","Market opportunity identification"]}},{id:"sentiment-analysis",title:"Sentiment Analysis",description:"Analyze customer emotions and satisfaction levels from emails, chats, and social media interactions.",icon:a.jsx(os,{className:"w-8 h-8"}),status:"upcoming",category:"analytics",details:{howItWorks:"Natural language processing algorithms analyze text content to determine emotional tone, sentiment polarity, and customer satisfaction levels. Provides real-time insights into customer mood and satisfaction.",businessBenefits:["Identify unhappy customers early","Improve customer satisfaction scores","Optimize communication tone","Reduce customer churn"],technicalDetails:"Uses transformer-based models trained on customer communication data. Analyzes emails, chat transcripts, social media mentions, and survey responses for comprehensive sentiment tracking.",useCases:["Customer satisfaction monitoring","Support ticket prioritization","Product feedback analysis","Brand reputation monitoring"]}},{id:"customer-segmentation",title:"AI Customer Segmentation",description:"Automatically segment customers based on behavior, value, and engagement patterns for targeted marketing and sales strategies.",icon:a.jsx(kr,{className:"w-8 h-8"}),status:"implemented",category:"analytics",details:{howItWorks:"Our AI analyzes customer data including deal values, engagement patterns, company size, and activity levels to automatically create meaningful customer segments. The system continuously updates segments and provides actionable insights for each group.",businessBenefits:["Target high-value customers for upselling","Identify at-risk customers early","Personalize marketing campaigns by segment","Improve sales efficiency and conversion rates"],technicalDetails:"Uses machine learning algorithms to analyze customer behavior patterns, deal history, and engagement metrics. Creates dynamic segments with real-time updates and provides risk/opportunity scoring for each segment.",useCases:["High-value customer identification","At-risk customer early warning","Targeted marketing campaigns","Sales team prioritization"]}},{id:"smart-scheduling",title:"AI Meeting Scheduler",description:"Intelligent scheduling that optimizes meeting times based on availability, time zones, and preferences.",icon:a.jsx(La,{className:"w-8 h-8"}),status:"upcoming",category:"automation",details:{howItWorks:"The AI analyzes calendar availability, time zone differences, meeting preferences, and historical scheduling patterns to suggest optimal meeting times. Automatically handles scheduling conflicts and sends reminders.",businessBenefits:["Reduce scheduling back-and-forth by 90%","Optimize meeting attendance rates","Save 2-3 hours per week on scheduling","Improve customer experience"],technicalDetails:"Integrates with major calendar platforms (Google Calendar, Outlook), uses machine learning for preference learning, and provides smart conflict resolution and time zone handling.",useCases:["Sales meeting scheduling","Customer discovery calls","Team meeting coordination","Client consultation booking"]}},{id:"competitor-analysis",title:"Competitor Intelligence",description:"AI-powered competitive analysis that monitors competitors' activities, pricing, and market positioning.",icon:a.jsx(WN,{className:"w-8 h-8"}),status:"upcoming",category:"analytics",details:{howItWorks:"Continuously monitors competitor websites, social media, pricing changes, and market activities. Uses web scraping, social media analysis, and market data to provide actionable competitive insights.",businessBenefits:["Stay ahead of competitor moves","Optimize pricing strategies","Identify market opportunities","Improve competitive positioning"],technicalDetails:"Uses web scraping, social media APIs, price monitoring tools, and machine learning for pattern recognition. Provides real-time alerts and comprehensive competitive reports.",useCases:["Pricing strategy optimization","Market positioning analysis","Product feature comparison","Marketing campaign monitoring"]}},{id:"sales-coaching",title:"AI Sales Coach",description:"Personalized coaching and training recommendations based on sales performance and conversation analysis.",icon:a.jsx(kr,{className:"w-8 h-8"}),status:"upcoming",category:"lead-management",details:{howItWorks:"Analyzes sales calls, emails, and performance metrics to identify improvement areas. Provides personalized coaching tips, conversation suggestions, and training recommendations for each sales rep.",businessBenefits:["Improve sales team performance by 30%","Reduce training time and costs","Standardize best practices","Accelerate new hire ramp-up"],technicalDetails:"Uses speech-to-text, conversation analysis, performance tracking, and machine learning to provide personalized insights and recommendations for each sales representative.",useCases:["New hire training and onboarding","Performance improvement coaching","Best practice identification","Sales methodology optimization"]}},{id:"conversation-intelligence",title:"Conversation Intelligence",description:"Real-time analysis of sales calls and customer interactions to extract insights and improve performance.",icon:a.jsx(Y2,{className:"w-8 h-8"}),status:"premium",category:"analytics",details:{howItWorks:"Advanced speech recognition and natural language processing analyze sales calls in real-time, extracting key insights, objection patterns, and conversation quality metrics. Provides instant feedback and coaching recommendations.",businessBenefits:["Improve sales conversion rates by 25-40%","Identify winning conversation patterns","Reduce training time for new reps","Optimize sales scripts and approaches"],technicalDetails:"Uses real-time speech-to-text, sentiment analysis, keyword extraction, and machine learning to analyze call patterns. Integrates with CRM and provides detailed conversation analytics.",useCases:["Sales call analysis and coaching","Objection handling improvement","Script optimization","Performance benchmarking"]}},{id:"smart-nurturing",title:"Smart Nurturing",description:"Automated lead nurturing sequences that adapt based on behavior, engagement, and conversion probability.",icon:a.jsx(EW,{className:"w-8 h-8"}),status:"premium",category:"automation",details:{howItWorks:"AI-driven nurturing campaigns that automatically adapt content, timing, and channels based on lead behavior, engagement levels, and conversion signals. Creates personalized journeys for each prospect.",businessBenefits:["Increase lead-to-customer conversion by 50%","Reduce manual nurturing tasks by 90%","Improve lead engagement rates","Scale personalized communication"],technicalDetails:"Uses behavioral analytics, machine learning for journey optimization, multi-channel automation, and real-time decision making to create dynamic nurturing sequences.",useCases:["Lead nurturing campaigns","Customer onboarding sequences","Re-engagement programs","Upsell/cross-sell automation"]}},{id:"document-processing",title:"Document Processing",description:"OCR and AI-powered data extraction from contracts, forms, and business documents with intelligent classification.",icon:a.jsx(ra,{className:"w-8 h-8"}),status:"premium",category:"automation",details:{howItWorks:"Advanced OCR and natural language processing extract key information from contracts, invoices, forms, and other business documents. Automatically classifies documents and populates CRM fields.",businessBenefits:["Reduce manual data entry by 80%","Improve data accuracy and consistency","Accelerate document processing","Enhance compliance and audit trails"],technicalDetails:"Uses state-of-the-art OCR, document classification, entity extraction, and machine learning to process various document types and extract structured data automatically.",useCases:["Contract analysis and data extraction","Invoice processing and approval","Form data capture and validation","Document classification and routing"]}},{id:"voice-intelligence",title:"Voice Intelligence",description:"Advanced call analysis with emotion detection, speaker identification, and real-time insights.",icon:a.jsx(Y2,{className:"w-8 h-8"}),status:"premium",category:"analytics",details:{howItWorks:"Real-time voice analysis detects emotions, speaker identification, call quality metrics, and provides instant insights during and after calls. Identifies patterns and opportunities for improvement.",businessBenefits:["Improve call quality and outcomes","Identify customer emotions and satisfaction","Optimize sales team performance","Enhance customer experience"],technicalDetails:"Uses voice biometrics, emotion recognition, speaker diarization, and real-time analytics to provide comprehensive call intelligence and actionable insights.",useCases:["Sales call quality analysis","Customer service optimization","Emotion detection and response","Call center performance monitoring"]}},{id:"market-intelligence",title:"Market Intelligence",description:"External data integration and market analysis to identify opportunities and competitive threats.",icon:a.jsx(nR,{className:"w-8 h-8"}),status:"premium",category:"analytics",details:{howItWorks:"Integrates external data sources including market reports, social media, news, and industry databases to provide comprehensive market insights and competitive intelligence.",businessBenefits:["Identify new market opportunities","Stay ahead of industry trends","Optimize pricing and positioning","Improve strategic decision making"],technicalDetails:"Uses data aggregation, natural language processing, trend analysis, and machine learning to process multiple external data sources and provide actionable market intelligence.",useCases:["Market opportunity identification","Competitive threat monitoring","Industry trend analysis","Strategic planning and forecasting"]}},{id:"advanced-forecasting",title:"Advanced Forecasting",description:"ML-powered sales forecasting with multiple models and scenario planning for accurate predictions.",icon:a.jsx(eR,{className:"w-8 h-8"}),status:"premium",category:"analytics",details:{howItWorks:"Advanced machine learning models analyze historical data, market conditions, seasonality, and external factors to provide accurate sales forecasts with confidence intervals and scenario planning.",businessBenefits:["Improve forecast accuracy by 30-50%","Better resource planning and allocation","Identify revenue risks and opportunities","Optimize sales strategies"],technicalDetails:"Uses ensemble learning, time series analysis, external data integration, and scenario modeling to provide comprehensive forecasting with multiple prediction horizons.",useCases:["Sales pipeline forecasting","Revenue planning and budgeting","Resource allocation optimization","Risk assessment and mitigation"]}},{id:"advanced-forecasting",title:"Advanced Forecasting",description:"AI-powered time-series forecasting for revenue, pipeline, customer growth, and churn prediction with multiple algorithms and confidence intervals.",icon:a.jsx(Cr,{className:"w-8 h-8"}),status:"implemented",category:"analytics",details:{howItWorks:"Our advanced forecasting system uses multiple algorithms including Linear Regression, Exponential Smoothing, ARIMA, and Prophet to analyze historical data and predict future trends. Each model provides confidence intervals, accuracy scores, and actionable insights.",businessBenefits:["Accurate revenue and pipeline forecasting","Predict customer growth and churn rates","Optimize resource allocation and planning","Identify trends and seasonal patterns","Make data-driven strategic decisions"],technicalDetails:"Implements time-series analysis with multiple forecasting algorithms, confidence intervals, accuracy metrics, trend analysis, seasonality detection, and anomaly identification for comprehensive business forecasting.",useCases:["Monthly and quarterly revenue forecasting","Sales pipeline value prediction","Customer acquisition rate forecasting","Churn prediction and prevention","Budget planning and resource allocation","Market trend analysis and planning"]}}];function aAe(){const[e,t]=v.useState(null),[r,n]=v.useState("all"),[s,i]=v.useState(!1),l=nAe.filter(f=>r==="all"||f.status===r),c=f=>{switch(f){case"implemented":return"bg-green-100 text-green-800 dark:bg-green-900/30 dark:text-green-400";case"upcoming":return"bg-blue-100 text-blue-800 dark:bg-blue-900/30 dark:text-blue-400";case"premium":return"bg-gradient-to-r from-amber-100 to-yellow-100 text-amber-800 dark:from-amber-900/30 dark:to-yellow-900/30 dark:text-amber-400";default:return"bg-gray-100 text-gray-800 dark:bg-gray-900/30 dark:text-gray-400"}},d=f=>{switch(f){case"implemented":return a.jsx(Tt,{className:"w-4 h-4"});case"upcoming":return a.jsx(La,{className:"w-4 h-4"});case"premium":return a.jsx(xp,{className:"w-4 h-4"});default:return a.jsx(La,{className:"w-4 h-4"})}};return a.jsxs("div",{className:"p-6",children:[a.jsxs("div",{className:"mb-8",children:[a.jsx("h1",{className:"text-4xl font-bold text-gray-900 dark:text-white mb-4",children:"AI Features Showcase"}),a.jsx("p",{className:"text-lg text-gray-600 dark:text-gray-300 mb-6",children:"Discover how AI is transforming your CRM experience. Explore implemented features, upcoming capabilities, and premium features available on request."}),a.jsxs("div",{className:"flex gap-4 items-center mb-6",children:[a.jsxs("button",{onClick:()=>i(!0),className:"flex items-center gap-3 px-6 py-3 bg-gradient-to-r from-indigo-600 to-purple-600 text-white rounded-xl hover:from-indigo-700 hover:to-purple-700 transition-all duration-200 transform hover:scale-105 shadow-lg",children:[a.jsx(hl,{className:"h-5 w-5"}),a.jsx("span",{className:"font-medium",children:"Try AI Assistant"}),a.jsx(So,{className:"h-4 w-4"})]}),a.jsx("p",{className:"text-sm text-gray-500",children:"Chat with our AI assistant to get personalized sales insights"})]}),a.jsxs("div",{className:"flex gap-2 mb-6 flex-wrap",children:[a.jsx("button",{onClick:()=>n("all"),className:`px-4 py-2 rounded-full font-medium transition ${r==="all"?"bg-gradient-to-r from-purple-600 to-pink-600 text-white":"bg-gray-100 dark:bg-gray-800 text-gray-700 dark:text-gray-300 hover:bg-gray-200 dark:hover:bg-gray-700"}`,children:"All Features"}),a.jsx("button",{onClick:()=>n("implemented"),className:`px-4 py-2 rounded-full font-medium transition ${r==="implemented"?"bg-gradient-to-r from-green-600 to-emerald-600 text-white":"bg-gray-100 dark:bg-gray-800 text-gray-700 dark:text-gray-300 hover:bg-gray-200 dark:hover:bg-gray-700"}`,children:"Implemented"}),a.jsx("button",{onClick:()=>n("upcoming"),className:`px-4 py-2 rounded-full font-medium transition ${r==="upcoming"?"bg-gradient-to-r from-blue-600 to-cyan-600 text-white":"bg-gray-100 dark:bg-gray-800 text-gray-700 dark:text-gray-300 hover:bg-gray-200 dark:hover:bg-gray-700"}`,children:"Upcoming"}),a.jsx("button",{onClick:()=>n("premium"),className:`px-4 py-2 rounded-full font-medium transition ${r==="premium"?"bg-gradient-to-r from-amber-500 to-yellow-500 text-white":"bg-gray-100 dark:bg-gray-800 text-gray-700 dark:text-gray-300 hover:bg-gray-200 dark:hover:bg-gray-700"}`,children:"Premium Features"})]}),r==="premium"&&a.jsx("div",{className:"mb-6 p-4 bg-gradient-to-r from-amber-50 to-yellow-50 dark:from-amber-900/20 dark:to-yellow-900/20 border border-amber-200 dark:border-amber-700 rounded-lg",children:a.jsxs("div",{className:"flex items-center gap-3",children:[a.jsx(xp,{className:"w-6 h-6 text-amber-600"}),a.jsxs("div",{children:[a.jsx("h3",{className:"font-semibold text-amber-800 dark:text-amber-300",children:"Premium Features Available on Request"}),a.jsx("p",{className:"text-amber-700 dark:text-amber-400 text-sm",children:"These advanced AI features are available for custom development. Contact us to discuss implementation options and pricing."})]})]})})]}),a.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6",children:l.map(f=>a.jsxs("div",{className:`bg-white dark:bg-gray-900 rounded-2xl shadow-lg border border-gray-200 dark:border-gray-700 p-6 hover:shadow-xl transition-all duration-300 cursor-pointer group ${f.status==="premium"?"ring-2 ring-amber-200 dark:ring-amber-700":""}`,onClick:()=>t(f),children:[a.jsxs("div",{className:"flex items-center justify-between mb-4",children:[a.jsx("div",{className:`p-3 rounded-xl ${f.status==="premium"?"bg-gradient-to-br from-amber-100 to-yellow-100 dark:from-amber-900/30 dark:to-yellow-900/30":"bg-gradient-to-br from-purple-100 to-pink-100 dark:from-purple-900/30 dark:to-pink-900/30"}`,children:f.icon}),a.jsxs("span",{className:`px-2 py-1 rounded-full text-xs font-medium flex items-center gap-1 ${c(f.status)}`,children:[d(f.status),f.status==="premium"?"Premium":f.status]})]}),a.jsx("h3",{className:"text-xl font-bold text-gray-900 dark:text-white mb-3 group-hover:text-purple-600 dark:group-hover:text-purple-400 transition",children:f.title}),a.jsx("p",{className:"text-gray-600 dark:text-gray-300 text-sm mb-4 line-clamp-3",children:f.description}),a.jsxs("div",{className:"flex items-center text-purple-600 dark:text-purple-400 font-medium text-sm group-hover:gap-2 transition-all",children:["Learn More",a.jsx(Oo,{className:"w-4 h-4"})]})]},f.id))}),l.length===0&&a.jsxs("div",{className:"text-center py-12",children:[a.jsx(Cp,{className:"w-16 h-16 text-gray-400 mx-auto mb-4"}),a.jsx("h3",{className:"text-xl font-semibold text-gray-900 dark:text-white mb-2",children:"No features found"}),a.jsx("p",{className:"text-gray-600 dark:text-gray-300",children:"Try adjusting your filter to see more features."})]}),e&&a.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center p-4 z-50",children:a.jsxs("div",{className:"bg-white dark:bg-gray-900 rounded-2xl max-w-4xl w-full max-h-[90vh] overflow-y-auto",children:[a.jsx("div",{className:"p-6 border-b border-gray-200 dark:border-gray-700",children:a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{className:"flex items-center gap-4",children:[a.jsx("div",{className:`p-3 rounded-xl ${e.status==="premium"?"bg-gradient-to-br from-amber-100 to-yellow-100 dark:from-amber-900/30 dark:to-yellow-900/30":"bg-gradient-to-br from-purple-100 to-pink-100 dark:from-purple-900/30 dark:to-pink-900/30"}`,children:e.icon}),a.jsxs("div",{children:[a.jsx("h2",{className:"text-2xl font-bold text-gray-900 dark:text-white",children:e.title}),a.jsx("span",{className:`px-3 py-1 rounded-full text-sm font-medium ${c(e.status)}`,children:e.status==="premium"?"Premium Feature":e.status})]})]}),a.jsx("button",{onClick:()=>t(null),className:"p-2 hover:bg-gray-100 dark:hover:bg-gray-800 rounded-full transition",children:a.jsx(jr,{className:"w-6 h-6"})})]})}),a.jsxs("div",{className:"p-6 space-y-6",children:[e.status==="premium"&&a.jsx("div",{className:"p-4 bg-gradient-to-r from-amber-50 to-yellow-50 dark:from-amber-900/20 dark:to-yellow-900/20 border border-amber-200 dark:border-amber-700 rounded-lg",children:a.jsxs("div",{className:"flex items-center gap-3",children:[a.jsx(xp,{className:"w-5 h-5 text-amber-600"}),a.jsxs("div",{children:[a.jsx("h4",{className:"font-semibold text-amber-800 dark:text-amber-300",children:"Premium Feature"}),a.jsx("p",{className:"text-amber-700 dark:text-amber-400 text-sm",children:"This feature is available for custom development. Contact our team to discuss implementation options, pricing, and timeline."})]})]})}),a.jsxs("div",{children:[a.jsx("h3",{className:"text-lg font-semibold text-gray-900 dark:text-white mb-3",children:"Overview"}),a.jsx("p",{className:"text-gray-600 dark:text-gray-300",children:e.description})]}),a.jsxs("div",{children:[a.jsxs("h3",{className:"text-lg font-semibold text-gray-900 dark:text-white mb-3 flex items-center gap-2",children:[a.jsx(Do,{className:"w-5 h-5 text-purple-600"}),"How It Works"]}),a.jsx("p",{className:"text-gray-600 dark:text-gray-300",children:e.details.howItWorks})]}),a.jsxs("div",{children:[a.jsxs("h3",{className:"text-lg font-semibold text-gray-900 dark:text-white mb-3 flex items-center gap-2",children:[a.jsx(Cr,{className:"w-5 h-5 text-green-600"}),"Business Benefits"]}),a.jsx("ul",{className:"space-y-2",children:e.details.businessBenefits.map((f,h)=>a.jsxs("li",{className:"flex items-start gap-3",children:[a.jsx(Tt,{className:"w-5 h-5 text-green-500 mt-0.5 flex-shrink-0"}),a.jsx("span",{className:"text-gray-600 dark:text-gray-300",children:f})]},h))})]}),a.jsxs("div",{children:[a.jsxs("h3",{className:"text-lg font-semibold text-gray-900 dark:text-white mb-3 flex items-center gap-2",children:[a.jsx(Co,{className:"w-5 h-5 text-blue-600"}),"Use Cases"]}),a.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-3",children:e.details.useCases.map((f,h)=>a.jsx("div",{className:"bg-gray-50 dark:bg-gray-800 p-3 rounded-lg",children:a.jsx("span",{className:"text-gray-700 dark:text-gray-300 text-sm",children:f})},h))})]}),a.jsxs("div",{children:[a.jsxs("h3",{className:"text-lg font-semibold text-gray-900 dark:text-white mb-3 flex items-center gap-2",children:[a.jsx(G2,{className:"w-5 h-5 text-orange-600"}),"Technical Details"]}),a.jsx("p",{className:"text-gray-600 dark:text-gray-300",children:e.details.technicalDetails})]})]}),a.jsx("div",{className:"p-6 border-t border-gray-200 dark:border-gray-700 flex justify-end",children:a.jsx("button",{onClick:()=>t(null),className:"px-6 py-2 bg-gray-100 dark:bg-gray-800 text-gray-700 dark:text-gray-300 rounded-full hover:bg-gray-200 dark:hover:bg-gray-700 transition",children:"Close"})})]})}),s&&a.jsx("div",{className:"fixed inset-0 bg-black/50 flex items-center justify-center z-50 p-4",children:a.jsxs("div",{className:"bg-white rounded-2xl shadow-2xl w-full max-w-4xl h-[80vh] flex flex-col",children:[a.jsxs("div",{className:"flex items-center justify-between p-4 border-b border-gray-200",children:[a.jsx("h2",{className:"text-xl font-semibold text-gray-900",children:"AI Sales Assistant"}),a.jsx("button",{onClick:()=>i(!1),className:"p-2 hover:bg-gray-100 rounded-lg transition-colors",children:a.jsx(jr,{className:"h-5 w-5 text-gray-500"})})]}),a.jsx("div",{className:"flex-1 overflow-hidden",children:a.jsx(rAe,{})})]})})]})}const sAe=()=>{const[e,t]=v.useState("overview"),[r,n]=v.useState(null),[s,i]=v.useState(""),[l,c]=v.useState(null),[d,f]=v.useState("grid"),h=[{id:"overview",title:"Getting Started",description:"Master the basics of AI prompting",icon:gC,color:"from-blue-500 to-purple-600",prompts:[{id:"basic-pipeline",title:"Pipeline Overview",description:"Get a quick overview of your sales pipeline",prompt:"Analyze my pipeline and tell me which 3 deals need immediate attention and why",category:"overview",difficulty:"beginner",tags:["pipeline","analysis","priority"]},{id:"basic-email",title:"Simple Email Generation",description:"Generate a personalized email quickly",prompt:"Create a personalized email for [Contact Name] about [Topic] that references our last conversation",category:"overview",difficulty:"beginner",tags:["email","personalization","communication"]}]},{id:"leads",title:"Lead Management",description:"Qualify, nurture, and convert leads",icon:Cp,color:"from-green-500 to-teal-600",prompts:[{id:"lead-qualification",title:"Lead Qualification Analysis",description:"Comprehensive lead assessment and scoring",prompt:"Analyze lead [Lead Name] and provide a comprehensive qualification assessment including: current lead score and factors, qualification status (Hot/Warm/Cold) with reasoning, buying signals and purchase intent indicators, risk factors and potential obstacles, specific next steps to advance the lead, expected sales cycle timeline, required resources to close",category:"leads",difficulty:"intermediate",tags:["qualification","scoring","analysis","strategy"]},{id:"lead-nurturing",title:"Lead Nurturing Strategy",description:"Develop a nurturing sequence for leads",prompt:"Develop a lead nurturing strategy for [Lead Name] including: content strategy and communication cadence, channel mix (email, social, phone, events), personalization approach for each touchpoint, value delivery at each stage, progression triggers and handoff criteria, success metrics to track effectiveness",category:"leads",difficulty:"intermediate",tags:["nurturing","strategy","content","engagement"]},{id:"lead-conversion",title:"Lead to Deal Conversion",description:"Convert qualified leads to active deals",prompt:"Help me convert lead [Lead Name] to a deal by: identifying the best conversion approach, creating a compelling value proposition, addressing potential objections, setting up the deal structure, planning the next steps",category:"leads",difficulty:"intermediate",tags:["conversion","strategy","objection-handling","value-proposition"]}]},{id:"deals",title:"Deal Strategy",description:"Win more deals with strategic planning",icon:So,color:"from-purple-500 to-pink-600",prompts:[{id:"deal-strategy",title:"Deal Strategy Development",description:"Create comprehensive deal strategies",prompt:"Create a comprehensive strategy for deal [Deal Name]: current status and position in sales process, key stakeholders and decision makers, competitive advantages and differentiators, value proposition for this specific prospect, anticipated objections and response strategies, closing strategy and tactics, critical milestones and timeline, risk mitigation plans",category:"deals",difficulty:"advanced",tags:["strategy","stakeholders","competitive","closing"]},{id:"deal-progression",title:"Deal Advancement",description:"Move deals to the next stage",prompt:"Help me advance deal [Deal Name] to the next stage by: identifying what's needed to move forward, creating a compelling business case, planning stakeholder engagement, addressing any blockers or concerns, setting up next steps and timeline",category:"deals",difficulty:"intermediate",tags:["progression","business-case","stakeholders","timeline"]},{id:"deal-risk",title:"Deal Risk Assessment",description:"Identify and mitigate deal risks",prompt:"Assess the risk level for deal [Deal Name] and provide: risk factors and their impact, probability of closing, mitigation strategies, early warning indicators, contingency plans",category:"deals",difficulty:"intermediate",tags:["risk-assessment","mitigation","probability","contingency"]}]},{id:"communication",title:"Email & Communication",description:"Master personalized communication",icon:OG,color:"from-orange-500 to-red-600",prompts:[{id:"email-personalization",title:"Advanced Email Personalization",description:"Create highly personalized emails",prompt:"Generate a personalized email for [Contact Name] about [Topic/Purpose]: use a professional but warm tone, reference specific interactions or data points, include relevant value propositions, create appropriate urgency, provide clear call-to-action, strengthen the relationship",category:"communication",difficulty:"intermediate",tags:["email","personalization","tone","value-proposition"]},{id:"follow-up-strategy",title:"Follow-up Strategy",description:"Create effective follow-up sequences",prompt:"Create a follow-up strategy for [Contact/Deal Name]: optimal timing for follow-up, best communication channel, key message points, value to provide in follow-up, clear next steps for the prospect, escalation plan if needed",category:"communication",difficulty:"intermediate",tags:["follow-up","timing","channels","escalation"]},{id:"objection-handling",title:"Objection Handling",description:"Handle sales objections effectively",prompt:'Help me handle this objection: "[Objection Text]" for deal [Deal Name]: analyze the root cause of the objection, provide response strategy and talking points, include proof points and examples, suggest alternative approaches, plan follow-up actions, prevent similar objections in future',category:"communication",difficulty:"advanced",tags:["objections","response-strategy","proof-points","prevention"]}]},{id:"analytics",title:"Pipeline & Analytics",description:"Data-driven sales insights",icon:Fi,color:"from-indigo-500 to-blue-600",prompts:[{id:"pipeline-analysis",title:"Pipeline Health Check",description:"Comprehensive pipeline analysis",prompt:"Analyze my sales pipeline and provide insights on: overall pipeline health and strength, stage-by-stage bottlenecks and opportunities, revenue forecasting and projections, conversion rates between stages, deal velocity and time in each stage, resource allocation recommendations, risk assessment and mitigation strategies",category:"analytics",difficulty:"advanced",tags:["pipeline","health","forecasting","conversion-rates"]},{id:"sales-forecasting",title:"Sales Forecasting",description:"Predict revenue and outcomes",prompt:"Provide a sales forecast based on my current pipeline: revenue projections by time period, deal probability assessments, timeline predictions for closures, risk factors that could impact forecast, confidence levels for predictions, scenario planning (best/worst/most likely), gap analysis against targets",category:"analytics",difficulty:"advanced",tags:["forecasting","revenue","probability","scenarios"]},{id:"performance-analysis",title:"Performance Analysis",description:"Analyze and improve performance",prompt:"Analyze my sales performance and provide: key performance indicators and trends, strengths and areas for improvement, comparison with team/organization metrics, goal achievement status, recommendations for improvement, action items to boost performance",category:"analytics",difficulty:"intermediate",tags:["performance","kpis","improvement","benchmarking"]}]},{id:"competitive",title:"Competitive Intelligence",description:"Outmaneuver the competition",icon:gn,color:"from-red-500 to-orange-600",prompts:[{id:"competitive-analysis",title:"Competitive Analysis",description:"Analyze competitive landscape",prompt:"Analyze the competitive landscape for deal [Deal Name]: identify key competitors in this deal, our advantages and differentiators, competitor weaknesses to exploit, battle cards and talking points, proof points of our superiority, risk mitigation against competitor advantages, win strategy against competition",category:"competitive",difficulty:"advanced",tags:["competitive","analysis","differentiators","battle-cards"]},{id:"market-positioning",title:"Market Positioning",description:"Position against specific competitors",prompt:"Help me position our solution against [Competitor Name] by: highlighting our key differentiators, creating compelling value propositions, developing proof points and case studies, addressing competitor claims, pricing strategy and positioning, win themes and messaging",category:"competitive",difficulty:"intermediate",tags:["positioning","differentiators","value-proposition","messaging"]}]}],p=h.flatMap(j=>j.prompts).filter(j=>j.title.toLowerCase().includes(s.toLowerCase())||j.description.toLowerCase().includes(s.toLowerCase())||j.tags.some(S=>S.toLowerCase().includes(s.toLowerCase()))),y=async(j,S)=>{try{await navigator.clipboard.writeText(j),c(S),setTimeout(()=>c(null),2e3)}catch(k){console.error("Failed to copy text: ",k)}},b=j=>{switch(j){case"beginner":return"bg-green-100 text-green-800";case"intermediate":return"bg-yellow-100 text-yellow-800";case"advanced":return"bg-red-100 text-red-800";default:return"bg-gray-100 text-gray-800"}},w=j=>{switch(j){case"beginner":return"🟢";case"intermediate":return"🟡";case"advanced":return"🔴";default:return"⚪"}};return a.jsxs("div",{className:"min-h-screen bg-gradient-to-br from-slate-50 via-blue-50 to-indigo-100",children:[a.jsxs("div",{className:"relative overflow-hidden bg-gradient-to-r from-indigo-600 via-purple-600 to-pink-600",children:[a.jsx("div",{className:"absolute inset-0 bg-black/20"}),a.jsx("div",{className:"relative px-6 py-16 sm:px-8 lg:px-12",children:a.jsxs("div",{className:"text-center",children:[a.jsx("div",{className:"flex justify-center mb-6",children:a.jsx("div",{className:"p-4 bg-white/20 backdrop-blur-sm rounded-2xl",children:a.jsx(So,{className:"h-12 w-12 text-white"})})}),a.jsx("h1",{className:"text-4xl md:text-6xl font-bold text-white mb-4",children:"AI Sales Assistant"}),a.jsx("p",{className:"text-xl md:text-2xl text-white/90 mb-8 max-w-3xl mx-auto",children:"Master the art of AI prompting to unlock the full power of your CRM"}),a.jsxs("div",{className:"flex flex-wrap justify-center gap-4 text-white/80",children:[a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx(Tt,{className:"h-5 w-5"}),a.jsx("span",{children:"430+ Expert Prompts"})]}),a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx(Tt,{className:"h-5 w-5"}),a.jsx("span",{children:"8 Categories"})]}),a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx(Tt,{className:"h-5 w-5"}),a.jsx("span",{children:"Interactive Examples"})]})]})]})})]}),a.jsxs("div",{className:"max-w-7xl mx-auto px-6 py-8",children:[a.jsx("div",{className:"mb-8",children:a.jsxs("div",{className:"flex flex-col sm:flex-row gap-4 items-center justify-between",children:[a.jsxs("div",{className:"relative flex-1 max-w-md",children:[a.jsx(Fi,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 h-5 w-5 text-gray-400"}),a.jsx("input",{type:"text",placeholder:"Search prompts, categories, or tags...",value:s,onChange:j=>i(j.target.value),className:"w-full pl-10 pr-4 py-3 border border-gray-200 rounded-xl focus:ring-2 focus:ring-indigo-500 focus:border-transparent bg-white shadow-sm"})]}),a.jsxs("div",{className:"flex gap-2",children:[a.jsx("button",{onClick:()=>f("grid"),className:`p-2 rounded-lg ${d==="grid"?"bg-indigo-100 text-indigo-600":"text-gray-400 hover:text-gray-600"}`,children:a.jsx("svg",{className:"h-5 w-5",fill:"currentColor",viewBox:"0 0 20 20",children:a.jsx("path",{d:"M5 3a2 2 0 00-2 2v2a2 2 0 002 2h2a2 2 0 002-2V5a2 2 0 00-2-2H5zM5 11a2 2 0 00-2 2v2a2 2 0 002 2h2a2 2 0 002-2v-2a2 2 0 00-2-2H5zM11 5a2 2 0 012-2h2a2 2 0 012 2v2a2 2 0 01-2 2h-2a2 2 0 01-2-2V5zM11 13a2 2 0 012-2h2a2 2 0 012 2v2a2 2 0 01-2 2h-2a2 2 0 01-2-2v-2z"})})}),a.jsx("button",{onClick:()=>f("list"),className:`p-2 rounded-lg ${d==="list"?"bg-indigo-100 text-indigo-600":"text-gray-400 hover:text-gray-600"}`,children:a.jsx("svg",{className:"h-5 w-5",fill:"currentColor",viewBox:"0 0 20 20",children:a.jsx("path",{fillRule:"evenodd",d:"M3 4a1 1 0 011-1h12a1 1 0 110 2H4a1 1 0 01-1-1zm0 4a1 1 0 011-1h12a1 1 0 110 2H4a1 1 0 01-1-1zm0 4a1 1 0 011-1h12a1 1 0 110 2H4a1 1 0 01-1-1z",clipRule:"evenodd"})})})]})]})}),a.jsx("div",{className:"mb-8",children:a.jsx("div",{className:"flex flex-wrap gap-3",children:h.map(j=>{const S=j.icon;return a.jsxs("button",{onClick:()=>t(j.id),className:`flex items-center gap-3 px-6 py-3 rounded-xl transition-all duration-200 ${e===j.id?`bg-gradient-to-r ${j.color} text-white shadow-lg transform scale-105`:"bg-white text-gray-700 hover:bg-gray-50 shadow-sm hover:shadow-md"}`,children:[a.jsx(S,{className:"h-5 w-5"}),a.jsx("span",{className:"font-medium",children:j.title})]},j.id)})})}),a.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-8",children:[a.jsxs("div",{className:"lg:col-span-2",children:[a.jsxs("div",{className:"mb-6",children:[a.jsx("h2",{className:"text-2xl font-bold text-gray-900 mb-2",children:s?`Search Results (${p.length})`:h.find(j=>j.id===e)?.title}),a.jsx("p",{className:"text-gray-600",children:s?`Found ${p.length} prompts matching "${s}"`:h.find(j=>j.id===e)?.description})]}),a.jsx("div",{className:`grid gap-4 ${d==="grid"?"grid-cols-1 md:grid-cols-2":"grid-cols-1"}`,children:(s?p:h.find(j=>j.id===e)?.prompts||[]).map(j=>a.jsx("div",{className:"bg-white rounded-xl p-6 shadow-sm hover:shadow-md transition-all duration-200 border border-gray-100 hover:border-indigo-200 cursor-pointer group",onClick:()=>n(j),children:a.jsxs("div",{className:"flex items-start justify-between mb-4",children:[a.jsxs("div",{className:"flex-1",children:[a.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[a.jsx("h3",{className:"font-semibold text-gray-900 group-hover:text-indigo-600 transition-colors",children:j.title}),a.jsxs("span",{className:`px-2 py-1 rounded-full text-xs font-medium ${b(j.difficulty)}`,children:[w(j.difficulty)," ",j.difficulty]})]}),a.jsx("p",{className:"text-gray-600 text-sm mb-3",children:j.description}),a.jsxs("div",{className:"flex flex-wrap gap-1",children:[j.tags.slice(0,3).map(S=>a.jsx("span",{className:"px-2 py-1 bg-gray-100 text-gray-600 text-xs rounded-md",children:S},S)),j.tags.length>3&&a.jsxs("span",{className:"px-2 py-1 bg-gray-100 text-gray-600 text-xs rounded-md",children:["+",j.tags.length-3," more"]})]})]}),a.jsx(Oo,{className:"h-5 w-5 text-gray-400 group-hover:text-indigo-500 transition-colors"})]})},j.id))})]}),a.jsx("div",{className:"lg:col-span-1",children:r?a.jsxs("div",{className:"sticky top-8 bg-white rounded-xl p-6 shadow-lg border border-gray-200",children:[a.jsxs("div",{className:"flex items-center justify-between mb-4",children:[a.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:r.title}),a.jsx("button",{onClick:()=>y(r.prompt,r.id),className:"flex items-center gap-2 px-3 py-2 bg-indigo-100 text-indigo-600 rounded-lg hover:bg-indigo-200 transition-colors",children:l===r.id?a.jsxs(a.Fragment,{children:[a.jsx(Tt,{className:"h-4 w-4"}),a.jsx("span",{className:"text-sm",children:"Copied!"})]}):a.jsxs(a.Fragment,{children:[a.jsx(mC,{className:"h-4 w-4"}),a.jsx("span",{className:"text-sm",children:"Copy"})]})})]}),a.jsx("p",{className:"text-gray-600 mb-4",children:r.description}),a.jsx("div",{className:"mb-4",children:a.jsxs("span",{className:`inline-block px-3 py-1 rounded-full text-sm font-medium ${b(r.difficulty)}`,children:[w(r.difficulty)," ",r.difficulty]})}),a.jsxs("div",{className:"mb-6",children:[a.jsx("h4",{className:"font-medium text-gray-900 mb-2",children:"Tags"}),a.jsx("div",{className:"flex flex-wrap gap-2",children:r.tags.map(j=>a.jsx("span",{className:"px-2 py-1 bg-gray-100 text-gray-600 text-sm rounded-md",children:j},j))})]}),a.jsxs("div",{children:[a.jsx("h4",{className:"font-medium text-gray-900 mb-3",children:"Prompt Template"}),a.jsx("div",{className:"bg-gray-50 rounded-lg p-4 border",children:a.jsx("code",{className:"text-sm text-gray-800 whitespace-pre-wrap font-mono",children:r.prompt})})]}),a.jsx("div",{className:"mt-6 p-4 bg-blue-50 rounded-lg border border-blue-200",children:a.jsxs("div",{className:"flex items-start gap-3",children:[a.jsx(Cp,{className:"h-5 w-5 text-blue-600 mt-0.5"}),a.jsxs("div",{children:[a.jsx("h5",{className:"font-medium text-blue-900 mb-1",children:"Pro Tip"}),a.jsx("p",{className:"text-blue-700 text-sm",children:"Replace placeholders like [Contact Name] and [Deal Name] with actual data from your CRM for best results."})]})]})})]}):a.jsxs("div",{className:"sticky top-8 bg-white rounded-xl p-6 shadow-lg border border-gray-200 text-center",children:[a.jsx(ra,{className:"h-12 w-12 text-gray-400 mx-auto mb-4"}),a.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-2",children:"Select a Prompt"}),a.jsx("p",{className:"text-gray-600",children:"Click on any prompt from the list to see the full template and copy it to your clipboard."})]})})]}),a.jsx("div",{className:"mt-16 bg-gradient-to-r from-indigo-600 to-purple-600 rounded-2xl p-8 text-white",children:a.jsxs("div",{className:"text-center",children:[a.jsx(gC,{className:"h-12 w-12 mx-auto mb-4"}),a.jsx("h2",{className:"text-3xl font-bold mb-4",children:"Ready to Get Started?"}),a.jsx("p",{className:"text-xl text-white/90 mb-8 max-w-2xl mx-auto",children:"Try these top-rated prompts to see the AI assistant in action"}),a.jsx("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4 max-w-4xl mx-auto",children:["Analyze my pipeline and tell me which 3 deals need immediate attention and why","Create a personalized email for [Contact Name] about [Topic] that references our last conversation","Develop a strategy to advance [Deal Name] from [Current Stage] to [Next Stage] within [Timeline]"].map((j,S)=>a.jsxs("button",{onClick:()=>y(j,`quick-start-${S}`),className:"p-4 bg-white/10 backdrop-blur-sm rounded-xl hover:bg-white/20 transition-all duration-200 text-left group",children:[a.jsxs("div",{className:"flex items-center justify-between mb-2",children:[a.jsxs("span",{className:"text-sm font-medium text-white/80",children:["Quick Start #",S+1]}),l===`quick-start-${S}`?a.jsx(Tt,{className:"h-4 w-4 text-green-400"}):a.jsx(mC,{className:"h-4 w-4 text-white/60 group-hover:text-white"})]}),a.jsx("p",{className:"text-sm text-white/90",children:j})]},S))})]})})]})]})};async function iAe(e,t=!0){const r=new URLSearchParams;return r.append("active_only",t.toString()),Ee(`/api/email/templates?${r}`,"GET")}async function lAe(e){return Ee("/api/email/templates","POST",e)}async function oAe(e,t){return Ee(`/api/email/templates/${e}`,"PUT",t)}async function cAe(e){return Ee(`/api/email/templates/${e}`,"DELETE")}async function uAe(e,t,r){return Ee("/api/email/templates/preview","POST",{template_id:e,recipient_type:t,recipient_id:r})}async function dAe(){return Ee("/api/email/templates/sample","POST")}async function fAe(e){const t=new URLSearchParams;return Ee(`/api/email/campaigns?${t}`,"GET")}async function hAe(e){return Ee("/api/email/campaigns","POST",e)}async function mAe(e){return Ee(`/api/email/campaigns/${e}/send`,"POST")}async function gAe(e,t,r=100){const n=new URLSearchParams;return n.append("limit",r.toString()),Ee(`/api/email/logs?${n}`,"GET")}async function pAe(){return Ee("/api/email/logs/analytics","GET")}function xAe(){const[e,t]=v.useState("templates"),[r,n]=v.useState([]),[s,i]=v.useState([]),[l,c]=v.useState([]),[d,f]=v.useState(null),[h,g]=v.useState([]),[p,y]=v.useState([]),[b,w]=v.useState(!1),[j,S]=v.useState(null),[k,E]=v.useState(null),[C,T]=v.useState({isOpen:!1,title:"",message:"",onConfirm:()=>{}});v.useEffect(()=>{if(k){const xe=setTimeout(()=>E(null),3e3);return()=>clearTimeout(xe)}},[k]);const[A,O]=v.useState(!1),[D,R]=v.useState(null),[B,V]=v.useState({name:"",subject:"",body:"",category:""}),[W,se]=v.useState(!1),[oe,Y]=v.useState({name:"",template_id:0,target_type:"leads",target_ids:[],scheduled_at:""}),[Q,te]=v.useState(!1),[ue,ve]=v.useState(null),[U,ie]=v.useState({type:"lead",id:0});v.useEffect(()=>{F()},[]);const F=async()=>{w(!0);try{const[xe,$e,pt,Xe,Ue,At]=await Promise.all([iAe(),fAe(),gAe(),pAe(),ld(),V$()]);n(xe),i($e),c(pt),f(Xe),g(Ue),y(At)}catch{S("Failed to load data")}finally{w(!1)}},G=async()=>{try{await lAe(B),O(!1),V({name:"",subject:"",body:"",category:""}),F(),E("Template created successfully!")}catch{E("Failed to create template")}},z=async()=>{if(D)try{await oAe(D.id,B),O(!1),R(null),V({name:"",subject:"",body:"",category:""}),F(),E("Template updated successfully!")}catch{E("Failed to update template")}},q=async xe=>{if(window.confirm("Are you sure you want to delete this template?"))try{await cAe(xe),F(),E("Template deleted successfully!")}catch{E("Failed to delete template")}},de=xe=>{R(xe),V({name:xe.name,subject:xe.subject,body:xe.body,category:xe.category||""}),O(!0)},De=async xe=>{if(U.id===0){E("Please select a recipient for preview");return}try{const $e=await uAe(xe.id,U.type,U.id);ve($e),te(!0)}catch{E("Failed to preview template")}},ne=async()=>{try{await dAe(),F(),E("Sample templates created successfully!")}catch{E("Failed to create sample templates")}},le=async()=>{try{await hAe(oe),se(!1),Y({name:"",template_id:0,target_type:"leads",target_ids:[],scheduled_at:""}),F(),E("Campaign created successfully!")}catch{E("Failed to create campaign")}},he=async xe=>{if(window.confirm("Are you sure you want to send this campaign?"))try{const $e=await mAe(xe);F(),E(`Campaign sent! ${$e.sent_count} emails delivered.`)}catch{E("Failed to send campaign")}},Le=xe=>{switch(xe){case"draft":return"bg-gray-100 text-gray-700";case"scheduled":return"bg-blue-100 text-blue-700";case"sending":return"bg-yellow-100 text-yellow-700";case"completed":return"bg-green-100 text-green-700";case"paused":return"bg-orange-100 text-orange-700";default:return"bg-gray-100 text-gray-700"}},pe=xe=>{switch(xe){case"draft":return a.jsx(ra,{className:"w-4 h-4"});case"scheduled":return a.jsx(La,{className:"w-4 h-4"});case"sending":return a.jsx(Op,{className:"w-4 h-4"});case"completed":return a.jsx(Tt,{className:"w-4 h-4"});case"paused":return a.jsx(lR,{className:"w-4 h-4"});default:return a.jsx(ra,{className:"w-4 h-4"})}};return b?a.jsx("div",{className:"p-8 text-lg",children:"Loading..."}):j?a.jsx("div",{className:"p-8 text-red-500",children:j}):a.jsxs("div",{className:"p-6",children:[k&&a.jsx("div",{className:"fixed top-4 right-4 bg-green-500 text-white px-4 py-2 rounded-lg shadow-lg z-50",children:k}),a.jsxs("div",{className:"flex items-center justify-between mb-6",children:[a.jsxs("div",{children:[a.jsx("h1",{className:"text-3xl font-extrabold text-gray-900 dark:text-white",children:"Email Automation"}),a.jsx("p",{className:"text-gray-600 dark:text-gray-400",children:"Manage templates, campaigns, and automation"})]}),a.jsxs("button",{onClick:ne,className:"px-4 py-2 bg-gradient-to-r from-purple-500 to-indigo-500 text-white rounded-lg hover:from-purple-600 hover:to-indigo-600 transition",children:[a.jsx(_r,{className:"w-4 h-4 inline mr-2"}),"Create Sample Templates"]})]}),a.jsxs("div",{className:"flex space-x-1 bg-gray-100 dark:bg-gray-800 rounded-lg p-1 mb-6",children:[a.jsxs("button",{onClick:()=>t("templates"),className:`flex items-center px-4 py-2 rounded-md transition ${e==="templates"?"bg-white dark:bg-gray-700 text-gray-900 dark:text-white shadow":"text-gray-600 dark:text-gray-400 hover:text-gray-900 dark:hover:text-white"}`,children:[a.jsx(ra,{className:"w-4 h-4 mr-2"}),"Templates"]}),a.jsxs("button",{onClick:()=>t("campaigns"),className:`flex items-center px-4 py-2 rounded-md transition ${e==="campaigns"?"bg-white dark:bg-gray-700 text-gray-900 dark:text-white shadow":"text-gray-600 dark:text-gray-400 hover:text-gray-900 dark:hover:text-white"}`,children:[a.jsx(eu,{className:"w-4 h-4 mr-2"}),"Campaigns"]}),a.jsxs("button",{onClick:()=>t("analytics"),className:`flex items-center px-4 py-2 rounded-md transition ${e==="analytics"?"bg-white dark:bg-gray-700 text-gray-900 dark:text-white shadow":"text-gray-600 dark:text-gray-400 hover:text-gray-900 dark:hover:text-white"}`,children:[a.jsx(ia,{className:"w-4 h-4 mr-2"}),"Analytics"]})]}),e==="templates"&&a.jsxs("div",{children:[a.jsxs("div",{className:"flex justify-between items-center mb-4",children:[a.jsx("h2",{className:"text-xl font-semibold",children:"Email Templates"}),a.jsxs("button",{onClick:()=>O(!0),className:"px-4 py-2 bg-blue-500 text-white rounded-lg hover:bg-blue-600 transition",children:[a.jsx(_r,{className:"w-4 h-4 inline mr-2"}),"Create Template"]})]}),a.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:r.map(xe=>a.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-lg shadow p-4",children:[a.jsxs("div",{className:"flex justify-between items-start mb-3",children:[a.jsx("h3",{className:"font-semibold text-gray-900 dark:text-white",children:xe.name}),a.jsxs("div",{className:"flex space-x-1",children:[a.jsx("button",{onClick:()=>De(xe),className:"p-1 text-gray-400 hover:text-blue-500",title:"Preview",children:a.jsx(gn,{className:"w-4 h-4"})}),a.jsx("button",{onClick:()=>de(xe),className:"p-1 text-gray-400 hover:text-green-500",title:"Edit",children:a.jsx(Jh,{className:"w-4 h-4"})}),a.jsx("button",{onClick:()=>q(xe.id),className:"p-1 text-gray-400 hover:text-red-500",title:"Delete",children:a.jsx(mi,{className:"w-4 h-4"})})]})]}),a.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-400 mb-2",children:xe.subject}),xe.category&&a.jsx("span",{className:"inline-block px-2 py-1 bg-blue-100 text-blue-700 text-xs rounded-full mb-2",children:xe.category}),a.jsxs("div",{className:"flex items-center justify-between text-xs text-gray-500",children:[a.jsxs("span",{children:["Variables: ",xe.validation.total_variables]}),a.jsx("span",{className:xe.validation.valid?"text-green-500":"text-red-500",children:xe.validation.valid?"Valid":"Invalid"})]})]},xe.id))})]}),e==="campaigns"&&a.jsxs("div",{children:[a.jsxs("div",{className:"flex justify-between items-center mb-4",children:[a.jsx("h2",{className:"text-xl font-semibold",children:"Email Campaigns"}),a.jsxs("button",{onClick:()=>se(!0),className:"px-4 py-2 bg-green-500 text-white rounded-lg hover:bg-green-600 transition",children:[a.jsx(_r,{className:"w-4 h-4 inline mr-2"}),"Create Campaign"]})]}),a.jsx("div",{className:"bg-white dark:bg-gray-800 rounded-lg shadow overflow-hidden",children:a.jsxs("table",{className:"w-full",children:[a.jsx("thead",{className:"bg-gray-50 dark:bg-gray-700",children:a.jsxs("tr",{children:[a.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Name"}),a.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Template"}),a.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Target"}),a.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Status"}),a.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Created"}),a.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Actions"})]})}),a.jsx("tbody",{className:"divide-y divide-gray-200 dark:divide-gray-700",children:s.map(xe=>a.jsxs("tr",{children:[a.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:a.jsx("div",{className:"text-sm font-medium text-gray-900 dark:text-white",children:xe.name})}),a.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:a.jsx("div",{className:"text-sm text-gray-500",children:r.find($e=>$e.id===xe.template_id)?.name||"Unknown"})}),a.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:a.jsxs("div",{className:"text-sm text-gray-500",children:[xe.target_type," (",JSON.parse(xe.target_ids).length,")"]})}),a.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:a.jsxs("span",{className:`inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium ${Le(xe.status)}`,children:[pe(xe.status),a.jsx("span",{className:"ml-1",children:xe.status})]})}),a.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:new Date(xe.created_at).toLocaleDateString()}),a.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm font-medium",children:xe.status==="draft"&&a.jsx("button",{onClick:()=>he(xe.id),className:"text-green-600 hover:text-green-900 mr-3",children:a.jsx(eu,{className:"w-4 h-4"})})})]},xe.id))})]})})]}),e==="analytics"&&d&&a.jsxs("div",{children:[a.jsx("h2",{className:"text-xl font-semibold mb-4",children:"Email Analytics"}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4 mb-6",children:[a.jsx("div",{className:"bg-white dark:bg-gray-800 rounded-lg shadow p-4",children:a.jsxs("div",{className:"flex items-center",children:[a.jsx(Kd,{className:"w-8 h-8 text-blue-500"}),a.jsxs("div",{className:"ml-3",children:[a.jsx("p",{className:"text-sm font-medium text-gray-500",children:"Total Sent"}),a.jsx("p",{className:"text-2xl font-semibold text-gray-900 dark:text-white",children:d.total_sent})]})]})}),a.jsx("div",{className:"bg-white dark:bg-gray-800 rounded-lg shadow p-4",children:a.jsxs("div",{className:"flex items-center",children:[a.jsx(gn,{className:"w-8 h-8 text-green-500"}),a.jsxs("div",{className:"ml-3",children:[a.jsx("p",{className:"text-sm font-medium text-gray-500",children:"Opened"}),a.jsx("p",{className:"text-2xl font-semibold text-gray-900 dark:text-white",children:d.total_opened})]})]})}),a.jsx("div",{className:"bg-white dark:bg-gray-800 rounded-lg shadow p-4",children:a.jsxs("div",{className:"flex items-center",children:[a.jsx(ha,{className:"w-8 h-8 text-purple-500"}),a.jsxs("div",{className:"ml-3",children:[a.jsx("p",{className:"text-sm font-medium text-gray-500",children:"Clicked"}),a.jsx("p",{className:"text-2xl font-semibold text-gray-900 dark:text-white",children:d.total_clicked})]})]})}),a.jsx("div",{className:"bg-white dark:bg-gray-800 rounded-lg shadow p-4",children:a.jsxs("div",{className:"flex items-center",children:[a.jsx(ia,{className:"w-8 h-8 text-orange-500"}),a.jsxs("div",{className:"ml-3",children:[a.jsx("p",{className:"text-sm font-medium text-gray-500",children:"Open Rate"}),a.jsxs("p",{className:"text-2xl font-semibold text-gray-900 dark:text-white",children:[d.open_rate,"%"]})]})]})})]}),a.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-lg shadow",children:[a.jsx("div",{className:"px-6 py-4 border-b border-gray-200 dark:border-gray-700",children:a.jsx("h3",{className:"text-lg font-medium",children:"Recent Email Logs"})}),a.jsx("div",{className:"overflow-x-auto",children:a.jsxs("table",{className:"w-full",children:[a.jsx("thead",{className:"bg-gray-50 dark:bg-gray-700",children:a.jsxs("tr",{children:[a.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase",children:"Recipient"}),a.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase",children:"Subject"}),a.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase",children:"Status"}),a.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase",children:"Sent"})]})}),a.jsx("tbody",{className:"divide-y divide-gray-200 dark:divide-gray-700",children:l.slice(0,10).map(xe=>a.jsxs("tr",{children:[a.jsxs("td",{className:"px-6 py-4 whitespace-nowrap",children:[a.jsx("div",{className:"text-sm font-medium text-gray-900 dark:text-white",children:xe.recipient_name}),a.jsx("div",{className:"text-sm text-gray-500",children:xe.recipient_email})]}),a.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:a.jsx("div",{className:"text-sm text-gray-900 dark:text-white",children:xe.subject})}),a.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:a.jsx("span",{className:`inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium ${xe.status==="sent"?"bg-green-100 text-green-700":"bg-gray-100 text-gray-700"}`,children:xe.status})}),a.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:new Date(xe.sent_at).toLocaleDateString()})]},xe.id))})]})})]})]}),A&&a.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:a.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-lg p-6 w-full max-w-4xl max-h-[90vh] overflow-y-auto",children:[a.jsx("h2",{className:"text-xl font-semibold mb-4",children:D?"Edit Template":"Create Template"}),a.jsxs("div",{className:"space-y-4",children:[a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium mb-1",children:"Name"}),a.jsx("input",{type:"text",value:B.name,onChange:xe=>V({...B,name:xe.target.value}),className:"w-full px-3 py-2 border rounded-lg focus:ring-2 focus:ring-blue-500"})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium mb-1",children:"Category"}),a.jsxs("select",{value:B.category,onChange:xe=>V({...B,category:xe.target.value}),className:"w-full px-3 py-2 border rounded-lg focus:ring-2 focus:ring-blue-500",children:[a.jsx("option",{value:"",children:"Select Category"}),a.jsx("option",{value:"welcome",children:"Welcome"}),a.jsx("option",{value:"follow_up",children:"Follow-up"}),a.jsx("option",{value:"reminder",children:"Reminder"}),a.jsx("option",{value:"notification",children:"Notification"}),a.jsx("option",{value:"deal_update",children:"Deal Update"})]})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium mb-1",children:"Subject"}),a.jsx("input",{type:"text",value:B.subject,onChange:xe=>V({...B,subject:xe.target.value}),className:"w-full px-3 py-2 border rounded-lg focus:ring-2 focus:ring-blue-500",placeholder:"Welcome to {{contact.company}}, {{contact.name}}!"})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium mb-1",children:"Body (HTML)"}),a.jsx("textarea",{value:B.body,onChange:xe=>V({...B,body:xe.target.value}),rows:10,className:"w-full px-3 py-2 border rounded-lg focus:ring-2 focus:ring-blue-500 font-mono text-sm",placeholder:"<div>Hello {{contact.name}}!</div>"})]}),a.jsxs("div",{className:"bg-gray-50 dark:bg-gray-700 p-3 rounded-lg",children:[a.jsx("h4",{className:"font-medium mb-2",children:"Available Variables:"}),a.jsxs("div",{className:"grid grid-cols-2 gap-2 text-sm",children:[a.jsxs("div",{children:[a.jsx("code",{className:"bg-gray-200 px-1 rounded",children:"{{contact.name}}"})," - Contact Name"]}),a.jsxs("div",{children:[a.jsx("code",{className:"bg-gray-200 px-1 rounded",children:"{{contact.email}}"})," - Contact Email"]}),a.jsxs("div",{children:[a.jsx("code",{className:"bg-gray-200 px-1 rounded",children:"{{contact.company}}"})," - Company"]}),a.jsxs("div",{children:[a.jsx("code",{className:"bg-gray-200 px-1 rounded",children:"{{lead.title}}"})," - Lead Title"]}),a.jsxs("div",{children:[a.jsx("code",{className:"bg-gray-200 px-1 rounded",children:"{{deal.value}}"})," - Deal Value"]}),a.jsxs("div",{children:[a.jsx("code",{className:"bg-gray-200 px-1 rounded",children:"{{user.name}}"})," - User Name"]})]})]})]}),a.jsxs("div",{className:"flex justify-end space-x-3 mt-6",children:[a.jsx("button",{onClick:()=>{O(!1),R(null),V({name:"",subject:"",body:"",category:""})},className:"px-4 py-2 text-gray-600 border rounded-lg hover:bg-gray-50",children:"Cancel"}),a.jsx("button",{onClick:D?z:G,className:"px-4 py-2 bg-blue-500 text-white rounded-lg hover:bg-blue-600",children:D?"Update":"Create"})]})]})}),W&&a.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:a.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-lg p-6 w-full max-w-2xl",children:[a.jsx("h2",{className:"text-xl font-semibold mb-4",children:"Create Campaign"}),a.jsxs("div",{className:"space-y-4",children:[a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium mb-1",children:"Campaign Name"}),a.jsx("input",{type:"text",value:oe.name,onChange:xe=>Y({...oe,name:xe.target.value}),className:"w-full px-3 py-2 border rounded-lg focus:ring-2 focus:ring-blue-500"})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium mb-1",children:"Template"}),a.jsxs("select",{value:oe.template_id,onChange:xe=>Y({...oe,template_id:parseInt(xe.target.value)}),className:"w-full px-3 py-2 border rounded-lg focus:ring-2 focus:ring-blue-500",children:[a.jsx("option",{value:0,children:"Select Template"}),r.map(xe=>a.jsx("option",{value:xe.id,children:xe.name},xe.id))]})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium mb-1",children:"Target Type"}),a.jsxs("select",{value:oe.target_type,onChange:xe=>Y({...oe,target_type:xe.target.value,target_ids:[]}),className:"w-full px-3 py-2 border rounded-lg focus:ring-2 focus:ring-blue-500",children:[a.jsx("option",{value:"leads",children:"Leads"}),a.jsx("option",{value:"contacts",children:"Contacts"}),a.jsx("option",{value:"deals",children:"Deals"})]})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium mb-1",children:"Target Recipients"}),a.jsxs("select",{multiple:!0,value:oe.target_ids.map(String),onChange:xe=>{const $e=Array.from(xe.target.selectedOptions,pt=>parseInt(pt.value));Y({...oe,target_ids:$e})},className:"w-full px-3 py-2 border rounded-lg focus:ring-2 focus:ring-blue-500",size:5,children:[oe.target_type==="leads"&&h.map(xe=>a.jsxs("option",{value:xe.id,children:[xe.title," - ",xe.contact?.name||"Unknown"]},xe.id)),oe.target_type==="contacts"&&p.map(xe=>a.jsxs("option",{value:xe.id,children:[xe.name," - ",xe.company||"No Company"]},xe.id))]})]})]}),a.jsxs("div",{className:"flex justify-end space-x-3 mt-6",children:[a.jsx("button",{onClick:()=>{se(!1),Y({name:"",template_id:0,target_type:"leads",target_ids:[],scheduled_at:""})},className:"px-4 py-2 text-gray-600 border rounded-lg hover:bg-gray-50",children:"Cancel"}),a.jsx("button",{onClick:le,className:"px-4 py-2 bg-green-500 text-white rounded-lg hover:bg-green-600",children:"Create Campaign"})]})]})}),Q&&ue&&a.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:a.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-lg p-6 w-full max-w-4xl max-h-[90vh] overflow-y-auto",children:[a.jsx("h2",{className:"text-xl font-semibold mb-4",children:"Template Preview"}),a.jsxs("div",{className:"mb-4",children:[a.jsx("label",{className:"block text-sm font-medium mb-1",children:"Preview Recipient"}),a.jsxs("div",{className:"flex space-x-2",children:[a.jsxs("select",{value:U.type,onChange:xe=>ie({...U,type:xe.target.value,id:0}),className:"px-3 py-2 border rounded-lg",children:[a.jsx("option",{value:"lead",children:"Lead"}),a.jsx("option",{value:"contact",children:"Contact"}),a.jsx("option",{value:"deal",children:"Deal"})]}),a.jsxs("select",{value:U.id,onChange:xe=>ie({...U,id:parseInt(xe.target.value)}),className:"px-3 py-2 border rounded-lg",children:[a.jsx("option",{value:0,children:"Select Recipient"}),U.type==="lead"&&h.map(xe=>a.jsxs("option",{value:xe.id,children:[xe.title," - ",xe.contact?.name||"Unknown"]},xe.id)),U.type==="contact"&&p.map(xe=>a.jsxs("option",{value:xe.id,children:[xe.name," - ",xe.company||"No Company"]},xe.id))]})]})]}),a.jsxs("div",{className:"bg-gray-50 dark:bg-gray-700 p-4 rounded-lg mb-4",children:[a.jsx("h3",{className:"font-medium mb-2",children:"Subject:"}),a.jsx("p",{className:"text-gray-900 dark:text-white",children:ue.subject})]}),a.jsxs("div",{className:"bg-gray-50 dark:bg-gray-700 p-4 rounded-lg",children:[a.jsx("h3",{className:"font-medium mb-2",children:"Body:"}),a.jsx("div",{className:"prose max-w-none",dangerouslySetInnerHTML:{__html:ue.body}})]}),a.jsx("div",{className:"flex justify-end mt-6",children:a.jsx("button",{onClick:()=>te(!1),className:"px-4 py-2 bg-gray-500 text-white rounded-lg hover:bg-gray-600",children:"Close"})})]})})]})}const yAe={async getSalesForecast(e=12){return(await Ee(`/api/predictive-analytics/sales-forecast?months=${e}`,"GET")).data},async getChurnPrediction(){return(await Ee("/api/predictive-analytics/churn-prediction","GET")).data},async getRevenueOptimization(){return(await Ee("/api/predictive-analytics/revenue-optimization","GET")).data},async getMarketOpportunities(){return(await Ee("/api/predictive-analytics/market-opportunities","GET")).data},async getDashboardInsights(){return(await Ee("/api/predictive-analytics/dashboard-insights","GET")).data},async healthCheck(){return Ee("/api/predictive-analytics/health-check","GET")}},Qc=e=>new Intl.NumberFormat("en-US",{style:"currency",currency:"USD",minimumFractionDigits:0,maximumFractionDigits:0}).format(e),M2=e=>`${e.toFixed(1)}%`,vAe=e=>{switch(e){case"High":return"text-red-600 bg-red-100";case"Medium":return"text-yellow-600 bg-yellow-100";case"Low":return"text-green-600 bg-green-100";default:return"text-gray-600 bg-gray-100"}},ZU=e=>{switch(e){case"High":return"text-red-600";case"Medium":return"text-yellow-600";case"Low":return"text-green-600";default:return"text-gray-600"}},JU=e=>{switch(e){case"High":return"text-red-600";case"Medium":return"text-yellow-600";case"Low":return"text-green-600";default:return"text-gray-600"}},jM=()=>({key_metrics:{forecasted_revenue_6m:125e4,at_risk_customers:23,high_risk_customers:8,avg_deal_size:45e3,total_opportunities:156},sales_forecast:{historical_data:[{month:"2024-01",deals:12,revenue:48e4},{month:"2024-02",deals:15,revenue:6e5},{month:"2024-03",deals:18,revenue:72e4},{month:"2024-04",deals:14,revenue:56e4},{month:"2024-05",deals:16,revenue:64e4},{month:"2024-06",deals:20,revenue:8e5}],forecast:[{month:"2024-07",predicted_revenue:85e4,predicted_deals:21},{month:"2024-08",predicted_revenue:92e4,predicted_deals:23},{month:"2024-09",predicted_revenue:88e4,predicted_deals:22},{month:"2024-10",predicted_revenue:95e4,predicted_deals:24},{month:"2024-11",predicted_revenue:1e6,predicted_deals:25},{month:"2024-12",predicted_revenue:11e5,predicted_deals:27}],trend:"upward",seasonality:{detected:!0,pattern:"Q4 peak",peak_month:"December",low_month:"January"},confidence_intervals:[{month:"2024-07",low_80:68e4,high_80:102e4,low_90:595e3,high_90:1105e3,low_95:51e4,high_95:119e4},{month:"2024-08",low_80:736e3,high_80:1104e3,low_90:644e3,high_90:1196e3,low_95:552e3,high_95:1288e3},{month:"2024-09",low_80:704e3,high_80:1056e3,low_90:616e3,high_90:1144e3,low_95:528e3,high_95:1232e3},{month:"2024-10",low_80:76e4,high_80:114e4,low_90:665e3,high_90:1235e3,low_95:57e4,high_95:133e4},{month:"2024-11",low_80:8e5,high_80:12e5,low_90:7e5,high_90:13e5,low_95:6e5,high_95:14e5},{month:"2024-12",low_80:88e4,high_80:132e4,low_90:77e4,high_90:143e4,low_95:66e4,high_95:154e4}]},churn_prediction:{total_contacts_analyzed:1e3,at_risk_contacts:23,high_risk:8,medium_risk:10,low_risk:5,churn_risks:[{contact_id:1,contact_name:"John Smith",company:"TechCorp Inc",risk_score:85,risk_level:"High",risk_factors:["No activity in 60+ days","Low engagement score"],last_activity:"2024-04-15"},{contact_id:2,contact_name:"Sarah Johnson",company:"InnovateLabs",risk_score:72,risk_level:"High",risk_factors:["Declining interaction frequency","Support ticket escalation"],last_activity:"2024-05-02"}]},revenue_optimization:{total_revenue:42e5,total_deals:95,average_deal_size:44210,stage_analysis:{Prospecting:{count:25,value:75e4},Qualified:{count:18,value:81e4},Proposal:{count:12,value:72e4},Negotiation:{count:8,value:56e4},"Closed Won":{count:32,value:136e4}},conversion_rates:{"Prospecting to Qualified":72,"Qualified to Proposal":67,"Proposal to Negotiation":67,"Negotiation to Closed Won":75},optimization_opportunities:[{type:"Lead Qualification",description:"Improve lead scoring to focus on high-value prospects",potential_impact:"High",effort:"Medium"},{type:"Follow-up Automation",description:"Implement automated follow-up sequences",potential_impact:"Medium",effort:"Low"}],recommendations:["Focus on high-value prospects in the qualification stage","Implement automated follow-up sequences for better conversion","Provide additional training for negotiation stage improvements"]},market_opportunities:{total_leads_analyzed:5e3,source_effectiveness:{Website:{total_leads:1500,qualification_rate:65,conversion_rate:12,effectiveness_score:85},Referral:{total_leads:800,qualification_rate:85,conversion_rate:25,effectiveness_score:95},"Social Media":{total_leads:1200,qualification_rate:45,conversion_rate:8,effectiveness_score:60},"Email Campaign":{total_leads:1e3,qualification_rate:55,conversion_rate:10,effectiveness_score:70},"Trade Show":{total_leads:500,qualification_rate:75,conversion_rate:18,effectiveness_score:88}},industry_analysis:{Technology:{count:1200,qualified:780},Healthcare:{count:800,qualified:520},Finance:{count:600,qualified:390},Manufacturing:{count:400,qualified:260},Retail:{count:300,qualified:195}},market_opportunities:[{type:"Industry Expansion",description:"Expand into the healthcare sector with specialized solutions",potential_impact:"High",effort:"High"},{type:"Referral Program",description:"Launch a formal referral program to increase high-quality leads",potential_impact:"High",effort:"Medium"}],trends:[{trend:"AI Integration Demand",description:"Growing demand for AI-powered business solutions",confidence:"High",impact:"Positive"},{trend:"Remote Work Solutions",description:"Increased need for remote collaboration tools",confidence:"Medium",impact:"Positive"}]}});function bAe(){const[e,t]=v.useState(null),[r,n]=v.useState(!0),[s,i]=v.useState(null),[l,c]=v.useState("overview");v.useEffect(()=>{d()},[]);const d=async()=>{n(!0),i(null);const b=setTimeout(()=>{console.log("API call timed out, using fallback data"),t(jM()),n(!1)},3e3);try{console.log("Attempting to load predictive analytics data...");const w=await yAe.getDashboardInsights();clearTimeout(b),console.log("Successfully loaded predictive analytics data:",w),t(w)}catch(w){clearTimeout(b),console.error("Error loading insights:",w),console.log("Using fallback data due to API error"),t(jM())}finally{n(!1)}};if(r)return a.jsx("div",{className:"flex items-center justify-center min-h-screen",children:a.jsx("div",{className:"animate-spin rounded-full h-32 w-32 border-b-2 border-blue-600"})});if(!e)return a.jsx("div",{className:"flex items-center justify-center min-h-screen",children:a.jsx("div",{className:"animate-spin rounded-full h-32 w-32 border-b-2 border-blue-600"})});const{key_metrics:f,sales_forecast:h,churn_prediction:g,revenue_optimization:p,market_opportunities:y}=e;return a.jsxs("div",{className:"p-6 max-w-7xl mx-auto",children:[a.jsxs("div",{className:"mb-8",children:[a.jsxs("div",{className:"flex items-center gap-3 mb-2",children:[a.jsx("div",{className:"p-2 bg-purple-100 rounded-lg",children:a.jsx(os,{className:"w-6 h-6 text-purple-600"})}),a.jsx("h1",{className:"text-3xl font-bold text-gray-900",children:"Predictive Analytics"}),a.jsx("span",{className:"px-3 py-1 bg-blue-100 text-blue-800 text-sm font-medium rounded-full",children:"AI-Powered"})]}),a.jsx("p",{className:"text-gray-600",children:"Forecast sales trends, identify opportunities, and predict customer behavior using AI algorithms"}),a.jsx("div",{className:"mt-4 p-3 bg-yellow-50 border border-yellow-200 rounded-lg",children:a.jsxs("p",{className:"text-yellow-800 text-sm",children:[a.jsx("strong",{children:"Demo Mode:"})," Showing sample predictive analytics data. In production, this would be powered by real-time AI analysis of your CRM data."]})}),s&&a.jsx("div",{className:"mt-4 p-3 bg-red-50 border border-red-200 rounded-lg",children:a.jsxs("p",{className:"text-red-800 text-sm",children:[a.jsx("strong",{children:"API Error:"})," ",s,". Showing demo data instead."]})})]}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-5 gap-6 mb-8",children:[a.jsx("div",{className:"bg-white rounded-xl shadow-sm border p-6",children:a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{children:[a.jsx("p",{className:"text-sm font-medium text-gray-600",children:"6M Forecasted Revenue"}),a.jsx("p",{className:"text-2xl font-bold text-gray-900",children:Qc(f.forecasted_revenue_6m)})]}),a.jsx("div",{className:"p-3 bg-green-100 rounded-lg",children:a.jsx(Cr,{className:"w-6 h-6 text-green-600"})})]})}),a.jsx("div",{className:"bg-white rounded-xl shadow-sm border p-6",children:a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{children:[a.jsx("p",{className:"text-sm font-medium text-gray-600",children:"At-Risk Customers"}),a.jsx("p",{className:"text-2xl font-bold text-gray-900",children:f.at_risk_customers})]}),a.jsx("div",{className:"p-3 bg-red-100 rounded-lg",children:a.jsx(pa,{className:"w-6 h-6 text-red-600"})})]})}),a.jsx("div",{className:"bg-white rounded-xl shadow-sm border p-6",children:a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{children:[a.jsx("p",{className:"text-sm font-medium text-gray-600",children:"High Risk"}),a.jsx("p",{className:"text-2xl font-bold text-gray-900",children:f.high_risk_customers})]}),a.jsx("div",{className:"p-3 bg-orange-100 rounded-lg",children:a.jsx(kr,{className:"w-6 h-6 text-orange-600"})})]})}),a.jsx("div",{className:"bg-white rounded-xl shadow-sm border p-6",children:a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{children:[a.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Avg Deal Size"}),a.jsx("p",{className:"text-2xl font-bold text-gray-900",children:Qc(f.avg_deal_size)})]}),a.jsx("div",{className:"p-3 bg-blue-100 rounded-lg",children:a.jsx(Jc,{className:"w-6 h-6 text-blue-600"})})]})}),a.jsx("div",{className:"bg-white rounded-xl shadow-sm border p-6",children:a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{children:[a.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Opportunities"}),a.jsx("p",{className:"text-2xl font-bold text-gray-900",children:f.total_opportunities})]}),a.jsx("div",{className:"p-3 bg-purple-100 rounded-lg",children:a.jsx(ha,{className:"w-6 h-6 text-purple-600"})})]})})]}),a.jsx("div",{className:"mb-8",children:a.jsx("nav",{className:"flex space-x-8",children:[{id:"overview",label:"Overview",icon:ia},{id:"forecast",label:"Sales Forecast",icon:PW},{id:"churn",label:"Churn Prediction",icon:kr},{id:"revenue",label:"Revenue Optimization",icon:Jc},{id:"market",label:"Market Opportunities",icon:ha}].map(({id:b,label:w,icon:j})=>a.jsxs("button",{onClick:()=>c(b),className:`flex items-center gap-2 px-4 py-2 rounded-lg font-medium transition-colors ${l===b?"bg-blue-100 text-blue-700":"text-gray-600 hover:text-gray-900 hover:bg-gray-100"}`,children:[a.jsx(j,{className:"w-4 h-4"}),w]},b))})}),a.jsxs("div",{className:"space-y-6",children:[l==="overview"&&a.jsx(wAe,{insights:e}),l==="forecast"&&a.jsx(jAe,{forecast:h}),l==="churn"&&a.jsx(NAe,{churn:g}),l==="revenue"&&a.jsx(SAe,{revenue:p}),l==="market"&&a.jsx(_Ae,{market:y})]})]})}function wAe({insights:e}){const{sales_forecast:t,churn_prediction:r,revenue_optimization:n,market_opportunities:s}=e;return a.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[a.jsxs("div",{className:"bg-white rounded-xl shadow-sm border p-6",children:[a.jsxs("h3",{className:"text-lg font-semibold mb-4 flex items-center gap-2",children:[a.jsx(Cr,{className:"w-5 h-5 text-green-600"}),"Sales Trend"]}),a.jsxs("div",{className:"space-y-3",children:[a.jsxs("div",{className:"flex justify-between items-center",children:[a.jsx("span",{className:"text-sm text-gray-600",children:"Current Trend"}),a.jsx("span",{className:`font-medium ${t.trend.includes("Growth")?"text-green-600":t.trend.includes("Decline")?"text-red-600":"text-gray-600"}`,children:t.trend})]}),a.jsxs("div",{className:"flex justify-between items-center",children:[a.jsx("span",{className:"text-sm text-gray-600",children:"Seasonality"}),a.jsx("span",{className:"text-sm text-gray-900",children:t.seasonality.detected?`Peak: ${t.seasonality.peak_month}`:"No pattern detected"})]})]})]}),a.jsxs("div",{className:"bg-white rounded-xl shadow-sm border p-6",children:[a.jsxs("h3",{className:"text-lg font-semibold mb-4 flex items-center gap-2",children:[a.jsx(pa,{className:"w-5 h-5 text-red-600"}),"Churn Risk Summary"]}),a.jsxs("div",{className:"space-y-3",children:[a.jsxs("div",{className:"flex justify-between items-center",children:[a.jsx("span",{className:"text-sm text-gray-600",children:"Total Analyzed"}),a.jsx("span",{className:"font-medium",children:r.total_contacts_analyzed})]}),a.jsxs("div",{className:"flex justify-between items-center",children:[a.jsx("span",{className:"text-sm text-gray-600",children:"At Risk"}),a.jsx("span",{className:"font-medium text-red-600",children:r.at_risk_contacts})]}),a.jsxs("div",{className:"flex justify-between items-center",children:[a.jsx("span",{className:"text-sm text-gray-600",children:"High Risk"}),a.jsx("span",{className:"font-medium text-red-600",children:r.high_risk})]})]})]}),a.jsxs("div",{className:"bg-white rounded-xl shadow-sm border p-6",children:[a.jsxs("h3",{className:"text-lg font-semibold mb-4 flex items-center gap-2",children:[a.jsx(Jc,{className:"w-5 h-5 text-blue-600"}),"Revenue Insights"]}),a.jsxs("div",{className:"space-y-3",children:[a.jsxs("div",{className:"flex justify-between items-center",children:[a.jsx("span",{className:"text-sm text-gray-600",children:"Total Revenue"}),a.jsx("span",{className:"font-medium",children:Qc(n.total_revenue)})]}),a.jsxs("div",{className:"flex justify-between items-center",children:[a.jsx("span",{className:"text-sm text-gray-600",children:"Total Deals"}),a.jsx("span",{className:"font-medium",children:n.total_deals})]}),a.jsxs("div",{className:"flex justify-between items-center",children:[a.jsx("span",{className:"text-sm text-gray-600",children:"Avg Deal Size"}),a.jsx("span",{className:"font-medium",children:Qc(n.average_deal_size)})]})]})]}),a.jsxs("div",{className:"bg-white rounded-xl shadow-sm border p-6",children:[a.jsxs("h3",{className:"text-lg font-semibold mb-4 flex items-center gap-2",children:[a.jsx(ha,{className:"w-5 h-5 text-purple-600"}),"Market Opportunities"]}),a.jsx("div",{className:"space-y-2",children:(s.market_opportunities||[]).slice(0,3).map((i,l)=>a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx(Cp,{className:"w-4 h-4 text-yellow-500"}),a.jsx("span",{className:"text-sm text-gray-700",children:i.type})]},l))})]})]})}function jAe({forecast:e}){return a.jsx("div",{className:"space-y-6",children:a.jsxs("div",{className:"bg-white rounded-xl shadow-sm border p-6",children:[a.jsx("h3",{className:"text-lg font-semibold mb-4",children:"Sales Forecast (Next 6 Months)"}),a.jsx("div",{className:"overflow-x-auto",children:a.jsxs("table",{className:"w-full",children:[a.jsx("thead",{children:a.jsxs("tr",{className:"border-b",children:[a.jsx("th",{className:"text-left py-3 px-4",children:"Month"}),a.jsx("th",{className:"text-right py-3 px-4",children:"Predicted Revenue"}),a.jsx("th",{className:"text-right py-3 px-4",children:"Predicted Deals"}),a.jsx("th",{className:"text-right py-3 px-4",children:"Confidence (80%)"})]})}),a.jsx("tbody",{children:e.forecast.map((t,r)=>a.jsxs("tr",{className:"border-b",children:[a.jsx("td",{className:"py-3 px-4",children:t.month}),a.jsx("td",{className:"text-right py-3 px-4 font-medium",children:Qc(t.predicted_revenue)}),a.jsx("td",{className:"text-right py-3 px-4",children:t.predicted_deals}),a.jsxs("td",{className:"text-right py-3 px-4 text-sm text-gray-600",children:[Qc(e.confidence_intervals[r]?.low_80||0)," - ",Qc(e.confidence_intervals[r]?.high_80||0)]})]},r))})]})})]})})}function NAe({churn:e}){return a.jsx("div",{className:"space-y-6",children:a.jsxs("div",{className:"bg-white rounded-xl shadow-sm border p-6",children:[a.jsx("h3",{className:"text-lg font-semibold mb-4",children:"Customer Churn Risk Analysis"}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4 mb-6",children:[a.jsxs("div",{className:"text-center p-4 bg-red-50 rounded-lg",children:[a.jsx("div",{className:"text-2xl font-bold text-red-600",children:e.high_risk}),a.jsx("div",{className:"text-sm text-gray-600",children:"High Risk"})]}),a.jsxs("div",{className:"text-center p-4 bg-yellow-50 rounded-lg",children:[a.jsx("div",{className:"text-2xl font-bold text-yellow-600",children:e.medium_risk}),a.jsx("div",{className:"text-sm text-gray-600",children:"Medium Risk"})]}),a.jsxs("div",{className:"text-center p-4 bg-green-50 rounded-lg",children:[a.jsx("div",{className:"text-2xl font-bold text-green-600",children:e.low_risk}),a.jsx("div",{className:"text-sm text-gray-600",children:"Low Risk"})]})]}),a.jsx("div",{className:"space-y-3",children:(e.churn_risks||[]).slice(0,10).map((t,r)=>a.jsxs("div",{className:"flex items-center justify-between p-3 border rounded-lg",children:[a.jsxs("div",{children:[a.jsx("div",{className:"font-medium",children:t.contact_name}),a.jsx("div",{className:"text-sm text-gray-600",children:t.company}),a.jsx("div",{className:"text-xs text-gray-500 mt-1",children:(t.risk_factors||[]).slice(0,2).join(", ")})]}),a.jsxs("div",{className:"text-right",children:[a.jsxs("div",{className:`px-2 py-1 rounded-full text-xs font-medium ${vAe(t.risk_level)}`,children:[t.risk_level," Risk"]}),a.jsxs("div",{className:"text-sm text-gray-600 mt-1",children:["Score: ",t.risk_score]})]})]},r))})]})})}function SAe({revenue:e}){return a.jsxs("div",{className:"space-y-6",children:[a.jsxs("div",{className:"bg-white rounded-xl shadow-sm border p-6",children:[a.jsx("h3",{className:"text-lg font-semibold mb-4",children:"Revenue Optimization Opportunities"}),a.jsx("div",{className:"space-y-4",children:e.optimization_opportunities.map((t,r)=>a.jsxs("div",{className:"p-4 border rounded-lg",children:[a.jsxs("div",{className:"flex items-start justify-between mb-2",children:[a.jsx("h4",{className:"font-medium",children:t.type}),a.jsxs("div",{className:"flex gap-2",children:[a.jsxs("span",{className:`text-xs px-2 py-1 rounded ${ZU(t.potential_impact)} bg-opacity-20`,children:[t.potential_impact," Impact"]}),a.jsxs("span",{className:`text-xs px-2 py-1 rounded ${JU(t.effort)} bg-opacity-20`,children:[t.effort," Effort"]})]})]}),a.jsx("p",{className:"text-sm text-gray-600",children:t.description})]},r))})]}),a.jsxs("div",{className:"bg-white rounded-xl shadow-sm border p-6",children:[a.jsx("h3",{className:"text-lg font-semibold mb-4",children:"Recommendations"}),a.jsx("div",{className:"space-y-2",children:e.recommendations.map((t,r)=>a.jsxs("div",{className:"flex items-start gap-2",children:[a.jsx(Tt,{className:"w-4 h-4 text-green-600 mt-0.5 flex-shrink-0"}),a.jsx("span",{className:"text-sm text-gray-700",children:t})]},r))})]})]})}function _Ae({market:e}){return a.jsxs("div",{className:"space-y-6",children:[a.jsxs("div",{className:"bg-white rounded-xl shadow-sm border p-6",children:[a.jsx("h3",{className:"text-lg font-semibold mb-4",children:"Source Effectiveness"}),a.jsx("div",{className:"overflow-x-auto",children:a.jsxs("table",{className:"w-full",children:[a.jsx("thead",{children:a.jsxs("tr",{className:"border-b",children:[a.jsx("th",{className:"text-left py-3 px-4",children:"Source"}),a.jsx("th",{className:"text-right py-3 px-4",children:"Total Leads"}),a.jsx("th",{className:"text-right py-3 px-4",children:"Qualification Rate"}),a.jsx("th",{className:"text-right py-3 px-4",children:"Conversion Rate"}),a.jsx("th",{className:"text-right py-3 px-4",children:"Effectiveness Score"})]})}),a.jsx("tbody",{children:Object.entries(e.source_effectiveness).map(([t,r])=>a.jsxs("tr",{className:"border-b",children:[a.jsx("td",{className:"py-3 px-4 font-medium",children:t}),a.jsx("td",{className:"text-right py-3 px-4",children:r.total_leads}),a.jsx("td",{className:"text-right py-3 px-4",children:M2(r.qualification_rate)}),a.jsx("td",{className:"text-right py-3 px-4",children:M2(r.conversion_rate)}),a.jsx("td",{className:"text-right py-3 px-4",children:a.jsx("span",{className:`px-2 py-1 rounded text-xs ${r.effectiveness_score>50?"bg-green-100 text-green-800":r.effectiveness_score>30?"bg-yellow-100 text-yellow-800":"bg-red-100 text-red-800"}`,children:M2(r.effectiveness_score)})})]},t))})]})})]}),a.jsxs("div",{className:"bg-white rounded-xl shadow-sm border p-6",children:[a.jsx("h3",{className:"text-lg font-semibold mb-4",children:"Market Opportunities"}),a.jsx("div",{className:"space-y-4",children:e.market_opportunities.map((t,r)=>a.jsxs("div",{className:"p-4 border rounded-lg",children:[a.jsxs("div",{className:"flex items-start justify-between mb-2",children:[a.jsx("h4",{className:"font-medium",children:t.type}),a.jsxs("div",{className:"flex gap-2",children:[a.jsxs("span",{className:`text-xs px-2 py-1 rounded ${ZU(t.potential_impact)} bg-opacity-20`,children:[t.potential_impact," Impact"]}),a.jsxs("span",{className:`text-xs px-2 py-1 rounded ${JU(t.effort)} bg-opacity-20`,children:[t.effort," Effort"]})]})]}),a.jsx("p",{className:"text-sm text-gray-600",children:t.description})]},r))})]})]})}const R2={async getOrganizationUsers(e){return Ee("/api/users","GET")},async createUser(e,t){return Ee("/api/users","POST",t)},async deleteUser(e,t){return Ee(`/api/users/${t}`,"DELETE")}};function kAe(){const{user:e}=va(),[t,r]=v.useState([]),[n,s]=v.useState(!0),[i,l]=v.useState(null),[c,d]=v.useState(!1),[f,h]=v.useState(null),[g,p]=v.useState(!1),[y,b]=v.useState(null),[w,j]=v.useState(""),[S,k]=v.useState({isOpen:!1,title:"",message:"",onConfirm:()=>{}}),[E,C]=v.useState({name:"",email:"",password:""}),T=v.useMemo(()=>{if(!w)return t;const B=w.toLowerCase();return t.filter(V=>(V.name||"").toLowerCase().includes(B)||(V.email||"").toLowerCase().includes(B)||(V.role||"").toLowerCase().includes(B))},[t,w]);v.useEffect(()=>{e?.organization_id&&A()},[e?.organization_id]),v.useEffect(()=>{if(y){const B=setTimeout(()=>b(null),3e3);return()=>clearTimeout(B)}},[y]);const A=async()=>{if(e?.organization_id){s(!0),l(null);try{const B=await R2.getOrganizationUsers(e.organization_id);r(B)}catch(B){l("Failed to fetch users"),console.error("Failed to fetch users:",B)}finally{s(!1)}}},O=async()=>{if(e?.organization_id){if(!E.name||!E.email||!E.password){b("Please fill in all fields");return}p(!0);try{await R2.createUser(e.organization_id,E),b(`User ${E.name} created successfully!`),C({name:"",email:"",password:""}),d(!1),await A()}catch(B){b(B.message||"Failed to create user"),console.error("Failed to create user:",B)}finally{p(!1)}}},D=(B,V)=>{e?.organization_id&&k({isOpen:!0,title:"Delete User",message:`Are you sure you want to delete user "${V}"? This action cannot be undone and will permanently remove all user data and access.`,type:"danger",onConfirm:async()=>{p(!0);try{await R2.deleteUser(e.organization_id,B),b(`User ${V} deleted successfully!`),await A(),k(W=>({...W,isOpen:!1}))}catch(W){b(W.message||"Failed to delete user"),console.error("Failed to delete user:",W),k(se=>({...se,isOpen:!1}))}finally{p(!1)}}})},R=()=>{C({name:"",email:"",password:""})};return n?a.jsx("div",{className:"flex items-center justify-center h-64",children:a.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-blue-600"})}):a.jsxs("div",{className:"p-6 max-w-7xl mx-auto",children:[a.jsxs("div",{className:"flex flex-col sm:flex-row justify-between items-start sm:items-center gap-4 mb-6",children:[a.jsxs("div",{children:[a.jsxs("h1",{className:"text-2xl font-bold text-gray-900 dark:text-white flex items-center gap-2",children:[a.jsx(kr,{className:"w-6 h-6"}),"User Management"]}),a.jsx("p",{className:"text-gray-600 dark:text-gray-400 mt-1",children:"Manage users in your organization"})]}),a.jsxs("div",{className:"flex items-center gap-3",children:[a.jsxs("div",{className:"relative",children:[a.jsx("input",{value:w,onChange:B=>j(B.target.value),placeholder:"Search users...",className:"rounded-full pl-10 pr-4 py-2 bg-white/80 dark:bg-gray-800/80 text-gray-900 dark:text-white placeholder:text-gray-400 focus:outline-none focus:ring-2 focus:ring-blue-400 w-64 shadow"}),a.jsx(Fi,{className:"absolute left-3 top-2.5 w-5 h-5 text-gray-400"})]}),a.jsxs("button",{onClick:B=>{h(B.currentTarget.getBoundingClientRect()),d(!0)},className:"bg-blue-600 hover:bg-blue-700 text-white px-4 py-2 rounded-lg flex items-center gap-2 transition-colors",children:[a.jsx(Yx,{className:"w-4 h-4"}),"Add User"]})]})]}),i&&a.jsx("div",{className:"bg-red-50 border border-red-200 text-red-700 px-4 py-3 rounded-lg mb-6",children:i}),y&&a.jsx("div",{className:"fixed top-4 right-4 bg-green-500 text-white px-6 py-3 rounded-lg shadow-lg z-50",children:y}),a.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-lg shadow overflow-hidden",children:[a.jsx("div",{className:"overflow-x-auto",children:a.jsxs("table",{className:"min-w-full divide-y divide-gray-200 dark:divide-gray-700",children:[a.jsx("thead",{className:"bg-gray-50 dark:bg-gray-700",children:a.jsxs("tr",{children:[a.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-300 uppercase tracking-wider",children:"User"}),a.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-300 uppercase tracking-wider",children:"Email"}),a.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-300 uppercase tracking-wider",children:"Role"}),a.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-300 uppercase tracking-wider",children:"Created"}),a.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-300 uppercase tracking-wider",children:"Actions"})]})}),a.jsx("tbody",{className:"bg-white dark:bg-gray-800 divide-y divide-gray-200 dark:divide-gray-700",children:T.map(B=>a.jsxs("tr",{className:"hover:bg-gray-50 dark:hover:bg-gray-700",children:[a.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:a.jsxs("div",{className:"flex items-center",children:[a.jsx("div",{className:"flex-shrink-0 h-8 w-8",children:a.jsx("div",{className:"h-8 w-8 rounded-full bg-blue-500 flex items-center justify-center text-white text-sm font-medium",children:B.name.charAt(0).toUpperCase()})}),a.jsx("div",{className:"ml-4",children:a.jsx("div",{className:"text-sm font-medium text-gray-900 dark:text-white",children:B.name})})]})}),a.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500 dark:text-gray-300",children:B.email}),a.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:a.jsx("span",{className:"inline-flex px-2 py-1 text-xs font-semibold rounded-full bg-green-100 text-green-800 dark:bg-green-900 dark:text-green-200",children:B.role})}),a.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500 dark:text-gray-300",children:B.created_at?new Date(B.created_at).toLocaleDateString():"N/A"}),a.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm font-medium",children:a.jsx("div",{className:"flex gap-2",children:a.jsx("button",{className:"text-red-600 hover:text-red-900 dark:text-red-400 dark:hover:text-red-300",onClick:()=>D(B.id,B.name),disabled:g||B.id===e?.id,title:B.id===e?.id?"Cannot delete yourself":"Delete user",children:a.jsx(mi,{className:"w-4 h-4"})})})})]},B.id))})]})}),t.length===0&&a.jsxs("div",{className:"text-center py-12",children:[a.jsx(kr,{className:"mx-auto h-12 w-12 text-gray-400"}),a.jsx("h3",{className:"mt-2 text-sm font-medium text-gray-900 dark:text-white",children:"No users found"}),a.jsx("p",{className:"mt-1 text-sm text-gray-500 dark:text-gray-400",children:"Get started by creating a new user."})]})]}),a.jsx($t,{open:c,onClose:()=>{d(!1),R()},title:"Create User",children:a.jsxs("div",{className:"p-6 w-full max-w-md",children:[a.jsxs("div",{className:"flex justify-between items-center mb-4",children:[a.jsx("h2",{className:"text-xl font-bold text-gray-900 dark:text-white",children:"Create New User"}),a.jsx("button",{onClick:()=>{d(!1),R()},className:"text-gray-400 hover:text-gray-600 dark:hover:text-gray-300",children:a.jsx("svg",{className:"w-6 h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})})]}),a.jsxs("form",{onSubmit:B=>{B.preventDefault(),O()},className:"space-y-4",children:[a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:"Full Name"}),a.jsx("input",{type:"text",value:E.name,onChange:B=>C({...E,name:B.target.value}),className:"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent dark:bg-gray-700 dark:text-white",placeholder:"Enter full name",required:!0})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:"Email"}),a.jsx("input",{type:"email",value:E.email,onChange:B=>C({...E,email:B.target.value}),className:"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent dark:bg-gray-700 dark:text-white",placeholder:"Enter email address",required:!0})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:"Password"}),a.jsx("input",{type:"password",value:E.password,onChange:B=>C({...E,password:B.target.value}),className:"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent dark:bg-gray-700 dark:text-white",placeholder:"Enter password",required:!0,minLength:6})]}),a.jsxs("div",{className:"flex gap-3 pt-4",children:[a.jsx("button",{type:"button",onClick:()=>{d(!1),R()},className:"flex-1 px-4 py-2 text-gray-700 dark:text-gray-300 bg-gray-100 dark:bg-gray-600 rounded-lg hover:bg-gray-200 dark:hover:bg-gray-500 transition-colors",children:"Cancel"}),a.jsx("button",{type:"submit",disabled:g,className:"flex-1 px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 disabled:opacity-50 disabled:cursor-not-allowed transition-colors",children:g?"Creating...":"Create User"})]})]})]})}),a.jsx(GU,{isOpen:S.isOpen,onClose:()=>k(B=>({...B,isOpen:!1})),onConfirm:S.onConfirm,title:S.title,message:S.message,type:S.type,confirmText:"Delete",cancelText:"Cancel",isLoading:g})]})}function EAe(){const{user:e}=va(),[t,r]=v.useState([]),[n,s]=v.useState(!0),[i,l]=v.useState(null),[c,d]=v.useState(null),[f,h]=v.useState(null),[g,p]=v.useState(!1),[y,b]=v.useState(null),[w,j]=v.useState(!1);v.useEffect(()=>{S()},[]);const S=async()=>{try{s(!0);const O=await Ee("/api/customer-accounts");Array.isArray(O)?r(O):(console.error("API returned non-array data:",O),r([]),l("Invalid data format received from server"))}catch(O){l("Failed to load customer accounts"),console.error("Error fetching customer accounts:",O),r([])}finally{s(!1)}},k=async O=>{try{const D=await Ee(`/api/customer-accounts/${O}/success-metrics`);h(D),j(!0)}catch(D){console.error("Error fetching success metrics:",D)}},E=async O=>{try{s(!0);const D=await Ee(`/api/customer-accounts/${O}/onboarding/start`,"POST");b(D),p(!0),S()}catch(D){console.error("Error starting onboarding:",D),l("Failed to start onboarding")}finally{s(!1)}},C=O=>{switch(O){case"completed":return a.jsx(Tt,{className:"w-5 h-5 text-green-500"});case"in_progress":return a.jsx(La,{className:"w-5 h-5 text-yellow-500"});case"pending":return a.jsx(Ap,{className:"w-5 h-5 text-gray-500"});default:return a.jsx(Ap,{className:"w-5 h-5 text-gray-500"})}},T=O=>{switch(O){case"completed":return"bg-green-100 text-green-800";case"in_progress":return"bg-yellow-100 text-yellow-800";case"pending":return"bg-gray-100 text-gray-800";default:return"bg-gray-100 text-gray-800"}},A=O=>O>=80?"text-green-600":O>=60?"text-yellow-600":"text-red-600";return n?a.jsx("div",{className:"flex items-center justify-center h-64",children:a.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-blue-600"})}):i?a.jsx("div",{className:"bg-red-50 border border-red-200 text-red-700 px-4 py-3 rounded-lg",children:i}):a.jsxs("div",{className:"p-6 max-w-7xl mx-auto",children:[a.jsx("div",{className:"flex flex-col sm:flex-row justify-between items-start sm:items-center gap-4 mb-6",children:a.jsxs("div",{children:[a.jsxs("h1",{className:"text-2xl font-bold text-gray-900 dark:text-white flex items-center gap-2",children:[a.jsx(kr,{className:"w-6 h-6"}),"Customer Accounts"]}),a.jsx("p",{className:"text-gray-600 dark:text-gray-400 mt-1",children:"Manage customer accounts and track success metrics"})]})}),a.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6 mb-8",children:Array.isArray(t)&&t.map(O=>a.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-lg shadow p-6",children:[a.jsxs("div",{className:"flex items-start justify-between mb-4",children:[a.jsxs("div",{children:[a.jsx("h3",{className:"text-lg font-semibold text-gray-900 dark:text-white",children:O.account_name}),a.jsxs("p",{className:"text-sm text-gray-500 dark:text-gray-400",children:["Deal ID: ",O.deal_id]})]}),a.jsx("span",{className:`px-2 py-1 rounded-full text-xs font-medium ${T(O.onboarding_status)}`,children:O.onboarding_status})]}),a.jsxs("div",{className:"space-y-3",children:[a.jsxs("div",{className:"flex items-center gap-2",children:[C(O.onboarding_status),a.jsxs("span",{className:"text-sm text-gray-600 dark:text-gray-300",children:["Onboarding: ",O.onboarding_status]})]}),O.health_score&&a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx(Cr,{className:"w-4 h-4 text-blue-500"}),a.jsxs("span",{className:"text-sm text-gray-600 dark:text-gray-300",children:["Health Score: ",a.jsxs("span",{className:`font-medium ${A(O.health_score)}`,children:[O.health_score,"%"]})]})]}),O.renewal_probability&&a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx(ia,{className:"w-4 h-4 text-green-500"}),a.jsxs("span",{className:"text-sm text-gray-600 dark:text-gray-300",children:["Renewal: ",a.jsxs("span",{className:"font-medium text-green-600",children:[O.renewal_probability,"%"]})]})]}),a.jsxs("div",{className:"flex gap-2 pt-2",children:[a.jsxs("button",{onClick:()=>k(O.id),className:"flex items-center gap-1 px-3 py-1 text-sm bg-blue-100 text-blue-700 rounded hover:bg-blue-200",children:[a.jsx(gn,{className:"w-4 h-4"}),"Metrics"]}),O.onboarding_status==="pending"&&a.jsxs("button",{onClick:()=>E(O.id),className:"flex items-center gap-1 px-3 py-1 text-sm bg-green-100 text-green-700 rounded hover:bg-green-200",children:[a.jsx(uR,{className:"w-4 h-4"}),"Start Onboarding"]})]})]})]},O.id))}),w&&f&&a.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:a.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-lg p-6 max-w-2xl w-full mx-4 max-h-[80vh] overflow-y-auto",children:[a.jsxs("div",{className:"flex justify-between items-center mb-4",children:[a.jsx("h2",{className:"text-xl font-bold text-gray-900 dark:text-white",children:"Customer Success Metrics"}),a.jsx("button",{onClick:()=>j(!1),className:"text-gray-500 hover:text-gray-700",children:"✕"})]}),a.jsxs("div",{className:"grid grid-cols-2 gap-4 mb-6",children:[a.jsxs("div",{className:"bg-blue-50 dark:bg-blue-900/20 p-4 rounded-lg",children:[a.jsxs("div",{className:"text-2xl font-bold text-blue-600",children:[f.health_score,"%"]}),a.jsx("div",{className:"text-sm text-blue-600",children:"Health Score"})]}),a.jsxs("div",{className:"bg-green-50 dark:bg-green-900/20 p-4 rounded-lg",children:[a.jsxs("div",{className:"text-2xl font-bold text-green-600",children:[f.renewal_probability,"%"]}),a.jsx("div",{className:"text-sm text-green-600",children:"Renewal Probability"})]})]}),a.jsxs("div",{className:"space-y-4",children:[a.jsxs("div",{children:[a.jsx("h3",{className:"font-semibold text-gray-900 dark:text-white mb-2",children:"Key Metrics"}),a.jsxs("div",{className:"grid grid-cols-2 gap-4 text-sm",children:[a.jsxs("div",{children:[a.jsx("span",{className:"text-gray-600 dark:text-gray-400",children:"Total Interactions:"}),a.jsx("span",{className:"ml-2 font-medium",children:f.metrics.total_interactions})]}),a.jsxs("div",{children:[a.jsx("span",{className:"text-gray-600 dark:text-gray-400",children:"Avg Response Time:"}),a.jsx("span",{className:"ml-2 font-medium",children:f.metrics.response_time_avg})]}),a.jsxs("div",{children:[a.jsx("span",{className:"text-gray-600 dark:text-gray-400",children:"Feature Adoption:"}),a.jsxs("span",{className:"ml-2 font-medium",children:[f.metrics.feature_adoption,"%"]})]}),a.jsxs("div",{children:[a.jsx("span",{className:"text-gray-600 dark:text-gray-400",children:"Support Tickets:"}),a.jsx("span",{className:"ml-2 font-medium",children:f.metrics.support_tickets})]})]})]}),a.jsxs("div",{children:[a.jsx("h3",{className:"font-semibold text-gray-900 dark:text-white mb-2",children:"Engagement"}),a.jsxs("div",{className:"text-sm",children:[a.jsx("span",{className:"text-gray-600 dark:text-gray-400",children:"Level:"}),a.jsx("span",{className:`ml-2 px-2 py-1 rounded text-xs font-medium ${f.engagement_level==="high"?"bg-green-100 text-green-800":f.engagement_level==="medium"?"bg-yellow-100 text-yellow-800":"bg-red-100 text-red-800"}`,children:f.engagement_level})]}),a.jsxs("div",{className:"text-sm mt-1",children:[a.jsx("span",{className:"text-gray-600 dark:text-gray-400",children:"Last Activity:"}),a.jsx("span",{className:"ml-2 font-medium",children:new Date(f.last_activity).toLocaleDateString()})]})]})]})]})}),a.jsx($t,{open:g,onClose:()=>p(!1),title:"Onboarding Started Successfully!",animationType:"scale",size:"lg",children:y&&a.jsxs("div",{className:"space-y-6",children:[a.jsxs("div",{className:"text-center",children:[a.jsx("div",{className:"mx-auto flex items-center justify-center h-16 w-16 rounded-full bg-green-100 dark:bg-green-900 mb-4",children:a.jsx(Tt,{className:"h-8 w-8 text-green-600 dark:text-green-400"})}),a.jsx("h3",{className:"text-lg font-medium text-gray-900 dark:text-white mb-2",children:"Onboarding Process Initiated"}),a.jsxs("p",{className:"text-sm text-gray-600 dark:text-gray-400",children:[y.tasks?.length||0," onboarding tasks have been created and assigned."]})]}),y.tasks&&y.tasks.length>0&&a.jsxs("div",{className:"border-t border-gray-200 dark:border-gray-700 pt-6",children:[a.jsxs("h4",{className:"text-md font-medium text-gray-900 dark:text-white mb-4 flex items-center",children:[a.jsx(oR,{className:"w-5 h-5 mr-2"}),"Onboarding Tasks Created"]}),a.jsx("div",{className:"space-y-3",children:y.tasks.map((O,D)=>a.jsxs("div",{className:"flex items-start space-x-3 p-3 bg-gray-50 dark:bg-gray-800 rounded-lg",children:[a.jsx("div",{className:"flex-shrink-0",children:a.jsx("div",{className:"flex items-center justify-center h-6 w-6 rounded-full bg-blue-100 dark:bg-blue-900",children:a.jsx("span",{className:"text-xs font-medium text-blue-600 dark:text-blue-400",children:D+1})})}),a.jsxs("div",{className:"flex-1 min-w-0",children:[a.jsx("p",{className:"text-sm font-medium text-gray-900 dark:text-white",children:O.title}),a.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-400",children:O.description}),a.jsxs("div",{className:"mt-2 flex items-center text-xs text-gray-500 dark:text-gray-400",children:[a.jsx(qN,{className:"w-3 h-3 mr-1"}),"Due: ",new Date(O.due_date).toLocaleDateString()]})]}),a.jsx("div",{className:"flex-shrink-0",children:a.jsx("span",{className:`inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium ${O.status==="pending"?"bg-yellow-100 text-yellow-800 dark:bg-yellow-900 dark:text-yellow-200":O.status==="in_progress"?"bg-blue-100 text-blue-800 dark:bg-blue-900 dark:text-blue-200":"bg-green-100 text-green-800 dark:bg-green-900 dark:text-green-200"}`,children:O.status})})]},D))})]}),a.jsx("div",{className:"border-t border-gray-200 dark:border-gray-700 pt-6",children:a.jsx("div",{className:"bg-blue-50 dark:bg-blue-900/20 p-4 rounded-lg",children:a.jsxs("div",{className:"flex",children:[a.jsx("div",{className:"flex-shrink-0",children:a.jsx(Yx,{className:"h-5 w-5 text-blue-400"})}),a.jsxs("div",{className:"ml-3",children:[a.jsx("h3",{className:"text-sm font-medium text-blue-800 dark:text-blue-200",children:"What happens next?"}),a.jsx("div",{className:"mt-2 text-sm text-blue-700 dark:text-blue-300",children:a.jsxs("ul",{className:"list-disc list-inside space-y-1",children:[a.jsx("li",{children:"Tasks have been assigned to the success manager"}),a.jsx("li",{children:"Customer will receive welcome email with next steps"}),a.jsx("li",{children:"Onboarding progress will be tracked automatically"}),a.jsx("li",{children:"You can monitor progress in the Customer Accounts section"})]})})]})]})})}),a.jsx("div",{className:"flex justify-end pt-4",children:a.jsx("button",{onClick:()=>p(!1),className:"px-6 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors duration-200",children:"Got it!"})})]})})]})}const NM={async getSettings(){return Ee("/api/company-settings")},async updateSettings(e){return Ee("/api/company-settings",{method:"PUT",body:JSON.stringify(e),headers:{"Content-Type":"application/json"}})},async createSettings(e){return Ee("/api/company-settings",{method:"POST",body:JSON.stringify(e),headers:{"Content-Type":"application/json"}})}},TAe=()=>{const[e,t]=v.useState("dashboard"),[r,n]=v.useState([]),[s,i]=v.useState([]),[l,c]=v.useState([]),[d,f]=v.useState(null),[h,g]=v.useState(!1),[p,y]=v.useState(null),[b,w]=v.useState([]),[j,S]=v.useState([]),[k,E]=v.useState([]),[C,T]=v.useState([]),[A,O]=v.useState(!1),[D,R]=v.useState({invoice_id:"",amount:"",recognition_date:"",recognition_type:"immediate",recognition_period:"",revenue_type:"product",revenue_category:"",notes:""}),[B,V]=v.useState([]),[W,se]=v.useState([]),[oe,Y]=v.useState(""),[Q,te]=v.useState(!1),[ue,ve]=v.useState(null),[U,ie]=v.useState([]),[F,G]=v.useState(!1),[z,q]=v.useState({report_type:"profit_loss",report_name:"",start_date:"",end_date:"",include_charts:!0}),[de,De]=v.useState(null),[ne,le]=v.useState(null),[he,Le]=v.useState(null),[pe,xe]=v.useState(null),[$e,pt]=v.useState(!1),[Xe,Ue]=v.useState({start_date:new Date(new Date().getFullYear(),new Date().getMonth(),1).toISOString().split("T")[0],end_date:new Date().toISOString().split("T")[0]}),[At,Xt]=v.useState([]),[bt,Wt]=v.useState([]),[Rr,Gr]=v.useState([]),[yr,Dn]=v.useState([]),[Pn,vt]=v.useState(!1),[fr,dt]=v.useState(!1),[Yn,wa]=v.useState(!1),[gt,Tr]=v.useState(null),[xt,_t]=v.useState(!1),[ge,st]=v.useState([]),[Pt,re]=v.useState(!1),[Ce,Te]=v.useState(!1),[ot,ft]=v.useState(""),[Kr,Ct]=v.useState([]),[la,Xn]=v.useState([]),[Ll,vi]=v.useState(""),[ja,hr]=v.useState(!1),[Gt,Na]=v.useState(null),[yt,vr]=v.useState({deal_id:"",customer_account_id:"",due_date:"",subtotal:"",tax_rate:"",discount_amount:"",discount_type:"percentage",advance_payment:"",recurring_invoice:!1,recurring_frequency:"monthly",recurring_end_date:"",description:"",notes:"",terms_conditions:""}),[L,Z]=v.useState(""),[K,X]=v.useState(""),[J,ee]=v.useState(!1),[be,M]=v.useState(!1),[ce,je]=v.useState(null),[Se,Fe]=v.useState(null),[Be,Ye]=v.useState({invoice_id:"",amount:"",payment_date:"",payment_method:"credit_card",payment_reference:"",notes:""}),[Me,qe]=v.useState({company_name:"",company_mobile:"",city:"",area:"",complete_address:"",trn:"",currency:"AED - UAE Dirham (د.إ)",timezone:"Dubai (UAE)"}),[tt,Ot]=v.useState({trial_date_enabled:!0,trial_date_days:"3",delivery_date_enabled:!0,delivery_date_days:"3",advance_payment_enabled:!0}),[Qt,ir]=v.useState(null),[za,Qs]=v.useState(!1);v.useEffect(()=>{Sa(),Tm(),iv(),ec(),xf(),bf()},[]),v.useEffect(()=>{const I=He=>{He.target.closest(".dropdown-container")||(ee(!1),M(!1),hr(!1),te(!1))};return document.addEventListener("mousedown",I),()=>{document.removeEventListener("mousedown",I)}},[]),v.useEffect(()=>{e==="invoices"?tc():e==="payments"?Vi():e==="revenue"?Om():e==="profit-loss"?_a(Xe.start_date,Xe.end_date):e==="cash-flow"?bi(Xe.start_date,Xe.end_date):e==="aging"&&ka("receivables")},[e]),v.useEffect(()=>{(r.length>0||s.length>0||l.length>0)&&oa()},[r,s,l]),v.useEffect(()=>{e==="settings"&&pf()},[e]);const Sa=async()=>{try{g(!0);const I=await Ee("/api/financial/dashboard");f(I),oa()}catch(I){console.error("Error fetching dashboard data:",I),y("Failed to fetch dashboard data")}finally{g(!1)}},_a=async(I,He)=>{try{pt(!0);const Ke=new URLSearchParams;I&&Ke.append("start_date",I),He&&Ke.append("end_date",He);const Ft=await Ee(`/api/financial/reports/profit-loss?${Ke.toString()}`);De(Ft)}catch(Ke){console.error("Error fetching P&L report:",Ke),y("Failed to fetch Profit & Loss report")}finally{pt(!1)}},bi=async(I,He)=>{try{pt(!0);const Ke=new URLSearchParams;I&&Ke.append("start_date",I),He&&Ke.append("end_date",He);const Ft=await Ee(`/api/financial/reports/cash-flow?${Ke.toString()}`);le(Ft)}catch(Ke){console.error("Error fetching cash flow report:",Ke),y("Failed to fetch Cash Flow report")}finally{pt(!1)}},ka=async(I="receivables")=>{try{pt(!0);const He=await Ee(`/api/financial/reports/aging?report_type=${I}`);Le(He)}catch(He){console.error("Error fetching aging report:",He),y("Failed to fetch Aging report")}finally{pt(!1)}},pf=async()=>{try{Qs(!0);const I=await NM.getSettings();ir(I),qe({company_name:I.company_name||"",company_mobile:I.company_mobile||"",city:I.city||"",area:I.area||"",complete_address:I.complete_address||"",trn:I.trn||"",currency:I.currency||"AED - UAE Dirham (د.إ)",timezone:I.timezone||"Dubai (UAE)"}),Ot({trial_date_enabled:I.trial_date_enabled,trial_date_days:I.trial_date_days.toString(),delivery_date_enabled:I.delivery_date_enabled,delivery_date_days:I.delivery_date_days.toString(),advance_payment_enabled:I.advance_payment_enabled})}catch(I){console.error("Error fetching company settings:",I),y("Failed to fetch company settings")}finally{Qs(!1)}},oa=()=>{const He=["Jan","Feb","Mar","Apr","May","Jun"].map((rt,Mn)=>({month:rt,revenue:Math.floor(Math.random()*5e4)+2e4,invoices:Math.floor(Math.random()*20)+10}));S(He);const Ke=[{method:"Credit Card",count:s.filter(rt=>rt.payment_method==="credit_card").length,amount:45e3},{method:"Bank Transfer",count:s.filter(rt=>rt.payment_method==="bank_transfer").length,amount:32e3},{method:"Cash",count:s.filter(rt=>rt.payment_method==="cash").length,amount:15e3},{method:"Check",count:s.filter(rt=>rt.payment_method==="check").length,amount:8e3}];E(Ke);const Ft=[{status:"Paid",count:r.filter(rt=>rt.status==="paid").length,amount:r.filter(rt=>rt.status==="paid").reduce((rt,Mn)=>rt+Mn.total_amount,0)},{status:"Sent",count:r.filter(rt=>rt.status==="sent").length,amount:r.filter(rt=>rt.status==="sent").reduce((rt,Mn)=>rt+Mn.total_amount,0)},{status:"Overdue",count:r.filter(rt=>rt.status==="overdue").length,amount:r.filter(rt=>rt.status==="overdue").reduce((rt,Mn)=>rt+Mn.total_amount,0)},{status:"Draft",count:r.filter(rt=>rt.status==="draft").length,amount:r.filter(rt=>rt.status==="draft").reduce((rt,Mn)=>rt+Mn.total_amount,0)}];T(Ft);const Mt=[];r.slice(0,3).forEach(rt=>{Mt.push({id:`invoice-${rt.id}`,type:"invoice",title:`Invoice ${rt.invoice_number} created`,description:`Amount: ${at(rt.total_amount)}`,timestamp:new Date(rt.created_at),icon:ra,color:"blue"})}),s.slice(0,3).forEach(rt=>{Mt.push({id:`payment-${rt.id}`,type:"payment",title:`Payment ${rt.payment_number} received`,description:`Amount: ${at(rt.amount)}`,timestamp:new Date(rt.payment_date),icon:sd,color:"green"})}),l.slice(0,2).forEach(rt=>{Mt.push({id:`revenue-${rt.id}`,type:"revenue",title:"Revenue recognized",description:`Amount: ${at(rt.amount)}`,timestamp:new Date(rt.recognition_date),icon:Cr,color:"purple"})}),Mt.sort((rt,Mn)=>Mn.timestamp.getTime()-rt.timestamp.getTime()),w(Mt.slice(0,8))},Tm=async()=>{try{const I=await Ee("/api/kanban/board");if(I&&I.stages&&I.deals){const He=I.stages.find(Ke=>Ke.name.toLowerCase()==="won"||Ke.name.toLowerCase()==="closed won");if(He){const Ft=I.deals.filter(Mt=>Mt.stage_id===He.id).map(Mt=>({id:Mt.id,title:Mt.title,value:Mt.value||0,status:Mt.status||"won",contact_id:Mt.contact_id,contact_name:Mt.contact_name,customer_account_id:Mt.customer_account_id,customer_account_name:Mt.customer_account_name}));Xt(Ft),Gr(Ft)}}}catch(I){console.error("Error fetching won deals:",I)}},iv=async()=>{try{const I=await Ee("/api/customer-accounts");Array.isArray(I)&&(Wt(I),Dn(I))}catch(I){console.error("Error fetching customer accounts:",I)}},ec=async()=>{try{const I=await Ee("/api/invoices");if(Array.isArray(I)){const He=I.filter(Ke=>Ke.balance_due>0);Ct(He),Xn(He)}}catch(I){console.error("Error fetching available invoices:",I)}},xf=async()=>{try{const[I,He]=await Promise.all([Ee("/api/invoices"),Ee("/api/revenue")]);if(Array.isArray(I)&&Array.isArray(He)){const Ke=new Set(He.map(Mt=>Mt.invoice_id)),Ft=I.filter(Mt=>Mt.status==="paid"&&!Ke.has(Mt.id));V(Ft),se(Ft)}}catch(I){console.error("Error fetching available invoices for revenue:",I)}},Nu=I=>{Z(I),re(!1);const He=At.filter(Ke=>Ke.title.toLowerCase().includes(I.toLowerCase())||Ke.id.toString().includes(I)||Ke.contact_name&&Ke.contact_name.toLowerCase().includes(I.toLowerCase()));Gr(He)},lv=I=>{X(I);const He=bt.filter(Ke=>Ke.account_name.toLowerCase().includes(I.toLowerCase())||Ke.id.toString().includes(I)||Ke.contact_name&&Ke.contact_name.toLowerCase().includes(I.toLowerCase()));Dn(He)},Ea=I=>{vi(I);const He=Kr.filter(Ke=>Ke.invoice_number.toLowerCase().includes(I.toLowerCase())||Ke.id.toString().includes(I)||Ke.deal_id.toString().includes(I));Xn(He)},yf=I=>{Y(I);const He=B.filter(Ke=>Ke.invoice_number.toLowerCase().includes(I.toLowerCase())||Ke.id.toString().includes(I)||Ke.deal_id.toString().includes(I));se(He)},Am=I=>{Na(I),vi(`${I.invoice_number} - Balance: ${at(I.balance_due)}`),hr(!1),Ye(He=>({...He,invoice_id:I.id.toString(),amount:I.balance_due.toString()}))},vf=I=>{ve(I),Y(`${I.invoice_number} - Amount: ${at(I.total_amount)}`),te(!1),R(He=>({...He,invoice_id:I.id.toString(),amount:I.total_amount.toString()}))},Bl=I=>{if(je(I),Z(`${I.title} ($${at(I.value)})`),ee(!1),I.customer_account_id){const He=bt.find(Ke=>Ke.id===I.customer_account_id);He?(Fe(He),X(He.account_name),vr(Ke=>({...Ke,deal_id:I.id.toString(),customer_account_id:He.id.toString()}))):vr(Ke=>({...Ke,deal_id:I.id.toString()}))}else vr(He=>({...He,deal_id:I.id.toString()}));I.value>0&&vr(He=>({...He,subtotal:I.value.toString()}))},Cm=I=>{Fe(I),X(I.account_name),M(!1);const He=At.filter(Ke=>Ke.id===I.deal_id);if(He.length===0)vr(Ke=>({...Ke,customer_account_id:I.id.toString(),deal_id:"",subtotal:""})),je(null),Z(""),re(!0);else if(He.length===1){const Ke=He[0];je(Ke),Z(`${Ke.title} ($${at(Ke.value)})`),vr(Ft=>({...Ft,customer_account_id:I.id.toString(),deal_id:Ke.id.toString(),subtotal:Ke.value.toString()}))}else vr(Ke=>({...Ke,customer_account_id:I.id.toString(),deal_id:"",subtotal:""})),je(null),Z(""),_t(!0),st(He)},tc=async()=>{try{g(!0);const I=await Ee("/api/invoices");n(Array.isArray(I)?I:[])}catch(I){console.error("Error fetching invoices:",I),y("Failed to fetch invoices")}finally{g(!1)}},Vi=async()=>{try{g(!0);const I=await Ee("/api/payments");i(Array.isArray(I)?I:[])}catch(I){console.error("Error fetching payments:",I),y("Failed to fetch payments")}finally{g(!1)}},Om=async()=>{try{g(!0);const I=await Ee("/api/revenue");c(Array.isArray(I)?I:[])}catch(I){console.error("Error fetching revenue:",I),y("Failed to fetch revenue")}finally{g(!1)}},bf=async()=>{try{const I=await Ee("/api/financial/reports");ie(Array.isArray(I)?I:[])}catch(I){console.error("Error fetching reports:",I)}},Dm=async I=>{I.preventDefault();try{g(!0);const He=parseInt(D.invoice_id);if(l.find(rt=>rt.invoice_id===He)){y("Revenue for this invoice has already been recognized"),ft("Revenue for this invoice has already been recognized. Please select a different invoice."),Te(!0),g(!1);return}const Ft={...D,invoice_id:He,amount:parseFloat(D.amount),recognition_date:D.recognition_date+"T00:00:00Z"},Mt=await Ee("/api/revenue/recognize",{method:"POST",body:JSON.stringify(Ft)});y(null),ft("Revenue recognized successfully!"),Te(!0),O(!1),R({invoice_id:"",amount:"",recognition_date:"",recognition_type:"immediate",recognition_period:"",revenue_type:"product",revenue_category:"",notes:""}),Y(""),ve(null),te(!1),t("revenue"),Om(),xf()}catch(He){console.error("Error creating revenue:",He),y("Failed to recognize revenue"),ft("Failed to recognize revenue. Please try again."),Te(!0)}finally{g(!1)}},wf=async I=>{I.preventDefault();try{g(!0);const He={...z,start_date:z.start_date+"T00:00:00Z",end_date:z.end_date+"T23:59:59Z"},Ke=await Ee("/api/financial/reports/generate",{method:"POST",body:JSON.stringify(He)});y(null),ft("Financial report generated successfully!"),Te(!0),G(!1),q({report_type:"profit_loss",report_name:"",start_date:"",end_date:"",include_charts:!0}),t("reports"),bf()}catch(He){console.error("Error generating report:",He),y("Failed to generate report"),ft("Failed to generate report. Please try again."),Te(!0)}finally{g(!1)}},ov=I=>{je(I),Z(`${I.title} ($${at(I.value)})`),vr(He=>({...He,deal_id:I.id.toString(),subtotal:I.value.toString()})),_t(!1)},qi=()=>{const I=parseFloat(yt.subtotal)||0,He=parseFloat(yt.tax_rate)||0,Ke=parseFloat(yt.advance_payment)||0;let Ft=0;if(yt.discount_amount){const ac=parseFloat(yt.discount_amount)||0;yt.discount_type==="percentage"?Ft=I*ac/100:Ft=ac}const Mt=I-Ft,rt=Mt*He/100,Mn=Mt+rt-Ke;return{subtotal:I,discountAmount:Ft,afterDiscount:Mt,taxAmount:rt,advancePayment:Ke,grandTotal:Math.max(0,Mn)}},rc=()=>{vr({deal_id:"",customer_account_id:"",due_date:"",subtotal:"",tax_rate:"",discount_amount:"",discount_type:"percentage",advance_payment:"",recurring_invoice:!1,recurring_frequency:"monthly",recurring_end_date:"",description:"",notes:"",terms_conditions:""}),Z(""),X(""),je(null),Fe(null),ee(!1),M(!1),_t(!1),st([]),re(!1),vi(""),Na(null),hr(!1),Y(""),ve(null),te(!1)},jf=async I=>{I.preventDefault();try{g(!0);const He={...yt,deal_id:yt.deal_id?parseInt(yt.deal_id):null,customer_account_id:yt.customer_account_id?parseInt(yt.customer_account_id):null,subtotal:parseFloat(yt.subtotal)||0,tax_rate:parseFloat(yt.tax_rate)||0},Ke=await Ee("/api/invoices",{method:"POST",body:JSON.stringify(He)});y(null),ft("Invoice created successfully!"),Te(!0),vt(!1),rc(),t("invoices"),tc()}catch(He){console.error("Error creating invoice:",He),y("Failed to create invoice"),ft("Failed to create invoice. Please try again."),Te(!0)}finally{g(!1)}},Nf=async I=>{I.preventDefault();try{g(!0);const He={...Be,invoice_id:parseInt(Be.invoice_id),amount:parseFloat(Be.amount),payment_date:Be.payment_date+"T00:00:00Z"},Ke=await Ee("/api/payments",{method:"POST",body:JSON.stringify(He)});y(null),ft("Payment recorded successfully!"),Te(!0),dt(!1),Ye({invoice_id:"",amount:"",payment_date:"",payment_method:"credit_card",payment_reference:"",notes:""}),vi(""),Na(null),hr(!1),t("payments"),Vi(),ec(),tc()}catch(He){console.error("Error creating payment:",He),y("Failed to create payment"),ft("Failed to record payment. Please try again."),Te(!0)}finally{g(!1)}},Wi=async(I,He)=>{try{await Ee(`/api/invoices/${I}/status`,{method:"PUT",body:JSON.stringify({status:He})}),tc()}catch(Ke){console.error("Error updating invoice status:",Ke),y("Failed to update invoice status")}},ys=I=>{switch(I){case"paid":return"bg-green-100 text-green-800";case"sent":return"bg-blue-100 text-blue-800";case"overdue":return"bg-red-100 text-red-800";case"draft":return"bg-gray-100 text-gray-800";case"cancelled":return"bg-gray-100 text-gray-800";default:return"bg-gray-100 text-gray-800"}},$l=I=>{switch(I){case"paid":return a.jsx(Tt,{className:"w-4 h-4"});case"sent":return a.jsx(eu,{className:"w-4 h-4"});case"overdue":return a.jsx(pa,{className:"w-4 h-4"});case"draft":return a.jsx(Jh,{className:"w-4 h-4"});case"cancelled":return a.jsx(mi,{className:"w-4 h-4"});default:return a.jsx(La,{className:"w-4 h-4"})}},at=I=>new Intl.NumberFormat("en-US",{style:"currency",currency:"USD"}).format(I),Zs=I=>new Date(I).toLocaleDateString(),nc=[{id:"dashboard",name:"Dashboard",icon:a.jsx(ia,{className:"w-5 h-5"})},{id:"invoices",name:"Invoices",icon:a.jsx(ra,{className:"w-5 h-5"})},{id:"payments",name:"Payments",icon:a.jsx(sd,{className:"w-5 h-5"})},{id:"revenue",name:"Revenue",icon:a.jsx(Cr,{className:"w-5 h-5"})},{id:"profit-loss",name:"P&L Statement",icon:a.jsx(eR,{className:"w-5 h-5"})},{id:"cash-flow",name:"Cash Flow",icon:a.jsx(Cr,{className:"w-5 h-5"})},{id:"aging",name:"Aging Reports",icon:a.jsx(La,{className:"w-5 h-5"})},{id:"reports",name:"Legacy Reports",icon:a.jsx(G2,{className:"w-5 h-5"})},{id:"settings",name:"Settings",icon:a.jsx(Hs,{className:"w-5 h-5"})}];return a.jsxs("div",{className:"p-6 max-w-7xl mx-auto",children:[a.jsxs("div",{className:"mb-8",children:[a.jsx("h1",{className:"text-3xl font-bold text-gray-900 dark:text-white mb-2",children:"Financial Management"}),a.jsx("p",{className:"text-gray-600 dark:text-gray-400",children:"Manage invoices, payments, revenue recognition, and financial reporting"})]}),a.jsx("div",{className:"border-b border-gray-200 dark:border-gray-700 mb-6",children:a.jsx("nav",{className:"-mb-px flex space-x-8",children:nc.map(I=>a.jsxs("button",{onClick:()=>t(I.id),className:`flex items-center gap-2 py-2 px-1 border-b-2 font-medium text-sm transition-colors duration-200 ${e===I.id?"border-blue-500 text-blue-600 dark:text-blue-400":"border-transparent text-gray-500 hover:text-gray-700 hover:border-gray-300 dark:text-gray-400 dark:hover:text-gray-300"}`,children:[I.icon,I.name]},I.id))})}),p&&a.jsxs("div",{className:"mb-6 bg-red-50 border border-red-200 text-red-700 px-4 py-3 rounded-lg",children:[p,a.jsx("button",{onClick:()=>y(null),className:"ml-2 text-red-500 hover:text-red-700",children:"×"})]}),e==="dashboard"&&a.jsx("div",{className:"space-y-6",children:h?a.jsx("div",{className:"flex items-center justify-center py-12",children:a.jsx(sn,{className:"w-8 h-8 animate-spin text-blue-500"})}):d?a.jsxs(a.Fragment,{children:[a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6",children:[a.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-xl shadow-sm border p-6",children:[a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{children:[a.jsx("p",{className:"text-sm font-medium text-gray-600 dark:text-gray-400",children:"Total Revenue"}),a.jsx("p",{className:"text-2xl font-bold text-gray-900 dark:text-white",children:at(d.revenue_metrics?.total_revenue||0)})]}),a.jsx("div",{className:"p-3 bg-green-100 dark:bg-green-900 rounded-lg",children:a.jsx(Jc,{className:"w-6 h-6 text-green-600 dark:text-green-400"})})]}),a.jsxs("div",{className:"mt-4 flex items-center text-sm",children:[a.jsx(Cr,{className:"w-4 h-4 text-green-500 mr-1"}),a.jsxs("span",{className:"text-green-600 dark:text-green-400",children:["+",d.revenue_metrics?.revenue_growth||0,"% from last month"]})]})]}),a.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-xl shadow-sm border p-6",children:[a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{children:[a.jsx("p",{className:"text-sm font-medium text-gray-600 dark:text-gray-400",children:"Outstanding Amount"}),a.jsx("p",{className:"text-2xl font-bold text-gray-900 dark:text-white",children:at(d.outstanding_amounts?.total_outstanding||0)})]}),a.jsx("div",{className:"p-3 bg-yellow-100 dark:bg-yellow-900 rounded-lg",children:a.jsx(pa,{className:"w-6 h-6 text-yellow-600 dark:text-yellow-400"})})]}),a.jsxs("div",{className:"mt-4 text-sm text-gray-600 dark:text-gray-400",children:[d.invoice_metrics?.overdue_invoices||0," overdue invoices"]})]}),a.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-xl shadow-sm border p-6",children:[a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{children:[a.jsx("p",{className:"text-sm font-medium text-gray-600 dark:text-gray-400",children:"Collection Rate"}),a.jsxs("p",{className:"text-2xl font-bold text-gray-900 dark:text-white",children:[(d.invoice_metrics?.collection_rate||0).toFixed(1),"%"]})]}),a.jsx("div",{className:"p-3 bg-blue-100 dark:bg-blue-900 rounded-lg",children:a.jsx(Tt,{className:"w-6 h-6 text-blue-600 dark:text-blue-400"})})]}),a.jsxs("div",{className:"mt-4 text-sm text-gray-600 dark:text-gray-400",children:[d.invoice_metrics?.paid_invoices||0," of ",d.invoice_metrics?.total_invoices||0," invoices paid"]})]}),a.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-xl shadow-sm border p-6",children:[a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{children:[a.jsx("p",{className:"text-sm font-medium text-gray-600 dark:text-gray-400",children:"Payment Success Rate"}),a.jsxs("p",{className:"text-2xl font-bold text-gray-900 dark:text-white",children:[(d.payment_metrics?.payment_success_rate||0).toFixed(1),"%"]})]}),a.jsx("div",{className:"p-3 bg-purple-100 dark:bg-purple-900 rounded-lg",children:a.jsx(sd,{className:"w-6 h-6 text-purple-600 dark:text-purple-400"})})]}),a.jsxs("div",{className:"mt-4 text-sm text-gray-600 dark:text-gray-400",children:["Avg. ",d.payment_metrics?.average_payment_time||0," days to payment"]})]})]}),a.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[a.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-xl shadow-sm border p-6",children:[a.jsxs("div",{className:"flex items-center justify-between mb-4",children:[a.jsx("h3",{className:"text-lg font-semibold text-gray-900 dark:text-white",children:"Revenue Trend"}),a.jsxs("div",{className:"flex items-center text-sm text-green-600 dark:text-green-400",children:[a.jsx(Cr,{className:"w-4 h-4 mr-1"}),"+12.5% vs last month"]})]}),a.jsx("div",{className:"h-64",children:a.jsx("div",{className:"flex items-end justify-between h-full space-x-2",children:j.map((I,He)=>a.jsxs("div",{className:"flex flex-col items-center flex-1",children:[a.jsx("div",{className:"bg-blue-500 rounded-t w-full mb-2 transition-all duration-300 hover:bg-blue-600",style:{height:`${I.revenue/7e4*200}px`},title:`${I.month}: ${at(I.revenue)}`}),a.jsx("span",{className:"text-xs text-gray-600 dark:text-gray-400",children:I.month}),a.jsxs("span",{className:"text-xs font-medium text-gray-900 dark:text-white",children:[at(I.revenue/1e3),"k"]})]},He))})})]}),a.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-xl shadow-sm border p-6",children:[a.jsx("h3",{className:"text-lg font-semibold text-gray-900 dark:text-white mb-4",children:"Payment Methods"}),a.jsx("div",{className:"h-64",children:a.jsx("div",{className:"space-y-4",children:k.map((I,He)=>{const Ke=["bg-blue-500","bg-green-500","bg-yellow-500","bg-purple-500"],Ft=k.reduce((rt,Mn)=>rt+Mn.amount,0),Mt=I.amount/Ft*100;return a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{className:"flex items-center",children:[a.jsx("div",{className:`w-4 h-4 rounded-full ${Ke[He]} mr-3`}),a.jsx("span",{className:"text-sm font-medium text-gray-900 dark:text-white",children:I.method})]}),a.jsxs("div",{className:"flex items-center space-x-3",children:[a.jsx("div",{className:"w-24 bg-gray-200 dark:bg-gray-700 rounded-full h-2",children:a.jsx("div",{className:`h-2 rounded-full ${Ke[He]}`,style:{width:`${Mt}%`}})}),a.jsx("span",{className:"text-sm text-gray-600 dark:text-gray-400 w-16 text-right",children:at(I.amount)})]})]},He)})})})]})]}),a.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6",children:[a.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-xl shadow-sm border p-6",children:[a.jsx("h3",{className:"text-lg font-semibold text-gray-900 dark:text-white mb-4",children:"Invoice Status"}),a.jsx("div",{className:"space-y-3",children:C.map((I,He)=>{const Ke=["text-green-600","text-blue-600","text-red-600","text-gray-600"],Ft=["bg-green-100","bg-blue-100","bg-red-100","bg-gray-100"],Mt=["dark:text-green-400","dark:text-blue-400","dark:text-red-400","dark:text-gray-400"],rt=["dark:bg-green-900","dark:bg-blue-900","dark:bg-red-900","dark:bg-gray-900"];return a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{className:"flex items-center",children:[a.jsx("div",{className:`w-3 h-3 rounded-full ${Ft[He]} ${rt[He]} mr-3`}),a.jsx("span",{className:`text-sm font-medium ${Ke[He]} ${Mt[He]}`,children:I.status})]}),a.jsxs("div",{className:"text-right",children:[a.jsx("div",{className:"text-sm font-semibold text-gray-900 dark:text-white",children:I.count}),a.jsx("div",{className:"text-xs text-gray-600 dark:text-gray-400",children:at(I.amount)})]})]},He)})})]}),a.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-xl shadow-sm border p-6",children:[a.jsxs("div",{className:"flex items-center justify-between mb-4",children:[a.jsx("h3",{className:"text-lg font-semibold text-gray-900 dark:text-white",children:"Recent Activities"}),a.jsx(Co,{className:"w-5 h-5 text-gray-400"})]}),a.jsx("div",{className:"space-y-3 max-h-64 overflow-y-auto",children:b.length>0?b.map(I=>{const He=I.icon,Ke={blue:"text-blue-600 dark:text-blue-400",green:"text-green-600 dark:text-green-400",purple:"text-purple-600 dark:text-purple-400"};return a.jsxs("div",{className:"flex items-start space-x-3",children:[a.jsx("div",{className:"p-2 rounded-lg bg-gray-100 dark:bg-gray-700",children:a.jsx(He,{className:`w-4 h-4 ${Ke[I.color]}`})}),a.jsxs("div",{className:"flex-1 min-w-0",children:[a.jsx("p",{className:"text-sm font-medium text-gray-900 dark:text-white",children:I.title}),a.jsx("p",{className:"text-xs text-gray-600 dark:text-gray-400",children:I.description}),a.jsx("p",{className:"text-xs text-gray-500 dark:text-gray-500",children:I.timestamp.toLocaleDateString()})]})]},I.id)}):a.jsxs("div",{className:"text-center py-4",children:[a.jsx(Co,{className:"w-8 h-8 text-gray-400 mx-auto mb-2"}),a.jsx("p",{className:"text-sm text-gray-500 dark:text-gray-400",children:"No recent activities"})]})})]}),a.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-xl shadow-sm border p-6",children:[a.jsx("h3",{className:"text-lg font-semibold text-gray-900 dark:text-white mb-4",children:"Quick Actions"}),a.jsxs("div",{className:"space-y-3",children:[a.jsxs("button",{onClick:()=>vt(!0),className:"w-full flex items-center justify-between p-3 bg-blue-50 dark:bg-blue-900/20 border border-blue-200 dark:border-blue-800 rounded-lg hover:bg-blue-100 dark:hover:bg-blue-900/30 transition-colors",children:[a.jsxs("div",{className:"flex items-center",children:[a.jsx(ra,{className:"w-5 h-5 text-blue-600 dark:text-blue-400 mr-3"}),a.jsx("span",{className:"text-sm font-medium text-blue-900 dark:text-blue-100",children:"Create Invoice"})]}),a.jsx(M0,{className:"w-4 h-4 text-blue-600 dark:text-blue-400"})]}),a.jsxs("button",{onClick:()=>dt(!0),className:"w-full flex items-center justify-between p-3 bg-green-50 dark:bg-green-900/20 border border-green-200 dark:border-green-800 rounded-lg hover:bg-green-100 dark:hover:bg-green-900/30 transition-colors",children:[a.jsxs("div",{className:"flex items-center",children:[a.jsx(sd,{className:"w-5 h-5 text-green-600 dark:text-green-400 mr-3"}),a.jsx("span",{className:"text-sm font-medium text-green-900 dark:text-green-100",children:"Record Payment"})]}),a.jsx(M0,{className:"w-4 h-4 text-green-600 dark:text-green-400"})]}),a.jsxs("button",{onClick:()=>O(!0),className:"w-full flex items-center justify-between p-3 bg-purple-50 dark:bg-purple-900/20 border border-purple-200 dark:border-purple-800 rounded-lg hover:bg-purple-100 dark:hover:bg-purple-900/30 transition-colors",children:[a.jsxs("div",{className:"flex items-center",children:[a.jsx(Cr,{className:"w-5 h-5 text-purple-600 dark:text-purple-400 mr-3"}),a.jsx("span",{className:"text-sm font-medium text-purple-900 dark:text-purple-100",children:"Recognize Revenue"})]}),a.jsx(M0,{className:"w-4 h-4 text-purple-600 dark:text-purple-400"})]}),a.jsxs("button",{onClick:()=>G(!0),className:"w-full flex items-center justify-between p-3 bg-orange-50 dark:bg-orange-900/20 border border-orange-200 dark:border-orange-800 rounded-lg hover:bg-orange-100 dark:hover:bg-orange-900/30 transition-colors",children:[a.jsxs("div",{className:"flex items-center",children:[a.jsx(ia,{className:"w-5 h-5 text-orange-600 dark:text-orange-400 mr-3"}),a.jsx("span",{className:"text-sm font-medium text-orange-900 dark:text-orange-100",children:"Generate Report"})]}),a.jsx(M0,{className:"w-4 h-4 text-orange-600 dark:text-orange-400"})]})]})]})]})]}):a.jsx("div",{className:"text-center py-12",children:a.jsx("p",{className:"text-gray-500 dark:text-gray-400",children:"No dashboard data available"})})}),e==="invoices"&&a.jsxs("div",{className:"space-y-6",children:[a.jsxs("div",{className:"flex justify-between items-center",children:[a.jsx("h2",{className:"text-xl font-semibold text-gray-900 dark:text-white",children:"Invoices"}),a.jsxs("button",{onClick:()=>vt(!0),className:"flex items-center gap-2 bg-blue-600 text-white px-4 py-2 rounded-lg hover:bg-blue-700 transition-colors",children:[a.jsx(_r,{className:"w-4 h-4"}),"Create Invoice"]})]}),h?a.jsx("div",{className:"flex items-center justify-center py-12",children:a.jsx(sn,{className:"w-8 h-8 animate-spin text-blue-500"})}):a.jsx("div",{className:"bg-white dark:bg-gray-800 rounded-xl shadow-sm border overflow-hidden",children:a.jsx("div",{className:"overflow-x-auto",children:a.jsxs("table",{className:"min-w-full divide-y divide-gray-200 dark:divide-gray-700",children:[a.jsx("thead",{className:"bg-gray-50 dark:bg-gray-700",children:a.jsxs("tr",{children:[a.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-300 uppercase tracking-wider",children:"Invoice"}),a.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-300 uppercase tracking-wider",children:"Amount"}),a.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-300 uppercase tracking-wider",children:"Status"}),a.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-300 uppercase tracking-wider",children:"Due Date"}),a.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-300 uppercase tracking-wider",children:"Actions"})]})}),a.jsx("tbody",{className:"bg-white dark:bg-gray-800 divide-y divide-gray-200 dark:divide-gray-700",children:r.length===0?a.jsx("tr",{children:a.jsx("td",{colSpan:5,className:"px-6 py-12 text-center",children:a.jsxs("div",{className:"flex flex-col items-center space-y-3",children:[a.jsx(ra,{className:"w-12 h-12 text-gray-400"}),a.jsxs("div",{children:[a.jsx("h3",{className:"text-lg font-medium text-gray-900 dark:text-white",children:"No invoices found"}),a.jsx("p",{className:"text-gray-500 dark:text-gray-400",children:"Get started by creating your first invoice."})]})]})})}):r.map(I=>a.jsxs("tr",{className:"hover:bg-gray-50 dark:hover:bg-gray-700",children:[a.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:a.jsxs("div",{children:[a.jsx("div",{className:"text-sm font-medium text-gray-900 dark:text-white",children:I.invoice_number}),a.jsxs("div",{className:"text-sm text-gray-500 dark:text-gray-400",children:["Deal #",I.deal_id]})]})}),a.jsxs("td",{className:"px-6 py-4 whitespace-nowrap",children:[a.jsx("div",{className:"text-sm text-gray-900 dark:text-white",children:at(I.total_amount)}),I.balance_due>0&&a.jsxs("div",{className:"text-sm text-gray-500 dark:text-gray-400",children:["Balance: ",at(I.balance_due)]})]}),a.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:a.jsxs("span",{className:`inline-flex items-center gap-1 px-2.5 py-0.5 rounded-full text-xs font-medium ${ys(I.status)}`,children:[$l(I.status),I.status]})}),a.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-900 dark:text-white",children:Zs(I.due_date)}),a.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm font-medium",children:a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx("button",{onClick:()=>{Tr(I),wa(!0)},className:"text-blue-600 hover:text-blue-900 dark:text-blue-400 dark:hover:text-blue-300",children:a.jsx(gn,{className:"w-4 h-4"})}),I.status==="draft"&&a.jsx("button",{onClick:()=>Wi(I.id,"sent"),className:"text-green-600 hover:text-green-900 dark:text-green-400 dark:hover:text-green-300",children:a.jsx(eu,{className:"w-4 h-4"})}),I.status==="sent"&&a.jsx("button",{onClick:()=>Wi(I.id,"paid"),className:"text-green-600 hover:text-green-900 dark:text-green-400 dark:hover:text-green-300",children:a.jsx(Tt,{className:"w-4 h-4"})})]})})]},I.id))})]})})})]}),e==="payments"&&a.jsxs("div",{className:"space-y-6",children:[a.jsxs("div",{className:"flex justify-between items-center",children:[a.jsx("h2",{className:"text-xl font-semibold text-gray-900 dark:text-white",children:"Payments"}),a.jsxs("button",{onClick:()=>dt(!0),className:"flex items-center gap-2 bg-green-600 text-white px-4 py-2 rounded-lg hover:bg-green-700 transition-colors",children:[a.jsx(_r,{className:"w-4 h-4"}),"Record Payment"]})]}),h?a.jsx("div",{className:"flex items-center justify-center py-12",children:a.jsx(sn,{className:"w-8 h-8 animate-spin text-blue-500"})}):a.jsx("div",{className:"bg-white dark:bg-gray-800 rounded-xl shadow-sm border overflow-hidden",children:a.jsx("div",{className:"overflow-x-auto",children:a.jsxs("table",{className:"min-w-full divide-y divide-gray-200 dark:divide-gray-700",children:[a.jsx("thead",{className:"bg-gray-50 dark:bg-gray-700",children:a.jsxs("tr",{children:[a.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-300 uppercase tracking-wider",children:"Payment"}),a.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-300 uppercase tracking-wider",children:"Amount"}),a.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-300 uppercase tracking-wider",children:"Method"}),a.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-300 uppercase tracking-wider",children:"Date"}),a.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-300 uppercase tracking-wider",children:"Status"})]})}),a.jsx("tbody",{className:"bg-white dark:bg-gray-800 divide-y divide-gray-200 dark:divide-gray-700",children:s.length===0?a.jsx("tr",{children:a.jsx("td",{colSpan:5,className:"px-6 py-12 text-center",children:a.jsxs("div",{className:"flex flex-col items-center space-y-3",children:[a.jsx(sd,{className:"w-12 h-12 text-gray-400"}),a.jsxs("div",{children:[a.jsx("h3",{className:"text-lg font-medium text-gray-900 dark:text-white",children:"No payments found"}),a.jsx("p",{className:"text-gray-500 dark:text-gray-400",children:"Record payments for your invoices to get started."})]})]})})}):s.map(I=>a.jsxs("tr",{className:"hover:bg-gray-50 dark:hover:bg-gray-700",children:[a.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:a.jsxs("div",{children:[a.jsx("div",{className:"text-sm font-medium text-gray-900 dark:text-white",children:I.payment_number}),a.jsxs("div",{className:"text-sm text-gray-500 dark:text-gray-400",children:["Invoice #",I.invoice_id]})]})}),a.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-900 dark:text-white",children:at(I.amount)}),a.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-900 dark:text-white",children:I.payment_method.replace("_"," ")}),a.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-900 dark:text-white",children:Zs(I.payment_date)}),a.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:a.jsxs("span",{className:`inline-flex items-center gap-1 px-2.5 py-0.5 rounded-full text-xs font-medium ${ys(I.status)}`,children:[$l(I.status),I.status]})})]},I.id))})]})})})]}),e==="revenue"&&a.jsxs("div",{className:"space-y-6",children:[a.jsxs("div",{className:"flex justify-between items-center",children:[a.jsx("h2",{className:"text-xl font-semibold text-gray-900 dark:text-white",children:"Revenue Recognition"}),a.jsxs("button",{onClick:()=>O(!0),className:"flex items-center gap-2 bg-green-600 text-white px-4 py-2 rounded-lg hover:bg-green-700 transition-colors",children:[a.jsx(_r,{className:"w-4 h-4"}),"Recognize Revenue"]})]}),h?a.jsx("div",{className:"flex items-center justify-center py-12",children:a.jsx(sn,{className:"w-8 h-8 animate-spin text-blue-500"})}):a.jsx("div",{className:"bg-white dark:bg-gray-800 rounded-xl shadow-sm border overflow-hidden",children:a.jsx("div",{className:"overflow-x-auto",children:a.jsxs("table",{className:"min-w-full divide-y divide-gray-200 dark:divide-gray-700",children:[a.jsx("thead",{className:"bg-gray-50 dark:bg-gray-700",children:a.jsxs("tr",{children:[a.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-300 uppercase tracking-wider",children:"Revenue Entry"}),a.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-300 uppercase tracking-wider",children:"Amount"}),a.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-300 uppercase tracking-wider",children:"Type"}),a.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-300 uppercase tracking-wider",children:"Recognition Date"}),a.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-300 uppercase tracking-wider",children:"Status"})]})}),a.jsx("tbody",{className:"bg-white dark:bg-gray-800 divide-y divide-gray-200 dark:divide-gray-700",children:l.length===0?a.jsx("tr",{children:a.jsx("td",{colSpan:5,className:"px-6 py-12 text-center",children:a.jsxs("div",{className:"flex flex-col items-center space-y-3",children:[a.jsx(Cr,{className:"w-12 h-12 text-gray-400"}),a.jsxs("div",{children:[a.jsx("h3",{className:"text-lg font-medium text-gray-900 dark:text-white",children:"No revenue entries found"}),a.jsx("p",{className:"text-gray-500 dark:text-gray-400",children:"Recognize revenue from your paid invoices to get started."})]})]})})}):l.map(I=>a.jsxs("tr",{className:"hover:bg-gray-50 dark:hover:bg-gray-700",children:[a.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:a.jsxs("div",{children:[a.jsxs("div",{className:"text-sm font-medium text-gray-900 dark:text-white",children:["Invoice #",I.invoice_id]}),a.jsxs("div",{className:"text-sm text-gray-500 dark:text-gray-400",children:["Deal #",I.deal_id]})]})}),a.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-900 dark:text-white",children:at(I.amount)}),a.jsxs("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-900 dark:text-white",children:[I.revenue_type," - ",I.revenue_category||"N/A"]}),a.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-900 dark:text-white",children:Zs(I.recognition_date)}),a.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:a.jsxs("span",{className:`inline-flex items-center gap-1 px-2.5 py-0.5 rounded-full text-xs font-medium ${ys(I.status)}`,children:[$l(I.status),I.status]})})]},I.id))})]})})})]}),e==="reports"&&a.jsxs("div",{className:"space-y-6",children:[a.jsxs("div",{className:"flex justify-between items-center",children:[a.jsx("h2",{className:"text-xl font-semibold text-gray-900 dark:text-white",children:"Financial Reports"}),a.jsxs("button",{onClick:()=>G(!0),className:"flex items-center gap-2 bg-purple-600 text-white px-4 py-2 rounded-lg hover:bg-purple-700 transition-colors",children:[a.jsx(_r,{className:"w-4 h-4"}),"Generate Report"]})]}),h?a.jsx("div",{className:"flex items-center justify-center py-12",children:a.jsx(sn,{className:"w-8 h-8 animate-spin text-blue-500"})}):a.jsx("div",{className:"bg-white dark:bg-gray-800 rounded-xl shadow-sm border overflow-hidden",children:a.jsx("div",{className:"overflow-x-auto",children:a.jsxs("table",{className:"min-w-full divide-y divide-gray-200 dark:divide-gray-700",children:[a.jsx("thead",{className:"bg-gray-50 dark:bg-gray-700",children:a.jsxs("tr",{children:[a.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-300 uppercase tracking-wider",children:"Report Name"}),a.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-300 uppercase tracking-wider",children:"Type"}),a.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-300 uppercase tracking-wider",children:"Period"}),a.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-300 uppercase tracking-wider",children:"Generated"}),a.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-300 uppercase tracking-wider",children:"Status"}),a.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-300 uppercase tracking-wider",children:"Actions"})]})}),a.jsx("tbody",{className:"bg-white dark:bg-gray-800 divide-y divide-gray-200 dark:divide-gray-700",children:U.length===0?a.jsx("tr",{children:a.jsx("td",{colSpan:6,className:"px-6 py-12 text-center",children:a.jsxs("div",{className:"flex flex-col items-center space-y-3",children:[a.jsx(G2,{className:"w-12 h-12 text-gray-400"}),a.jsxs("div",{children:[a.jsx("h3",{className:"text-lg font-medium text-gray-900 dark:text-white",children:"No reports generated yet"}),a.jsx("p",{className:"text-gray-500 dark:text-gray-400",children:"Generate your first financial report to get started."})]})]})})}):U.map(I=>a.jsxs("tr",{className:"hover:bg-gray-50 dark:hover:bg-gray-700",children:[a.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:a.jsx("div",{className:"text-sm font-medium text-gray-900 dark:text-white",children:I.report_name})}),a.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:a.jsx("span",{className:"inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium bg-blue-100 text-blue-800 dark:bg-blue-900 dark:text-blue-200",children:I.report_type.replace("_"," ").toUpperCase()})}),a.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-900 dark:text-white",children:I.report_period}),a.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-900 dark:text-white",children:Zs(I.created_at)}),a.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:a.jsxs("span",{className:`inline-flex items-center gap-1 px-2.5 py-0.5 rounded-full text-xs font-medium ${ys(I.status)}`,children:[$l(I.status),I.status]})}),a.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm font-medium",children:a.jsxs("div",{className:"flex space-x-2",children:[a.jsx("button",{className:"text-blue-600 hover:text-blue-900 dark:text-blue-400 dark:hover:text-blue-300",children:"View"}),a.jsx("button",{className:"text-green-600 hover:text-green-900 dark:text-green-400 dark:hover:text-green-300",children:"Export"})]})})]},I.id))})]})})})]}),e==="profit-loss"&&a.jsxs("div",{className:"space-y-6",children:[a.jsxs("div",{className:"flex justify-between items-center",children:[a.jsx("h2",{className:"text-xl font-semibold text-gray-900 dark:text-white",children:"Profit & Loss Statement"}),a.jsxs("div",{className:"flex gap-2",children:[a.jsx("input",{type:"date",value:Xe.start_date,onChange:I=>Ue({...Xe,start_date:I.target.value}),className:"px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent dark:bg-gray-700 dark:text-white"}),a.jsx("input",{type:"date",value:Xe.end_date,onChange:I=>Ue({...Xe,end_date:I.target.value}),className:"px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent dark:bg-gray-700 dark:text-white"}),a.jsx(Hr,{variant:"primary",onClick:()=>_a(Xe.start_date,Xe.end_date),disabled:$e,children:$e?"Loading...":"Refresh"})]})]}),$e?a.jsxs("div",{className:"flex items-center justify-center py-12",children:[a.jsx(sn,{className:"w-8 h-8 animate-spin text-blue-500"}),a.jsx("span",{className:"ml-2 text-gray-600 dark:text-gray-400",children:"Generating report..."})]}):de&&!de.error?a.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-xl shadow-sm border p-6",children:[a.jsx("div",{className:"mb-6",children:a.jsxs("h3",{className:"text-lg font-semibold text-gray-900 dark:text-white mb-2",children:["P&L Statement for ",de.report_period?.start_date," to ",de.report_period?.end_date]})}),a.jsxs("div",{className:"space-y-4",children:[a.jsxs("div",{className:"flex justify-between items-center py-2 border-b border-gray-200 dark:border-gray-700",children:[a.jsx("span",{className:"font-medium text-gray-900 dark:text-white",children:"Total Revenue"}),a.jsx("span",{className:"font-semibold text-green-600 dark:text-green-400",children:at(de.revenue?.total_revenue||0)})]}),a.jsxs("div",{className:"flex justify-between items-center py-2 border-b border-gray-200 dark:border-gray-700",children:[a.jsx("span",{className:"text-gray-700 dark:text-gray-300 ml-4",children:"Cost of Goods Sold"}),a.jsx("span",{className:"text-red-600 dark:text-red-400",children:at(de.cost_of_goods_sold?.total_cogs||0)})]}),a.jsxs("div",{className:"flex justify-between items-center py-2 border-b-2 border-gray-300 dark:border-gray-600",children:[a.jsx("span",{className:"font-semibold text-gray-900 dark:text-white",children:"Gross Profit"}),a.jsx("span",{className:"font-semibold text-blue-600 dark:text-blue-400",children:at(de.gross_profit?.amount||0)})]}),a.jsxs("div",{className:"flex justify-between items-center py-2 border-b border-gray-200 dark:border-gray-700",children:[a.jsx("span",{className:"text-gray-700 dark:text-gray-300 ml-4",children:"Operating Expenses"}),a.jsx("span",{className:"text-red-600 dark:text-red-400",children:at(de.operating_expenses?.amount||0)})]}),a.jsxs("div",{className:"flex justify-between items-center py-2 border-b border-gray-200 dark:border-gray-700",children:[a.jsx("span",{className:"font-medium text-gray-900 dark:text-white",children:"Operating Income"}),a.jsx("span",{className:"font-medium text-blue-600 dark:text-blue-400",children:at(de.operating_income?.amount||0)})]}),a.jsxs("div",{className:"flex justify-between items-center py-2 border-b-2 border-gray-300 dark:border-gray-600",children:[a.jsx("span",{className:"font-bold text-gray-900 dark:text-white",children:"Net Income"}),a.jsx("span",{className:"font-bold text-green-600 dark:text-green-400",children:at(de.net_income?.amount||0)})]})]}),a.jsxs("div",{className:"mt-6 grid grid-cols-1 md:grid-cols-3 gap-4",children:[a.jsxs("div",{className:"bg-gray-50 dark:bg-gray-700 rounded-lg p-4",children:[a.jsx("h4",{className:"font-medium text-gray-900 dark:text-white mb-2",children:"Gross Profit Margin"}),a.jsxs("p",{className:"text-2xl font-bold text-blue-600 dark:text-blue-400",children:[de.gross_profit?.margin_percentage||0,"%"]})]}),a.jsxs("div",{className:"bg-gray-50 dark:bg-gray-700 rounded-lg p-4",children:[a.jsx("h4",{className:"font-medium text-gray-900 dark:text-white mb-2",children:"Operating Margin"}),a.jsxs("p",{className:"text-2xl font-bold text-purple-600 dark:text-purple-400",children:[de.operating_income?.margin_percentage||0,"%"]})]}),a.jsxs("div",{className:"bg-gray-50 dark:bg-gray-700 rounded-lg p-4",children:[a.jsx("h4",{className:"font-medium text-gray-900 dark:text-white mb-2",children:"Net Margin"}),a.jsxs("p",{className:"text-2xl font-bold text-green-600 dark:text-green-400",children:[de.net_income?.margin_percentage||0,"%"]})]})]})]}):a.jsx("div",{className:"bg-white dark:bg-gray-800 rounded-xl shadow-sm border p-6 text-center",children:a.jsx("p",{className:"text-gray-600 dark:text-gray-400",children:"No data available for the selected period."})})]}),e==="cash-flow"&&a.jsxs("div",{className:"space-y-6",children:[a.jsxs("div",{className:"flex justify-between items-center",children:[a.jsx("h2",{className:"text-xl font-semibold text-gray-900 dark:text-white",children:"Cash Flow Statement"}),a.jsxs("div",{className:"flex gap-2",children:[a.jsx("input",{type:"date",value:Xe.start_date,onChange:I=>Ue({...Xe,start_date:I.target.value}),className:"px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent dark:bg-gray-700 dark:text-white"}),a.jsx("input",{type:"date",value:Xe.end_date,onChange:I=>Ue({...Xe,end_date:I.target.value}),className:"px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent dark:bg-gray-700 dark:text-white"}),a.jsx(Hr,{variant:"primary",onClick:()=>bi(Xe.start_date,Xe.end_date),disabled:$e,children:$e?"Loading...":"Refresh"})]})]}),$e?a.jsxs("div",{className:"flex items-center justify-center py-12",children:[a.jsx(sn,{className:"w-8 h-8 animate-spin text-blue-500"}),a.jsx("span",{className:"ml-2 text-gray-600 dark:text-gray-400",children:"Generating report..."})]}):ne&&!ne.error?a.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-xl shadow-sm border p-6",children:[a.jsx("div",{className:"mb-6",children:a.jsxs("h3",{className:"text-lg font-semibold text-gray-900 dark:text-white mb-2",children:["Cash Flow Statement for ",ne.report_period?.start_date," to ",ne.report_period?.end_date]})}),a.jsxs("div",{className:"space-y-4",children:[a.jsxs("div",{className:"flex justify-between items-center py-2 border-b border-gray-200 dark:border-gray-700",children:[a.jsx("span",{className:"font-medium text-gray-900 dark:text-white",children:"Beginning Cash"}),a.jsx("span",{className:"font-semibold text-gray-600 dark:text-gray-400",children:at(ne.beginning_cash||0)})]}),a.jsxs("div",{className:"flex justify-between items-center py-2 border-b border-gray-200 dark:border-gray-700",children:[a.jsx("span",{className:"font-medium text-gray-900 dark:text-white",children:"Cash from Operations"}),a.jsx("span",{className:"font-semibold text-green-600 dark:text-green-400",children:at(ne.cash_from_operations?.amount||0)})]}),a.jsxs("div",{className:"flex justify-between items-center py-2 border-b border-gray-200 dark:border-gray-700",children:[a.jsx("span",{className:"font-medium text-gray-900 dark:text-white",children:"Cash from Investing"}),a.jsx("span",{className:"font-semibold text-blue-600 dark:text-blue-400",children:at(ne.cash_from_investing?.amount||0)})]}),a.jsxs("div",{className:"flex justify-between items-center py-2 border-b border-gray-200 dark:border-gray-700",children:[a.jsx("span",{className:"font-medium text-gray-900 dark:text-white",children:"Cash from Financing"}),a.jsx("span",{className:"font-semibold text-purple-600 dark:text-purple-400",children:at(ne.cash_from_financing?.amount||0)})]}),a.jsxs("div",{className:"flex justify-between items-center py-2 border-b border-gray-200 dark:border-gray-700",children:[a.jsx("span",{className:"font-medium text-gray-900 dark:text-white",children:"Cash Outflows"}),a.jsx("span",{className:"font-semibold text-red-600 dark:text-red-400",children:at(ne.cash_outflows?.amount||0)})]}),a.jsxs("div",{className:"flex justify-between items-center py-2 border-b-2 border-gray-300 dark:border-gray-600",children:[a.jsx("span",{className:"font-bold text-gray-900 dark:text-white",children:"Net Cash Flow"}),a.jsx("span",{className:`font-bold ${(ne.net_cash_flow||0)>=0?"text-green-600 dark:text-green-400":"text-red-600 dark:text-red-400"}`,children:at(ne.net_cash_flow||0)})]}),a.jsxs("div",{className:"flex justify-between items-center py-2 border-b-2 border-gray-300 dark:border-gray-600",children:[a.jsx("span",{className:"font-bold text-gray-900 dark:text-white",children:"Ending Cash"}),a.jsx("span",{className:"font-bold text-blue-600 dark:text-blue-400",children:at(ne.ending_cash||0)})]})]})]}):a.jsx("div",{className:"bg-white dark:bg-gray-800 rounded-xl shadow-sm border p-6 text-center",children:a.jsx("p",{className:"text-gray-600 dark:text-gray-400",children:"No data available for the selected period."})})]}),e==="aging"&&a.jsxs("div",{className:"space-y-6",children:[a.jsxs("div",{className:"flex justify-between items-center",children:[a.jsx("h2",{className:"text-xl font-semibold text-gray-900 dark:text-white",children:"Aging Reports"}),a.jsx(Hr,{variant:"primary",onClick:()=>ka("receivables"),disabled:$e,children:$e?"Loading...":"Refresh"})]}),$e?a.jsxs("div",{className:"flex items-center justify-center py-12",children:[a.jsx(sn,{className:"w-8 h-8 animate-spin text-blue-500"}),a.jsx("span",{className:"ml-2 text-gray-600 dark:text-gray-400",children:"Generating report..."})]}):he&&!he.error?a.jsxs("div",{className:"space-y-6",children:[a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4",children:[a.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-xl shadow-sm border p-4",children:[a.jsx("h3",{className:"text-sm font-medium text-gray-600 dark:text-gray-400 mb-2",children:"Current"}),a.jsx("p",{className:"text-2xl font-bold text-green-600 dark:text-green-400",children:at(he.aging_summary?.current?.amount||0)}),a.jsxs("p",{className:"text-sm text-gray-500 dark:text-gray-400",children:[he.aging_summary?.current?.count||0," invoices"]})]}),a.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-xl shadow-sm border p-4",children:[a.jsx("h3",{className:"text-sm font-medium text-gray-600 dark:text-gray-400 mb-2",children:"1-30 Days"}),a.jsx("p",{className:"text-2xl font-bold text-yellow-600 dark:text-yellow-400",children:at(he.aging_summary?.days_1_30?.amount||0)}),a.jsxs("p",{className:"text-sm text-gray-500 dark:text-gray-400",children:[he.aging_summary?.days_1_30?.count||0," invoices"]})]}),a.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-xl shadow-sm border p-4",children:[a.jsx("h3",{className:"text-sm font-medium text-gray-600 dark:text-gray-400 mb-2",children:"31-60 Days"}),a.jsx("p",{className:"text-2xl font-bold text-orange-600 dark:text-orange-400",children:at(he.aging_summary?.days_31_60?.amount||0)}),a.jsxs("p",{className:"text-sm text-gray-500 dark:text-gray-400",children:[he.aging_summary?.days_31_60?.count||0," invoices"]})]}),a.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-xl shadow-sm border p-4",children:[a.jsx("h3",{className:"text-sm font-medium text-gray-600 dark:text-gray-400 mb-2",children:"90+ Days"}),a.jsx("p",{className:"text-2xl font-bold text-red-600 dark:text-red-400",children:at(he.aging_summary?.days_90_plus?.amount||0)}),a.jsxs("p",{className:"text-sm text-gray-500 dark:text-gray-400",children:[he.aging_summary?.days_90_plus?.count||0," invoices"]})]})]}),a.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-xl shadow-sm border p-6",children:[a.jsx("h3",{className:"text-lg font-semibold text-gray-900 dark:text-white mb-4",children:"Detailed Invoice Aging"}),he.detailed_invoices?.current?.length>0&&a.jsxs("div",{className:"mb-6",children:[a.jsx("h4",{className:"font-medium text-green-600 dark:text-green-400 mb-3",children:"Current (0 days overdue)"}),a.jsx("div",{className:"overflow-x-auto",children:a.jsxs("table",{className:"min-w-full divide-y divide-gray-200 dark:divide-gray-700",children:[a.jsx("thead",{className:"bg-gray-50 dark:bg-gray-700",children:a.jsxs("tr",{children:[a.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-300 uppercase tracking-wider",children:"Invoice"}),a.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-300 uppercase tracking-wider",children:"Customer"}),a.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-300 uppercase tracking-wider",children:"Amount"}),a.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-300 uppercase tracking-wider",children:"Due Date"})]})}),a.jsx("tbody",{className:"bg-white dark:bg-gray-800 divide-y divide-gray-200 dark:divide-gray-700",children:he.detailed_invoices.current.map(I=>a.jsxs("tr",{children:[a.jsx("td",{className:"px-4 py-3 text-sm text-gray-900 dark:text-white",children:I.invoice_number}),a.jsx("td",{className:"px-4 py-3 text-sm text-gray-900 dark:text-white",children:I.customer_name}),a.jsx("td",{className:"px-4 py-3 text-sm text-gray-900 dark:text-white",children:at(I.outstanding_amount)}),a.jsx("td",{className:"px-4 py-3 text-sm text-gray-900 dark:text-white",children:I.due_date})]},I.id))})]})})]}),he.detailed_invoices?.days_1_30?.length>0&&a.jsxs("div",{className:"mb-6",children:[a.jsx("h4",{className:"font-medium text-yellow-600 dark:text-yellow-400 mb-3",children:"1-30 Days Overdue"}),a.jsx("div",{className:"overflow-x-auto",children:a.jsxs("table",{className:"min-w-full divide-y divide-gray-200 dark:divide-gray-700",children:[a.jsx("thead",{className:"bg-gray-50 dark:bg-gray-700",children:a.jsxs("tr",{children:[a.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-300 uppercase tracking-wider",children:"Invoice"}),a.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-300 uppercase tracking-wider",children:"Customer"}),a.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-300 uppercase tracking-wider",children:"Amount"}),a.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-300 uppercase tracking-wider",children:"Days Overdue"})]})}),a.jsx("tbody",{className:"bg-white dark:bg-gray-800 divide-y divide-gray-200 dark:divide-gray-700",children:he.detailed_invoices.days_1_30.map(I=>a.jsxs("tr",{children:[a.jsx("td",{className:"px-4 py-3 text-sm text-gray-900 dark:text-white",children:I.invoice_number}),a.jsx("td",{className:"px-4 py-3 text-sm text-gray-900 dark:text-white",children:I.customer_name}),a.jsx("td",{className:"px-4 py-3 text-sm text-gray-900 dark:text-white",children:at(I.outstanding_amount)}),a.jsxs("td",{className:"px-4 py-3 text-sm text-yellow-600 dark:text-yellow-400",children:[I.days_overdue," days"]})]},I.id))})]})})]})]})]}):a.jsx("div",{className:"bg-white dark:bg-gray-800 rounded-xl shadow-sm border p-6 text-center",children:a.jsx("p",{className:"text-gray-600 dark:text-gray-400",children:"No aging data available."})})]}),e==="settings"&&a.jsxs("div",{className:"space-y-6",children:[a.jsx("h2",{className:"text-xl font-semibold text-gray-900 dark:text-white",children:"Company Settings"}),za?a.jsxs("div",{className:"flex items-center justify-center py-12",children:[a.jsx(sn,{className:"w-8 h-8 animate-spin text-blue-500"}),a.jsx("span",{className:"ml-2 text-gray-600 dark:text-gray-400",children:"Loading settings..."})]}):a.jsxs(a.Fragment,{children:[a.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-xl shadow-sm border p-6",children:[a.jsx("h3",{className:"text-lg font-semibold text-gray-900 dark:text-white mb-6",children:"General Information"}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:"Company Name"}),a.jsx("input",{type:"text",value:Me.company_name,onChange:I=>qe({...Me,company_name:I.target.value}),className:"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent dark:bg-gray-700 dark:text-white",placeholder:"Enter company name"})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:"Company Mobile"}),a.jsx("input",{type:"tel",value:Me.company_mobile,onChange:I=>qe({...Me,company_mobile:I.target.value}),className:"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent dark:bg-gray-700 dark:text-white",placeholder:"Enter mobile number"})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:"City"}),a.jsx("input",{type:"text",value:Me.city,onChange:I=>qe({...Me,city:I.target.value}),className:"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent dark:bg-gray-700 dark:text-white",placeholder:"Enter city"})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:"Area"}),a.jsx("input",{type:"text",value:Me.area,onChange:I=>qe({...Me,area:I.target.value}),className:"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent dark:bg-gray-700 dark:text-white",placeholder:"Enter area"})]}),a.jsxs("div",{className:"md:col-span-2",children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:"Complete Address"}),a.jsx("textarea",{value:Me.complete_address,onChange:I=>qe({...Me,complete_address:I.target.value}),rows:3,className:"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent dark:bg-gray-700 dark:text-white",placeholder:"Enter complete address"})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:"TRN"}),a.jsx("input",{type:"text",value:Me.trn,onChange:I=>qe({...Me,trn:I.target.value}),className:"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent dark:bg-gray-700 dark:text-white",placeholder:"Enter Tax Registration Number"})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:"Currency"}),a.jsxs("select",{value:Me.currency,onChange:I=>qe({...Me,currency:I.target.value}),className:"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent dark:bg-gray-700 dark:text-white",children:[a.jsx("option",{value:"AED - UAE Dirham (د.إ)",children:"AED - UAE Dirham (د.إ)"}),a.jsx("option",{value:"USD - US Dollar ($)",children:"USD - US Dollar ($)"}),a.jsx("option",{value:"EUR - Euro (€)",children:"EUR - Euro (€)"}),a.jsx("option",{value:"GBP - British Pound (£)",children:"GBP - British Pound (£)"}),a.jsx("option",{value:"SAR - Saudi Riyal (﷼)",children:"SAR - Saudi Riyal (﷼)"}),a.jsx("option",{value:"KWD - Kuwaiti Dinar (د.ك)",children:"KWD - Kuwaiti Dinar (د.ك)"})]})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:"Timezone"}),a.jsxs("select",{value:Me.timezone,onChange:I=>qe({...Me,timezone:I.target.value}),className:"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent dark:bg-gray-700 dark:text-white",children:[a.jsx("option",{value:"Dubai (UAE)",children:"Dubai (UAE)"}),a.jsx("option",{value:"Abu Dhabi (UAE)",children:"Abu Dhabi (UAE)"}),a.jsx("option",{value:"New York (USA)",children:"New York (USA)"}),a.jsx("option",{value:"London (UK)",children:"London (UK)"}),a.jsx("option",{value:"Paris (France)",children:"Paris (France)"}),a.jsx("option",{value:"Tokyo (Japan)",children:"Tokyo (Japan)"}),a.jsx("option",{value:"Singapore",children:"Singapore"})]})]})]})]}),a.jsxs("div",{className:"bg-gradient-to-r from-blue-900 to-blue-800 rounded-xl shadow-sm border p-6",children:[a.jsxs("div",{className:"flex items-center gap-3 mb-6",children:[a.jsx("div",{className:"w-10 h-10 bg-blue-500 rounded-lg flex items-center justify-center",children:a.jsx(ra,{className:"w-6 h-6 text-white"})}),a.jsx("h3",{className:"text-lg font-semibold text-white",children:"Billing Configuration"})]}),a.jsxs("div",{className:"space-y-4",children:[a.jsxs("div",{className:"bg-blue-800 rounded-lg p-4 flex items-center justify-between",children:[a.jsxs("div",{className:"flex items-center gap-3",children:[a.jsx("input",{type:"checkbox",checked:tt.trial_date_enabled,onChange:I=>Ot({...tt,trial_date_enabled:I.target.checked}),className:"w-4 h-4 text-blue-600 bg-gray-100 border-gray-300 rounded focus:ring-blue-500 dark:focus:ring-blue-600 dark:ring-offset-gray-800 focus:ring-2 dark:bg-gray-700 dark:border-gray-600"}),a.jsx("span",{className:"text-white font-medium",children:"Trial Date"})]}),tt.trial_date_enabled&&a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx("input",{type:"number",value:tt.trial_date_days,onChange:I=>Ot({...tt,trial_date_days:I.target.value}),className:"w-16 px-2 py-1 text-sm border border-gray-300 dark:border-gray-600 rounded focus:ring-2 focus:ring-blue-500 focus:border-transparent dark:bg-gray-700 dark:text-white",min:"1",max:"30"}),a.jsx("span",{className:"text-white text-sm",children:"days"})]})]}),a.jsxs("div",{className:"bg-blue-800 rounded-lg p-4 flex items-center justify-between",children:[a.jsxs("div",{className:"flex items-center gap-3",children:[a.jsx("input",{type:"checkbox",checked:tt.delivery_date_enabled,onChange:I=>Ot({...tt,delivery_date_enabled:I.target.checked}),className:"w-4 h-4 text-blue-600 bg-gray-100 border-gray-300 rounded focus:ring-blue-500 dark:focus:ring-blue-600 dark:ring-offset-gray-800 focus:ring-2 dark:bg-gray-700 dark:border-gray-600"}),a.jsx("span",{className:"text-white font-medium",children:"Delivery Date"})]}),tt.delivery_date_enabled&&a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx("input",{type:"number",value:tt.delivery_date_days,onChange:I=>Ot({...tt,delivery_date_days:I.target.value}),className:"w-16 px-2 py-1 text-sm border border-gray-300 dark:border-gray-600 rounded focus:ring-2 focus:ring-blue-500 focus:border-transparent dark:bg-gray-700 dark:text-white",min:"1",max:"30"}),a.jsx("span",{className:"text-white text-sm",children:"days"})]})]}),a.jsxs("div",{className:"bg-green-800 rounded-lg p-4 flex items-center justify-between",children:[a.jsxs("div",{className:"flex items-center gap-3",children:[a.jsx("input",{type:"checkbox",checked:tt.advance_payment_enabled,onChange:I=>Ot({...tt,advance_payment_enabled:I.target.checked}),className:"w-4 h-4 text-green-600 bg-gray-100 border-gray-300 rounded focus:ring-green-500 dark:focus:ring-green-600 dark:ring-offset-gray-800 focus:ring-2 dark:bg-gray-700 dark:border-gray-600"}),a.jsx("span",{className:"text-white font-medium",children:"Advance Payment"})]}),a.jsx("span",{className:"text-gray-300 text-sm",children:"Allow partial payments"})]})]})]}),a.jsx("div",{className:"flex justify-end",children:a.jsx(Hr,{variant:"primary",onClick:async()=>{try{const I={company_name:Me.company_name,company_mobile:Me.company_mobile,city:Me.city,area:Me.area,complete_address:Me.complete_address,trn:Me.trn,currency:Me.currency,timezone:Me.timezone,trial_date_enabled:tt.trial_date_enabled,trial_date_days:parseInt(tt.trial_date_days),delivery_date_enabled:tt.delivery_date_enabled,delivery_date_days:parseInt(tt.delivery_date_days),advance_payment_enabled:tt.advance_payment_enabled};await NM.updateSettings(I),ft("Settings saved successfully!"),Te(!0),pf()}catch(I){console.error("Error saving settings:",I),y("Failed to save settings. Please try again.")}},className:"px-6 py-2",disabled:za,children:za?"Saving...":"Save Settings"})})]})]}),a.jsx($t,{open:Pn,onClose:()=>{vt(!1),rc()},title:"Create Invoice",animationType:"scale",size:"xl",children:a.jsxs("form",{onSubmit:jf,className:"space-y-6",children:[a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[a.jsxs("div",{className:"relative dropdown-container",children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:"Customer Account *"}),a.jsxs("div",{className:"relative",children:[a.jsx("input",{type:"text",value:K,onChange:I=>{lv(I.target.value),M(!0)},onFocus:()=>M(!0),placeholder:"Search customer accounts...",className:"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent dark:bg-gray-700 dark:text-white",required:!0}),be&&a.jsx("div",{className:"absolute z-10 w-full mt-1 bg-white dark:bg-gray-800 border border-gray-300 dark:border-gray-600 rounded-lg shadow-lg max-h-60 overflow-auto",children:yr.length>0?yr.map(I=>a.jsxs("div",{onClick:()=>Cm(I),className:"px-3 py-2 hover:bg-gray-100 dark:hover:bg-gray-700 cursor-pointer border-b border-gray-200 dark:border-gray-700 last:border-b-0",children:[a.jsx("div",{className:"font-medium text-gray-900 dark:text-white",children:I.account_name}),a.jsxs("div",{className:"text-sm text-gray-600 dark:text-gray-400",children:["Account #",I.id,I.contact_name&&` • ${I.contact_name}`]})]},I.id)):a.jsx("div",{className:"px-3 py-2 text-gray-500 dark:text-gray-400",children:"No customer accounts found"})})]})]}),a.jsxs("div",{className:"relative dropdown-container",children:[a.jsxs("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:["Won Deal ",!Pt&&a.jsx("span",{className:"text-red-500",children:"*"})]}),a.jsxs("div",{className:"relative",children:[a.jsx("input",{type:"text",value:L,onChange:I=>{Nu(I.target.value),ee(!0)},onFocus:()=>ee(!0),placeholder:"Search won deals...",className:"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent dark:bg-gray-700 dark:text-white"}),J&&a.jsx("div",{className:"absolute z-10 w-full mt-1 bg-white dark:bg-gray-800 border border-gray-300 dark:border-gray-600 rounded-lg shadow-lg max-h-60 overflow-auto",children:Rr.length>0?Rr.map(I=>a.jsxs("div",{onClick:()=>Bl(I),className:"px-3 py-2 hover:bg-gray-100 dark:hover:bg-gray-700 cursor-pointer border-b border-gray-200 dark:border-gray-700 last:border-b-0",children:[a.jsx("div",{className:"font-medium text-gray-900 dark:text-white",children:I.title}),a.jsxs("div",{className:"text-sm text-gray-600 dark:text-gray-400",children:["Deal #",I.id," • ",at(I.value),I.contact_name&&` • ${I.contact_name}`]})]},I.id)):a.jsx("div",{className:"px-3 py-2 text-gray-500 dark:text-gray-400",children:L?"No won deals found matching your search":"No won deals found"})}),Pt&&!J&&a.jsx("div",{className:"mt-2 p-3 bg-blue-50 dark:bg-blue-900/20 border border-blue-200 dark:border-blue-800 rounded-lg",children:a.jsxs("div",{className:"flex items-start",children:[a.jsx("div",{className:"flex-shrink-0",children:a.jsx("svg",{className:"h-5 w-5 text-blue-400",viewBox:"0 0 20 20",fill:"currentColor",children:a.jsx("path",{fillRule:"evenodd",d:"M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-7-4a1 1 0 11-2 0 1 1 0 012 0zM9 9a1 1 0 000 2v3a1 1 0 001 1h1a1 1 0 100-2v-3a1 1 0 00-1-1H9z",clipRule:"evenodd"})})}),a.jsxs("div",{className:"ml-3",children:[a.jsx("h3",{className:"text-sm font-medium text-blue-800 dark:text-blue-200",children:"No won deals for this account"}),a.jsxs("div",{className:"mt-1 text-sm text-blue-700 dark:text-blue-300",children:[a.jsx("p",{children:"You can still create an invoice by:"}),a.jsxs("ul",{className:"list-disc list-inside mt-1 space-y-1",children:[a.jsx("li",{children:"Searching for any won deal in the system"}),a.jsx("li",{children:"Manually entering the deal details"}),a.jsx("li",{children:"Creating a general invoice for this account"})]}),a.jsx("div",{className:"mt-3",children:a.jsx(Hr,{variant:"info",size:"sm",onClick:()=>{re(!1),ee(!0),Z(""),Gr(At)},children:"Browse All Won Deals"})})]})]})]})})]})]})]}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:"Due Date *"}),a.jsx("input",{type:"date",value:yt.due_date,onChange:I=>vr({...yt,due_date:I.target.value}),className:"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent dark:bg-gray-700 dark:text-white",required:!0})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:"Tax Rate (%)"}),a.jsx("input",{type:"number",step:"0.01",value:yt.tax_rate,onChange:I=>vr({...yt,tax_rate:I.target.value}),className:"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent dark:bg-gray-700 dark:text-white",placeholder:"0.00"})]})]}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:"Subtotal *"}),a.jsx("input",{type:"number",step:"0.01",value:yt.subtotal,onChange:I=>vr({...yt,subtotal:I.target.value}),className:"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent dark:bg-gray-700 dark:text-white",placeholder:"0.00",required:!0})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:"Discount"}),a.jsxs("div",{className:"flex gap-2",children:[a.jsx("input",{type:"number",step:"0.01",value:yt.discount_amount,onChange:I=>vr({...yt,discount_amount:I.target.value}),className:"flex-1 px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent dark:bg-gray-700 dark:text-white",placeholder:"0.00"}),a.jsxs("select",{value:yt.discount_type,onChange:I=>vr({...yt,discount_type:I.target.value}),className:"px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent dark:bg-gray-700 dark:text-white",children:[a.jsx("option",{value:"percentage",children:"%"}),a.jsx("option",{value:"fixed",children:"$"})]})]})]})]}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:"Advance Payment"}),a.jsx("input",{type:"number",step:"0.01",value:yt.advance_payment,onChange:I=>vr({...yt,advance_payment:I.target.value}),className:"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent dark:bg-gray-700 dark:text-white",placeholder:"0.00"})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:"Recurring Invoice"}),a.jsx("div",{className:"flex items-center gap-3",children:a.jsxs("label",{className:"flex items-center",children:[a.jsx("input",{type:"checkbox",checked:yt.recurring_invoice,onChange:I=>vr({...yt,recurring_invoice:I.target.checked}),className:"rounded border-gray-300 text-blue-600 focus:ring-blue-500"}),a.jsx("span",{className:"ml-2 text-sm text-gray-700 dark:text-gray-300",children:"Enable Recurring"})]})})]})]}),yt.recurring_invoice&&a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:"Frequency"}),a.jsxs("select",{value:yt.recurring_frequency,onChange:I=>vr({...yt,recurring_frequency:I.target.value}),className:"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent dark:bg-gray-700 dark:text-white",children:[a.jsx("option",{value:"weekly",children:"Weekly"}),a.jsx("option",{value:"monthly",children:"Monthly"}),a.jsx("option",{value:"quarterly",children:"Quarterly"}),a.jsx("option",{value:"yearly",children:"Yearly"})]})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:"End Date"}),a.jsx("input",{type:"date",value:yt.recurring_end_date,onChange:I=>vr({...yt,recurring_end_date:I.target.value}),className:"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent dark:bg-gray-700 dark:text-white"})]})]}),a.jsxs("div",{className:"bg-gray-50 dark:bg-gray-800 p-4 rounded-lg border",children:[a.jsx("h4",{className:"text-sm font-medium text-gray-700 dark:text-gray-300 mb-3",children:"Invoice Summary"}),a.jsxs("div",{className:"space-y-2 text-sm",children:[a.jsxs("div",{className:"flex justify-between",children:[a.jsx("span",{className:"text-gray-600 dark:text-gray-400",children:"Subtotal:"}),a.jsxs("span",{className:"font-medium",children:["$",at(qi().subtotal)]})]}),qi().discountAmount>0&&a.jsxs("div",{className:"flex justify-between text-green-600 dark:text-green-400",children:[a.jsx("span",{children:"Discount:"}),a.jsxs("span",{children:["-$",at(qi().discountAmount)]})]}),a.jsxs("div",{className:"flex justify-between",children:[a.jsx("span",{className:"text-gray-600 dark:text-gray-400",children:"Tax:"}),a.jsxs("span",{className:"font-medium",children:["$",at(qi().taxAmount)]})]}),qi().advancePayment>0&&a.jsxs("div",{className:"flex justify-between text-blue-600 dark:text-blue-400",children:[a.jsx("span",{children:"Advance Payment:"}),a.jsxs("span",{children:["-$",at(qi().advancePayment)]})]}),a.jsxs("div",{className:"border-t border-gray-200 dark:border-gray-600 pt-2 flex justify-between",children:[a.jsx("span",{className:"font-semibold text-gray-900 dark:text-white",children:"Grand Total:"}),a.jsxs("span",{className:"font-bold text-lg text-blue-600 dark:text-blue-400",children:["$",at(qi().grandTotal)]})]})]})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:"Description"}),a.jsx("textarea",{value:yt.description,onChange:I=>vr({...yt,description:I.target.value}),rows:3,className:"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent dark:bg-gray-700 dark:text-white",placeholder:"Invoice description..."})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:"Notes"}),a.jsx("textarea",{value:yt.notes,onChange:I=>vr({...yt,notes:I.target.value}),rows:2,className:"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent dark:bg-gray-700 dark:text-white",placeholder:"Additional notes..."})]}),a.jsxs("div",{className:"flex justify-end gap-3 pt-4 border-t border-gray-200 dark:border-gray-600",children:[a.jsx(Hr,{variant:"secondary",size:"md",onClick:()=>vt(!1),children:"Cancel"}),a.jsx(Hr,{variant:"primary",size:"md",type:"submit",disabled:h,loading:h,children:"Create Invoice"})]})]})}),a.jsx($t,{open:fr,onClose:()=>dt(!1),title:"Record Payment",animationType:"scale",size:"md",children:a.jsxs("form",{onSubmit:Nf,className:"space-y-4",children:[a.jsxs("div",{className:"relative dropdown-container",children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:"Invoice *"}),a.jsxs("div",{className:"relative",children:[a.jsx("input",{type:"text",value:Ll,onChange:I=>{Ea(I.target.value),hr(!0)},onFocus:()=>hr(!0),placeholder:"Search unpaid invoices...",className:"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent dark:bg-gray-700 dark:text-white",required:!0}),ja&&a.jsx("div",{className:"absolute z-10 w-full mt-1 bg-white dark:bg-gray-800 border border-gray-300 dark:border-gray-600 rounded-lg shadow-lg max-h-60 overflow-auto",children:la.length>0?la.map(I=>a.jsxs("div",{onClick:()=>Am(I),className:"px-3 py-2 hover:bg-gray-100 dark:hover:bg-gray-700 cursor-pointer border-b border-gray-200 dark:border-gray-700 last:border-b-0",children:[a.jsx("div",{className:"font-medium text-gray-900 dark:text-white",children:I.invoice_number}),a.jsxs("div",{className:"text-sm text-gray-600 dark:text-gray-400",children:["Deal #",I.deal_id," • Balance: ",at(I.balance_due)]})]},I.id)):a.jsx("div",{className:"px-3 py-2 text-gray-500 dark:text-gray-400",children:"No unpaid invoices found"})})]}),Gt&&a.jsx("div",{className:"mt-2 p-3 bg-blue-50 dark:bg-blue-900/20 border border-blue-200 dark:border-blue-800 rounded-lg",children:a.jsxs("div",{className:"flex items-start",children:[a.jsx("div",{className:"flex-shrink-0",children:a.jsx("svg",{className:"h-5 w-5 text-blue-400",viewBox:"0 0 20 20",fill:"currentColor",children:a.jsx("path",{fillRule:"evenodd",d:"M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-7-4a1 1 0 11-2 0 1 1 0 012 0zM9 9a1 1 0 000 2v3a1 1 0 001 1h1a1 1 0 100-2v-3a1 1 0 00-1-1H9z",clipRule:"evenodd"})})}),a.jsxs("div",{className:"ml-3",children:[a.jsx("h3",{className:"text-sm font-medium text-blue-800 dark:text-blue-200",children:"Invoice Details"}),a.jsxs("div",{className:"mt-1 text-sm text-blue-700 dark:text-blue-300",children:[a.jsxs("p",{children:["Total Amount: ",at(Gt.total_amount)]}),a.jsxs("p",{children:["Balance Due: ",at(Gt.balance_due)]}),a.jsxs("p",{children:["Due Date: ",Zs(Gt.due_date)]})]})]})]})})]}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:"Amount"}),a.jsx("input",{type:"number",step:"0.01",value:Be.amount,onChange:I=>Ye({...Be,amount:I.target.value}),className:`w-full px-3 py-2 border rounded-lg focus:ring-2 focus:border-transparent dark:bg-gray-700 dark:text-white ${Gt&&parseFloat(Be.amount)>Gt.balance_due?"border-red-300 focus:ring-red-500":"border-gray-300 focus:ring-blue-500"}`,required:!0}),Gt&&parseFloat(Be.amount)>Gt.balance_due&&a.jsxs("p",{className:"mt-1 text-sm text-red-600 dark:text-red-400",children:["Payment amount exceeds balance due (",at(Gt.balance_due),")"]})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:"Payment Date"}),a.jsx("input",{type:"date",value:Be.payment_date,onChange:I=>Ye({...Be,payment_date:I.target.value}),className:"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent dark:bg-gray-700 dark:text-white",required:!0})]})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:"Payment Method"}),a.jsxs("select",{value:Be.payment_method,onChange:I=>Ye({...Be,payment_method:I.target.value}),className:"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent dark:bg-gray-700 dark:text-white",children:[a.jsx("option",{value:"credit_card",children:"Credit Card"}),a.jsx("option",{value:"bank_transfer",children:"Bank Transfer"}),a.jsx("option",{value:"check",children:"Check"}),a.jsx("option",{value:"cash",children:"Cash"}),a.jsx("option",{value:"other",children:"Other"})]})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:"Payment Reference"}),a.jsx("input",{type:"text",value:Be.payment_reference,onChange:I=>Ye({...Be,payment_reference:I.target.value}),className:"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent dark:bg-gray-700 dark:text-white",placeholder:"Transaction ID, check number, etc."})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:"Notes"}),a.jsx("textarea",{value:Be.notes,onChange:I=>Ye({...Be,notes:I.target.value}),rows:2,className:"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent dark:bg-gray-700 dark:text-white"})]}),a.jsxs("div",{className:"flex justify-end gap-3 pt-4",children:[a.jsx("button",{type:"button",onClick:()=>dt(!1),className:"px-4 py-2 text-gray-700 dark:text-gray-300 border border-gray-300 dark:border-gray-600 rounded-lg hover:bg-gray-50 dark:hover:bg-gray-700 transition-colors",children:"Cancel"}),a.jsx("button",{type:"submit",disabled:h,className:"px-4 py-2 bg-green-600 text-white rounded-lg hover:bg-green-700 disabled:opacity-50 transition-colors",children:h?"Recording...":"Record Payment"})]})]})}),a.jsx($t,{open:Yn,onClose:()=>wa(!1),title:gt?`Invoice ${gt.invoice_number}`:"Invoice Details",animationType:"slideUp",size:"lg",children:gt&&a.jsxs("div",{className:"space-y-4",children:[a.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300",children:"Status"}),a.jsxs("span",{className:`inline-flex items-center gap-1 px-2.5 py-0.5 rounded-full text-xs font-medium ${ys(gt.status)}`,children:[$l(gt.status),gt.status]})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300",children:"Total Amount"}),a.jsx("p",{className:"text-lg font-semibold text-gray-900 dark:text-white",children:at(gt.total_amount)})]})]}),a.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300",children:"Issue Date"}),a.jsx("p",{className:"text-gray-900 dark:text-white",children:Zs(gt.issue_date)})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300",children:"Due Date"}),a.jsx("p",{className:"text-gray-900 dark:text-white",children:Zs(gt.due_date)})]})]}),a.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300",children:"Subtotal"}),a.jsx("p",{className:"text-gray-900 dark:text-white",children:at(gt.subtotal)})]}),a.jsxs("div",{children:[a.jsxs("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300",children:["Tax (",gt.tax_rate,"%)"]}),a.jsx("p",{className:"text-gray-900 dark:text-white",children:at(gt.tax_amount)})]})]}),gt.balance_due>0&&a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300",children:"Balance Due"}),a.jsx("p",{className:"text-lg font-semibold text-red-600 dark:text-red-400",children:at(gt.balance_due)})]}),gt.description&&a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300",children:"Description"}),a.jsx("p",{className:"text-gray-900 dark:text-white",children:gt.description})]}),gt.notes&&a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300",children:"Notes"}),a.jsx("p",{className:"text-gray-900 dark:text-white",children:gt.notes})]})]})}),a.jsx($t,{open:xt,onClose:()=>_t(!1),title:"Select Deal",animationType:"scale",size:"lg",children:a.jsxs("div",{className:"space-y-4",children:[a.jsx("div",{className:"text-sm text-gray-600 dark:text-gray-400",children:"This customer account has multiple won deals. Please select which deal to create an invoice for:"}),a.jsx("div",{className:"space-y-3 max-h-96 overflow-y-auto",children:ge.map(I=>a.jsx("div",{onClick:()=>ov(I),className:"p-4 border border-gray-200 dark:border-gray-700 rounded-lg hover:bg-gray-50 dark:hover:bg-gray-800 cursor-pointer transition-colors duration-200",children:a.jsxs("div",{className:"flex justify-between items-start",children:[a.jsxs("div",{className:"flex-1",children:[a.jsx("h3",{className:"font-medium text-gray-900 dark:text-white",children:I.title}),a.jsxs("div",{className:"text-sm text-gray-600 dark:text-gray-400 mt-1",children:["Deal #",I.id,I.contact_name&&` • ${I.contact_name}`]})]}),a.jsxs("div",{className:"text-right",children:[a.jsx("div",{className:"font-semibold text-green-600 dark:text-green-400",children:at(I.value)}),a.jsx("div",{className:"text-xs text-gray-500 dark:text-gray-400",children:"Won Deal"})]})]})},I.id))}),a.jsx("div",{className:"flex justify-end pt-4",children:a.jsx("button",{onClick:()=>_t(!1),className:"px-4 py-2 text-gray-600 dark:text-gray-400 hover:text-gray-800 dark:hover:text-gray-200 transition-colors duration-200",children:"Cancel"})})]})}),a.jsx($t,{open:A,onClose:()=>O(!1),title:"Recognize Revenue",animationType:"scale",size:"md",children:a.jsxs("form",{onSubmit:Dm,className:"space-y-4",children:[a.jsxs("div",{className:"relative dropdown-container",children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:"Invoice *"}),a.jsxs("div",{className:"relative",children:[a.jsx("input",{type:"text",value:oe,onChange:I=>{yf(I.target.value),te(!0)},onFocus:()=>te(!0),placeholder:"Search paid invoices...",className:"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent dark:bg-gray-700 dark:text-white",required:!0}),Q&&a.jsx("div",{className:"absolute z-10 w-full mt-1 bg-white dark:bg-gray-800 border border-gray-300 dark:border-gray-600 rounded-lg shadow-lg max-h-60 overflow-auto",children:W.length>0?W.map(I=>a.jsxs("div",{onClick:()=>vf(I),className:"px-3 py-2 hover:bg-gray-100 dark:hover:bg-gray-700 cursor-pointer border-b border-gray-200 dark:border-gray-700 last:border-b-0",children:[a.jsx("div",{className:"font-medium text-gray-900 dark:text-white",children:I.invoice_number}),a.jsxs("div",{className:"text-sm text-gray-600 dark:text-gray-400",children:["Deal #",I.deal_id," • Amount: ",at(I.total_amount)]})]},I.id)):a.jsx("div",{className:"px-3 py-2 text-gray-500 dark:text-gray-400",children:B.length===0?"No paid invoices available for revenue recognition":"No matching invoices found"})})]}),ue&&a.jsx("div",{className:"mt-2 p-3 bg-blue-50 dark:bg-blue-900/20 border border-blue-200 dark:border-blue-800 rounded-lg",children:a.jsxs("div",{className:"flex items-start",children:[a.jsx("div",{className:"flex-shrink-0",children:a.jsx("svg",{className:"h-5 w-5 text-blue-400",viewBox:"0 0 20 20",fill:"currentColor",children:a.jsx("path",{fillRule:"evenodd",d:"M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-7-4a1 1 0 11-2 0 1 1 0 012 0zM9 9a1 1 0 000 2v3a1 1 0 001 1h1a1 1 0 100-2v-3a1 1 0 00-1-1H9z",clipRule:"evenodd"})})}),a.jsxs("div",{className:"ml-3",children:[a.jsx("h3",{className:"text-sm font-medium text-blue-800 dark:text-blue-200",children:"Invoice Details"}),a.jsxs("div",{className:"mt-1 text-sm text-blue-700 dark:text-blue-300",children:[a.jsxs("p",{children:["Total Amount: ",at(ue.total_amount)]}),a.jsxs("p",{children:["Status: ",ue.status]}),a.jsxs("p",{children:["Due Date: ",Zs(ue.due_date)]})]})]})]})})]}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:"Amount *"}),a.jsx("input",{type:"number",step:"0.01",value:D.amount,onChange:I=>R({...D,amount:I.target.value}),className:"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent dark:bg-gray-700 dark:text-white",required:!0})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:"Recognition Date *"}),a.jsx("input",{type:"date",value:D.recognition_date,onChange:I=>R({...D,recognition_date:I.target.value}),className:"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent dark:bg-gray-700 dark:text-white",required:!0})]})]}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:"Recognition Type"}),a.jsxs("select",{value:D.recognition_type,onChange:I=>R({...D,recognition_type:I.target.value}),className:"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent dark:bg-gray-700 dark:text-white",children:[a.jsx("option",{value:"immediate",children:"Immediate"}),a.jsx("option",{value:"deferred",children:"Deferred"}),a.jsx("option",{value:"milestone",children:"Milestone-based"}),a.jsx("option",{value:"subscription",children:"Subscription"})]})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:"Revenue Type"}),a.jsxs("select",{value:D.revenue_type,onChange:I=>R({...D,revenue_type:I.target.value}),className:"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent dark:bg-gray-700 dark:text-white",children:[a.jsx("option",{value:"product",children:"Product"}),a.jsx("option",{value:"service",children:"Service"}),a.jsx("option",{value:"subscription",children:"Subscription"}),a.jsx("option",{value:"consulting",children:"Consulting"}),a.jsx("option",{value:"support",children:"Support"})]})]})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:"Revenue Category"}),a.jsx("input",{type:"text",value:D.revenue_category,onChange:I=>R({...D,revenue_category:I.target.value}),className:"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent dark:bg-gray-700 dark:text-white",placeholder:"e.g., Software License, Implementation, Training"})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:"Notes"}),a.jsx("textarea",{value:D.notes,onChange:I=>R({...D,notes:I.target.value}),rows:2,className:"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent dark:bg-gray-700 dark:text-white",placeholder:"Additional notes about revenue recognition"})]}),a.jsxs("div",{className:"flex justify-end space-x-3 pt-4",children:[a.jsx("button",{type:"button",onClick:()=>O(!1),className:"px-4 py-2 text-gray-700 dark:text-gray-300 bg-gray-200 dark:bg-gray-700 rounded-lg hover:bg-gray-300 dark:hover:bg-gray-600 transition-colors",children:"Cancel"}),a.jsx("button",{type:"submit",disabled:h,className:"px-4 py-2 bg-green-600 text-white rounded-lg hover:bg-green-700 transition-colors disabled:opacity-50",children:h?"Recognizing...":"Recognize Revenue"})]})]})}),a.jsx($t,{open:F,onClose:()=>G(!1),title:"Generate Financial Report",animationType:"scale",size:"lg",children:a.jsxs("form",{onSubmit:wf,className:"space-y-4",children:[a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:"Report Type *"}),a.jsxs("select",{value:z.report_type,onChange:I=>q({...z,report_type:I.target.value}),className:"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent dark:bg-gray-700 dark:text-white",required:!0,children:[a.jsx("option",{value:"profit_loss",children:"Profit & Loss Statement"}),a.jsx("option",{value:"cash_flow",children:"Cash Flow Statement"}),a.jsx("option",{value:"balance_sheet",children:"Balance Sheet"}),a.jsx("option",{value:"revenue_analysis",children:"Revenue Analysis"}),a.jsx("option",{value:"payment_summary",children:"Payment Summary"}),a.jsx("option",{value:"invoice_summary",children:"Invoice Summary"})]})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:"Report Name *"}),a.jsx("input",{type:"text",value:z.report_name,onChange:I=>q({...z,report_name:I.target.value}),className:"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent dark:bg-gray-700 dark:text-white",placeholder:"e.g., Q1 2024 P&L Report",required:!0})]})]}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:"Start Date *"}),a.jsx("input",{type:"date",value:z.start_date,onChange:I=>q({...z,start_date:I.target.value}),className:"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent dark:bg-gray-700 dark:text-white",required:!0})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:"End Date *"}),a.jsx("input",{type:"date",value:z.end_date,onChange:I=>q({...z,end_date:I.target.value}),className:"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent dark:bg-gray-700 dark:text-white",required:!0})]})]}),a.jsxs("div",{className:"flex items-center",children:[a.jsx("input",{type:"checkbox",id:"include_charts",checked:z.include_charts,onChange:I=>q({...z,include_charts:I.target.checked}),className:"h-4 w-4 text-blue-600 focus:ring-blue-500 border-gray-300 rounded"}),a.jsx("label",{htmlFor:"include_charts",className:"ml-2 block text-sm text-gray-700 dark:text-gray-300",children:"Include charts and visualizations"})]}),a.jsxs("div",{className:"flex justify-end space-x-3 pt-4",children:[a.jsx("button",{type:"button",onClick:()=>G(!1),className:"px-4 py-2 text-gray-700 dark:text-gray-300 bg-gray-200 dark:bg-gray-700 rounded-lg hover:bg-gray-300 dark:hover:bg-gray-600 transition-colors",children:"Cancel"}),a.jsx("button",{type:"submit",disabled:h,className:"px-4 py-2 bg-purple-600 text-white rounded-lg hover:bg-purple-700 transition-colors disabled:opacity-50",children:h?"Generating...":"Generate Report"})]})]})}),a.jsx($t,{open:Ce,onClose:()=>Te(!1),title:"Success",animationType:"scale",size:"sm",children:a.jsxs("div",{className:"text-center space-y-4",children:[a.jsx("div",{className:"mx-auto flex items-center justify-center h-16 w-16 rounded-full bg-green-100 dark:bg-green-900",children:a.jsx(Tt,{className:"h-8 w-8 text-green-600 dark:text-green-400"})}),a.jsx("p",{className:"text-lg text-gray-900 dark:text-white",children:ot}),a.jsx("button",{onClick:()=>Te(!1),className:"w-full px-4 py-2 bg-green-600 text-white rounded-lg hover:bg-green-700 transition-colors duration-200",children:"OK"})]})})]})},AAe=()=>{const[e,t]=v.useState("tickets"),[r,n]=v.useState([]),[s,i]=v.useState([]),[l,c]=v.useState([]),[d,f]=v.useState(null),[h,g]=v.useState(!1),[p,y]=v.useState(null),[b,w]=v.useState(null),[j,S]=v.useState(!1),[k,E]=v.useState(""),[C,T]=v.useState(""),[A,O]=v.useState(""),[D,R]=v.useState(""),[B,V]=v.useState(!1),[W,se]=v.useState(!1),[oe,Y]=v.useState(!1),[Q,te]=v.useState(!1),[ue,ve]=v.useState(!1),[U,ie]=v.useState(null),[F,G]=v.useState(null),[z,q]=v.useState(!1),[de,De]=v.useState(!1),[ne,le]=v.useState(!1),[he,Le]=v.useState(!1),[pe,xe]=v.useState(!1),[$e,pt]=v.useState([]),[Xe,Ue]=v.useState({assigned_to_id:"",reason:"",type:"manual"}),[At,Xt]=v.useState({reason:"",escalated_to_id:""}),[bt,Wt]=v.useState({resolution:"",resolution_notes:"",closure_reason:"resolved",closure_category:"technical_fix",follow_up_required:!1,follow_up_date:"",customer_satisfied:null,internal_notes:""}),[Rr,Gr]=v.useState({final_notes:"",customer_satisfied:null}),[yr,Dn]=v.useState({cancellation_reason:"customer_cancelled",cancellation_notes:""}),[Pn,vt]=v.useState(!1),[fr,dt]=v.useState(""),[Yn,wa]=v.useState(!1),[gt,Tr]=v.useState({title:"",description:"",priority:"medium",category:"general",subcategory:"",customer_name:"",customer_email:"",assigned_to_id:""}),[xt,_t]=v.useState({title:"",content:"",summary:"",category:"general",subcategory:"",tags:[],status:"draft",visibility:"public",featured:!1,meta_description:""}),[ge,st]=v.useState({content:"",is_internal:!1});v.useEffect(()=>{Ct(),la(),Xn(),Pt()},[]);const Pt=async()=>{try{const M=await Ee("/api/support/agents");M&&!M.error&&pt(M)}catch(M){console.error("Error fetching agents:",M)}},re=async()=>{if(U)try{const M=await Ee(`/api/support/tickets/${U.id}/assign`,{method:"PATCH",body:JSON.stringify(Xe)});M&&!M.error?(q(!1),Ue({assigned_to_id:"",reason:"",type:"manual"}),Ct(),S(!0),w("Ticket assigned successfully")):(vt(!0),dt(M?.error||"Failed to assign ticket"))}catch{vt(!0),dt("Failed to assign ticket")}},Ce=async M=>{try{const ce=await Ee(`/api/support/tickets/${M}/auto-assign`,{method:"POST"});ce&&!ce.error?(Ct(),S(!0),w("Ticket auto-assigned successfully")):(vt(!0),dt(ce?.error||"Failed to auto-assign ticket"))}catch{vt(!0),dt("Failed to auto-assign ticket")}},Te=async()=>{if(U)try{const M=await Ee(`/api/support/tickets/${U.id}/escalate`,{method:"POST",body:JSON.stringify(At)});M&&!M.error?(De(!1),Xt({reason:"",escalated_to_id:""}),Ct(),S(!0),w("Ticket escalated successfully")):(vt(!0),dt(M?.error||"Failed to escalate ticket"))}catch{vt(!0),dt("Failed to escalate ticket")}},ot=async()=>{if(U)try{const M=await Ee(`/api/support/tickets/${U.id}/resolve`,{method:"PATCH",body:JSON.stringify(bt)});M&&!M.error?(le(!1),Wt({resolution:"",resolution_notes:"",closure_reason:"resolved",closure_category:"technical_fix",follow_up_required:!1,follow_up_date:"",customer_satisfied:null,internal_notes:""}),Ct(),S(!0),w("Ticket resolved successfully")):(vt(!0),dt(M?.error||"Failed to resolve ticket"))}catch{vt(!0),dt("Failed to resolve ticket")}},ft=async()=>{if(U)try{const M=await Ee(`/api/support/tickets/${U.id}/close`,{method:"PATCH",body:JSON.stringify(Rr)});M&&!M.error?(Le(!1),Gr({final_notes:"",customer_satisfied:null}),Ct(),S(!0),w("Ticket closed successfully")):(vt(!0),dt(M?.error||"Failed to close ticket"))}catch{vt(!0),dt("Failed to close ticket")}},Kr=async()=>{if(U)try{const M=await Ee(`/api/support/tickets/${U.id}/cancel`,{method:"PATCH",body:JSON.stringify(yr)});M&&!M.error?(xe(!1),Dn({cancellation_reason:"customer_cancelled",cancellation_notes:""}),Ct(),S(!0),w("Ticket cancelled successfully")):(vt(!0),dt(M?.error||"Failed to cancel ticket"))}catch{vt(!0),dt("Failed to cancel ticket")}};v.useEffect(()=>{Ll()},[r,k,C,A,D]);const Ct=async()=>{try{g(!0);const M=await Ee("/api/support/tickets");Array.isArray(M)&&n(M)}catch(M){console.error("Error fetching tickets:",M),y("Failed to fetch support tickets")}finally{g(!1)}},la=async()=>{try{const M=await Ee("/api/support/knowledge-base"),ce=Array.isArray(M)?M:M?.value||[];Array.isArray(ce)&&c(ce)}catch(M){console.error("Error fetching knowledge articles:",M)}},Xn=async()=>{try{const M=await Ee("/api/support/analytics/dashboard");M&&!M.error?f(M):(console.warn("Analytics data not available:",M?.error),f(null))}catch(M){console.error("Error fetching analytics:",M),f(null)}},Ll=()=>{let M=r;k&&(M=M.filter(ce=>ce.status===k)),C&&(M=M.filter(ce=>ce.priority===C)),A&&(M=M.filter(ce=>ce.category===A)),D&&(M=M.filter(ce=>ce.title.toLowerCase().includes(D.toLowerCase())||ce.ticket_number.toLowerCase().includes(D.toLowerCase())||ce.customer_name.toLowerCase().includes(D.toLowerCase()))),i(M)},vi=async()=>{try{g(!0);const M=await Ee("/api/support/tickets",{method:"POST",body:JSON.stringify(gt)});y(null),w("Support ticket created successfully!"),S(!0),V(!1),Tr({title:"",description:"",priority:"medium",category:"general",subcategory:"",customer_name:"",customer_email:"",assigned_to_id:""}),Ct()}catch(M){console.error("Error creating ticket:",M),y("Failed to create support ticket")}finally{g(!1)}},ja=async()=>{try{g(!0);const M=await Ee("/api/support/knowledge-base",{method:"POST",body:JSON.stringify(xt)});M&&!M.error?(y(null),w("Knowledge base article created successfully!"),S(!0),Y(!1),_t({title:"",content:"",summary:"",category:"general",subcategory:"",tags:[],status:"draft",visibility:"public",featured:!1,meta_description:""}),la()):y(M?.error||"Failed to create knowledge base article")}catch(M){console.error("Error creating article:",M),y("Failed to create knowledge base article")}finally{g(!1)}},hr=async()=>{if(F)try{g(!0);const M=await Ee(`/api/support/knowledge-base/${F.id}`,{method:"PUT",body:JSON.stringify(xt)});M&&!M.error?(y(null),w("Knowledge base article updated successfully!"),S(!0),te(!1),G(null),_t({title:"",content:"",summary:"",category:"general",subcategory:"",tags:[],status:"draft",visibility:"public",featured:!1,meta_description:""}),la()):y(M?.error||"Failed to update knowledge base article")}catch(M){console.error("Error updating article:",M),y("Failed to update knowledge base article")}finally{g(!1)}},Gt=async()=>{if(F)try{g(!0);const M=await Ee(`/api/support/knowledge-base/${F.id}`,{method:"DELETE"});M&&!M.error?(y(null),w("Knowledge base article deleted successfully!"),S(!0),ve(!1),G(null),la()):y(M?.error||"Failed to delete knowledge base article")}catch(M){console.error("Error deleting article:",M),y("Failed to delete knowledge base article")}finally{g(!1)}},Na=M=>{G(M),_t({title:M.title,content:M.content||"",summary:M.summary||"",category:M.category,subcategory:M.subcategory||"",tags:Array.isArray(M.tags)?M.tags:[],status:M.status,visibility:M.visibility,featured:M.featured,meta_description:M.meta_description||""}),te(!0)},yt=M=>{G(M),ve(!0)},vr=async M=>{try{g(!0);const ce=await Ee(`/api/support/tickets/${M}/comments`,{method:"POST",body:JSON.stringify(ge)});y(null),w("Comment added successfully!"),S(!0),st({content:"",is_internal:!1}),Ct()}catch(ce){console.error("Error adding comment:",ce),y("Failed to add comment")}finally{g(!1)}},L=async M=>{try{wa(!0);const ce=await Ee(`/api/support/tickets/${M}/summarize`,{method:"POST"});ce&&!ce.error?(y(null),w("AI summary generated successfully!"),S(!0),U&&U.id===M&&ie({...U,ai_summary:ce.summary||"",ai_summary_generated_at:new Date().toISOString(),ai_summary_model:"gpt-4o-mini"}),Ct()):(vt(!0),dt(ce?.error||"Failed to generate AI summary"))}catch(ce){console.error("Error generating AI summary:",ce),vt(!0),dt("Failed to generate AI summary")}finally{wa(!1)}},Z=M=>{switch(M){case"critical":return"text-red-600 bg-red-100 dark:text-red-400 dark:bg-red-900";case"urgent":return"text-orange-600 bg-orange-100 dark:text-orange-400 dark:bg-orange-900";case"high":return"text-yellow-600 bg-yellow-100 dark:text-yellow-400 dark:bg-yellow-900";case"medium":return"text-blue-600 bg-blue-100 dark:text-blue-400 dark:bg-blue-900";case"low":return"text-green-600 bg-green-100 dark:text-green-400 dark:bg-green-900";default:return"text-gray-600 bg-gray-100 dark:text-gray-400 dark:bg-gray-900"}},K=M=>{switch(M){case"open":return"text-blue-600 bg-blue-100 dark:text-blue-400 dark:bg-blue-900";case"in_progress":return"text-yellow-600 bg-yellow-100 dark:text-yellow-400 dark:bg-yellow-900";case"pending_customer":return"text-orange-600 bg-orange-100 dark:text-orange-400 dark:bg-orange-900";case"resolved":return"text-green-600 bg-green-100 dark:text-green-400 dark:bg-green-900";case"closed":return"text-gray-600 bg-gray-100 dark:text-gray-400 dark:bg-gray-900";case"cancelled":return"text-red-600 bg-red-100 dark:text-red-400 dark:bg-red-900";default:return"text-gray-600 bg-gray-100 dark:text-gray-400 dark:bg-gray-900"}},X=M=>new Date(M).toLocaleDateString("en-US",{year:"numeric",month:"short",day:"numeric",hour:"2-digit",minute:"2-digit"}),J=()=>a.jsxs("div",{className:"space-y-6",children:[a.jsxs("div",{className:"flex justify-between items-center",children:[a.jsxs("div",{children:[a.jsx("h2",{className:"text-2xl font-bold text-gray-900 dark:text-white",children:"Support Tickets"}),a.jsx("p",{className:"text-gray-600 dark:text-gray-400",children:"Manage customer support requests"})]}),a.jsxs("button",{"data-testid":"cs-create-ticket",onClick:()=>V(!0),className:"flex items-center space-x-2 bg-blue-600 hover:bg-blue-700 text-white px-4 py-2 rounded-lg transition-colors",children:[a.jsx(_r,{className:"w-5 h-5"}),a.jsx("span",{children:"Create Ticket"})]})]}),a.jsx("div",{className:"bg-white dark:bg-gray-800 p-6 rounded-lg shadow-sm border border-gray-200 dark:border-gray-700",children:a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4",children:[a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Search"}),a.jsxs("div",{className:"relative",children:[a.jsx(Fi,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400 w-4 h-4"}),a.jsx("input",{type:"text",placeholder:"Search tickets...",value:D,onChange:M=>R(M.target.value),className:"w-full pl-10 pr-4 py-2 border border-gray-300 dark:border-gray-600 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent dark:bg-gray-700 dark:text-white"})]})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Status"}),a.jsxs("select",{value:k,onChange:M=>E(M.target.value),className:"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent dark:bg-gray-700 dark:text-white",children:[a.jsx("option",{value:"",children:"All Statuses"}),a.jsx("option",{value:"open",children:"Open"}),a.jsx("option",{value:"in_progress",children:"In Progress"}),a.jsx("option",{value:"pending_customer",children:"Pending Customer"}),a.jsx("option",{value:"resolved",children:"Resolved"}),a.jsx("option",{value:"closed",children:"Closed"}),a.jsx("option",{value:"cancelled",children:"Cancelled"})]})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Priority"}),a.jsxs("select",{value:C,onChange:M=>T(M.target.value),className:"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent dark:bg-gray-700 dark:text-white",children:[a.jsx("option",{value:"",children:"All Priorities"}),a.jsx("option",{value:"low",children:"Low"}),a.jsx("option",{value:"medium",children:"Medium"}),a.jsx("option",{value:"high",children:"High"}),a.jsx("option",{value:"urgent",children:"Urgent"}),a.jsx("option",{value:"critical",children:"Critical"})]})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Category"}),a.jsxs("select",{value:A,onChange:M=>O(M.target.value),className:"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent dark:bg-gray-700 dark:text-white",children:[a.jsx("option",{value:"",children:"All Categories"}),a.jsx("option",{value:"technical",children:"Technical"}),a.jsx("option",{value:"billing",children:"Billing"}),a.jsx("option",{value:"feature_request",children:"Feature Request"}),a.jsx("option",{value:"bug_report",children:"Bug Report"}),a.jsx("option",{value:"general",children:"General"})]})]})]})}),a.jsx("div",{className:"bg-white dark:bg-gray-800 rounded-lg shadow-sm border border-gray-200 dark:border-gray-700","data-testid":"cs-ticket-list",children:h?a.jsxs("div",{className:"p-8 text-center",children:[a.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-blue-600 mx-auto"}),a.jsx("p",{className:"mt-2 text-gray-600 dark:text-gray-400",children:"Loading tickets..."})]}):s.length===0?a.jsxs("div",{className:"p-8 text-center",children:[a.jsx(H0,{className:"w-12 h-12 text-gray-400 mx-auto mb-4"}),a.jsx("h3",{className:"text-lg font-medium text-gray-900 dark:text-white mb-2",children:"No tickets found"}),a.jsx("p",{className:"text-gray-600 dark:text-gray-400",children:"Create your first support ticket to get started."})]}):a.jsx("div",{className:"overflow-x-auto",children:a.jsxs("table",{className:"w-full",children:[a.jsx("thead",{className:"bg-gray-50 dark:bg-gray-700",children:a.jsxs("tr",{children:[a.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-300 uppercase tracking-wider",children:"Ticket"}),a.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-300 uppercase tracking-wider",children:"Customer"}),a.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-300 uppercase tracking-wider",children:"Priority"}),a.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-300 uppercase tracking-wider",children:"Status"}),a.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-300 uppercase tracking-wider",children:"Assigned To"}),a.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-300 uppercase tracking-wider",children:"Created"}),a.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-300 uppercase tracking-wider",children:"Actions"})]})}),a.jsx("tbody",{className:"bg-white dark:bg-gray-800 divide-y divide-gray-200 dark:divide-gray-700",children:s.map(M=>a.jsxs("tr",{className:"hover:bg-gray-50 dark:hover:bg-gray-700",children:[a.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:a.jsxs("div",{children:[a.jsx("div",{className:"text-sm font-medium text-gray-900 dark:text-white",children:M.ticket_number}),a.jsx("div",{className:"text-sm text-gray-600 dark:text-gray-400 truncate max-w-xs",children:M.title})]})}),a.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:a.jsxs("div",{children:[a.jsx("div",{className:"text-sm font-medium text-gray-900 dark:text-white",children:M.customer_name}),a.jsx("div",{className:"text-sm text-gray-600 dark:text-gray-400",children:M.customer_email})]})}),a.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:a.jsx("span",{className:`inline-flex px-2 py-1 text-xs font-semibold rounded-full ${Z(M.priority)}`,children:M.priority})}),a.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:a.jsx("span",{className:`inline-flex px-2 py-1 text-xs font-semibold rounded-full ${K(M.status)}`,children:M.status.replace("_"," ")})}),a.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-900 dark:text-white",children:M.assigned_to_name||"Unassigned"}),a.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-600 dark:text-gray-400",children:X(M.created_at)}),a.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm font-medium",children:a.jsxs("div",{className:"flex space-x-2",children:[a.jsx("button",{onClick:()=>{ie(M),se(!0)},className:"text-blue-600 hover:text-blue-900 dark:text-blue-400 dark:hover:text-blue-300",children:"View"}),!M.assigned_to_id&&a.jsx("button",{onClick:()=>{ie(M),q(!0)},className:"text-green-600 hover:text-green-900 dark:text-green-400 dark:hover:text-green-300",children:"Assign"}),a.jsx("button",{onClick:()=>Ce(M.id),className:"text-purple-600 hover:text-purple-900 dark:text-purple-400 dark:hover:text-purple-300",children:"Auto"}),a.jsx("button",{onClick:()=>{ie(M),De(!0)},className:"text-orange-600 hover:text-orange-900 dark:text-orange-400 dark:hover:text-orange-300",children:"Escalate"}),M.status==="open"||M.status==="in_progress"||M.status==="pending_customer"?a.jsx("button",{onClick:()=>{ie(M),le(!0)},className:"text-blue-600 hover:text-blue-900 dark:text-blue-400 dark:hover:text-blue-300",children:"Resolve"}):null,M.status==="resolved"?a.jsx("button",{onClick:()=>{ie(M),Le(!0)},className:"text-green-600 hover:text-green-900 dark:text-green-400 dark:hover:text-green-300",children:"Close"}):null,M.status==="open"||M.status==="in_progress"||M.status==="pending_customer"?a.jsx("button",{onClick:()=>{ie(M),xe(!0)},className:"text-red-600 hover:text-red-900 dark:text-red-400 dark:hover:text-red-300",children:"Cancel"}):null]})})]},M.id))})]})})})]}),ee=()=>a.jsxs("div",{className:"space-y-6",children:[a.jsxs("div",{className:"flex justify-between items-center",children:[a.jsxs("div",{children:[a.jsx("h2",{className:"text-2xl font-bold text-gray-900 dark:text-white",children:"Knowledge Base"}),a.jsx("p",{className:"text-gray-600 dark:text-gray-400",children:"Manage help articles and documentation"})]}),a.jsxs("button",{onClick:()=>Y(!0),className:"flex items-center space-x-2 bg-blue-600 hover:bg-blue-700 text-white px-4 py-2 rounded-lg transition-colors",children:[a.jsx(_r,{className:"w-5 h-5"}),a.jsx("span",{children:"Create Article"})]})]}),a.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:l.map(M=>a.jsxs("div",{className:"bg-white dark:bg-gray-800 p-6 rounded-lg shadow-sm border border-gray-200 dark:border-gray-700 hover:shadow-md transition-shadow",children:[a.jsxs("div",{className:"flex items-start justify-between mb-4",children:[a.jsxs("div",{className:"flex-1",children:[a.jsx("h3",{className:"text-lg font-semibold text-gray-900 dark:text-white mb-2",children:M.title}),a.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-400 mb-3",children:M.summary})]}),M.featured&&a.jsx(X2,{className:"w-5 h-5 text-yellow-500 flex-shrink-0 ml-2"})]}),a.jsxs("div",{className:"flex items-center justify-between text-sm text-gray-500 dark:text-gray-400 mb-4",children:[a.jsx("span",{className:"bg-gray-100 dark:bg-gray-700 px-2 py-1 rounded",children:M.category}),a.jsxs("div",{className:"flex items-center space-x-4",children:[a.jsxs("span",{className:"flex items-center",children:[a.jsx(gn,{className:"w-4 h-4 mr-1"}),M.view_count]}),a.jsxs("span",{className:"flex items-center",children:[a.jsx(hK,{className:"w-4 h-4 mr-1"}),M.helpful_count]})]})]}),a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsx("span",{className:`text-xs px-2 py-1 rounded-full ${M.status==="published"?"bg-green-100 text-green-800 dark:bg-green-900 dark:text-green-200":"bg-yellow-100 text-yellow-800 dark:bg-yellow-900 dark:text-yellow-200"}`,children:M.status}),a.jsxs("div",{className:"flex space-x-2",children:[a.jsx("button",{onClick:()=>Na(M),className:"text-blue-600 hover:text-blue-800 dark:text-blue-400 dark:hover:text-blue-300",title:"Edit article",children:a.jsx(Jh,{className:"w-4 h-4"})}),a.jsx("button",{onClick:()=>yt(M),className:"text-red-600 hover:text-red-800 dark:text-red-400 dark:hover:text-red-300",title:"Delete article",children:a.jsx(mi,{className:"w-4 h-4"})})]})]})]},M.id))})]}),be=()=>a.jsxs("div",{className:"space-y-6",children:[a.jsxs("div",{children:[a.jsx("h2",{className:"text-2xl font-bold text-gray-900 dark:text-white",children:"Support Analytics"}),a.jsx("p",{className:"text-gray-600 dark:text-gray-400",children:"Track support performance and metrics"})]}),d?a.jsxs(a.Fragment,{children:[a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6",children:[a.jsx("div",{className:"bg-white dark:bg-gray-800 p-6 rounded-lg shadow-sm border border-gray-200 dark:border-gray-700",children:a.jsxs("div",{className:"flex items-center",children:[a.jsx("div",{className:"p-2 bg-blue-100 dark:bg-blue-900 rounded-lg",children:a.jsx(H0,{className:"w-6 h-6 text-blue-600 dark:text-blue-400"})}),a.jsxs("div",{className:"ml-4",children:[a.jsx("p",{className:"text-sm font-medium text-gray-600 dark:text-gray-400",children:"Total Tickets"}),a.jsx("p",{className:"text-2xl font-bold text-gray-900 dark:text-white",children:d?.ticket_metrics?.total_tickets||0})]})]})}),a.jsx("div",{className:"bg-white dark:bg-gray-800 p-6 rounded-lg shadow-sm border border-gray-200 dark:border-gray-700",children:a.jsxs("div",{className:"flex items-center",children:[a.jsx("div",{className:"p-2 bg-green-100 dark:bg-green-900 rounded-lg",children:a.jsx(Tt,{className:"w-6 h-6 text-green-600 dark:text-green-400"})}),a.jsxs("div",{className:"ml-4",children:[a.jsx("p",{className:"text-sm font-medium text-gray-600 dark:text-gray-400",children:"Resolution Rate"}),a.jsxs("p",{className:"text-2xl font-bold text-gray-900 dark:text-white",children:[d?.ticket_metrics?.resolution_rate?.toFixed(1)||"0.0","%"]})]})]})}),a.jsx("div",{className:"bg-white dark:bg-gray-800 p-6 rounded-lg shadow-sm border border-gray-200 dark:border-gray-700",children:a.jsxs("div",{className:"flex items-center",children:[a.jsx("div",{className:"p-2 bg-yellow-100 dark:bg-yellow-900 rounded-lg",children:a.jsx(La,{className:"w-6 h-6 text-yellow-600 dark:text-yellow-400"})}),a.jsxs("div",{className:"ml-4",children:[a.jsx("p",{className:"text-sm font-medium text-gray-600 dark:text-gray-400",children:"Avg Response Time"}),a.jsxs("p",{className:"text-2xl font-bold text-gray-900 dark:text-white",children:[d?.response_metrics?.avg_first_response_time?.toFixed(1)||"0.0","h"]})]})]})}),a.jsx("div",{className:"bg-white dark:bg-gray-800 p-6 rounded-lg shadow-sm border border-gray-200 dark:border-gray-700",children:a.jsxs("div",{className:"flex items-center",children:[a.jsx("div",{className:"p-2 bg-purple-100 dark:bg-purple-900 rounded-lg",children:a.jsx(X2,{className:"w-6 h-6 text-purple-600 dark:text-purple-400"})}),a.jsxs("div",{className:"ml-4",children:[a.jsx("p",{className:"text-sm font-medium text-gray-600 dark:text-gray-400",children:"Satisfaction"}),a.jsxs("p",{className:"text-2xl font-bold text-gray-900 dark:text-white",children:[d?.satisfaction_metrics?.avg_satisfaction_rating?.toFixed(1)||"0.0","/5"]})]})]})})]}),a.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[a.jsxs("div",{className:"bg-white dark:bg-gray-800 p-6 rounded-lg shadow-sm border border-gray-200 dark:border-gray-700",children:[a.jsx("h3",{className:"text-lg font-semibold text-gray-900 dark:text-white mb-4",children:"Tickets by Category"}),a.jsx("div",{className:"space-y-3",children:Object.entries(d?.breakdown?.tickets_by_category||{}).map(([M,ce])=>a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsx("span",{className:"text-sm text-gray-600 dark:text-gray-400 capitalize",children:M.replace("_"," ")}),a.jsx("span",{className:"text-sm font-medium text-gray-900 dark:text-white",children:ce})]},M))})]}),a.jsxs("div",{className:"bg-white dark:bg-gray-800 p-6 rounded-lg shadow-sm border border-gray-200 dark:border-gray-700",children:[a.jsx("h3",{className:"text-lg font-semibold text-gray-900 dark:text-white mb-4",children:"Tickets by Priority"}),a.jsx("div",{className:"space-y-3",children:Object.entries(d?.breakdown?.tickets_by_priority||{}).map(([M,ce])=>a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsx("span",{className:`text-sm px-2 py-1 rounded-full ${Z(M)}`,children:M}),a.jsx("span",{className:"text-sm font-medium text-gray-900 dark:text-white",children:ce})]},M))})]})]})]}):a.jsxs("div",{className:"text-center py-8",children:[a.jsx(ia,{className:"w-12 h-12 text-gray-400 mx-auto mb-4"}),a.jsx("p",{className:"text-gray-600 dark:text-gray-400",children:d===null?"Analytics data not available":"Loading analytics..."})]})]});return a.jsx("div",{className:"min-h-screen bg-gray-50 dark:bg-gray-900",children:a.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8",children:[a.jsxs("div",{className:"mb-8",children:[a.jsx("h1",{className:"text-3xl font-bold text-gray-900 dark:text-white",children:"Customer Support"}),a.jsx("p",{className:"text-gray-600 dark:text-gray-400 mt-2",children:"Manage tickets, knowledge base, and support analytics"})]}),a.jsx("div",{className:"mb-8",children:a.jsx("div",{className:"border-b border-gray-200 dark:border-gray-700",children:a.jsx("nav",{className:"-mb-px flex space-x-8",children:[{id:"tickets",label:"Tickets",icon:H0},{id:"knowledge",label:"Knowledge Base",icon:VN},{id:"analytics",label:"Analytics",icon:ia},{id:"surveys",label:"Surveys",icon:gh}].map(M=>a.jsxs("button",{onClick:()=>t(M.id),className:`flex items-center space-x-2 py-2 px-1 border-b-2 font-medium text-sm ${e===M.id?"border-blue-500 text-blue-600 dark:text-blue-400":"border-transparent text-gray-500 hover:text-gray-700 hover:border-gray-300 dark:text-gray-400 dark:hover:text-gray-300"}`,children:[a.jsx(M.icon,{className:"w-5 h-5"}),a.jsx("span",{children:M.label})]},M.id))})})}),p&&a.jsx("div",{className:"mb-6 bg-red-50 dark:bg-red-900/20 border border-red-200 dark:border-red-800 rounded-lg p-4",children:a.jsxs("div",{className:"flex",children:[a.jsx(Ap,{className:"w-5 h-5 text-red-400 mr-3 mt-0.5"}),a.jsxs("div",{children:[a.jsx("h3",{className:"text-sm font-medium text-red-800 dark:text-red-200",children:"Error"}),a.jsx("p",{className:"text-sm text-red-700 dark:text-red-300 mt-1",children:p})]})]})}),e==="tickets"&&J(),e==="knowledge"&&ee(),e==="analytics"&&be(),e==="surveys"&&a.jsxs("div",{className:"text-center py-8",children:[a.jsx(gh,{className:"w-12 h-12 text-gray-400 mx-auto mb-4"}),a.jsx("h3",{className:"text-lg font-medium text-gray-900 dark:text-white mb-2",children:"Surveys"}),a.jsx("p",{className:"text-gray-600 dark:text-gray-400",children:"Customer satisfaction surveys coming soon."})]}),a.jsx($t,{open:B,onClose:()=>V(!1),title:"Create Support Ticket",animationType:"scale",size:"lg",children:a.jsxs("div",{className:"space-y-4","data-testid":"cs-ticket-modal",children:[a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Title"}),a.jsx("input",{"data-testid":"cs-title",type:"text",value:gt.title,onChange:M=>Tr({...gt,title:M.target.value}),className:"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent dark:bg-gray-700 dark:text-white",placeholder:"Brief description of the issue"})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Description"}),a.jsx("textarea",{"data-testid":"cs-description",value:gt.description,onChange:M=>Tr({...gt,description:M.target.value}),rows:4,className:"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent dark:bg-gray-700 dark:text-white",placeholder:"Detailed description of the issue"})]}),a.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Priority"}),a.jsxs("select",{"data-testid":"cs-priority",value:gt.priority,onChange:M=>Tr({...gt,priority:M.target.value}),className:"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent dark:bg-gray-700 dark:text-white",children:[a.jsx("option",{value:"low",children:"Low"}),a.jsx("option",{value:"medium",children:"Medium"}),a.jsx("option",{value:"high",children:"High"}),a.jsx("option",{value:"urgent",children:"Urgent"}),a.jsx("option",{value:"critical",children:"Critical"})]})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Category"}),a.jsxs("select",{"data-testid":"cs-category",value:gt.category,onChange:M=>Tr({...gt,category:M.target.value}),className:"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent dark:bg-gray-700 dark:text-white",children:[a.jsx("option",{value:"technical",children:"Technical"}),a.jsx("option",{value:"billing",children:"Billing"}),a.jsx("option",{value:"feature_request",children:"Feature Request"}),a.jsx("option",{value:"bug_report",children:"Bug Report"}),a.jsx("option",{value:"general",children:"General"})]})]})]}),a.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Customer Name"}),a.jsx("input",{"data-testid":"cs-customer-name",type:"text",value:gt.customer_name,onChange:M=>Tr({...gt,customer_name:M.target.value}),className:"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent dark:bg-gray-700 dark:text-white",placeholder:"Customer name"})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Customer Email"}),a.jsx("input",{"data-testid":"cs-customer-email",type:"email",value:gt.customer_email,onChange:M=>Tr({...gt,customer_email:M.target.value}),className:"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent dark:bg-gray-700 dark:text-white",placeholder:"customer@example.com"})]})]}),a.jsxs("div",{className:"flex justify-end space-x-3 pt-4",children:[a.jsx("button",{onClick:()=>V(!1),className:"px-4 py-2 text-gray-700 dark:text-gray-300 bg-gray-100 dark:bg-gray-700 hover:bg-gray-200 dark:hover:bg-gray-600 rounded-lg transition-colors",children:"Cancel"}),a.jsx("button",{onClick:vi,disabled:h||!gt.title||!gt.description||!gt.customer_name||!gt.customer_email,className:"px-4 py-2 bg-blue-600 hover:bg-blue-700 disabled:bg-gray-400 text-white rounded-lg transition-colors",children:h?"Creating...":"Create Ticket"})]})]})}),a.jsx($t,{open:oe,onClose:()=>Y(!1),title:"Create Knowledge Base Article",animationType:"scale",size:"lg",children:a.jsxs("div",{className:"space-y-4",children:[a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Title"}),a.jsx("input",{type:"text",value:xt.title,onChange:M=>_t({...xt,title:M.target.value}),className:"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent dark:bg-gray-700 dark:text-white",placeholder:"Article title"})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Summary"}),a.jsx("textarea",{value:xt.summary,onChange:M=>_t({...xt,summary:M.target.value}),rows:2,className:"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent dark:bg-gray-700 dark:text-white",placeholder:"Brief summary of the article"})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Content"}),a.jsx("textarea",{value:xt.content,onChange:M=>_t({...xt,content:M.target.value}),rows:6,className:"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent dark:bg-gray-700 dark:text-white",placeholder:"Article content (markdown supported)"})]}),a.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Category"}),a.jsxs("select",{value:xt.category,onChange:M=>_t({...xt,category:M.target.value}),className:"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent dark:bg-gray-700 dark:text-white",children:[a.jsx("option",{value:"getting_started",children:"Getting Started"}),a.jsx("option",{value:"troubleshooting",children:"Troubleshooting"}),a.jsx("option",{value:"billing",children:"Billing"}),a.jsx("option",{value:"features",children:"Features"}),a.jsx("option",{value:"general",children:"General"})]})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Status"}),a.jsxs("select",{value:xt.status,onChange:M=>_t({...xt,status:M.target.value}),className:"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent dark:bg-gray-700 dark:text-white",children:[a.jsx("option",{value:"draft",children:"Draft"}),a.jsx("option",{value:"published",children:"Published"}),a.jsx("option",{value:"archived",children:"Archived"})]})]})]}),a.jsxs("div",{className:"flex items-center",children:[a.jsx("input",{type:"checkbox",id:"featured",checked:xt.featured,onChange:M=>_t({...xt,featured:M.target.checked}),className:"h-4 w-4 text-blue-600 focus:ring-blue-500 border-gray-300 rounded"}),a.jsx("label",{htmlFor:"featured",className:"ml-2 block text-sm text-gray-700 dark:text-gray-300",children:"Featured article"})]}),a.jsxs("div",{className:"flex justify-end space-x-3 pt-4",children:[a.jsx("button",{onClick:()=>Y(!1),className:"px-4 py-2 text-gray-700 dark:text-gray-300 bg-gray-100 dark:bg-gray-700 hover:bg-gray-200 dark:hover:bg-gray-600 rounded-lg transition-colors",children:"Cancel"}),a.jsx("button",{onClick:ja,disabled:h||!xt.title||!xt.content,className:"px-4 py-2 bg-blue-600 hover:bg-blue-700 disabled:bg-gray-400 text-white rounded-lg transition-colors",children:h?"Creating...":"Create Article"})]})]})}),a.jsx($t,{open:z,onClose:()=>q(!1),title:"Assign Ticket",animationType:"scale",size:"md",children:a.jsxs("div",{className:"space-y-4",children:[a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Assign to Agent"}),a.jsxs("select",{value:Xe.assigned_to_id,onChange:M=>Ue({...Xe,assigned_to_id:M.target.value}),className:"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent dark:bg-gray-700 dark:text-white",children:[a.jsx("option",{value:"",children:"Select an agent"}),$e.map(M=>a.jsxs("option",{value:M.id,children:[M.name," (",M.role,") - ",M.workload," tickets",M.skills.length>0&&` - Skills: ${M.skills.map(ce=>ce.name).join(", ")}`]},M.id))]})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Assignment Reason"}),a.jsx("textarea",{value:Xe.reason,onChange:M=>Ue({...Xe,reason:M.target.value}),rows:3,className:"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent dark:bg-gray-700 dark:text-white",placeholder:"Why is this ticket being assigned to this agent?"})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Assignment Type"}),a.jsxs("select",{value:Xe.type,onChange:M=>Ue({...Xe,type:M.target.value}),className:"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent dark:bg-gray-700 dark:text-white",children:[a.jsx("option",{value:"manual",children:"Manual Assignment"}),a.jsx("option",{value:"skills_based",children:"Skills-Based"}),a.jsx("option",{value:"escalation",children:"Escalation"})]})]}),a.jsxs("div",{className:"flex justify-end space-x-3",children:[a.jsx("button",{onClick:()=>q(!1),className:"px-4 py-2 text-gray-600 dark:text-gray-400 hover:text-gray-800 dark:hover:text-gray-200",children:"Cancel"}),a.jsx("button",{onClick:re,disabled:!Xe.assigned_to_id||h,className:"px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 disabled:opacity-50 disabled:cursor-not-allowed",children:h?"Assigning...":"Assign Ticket"})]})]})}),a.jsx($t,{open:de,onClose:()=>De(!1),title:"Escalate Ticket",animationType:"scale",size:"md",children:a.jsxs("div",{className:"space-y-4",children:[a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Escalation Reason *"}),a.jsx("textarea",{value:At.reason,onChange:M=>Xt({...At,reason:M.target.value}),rows:3,className:"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent dark:bg-gray-700 dark:text-white",placeholder:"Why is this ticket being escalated?",required:!0})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Escalate to Agent (Optional)"}),a.jsxs("select",{value:At.escalated_to_id,onChange:M=>Xt({...At,escalated_to_id:M.target.value}),className:"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent dark:bg-gray-700 dark:text-white",children:[a.jsx("option",{value:"",children:"Auto-assign to senior agent"}),$e.filter(M=>M.role==="manager"||M.role==="admin").map(M=>a.jsxs("option",{value:M.id,children:[M.name," (",M.role,") - ",M.workload," tickets"]},M.id))]})]}),a.jsxs("div",{className:"flex justify-end space-x-3",children:[a.jsx("button",{onClick:()=>De(!1),className:"px-4 py-2 text-gray-600 dark:text-gray-400 hover:text-gray-800 dark:hover:text-gray-200",children:"Cancel"}),a.jsx("button",{onClick:Te,disabled:!At.reason||h,className:"px-4 py-2 bg-orange-600 text-white rounded-lg hover:bg-orange-700 disabled:opacity-50 disabled:cursor-not-allowed",children:h?"Escalating...":"Escalate Ticket"})]})]})}),a.jsx($t,{open:j,onClose:()=>S(!1),title:"Success!",animationType:"scale",size:"sm",children:a.jsxs("div",{className:"text-center",children:[a.jsx(Tt,{className:"w-12 h-12 text-green-500 mx-auto mb-4"}),a.jsx("p",{className:"text-gray-600 dark:text-gray-400",children:b})]})}),a.jsx($t,{open:ne,onClose:()=>le(!1),title:"Resolve Ticket",animationType:"scale",size:"lg",children:a.jsxs("div",{className:"space-y-4",children:[a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Resolution *"}),a.jsx("textarea",{value:bt.resolution,onChange:M=>Wt({...bt,resolution:M.target.value}),rows:4,className:"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent dark:bg-gray-700 dark:text-white",placeholder:"Describe how the issue was resolved...",required:!0})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Resolution Notes"}),a.jsx("textarea",{value:bt.resolution_notes,onChange:M=>Wt({...bt,resolution_notes:M.target.value}),rows:3,className:"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent dark:bg-gray-700 dark:text-white",placeholder:"Additional notes about the resolution..."})]}),a.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Closure Reason"}),a.jsxs("select",{value:bt.closure_reason,onChange:M=>Wt({...bt,closure_reason:M.target.value}),className:"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent dark:bg-gray-700 dark:text-white",children:[a.jsx("option",{value:"resolved",children:"Resolved"}),a.jsx("option",{value:"workaround_provided",children:"Workaround Provided"}),a.jsx("option",{value:"user_education",children:"User Education"}),a.jsx("option",{value:"configuration_fix",children:"Configuration Fix"})]})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Closure Category"}),a.jsxs("select",{value:bt.closure_category,onChange:M=>Wt({...bt,closure_category:M.target.value}),className:"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent dark:bg-gray-700 dark:text-white",children:[a.jsx("option",{value:"technical_fix",children:"Technical Fix"}),a.jsx("option",{value:"bug_fix",children:"Bug Fix"}),a.jsx("option",{value:"configuration_change",children:"Configuration Change"}),a.jsx("option",{value:"user_education",children:"User Education"}),a.jsx("option",{value:"information_provided",children:"Information Provided"})]})]})]}),a.jsxs("div",{className:"flex items-center",children:[a.jsx("input",{type:"checkbox",id:"follow_up_required",checked:bt.follow_up_required,onChange:M=>Wt({...bt,follow_up_required:M.target.checked}),className:"h-4 w-4 text-blue-600 focus:ring-blue-500 border-gray-300 rounded"}),a.jsx("label",{htmlFor:"follow_up_required",className:"ml-2 block text-sm text-gray-700 dark:text-gray-300",children:"Follow-up required"})]}),bt.follow_up_required&&a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Follow-up Date"}),a.jsx("input",{type:"date",value:bt.follow_up_date,onChange:M=>Wt({...bt,follow_up_date:M.target.value}),className:"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent dark:bg-gray-700 dark:text-white"})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Customer Satisfaction"}),a.jsxs("div",{className:"flex space-x-4",children:[a.jsxs("label",{className:"flex items-center",children:[a.jsx("input",{type:"radio",name:"customer_satisfied",value:"true",checked:bt.customer_satisfied===!0,onChange:()=>Wt({...bt,customer_satisfied:!0}),className:"h-4 w-4 text-green-600 focus:ring-green-500 border-gray-300"}),a.jsx("span",{className:"ml-2 text-sm text-gray-700 dark:text-gray-300",children:"Satisfied"})]}),a.jsxs("label",{className:"flex items-center",children:[a.jsx("input",{type:"radio",name:"customer_satisfied",value:"false",checked:bt.customer_satisfied===!1,onChange:()=>Wt({...bt,customer_satisfied:!1}),className:"h-4 w-4 text-red-600 focus:ring-red-500 border-gray-300"}),a.jsx("span",{className:"ml-2 text-sm text-gray-700 dark:text-gray-300",children:"Not Satisfied"})]}),a.jsxs("label",{className:"flex items-center",children:[a.jsx("input",{type:"radio",name:"customer_satisfied",value:"null",checked:bt.customer_satisfied===null,onChange:()=>Wt({...bt,customer_satisfied:null}),className:"h-4 w-4 text-gray-600 focus:ring-gray-500 border-gray-300"}),a.jsx("span",{className:"ml-2 text-sm text-gray-700 dark:text-gray-300",children:"Unknown"})]})]})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Internal Notes"}),a.jsx("textarea",{value:bt.internal_notes,onChange:M=>Wt({...bt,internal_notes:M.target.value}),rows:2,className:"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent dark:bg-gray-700 dark:text-white",placeholder:"Internal notes (not visible to customer)..."})]}),a.jsxs("div",{className:"flex justify-end space-x-3",children:[a.jsx("button",{onClick:()=>le(!1),className:"px-4 py-2 text-gray-600 dark:text-gray-400 hover:text-gray-800 dark:hover:text-gray-200",children:"Cancel"}),a.jsx("button",{onClick:ot,disabled:!bt.resolution||h,className:"px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 disabled:opacity-50 disabled:cursor-not-allowed",children:h?"Resolving...":"Resolve Ticket"})]})]})}),a.jsx($t,{open:he,onClose:()=>Le(!1),title:"Close Ticket",animationType:"scale",size:"md",children:a.jsxs("div",{className:"space-y-4",children:[a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Final Notes"}),a.jsx("textarea",{value:Rr.final_notes,onChange:M=>Gr({...Rr,final_notes:M.target.value}),rows:3,className:"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent dark:bg-gray-700 dark:text-white",placeholder:"Any final notes before closing..."})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Customer Satisfaction"}),a.jsxs("div",{className:"flex space-x-4",children:[a.jsxs("label",{className:"flex items-center",children:[a.jsx("input",{type:"radio",name:"close_customer_satisfied",value:"true",checked:Rr.customer_satisfied===!0,onChange:()=>Gr({...Rr,customer_satisfied:!0}),className:"h-4 w-4 text-green-600 focus:ring-green-500 border-gray-300"}),a.jsx("span",{className:"ml-2 text-sm text-gray-700 dark:text-gray-300",children:"Satisfied"})]}),a.jsxs("label",{className:"flex items-center",children:[a.jsx("input",{type:"radio",name:"close_customer_satisfied",value:"false",checked:Rr.customer_satisfied===!1,onChange:()=>Gr({...Rr,customer_satisfied:!1}),className:"h-4 w-4 text-red-600 focus:ring-red-500 border-gray-300"}),a.jsx("span",{className:"ml-2 text-sm text-gray-700 dark:text-gray-300",children:"Not Satisfied"})]}),a.jsxs("label",{className:"flex items-center",children:[a.jsx("input",{type:"radio",name:"close_customer_satisfied",value:"null",checked:Rr.customer_satisfied===null,onChange:()=>Gr({...Rr,customer_satisfied:null}),className:"h-4 w-4 text-gray-600 focus:ring-gray-500 border-gray-300"}),a.jsx("span",{className:"ml-2 text-sm text-gray-700 dark:text-gray-300",children:"Unknown"})]})]})]}),a.jsxs("div",{className:"flex justify-end space-x-3",children:[a.jsx("button",{onClick:()=>Le(!1),className:"px-4 py-2 text-gray-600 dark:text-gray-400 hover:text-gray-800 dark:hover:text-gray-200",children:"Cancel"}),a.jsx("button",{onClick:ft,disabled:h,className:"px-4 py-2 bg-green-600 text-white rounded-lg hover:bg-green-700 disabled:opacity-50 disabled:cursor-not-allowed",children:h?"Closing...":"Close Ticket"})]})]})}),a.jsx($t,{open:pe,onClose:()=>xe(!1),title:"Cancel Ticket",animationType:"scale",size:"md",children:a.jsxs("div",{className:"space-y-4",children:[a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Cancellation Reason *"}),a.jsxs("select",{value:yr.cancellation_reason,onChange:M=>Dn({...yr,cancellation_reason:M.target.value}),className:"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent dark:bg-gray-700 dark:text-white",required:!0,children:[a.jsx("option",{value:"customer_cancelled",children:"Customer Cancelled"}),a.jsx("option",{value:"duplicate",children:"Duplicate Ticket"}),a.jsx("option",{value:"not_reproducible",children:"Not Reproducible"}),a.jsx("option",{value:"invalid_request",children:"Invalid Request"}),a.jsx("option",{value:"spam",children:"Spam"})]})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Cancellation Notes"}),a.jsx("textarea",{value:yr.cancellation_notes,onChange:M=>Dn({...yr,cancellation_notes:M.target.value}),rows:3,className:"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent dark:bg-gray-700 dark:text-white",placeholder:"Explain why the ticket is being cancelled...",required:!0})]}),a.jsxs("div",{className:"flex justify-end space-x-3",children:[a.jsx("button",{onClick:()=>xe(!1),className:"px-4 py-2 text-gray-600 dark:text-gray-400 hover:text-gray-800 dark:hover:text-gray-200",children:"Cancel"}),a.jsx("button",{onClick:Kr,disabled:!yr.cancellation_notes||h,className:"px-4 py-2 bg-red-600 text-white rounded-lg hover:bg-red-700 disabled:opacity-50 disabled:cursor-not-allowed",children:h?"Cancelling...":"Cancel Ticket"})]})]})}),a.jsx($t,{open:W,onClose:()=>se(!1),title:"Ticket Details",animationType:"scale",size:"lg",children:U&&a.jsxs("div",{className:"space-y-6",children:[a.jsxs("div",{className:"bg-gray-50 dark:bg-gray-700 p-4 rounded-lg",children:[a.jsxs("div",{className:"flex justify-between items-start mb-4",children:[a.jsxs("div",{children:[a.jsx("h3",{className:"text-lg font-semibold text-gray-900 dark:text-white",children:U.ticket_number}),a.jsx("p",{className:"text-gray-600 dark:text-gray-400",children:U.title})]}),a.jsxs("div",{className:"flex space-x-2",children:[a.jsx("span",{className:`inline-flex px-2 py-1 text-xs font-semibold rounded-full ${Z(U.priority)}`,children:U.priority}),a.jsx("span",{className:`inline-flex px-2 py-1 text-xs font-semibold rounded-full ${K(U.status)}`,children:U.status.replace("_"," ")})]})]}),a.jsxs("div",{className:"grid grid-cols-2 gap-4 text-sm",children:[a.jsxs("div",{children:[a.jsx("span",{className:"font-medium text-gray-700 dark:text-gray-300",children:"Customer:"}),a.jsx("span",{className:"ml-2 text-gray-600 dark:text-gray-400",children:U.customer_name})]}),a.jsxs("div",{children:[a.jsx("span",{className:"font-medium text-gray-700 dark:text-gray-300",children:"Email:"}),a.jsx("span",{className:"ml-2 text-gray-600 dark:text-gray-400",children:U.customer_email})]}),a.jsxs("div",{children:[a.jsx("span",{className:"font-medium text-gray-700 dark:text-gray-300",children:"Category:"}),a.jsx("span",{className:"ml-2 text-gray-600 dark:text-gray-400",children:U.category})]}),a.jsxs("div",{children:[a.jsx("span",{className:"font-medium text-gray-700 dark:text-gray-300",children:"Assigned To:"}),a.jsx("span",{className:"ml-2 text-gray-600 dark:text-gray-400",children:U.assigned_to_name||"Unassigned"})]}),a.jsxs("div",{children:[a.jsx("span",{className:"font-medium text-gray-700 dark:text-gray-300",children:"Created:"}),a.jsx("span",{className:"ml-2 text-gray-600 dark:text-gray-400",children:X(U.created_at)})]}),U.sla_deadline&&a.jsxs("div",{children:[a.jsx("span",{className:"font-medium text-gray-700 dark:text-gray-300",children:"SLA Deadline:"}),a.jsx("span",{className:"ml-2 text-gray-600 dark:text-gray-400",children:X(U.sla_deadline)})]})]})]}),a.jsxs("div",{children:[a.jsx("h4",{className:"text-md font-medium text-gray-900 dark:text-white mb-2",children:"Description"}),a.jsx("div",{className:"bg-gray-50 dark:bg-gray-700 p-4 rounded-lg",children:a.jsx("p",{className:"text-gray-700 dark:text-gray-300 whitespace-pre-wrap",children:U.description})})]}),a.jsxs("div",{children:[a.jsxs("div",{className:"flex items-center justify-between mb-2",children:[a.jsxs("h4",{className:"text-md font-medium text-gray-900 dark:text-white flex items-center",children:[a.jsx(So,{className:"w-4 h-4 mr-2 text-purple-500"}),"AI Summary"]}),a.jsxs("button",{onClick:()=>L(U.id),disabled:Yn,className:"flex items-center space-x-2 px-3 py-1 bg-purple-600 hover:bg-purple-700 disabled:bg-gray-400 text-white text-sm rounded-lg transition-colors",children:[Yn?a.jsx(sn,{className:"w-4 h-4 animate-spin"}):a.jsx(So,{className:"w-4 h-4"}),a.jsx("span",{children:Yn?"Generating...":"Generate Summary"})]})]}),a.jsx("div",{className:"bg-purple-50 dark:bg-purple-900/20 p-4 rounded-lg border border-purple-200 dark:border-purple-800",children:U.ai_summary?a.jsxs("div",{children:[a.jsx("p",{className:"text-gray-700 dark:text-gray-300 whitespace-pre-wrap text-sm leading-relaxed",children:U.ai_summary}),U.ai_summary_generated_at&&a.jsx("div",{className:"mt-3 pt-3 border-t border-purple-200 dark:border-purple-700",children:a.jsxs("p",{className:"text-xs text-gray-500 dark:text-gray-400",children:["Generated on ",X(U.ai_summary_generated_at),U.ai_summary_model&&` using ${U.ai_summary_model}`]})})]}):a.jsxs("div",{className:"text-center py-4",children:[a.jsx(So,{className:"w-8 h-8 text-purple-400 mx-auto mb-2"}),a.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-400",children:'No AI summary available. Click "Generate Summary" to create an intelligent summary of this ticket.'})]})})]}),U.comments&&U.comments.length>0&&a.jsxs("div",{children:[a.jsx("h4",{className:"text-md font-medium text-gray-900 dark:text-white mb-3",children:"Comments"}),a.jsx("div",{className:"space-y-3",children:U.comments.map(M=>a.jsxs("div",{className:"bg-gray-50 dark:bg-gray-700 p-3 rounded-lg",children:[a.jsxs("div",{className:"flex justify-between items-start mb-2",children:[a.jsxs("div",{className:"flex items-center space-x-2",children:[a.jsx("span",{className:"font-medium text-gray-900 dark:text-white",children:M.author_name}),a.jsx("span",{className:`text-xs px-2 py-1 rounded ${M.is_internal?"bg-blue-100 text-blue-800 dark:bg-blue-900 dark:text-blue-200":"bg-green-100 text-green-800 dark:bg-green-900 dark:text-green-200"}`,children:M.is_internal?"Internal":"Public"})]}),a.jsx("span",{className:"text-xs text-gray-500 dark:text-gray-400",children:X(M.created_at)})]}),a.jsx("p",{className:"text-gray-700 dark:text-gray-300 text-sm",children:M.content})]},M.id))})]}),a.jsxs("div",{children:[a.jsx("h4",{className:"text-md font-medium text-gray-900 dark:text-white mb-3",children:"Add Comment"}),a.jsxs("div",{className:"space-y-3",children:[a.jsx("textarea",{value:ge.content,onChange:M=>st({...ge,content:M.target.value}),rows:3,className:"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent dark:bg-gray-700 dark:text-white",placeholder:"Add a comment..."}),a.jsxs("div",{className:"flex items-center",children:[a.jsx("input",{type:"checkbox",id:"is_internal",checked:ge.is_internal,onChange:M=>st({...ge,is_internal:M.target.checked}),className:"h-4 w-4 text-blue-600 focus:ring-blue-500 border-gray-300 rounded"}),a.jsx("label",{htmlFor:"is_internal",className:"ml-2 block text-sm text-gray-700 dark:text-gray-300",children:"Internal comment (not visible to customer)"})]}),a.jsx("button",{onClick:()=>vr(U.id),disabled:!ge.content||h,className:"px-4 py-2 bg-blue-600 hover:bg-blue-700 disabled:bg-gray-400 text-white rounded-lg transition-colors",children:h?"Adding...":"Add Comment"})]})]}),a.jsxs("div",{className:"flex justify-end space-x-3 pt-4 border-t border-gray-200 dark:border-gray-700",children:[a.jsx("button",{onClick:()=>se(!1),className:"px-4 py-2 text-gray-700 dark:text-gray-300 bg-gray-100 dark:bg-gray-700 hover:bg-gray-200 dark:hover:bg-gray-600 rounded-lg transition-colors",children:"Close"}),!U.assigned_to_id&&a.jsx("button",{onClick:()=>{se(!1),q(!0)},className:"px-4 py-2 bg-green-600 hover:bg-green-700 text-white rounded-lg transition-colors",children:"Assign Ticket"}),(U.status==="open"||U.status==="in_progress")&&a.jsx("button",{onClick:()=>{se(!1),le(!0)},className:"px-4 py-2 bg-blue-600 hover:bg-blue-700 text-white rounded-lg transition-colors",children:"Resolve Ticket"})]})]})}),a.jsx($t,{open:Q,onClose:()=>te(!1),title:"Edit Knowledge Base Article",animationType:"scale",size:"lg",children:a.jsxs("div",{className:"space-y-4",children:[a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Title"}),a.jsx("input",{type:"text",value:xt.title,onChange:M=>_t({...xt,title:M.target.value}),className:"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent dark:bg-gray-700 dark:text-white",placeholder:"Article title"})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Summary"}),a.jsx("textarea",{value:xt.summary,onChange:M=>_t({...xt,summary:M.target.value}),rows:2,className:"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent dark:bg-gray-700 dark:text-white",placeholder:"Brief summary of the article"})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Content"}),a.jsx("textarea",{value:xt.content,onChange:M=>_t({...xt,content:M.target.value}),rows:6,className:"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent dark:bg-gray-700 dark:text-white",placeholder:"Article content (markdown supported)"})]}),a.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Category"}),a.jsxs("select",{value:xt.category,onChange:M=>_t({...xt,category:M.target.value}),className:"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent dark:bg-gray-700 dark:text-white",children:[a.jsx("option",{value:"getting_started",children:"Getting Started"}),a.jsx("option",{value:"troubleshooting",children:"Troubleshooting"}),a.jsx("option",{value:"billing",children:"Billing"}),a.jsx("option",{value:"features",children:"Features"}),a.jsx("option",{value:"general",children:"General"})]})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Status"}),a.jsxs("select",{value:xt.status,onChange:M=>_t({...xt,status:M.target.value}),className:"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent dark:bg-gray-700 dark:text-white",children:[a.jsx("option",{value:"draft",children:"Draft"}),a.jsx("option",{value:"published",children:"Published"}),a.jsx("option",{value:"archived",children:"Archived"})]})]})]}),a.jsxs("div",{className:"flex items-center",children:[a.jsx("input",{type:"checkbox",id:"edit_featured",checked:xt.featured,onChange:M=>_t({...xt,featured:M.target.checked}),className:"h-4 w-4 text-blue-600 focus:ring-blue-500 border-gray-300 rounded"}),a.jsx("label",{htmlFor:"edit_featured",className:"ml-2 block text-sm text-gray-700 dark:text-gray-300",children:"Featured article"})]}),a.jsxs("div",{className:"flex justify-end space-x-3 pt-4",children:[a.jsx("button",{onClick:()=>te(!1),className:"px-4 py-2 text-gray-700 dark:text-gray-300 bg-gray-100 dark:bg-gray-700 hover:bg-gray-200 dark:hover:bg-gray-600 rounded-lg transition-colors",children:"Cancel"}),a.jsx("button",{onClick:hr,disabled:h||!xt.title||!xt.content,className:"px-4 py-2 bg-blue-600 hover:bg-blue-700 disabled:bg-gray-400 text-white rounded-lg transition-colors",children:h?"Updating...":"Update Article"})]})]})}),a.jsx($t,{open:ue,onClose:()=>ve(!1),title:"Delete Knowledge Base Article",animationType:"scale",size:"md",children:a.jsxs("div",{className:"text-center",children:[a.jsx(fh,{className:"w-12 h-12 text-red-500 mx-auto mb-4"}),a.jsxs("p",{className:"text-gray-600 dark:text-gray-400 mb-6",children:['Are you sure you want to delete "',F?.title,'"? This action cannot be undone.']}),a.jsxs("div",{className:"flex justify-end space-x-3",children:[a.jsx("button",{onClick:()=>ve(!1),className:"px-4 py-2 text-gray-700 dark:text-gray-300 bg-gray-100 dark:bg-gray-700 hover:bg-gray-200 dark:hover:bg-gray-600 rounded-lg transition-colors",children:"Cancel"}),a.jsx("button",{onClick:Gt,disabled:h,className:"px-4 py-2 bg-red-600 hover:bg-red-700 disabled:bg-gray-400 text-white rounded-lg transition-colors",children:h?"Deleting...":"Delete Article"})]})]})}),a.jsx($t,{open:Pn,onClose:()=>vt(!1),title:"Error",animationType:"scale",size:"sm",children:a.jsxs("div",{className:"text-center",children:[a.jsx(fh,{className:"w-12 h-12 text-red-500 mx-auto mb-4"}),a.jsx("p",{className:"text-gray-600 dark:text-gray-400",children:fr})]})})]})})},CAe=()=>{const[e,t]=v.useState("overview"),[r,n]=v.useState(null),[s,i]=v.useState([]),[l,c]=v.useState([]),[d,f]=v.useState([]),[h,g]=v.useState(!0),[p,y]=v.useState(null),b=async()=>{try{g(!0),y(null);const A=await Ee("/api/sentiment-analysis/overview",{method:"GET"});if(A.error)throw new Error(A.error);if(n(A),e==="tickets"){const O=await Ee("/api/sentiment-analysis/support-tickets",{method:"GET"});i(O.tickets||[])}else if(e==="chats"){const O=await Ee("/api/sentiment-analysis/chat-messages",{method:"GET"});c(O.messages||[])}else if(e==="activities"){const O=await Ee("/api/sentiment-analysis/activities",{method:"GET"});f(O.activities||[])}}catch(A){console.error("Error fetching sentiment data:",A),y("Failed to fetch sentiment analysis data")}finally{g(!1)}};v.useEffect(()=>{b()},[e]);const w=A=>{switch(A){case"positive":return"#10b981";case"negative":return"#ef4444";case"neutral":return"#6b7280";default:return"#6b7280"}},j=A=>{switch(A){case"positive":return"😊";case"negative":return"😞";case"neutral":return"😐";default:return"😐"}},S=A=>{switch(A){case"positive":return a.jsx(Tt,{className:"w-5 h-5 text-green-500"});case"negative":return a.jsx(fh,{className:"w-5 h-5 text-red-500"});case"neutral":return a.jsx(pa,{className:"w-5 h-5 text-gray-500"});default:return a.jsx(pa,{className:"w-5 h-5 text-gray-500"})}},k=A=>new Date(A).toLocaleDateString("en-US",{year:"numeric",month:"short",day:"numeric",hour:"2-digit",minute:"2-digit"}),E=(A,O=100)=>A.length<=O?A:A.substring(0,O)+"...",C=r?[{category:"Support Tickets",positive:r.support_tickets?.positive||0,negative:r.support_tickets?.negative||0,neutral:r.support_tickets?.neutral||0},{category:"Chat Messages",positive:r.chat_messages?.positive||0,negative:r.chat_messages?.negative||0,neutral:r.chat_messages?.neutral||0},{category:"Activities",positive:r.activities?.positive||0,negative:r.activities?.negative||0,neutral:r.activities?.neutral||0}]:[],T=r?[{name:"Positive",value:(r.support_tickets?.positive||0)+(r.chat_messages?.positive||0)+(r.activities?.positive||0),color:"#10b981"},{name:"Negative",value:(r.support_tickets?.negative||0)+(r.chat_messages?.negative||0)+(r.activities?.negative||0),color:"#ef4444"},{name:"Neutral",value:(r.support_tickets?.neutral||0)+(r.chat_messages?.neutral||0)+(r.activities?.neutral||0),color:"#6b7280"}]:[];return h?a.jsx("div",{className:"p-6",children:a.jsx("div",{className:"flex items-center justify-center h-64",children:a.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-600"})})}):p?a.jsx("div",{className:"p-6",children:a.jsx("div",{className:"bg-red-50 border border-red-200 rounded-lg p-4",children:a.jsxs("div",{className:"flex items-center",children:[a.jsx(fh,{className:"w-5 h-5 text-red-500 mr-2"}),a.jsx("span",{className:"text-red-700",children:p})]})})}):a.jsxs("div",{className:"p-6",children:[a.jsxs("div",{className:"mb-6",children:[a.jsxs("div",{className:"flex items-center mb-2",children:[a.jsx(Cr,{className:"w-8 h-8 text-blue-600 mr-3"}),a.jsx("h1",{className:"text-3xl font-bold text-gray-900",children:"Sentiment Analysis"})]}),a.jsx("p",{className:"text-gray-600",children:"Analyze customer sentiment across support tickets, chats, and activities"})]}),r&&a.jsx("div",{className:"mb-6",children:a.jsx("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200 p-6",children:a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{children:[a.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-2",children:"Overall Sentiment"}),a.jsxs("div",{className:"flex items-center",children:[a.jsx("span",{className:"text-4xl font-bold mr-3",children:j(r.overall_label)}),a.jsxs("div",{children:[a.jsx("div",{className:"text-2xl font-bold",style:{color:w(r.overall_label)},children:r.overall_label.toUpperCase()}),a.jsxs("div",{className:"text-sm text-gray-600",children:["Score: ",r.overall_score.toFixed(2)]})]})]})]}),a.jsxs("div",{className:"text-right",children:[a.jsx("div",{className:"text-sm text-gray-600 mb-1",children:"Total Interactions"}),a.jsx("div",{className:"text-2xl font-bold text-gray-900",children:(r.support_tickets?.count||0)+(r.chat_messages?.count||0)+(r.activities?.count||0)})]})]})})}),a.jsx("div",{className:"mb-6",children:a.jsx("div",{className:"border-b border-gray-200",children:a.jsx("nav",{className:"-mb-px flex space-x-8",children:[{id:"overview",label:"Overview",icon:a.jsx(ia,{className:"w-4 h-4"})},{id:"tickets",label:"Support Tickets",icon:a.jsx(H0,{className:"w-4 h-4"})},{id:"chats",label:"Chat Messages",icon:a.jsx(gh,{className:"w-4 h-4"})},{id:"activities",label:"Activities",icon:a.jsx(Co,{className:"w-4 h-4"})}].map(A=>a.jsxs("button",{onClick:()=>t(A.id),className:`flex items-center py-2 px-1 border-b-2 font-medium text-sm ${e===A.id?"border-blue-500 text-blue-600":"border-transparent text-gray-500 hover:text-gray-700 hover:border-gray-300"}`,children:[A.icon,a.jsx("span",{className:"ml-2",children:A.label})]},A.id))})})}),e==="overview"&&r&&a.jsxs("div",{className:"space-y-6",children:[a.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[a.jsxs("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200 p-6",children:[a.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Sentiment Distribution"}),a.jsx(Oi,{width:"100%",height:300,children:a.jsxs(L0,{data:C,children:[a.jsx(Uc,{strokeDasharray:"3 3"}),a.jsx(xo,{dataKey:"category"}),a.jsx(yo,{}),a.jsx(Ci,{}),a.jsx(Io,{}),a.jsx(dl,{dataKey:"positive",stackId:"a",fill:"#10b981",name:"Positive"}),a.jsx(dl,{dataKey:"neutral",stackId:"a",fill:"#6b7280",name:"Neutral"}),a.jsx(dl,{dataKey:"negative",stackId:"a",fill:"#ef4444",name:"Negative"})]})})]}),a.jsxs("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200 p-6",children:[a.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Overall Sentiment Breakdown"}),a.jsx(Oi,{width:"100%",height:300,children:a.jsxs(xx,{children:[a.jsx(Fd,{data:T,cx:"50%",cy:"50%",labelLine:!1,label:({name:A,percent:O})=>`${A} ${((O||0)*100).toFixed(0)}%`,outerRadius:80,fill:"#8884d8",dataKey:"value",children:T.map((A,O)=>a.jsx($o,{fill:A.color},`cell-${O}`))}),a.jsx(Ci,{})]})})]})]}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:[a.jsx("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200 p-6",children:a.jsxs("div",{className:"flex items-center",children:[a.jsx(H0,{className:"w-8 h-8 text-blue-600 mr-3"}),a.jsxs("div",{children:[a.jsx("h4",{className:"text-lg font-semibold text-gray-900",children:"Support Tickets"}),a.jsxs("div",{className:"text-sm text-gray-600",children:[r.support_tickets?.positive||0," positive, ",r.support_tickets?.negative||0," negative, ",r.support_tickets?.neutral||0," neutral"]})]})]})}),a.jsx("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200 p-6",children:a.jsxs("div",{className:"flex items-center",children:[a.jsx(gh,{className:"w-8 h-8 text-green-600 mr-3"}),a.jsxs("div",{children:[a.jsx("h4",{className:"text-lg font-semibold text-gray-900",children:"Chat Messages"}),a.jsxs("div",{className:"text-sm text-gray-600",children:[r.chat_messages?.positive||0," positive, ",r.chat_messages?.negative||0," negative, ",r.chat_messages?.neutral||0," neutral"]})]})]})}),a.jsx("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200 p-6",children:a.jsxs("div",{className:"flex items-center",children:[a.jsx(Co,{className:"w-8 h-8 text-purple-600 mr-3"}),a.jsxs("div",{children:[a.jsx("h4",{className:"text-lg font-semibold text-gray-900",children:"Activities"}),a.jsxs("div",{className:"text-sm text-gray-600",children:[r.activities?.positive||0," positive, ",r.activities?.negative||0," negative, ",r.activities?.neutral||0," neutral"]})]})]})})]})]}),e==="tickets"&&a.jsxs("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200",children:[a.jsxs("div",{className:"p-6 border-b border-gray-200",children:[a.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:"Support Ticket Sentiment Analysis"}),a.jsx("p",{className:"text-sm text-gray-600 mt-1",children:"Detailed sentiment analysis for support tickets"})]}),a.jsx("div",{className:"overflow-x-auto",children:a.jsxs("table",{className:"min-w-full divide-y divide-gray-200",children:[a.jsx("thead",{className:"bg-gray-50",children:a.jsxs("tr",{children:[a.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Ticket"}),a.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Title"}),a.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Sentiment"}),a.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Status"}),a.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Created"})]})}),a.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:s.map(A=>a.jsxs("tr",{className:"hover:bg-gray-50",children:[a.jsxs("td",{className:"px-6 py-4 whitespace-nowrap text-sm font-medium text-gray-900",children:["#",A.ticket_number]}),a.jsx("td",{className:"px-6 py-4 text-sm text-gray-900",children:a.jsxs("div",{className:"max-w-xs",children:[a.jsx("div",{className:"font-medium",children:A.title}),a.jsx("div",{className:"text-gray-500 text-xs mt-1",children:E(A.description,80)})]})}),a.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:a.jsxs("div",{className:"flex items-center",children:[S(A.sentiment_label),a.jsx("span",{className:"ml-2 text-sm font-medium",style:{color:w(A.sentiment_label)},children:A.sentiment_label}),a.jsxs("span",{className:"ml-2 text-xs text-gray-500",children:["(",A.sentiment_score.toFixed(2),")"]})]})}),a.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:a.jsx("span",{className:`inline-flex px-2 py-1 text-xs font-semibold rounded-full ${A.status==="open"?"bg-green-100 text-green-800":A.status==="closed"?"bg-gray-100 text-gray-800":"bg-yellow-100 text-yellow-800"}`,children:A.status})}),a.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:k(A.created_at)})]},A.ticket_id))})]})})]}),e==="chats"&&a.jsxs("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200",children:[a.jsxs("div",{className:"p-6 border-b border-gray-200",children:[a.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:"Chat Message Sentiment Analysis"}),a.jsx("p",{className:"text-sm text-gray-600 mt-1",children:"Detailed sentiment analysis for chat messages"})]}),a.jsx("div",{className:"overflow-x-auto",children:a.jsxs("table",{className:"min-w-full divide-y divide-gray-200",children:[a.jsx("thead",{className:"bg-gray-50",children:a.jsxs("tr",{children:[a.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Room"}),a.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Message"}),a.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Sentiment"}),a.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Created"})]})}),a.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:l.map(A=>a.jsxs("tr",{className:"hover:bg-gray-50",children:[a.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm font-medium text-gray-900",children:A.room_name}),a.jsx("td",{className:"px-6 py-4 text-sm text-gray-900",children:a.jsx("div",{className:"max-w-xs",children:E(A.content,100)})}),a.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:a.jsxs("div",{className:"flex items-center",children:[S(A.sentiment_label),a.jsx("span",{className:"ml-2 text-sm font-medium",style:{color:w(A.sentiment_label)},children:A.sentiment_label}),a.jsxs("span",{className:"ml-2 text-xs text-gray-500",children:["(",A.sentiment_score.toFixed(2),")"]})]})}),a.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:k(A.created_at)})]},A.message_id))})]})})]}),e==="activities"&&a.jsxs("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200",children:[a.jsxs("div",{className:"p-6 border-b border-gray-200",children:[a.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:"Activity Sentiment Analysis"}),a.jsx("p",{className:"text-sm text-gray-600 mt-1",children:"Detailed sentiment analysis for activities"})]}),a.jsx("div",{className:"overflow-x-auto",children:a.jsxs("table",{className:"min-w-full divide-y divide-gray-200",children:[a.jsx("thead",{className:"bg-gray-50",children:a.jsxs("tr",{children:[a.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Type"}),a.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Message"}),a.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Sentiment"}),a.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Created"})]})}),a.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:d.map(A=>a.jsxs("tr",{className:"hover:bg-gray-50",children:[a.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm font-medium text-gray-900",children:A.type}),a.jsx("td",{className:"px-6 py-4 text-sm text-gray-900",children:a.jsx("div",{className:"max-w-xs",children:E(A.message,100)})}),a.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:a.jsxs("div",{className:"flex items-center",children:[S(A.sentiment_label),a.jsx("span",{className:"ml-2 text-sm font-medium",style:{color:w(A.sentiment_label)},children:A.sentiment_label}),a.jsxs("span",{className:"ml-2 text-xs text-gray-500",children:["(",A.sentiment_score.toFixed(2),")"]})]})}),a.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:k(A.created_at)})]},A.activity_id))})]})})]})]})};function OAe(){const[e,t]=v.useState([]),[r,n]=v.useState(null),[s,i]=v.useState([]),[l,c]=v.useState(!0),[d,f]=v.useState(null);v.useEffect(()=>{h()},[]);const h=async()=>{try{c(!0);const S=await Ee("/api/customer-segments");t(S)}catch(S){console.error("Error fetching segments:",S)}finally{c(!1)}},g=async S=>{try{const k=await Ee(`/api/customer-segments/${S}/members`);i(k)}catch(k){console.error("Error fetching segment members:",k)}},p=async S=>{try{f(S),await Ee(`/api/customer-segments/${S}/refresh`,"POST"),await h(),r?.id===S&&await g(S)}catch(k){console.error("Error refreshing segment:",k)}finally{f(null)}},y=async S=>{n(S),await g(S.id)},b=S=>{switch(S){case"behavioral":return"bg-blue-100 text-blue-800 dark:bg-blue-900/30 dark:text-blue-400";case"demographic":return"bg-green-100 text-green-800 dark:bg-green-900/30 dark:text-green-400";case"transactional":return"bg-purple-100 text-purple-800 dark:bg-purple-900/30 dark:text-purple-400";case"predictive":return"bg-orange-100 text-orange-800 dark:bg-orange-900/30 dark:text-orange-400";default:return"bg-gray-100 text-gray-800 dark:bg-gray-900/30 dark:text-gray-400"}},w=S=>S<30?"text-green-600":S<70?"text-yellow-600":"text-red-600",j=S=>S>70?"text-green-600":S>40?"text-yellow-600":"text-red-600";return l?a.jsx("div",{className:"p-6",children:a.jsx("div",{className:"flex items-center justify-center h-64",children:a.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-purple-600"})})}):a.jsxs("div",{className:"p-6",children:[a.jsxs("div",{className:"mb-8",children:[a.jsxs("div",{className:"flex items-center gap-3 mb-4",children:[a.jsx("div",{className:"p-2 bg-gradient-to-br from-purple-100 to-pink-100 dark:from-purple-900/30 dark:to-pink-900/30 rounded-xl",children:a.jsx(kr,{className:"w-8 h-8 text-purple-600"})}),a.jsxs("div",{children:[a.jsx("h1",{className:"text-3xl font-bold text-gray-900 dark:text-white",children:"AI Customer Segmentation"}),a.jsx("p",{className:"text-gray-600 dark:text-gray-300",children:"Automatically segment customers based on behavior, value, and engagement patterns"})]})]}),a.jsx("div",{className:"bg-gradient-to-r from-purple-50 to-pink-50 dark:from-purple-900/20 dark:to-pink-900/20 border border-purple-200 dark:border-purple-700 rounded-lg p-4 mb-6",children:a.jsxs("div",{className:"flex items-center gap-3",children:[a.jsx(os,{className:"w-6 h-6 text-purple-600"}),a.jsxs("div",{children:[a.jsx("h3",{className:"font-semibold text-purple-800 dark:text-purple-300",children:"AI-Powered Segmentation"}),a.jsx("p",{className:"text-purple-700 dark:text-purple-400 text-sm",children:"Our AI continuously analyzes customer data to create meaningful segments with actionable insights and recommendations."})]})]})})]}),a.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6",children:[a.jsx("div",{className:"lg:col-span-2",children:a.jsxs("div",{className:"bg-white dark:bg-gray-900 rounded-xl shadow-lg border border-gray-200 dark:border-gray-700 p-6",children:[a.jsxs("div",{className:"flex items-center justify-between mb-6",children:[a.jsx("h2",{className:"text-xl font-semibold text-gray-900 dark:text-white",children:"Customer Segments"}),a.jsxs("div",{className:"text-sm text-gray-500",children:[e.length," segments"]})]}),a.jsx("div",{className:"space-y-4",children:e.map(S=>a.jsxs("div",{className:`p-4 rounded-lg border-2 cursor-pointer transition-all duration-200 ${r?.id===S.id?"border-purple-500 bg-purple-50 dark:bg-purple-900/20":"border-gray-200 dark:border-gray-700 hover:border-purple-300 dark:hover:border-purple-600"}`,onClick:()=>y(S),children:[a.jsxs("div",{className:"flex items-center justify-between mb-3",children:[a.jsxs("div",{className:"flex items-center gap-3",children:[a.jsx("div",{className:"p-2 bg-gradient-to-br from-purple-100 to-pink-100 dark:from-purple-900/30 dark:to-pink-900/30 rounded-lg",children:a.jsx(kK,{className:"w-5 h-5 text-purple-600"})}),a.jsxs("div",{children:[a.jsx("h3",{className:"font-semibold text-gray-900 dark:text-white",children:S.name}),a.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-300",children:S.description})]})]}),a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx("span",{className:`px-2 py-1 rounded-full text-xs font-medium ${b(S.segment_type)}`,children:S.segment_type}),a.jsx("button",{onClick:k=>{k.stopPropagation(),p(S.id)},disabled:d===S.id,className:"p-1 hover:bg-gray-100 dark:hover:bg-gray-800 rounded transition-colors",children:a.jsx(sn,{className:`w-4 h-4 ${d===S.id?"animate-spin":""}`})})]})]}),a.jsxs("div",{className:"grid grid-cols-4 gap-4 text-sm",children:[a.jsxs("div",{className:"text-center",children:[a.jsx("div",{className:"font-semibold text-gray-900 dark:text-white",children:S.customer_count}),a.jsx("div",{className:"text-gray-500",children:"Customers"})]}),a.jsxs("div",{className:"text-center",children:[a.jsxs("div",{className:"font-semibold text-gray-900 dark:text-white",children:["$",S.avg_deal_value.toLocaleString()]}),a.jsx("div",{className:"text-gray-500",children:"Avg Deal"})]}),a.jsxs("div",{className:"text-center",children:[a.jsxs("div",{className:"font-semibold text-gray-900 dark:text-white",children:[S.conversion_rate.toFixed(1),"%"]}),a.jsx("div",{className:"text-gray-500",children:"Conversion"})]}),a.jsxs("div",{className:"text-center",children:[a.jsxs("div",{className:"font-semibold text-gray-900 dark:text-white",children:["$",S.total_deal_value.toLocaleString()]}),a.jsx("div",{className:"text-gray-500",children:"Total Value"})]})]})]},S.id))})]})}),a.jsx("div",{className:"lg:col-span-1",children:r?a.jsxs("div",{className:"space-y-6",children:[a.jsxs("div",{className:"bg-white dark:bg-gray-900 rounded-xl shadow-lg border border-gray-200 dark:border-gray-700 p-6",children:[a.jsx("h3",{className:"text-lg font-semibold text-gray-900 dark:text-white mb-4",children:"Segment Overview"}),a.jsxs("div",{className:"space-y-4",children:[a.jsxs("div",{className:"flex justify-between items-center",children:[a.jsx("span",{className:"text-gray-600 dark:text-gray-300",children:"Risk Score"}),a.jsxs("span",{className:`font-semibold ${w(r.risk_score)}`,children:[r.risk_score.toFixed(0),"/100"]})]}),a.jsxs("div",{className:"flex justify-between items-center",children:[a.jsx("span",{className:"text-gray-600 dark:text-gray-300",children:"Opportunity Score"}),a.jsxs("span",{className:`font-semibold ${j(r.opportunity_score)}`,children:[r.opportunity_score.toFixed(0),"/100"]})]}),a.jsxs("div",{className:"flex justify-between items-center",children:[a.jsx("span",{className:"text-gray-600 dark:text-gray-300",children:"Last Updated"}),a.jsx("span",{className:"text-sm text-gray-500",children:new Date(r.last_updated).toLocaleDateString()})]})]})]}),r.insights&&a.jsxs("div",{className:"bg-white dark:bg-gray-900 rounded-xl shadow-lg border border-gray-200 dark:border-gray-700 p-6",children:[a.jsxs("h3",{className:"text-lg font-semibold text-gray-900 dark:text-white mb-4 flex items-center gap-2",children:[a.jsx(os,{className:"w-5 h-5 text-purple-600"}),"AI Insights"]}),a.jsxs("div",{className:"space-y-3",children:[r.insights.key_characteristics&&a.jsxs("div",{className:"p-3 bg-blue-50 dark:bg-blue-900/20 rounded-lg",children:[a.jsx("div",{className:"font-medium text-blue-800 dark:text-blue-300",children:"Key Characteristics:"}),a.jsx("div",{className:"text-sm text-blue-700 dark:text-blue-300 mt-1",children:r.insights.key_characteristics})]}),r.insights.performance_summary&&a.jsxs("div",{className:"p-3 bg-green-50 dark:bg-green-900/20 rounded-lg",children:[a.jsx("div",{className:"font-medium text-green-800 dark:text-green-300",children:"Performance Summary:"}),a.jsx("div",{className:"text-sm text-green-700 dark:text-green-300 mt-1",children:r.insights.performance_summary})]}),r.insights.trends&&Array.isArray(r.insights.trends)&&a.jsxs("div",{className:"p-3 bg-purple-50 dark:bg-purple-900/20 rounded-lg",children:[a.jsx("div",{className:"font-medium text-purple-800 dark:text-purple-300",children:"Trends:"}),a.jsx("ul",{className:"text-sm text-purple-700 dark:text-purple-300 mt-1 space-y-1",children:r.insights.trends.map((S,k)=>a.jsxs("li",{children:["• ",S]},k))})]})]})]}),r.recommendations&&r.recommendations.length>0&&a.jsxs("div",{className:"bg-white dark:bg-gray-900 rounded-xl shadow-lg border border-gray-200 dark:border-gray-700 p-6",children:[a.jsxs("h3",{className:"text-lg font-semibold text-gray-900 dark:text-white mb-4 flex items-center gap-2",children:[a.jsx(Do,{className:"w-5 h-5 text-yellow-600"}),"Recommendations"]}),a.jsx("ul",{className:"space-y-2",children:r.recommendations.map((S,k)=>a.jsxs("li",{className:"flex items-start gap-2",children:[a.jsx("div",{className:"w-1.5 h-1.5 bg-yellow-500 rounded-full mt-2 flex-shrink-0"}),a.jsx("span",{className:"text-sm text-gray-600 dark:text-gray-300",children:S})]},k))})]}),a.jsxs("div",{className:"bg-white dark:bg-gray-900 rounded-xl shadow-lg border border-gray-200 dark:border-gray-700 p-6",children:[a.jsxs("h3",{className:"text-lg font-semibold text-gray-900 dark:text-white mb-4 flex items-center gap-2",children:[a.jsx(gn,{className:"w-5 h-5 text-blue-600"}),"Segment Members (",s.length,")"]}),a.jsx("div",{className:"space-y-3 max-h-64 overflow-y-auto",children:s.map(S=>a.jsx("div",{className:"p-3 bg-gray-50 dark:bg-gray-800 rounded-lg",children:a.jsxs("div",{className:"flex justify-between items-start",children:[a.jsxs("div",{children:[a.jsx("div",{className:"font-medium text-gray-900 dark:text-white",children:S.contact_name}),a.jsx("div",{className:"text-sm text-gray-600 dark:text-gray-300",children:S.contact_company}),a.jsx("div",{className:"text-xs text-gray-500",children:S.contact_email})]}),a.jsxs("div",{className:"text-right",children:[a.jsxs("div",{className:"text-sm font-medium text-gray-900 dark:text-white",children:[(S.membership_score*100).toFixed(0),"%"]}),a.jsx("div",{className:"text-xs text-gray-500",children:"Match"})]})]})},S.id))})]})]}):a.jsx("div",{className:"bg-white dark:bg-gray-900 rounded-xl shadow-lg border border-gray-200 dark:border-gray-700 p-6",children:a.jsxs("div",{className:"text-center text-gray-500 dark:text-gray-400",children:[a.jsx(kr,{className:"w-12 h-12 mx-auto mb-4 opacity-50"}),a.jsx("p",{children:"Select a segment to view details"})]})})})]})]})}const DAe=()=>{const[e,t]=v.useState([]),[r,n]=v.useState(null),[s,i]=v.useState([]),[l,c]=v.useState(null),[d,f]=v.useState(!0),[h,g]=v.useState(null);v.useEffect(()=>{p(),y()},[]);const p=async()=>{try{const C=await Ee("/api/forecasting/dashboard-insights");c(C)}catch(C){console.error("Error fetching dashboard insights:",C),g("Failed to fetch dashboard insights")}},y=async()=>{try{const C=await Ee("/api/forecasting-models");t(C)}catch(C){console.error("Error fetching models:",C),g("Failed to fetch forecasting models")}finally{f(!1)}},b=async C=>{try{const T=await Ee(`/api/forecasting-models/${C}/forecasts`);i(T)}catch(T){console.error("Error fetching model forecasts:",T),g("Failed to fetch model forecasts")}},w=async C=>{try{await Ee(`/api/forecasting-models/${C}/retrain`,"POST"),p(),y(),r&&b(r.id)}catch(T){console.error("Error retraining model:",T),g("Failed to retrain model")}},j=C=>{switch(C){case"increasing":return a.jsx(Cr,{className:"w-4 h-4 text-green-500"});case"decreasing":return a.jsx(cR,{className:"w-4 h-4 text-red-500"});default:return a.jsx(ia,{className:"w-4 h-4 text-blue-500"})}},S=C=>{switch(C){case"increasing":return"text-green-600 bg-green-100";case"decreasing":return"text-red-600 bg-red-100";default:return"text-blue-600 bg-blue-100"}},k=(C,T)=>T==="revenue"||T==="pipeline"?new Intl.NumberFormat("en-US",{style:"currency",currency:"USD",minimumFractionDigits:0,maximumFractionDigits:0}).format(C):T==="customer_growth"?Math.round(C).toString():T==="churn"?`${(C*100).toFixed(1)}%`:C.toFixed(2),E=C=>new Date(C).toLocaleDateString("en-US",{year:"numeric",month:"short",day:"numeric"});return d?a.jsx("div",{className:"flex items-center justify-center h-64",children:a.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-blue-600"})}):h?a.jsx("div",{className:"bg-red-50 border border-red-200 rounded-lg p-4",children:a.jsxs("div",{className:"flex items-center",children:[a.jsx(pa,{className:"w-5 h-5 text-red-500 mr-2"}),a.jsx("span",{className:"text-red-700",children:h})]})}):a.jsxs("div",{className:"space-y-6",children:[a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{children:[a.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:"Advanced Forecasting"}),a.jsx("p",{className:"text-gray-600 mt-1",children:"AI-powered time-series forecasting for revenue, pipeline, and customer growth"})]}),a.jsxs("button",{className:"bg-blue-600 text-white px-4 py-2 rounded-lg hover:bg-blue-700 flex items-center",children:[a.jsx(_r,{className:"w-4 h-4 mr-2"}),"New Model"]})]}),l&&a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6",children:[a.jsx("div",{className:"bg-white p-6 rounded-lg shadow-sm border",children:a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{children:[a.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Total Models"}),a.jsx("p",{className:"text-2xl font-bold text-gray-900",children:l.summary.total_models})]}),a.jsx(ia,{className:"w-8 h-8 text-blue-500"})]})}),a.jsx("div",{className:"bg-white p-6 rounded-lg shadow-sm border",children:a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{children:[a.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Active Forecasts"}),a.jsx("p",{className:"text-2xl font-bold text-gray-900",children:l.summary.active_forecasts})]}),a.jsx(ha,{className:"w-8 h-8 text-green-500"})]})}),a.jsx("div",{className:"bg-white p-6 rounded-lg shadow-sm border",children:a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{children:[a.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Avg Accuracy"}),a.jsxs("p",{className:"text-2xl font-bold text-gray-900",children:[(l.summary.average_accuracy*100).toFixed(1),"%"]})]}),a.jsx(Tt,{className:"w-8 h-8 text-green-500"})]})}),a.jsx("div",{className:"bg-white p-6 rounded-lg shadow-sm border",children:a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{children:[a.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Last Updated"}),a.jsx("p",{className:"text-sm text-gray-900",children:E(l.summary.last_updated)})]}),a.jsx(qN,{className:"w-8 h-8 text-purple-500"})]})})]}),l?.trend_analysis&&a.jsxs("div",{className:"bg-white p-6 rounded-lg shadow-sm border",children:[a.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Trend Analysis"}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:[a.jsxs("div",{className:"text-center",children:[a.jsxs("div",{className:`inline-flex items-center px-3 py-1 rounded-full text-sm font-medium ${S(l.trend_analysis.trend)}`,children:[j(l.trend_analysis.trend),a.jsx("span",{className:"ml-2 capitalize",children:l.trend_analysis.trend})]}),a.jsx("p",{className:"text-sm text-gray-600 mt-2",children:"Overall Trend"})]}),a.jsxs("div",{className:"text-center",children:[a.jsxs("p",{className:"text-2xl font-bold text-gray-900",children:[(l.trend_analysis.average_accuracy*100).toFixed(1),"%"]}),a.jsx("p",{className:"text-sm text-gray-600",children:"Average Accuracy"})]}),a.jsxs("div",{className:"text-center",children:[a.jsx("p",{className:"text-2xl font-bold text-gray-900 capitalize",children:l.trend_analysis.confidence}),a.jsx("p",{className:"text-sm text-gray-600",children:"Confidence Level"})]})]}),l.trend_analysis.insights.length>0&&a.jsxs("div",{className:"mt-4",children:[a.jsx("h4",{className:"text-sm font-medium text-gray-900 mb-2",children:"Key Insights"}),a.jsx("ul",{className:"space-y-1",children:l.trend_analysis.insights.map((C,T)=>a.jsxs("li",{className:"text-sm text-gray-600 flex items-center",children:[a.jsx(Tt,{className:"w-4 h-4 text-green-500 mr-2"}),C]},T))})]})]}),a.jsx("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:e.map(C=>a.jsxs("div",{className:"bg-white p-6 rounded-lg shadow-sm border hover:shadow-md transition-shadow",children:[a.jsxs("div",{className:"flex items-start justify-between mb-4",children:[a.jsxs("div",{children:[a.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:C.name}),a.jsx("p",{className:"text-sm text-gray-600 mt-1",children:C.description})]}),a.jsxs("div",{className:"flex space-x-2",children:[a.jsx("button",{onClick:()=>{n(C),b(C.id)},className:"p-2 text-gray-400 hover:text-blue-600",title:"View Forecasts",children:a.jsx(gn,{className:"w-4 h-4"})}),a.jsx("button",{onClick:()=>w(C.id),className:"p-2 text-gray-400 hover:text-green-600",title:"Retrain Model",children:a.jsx(sn,{className:"w-4 h-4"})})]})]}),a.jsxs("div",{className:"grid grid-cols-2 gap-4 mb-4",children:[a.jsxs("div",{children:[a.jsx("p",{className:"text-xs text-gray-500 uppercase tracking-wide",children:"Algorithm"}),a.jsx("p",{className:"text-sm font-medium text-gray-900",children:C.model_algorithm})]}),a.jsxs("div",{children:[a.jsx("p",{className:"text-xs text-gray-500 uppercase tracking-wide",children:"Horizon"}),a.jsx("p",{className:"text-sm font-medium text-gray-900",children:C.forecast_horizon})]})]}),a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{className:"flex items-center space-x-4",children:[a.jsxs("div",{className:"text-center",children:[a.jsx("p",{className:"text-xs text-gray-500",children:"Accuracy"}),a.jsxs("p",{className:"text-sm font-semibold text-green-600",children:[(C.accuracy_metrics.overall_accuracy*100).toFixed(1),"%"]})]}),a.jsxs("div",{className:"text-center",children:[a.jsx("p",{className:"text-xs text-gray-500",children:"Last Trained"}),a.jsx("p",{className:"text-sm text-gray-900",children:E(C.last_trained)})]})]}),a.jsx("div",{className:`px-2 py-1 rounded-full text-xs font-medium ${C.is_active?"bg-green-100 text-green-800":"bg-gray-100 text-gray-800"}`,children:C.is_active?"Active":"Inactive"})]})]},C.id))}),r&&s.length>0&&a.jsxs("div",{className:"bg-white p-6 rounded-lg shadow-sm border",children:[a.jsxs("div",{className:"flex items-center justify-between mb-6",children:[a.jsxs("h3",{className:"text-lg font-semibold text-gray-900",children:["Forecasts for ",r.name]}),a.jsx("button",{onClick:()=>n(null),className:"text-gray-400 hover:text-gray-600",children:"×"})]}),a.jsx("div",{className:"overflow-x-auto",children:a.jsxs("table",{className:"min-w-full divide-y divide-gray-200",children:[a.jsx("thead",{className:"bg-gray-50",children:a.jsxs("tr",{children:[a.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Period"}),a.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Forecast Date"}),a.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Forecasted Value"}),a.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Confidence Interval"}),a.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Trend"}),a.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Quality Score"})]})}),a.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:s.map(C=>a.jsxs("tr",{className:"hover:bg-gray-50",children:[a.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm font-medium text-gray-900",children:C.forecast_period}),a.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-900",children:E(C.forecast_date)}),a.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-900",children:k(C.forecasted_value,r.model_type)}),a.jsxs("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-900",children:[k(C.confidence_interval_lower,r.model_type)," - ",k(C.confidence_interval_upper,r.model_type)]}),a.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:a.jsxs("div",{className:`inline-flex items-center px-2 py-1 rounded-full text-xs font-medium ${S(C.trend_direction)}`,children:[j(C.trend_direction),a.jsx("span",{className:"ml-1 capitalize",children:C.trend_direction})]})}),a.jsxs("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-900",children:[(C.forecast_quality_score*100).toFixed(1),"%"]})]},C.id))})]})}),s.length>0&&a.jsxs("div",{className:"mt-6 grid grid-cols-1 md:grid-cols-2 gap-6",children:[a.jsxs("div",{children:[a.jsx("h4",{className:"text-sm font-medium text-gray-900 mb-2",children:"Insights"}),a.jsx("div",{className:"space-y-2",children:Object.entries(s[0].insights).map(([C,T])=>a.jsxs("div",{className:"text-sm text-gray-600",children:[a.jsxs("span",{className:"font-medium capitalize",children:[C,":"]})," ",T]},C))})]}),a.jsxs("div",{children:[a.jsx("h4",{className:"text-sm font-medium text-gray-900 mb-2",children:"Recommendations"}),a.jsx("ul",{className:"space-y-1",children:s[0].recommendations.map((C,T)=>a.jsxs("li",{className:"text-sm text-gray-600 flex items-start",children:[a.jsx(Tt,{className:"w-4 h-4 text-green-500 mr-2 mt-0.5 flex-shrink-0"}),C]},T))})]})]})]})]})},Nc={async getDashboard(){return Ee("/api/telephony/dashboard")},async getProviders(){return Ee("/api/telephony/providers")},async createProvider(e){return Ee("/api/telephony/providers","POST",e)},async getProvider(e){return Ee(`/api/telephony/providers/${e}`)},async updateProvider(e,t){return Ee(`/api/telephony/providers/${e}`,"PUT",t)},async deleteProvider(e){return Ee(`/api/telephony/providers/${e}`,"DELETE")},async testProviderConnection(e){return Ee(`/api/telephony/providers/${e}/test-connection`,"POST")},async getCalls(e){const t=new URLSearchParams;e&&Object.entries(e).forEach(([n,s])=>{s!==void 0&&t.append(n,s.toString())});const r=`/api/telephony/calls${t.toString()?`?${t.toString()}`:""}`;return Ee(r)},async getCall(e){return Ee(`/api/telephony/calls/${e}`)},async updateCall(e,t){return Ee(`/api/telephony/calls/${e}`,"PUT",t)},async holdCall(e,t){return Ee(`/api/telephony/calls/${e}/hold`,"POST",t)},async transferCall(e,t){return Ee(`/api/telephony/calls/${e}/transfer`,"POST",t)},async getQueues(e){const t=e?`/api/telephony/queues?provider_id=${e}`:"/api/telephony/queues";return Ee(t)},async createQueue(e){return Ee("/api/telephony/queues","POST",e)},async getQueueMembers(e){const t=e?`/api/telephony/queues/${e}/members`:"/api/telephony/queue-members";return Ee(t)},async addQueueMember(e,t){return Ee(`/api/telephony/queues/${e}/members`,"POST",t)},async updateQueueMember(e,t,r){return Ee(`/api/telephony/queues/${e}/members/${t}`,"PUT",r)},async removeQueueMember(e,t){return Ee(`/api/telephony/queues/${e}/members/${t}`,"DELETE")},async getExtensions(e){const t=e?`/api/telephony/providers/${e}/extensions`:"/api/telephony/extensions";return Ee(t)},async createExtension(e){return Ee("/api/telephony/extensions","POST",e)},async getAnalytics(e){const t=new URLSearchParams;e&&Object.entries(e).forEach(([n,s])=>{s!==void 0&&t.append(n,s.toString())});const r=`/api/telephony/analytics${t.toString()?`?${t.toString()}`:""}`;return Ee(r)}},PAe=({providerForm:e,setProviderForm:t,onSave:r,onTest:n,onClose:s,isEditing:i})=>{const[l,c]=v.useState("basic"),[d,f]=v.useState(new Set(["basic"])),[h,g]=v.useState(!1),p=[{id:"basic",name:"Basic",icon:"📋"},{id:"advanced",name:"Advanced",icon:"⚙️"},{id:"dids",name:"DIDs/DDIs",icon:"📞"},{id:"caller-id",name:"Inbound Caller ID Reformatting",icon:"🔄"},{id:"outbound-caller-id",name:"Outbound Caller ID",icon:"📤"},{id:"sip-headers",name:"SIP Headers",icon:"📋"}],y=(T,A)=>{t({...e,[T]:A})},b=()=>a.jsxs("div",{className:"space-y-6",children:[a.jsxs("div",{className:"bg-gray-50 p-4 rounded-lg",children:[a.jsx("div",{className:"flex items-center justify-between mb-4",children:a.jsxs("h3",{className:"text-lg font-semibold flex items-center",children:[a.jsx(ki,{className:"w-5 h-5 mr-2"}),"Provider Details"]})}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Provider Type *"}),a.jsxs("select",{value:e.provider_type,onChange:T=>y("provider_type",T.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500",children:[a.jsx("option",{value:"asterisk",children:"Asterisk"}),a.jsx("option",{value:"freepbx",children:"FreePBX"}),a.jsx("option",{value:"3cx",children:"3CX"}),a.jsx("option",{value:"twilio",children:"Twilio"}),a.jsx("option",{value:"yeastar",children:"Yeastar"}),a.jsx("option",{value:"custom",children:"Custom"})]})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Display Name *"}),a.jsx("input",{type:"text",value:e.display_name,onChange:T=>y("display_name",T.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500",placeholder:"My PBX Provider"})]}),a.jsxs("div",{className:"md:col-span-2",children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Description"}),a.jsx("textarea",{value:e.description,onChange:T=>y("description",T.target.value),rows:3,className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500",placeholder:"Provider description..."})]})]})]}),a.jsxs("div",{className:"bg-gray-50 p-4 rounded-lg",children:[a.jsx("div",{className:"flex items-center justify-between mb-4",children:a.jsxs("h3",{className:"text-lg font-semibold flex items-center",children:[a.jsx(ki,{className:"w-5 h-5 mr-2"}),"Basic Connection Settings"]})}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Hostname/IP *"}),a.jsx("input",{type:"text",value:e.host,onChange:T=>y("host",T.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500",placeholder:"192.168.1.100 or pbx.example.com"})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Port"}),a.jsx("input",{type:"number",value:e.port,onChange:T=>y("port",parseInt(T.target.value)),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500",placeholder:"5060"})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Username *"}),a.jsx("input",{type:"text",value:e.username,onChange:T=>y("username",T.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500",placeholder:"SIP username"})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Authentication Name"}),a.jsx("input",{type:"text",value:e.authentication_name,onChange:T=>y("authentication_name",T.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500",placeholder:"Auth name (if different from username)"})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Password *"}),a.jsxs("div",{className:"relative",children:[a.jsx("input",{type:h?"text":"password",value:e.password,onChange:T=>y("password",T.target.value),className:"w-full px-3 py-2 pr-10 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500",placeholder:"SIP password"}),a.jsx("button",{type:"button",onClick:()=>g(!h),className:"absolute right-3 top-2.5 text-gray-400 hover:text-gray-600",children:h?a.jsx(mh,{className:"w-4 h-4"}):a.jsx(gn,{className:"w-4 h-4"})})]})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Transport"}),a.jsxs("select",{value:e.transport,onChange:T=>y("transport",T.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500",children:[a.jsx("option",{value:"UDP",children:"UDP"}),a.jsx("option",{value:"TCP",children:"TCP"}),a.jsx("option",{value:"TLS",children:"TLS"}),a.jsx("option",{value:"DNS-NAPTR",children:"DNS-NAPTR"})]})]})]})]}),a.jsxs("div",{className:"bg-gray-50 p-4 rounded-lg",children:[a.jsx("div",{className:"flex items-center justify-between mb-4",children:a.jsxs("h3",{className:"text-lg font-semibold flex items-center",children:[a.jsx(ki,{className:"w-5 h-5 mr-2"}),"Trunk Configuration"]})}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Trunk Type"}),a.jsxs("select",{value:e.trunk_type,onChange:T=>y("trunk_type",T.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500",children:[a.jsx("option",{value:"register",children:"Register Trunk"}),a.jsx("option",{value:"peer",children:"Peer Trunk"}),a.jsx("option",{value:"user",children:"User Trunk"})]})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Register Interval (seconds)"}),a.jsx("input",{type:"number",value:e.register_interval,onChange:T=>y("register_interval",parseInt(T.target.value)),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500",placeholder:"3600"})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Register Timeout (seconds)"}),a.jsx("input",{type:"number",value:e.register_timeout,onChange:T=>y("register_timeout",parseInt(T.target.value)),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500",placeholder:"20"})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Max Retries"}),a.jsx("input",{type:"number",value:e.max_retries,onChange:T=>y("max_retries",parseInt(T.target.value)),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500",placeholder:"5"})]})]})]})]}),w=()=>a.jsxs("div",{className:"space-y-6",children:[a.jsxs("div",{className:"bg-gray-50 p-4 rounded-lg",children:[a.jsx("div",{className:"flex items-center justify-between mb-4",children:a.jsxs("h3",{className:"text-lg font-semibold flex items-center",children:[a.jsx(ki,{className:"w-5 h-5 mr-2"}),"Advanced Connection Settings"]})}),a.jsxs("div",{className:"space-y-4",children:[a.jsxs("div",{className:"flex items-center",children:[a.jsx("input",{type:"checkbox",id:"enable_outbound_proxy",checked:e.enable_outbound_proxy,onChange:T=>y("enable_outbound_proxy",T.target.checked),className:"mr-2"}),a.jsx("label",{htmlFor:"enable_outbound_proxy",className:"text-sm font-medium text-gray-700",children:"Enable Outbound Proxy"})]}),e.enable_outbound_proxy&&a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4 ml-6",children:[a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Outbound Proxy Host"}),a.jsx("input",{type:"text",value:e.outbound_proxy_host,onChange:T=>y("outbound_proxy_host",T.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500"})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Outbound Proxy Port"}),a.jsx("input",{type:"number",value:e.outbound_proxy_port,onChange:T=>y("outbound_proxy_port",parseInt(T.target.value)),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500"})]})]}),a.jsxs("div",{className:"flex items-center",children:[a.jsx("input",{type:"checkbox",id:"enable_nat_traversal",checked:e.enable_nat_traversal,onChange:T=>y("enable_nat_traversal",T.target.checked),className:"mr-2"}),a.jsx("label",{htmlFor:"enable_nat_traversal",className:"text-sm font-medium text-gray-700",children:"Enable NAT Traversal"})]}),e.enable_nat_traversal&&a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4 ml-6",children:[a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"NAT Type"}),a.jsxs("select",{value:e.nat_type,onChange:T=>y("nat_type",T.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500",children:[a.jsx("option",{value:"auto",children:"Auto"}),a.jsx("option",{value:"force_rport",children:"Force RPort"}),a.jsx("option",{value:"comedia",children:"Comedia"})]})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Local Network (CIDR)"}),a.jsx("input",{type:"text",value:e.local_network,onChange:T=>y("local_network",T.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500",placeholder:"192.168.1.0/24"})]})]})]})]}),a.jsxs("div",{className:"bg-gray-50 p-4 rounded-lg",children:[a.jsx("div",{className:"flex items-center justify-between mb-4",children:a.jsxs("h3",{className:"text-lg font-semibold flex items-center",children:[a.jsx(ki,{className:"w-5 h-5 mr-2"}),"SIP Settings"]})}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"SIP Context"}),a.jsx("input",{type:"text",value:e.sip_context,onChange:T=>y("sip_context",T.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500",placeholder:"default"})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Caller ID Field"}),a.jsx("input",{type:"text",value:e.caller_id_field,onChange:T=>y("caller_id_field",T.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500",placeholder:"CallerIDNum"})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Dialplan Context"}),a.jsx("input",{type:"text",value:e.dialplan_context,onChange:T=>y("dialplan_context",T.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500",placeholder:"from-internal"})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"From Domain"}),a.jsx("input",{type:"text",value:e.from_domain,onChange:T=>y("from_domain",T.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500",placeholder:"sip.domain.com"})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"To Domain"}),a.jsx("input",{type:"text",value:e.to_domain,onChange:T=>y("to_domain",T.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500",placeholder:"sip.domain.com"})]})]})]}),a.jsxs("div",{className:"bg-gray-50 p-4 rounded-lg",children:[a.jsx("div",{className:"flex items-center justify-between mb-4",children:a.jsxs("h3",{className:"text-lg font-semibold flex items-center",children:[a.jsx(ki,{className:"w-5 h-5 mr-2"}),"Codec Settings"]})}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Codec Negotiation"}),a.jsxs("select",{value:e.codec_negotiation,onChange:T=>y("codec_negotiation",T.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500",children:[a.jsx("option",{value:"negotiate",children:"Negotiate"}),a.jsx("option",{value:"force",children:"Force"})]})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"DTMF Mode"}),a.jsxs("select",{value:e.dtmf_mode,onChange:T=>y("dtmf_mode",T.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500",children:[a.jsx("option",{value:"rfc2833",children:"RFC 2833"}),a.jsx("option",{value:"inband",children:"Inband"}),a.jsx("option",{value:"sip_info",children:"SIP INFO"})]})]}),a.jsxs("div",{className:"md:col-span-2",children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Preferred Codecs (JSON Array)"}),a.jsx("textarea",{value:e.preferred_codecs,onChange:T=>y("preferred_codecs",T.target.value),rows:2,className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500",placeholder:'["ulaw", "alaw", "g729"]'})]})]})]})]}),j=()=>a.jsx("div",{className:"space-y-6",children:a.jsxs("div",{className:"bg-gray-50 p-4 rounded-lg",children:[a.jsx("div",{className:"flex items-center justify-between mb-4",children:a.jsxs("h3",{className:"text-lg font-semibold flex items-center",children:[a.jsx(ki,{className:"w-5 h-5 mr-2"}),"DID/DDI Configuration"]})}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[a.jsxs("div",{className:"md:col-span-2",children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"DID Numbers (JSON Array)"}),a.jsx("textarea",{value:e.did_numbers,onChange:T=>y("did_numbers",T.target.value),rows:3,className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500",placeholder:'["+1234567890", "+0987654321"]'})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"DID Pattern"}),a.jsx("input",{type:"text",value:e.did_pattern,onChange:T=>y("did_pattern",T.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500",placeholder:"^\\+1(\\d{10})$"})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Strip Digits"}),a.jsx("input",{type:"number",value:e.did_strip_digits,onChange:T=>y("did_strip_digits",parseInt(T.target.value)),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500",placeholder:"0"})]})]})]})}),S=()=>a.jsx("div",{className:"space-y-6",children:a.jsxs("div",{className:"bg-gray-50 p-4 rounded-lg",children:[a.jsx("div",{className:"flex items-center justify-between mb-4",children:a.jsxs("h3",{className:"text-lg font-semibold flex items-center",children:[a.jsx(ki,{className:"w-5 h-5 mr-2"}),"Inbound Caller ID Reformatting"]})}),a.jsxs("div",{className:"space-y-4",children:[a.jsxs("div",{className:"flex items-center",children:[a.jsx("input",{type:"checkbox",id:"inbound_caller_id_reformatting",checked:e.inbound_caller_id_reformatting,onChange:T=>y("inbound_caller_id_reformatting",T.target.checked),className:"mr-2"}),a.jsx("label",{htmlFor:"inbound_caller_id_reformatting",className:"text-sm font-medium text-gray-700",children:"Enable Inbound Caller ID Reformatting"})]}),e.inbound_caller_id_reformatting&&a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4 ml-6",children:[a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Caller ID Prefix"}),a.jsx("input",{type:"text",value:e.caller_id_prefix,onChange:T=>y("caller_id_prefix",T.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500",placeholder:"+1"})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Caller ID Suffix"}),a.jsx("input",{type:"text",value:e.caller_id_suffix,onChange:T=>y("caller_id_suffix",T.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500"})]}),a.jsxs("div",{className:"md:col-span-2",children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Replacement Rules (JSON Array)"}),a.jsx("textarea",{value:e.caller_id_replacement_rules,onChange:T=>y("caller_id_replacement_rules",T.target.value),rows:3,className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500",placeholder:'[{"pattern": "^\\\\+1(\\\\d{10})$", "replacement": "+1$1"}]'})]})]})]})]})}),k=()=>a.jsx("div",{className:"space-y-6",children:a.jsxs("div",{className:"bg-gray-50 p-4 rounded-lg",children:[a.jsx("div",{className:"flex items-center justify-between mb-4",children:a.jsxs("h3",{className:"text-lg font-semibold flex items-center",children:[a.jsx(ki,{className:"w-5 h-5 mr-2"}),"Outbound Caller ID"]})}),a.jsxs("div",{className:"space-y-4",children:[a.jsxs("div",{className:"flex items-center",children:[a.jsx("input",{type:"checkbox",id:"outbound_caller_id_reformatting",checked:e.outbound_caller_id_reformatting,onChange:T=>y("outbound_caller_id_reformatting",T.target.checked),className:"mr-2"}),a.jsx("label",{htmlFor:"outbound_caller_id_reformatting",className:"text-sm font-medium text-gray-700",children:"Enable Outbound Caller ID Reformatting"})]}),a.jsx("div",{className:"bg-blue-50 p-3 rounded-md",children:a.jsxs("div",{className:"flex items-start",children:[a.jsx(Ap,{className:"w-5 h-5 text-blue-500 mr-2 mt-0.5"}),a.jsxs("div",{className:"text-sm text-blue-700",children:[a.jsx("p",{className:"font-medium",children:"Outbound Caller ID Settings"}),a.jsx("p",{className:"mt-1",children:"Configure how caller ID appears for outbound calls from this trunk."})]})]})})]})]})}),E=()=>a.jsx("div",{className:"space-y-6",children:a.jsxs("div",{className:"bg-gray-50 p-4 rounded-lg",children:[a.jsx("div",{className:"flex items-center justify-between mb-4",children:a.jsxs("h3",{className:"text-lg font-semibold flex items-center",children:[a.jsx(ki,{className:"w-5 h-5 mr-2"}),"SIP Headers"]})}),a.jsxs("div",{className:"space-y-4",children:[a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"P-Asserted-Identity"}),a.jsx("input",{type:"text",value:e.p_asserted_identity,onChange:T=>y("p_asserted_identity",T.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500",placeholder:"sip:user@domain.com"})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Remote-Party-ID"}),a.jsx("input",{type:"text",value:e.remote_party_id,onChange:T=>y("remote_party_id",T.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500",placeholder:"sip:user@domain.com"})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Custom SIP Headers (JSON Object)"}),a.jsx("textarea",{value:e.custom_sip_headers,onChange:T=>y("custom_sip_headers",T.target.value),rows:4,className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500",placeholder:'{"X-Custom-Header": "value", "X-Another-Header": "another-value"}'})]})]})]})}),C=()=>{switch(l){case"basic":return b();case"advanced":return w();case"dids":return j();case"caller-id":return S();case"outbound-caller-id":return k();case"sip-headers":return E();default:return b()}};return a.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:a.jsxs("div",{className:"bg-white rounded-lg shadow-xl w-full max-w-6xl h-full max-h-[90vh] flex flex-col",children:[a.jsxs("div",{className:"flex items-center justify-between p-6 border-b",children:[a.jsx("h2",{className:"text-2xl font-bold text-gray-900",children:i?"Edit PBX Provider":"Add PBX Provider"}),a.jsx("button",{onClick:s,className:"text-gray-400 hover:text-gray-600",children:a.jsx(jr,{className:"w-6 h-6"})})]}),a.jsx("div",{className:"border-b",children:a.jsx("nav",{className:"flex space-x-8 px-6",children:p.map(T=>a.jsxs("button",{onClick:()=>c(T.id),className:`py-4 px-1 border-b-2 font-medium text-sm ${l===T.id?"border-blue-500 text-blue-600":"border-transparent text-gray-500 hover:text-gray-700 hover:border-gray-300"}`,children:[a.jsx("span",{className:"mr-2",children:T.icon}),T.name]},T.id))})}),a.jsx("div",{className:"flex-1 overflow-y-auto p-6",children:C()}),a.jsxs("div",{className:"flex items-center justify-between p-6 border-t bg-gray-50",children:[a.jsx("div",{className:"flex items-center space-x-4",children:a.jsxs("button",{onClick:n,className:"flex items-center px-4 py-2 border border-gray-300 rounded-md text-sm font-medium text-gray-700 bg-white hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500",children:[a.jsx(dK,{className:"w-4 h-4 mr-2"}),"Test Connection"]})}),a.jsxs("div",{className:"flex items-center space-x-4",children:[a.jsx("button",{onClick:s,className:"px-4 py-2 border border-gray-300 rounded-md text-sm font-medium text-gray-700 bg-white hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500",children:"Cancel"}),a.jsxs("button",{onClick:r,className:"flex items-center px-4 py-2 border border-transparent rounded-md shadow-sm text-sm font-medium text-white bg-blue-600 hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500",children:[a.jsx(XG,{className:"w-4 h-4 mr-2"}),"Save"]})]})]})]})})},MAe=()=>{const[e,t]=v.useState(null),[r,n]=v.useState([]),[s,i]=v.useState([]),[l,c]=v.useState([]),[d,f]=v.useState(!0),[h,g]=v.useState(null),[p,y]=v.useState("dashboard"),[b,w]=v.useState(!1),[j,S]=v.useState(null),[k,E]=v.useState({isOpen:!1,title:"",message:"",onConfirm:()=>{}}),[C,T]=v.useState({name:"",provider_type:"asterisk",display_name:"",description:"",host:"",port:5060,username:"",password:"",authentication_name:"",enable_outbound_proxy:!1,outbound_proxy_host:"",outbound_proxy_port:5060,transport:"UDP",enable_nat_traversal:!1,nat_type:"auto",local_network:"",trunk_type:"register",register_interval:3600,register_timeout:20,max_retries:5,sip_context:"default",caller_id_field:"CallerIDNum",dialplan_context:"from-internal",from_domain:"",to_domain:"",did_numbers:"",did_pattern:"",did_strip_digits:0,inbound_caller_id_reformatting:!1,outbound_caller_id_reformatting:!1,caller_id_prefix:"",caller_id_suffix:"",caller_id_replacement_rules:"",custom_sip_headers:"",p_asserted_identity:"",remote_party_id:"",preferred_codecs:"",codec_negotiation:"negotiate",dtmf_mode:"rfc2833",enable_qos:!1,dscp_value:46,bandwidth_limit:"",enable_srtp:!1,srtp_mode:"optional",enable_tls:!1,tls_cert_path:"",tls_key_path:"",tls_ca_path:"",recording_enabled:!0,recording_path:"/var/spool/asterisk/monitor",transcription_enabled:!1,cdr_enabled:!0,cdr_path:"/var/log/asterisk/cdr-csv",call_forwarding_enabled:!0,call_waiting_enabled:!0,three_way_calling_enabled:!0,enable_call_monitoring:!0,enable_call_recording:!1,recording_format:"wav",recording_quality:"high",webhook_url:"",webhook_secret:"",webhook_events:"",api_endpoint:"",api_key:"",api_secret:"",api_version:"v1",is_primary:!1,auto_assign_calls:!0,failover_enabled:!1,failover_provider_id:"",is_active:!0});v.useEffect(()=>{A()},[]);const A=async()=>{try{f(!0);const[R,B,V,W]=await Promise.all([Nc.getDashboard(),Nc.getCalls(),Nc.getQueues(),Nc.getProviders()]);t(R),n(B),i(V),c(W)}catch(R){g(R instanceof Error?R.message:"Failed to fetch data")}finally{f(!1)}},O=async()=>{try{j?await Nc.updateProvider(j.id,C):await Nc.createProvider(C),w(!1),S(null),T({name:"",provider_type:"asterisk",display_name:"",description:"",host:"",port:5060,username:"",password:"",authentication_name:"",enable_outbound_proxy:!1,outbound_proxy_host:"",outbound_proxy_port:5060,transport:"UDP",enable_nat_traversal:!1,nat_type:"auto",local_network:"",trunk_type:"register",register_interval:3600,register_timeout:20,max_retries:5,sip_context:"default",caller_id_field:"CallerIDNum",dialplan_context:"from-internal",from_domain:"",to_domain:"",did_numbers:"",did_pattern:"",did_strip_digits:0,inbound_caller_id_reformatting:!1,outbound_caller_id_reformatting:!1,caller_id_prefix:"",caller_id_suffix:"",caller_id_replacement_rules:"",custom_sip_headers:"",p_asserted_identity:"",remote_party_id:"",preferred_codecs:"",codec_negotiation:"negotiate",dtmf_mode:"rfc2833",enable_qos:!1,dscp_value:46,bandwidth_limit:"",enable_srtp:!1,srtp_mode:"optional",enable_tls:!1,tls_cert_path:"",tls_key_path:"",tls_ca_path:"",recording_enabled:!0,recording_path:"/var/spool/asterisk/monitor",transcription_enabled:!1,cdr_enabled:!0,cdr_path:"/var/log/asterisk/cdr-csv",call_forwarding_enabled:!0,call_waiting_enabled:!0,three_way_calling_enabled:!0,enable_call_monitoring:!0,enable_call_recording:!1,recording_format:"wav",recording_quality:"high",webhook_url:"",webhook_secret:"",webhook_events:"",api_endpoint:"",api_key:"",api_secret:"",api_version:"v1",is_primary:!1,auto_assign_calls:!0,failover_enabled:!1,failover_provider_id:"",is_active:!0}),await A()}catch(R){g(R instanceof Error?R.message:"Failed to save provider")}},D=R=>{const B=l.find(W=>W.id===R),V=B?.display_name||B?.name||"this provider";E({isOpen:!0,title:"Delete Provider",message:`Are you sure you want to delete ${V}? This action cannot be undone and will remove all associated configurations.`,type:"danger",onConfirm:async()=>{try{await Nc.deleteProvider(R),await A(),E(W=>({...W,isOpen:!1}))}catch(W){g(W instanceof Error?W.message:"Failed to delete provider"),E(se=>({...se,isOpen:!1}))}}})};return d?a.jsx("div",{className:"flex items-center justify-center h-64",children:a.jsx("div",{className:"animate-spin rounded-full h-32 w-32 border-b-2 border-blue-600"})}):h?a.jsx("div",{className:"bg-red-50 border border-red-200 rounded-md p-4",children:a.jsxs("div",{className:"flex",children:[a.jsx(pa,{className:"h-5 w-5 text-red-400"}),a.jsxs("div",{className:"ml-3",children:[a.jsx("h3",{className:"text-sm font-medium text-red-800",children:"Error"}),a.jsx("div",{className:"mt-2 text-sm text-red-700",children:h})]})]})}):a.jsxs("div",{className:"space-y-6",children:[a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{children:[a.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:"Telephony"}),a.jsx("p",{className:"text-gray-600",children:"Manage your PBX providers and call center"})]}),a.jsx("div",{className:"flex space-x-3",children:a.jsxs("button",{onClick:()=>{S(null),w(!0)},className:"flex items-center px-4 py-2 bg-blue-600 text-white rounded-md hover:bg-blue-700",children:[a.jsx(_r,{className:"w-4 h-4 mr-2"}),"Add Provider"]})})]}),a.jsx("div",{className:"border-b border-gray-200",children:a.jsx("nav",{className:"-mb-px flex space-x-8",children:[{id:"dashboard",name:"Dashboard",icon:Co},{id:"calls",name:"Calls",icon:kd},{id:"agents",name:"Agents",icon:kr},{id:"queues",name:"Queues",icon:aR},{id:"settings",name:"Settings",icon:Hs}].map(R=>{const B=R.icon;return a.jsxs("button",{onClick:()=>y(R.id),className:`flex items-center py-2 px-1 border-b-2 font-medium text-sm ${p===R.id?"border-blue-500 text-blue-600":"border-transparent text-gray-500 hover:text-gray-700 hover:border-gray-300"}`,children:[a.jsx(B,{className:"w-4 h-4 mr-2"}),R.name]},R.id)})})}),a.jsxs("div",{className:"bg-white rounded-lg shadow",children:[p==="dashboard"&&a.jsxs("div",{className:"p-6",children:[a.jsx("h2",{className:"text-lg font-semibold mb-4",children:"Call Center Dashboard"}),e&&a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-6",children:[a.jsx("div",{className:"bg-blue-50 p-4 rounded-lg",children:a.jsxs("div",{className:"flex items-center",children:[a.jsx(kd,{className:"w-8 h-8 text-blue-600"}),a.jsxs("div",{className:"ml-3",children:[a.jsx("p",{className:"text-sm font-medium text-blue-600",children:"Active Calls"}),a.jsx("p",{className:"text-2xl font-bold text-blue-900",children:e.active_calls})]})]})}),a.jsx("div",{className:"bg-green-50 p-4 rounded-lg",children:a.jsxs("div",{className:"flex items-center",children:[a.jsx(kr,{className:"w-8 h-8 text-green-600"}),a.jsxs("div",{className:"ml-3",children:[a.jsx("p",{className:"text-sm font-medium text-green-600",children:"Available Agents"}),a.jsx("p",{className:"text-2xl font-bold text-green-900",children:e.available_agents})]})]})}),a.jsx("div",{className:"bg-yellow-50 p-4 rounded-lg",children:a.jsxs("div",{className:"flex items-center",children:[a.jsx(La,{className:"w-8 h-8 text-yellow-600"}),a.jsxs("div",{className:"ml-3",children:[a.jsx("p",{className:"text-sm font-medium text-yellow-600",children:"Queued Calls"}),a.jsx("p",{className:"text-2xl font-bold text-yellow-900",children:e.queued_calls})]})]})}),a.jsx("div",{className:"bg-purple-50 p-4 rounded-lg",children:a.jsxs("div",{className:"flex items-center",children:[a.jsx(Cr,{className:"w-8 h-8 text-purple-600"}),a.jsxs("div",{className:"ml-3",children:[a.jsx("p",{className:"text-sm font-medium text-purple-600",children:"Service Level"}),a.jsxs("p",{className:"text-2xl font-bold text-purple-900",children:[e.service_level,"%"]})]})]})})]})]}),p==="settings"&&a.jsxs("div",{className:"p-6",children:[a.jsxs("div",{className:"flex items-center justify-between mb-6",children:[a.jsx("h2",{className:"text-lg font-semibold",children:"PBX Providers"}),a.jsxs("button",{onClick:()=>{S(null),w(!0)},className:"flex items-center px-4 py-2 bg-blue-600 text-white rounded-md hover:bg-blue-700",children:[a.jsx(_r,{className:"w-4 h-4 mr-2"}),"Add Provider"]})]}),a.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:l.map(R=>a.jsxs("div",{className:"border border-gray-200 rounded-lg p-4",children:[a.jsxs("div",{className:"flex items-center justify-between mb-2",children:[a.jsx("h3",{className:"font-semibold text-gray-900",children:R.display_name}),a.jsxs("div",{className:"flex space-x-2",children:[a.jsx("button",{onClick:()=>{S(R),T({...C,...R}),w(!0)},className:"text-blue-600 hover:text-blue-800",children:a.jsx(Jh,{className:"w-4 h-4"})}),a.jsx("button",{onClick:()=>D(R.id),className:"text-red-600 hover:text-red-800",children:a.jsx(mi,{className:"w-4 h-4"})})]})]}),a.jsx("p",{className:"text-sm text-gray-600 mb-2",children:R.provider_type}),a.jsxs("p",{className:"text-sm text-gray-500",children:[R.host,":",R.port]}),a.jsxs("div",{className:"flex items-center mt-2",children:[R.is_active?a.jsx(Tt,{className:"w-4 h-4 text-green-500 mr-1"}):a.jsx(fh,{className:"w-4 h-4 text-red-500 mr-1"}),a.jsx("span",{className:`text-sm ${R.is_active?"text-green-600":"text-red-600"}`,children:R.is_active?"Active":"Inactive"})]})]},R.id))})]})]}),b&&a.jsx(PAe,{providerForm:C,setProviderForm:T,onSave:O,onTest:()=>{alert("Test connection functionality will be implemented")},onClose:()=>w(!1),isEditing:!!j}),a.jsx(GU,{isOpen:k.isOpen,onClose:()=>E(R=>({...R,isOpen:!1})),onConfirm:k.onConfirm,title:k.title,message:k.message,type:k.type,confirmText:"Delete",cancelText:"Cancel"})]})},RAe=()=>{const[e,t]=v.useState("agents"),[r,n]=v.useState([]),[s,i]=v.useState([]),[l,c]=v.useState([]),[d,f]=v.useState(null),[h,g]=v.useState(!1),[p,y]=v.useState(!1),[b,w]=v.useState(null);v.useEffect(()=>{j(),S(),k(),E()},[]);const j=async()=>{try{const D=localStorage.getItem("access_token"),B=await(await fetch("/api/conversational-ai/voices",{headers:{Authorization:`Bearer ${D}`}})).json();n(B.voices||[])}catch(D){console.error("Error loading voices:",D)}},S=async()=>{try{const D=localStorage.getItem("access_token"),B=await(await fetch("/api/conversational-ai/agents",{headers:{Authorization:`Bearer ${D}`}})).json();i(B.agents||[])}catch(D){console.error("Error loading agents:",D)}},k=async()=>{try{const D=localStorage.getItem("access_token"),B=await(await fetch("/api/conversational-ai/calls",{headers:{Authorization:`Bearer ${D}`}})).json();c(B.calls||[])}catch(D){console.error("Error loading calls:",D)}},E=async()=>{try{const D=localStorage.getItem("access_token"),B=await(await fetch("/api/conversational-ai/analytics",{headers:{Authorization:`Bearer ${D}`}})).json();f(B)}catch(D){console.error("Error loading analytics:",D)}},C=async()=>{g(!0);try{const D=localStorage.getItem("access_token"),B=await(await fetch("/api/conversational-ai/demo/create-agents",{method:"POST",headers:{Authorization:`Bearer ${D}`}})).json();B.message&&(w(B.message),setTimeout(()=>w(null),2e3),S())}catch(D){console.error("Error creating demo agents:",D),w("Error creating demo agents"),setTimeout(()=>w(null),2e3)}finally{g(!1)}},T=async(D,R,B)=>{g(!0);try{const V=localStorage.getItem("access_token"),se=await(await fetch("/api/conversational-ai/calls",{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${V}`},body:JSON.stringify({agent_id:D,to_number:R,from_number:B||"+1234567890",call_metadata:{demo:!0,created_by:"frontend"},lead_id:null,contact_id:null,user_id:null})})).json();se.call_id&&(w(`Call created successfully! Call ID: ${se.call_id}`),setTimeout(()=>w(null),3e3),k())}catch(V){console.error("Error creating call:",V),w("Error creating call"),setTimeout(()=>w(null),2e3)}finally{g(!1)}},A=D=>{const R=Math.floor(D/60),B=D%60;return`${R}:${B.toString().padStart(2,"0")}`},O=D=>new Date(D).toLocaleString();return a.jsxs("div",{className:"min-h-screen bg-gray-50 p-6",children:[a.jsxs("div",{className:"max-w-7xl mx-auto",children:[a.jsxs("div",{className:"mb-8",children:[a.jsx("h1",{className:"text-3xl font-bold text-gray-900 mb-2",children:"Conversational AI"}),a.jsx("p",{className:"text-gray-600",children:"Manage AI voice agents, calls, and analytics"})]}),a.jsxs("div",{className:"mb-6 flex gap-4",children:[a.jsxs("button",{onClick:C,disabled:h,className:"bg-blue-600 text-white px-4 py-2 rounded-lg hover:bg-blue-700 disabled:opacity-50 flex items-center gap-2",children:[a.jsx(_r,{className:"h-4 w-4"}),"Create Demo Agents"]}),a.jsxs("button",{onClick:()=>y(!0),className:"bg-green-600 text-white px-4 py-2 rounded-lg hover:bg-green-700 flex items-center gap-2",children:[a.jsx(Hs,{className:"h-4 w-4"}),"Create Custom Agent"]})]}),a.jsxs("div",{className:"bg-white rounded-lg shadow-sm mb-6",children:[a.jsx("div",{className:"border-b border-gray-200",children:a.jsx("nav",{className:"-mb-px flex space-x-8 px-6",children:[{id:"agents",label:"AI Agents",icon:kr},{id:"calls",label:"Call History",icon:kd},{id:"analytics",label:"Analytics",icon:ia}].map(D=>a.jsxs("button",{onClick:()=>t(D.id),className:`py-4 px-1 border-b-2 font-medium text-sm flex items-center gap-2 ${e===D.id?"border-blue-500 text-blue-600":"border-transparent text-gray-500 hover:text-gray-700 hover:border-gray-300"}`,children:[a.jsx(D.icon,{className:"h-4 w-4"}),D.label]},D.id))})}),a.jsxs("div",{className:"p-6",children:[e==="agents"&&a.jsxs("div",{children:[a.jsxs("div",{className:"flex justify-between items-center mb-4",children:[a.jsx("h3",{className:"text-lg font-semibold",children:"AI Agents"}),a.jsxs("span",{className:"text-sm text-gray-500",children:[s.length," agents"]})]}),s.length===0?a.jsxs("div",{className:"text-center py-8",children:[a.jsx(kr,{className:"h-12 w-12 text-gray-400 mx-auto mb-4"}),a.jsx("p",{className:"text-gray-500 mb-4",children:"No AI agents created yet"}),a.jsx("button",{onClick:C,disabled:h,className:"bg-blue-600 text-white px-4 py-2 rounded-lg hover:bg-blue-700 disabled:opacity-50",children:"Create Demo Agents"})]}):a.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:s.map(D=>a.jsxs("div",{className:"border border-gray-200 rounded-lg p-4",children:[a.jsxs("div",{className:"flex justify-between items-start mb-2",children:[a.jsx("h4",{className:"font-semibold text-gray-900",children:D.name}),a.jsx("span",{className:`px-2 py-1 text-xs rounded-full ${D.status==="active"?"bg-green-100 text-green-800":"bg-gray-100 text-gray-800"}`,children:D.status})]}),a.jsxs("p",{className:"text-sm text-gray-600 mb-2",children:["Scenario: ",D.scenario.replace("_"," ")]}),a.jsxs("p",{className:"text-sm text-gray-600 mb-4",children:["Voice: ",D.voice_id]}),a.jsxs("div",{className:"flex gap-2",children:[a.jsx("button",{onClick:()=>T(D.agent_id,"+919768584622"),disabled:h,className:"flex-1 bg-blue-600 text-white px-3 py-1 rounded text-sm hover:bg-blue-700 disabled:opacity-50",children:"Test Call"}),a.jsx("button",{className:"bg-gray-200 text-gray-700 px-3 py-1 rounded text-sm hover:bg-gray-300",children:a.jsx(Hs,{className:"h-4 w-4"})})]})]},D.agent_id))})]}),e==="calls"&&a.jsxs("div",{children:[a.jsxs("div",{className:"flex justify-between items-center mb-4",children:[a.jsx("h3",{className:"text-lg font-semibold",children:"Call History"}),a.jsxs("span",{className:"text-sm text-gray-500",children:[l.length," calls"]})]}),l.length===0?a.jsxs("div",{className:"text-center py-8",children:[a.jsx(kd,{className:"h-12 w-12 text-gray-400 mx-auto mb-4"}),a.jsx("p",{className:"text-gray-500",children:"No calls made yet"})]}):a.jsx("div",{className:"overflow-x-auto",children:a.jsxs("table",{className:"min-w-full divide-y divide-gray-200",children:[a.jsx("thead",{className:"bg-gray-50",children:a.jsxs("tr",{children:[a.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Call ID"}),a.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"To Number"}),a.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Status"}),a.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Duration"}),a.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Cost"}),a.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Created"})]})}),a.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:l.map(D=>a.jsxs("tr",{children:[a.jsxs("td",{className:"px-6 py-4 whitespace-nowrap text-sm font-mono text-gray-900",children:[D.call_id.slice(0,8),"..."]}),a.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-900",children:D.to_number}),a.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:a.jsx("span",{className:`px-2 py-1 text-xs rounded-full ${D.status==="completed"?"bg-green-100 text-green-800":D.status==="failed"?"bg-red-100 text-red-800":"bg-yellow-100 text-yellow-800"}`,children:D.status})}),a.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-900",children:D.duration?A(D.duration):"-"}),a.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-900",children:D.cost?`$${D.cost.toFixed(4)}`:"-"}),a.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:O(D.created_at)})]},D.call_id))})]})})]}),e==="analytics"&&a.jsxs("div",{children:[a.jsx("h3",{className:"text-lg font-semibold mb-4",children:"Call Analytics"}),d?a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4 mb-6",children:[a.jsxs("div",{className:"bg-blue-50 p-4 rounded-lg",children:[a.jsx("div",{className:"text-2xl font-bold text-blue-600",children:d.total_calls}),a.jsx("div",{className:"text-sm text-blue-600",children:"Total Calls"})]}),a.jsxs("div",{className:"bg-green-50 p-4 rounded-lg",children:[a.jsxs("div",{className:"text-2xl font-bold text-green-600",children:[d.success_rate.toFixed(1),"%"]}),a.jsx("div",{className:"text-sm text-green-600",children:"Success Rate"})]}),a.jsxs("div",{className:"bg-purple-50 p-4 rounded-lg",children:[a.jsx("div",{className:"text-2xl font-bold text-purple-600",children:A(Math.round(d.average_duration))}),a.jsx("div",{className:"text-sm text-purple-600",children:"Avg Duration"})]}),a.jsxs("div",{className:"bg-orange-50 p-4 rounded-lg",children:[a.jsxs("div",{className:"text-2xl font-bold text-orange-600",children:["$",d.total_cost.toFixed(2)]}),a.jsx("div",{className:"text-sm text-orange-600",children:"Total Cost"})]})]}):a.jsxs("div",{className:"text-center py-8",children:[a.jsx(ia,{className:"h-12 w-12 text-gray-400 mx-auto mb-4"}),a.jsx("p",{className:"text-gray-500",children:"No analytics data available"})]})]})]})]})]}),b&&a.jsx("div",{className:"fixed bottom-6 right-6 bg-green-600 text-white px-6 py-3 rounded-xl shadow-lg z-50 animate-fade-in",children:b})]})},I2=()=>({dashboard:{total_models:5,active_models:4,retraining_jobs:2,average_accuracy:87.5,models_needing_retraining:1,recent_deployments:3},models:[{id:"sentiment_analyzer",name:"Sentiment Analyzer",version:"2.1.0",status:"active",accuracy:.92,last_trained:"2024-10-01T10:00:00Z",last_deployed:"2024-10-01T11:00:00Z",training_data_size:15e3,model_type:"keyword_based",performance_trend:"stable"},{id:"lead_scorer",name:"Lead Scoring Model",version:"1.8.3",status:"active",accuracy:.85,last_trained:"2024-09-28T14:30:00Z",last_deployed:"2024-09-28T15:45:00Z",training_data_size:8500,model_type:"gradient_boosting",performance_trend:"improving"},{id:"forecasting_model",name:"Sales Forecasting",version:"3.2.1",status:"active",accuracy:.88,last_trained:"2024-09-25T09:15:00Z",last_deployed:"2024-09-25T10:30:00Z",training_data_size:12e3,model_type:"time_series",performance_trend:"stable"},{id:"customer_segmentation",name:"Customer Segmentation",version:"1.5.2",status:"needs_retraining",accuracy:.78,last_trained:"2024-09-15T16:20:00Z",last_deployed:"2024-09-15T17:00:00Z",training_data_size:6800,model_type:"clustering",performance_trend:"declining"},{id:"churn_predictor",name:"Churn Predictor",version:"2.0.1",status:"active",accuracy:.91,last_trained:"2024-09-30T08:00:00Z",last_deployed:"2024-09-30T09:15:00Z",training_data_size:9500,model_type:"neural_network",performance_trend:"improving"}],retraining_jobs:[{id:"job_001",model_name:"customer_segmentation",status:"running",progress:65,started_at:"2024-10-02T12:00:00Z",estimated_completion:"2024-10-02T14:30:00Z",trigger_reason:"performance_degradation",current_accuracy:.78,target_accuracy:.85},{id:"job_002",model_name:"lead_scorer",status:"scheduled",progress:0,started_at:null,estimated_completion:"2024-10-03T10:00:00Z",trigger_reason:"scheduled_maintenance",current_accuracy:.85,target_accuracy:.87}],metrics:{system_health:"healthy",total_predictions_today:15420,average_response_time:45,error_rate:.02,model_drift_detected:!1,data_quality_score:94}});function IAe(){const[e,t]=v.useState(null),[r,n]=v.useState(!0),[s,i]=v.useState(null),[l,c]=v.useState("dashboard");v.useEffect(()=>{d()},[]);const d=async()=>{n(!0),i(null);const y=setTimeout(()=>{console.log("MLOps API call timed out, using fallback data"),t(I2()),n(!1)},3e3);try{clearTimeout(y),t(I2())}catch(b){clearTimeout(y),console.error("Error loading MLOps data:",b),t(I2())}finally{n(!1)}};if(r)return a.jsx("div",{className:"flex items-center justify-center min-h-screen",children:a.jsx("div",{className:"animate-spin rounded-full h-32 w-32 border-b-2 border-blue-600"})});if(!e)return a.jsx("div",{className:"flex items-center justify-center min-h-screen",children:a.jsx("div",{className:"animate-spin rounded-full h-32 w-32 border-b-2 border-blue-600"})});const{dashboard:f,models:h,retraining_jobs:g,metrics:p}=e;return a.jsxs("div",{className:"p-6 max-w-7xl mx-auto",children:[a.jsxs("div",{className:"mb-8",children:[a.jsxs("div",{className:"flex items-center gap-3 mb-2",children:[a.jsx("div",{className:"p-2 bg-purple-100 rounded-lg",children:a.jsx(os,{className:"w-6 h-6 text-purple-600"})}),a.jsx("h1",{className:"text-3xl font-bold text-gray-900",children:"MLOps Dashboard"}),a.jsx("span",{className:"px-3 py-1 bg-green-100 text-green-800 text-sm font-medium rounded-full",children:"Model Lifecycle Management"})]}),a.jsx("p",{className:"text-gray-600",children:"Monitor, manage, and optimize your AI models with automated retraining and performance tracking"}),a.jsx("div",{className:"mt-4 p-3 bg-blue-50 border border-blue-200 rounded-lg",children:a.jsxs("p",{className:"text-blue-800 text-sm",children:[a.jsx("strong",{children:"Demo Mode:"})," Showing sample MLOps data. In production, this would connect to your actual model registry and monitoring systems."]})}),s&&a.jsx("div",{className:"mt-4 p-3 bg-red-50 border border-red-200 rounded-lg",children:a.jsxs("p",{className:"text-red-800 text-sm",children:[a.jsx("strong",{children:"API Error:"})," ",s,". Showing demo data instead."]})})]}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-6 gap-6 mb-8",children:[a.jsx("div",{className:"bg-white rounded-xl shadow-sm border p-6",children:a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{children:[a.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Total Models"}),a.jsx("p",{className:"text-2xl font-bold text-gray-900",children:f.total_models})]}),a.jsx("div",{className:"p-3 bg-blue-100 rounded-lg",children:a.jsx(os,{className:"w-6 h-6 text-blue-600"})})]})}),a.jsx("div",{className:"bg-white rounded-xl shadow-sm border p-6",children:a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{children:[a.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Active Models"}),a.jsx("p",{className:"text-2xl font-bold text-gray-900",children:f.active_models})]}),a.jsx("div",{className:"p-3 bg-green-100 rounded-lg",children:a.jsx(Tt,{className:"w-6 h-6 text-green-600"})})]})}),a.jsx("div",{className:"bg-white rounded-xl shadow-sm border p-6",children:a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{children:[a.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Retraining Jobs"}),a.jsx("p",{className:"text-2xl font-bold text-gray-900",children:f.retraining_jobs})]}),a.jsx("div",{className:"p-3 bg-orange-100 rounded-lg",children:a.jsx(sn,{className:"w-6 h-6 text-orange-600"})})]})}),a.jsx("div",{className:"bg-white rounded-xl shadow-sm border p-6",children:a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{children:[a.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Avg Accuracy"}),a.jsxs("p",{className:"text-2xl font-bold text-gray-900",children:[f.average_accuracy,"%"]})]}),a.jsx("div",{className:"p-3 bg-purple-100 rounded-lg",children:a.jsx(ha,{className:"w-6 h-6 text-purple-600"})})]})}),a.jsx("div",{className:"bg-white rounded-xl shadow-sm border p-6",children:a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{children:[a.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Needs Retraining"}),a.jsx("p",{className:"text-2xl font-bold text-gray-900",children:f.models_needing_retraining})]}),a.jsx("div",{className:"p-3 bg-red-100 rounded-lg",children:a.jsx(pa,{className:"w-6 h-6 text-red-600"})})]})}),a.jsx("div",{className:"bg-white rounded-xl shadow-sm border p-6",children:a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{children:[a.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Recent Deployments"}),a.jsx("p",{className:"text-2xl font-bold text-gray-900",children:f.recent_deployments})]}),a.jsx("div",{className:"p-3 bg-indigo-100 rounded-lg",children:a.jsx(Do,{className:"w-6 h-6 text-indigo-600"})})]})})]}),a.jsx("div",{className:"mb-8",children:a.jsx("nav",{className:"flex space-x-8",children:[{id:"dashboard",label:"Dashboard",icon:ia},{id:"models",label:"Models",icon:os},{id:"retraining",label:"Retraining",icon:sn},{id:"monitoring",label:"Monitoring",icon:Co}].map(({id:y,label:b,icon:w})=>a.jsxs("button",{onClick:()=>c(y),className:`flex items-center gap-2 px-4 py-2 rounded-lg font-medium transition-colors ${l===y?"bg-blue-100 text-blue-700":"text-gray-600 hover:text-gray-900 hover:bg-gray-100"}`,children:[a.jsx(w,{className:"w-4 h-4"}),b]},y))})}),a.jsxs("div",{className:"space-y-6",children:[l==="dashboard"&&a.jsx(FAe,{data:e}),l==="models"&&a.jsx(LAe,{models:h}),l==="retraining"&&a.jsx(BAe,{jobs:g}),l==="monitoring"&&a.jsx($Ae,{metrics:p})]})]})}function FAe({data:e}){const{dashboard:t,models:r,retraining_jobs:n,metrics:s}=e;return a.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[a.jsxs("div",{className:"bg-white rounded-xl shadow-sm border p-6",children:[a.jsxs("h3",{className:"text-lg font-semibold mb-4 flex items-center gap-2",children:[a.jsx(Co,{className:"w-5 h-5 text-green-600"}),"System Health"]}),a.jsxs("div",{className:"space-y-3",children:[a.jsxs("div",{className:"flex justify-between items-center",children:[a.jsx("span",{className:"text-sm text-gray-600",children:"Overall Status"}),a.jsx("span",{className:`px-2 py-1 rounded-full text-xs font-medium ${s.system_health==="healthy"?"bg-green-100 text-green-800":s.system_health==="warning"?"bg-yellow-100 text-yellow-800":"bg-red-100 text-red-800"}`,children:s.system_health.toUpperCase()})]}),a.jsxs("div",{className:"flex justify-between items-center",children:[a.jsx("span",{className:"text-sm text-gray-600",children:"Predictions Today"}),a.jsx("span",{className:"font-medium",children:s.total_predictions_today.toLocaleString()})]}),a.jsxs("div",{className:"flex justify-between items-center",children:[a.jsx("span",{className:"text-sm text-gray-600",children:"Avg Response Time"}),a.jsxs("span",{className:"font-medium",children:[s.average_response_time,"ms"]})]}),a.jsxs("div",{className:"flex justify-between items-center",children:[a.jsx("span",{className:"text-sm text-gray-600",children:"Error Rate"}),a.jsxs("span",{className:"font-medium",children:[(s.error_rate*100).toFixed(2),"%"]})]})]})]}),a.jsxs("div",{className:"bg-white rounded-xl shadow-sm border p-6",children:[a.jsxs("h3",{className:"text-lg font-semibold mb-4 flex items-center gap-2",children:[a.jsx(Cr,{className:"w-5 h-5 text-blue-600"}),"Model Performance"]}),a.jsx("div",{className:"space-y-3",children:r.slice(0,4).map((i,l)=>a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{children:[a.jsx("div",{className:"font-medium text-sm",children:i.name}),a.jsxs("div",{className:"text-xs text-gray-500",children:["v",i.version]})]}),a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsxs("span",{className:"text-sm font-medium",children:[(i.accuracy*100).toFixed(1),"%"]}),a.jsx("div",{className:`w-2 h-2 rounded-full ${i.performance_trend==="improving"?"bg-green-500":i.performance_trend==="declining"?"bg-red-500":"bg-gray-500"}`})]})]},l))})]}),a.jsxs("div",{className:"bg-white rounded-xl shadow-sm border p-6",children:[a.jsxs("h3",{className:"text-lg font-semibold mb-4 flex items-center gap-2",children:[a.jsx(sn,{className:"w-5 h-5 text-orange-600"}),"Active Retraining Jobs"]}),a.jsxs("div",{className:"space-y-3",children:[n.filter(i=>i.status==="running").map((i,l)=>a.jsxs("div",{className:"space-y-2",children:[a.jsxs("div",{className:"flex justify-between items-center",children:[a.jsx("span",{className:"text-sm font-medium",children:i.model_name}),a.jsxs("span",{className:"text-xs text-gray-500",children:[i.progress,"%"]})]}),a.jsx("div",{className:"w-full bg-gray-200 rounded-full h-2",children:a.jsx("div",{className:"bg-blue-600 h-2 rounded-full transition-all duration-300",style:{width:`${i.progress}%`}})}),a.jsx("div",{className:"text-xs text-gray-500",children:i.trigger_reason.replace("_"," ")})]},l)),n.filter(i=>i.status==="running").length===0&&a.jsx("p",{className:"text-sm text-gray-500",children:"No active retraining jobs"})]})]}),a.jsxs("div",{className:"bg-white rounded-xl shadow-sm border p-6",children:[a.jsxs("h3",{className:"text-lg font-semibold mb-4 flex items-center gap-2",children:[a.jsx(pa,{className:"w-5 h-5 text-red-600"}),"Recent Alerts"]}),a.jsxs("div",{className:"space-y-3",children:[r.filter(i=>i.status==="needs_retraining").map((i,l)=>a.jsxs("div",{className:"flex items-start gap-2",children:[a.jsx(pa,{className:"w-4 h-4 text-red-500 mt-0.5 flex-shrink-0"}),a.jsxs("div",{children:[a.jsx("div",{className:"text-sm font-medium",children:i.name}),a.jsx("div",{className:"text-xs text-gray-600",children:"Performance degradation detected"})]})]},l)),s.model_drift_detected&&a.jsxs("div",{className:"flex items-start gap-2",children:[a.jsx(pa,{className:"w-4 h-4 text-yellow-500 mt-0.5 flex-shrink-0"}),a.jsxs("div",{children:[a.jsx("div",{className:"text-sm font-medium",children:"Data Drift Detected"}),a.jsx("div",{className:"text-xs text-gray-600",children:"Model inputs have changed significantly"})]})]}),r.filter(i=>i.status==="needs_retraining").length===0&&!s.model_drift_detected&&a.jsx("p",{className:"text-sm text-gray-500",children:"No active alerts"})]})]})]})}function LAe({models:e}){const t=n=>{switch(n){case"active":return"bg-green-100 text-green-800";case"needs_retraining":return"bg-red-100 text-red-800";case"training":return"bg-blue-100 text-blue-800";default:return"bg-gray-100 text-gray-800"}},r=n=>{switch(n){case"improving":return a.jsx(M0,{className:"w-4 h-4 text-green-600"});case"declining":return a.jsx(yW,{className:"w-4 h-4 text-red-600"});default:return a.jsx("div",{className:"w-4 h-4 rounded-full bg-gray-400"})}};return a.jsx("div",{className:"space-y-6",children:a.jsxs("div",{className:"bg-white rounded-xl shadow-sm border p-6",children:[a.jsx("h3",{className:"text-lg font-semibold mb-4",children:"Model Registry"}),a.jsx("div",{className:"overflow-x-auto",children:a.jsxs("table",{className:"w-full",children:[a.jsx("thead",{children:a.jsxs("tr",{className:"border-b",children:[a.jsx("th",{className:"text-left py-3 px-4",children:"Model Name"}),a.jsx("th",{className:"text-left py-3 px-4",children:"Version"}),a.jsx("th",{className:"text-left py-3 px-4",children:"Status"}),a.jsx("th",{className:"text-right py-3 px-4",children:"Accuracy"}),a.jsx("th",{className:"text-left py-3 px-4",children:"Type"}),a.jsx("th",{className:"text-left py-3 px-4",children:"Last Trained"}),a.jsx("th",{className:"text-center py-3 px-4",children:"Trend"}),a.jsx("th",{className:"text-center py-3 px-4",children:"Actions"})]})}),a.jsx("tbody",{children:e.map((n,s)=>a.jsxs("tr",{className:"border-b",children:[a.jsxs("td",{className:"py-3 px-4",children:[a.jsx("div",{className:"font-medium",children:n.name}),a.jsx("div",{className:"text-sm text-gray-500",children:n.id})]}),a.jsx("td",{className:"py-3 px-4",children:n.version}),a.jsx("td",{className:"py-3 px-4",children:a.jsx("span",{className:`px-2 py-1 rounded-full text-xs font-medium ${t(n.status)}`,children:n.status.replace("_"," ")})}),a.jsxs("td",{className:"text-right py-3 px-4 font-medium",children:[(n.accuracy*100).toFixed(1),"%"]}),a.jsx("td",{className:"py-3 px-4",children:n.model_type.replace("_"," ")}),a.jsx("td",{className:"py-3 px-4 text-sm",children:new Date(n.last_trained).toLocaleDateString()}),a.jsx("td",{className:"text-center py-3 px-4",children:r(n.performance_trend)}),a.jsx("td",{className:"text-center py-3 px-4",children:a.jsxs("div",{className:"flex gap-1 justify-center",children:[a.jsx("button",{className:"p-1 text-blue-600 hover:bg-blue-50 rounded",children:a.jsx(Hs,{className:"w-4 h-4"})}),n.status==="needs_retraining"&&a.jsx("button",{className:"p-1 text-green-600 hover:bg-green-50 rounded",children:a.jsx(sn,{className:"w-4 h-4"})})]})})]},s))})]})})]})})}function BAe({jobs:e}){const t=n=>{switch(n){case"running":return"bg-blue-100 text-blue-800";case"scheduled":return"bg-yellow-100 text-yellow-800";case"completed":return"bg-green-100 text-green-800";case"failed":return"bg-red-100 text-red-800";default:return"bg-gray-100 text-gray-800"}},r=n=>{switch(n){case"running":return a.jsx(sn,{className:"w-4 h-4 animate-spin"});case"scheduled":return a.jsx(La,{className:"w-4 h-4"});case"completed":return a.jsx(Tt,{className:"w-4 h-4"});case"failed":return a.jsx(pa,{className:"w-4 h-4"});default:return a.jsx(lR,{className:"w-4 h-4"})}};return a.jsx("div",{className:"space-y-6",children:a.jsxs("div",{className:"bg-white rounded-xl shadow-sm border p-6",children:[a.jsx("h3",{className:"text-lg font-semibold mb-4",children:"Retraining Jobs"}),a.jsxs("div",{className:"space-y-4",children:[e.map((n,s)=>a.jsxs("div",{className:"border rounded-lg p-4",children:[a.jsxs("div",{className:"flex items-start justify-between mb-3",children:[a.jsxs("div",{children:[a.jsx("h4",{className:"font-medium",children:n.model_name}),a.jsxs("p",{className:"text-sm text-gray-600",children:["Job ID: ",n.id]})]}),a.jsxs("div",{className:"flex items-center gap-2",children:[r(n.status),a.jsx("span",{className:`px-2 py-1 rounded-full text-xs font-medium ${t(n.status)}`,children:n.status})]})]}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4 mb-3",children:[a.jsxs("div",{children:[a.jsx("div",{className:"text-sm text-gray-600",children:"Trigger Reason"}),a.jsx("div",{className:"font-medium",children:n.trigger_reason.replace("_"," ")})]}),a.jsxs("div",{children:[a.jsx("div",{className:"text-sm text-gray-600",children:"Current Accuracy"}),a.jsxs("div",{className:"font-medium",children:[(n.current_accuracy*100).toFixed(1),"%"]})]}),a.jsxs("div",{children:[a.jsx("div",{className:"text-sm text-gray-600",children:"Target Accuracy"}),a.jsxs("div",{className:"font-medium",children:[(n.target_accuracy*100).toFixed(1),"%"]})]})]}),n.status==="running"&&a.jsxs("div",{className:"mb-3",children:[a.jsxs("div",{className:"flex justify-between items-center mb-1",children:[a.jsx("span",{className:"text-sm text-gray-600",children:"Progress"}),a.jsxs("span",{className:"text-sm font-medium",children:[n.progress,"%"]})]}),a.jsx("div",{className:"w-full bg-gray-200 rounded-full h-2",children:a.jsx("div",{className:"bg-blue-600 h-2 rounded-full transition-all duration-300",style:{width:`${n.progress}%`}})})]}),a.jsxs("div",{className:"flex justify-between items-center text-sm text-gray-600",children:[a.jsx("span",{children:n.started_at?`Started: ${new Date(n.started_at).toLocaleString()}`:"Not started"}),a.jsx("span",{children:n.estimated_completion?`Est. completion: ${new Date(n.estimated_completion).toLocaleString()}`:""})]})]},s)),e.length===0&&a.jsxs("div",{className:"text-center py-8 text-gray-500",children:[a.jsx(sn,{className:"w-12 h-12 mx-auto mb-4 opacity-50"}),a.jsx("p",{children:"No retraining jobs found"})]})]})]})})}function $Ae({metrics:e}){return a.jsxs("div",{className:"space-y-6",children:[a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:[a.jsxs("div",{className:"bg-white rounded-xl shadow-sm border p-6",children:[a.jsx("h3",{className:"text-lg font-semibold mb-4",children:"Performance Metrics"}),a.jsxs("div",{className:"space-y-4",children:[a.jsxs("div",{className:"flex justify-between items-center",children:[a.jsx("span",{className:"text-sm text-gray-600",children:"Total Predictions"}),a.jsx("span",{className:"font-medium",children:e.total_predictions_today.toLocaleString()})]}),a.jsxs("div",{className:"flex justify-between items-center",children:[a.jsx("span",{className:"text-sm text-gray-600",children:"Avg Response Time"}),a.jsxs("span",{className:"font-medium",children:[e.average_response_time,"ms"]})]}),a.jsxs("div",{className:"flex justify-between items-center",children:[a.jsx("span",{className:"text-sm text-gray-600",children:"Error Rate"}),a.jsxs("span",{className:`font-medium ${e.error_rate*100>1?"text-red-600":"text-green-600"}`,children:[(e.error_rate*100).toFixed(2),"%"]})]}),a.jsxs("div",{className:"flex justify-between items-center",children:[a.jsx("span",{className:"text-sm text-gray-600",children:"Data Quality Score"}),a.jsxs("span",{className:`font-medium ${e.data_quality_score>90?"text-green-600":"text-yellow-600"}`,children:[e.data_quality_score,"%"]})]})]})]}),a.jsxs("div",{className:"bg-white rounded-xl shadow-sm border p-6",children:[a.jsx("h3",{className:"text-lg font-semibold mb-4",children:"System Health"}),a.jsxs("div",{className:"space-y-4",children:[a.jsxs("div",{className:"flex justify-between items-center",children:[a.jsx("span",{className:"text-sm text-gray-600",children:"Overall Status"}),a.jsx("span",{className:`px-2 py-1 rounded-full text-xs font-medium ${e.system_health==="healthy"?"bg-green-100 text-green-800":e.system_health==="warning"?"bg-yellow-100 text-yellow-800":"bg-red-100 text-red-800"}`,children:e.system_health.toUpperCase()})]}),a.jsxs("div",{className:"flex justify-between items-center",children:[a.jsx("span",{className:"text-sm text-gray-600",children:"Model Drift"}),a.jsx("span",{className:`px-2 py-1 rounded-full text-xs font-medium ${e.model_drift_detected?"bg-red-100 text-red-800":"bg-green-100 text-green-800"}`,children:e.model_drift_detected?"DETECTED":"NORMAL"})]}),a.jsxs("div",{className:"flex justify-between items-center",children:[a.jsx("span",{className:"text-sm text-gray-600",children:"Active Models"}),a.jsx("span",{className:"font-medium text-green-600",children:"4/5"})]}),a.jsxs("div",{className:"flex justify-between items-center",children:[a.jsx("span",{className:"text-sm text-gray-600",children:"Failed Deployments"}),a.jsx("span",{className:"font-medium text-green-600",children:"0"})]})]})]}),a.jsxs("div",{className:"bg-white rounded-xl shadow-sm border p-6",children:[a.jsx("h3",{className:"text-lg font-semibold mb-4",children:"Recent Activity"}),a.jsxs("div",{className:"space-y-3",children:[a.jsxs("div",{className:"flex items-start gap-2",children:[a.jsx(Tt,{className:"w-4 h-4 text-green-500 mt-0.5 flex-shrink-0"}),a.jsxs("div",{children:[a.jsx("div",{className:"text-sm font-medium",children:"Model deployed"}),a.jsx("div",{className:"text-xs text-gray-600",children:"Sentiment Analyzer v2.1.0 - 2 hours ago"})]})]}),a.jsxs("div",{className:"flex items-start gap-2",children:[a.jsx(sn,{className:"w-4 h-4 text-blue-500 mt-0.5 flex-shrink-0"}),a.jsxs("div",{children:[a.jsx("div",{className:"text-sm font-medium",children:"Retraining started"}),a.jsx("div",{className:"text-xs text-gray-600",children:"Customer Segmentation - 4 hours ago"})]})]}),a.jsxs("div",{className:"flex items-start gap-2",children:[a.jsx(pa,{className:"w-4 h-4 text-yellow-500 mt-0.5 flex-shrink-0"}),a.jsxs("div",{children:[a.jsx("div",{className:"text-sm font-medium",children:"Performance alert"}),a.jsx("div",{className:"text-xs text-gray-600",children:"Lead Scorer accuracy dropped - 6 hours ago"})]})]}),a.jsxs("div",{className:"flex items-start gap-2",children:[a.jsx(Op,{className:"w-4 h-4 text-green-500 mt-0.5 flex-shrink-0"}),a.jsxs("div",{children:[a.jsx("div",{className:"text-sm font-medium",children:"Scheduled retraining"}),a.jsx("div",{className:"text-xs text-gray-600",children:"Churn Predictor - scheduled for tomorrow"})]})]})]})]})]}),a.jsxs("div",{className:"bg-white rounded-xl shadow-sm border p-6",children:[a.jsx("h3",{className:"text-lg font-semibold mb-4",children:"Quick Actions"}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4",children:[a.jsxs("button",{className:"flex items-center justify-center gap-2 p-3 border border-blue-200 rounded-lg hover:bg-blue-50 transition-colors",children:[a.jsx(sn,{className:"w-4 h-4 text-blue-600"}),a.jsx("span",{className:"text-sm font-medium text-blue-700",children:"Run Health Check"})]}),a.jsxs("button",{className:"flex items-center justify-center gap-2 p-3 border border-green-200 rounded-lg hover:bg-green-50 transition-colors",children:[a.jsx(Op,{className:"w-4 h-4 text-green-600"}),a.jsx("span",{className:"text-sm font-medium text-green-700",children:"Start Retraining"})]}),a.jsxs("button",{className:"flex items-center justify-center gap-2 p-3 border border-purple-200 rounded-lg hover:bg-purple-50 transition-colors",children:[a.jsx(os,{className:"w-4 h-4 text-purple-600"}),a.jsx("span",{className:"text-sm font-medium text-purple-700",children:"Deploy Model"})]}),a.jsxs("button",{className:"flex items-center justify-center gap-2 p-3 border border-orange-200 rounded-lg hover:bg-orange-50 transition-colors",children:[a.jsx(Hs,{className:"w-4 h-4 text-orange-600"}),a.jsx("span",{className:"text-sm font-medium text-orange-700",children:"Configure Alerts"})]})]})]})]})}function UAe(){const[e,t]=v.useState([]),[r,n]=v.useState(!0),[s,i]=v.useState(!1),[l,c]=v.useState(null),[d,f]=v.useState(""),[h,g]=v.useState(null),[p,y]=v.useState(null),[b,w]=v.useState(null),[j,S]=v.useState(null),k=v.useRef(null);v.useEffect(()=>{E(),C()},[]);const E=async()=>{try{const W=localStorage.getItem("access_token"),se=await fetch("/api/documents/documents",{headers:{Authorization:`Bearer ${W}`}});if(se.ok){const oe=await se.json();t(oe)}else console.error("Error loading documents:",se.status,se.statusText),t([])}catch(W){console.error("Error loading documents:",W),t([])}finally{n(!1)}},C=async()=>{try{const W=localStorage.getItem("access_token"),se=await fetch("/api/documents/stats",{headers:{Authorization:`Bearer ${W}`}});if(se.ok){const oe=await se.json();w(oe)}else console.error("Error loading stats:",se.status,se.statusText),w({total_documents:0,total_size_mb:0,by_type:{},processing_status:{completed:0,processing:0,failed:0},recent_uploads:0})}catch(W){console.error("Error loading stats:",W),w({total_documents:0,total_size_mb:0,by_type:{},processing_status:{completed:0,processing:0,failed:0},recent_uploads:0})}},T=async W=>{const se=W.target.files?.[0];if(se){i(!0),S(null);try{const oe=new FormData;oe.append("file",se);const Y=await fetch("/api/documents/upload",{method:"POST",body:oe});if(Y.ok){const Q=await Y.json();t(te=>[Q,...te]),C()}else{const Q=await Y.json();S(Q.detail||"Upload failed")}}catch(oe){S("Upload failed"),console.error("Upload error:",oe)}finally{i(!1),k.current&&(k.current.value="")}}},A=async W=>{c(W),S(null);try{const se=await fetch(`/api/documents/${W}/analyze`,{method:"POST"});if(se.ok){const oe=await se.json();y(oe),g(e.find(Y=>Y.id===W)||null),E()}else{const oe=await se.json();S(oe.detail||"Analysis failed")}}catch(se){S("Analysis failed"),console.error("Analysis error:",se)}finally{c(null)}},O=async(W,se)=>{try{const oe=await fetch(`/api/documents/${W}/download`);if(oe.ok){const Y=await oe.blob(),Q=window.URL.createObjectURL(Y),te=document.createElement("a");te.href=Q,te.download=se,document.body.appendChild(te),te.click(),window.URL.revokeObjectURL(Q),document.body.removeChild(te)}}catch(oe){console.error("Download error:",oe)}},D=async W=>{if(confirm("Are you sure you want to delete this document?"))try{(await fetch(`/api/documents/${W}`,{method:"DELETE"})).ok&&(t(oe=>oe.filter(Y=>Y.id!==W)),C(),h?.id===W&&(g(null),y(null)))}catch(se){console.error("Delete error:",se)}},R=async()=>{if(!d.trim()){E();return}try{const W=await fetch(`/api/documents/search?q=${encodeURIComponent(d)}`);if(W.ok){const se=await W.json();t(se)}}catch(W){console.error("Search error:",W)}},B=W=>{if(W===0)return"0 Bytes";const se=1024,oe=["Bytes","KB","MB","GB"],Y=Math.floor(Math.log(W)/Math.log(se));return parseFloat((W/Math.pow(se,Y)).toFixed(2))+" "+oe[Y]},V=W=>{switch(W){case"completed":return"bg-green-100 text-green-800";case"processing":case"running":return"bg-blue-100 text-blue-800";case"failed":return"bg-red-100 text-red-800";default:return"bg-gray-100 text-gray-800"}};return r?a.jsx("div",{className:"flex items-center justify-center min-h-screen",children:a.jsx("div",{className:"animate-spin rounded-full h-32 w-32 border-b-2 border-blue-600"})}):a.jsxs("div",{className:"p-6 max-w-7xl mx-auto",children:[a.jsxs("div",{className:"mb-8",children:[a.jsxs("div",{className:"flex items-center gap-3 mb-2",children:[a.jsx("div",{className:"p-2 bg-blue-100 rounded-lg",children:a.jsx(ra,{className:"w-6 h-6 text-blue-600"})}),a.jsx("h1",{className:"text-3xl font-bold text-gray-900",children:"Document Processing"}),a.jsx("span",{className:"px-3 py-1 bg-green-100 text-green-800 text-sm font-medium rounded-full",children:"AI-Powered Analysis"})]}),a.jsx("p",{className:"text-gray-600",children:"Upload, analyze, and search through documents using AI-powered processing and insights"}),a.jsx("div",{className:"mt-4 p-3 bg-blue-50 border border-blue-200 rounded-lg",children:a.jsxs("p",{className:"text-blue-800 text-sm",children:[a.jsx("strong",{children:"Demo Mode:"})," Upload documents for AI analysis including summarization, entity extraction, and sentiment analysis."]})}),j&&a.jsx("div",{className:"mt-4 p-3 bg-red-50 border border-red-200 rounded-lg",children:a.jsxs("p",{className:"text-red-800 text-sm",children:[a.jsx("strong",{children:"Error:"})," ",j]})})]}),b&&a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-6 mb-8",children:[a.jsx("div",{className:"bg-white rounded-xl shadow-sm border p-6",children:a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{children:[a.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Total Documents"}),a.jsx("p",{className:"text-2xl font-bold text-gray-900",children:b.total_documents})]}),a.jsx("div",{className:"p-3 bg-blue-100 rounded-lg",children:a.jsx(ra,{className:"w-6 h-6 text-blue-600"})})]})}),a.jsx("div",{className:"bg-white rounded-xl shadow-sm border p-6",children:a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{children:[a.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Total Size"}),a.jsxs("p",{className:"text-2xl font-bold text-gray-900",children:[b.total_size_mb.toFixed(1)," MB"]})]}),a.jsx("div",{className:"p-3 bg-green-100 rounded-lg",children:a.jsx(pC,{className:"w-6 h-6 text-green-600"})})]})}),a.jsx("div",{className:"bg-white rounded-xl shadow-sm border p-6",children:a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{children:[a.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Processed"}),a.jsx("p",{className:"text-2xl font-bold text-gray-900",children:b.processing_status.completed||0})]}),a.jsx("div",{className:"p-3 bg-purple-100 rounded-lg",children:a.jsx(Tt,{className:"w-6 h-6 text-purple-600"})})]})}),a.jsx("div",{className:"bg-white rounded-xl shadow-sm border p-6",children:a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{children:[a.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Recent Uploads"}),a.jsx("p",{className:"text-2xl font-bold text-gray-900",children:b.recent_uploads})]}),a.jsx("div",{className:"p-3 bg-orange-100 rounded-lg",children:a.jsx(La,{className:"w-6 h-6 text-orange-600"})})]})})]}),a.jsx("div",{className:"bg-white rounded-xl shadow-sm border p-6 mb-8",children:a.jsxs("div",{className:"flex flex-col md:flex-row gap-4",children:[a.jsxs("div",{className:"flex-1",children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Upload Document"}),a.jsxs("div",{className:"flex gap-2",children:[a.jsx("input",{ref:k,type:"file",accept:".pdf,.docx,.doc,.txt",onChange:T,className:"hidden",disabled:s}),a.jsxs("button",{onClick:()=>k.current?.click(),disabled:s,className:"flex items-center gap-2 px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 disabled:opacity-50",children:[s?a.jsx("div",{className:"animate-spin rounded-full h-4 w-4 border-b-2 border-white"}):a.jsx(pC,{className:"w-4 h-4"}),s?"Uploading...":"Choose File"]}),a.jsx("span",{className:"text-sm text-gray-500 self-center",children:"PDF, DOCX, DOC, TXT (max 10MB)"})]})]}),a.jsxs("div",{className:"flex-1",children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Search Documents"}),a.jsxs("div",{className:"flex gap-2",children:[a.jsx("input",{type:"text",value:d,onChange:W=>f(W.target.value),onKeyPress:W=>W.key==="Enter"&&R(),placeholder:"Search by content or filename...",className:"flex-1 px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent"}),a.jsx("button",{onClick:R,className:"px-4 py-2 bg-gray-600 text-white rounded-lg hover:bg-gray-700",children:a.jsx(Fi,{className:"w-4 h-4"})})]})]})]})}),a.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6",children:[a.jsx("div",{className:"lg:col-span-2",children:a.jsxs("div",{className:"bg-white rounded-xl shadow-sm border",children:[a.jsx("div",{className:"p-6 border-b",children:a.jsx("h2",{className:"text-lg font-semibold",children:"Documents"})}),a.jsx("div",{className:"divide-y",children:e.length===0?a.jsxs("div",{className:"p-8 text-center text-gray-500",children:[a.jsx(ra,{className:"w-12 h-12 mx-auto mb-4 opacity-50"}),a.jsx("p",{children:"No documents uploaded yet"}),a.jsx("p",{className:"text-sm",children:"Upload a document to get started"})]}):e.map(W=>a.jsx("div",{className:"p-4 hover:bg-gray-50",children:a.jsxs("div",{className:"flex items-start justify-between",children:[a.jsxs("div",{className:"flex-1",children:[a.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[a.jsx(cG,{className:"w-4 h-4 text-gray-400"}),a.jsx("h3",{className:"font-medium text-gray-900",children:W.filename}),a.jsx("span",{className:`px-2 py-1 rounded-full text-xs font-medium ${V(W.processing_status)}`,children:W.processing_status})]}),a.jsxs("div",{className:"text-sm text-gray-600 space-y-1",children:[a.jsxs("p",{children:[B(W.file_size)," • ",W.file_type.toUpperCase()," • ",W.page_count," pages"]}),a.jsxs("p",{children:["Uploaded ",new Date(W.upload_date).toLocaleDateString()]}),W.summary&&a.jsxs("p",{className:"text-gray-700 italic",children:['"',W.summary.substring(0,100),'..."']})]})]}),a.jsxs("div",{className:"flex items-center gap-2 ml-4",children:[a.jsx("button",{onClick:()=>A(W.id),disabled:l===W.id,className:"p-2 text-blue-600 hover:bg-blue-50 rounded-lg disabled:opacity-50",title:"Analyze with AI",children:l===W.id?a.jsx("div",{className:"animate-spin rounded-full h-4 w-4 border-b-2 border-blue-600"}):a.jsx(os,{className:"w-4 h-4"})}),a.jsx("button",{onClick:()=>O(W.id,W.filename),className:"p-2 text-green-600 hover:bg-green-50 rounded-lg",title:"Download",children:a.jsx(hh,{className:"w-4 h-4"})}),a.jsx("button",{onClick:()=>D(W.id),className:"p-2 text-red-600 hover:bg-red-50 rounded-lg",title:"Delete",children:a.jsx(mi,{className:"w-4 h-4"})})]})]})},W.id))})]})}),a.jsx("div",{className:"lg:col-span-1",children:h&&p?a.jsxs("div",{className:"bg-white rounded-xl shadow-sm border",children:[a.jsxs("div",{className:"p-6 border-b",children:[a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsx("h2",{className:"text-lg font-semibold",children:"AI Analysis"}),a.jsx("button",{onClick:()=>{g(null),y(null)},className:"p-1 text-gray-400 hover:text-gray-600",children:a.jsx(jr,{className:"w-4 h-4"})})]}),a.jsx("p",{className:"text-sm text-gray-600",children:h.filename})]}),a.jsxs("div",{className:"p-6 space-y-6",children:[a.jsxs("div",{children:[a.jsx("h3",{className:"font-medium text-gray-900 mb-2",children:"Summary"}),a.jsx("p",{className:"text-sm text-gray-700",children:p.summary})]}),p.key_points.length>0&&a.jsxs("div",{children:[a.jsx("h3",{className:"font-medium text-gray-900 mb-2",children:"Key Points"}),a.jsx("ul",{className:"space-y-1",children:p.key_points.map((W,se)=>a.jsxs("li",{className:"text-sm text-gray-700 flex items-start gap-2",children:[a.jsx("span",{className:"text-blue-500 mt-1",children:"•"}),W]},se))})]}),a.jsxs("div",{children:[a.jsx("h3",{className:"font-medium text-gray-900 mb-2",children:"Sentiment"}),a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx("span",{className:`px-2 py-1 rounded text-xs font-medium ${p.sentiment.label==="positive"?"bg-green-100 text-green-800":p.sentiment.label==="negative"?"bg-red-100 text-red-800":"bg-gray-100 text-gray-800"}`,children:p.sentiment.label}),a.jsxs("span",{className:"text-sm text-gray-600",children:["Score: ",p.sentiment.score?.toFixed(2)]})]})]}),p.categories.length>0&&a.jsxs("div",{children:[a.jsx("h3",{className:"font-medium text-gray-900 mb-2",children:"Categories"}),a.jsx("div",{className:"flex flex-wrap gap-1",children:p.categories.map((W,se)=>a.jsx("span",{className:"px-2 py-1 bg-blue-100 text-blue-800 text-xs rounded",children:W},se))})]}),p.entities.length>0&&a.jsxs("div",{children:[a.jsx("h3",{className:"font-medium text-gray-900 mb-2",children:"Entities Found"}),a.jsx("div",{className:"space-y-1",children:p.entities.slice(0,5).map((W,se)=>a.jsxs("div",{className:"text-sm text-gray-700",children:[a.jsx("span",{className:"font-medium",children:W.name||W}),W.type&&a.jsxs("span",{className:"text-gray-500",children:[" (",W.type,")"]})]},se))})]})]})]}):a.jsxs("div",{className:"bg-white rounded-xl shadow-sm border p-8 text-center",children:[a.jsx(os,{className:"w-12 h-12 mx-auto mb-4 text-gray-400"}),a.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-2",children:"AI Analysis"}),a.jsx("p",{className:"text-sm text-gray-600",children:"Select a document and click the brain icon to analyze it with AI"})]})})]})]})}function zAe({title:e,titleId:t,...r},n){return v.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:n,"aria-labelledby":t},r),e?v.createElement("title",{id:t},e):null,v.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"m16.862 4.487 1.687-1.688a1.875 1.875 0 1 1 2.652 2.652L6.832 19.82a4.5 4.5 0 0 1-1.897 1.13l-2.685.8.8-2.685a4.5 4.5 0 0 1 1.13-1.897L16.863 4.487Zm0 0L19.5 7.125"}))}const HAe=v.forwardRef(zAe);function VAe({title:e,titleId:t,...r},n){return v.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:n,"aria-labelledby":t},r),e?v.createElement("title",{id:t},e):null,v.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M12 4.5v15m7.5-7.5h-15"}))}const qAe=v.forwardRef(VAe);function WAe({title:e,titleId:t,...r},n){return v.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:n,"aria-labelledby":t},r),e?v.createElement("title",{id:t},e):null,v.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"m14.74 9-.346 9m-4.788 0L9.26 9m9.968-3.21c.342.052.682.107 1.022.166m-1.022-.165L18.16 19.673a2.25 2.25 0 0 1-2.244 2.077H8.084a2.25 2.25 0 0 1-2.244-2.077L4.772 5.79m14.456 0a48.108 48.108 0 0 0-3.478-.397m-12 .562c.34-.059.68-.114 1.022-.165m0 0a48.11 48.11 0 0 1 3.478-.397m7.5 0v-.916c0-1.18-.91-2.164-2.09-2.201a51.964 51.964 0 0 0-3.32 0c-1.18.037-2.09 1.022-2.09 2.201v.916m7.5 0a48.667 48.667 0 0 0-7.5 0"}))}const GAe=v.forwardRef(WAe),KAe=()=>{const[e,t]=v.useState([]),[r,n]=v.useState([]),[s,i]=v.useState(!0),[l,c]=v.useState(!1),[d,f]=v.useState(null),[h,g]=v.useState({rule_name:"",rule_description:"",criteria:{source:"",priority:"",location:"",industry:""},assignment_type:"user",assigned_user_id:0,priority:1,is_active:!0});v.useEffect(()=>{p(),y()},[]);const p=async()=>{try{const T=await Ee("/api/lead-assignment-rules","GET");t(T),i(!1)}catch(T){console.error("Error fetching rules:",T),i(!1)}},y=async()=>{try{const T=await Ee("/api/users","GET");n(T)}catch(T){console.error("Error fetching users:",T)}},b=async T=>{T.preventDefault();try{const A={...h,assigned_user_id:h.assignment_type==="user"?h.assigned_user_id:void 0,assigned_team_id:h.assignment_type==="team"?h.assigned_user_id:void 0};d?await Ee(`/api/lead-assignment-rules/${d.id}`,"PUT",A):await Ee("/api/lead-assignment-rules","POST",A),c(!1),f(null),S(),p()}catch(A){console.error("Error saving rule:",A),alert("Error saving rule. Please try again.")}},w=async T=>{if(confirm("Are you sure you want to delete this rule?"))try{await Ee(`/api/lead-assignment-rules/${T}`,"DELETE"),p()}catch(A){console.error("Error deleting rule:",A),alert("Error deleting rule. Please try again.")}},j=T=>{f(T),g({rule_name:T.rule_name,rule_description:T.rule_description||"",criteria:{source:T.criteria?.source||"",priority:T.criteria?.priority||"",location:T.criteria?.location||"",industry:T.criteria?.industry||""},assignment_type:T.assignment_type,assigned_user_id:T.assigned_user_id||0,priority:T.priority,is_active:T.is_active}),c(!0)},S=()=>{g({rule_name:"",rule_description:"",criteria:{source:"",priority:"",location:"",industry:""},assignment_type:"user",assigned_user_id:0,priority:1,is_active:!0})},k=(T,A)=>{g(O=>({...O,criteria:{...O.criteria,[T]:A}}))},E=T=>{switch(T.assignment_type){case"user":const A=r.find(O=>O.id===T.assigned_user_id);return A?A.name:`User ID: ${T.assigned_user_id}`;case"round_robin":return"Round Robin";case"team":return`Team ID: ${T.assigned_team_id}`;default:return"Unknown"}},C=T=>Object.entries(T).filter(([A,O])=>O&&O!=="").map(([A,O])=>`${A}: ${O}`).join(", ")||"No criteria";return s?a.jsx("div",{className:"flex items-center justify-center h-64",children:a.jsx("div",{className:"animate-spin rounded-full h-32 w-32 border-b-2 border-blue-600"})}):a.jsxs("div",{className:"p-6 max-w-7xl mx-auto",children:[a.jsxs("div",{className:"flex justify-between items-center mb-6",children:[a.jsxs("div",{children:[a.jsx("h1",{className:"text-3xl font-bold text-gray-900",children:"Lead Assignment Rules"}),a.jsx("p",{className:"text-gray-600 mt-2",children:"Automatically assign leads based on predefined criteria"})]}),a.jsxs("button",{onClick:()=>{f(null),S(),c(!0)},className:"bg-blue-600 text-white px-4 py-2 rounded-lg hover:bg-blue-700 flex items-center gap-2",children:[a.jsx(qAe,{className:"h-5 w-5"}),"Create Rule"]})]}),l&&a.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:a.jsxs("div",{className:"bg-white rounded-lg p-6 w-full max-w-2xl max-h-[90vh] overflow-y-auto",children:[a.jsx("h2",{className:"text-2xl font-bold mb-4",children:d?"Edit Rule":"Create New Rule"}),a.jsxs("form",{onSubmit:b,className:"space-y-4",children:[a.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Rule Name *"}),a.jsx("input",{type:"text",value:h.rule_name,onChange:T=>g(A=>({...A,rule_name:T.target.value})),className:"w-full border border-gray-300 rounded-lg px-3 py-2 focus:ring-2 focus:ring-blue-500 focus:border-transparent",required:!0})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Priority *"}),a.jsx("input",{type:"number",min:"1",value:h.priority,onChange:T=>g(A=>({...A,priority:parseInt(T.target.value)})),className:"w-full border border-gray-300 rounded-lg px-3 py-2 focus:ring-2 focus:ring-blue-500 focus:border-transparent",required:!0}),a.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"Lower numbers = higher priority"})]})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Description"}),a.jsx("textarea",{value:h.rule_description,onChange:T=>g(A=>({...A,rule_description:T.target.value})),className:"w-full border border-gray-300 rounded-lg px-3 py-2 focus:ring-2 focus:ring-blue-500 focus:border-transparent",rows:3})]}),a.jsxs("div",{className:"border-t pt-4",children:[a.jsx("h3",{className:"text-lg font-medium mb-3",children:"Assignment Criteria"}),a.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Lead Source"}),a.jsxs("select",{value:h.criteria.source,onChange:T=>k("source",T.target.value),className:"w-full border border-gray-300 rounded-lg px-3 py-2 focus:ring-2 focus:ring-blue-500 focus:border-transparent",children:[a.jsx("option",{value:"",children:"Any"}),a.jsx("option",{value:"website",children:"Website"}),a.jsx("option",{value:"referral",children:"Referral"}),a.jsx("option",{value:"email",children:"Email"}),a.jsx("option",{value:"phone",children:"Phone"}),a.jsx("option",{value:"social",children:"Social Media"})]})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Priority Level"}),a.jsxs("select",{value:h.criteria.priority,onChange:T=>k("priority",T.target.value),className:"w-full border border-gray-300 rounded-lg px-3 py-2 focus:ring-2 focus:ring-blue-500 focus:border-transparent",children:[a.jsx("option",{value:"",children:"Any"}),a.jsx("option",{value:"high",children:"High"}),a.jsx("option",{value:"medium",children:"Medium"}),a.jsx("option",{value:"low",children:"Low"})]})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Location"}),a.jsx("input",{type:"text",value:h.criteria.location,onChange:T=>k("location",T.target.value),placeholder:"e.g., Dubai, UAE",className:"w-full border border-gray-300 rounded-lg px-3 py-2 focus:ring-2 focus:ring-blue-500 focus:border-transparent"})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Industry"}),a.jsx("input",{type:"text",value:h.criteria.industry,onChange:T=>k("industry",T.target.value),placeholder:"e.g., Technology, Healthcare",className:"w-full border border-gray-300 rounded-lg px-3 py-2 focus:ring-2 focus:ring-blue-500 focus:border-transparent"})]})]})]}),a.jsxs("div",{className:"border-t pt-4",children:[a.jsx("h3",{className:"text-lg font-medium mb-3",children:"Assignment Method"}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Assignment Type *"}),a.jsxs("select",{value:h.assignment_type,onChange:T=>g(A=>({...A,assignment_type:T.target.value,assigned_user_id:T.target.value==="round_robin"?0:A.assigned_user_id})),className:"w-full border border-gray-300 rounded-lg px-3 py-2 focus:ring-2 focus:ring-blue-500 focus:border-transparent",required:!0,children:[a.jsx("option",{value:"user",children:"Assign to Specific User"}),a.jsx("option",{value:"round_robin",children:"Round Robin Distribution"}),a.jsx("option",{value:"team",children:"Assign to Team"})]})]}),h.assignment_type==="user"&&a.jsxs("div",{className:"mt-3",children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Assign to User *"}),a.jsxs("select",{value:h.assigned_user_id,onChange:T=>g(A=>({...A,assigned_user_id:parseInt(T.target.value)})),className:"w-full border border-gray-300 rounded-lg px-3 py-2 focus:ring-2 focus:ring-blue-500 focus:border-transparent",required:!0,children:[a.jsx("option",{value:0,children:"Select User"}),r.map(T=>a.jsxs("option",{value:T.id,children:[T.name," (",T.email,")"]},T.id))]})]})]}),a.jsxs("div",{className:"flex items-center",children:[a.jsx("input",{type:"checkbox",id:"is_active",checked:h.is_active,onChange:T=>g(A=>({...A,is_active:T.target.checked})),className:"h-4 w-4 text-blue-600 focus:ring-blue-500 border-gray-300 rounded"}),a.jsx("label",{htmlFor:"is_active",className:"ml-2 block text-sm text-gray-900",children:"Active (Rule will be applied to new leads)"})]}),a.jsxs("div",{className:"flex justify-end gap-3 pt-4",children:[a.jsx("button",{type:"button",onClick:()=>{c(!1),f(null),S()},className:"px-4 py-2 text-gray-700 bg-gray-200 rounded-lg hover:bg-gray-300",children:"Cancel"}),a.jsx("button",{type:"submit",className:"px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700",children:d?"Update Rule":"Create Rule"})]})]})]})}),a.jsx("div",{className:"bg-white rounded-lg shadow",children:e.length===0?a.jsxs("div",{className:"text-center py-12",children:[a.jsx("div",{className:"text-gray-400 text-6xl mb-4",children:"📋"}),a.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-2",children:"No assignment rules yet"}),a.jsx("p",{className:"text-gray-600 mb-4",children:"Create your first rule to automatically assign leads"}),a.jsx("button",{onClick:()=>{f(null),S(),c(!0)},className:"bg-blue-600 text-white px-4 py-2 rounded-lg hover:bg-blue-700",children:"Create Your First Rule"})]}):a.jsx("div",{className:"overflow-x-auto",children:a.jsxs("table",{className:"min-w-full divide-y divide-gray-200",children:[a.jsx("thead",{className:"bg-gray-50",children:a.jsxs("tr",{children:[a.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Rule"}),a.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Criteria"}),a.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Assignment"}),a.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Priority"}),a.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Status"}),a.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Actions"})]})}),a.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:e.map(T=>a.jsxs("tr",{className:"hover:bg-gray-50",children:[a.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:a.jsxs("div",{children:[a.jsx("div",{className:"text-sm font-medium text-gray-900",children:T.rule_name}),T.rule_description&&a.jsx("div",{className:"text-sm text-gray-500",children:T.rule_description})]})}),a.jsx("td",{className:"px-6 py-4",children:a.jsx("div",{className:"text-sm text-gray-900",children:C(T.criteria)})}),a.jsxs("td",{className:"px-6 py-4 whitespace-nowrap",children:[a.jsx("div",{className:"text-sm text-gray-900",children:E(T)}),a.jsx("div",{className:"text-sm text-gray-500",children:T.assignment_type.replace("_"," ")})]}),a.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:a.jsxs("span",{className:"inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium bg-blue-100 text-blue-800",children:["Priority ",T.priority]})}),a.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:a.jsx("span",{className:`inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium ${T.is_active?"bg-green-100 text-green-800":"bg-gray-100 text-gray-800"}`,children:T.is_active?"Active":"Inactive"})}),a.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm font-medium",children:a.jsxs("div",{className:"flex space-x-2",children:[a.jsx("button",{onClick:()=>j(T),className:"text-blue-600 hover:text-blue-900",children:a.jsx(HAe,{className:"h-4 w-4"})}),a.jsx("button",{onClick:()=>w(T.id),className:"text-red-600 hover:text-red-900",children:a.jsx(GAe,{className:"h-4 w-4"})})]})})]},T.id))})]})})}),a.jsxs("div",{className:"mt-8 bg-blue-50 rounded-lg p-6",children:[a.jsx("h3",{className:"text-lg font-medium text-blue-900 mb-3",children:"How Lead Assignment Rules Work"}),a.jsxs("div",{className:"text-blue-800 space-y-2",children:[a.jsx("p",{children:"• Rules are processed in priority order (1 = highest priority)"}),a.jsx("p",{children:"• When a new lead is created, the system checks all active rules"}),a.jsx("p",{children:"• The first rule whose criteria match the lead will assign it"}),a.jsx("p",{children:"• Use specific criteria (source, priority, location) to target the right leads"}),a.jsx("p",{children:"• Round-robin assignment distributes leads evenly among available users"})]})]})]})},YAe=()=>{const[e,t]=v.useState("workflows"),[r,n]=v.useState([]),[s,i]=v.useState([]),[l,c]=v.useState([]),[d,f]=v.useState(!1),[h,g]=v.useState(null),[p,y]=v.useState([]),[b,w]=v.useState(!1),[j,S]=v.useState(!1),[k,E]=v.useState("approve"),[C,T]=v.useState(""),[A,O]=v.useState("all"),[D,R]=v.useState("all"),[B,V]=v.useState(!1),[W,se]=v.useState(""),[oe,Y]=v.useState({workflow_name:"",workflow_description:"",entity_type:"deal",trigger_conditions:{},approval_steps:[],is_active:!0}),Q=[{id:"workflows",name:"Workflows",icon:a.jsx(Hs,{className:"w-5 h-5"})},{id:"requests",name:"All Requests",icon:a.jsx(ra,{className:"w-5 h-5"})},{id:"my-pending",name:"My Pending",icon:a.jsx(La,{className:"w-5 h-5"})},{id:"settings",name:"Settings",icon:a.jsx(Hs,{className:"w-5 h-5"})}];v.useEffect(()=>{if(!localStorage.getItem("access_token")){console.log("No authentication token found, skipping API calls");return}e==="workflows"?te():e==="requests"?ue():e==="my-pending"&&ve()},[e,A,D]);const te=async()=>{f(!0);try{const ne=await fetch("/api/approval-workflows",{headers:{Authorization:`Bearer ${localStorage.getItem("access_token")}`}}),le=await ne.json();ne.ok?n(Array.isArray(le)?le:[]):(console.error("Failed to fetch workflows:",le.error),ne.status===401&&console.error("Authentication failed - please log in again"),n([]))}catch(ne){console.error("Error fetching workflows:",ne)}finally{f(!1)}},ue=async()=>{f(!0);try{let ne="/api/approval-requests";const le=new URLSearchParams;A!=="all"&&le.append("status",A),D!=="all"&&le.append("entity_type",D),le.toString()&&(ne+=`?${le.toString()}`);const he=await fetch(ne,{headers:{Authorization:`Bearer ${localStorage.getItem("token")}`}}),Le=await he.json();he.ok?i(Array.isArray(Le)?Le:[]):(console.error("Failed to fetch requests:",Le.error),i([]))}catch(ne){console.error("Error fetching requests:",ne)}finally{f(!1)}},ve=async()=>{f(!0);try{const ne=await fetch("/api/approval-requests/my-pending",{headers:{Authorization:`Bearer ${localStorage.getItem("token")}`}}),le=await ne.json();ne.ok?c(Array.isArray(le)?le:[]):(console.error("Failed to fetch pending approvals:",le.error),c([]))}catch(ne){console.error("Error fetching pending approvals:",ne)}finally{f(!1)}},U=async ne=>{try{const le=await fetch(`/api/approval-requests/${ne}/steps`,{headers:{Authorization:`Bearer ${localStorage.getItem("token")}`}}),he=await le.json();le.ok?y(he):console.error("Failed to fetch approval steps:",he.error)}catch(le){console.error("Error fetching approval steps:",le)}},ie=async()=>{const ne=localStorage.getItem("access_token");if(!ne){console.error("No authentication token found - please log in first"),alert("Please log in first to create sample workflows");return}try{const le=await fetch("/api/approval-workflows/create-samples",{method:"POST",headers:{Authorization:`Bearer ${ne}`}}),he=await le.json();le.ok?(te(),he.already_exists?se(`Sample workflows already exist: ${he.workflows.map(Le=>Le.name).join(", ")}`):se(`Successfully created ${he.workflows.length} sample workflows!`),V(!0)):alert(`Failed to create sample workflows: ${he.error}`)}catch(le){console.error("Error creating sample workflows:",le),alert("Error creating sample workflows")}},F=async()=>{const ne=localStorage.getItem("access_token");if(!ne){console.error("No authentication token found - please log in first"),alert("Please log in first to create workflows");return}try{const le=await fetch("/api/approval-workflows",{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${ne}`},body:JSON.stringify(oe)}),he=await le.json();le.ok?(w(!1),Y({workflow_name:"",workflow_description:"",entity_type:"deal",trigger_conditions:{},approval_steps:[],is_active:!0}),te(),se("Workflow created successfully!"),V(!0)):alert(`Failed to create workflow: ${he.error}`)}catch(le){console.error("Error creating workflow:",le),alert("Error creating workflow")}},G=async(ne,le)=>{try{const he=await fetch(`/api/approval-requests/${ne}/action`,{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${localStorage.getItem("token")}`},body:JSON.stringify({action:le,comments:C})}),Le=await he.json();he.ok?(S(!1),T(""),ve(),ue(),se(`Request ${le}d successfully`),V(!0)):alert(`Failed to ${le} request: ${Le.error}`)}catch(he){console.error(`Error ${le}ing request:`,he),alert(`Error ${le}ing request`)}},z=ne=>{switch(ne){case"approved":return"text-green-600 bg-green-100";case"rejected":return"text-red-600 bg-red-100";case"pending":return"text-yellow-600 bg-yellow-100";case"cancelled":return"text-gray-600 bg-gray-100";default:return"text-gray-600 bg-gray-100"}},q=ne=>{switch(ne){case"urgent":return"text-red-600 bg-red-100";case"high":return"text-orange-600 bg-orange-100";case"medium":return"text-blue-600 bg-blue-100";case"low":return"text-gray-600 bg-gray-100";default:return"text-gray-600 bg-gray-100"}},de=ne=>{switch(ne){case"deal":return a.jsx(Jc,{className:"w-4 h-4"});case"task":return a.jsx(Tt,{className:"w-4 h-4"});case"expense":return a.jsx(Cr,{className:"w-4 h-4"});case"lead_qualification":return a.jsx(ha,{className:"w-4 h-4"});default:return a.jsx(ra,{className:"w-4 h-4"})}},De=ne=>new Date(ne).toLocaleDateString("en-US",{year:"numeric",month:"short",day:"numeric",hour:"2-digit",minute:"2-digit"});return a.jsxs("div",{className:"min-h-screen bg-gray-50 dark:bg-gray-900",children:[a.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8",children:[a.jsxs("div",{className:"mb-8",children:[a.jsx("h1",{className:"text-3xl font-bold text-gray-900 dark:text-white",children:"Approval Workflows"}),a.jsx("p",{className:"mt-2 text-gray-600 dark:text-gray-400",children:"Manage approval processes for deals, tasks, and other business operations"})]}),a.jsx("div",{className:"mb-6",children:a.jsx("div",{className:"border-b border-gray-200 dark:border-gray-700",children:a.jsx("nav",{className:"-mb-px flex space-x-8",children:Q.map(ne=>a.jsxs("button",{onClick:()=>t(ne.id),className:`flex items-center space-x-2 py-2 px-1 border-b-2 font-medium text-sm ${e===ne.id?"border-blue-500 text-blue-600 dark:text-blue-400":"border-transparent text-gray-500 hover:text-gray-700 hover:border-gray-300 dark:text-gray-400 dark:hover:text-gray-300"}`,children:[ne.icon,a.jsx("span",{children:ne.name})]},ne.id))})})}),(e==="requests"||e==="my-pending")&&a.jsxs("div",{className:"mb-6 flex flex-wrap gap-4",children:[a.jsxs("div",{className:"flex items-center space-x-2",children:[a.jsx(K2,{className:"w-4 h-4 text-gray-500"}),a.jsxs("select",{value:A,onChange:ne=>O(ne.target.value),className:"px-3 py-2 border border-gray-300 rounded-md text-sm focus:outline-none focus:ring-2 focus:ring-blue-500 dark:bg-gray-800 dark:border-gray-600 dark:text-white",children:[a.jsx("option",{value:"all",children:"All Status"}),a.jsx("option",{value:"pending",children:"Pending"}),a.jsx("option",{value:"approved",children:"Approved"}),a.jsx("option",{value:"rejected",children:"Rejected"}),a.jsx("option",{value:"cancelled",children:"Cancelled"})]})]}),a.jsx("div",{className:"flex items-center space-x-2",children:a.jsxs("select",{value:D,onChange:ne=>R(ne.target.value),className:"px-3 py-2 border border-gray-300 rounded-md text-sm focus:outline-none focus:ring-2 focus:ring-blue-500 dark:bg-gray-800 dark:border-gray-600 dark:text-white",children:[a.jsx("option",{value:"all",children:"All Types"}),a.jsx("option",{value:"deal",children:"Deals"}),a.jsx("option",{value:"task",children:"Tasks"}),a.jsx("option",{value:"expense",children:"Expenses"}),a.jsx("option",{value:"lead_qualification",children:"Lead Qualification"})]})})]}),d?a.jsx("div",{className:"flex justify-center items-center py-12",children:a.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-blue-600"})}):a.jsxs(a.Fragment,{children:[e==="workflows"&&a.jsxs("div",{className:"space-y-6",children:[a.jsxs("div",{className:"flex justify-between items-center",children:[a.jsx("h2",{className:"text-xl font-semibold text-gray-900 dark:text-white",children:"Approval Workflows"}),a.jsxs("div",{className:"flex space-x-3",children:[a.jsxs("button",{onClick:ie,className:"flex items-center space-x-2 px-4 py-2 bg-green-600 text-white rounded-lg hover:bg-green-700 transition-colors",children:[a.jsx(_r,{className:"w-4 h-4"}),a.jsx("span",{children:"Create Samples"})]}),a.jsxs("button",{onClick:()=>w(!0),className:"flex items-center space-x-2 px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors",children:[a.jsx(_r,{className:"w-4 h-4"}),a.jsx("span",{children:"Create Workflow"})]})]})]}),a.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:r&&Array.isArray(r)?r.map(ne=>a.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-lg shadow-sm border border-gray-200 dark:border-gray-700 p-6",children:[a.jsxs("div",{className:"flex items-start justify-between mb-4",children:[a.jsxs("div",{className:"flex items-center space-x-2",children:[de(ne.entity_type),a.jsx("h3",{className:"font-semibold text-gray-900 dark:text-white",children:ne.workflow_name})]}),a.jsx("span",{className:`px-2 py-1 text-xs rounded-full ${ne.is_active?"bg-green-100 text-green-800 dark:bg-green-900 dark:text-green-200":"bg-gray-100 text-gray-800 dark:bg-gray-700 dark:text-gray-200"}`,children:ne.is_active?"Active":"Inactive"})]}),ne.workflow_description&&a.jsx("p",{className:"text-gray-600 dark:text-gray-400 text-sm mb-4",children:ne.workflow_description}),a.jsxs("div",{className:"space-y-2 text-sm text-gray-600 dark:text-gray-400",children:[a.jsxs("div",{className:"flex justify-between",children:[a.jsx("span",{children:"Entity Type:"}),a.jsx("span",{className:"capitalize",children:ne.entity_type.replace("_"," ")})]}),a.jsxs("div",{className:"flex justify-between",children:[a.jsx("span",{children:"Steps:"}),a.jsx("span",{children:ne.approval_steps.length})]}),a.jsxs("div",{className:"flex justify-between",children:[a.jsx("span",{children:"Created:"}),a.jsx("span",{children:De(ne.created_at)})]})]})]},ne.id)):a.jsx("div",{className:"col-span-full text-center py-8 text-gray-500 dark:text-gray-400",children:"No workflows found"})})]}),e==="requests"&&a.jsxs("div",{className:"space-y-6",children:[a.jsx("h2",{className:"text-xl font-semibold text-gray-900 dark:text-white",children:"All Approval Requests"}),a.jsx("div",{className:"bg-white dark:bg-gray-800 rounded-lg shadow-sm border border-gray-200 dark:border-gray-700 overflow-hidden",children:a.jsx("div",{className:"overflow-x-auto",children:a.jsxs("table",{className:"min-w-full divide-y divide-gray-200 dark:divide-gray-700",children:[a.jsx("thead",{className:"bg-gray-50 dark:bg-gray-700",children:a.jsxs("tr",{children:[a.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-300 uppercase tracking-wider",children:"Request"}),a.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-300 uppercase tracking-wider",children:"Type"}),a.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-300 uppercase tracking-wider",children:"Priority"}),a.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-300 uppercase tracking-wider",children:"Status"}),a.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-300 uppercase tracking-wider",children:"Progress"}),a.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-300 uppercase tracking-wider",children:"Requested"}),a.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-300 uppercase tracking-wider",children:"Actions"})]})}),a.jsx("tbody",{className:"bg-white dark:bg-gray-800 divide-y divide-gray-200 dark:divide-gray-700",children:s&&Array.isArray(s)?s.map(ne=>a.jsxs("tr",{className:"hover:bg-gray-50 dark:hover:bg-gray-700",children:[a.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:a.jsxs("div",{children:[a.jsx("div",{className:"text-sm font-medium text-gray-900 dark:text-white",children:ne.request_reason}),a.jsxs("div",{className:"text-sm text-gray-500 dark:text-gray-400",children:["ID: ",ne.id]})]})}),a.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:a.jsxs("div",{className:"flex items-center space-x-2",children:[de(ne.entity_type),a.jsx("span",{className:"text-sm text-gray-900 dark:text-white capitalize",children:ne.entity_type.replace("_"," ")})]})}),a.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:a.jsx("span",{className:`px-2 py-1 text-xs rounded-full ${q(ne.priority)}`,children:ne.priority})}),a.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:a.jsx("span",{className:`px-2 py-1 text-xs rounded-full ${z(ne.status)}`,children:ne.status})}),a.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:a.jsxs("div",{className:"flex items-center space-x-2",children:[a.jsx("div",{className:"w-16 bg-gray-200 rounded-full h-2 dark:bg-gray-700",children:a.jsx("div",{className:"bg-blue-600 h-2 rounded-full",style:{width:`${ne.current_step/ne.total_steps*100}%`}})}),a.jsxs("span",{className:"text-sm text-gray-600 dark:text-gray-400",children:[ne.current_step,"/",ne.total_steps]})]})}),a.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500 dark:text-gray-400",children:De(ne.requested_at)}),a.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm font-medium",children:a.jsx("button",{onClick:()=>{g(ne),U(ne.id)},className:"text-blue-600 hover:text-blue-900 dark:text-blue-400 dark:hover:text-blue-300",children:a.jsx(gn,{className:"w-4 h-4"})})})]},ne.id)):a.jsx("tr",{children:a.jsx("td",{colSpan:7,className:"px-6 py-4 text-center text-gray-500 dark:text-gray-400",children:"No requests found"})})})]})})})]}),e==="my-pending"&&a.jsxs("div",{className:"space-y-6",children:[a.jsx("h2",{className:"text-xl font-semibold text-gray-900 dark:text-white",children:"My Pending Approvals"}),a.jsx("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:l&&Array.isArray(l)?l.map(ne=>a.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-lg shadow-sm border border-gray-200 dark:border-gray-700 p-6",children:[a.jsxs("div",{className:"flex items-start justify-between mb-4",children:[a.jsxs("div",{className:"flex items-center space-x-2",children:[de(ne.entity_type),a.jsx("h3",{className:"font-semibold text-gray-900 dark:text-white",children:ne.request_reason})]}),a.jsx("span",{className:`px-2 py-1 text-xs rounded-full ${q(ne.priority)}`,children:ne.priority})]}),a.jsxs("div",{className:"space-y-2 text-sm text-gray-600 dark:text-gray-400 mb-4",children:[a.jsxs("div",{className:"flex justify-between",children:[a.jsx("span",{children:"Type:"}),a.jsx("span",{className:"capitalize",children:ne.entity_type.replace("_"," ")})]}),a.jsxs("div",{className:"flex justify-between",children:[a.jsx("span",{children:"Requested by:"}),a.jsx("span",{children:ne.requester_name})]}),a.jsxs("div",{className:"flex justify-between",children:[a.jsx("span",{children:"Requested:"}),a.jsx("span",{children:De(ne.requested_at)})]}),ne.due_date&&a.jsxs("div",{className:"flex justify-between",children:[a.jsx("span",{children:"Due:"}),a.jsx("span",{className:new Date(ne.due_date)<new Date?"text-red-600":"",children:De(ne.due_date)})]})]}),a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{className:"flex items-center space-x-2",children:[a.jsx("div",{className:"w-20 bg-gray-200 rounded-full h-2 dark:bg-gray-700",children:a.jsx("div",{className:"bg-blue-600 h-2 rounded-full",style:{width:`${ne.current_step/ne.total_steps*100}%`}})}),a.jsxs("span",{className:"text-sm text-gray-600 dark:text-gray-400",children:[ne.current_step,"/",ne.total_steps]})]}),a.jsxs("div",{className:"flex space-x-2",children:[a.jsxs("button",{onClick:()=>{g(ne),E("approve"),S(!0)},className:"flex items-center space-x-1 px-3 py-1 bg-green-600 text-white rounded-md hover:bg-green-700 transition-colors text-sm",children:[a.jsx(tR,{className:"w-3 h-3"}),a.jsx("span",{children:"Approve"})]}),a.jsxs("button",{onClick:()=>{g(ne),E("reject"),S(!0)},className:"flex items-center space-x-1 px-3 py-1 bg-red-600 text-white rounded-md hover:bg-red-700 transition-colors text-sm",children:[a.jsx(jr,{className:"w-3 h-3"}),a.jsx("span",{children:"Reject"})]})]})]})]},ne.id)):a.jsx("div",{className:"col-span-full text-center py-8 text-gray-500 dark:text-gray-400",children:"No pending approvals found"})})]}),e==="settings"&&a.jsxs("div",{className:"space-y-6",children:[a.jsx("h2",{className:"text-xl font-semibold text-gray-900 dark:text-white",children:"Approval Settings"}),a.jsx("div",{className:"bg-white dark:bg-gray-800 rounded-lg shadow-sm border border-gray-200 dark:border-gray-700 p-6",children:a.jsx("p",{className:"text-gray-600 dark:text-gray-400",children:"Approval workflow settings and configuration options will be available here."})})]})]}),b&&a.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:a.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-lg p-6 w-full max-w-2xl max-h-[90vh] overflow-y-auto",children:[a.jsx("h3",{className:"text-lg font-semibold text-gray-900 dark:text-white mb-4",children:"Create New Approval Workflow"}),a.jsxs("div",{className:"space-y-4",children:[a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Workflow Name"}),a.jsx("input",{type:"text",value:oe.workflow_name,onChange:ne=>Y({...oe,workflow_name:ne.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500 dark:bg-gray-700 dark:border-gray-600 dark:text-white",placeholder:"Enter workflow name"})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Description"}),a.jsx("textarea",{value:oe.workflow_description,onChange:ne=>Y({...oe,workflow_description:ne.target.value}),rows:3,className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500 dark:bg-gray-700 dark:border-gray-600 dark:text-white",placeholder:"Enter workflow description"})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Entity Type"}),a.jsxs("select",{value:oe.entity_type,onChange:ne=>Y({...oe,entity_type:ne.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500 dark:bg-gray-700 dark:border-gray-600 dark:text-white",children:[a.jsx("option",{value:"deal",children:"Deal"}),a.jsx("option",{value:"task",children:"Task"}),a.jsx("option",{value:"expense",children:"Expense"}),a.jsx("option",{value:"lead_qualification",children:"Lead Qualification"})]})]}),a.jsxs("div",{className:"flex items-center",children:[a.jsx("input",{type:"checkbox",id:"is_active",checked:oe.is_active,onChange:ne=>Y({...oe,is_active:ne.target.checked}),className:"h-4 w-4 text-blue-600 focus:ring-blue-500 border-gray-300 rounded"}),a.jsx("label",{htmlFor:"is_active",className:"ml-2 block text-sm text-gray-700 dark:text-gray-300",children:"Active"})]})]}),a.jsxs("div",{className:"flex justify-end space-x-3 mt-6",children:[a.jsx("button",{onClick:()=>{w(!1),Y({workflow_name:"",workflow_description:"",entity_type:"deal",trigger_conditions:{},approval_steps:[],is_active:!0})},className:"px-4 py-2 text-gray-700 bg-gray-200 rounded-md hover:bg-gray-300 transition-colors dark:bg-gray-600 dark:text-gray-300 dark:hover:bg-gray-500",children:"Cancel"}),a.jsx("button",{onClick:F,disabled:!oe.workflow_name.trim(),className:"px-4 py-2 bg-blue-600 text-white rounded-md hover:bg-blue-700 transition-colors disabled:bg-gray-400 disabled:cursor-not-allowed",children:"Create Workflow"})]})]})}),j&&h&&a.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:a.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-lg p-6 w-full max-w-md",children:[a.jsx("h3",{className:"text-lg font-semibold text-gray-900 dark:text-white mb-4",children:k==="approve"?"Approve Request":"Reject Request"}),a.jsxs("div",{className:"mb-4",children:[a.jsxs("p",{className:"text-sm text-gray-600 dark:text-gray-400 mb-2",children:["Request: ",h.request_reason]}),a.jsxs("p",{className:"text-sm text-gray-600 dark:text-gray-400",children:["Type: ",h.entity_type.replace("_"," ")]})]}),a.jsxs("div",{className:"mb-4",children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Comments (optional)"}),a.jsx("textarea",{value:C,onChange:ne=>T(ne.target.value),rows:3,className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500 dark:bg-gray-700 dark:border-gray-600 dark:text-white",placeholder:"Add comments for this approval..."})]}),a.jsxs("div",{className:"flex justify-end space-x-3",children:[a.jsx("button",{onClick:()=>{S(!1),T("")},className:"px-4 py-2 text-gray-700 bg-gray-200 rounded-md hover:bg-gray-300 transition-colors dark:bg-gray-600 dark:text-gray-300 dark:hover:bg-gray-500",children:"Cancel"}),a.jsx("button",{onClick:()=>G(h.id,k),className:`px-4 py-2 text-white rounded-md transition-colors ${k==="approve"?"bg-green-600 hover:bg-green-700":"bg-red-600 hover:bg-red-700"}`,children:k==="approve"?"Approve":"Reject"})]})]})})]}),a.jsx($t,{open:B,onClose:()=>V(!1),title:"Success",animationType:"scale",size:"sm",children:a.jsxs("div",{className:"text-center space-y-4",children:[a.jsx("div",{className:"mx-auto flex items-center justify-center h-16 w-16 rounded-full bg-green-100 dark:bg-green-900",children:a.jsx(Tt,{className:"h-8 w-8 text-green-600 dark:text-green-400"})}),a.jsx("p",{className:"text-lg text-gray-900 dark:text-white",children:W}),a.jsx("button",{onClick:()=>V(!1),className:"w-full px-4 py-2 bg-green-600 text-white rounded-lg hover:bg-green-700 transition-colors duration-200",children:"OK"})]})})]})},XAe=()=>{const[e,t]=v.useState("campaigns"),[r,n]=v.useState([]),[s,i]=v.useState([]),[l,c]=v.useState([]),[d,f]=v.useState(!1),[h,g]=v.useState(!1),[p,y]=v.useState(!1),[b,w]=v.useState(null),[j,S]=v.useState({campaign_name:"",campaign_description:"",campaign_type:"drip",target_segment:"",is_active:!0,start_date:"",end_date:""}),[k,E]=v.useState({step_name:"",step_type:"email",step_order:1,delay_days:0,delay_hours:0,step_data:{},trigger_conditions:{},is_active:!0}),[C,T]=v.useState(!1),[A,O]=v.useState("");v.useEffect(()=>{if(!localStorage.getItem("access_token")){console.log("No authentication token found, skipping API calls");return}e==="campaigns"?D():e==="steps"&&b?R(b.id):e==="enrollments"&&b&&B(b.id)},[e,b]);const D=async()=>{try{const Y=await fetch("/api/lead-nurturing-campaigns",{headers:{Authorization:`Bearer ${localStorage.getItem("access_token")}`}}),Q=await Y.json();Y.ok?n(Array.isArray(Q)?Q:[]):(console.error("Failed to fetch campaigns:",Q.error),n([]))}catch(Y){console.error("Error fetching campaigns:",Y),n([])}},R=async Y=>{try{const Q=await fetch(`/api/lead-nurturing-campaigns/${Y}/steps`,{headers:{Authorization:`Bearer ${localStorage.getItem("access_token")}`}}),te=await Q.json();Q.ok?i(Array.isArray(te)?te:[]):(console.error("Failed to fetch steps:",te.error),i([]))}catch(Q){console.error("Error fetching steps:",Q),i([])}},B=async Y=>{try{const Q=await fetch(`/api/lead-nurturing-campaigns/${Y}/enrollments`,{headers:{Authorization:`Bearer ${localStorage.getItem("access_token")}`}}),te=await Q.json();Q.ok?c(Array.isArray(te)?te:[]):(console.error("Failed to fetch enrollments:",te.error),c([]))}catch(Q){console.error("Error fetching enrollments:",Q),c([])}},V=async()=>{const Y=localStorage.getItem("access_token");if(!Y){console.error("No authentication token found - please log in first"),alert("Please log in first to create campaigns");return}try{const Q={...j,start_date:j.start_date&&j.start_date.trim()!==""?j.start_date:null,end_date:j.end_date&&j.end_date.trim()!==""?j.end_date:null,target_segment:j.target_segment&&j.target_segment.trim()!==""?j.target_segment:null},te=await fetch("/api/lead-nurturing-campaigns",{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${Y}`},body:JSON.stringify(Q)}),ue=await te.json();te.ok?(D(),g(!1),S({campaign_name:"",campaign_description:"",campaign_type:"drip",target_segment:"",is_active:!0,start_date:"",end_date:""}),O("Campaign created successfully!"),T(!0)):(console.error("Failed to create campaign:",ue.error),O(`Failed to create campaign: ${ue.error}`),T(!0))}catch(Q){console.error("Error creating campaign:",Q),O("Error creating campaign"),T(!0)}},W=async()=>{if(!b)return;const Y=localStorage.getItem("access_token");if(!Y){console.error("No authentication token found - please log in first"),alert("Please log in first to create steps");return}try{const Q=await fetch(`/api/lead-nurturing-campaigns/${b.id}/steps`,{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${Y}`},body:JSON.stringify(k)}),te=await Q.json();Q.ok?(R(b.id),y(!1),E({step_name:"",step_type:"email",step_order:1,delay_days:0,delay_hours:0,step_data:{},trigger_conditions:{},is_active:!0}),O("Step created successfully!"),T(!0)):(console.error("Failed to create step:",te.error),O(`Failed to create step: ${te.error}`),T(!0))}catch(Q){console.error("Error creating step:",Q),O("Error creating step"),T(!0)}},se=Y=>{switch(Y){case"email":return a.jsx(Kd,{className:"w-4 h-4"});case"call":return a.jsx(kd,{className:"w-4 h-4"});case"task":return a.jsx(oR,{className:"w-4 h-4"});case"wait":return a.jsx(La,{className:"w-4 h-4"});default:return a.jsx(ha,{className:"w-4 h-4"})}},oe=Y=>{switch(Y){case"active":return"bg-green-100 text-green-800 dark:bg-green-900 dark:text-green-300";case"paused":return"bg-yellow-100 text-yellow-800 dark:bg-yellow-900 dark:text-yellow-300";case"completed":return"bg-blue-100 text-blue-800 dark:bg-blue-900 dark:text-blue-300";case"converted":return"bg-purple-100 text-purple-800 dark:bg-purple-900 dark:text-purple-300";default:return"bg-gray-100 text-gray-800 dark:bg-gray-900 dark:text-gray-300"}};return a.jsxs("div",{className:"p-6 max-w-7xl mx-auto",children:[a.jsxs("div",{className:"mb-8",children:[a.jsx("h1",{className:"text-3xl font-bold text-gray-900 dark:text-white mb-2",children:"Lead Nurturing Campaigns"}),a.jsx("p",{className:"text-gray-600 dark:text-gray-400",children:"Create and manage automated lead nurturing campaigns to improve conversion rates"})]}),a.jsx("div",{className:"mb-6",children:a.jsx("div",{className:"border-b border-gray-200 dark:border-gray-700",children:a.jsxs("nav",{className:"-mb-px flex space-x-8",children:[a.jsx("button",{onClick:()=>t("campaigns"),className:`py-2 px-1 border-b-2 font-medium text-sm ${e==="campaigns"?"border-blue-500 text-blue-600 dark:text-blue-400":"border-transparent text-gray-500 hover:text-gray-700 hover:border-gray-300 dark:text-gray-400 dark:hover:text-gray-300"}`,children:"Campaigns"}),a.jsx("button",{onClick:()=>t("steps"),className:`py-2 px-1 border-b-2 font-medium text-sm ${e==="steps"?"border-blue-500 text-blue-600 dark:text-blue-400":b?"border-transparent text-gray-500 hover:text-gray-700 hover:border-gray-300 dark:text-gray-400 dark:hover:text-gray-300":"border-transparent text-gray-400 cursor-not-allowed"}`,children:"Campaign Steps"}),a.jsx("button",{onClick:()=>t("enrollments"),className:`py-2 px-1 border-b-2 font-medium text-sm ${e==="enrollments"?"border-blue-500 text-blue-600 dark:text-blue-400":b?"border-transparent text-gray-500 hover:text-gray-700 hover:border-gray-300 dark:text-gray-400 dark:hover:text-gray-300":"border-transparent text-gray-400 cursor-not-allowed"}`,children:"Enrollments"})]})})}),e==="campaigns"&&a.jsxs("div",{children:[a.jsxs("div",{className:"flex justify-between items-center mb-6",children:[a.jsxs("div",{className:"flex items-center space-x-4",children:[a.jsxs("div",{className:"relative",children:[a.jsx(Fi,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400 w-4 h-4"}),a.jsx("input",{type:"text",placeholder:"Search campaigns...",className:"pl-10 pr-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent dark:bg-gray-800 dark:border-gray-600 dark:text-white"})]}),a.jsxs("select",{className:"px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent dark:bg-gray-800 dark:border-gray-600 dark:text-white",children:[a.jsx("option",{value:"all",children:"All Types"}),a.jsx("option",{value:"drip",children:"Drip Campaigns"}),a.jsx("option",{value:"behavioral",children:"Behavioral"}),a.jsx("option",{value:"mixed",children:"Mixed"})]})]}),a.jsxs("button",{onClick:()=>g(!0),className:"flex items-center space-x-2 px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors",children:[a.jsx(_r,{className:"w-4 h-4"}),a.jsx("span",{children:"Create Campaign"})]})]}),a.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:r.map(Y=>a.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-lg shadow-md p-6 border border-gray-200 dark:border-gray-700 hover:shadow-lg transition-shadow cursor-pointer",onClick:()=>w(Y),children:[a.jsxs("div",{className:"flex items-start justify-between mb-4",children:[a.jsxs("div",{children:[a.jsx("h3",{className:"text-lg font-semibold text-gray-900 dark:text-white",children:Y.campaign_name}),a.jsxs("p",{className:"text-sm text-gray-600 dark:text-gray-400",children:[Y.campaign_type.charAt(0).toUpperCase()+Y.campaign_type.slice(1)," Campaign"]})]}),a.jsxs("div",{className:"flex items-center space-x-2",children:[a.jsx("button",{className:"p-1 text-gray-400 hover:text-gray-600 dark:hover:text-gray-300",onClick:Q=>{Q.stopPropagation(),w(Y),t("steps")},children:a.jsx(Hs,{className:"w-4 h-4"})}),a.jsx("button",{className:"p-1 text-gray-400 hover:text-gray-600 dark:hover:text-gray-300",onClick:Q=>{Q.stopPropagation(),w(Y),t("enrollments")},children:a.jsx(gn,{className:"w-4 h-4"})})]})]}),Y.campaign_description&&a.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-400 mb-4",children:Y.campaign_description}),a.jsxs("div",{className:"grid grid-cols-2 gap-4 mb-4",children:[a.jsxs("div",{className:"text-center",children:[a.jsx("div",{className:"text-2xl font-bold text-blue-600 dark:text-blue-400",children:Y.total_leads}),a.jsx("div",{className:"text-xs text-gray-600 dark:text-gray-400",children:"Total Leads"})]}),a.jsxs("div",{className:"text-center",children:[a.jsxs("div",{className:"text-2xl font-bold text-green-600 dark:text-green-400",children:[Y.conversion_rate,"%"]}),a.jsx("div",{className:"text-xs text-gray-600 dark:text-gray-400",children:"Conversion Rate"})]})]}),a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsx("span",{className:`px-2 py-1 rounded-full text-xs font-medium ${Y.is_active?"bg-green-100 text-green-800 dark:bg-green-900 dark:text-green-300":"bg-gray-100 text-gray-800 dark:bg-gray-900 dark:text-gray-300"}`,children:Y.is_active?"Active":"Inactive"}),a.jsx("span",{className:"text-xs text-gray-500 dark:text-gray-400",children:new Date(Y.created_at).toLocaleDateString()})]})]},Y.id))}),r.length===0&&a.jsxs("div",{className:"text-center py-12",children:[a.jsx(ha,{className:"mx-auto h-12 w-12 text-gray-400"}),a.jsx("h3",{className:"mt-2 text-sm font-medium text-gray-900 dark:text-white",children:"No campaigns"}),a.jsx("p",{className:"mt-1 text-sm text-gray-500 dark:text-gray-400",children:"Get started by creating your first lead nurturing campaign."}),a.jsx("div",{className:"mt-6",children:a.jsxs("button",{onClick:()=>g(!0),className:"inline-flex items-center px-4 py-2 border border-transparent shadow-sm text-sm font-medium rounded-md text-white bg-blue-600 hover:bg-blue-700",children:[a.jsx(_r,{className:"w-4 h-4 mr-2"}),"Create Campaign"]})})]})]}),e==="steps"&&a.jsx("div",{children:b?a.jsxs("div",{children:[a.jsxs("div",{className:"flex justify-between items-center mb-6",children:[a.jsxs("div",{children:[a.jsxs("h2",{className:"text-xl font-semibold text-gray-900 dark:text-white",children:['Steps for "',b.campaign_name,'"']}),a.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-400",children:"Manage the sequence of actions in your campaign"})]}),a.jsxs("button",{onClick:()=>y(!0),className:"flex items-center space-x-2 px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors",children:[a.jsx(_r,{className:"w-4 h-4"}),a.jsx("span",{children:"Add Step"})]})]}),a.jsx("div",{className:"space-y-4",children:s.map((Y,Q)=>a.jsx("div",{className:"bg-white dark:bg-gray-800 rounded-lg shadow-md p-6 border border-gray-200 dark:border-gray-700",children:a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{className:"flex items-center space-x-4",children:[a.jsx("div",{className:"flex items-center justify-center w-8 h-8 bg-blue-100 dark:bg-blue-900 rounded-full",children:a.jsx("span",{className:"text-sm font-medium text-blue-600 dark:text-blue-400",children:Y.step_order})}),a.jsxs("div",{className:"flex items-center space-x-2",children:[se(Y.step_type),a.jsx("h3",{className:"text-lg font-medium text-gray-900 dark:text-white",children:Y.step_name})]})]}),a.jsxs("div",{className:"flex items-center space-x-2",children:[a.jsxs("span",{className:"text-sm text-gray-600 dark:text-gray-400",children:[Y.delay_days>0&&`${Y.delay_days}d `,Y.delay_hours>0&&`${Y.delay_hours}h`,Y.delay_days===0&&Y.delay_hours===0&&"Immediate"]}),a.jsx("button",{className:"p-1 text-gray-400 hover:text-gray-600 dark:hover:text-gray-300",children:a.jsx(Jh,{className:"w-4 h-4"})}),a.jsx("button",{className:"p-1 text-gray-400 hover:text-red-600 dark:hover:text-red-400",children:a.jsx(mi,{className:"w-4 h-4"})})]})]})},Y.id))}),s.length===0&&a.jsxs("div",{className:"text-center py-12",children:[a.jsx(ha,{className:"mx-auto h-12 w-12 text-gray-400"}),a.jsx("h3",{className:"mt-2 text-sm font-medium text-gray-900 dark:text-white",children:"No steps"}),a.jsx("p",{className:"mt-1 text-sm text-gray-500 dark:text-gray-400",children:"Add steps to create your nurturing sequence."})]})]}):a.jsxs("div",{className:"text-center py-12",children:[a.jsx(ha,{className:"mx-auto h-12 w-12 text-gray-400"}),a.jsx("h3",{className:"mt-2 text-sm font-medium text-gray-900 dark:text-white",children:"Select a Campaign"}),a.jsx("p",{className:"mt-1 text-sm text-gray-500 dark:text-gray-400",children:"Please select a campaign from the Campaigns tab to view and manage its steps."}),a.jsx("div",{className:"mt-6",children:a.jsx("button",{onClick:()=>t("campaigns"),className:"inline-flex items-center px-4 py-2 border border-transparent shadow-sm text-sm font-medium rounded-md text-white bg-blue-600 hover:bg-blue-700",children:"Go to Campaigns"})})]})}),e==="enrollments"&&a.jsx("div",{children:b?a.jsxs("div",{children:[a.jsx("div",{className:"flex justify-between items-center mb-6",children:a.jsxs("div",{children:[a.jsxs("h2",{className:"text-xl font-semibold text-gray-900 dark:text-white",children:['Enrollments for "',b.campaign_name,'"']}),a.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-400",children:"View and manage lead enrollments in this campaign"})]})}),a.jsx("div",{className:"bg-white dark:bg-gray-800 rounded-lg shadow-md overflow-hidden",children:a.jsxs("table",{className:"min-w-full divide-y divide-gray-200 dark:divide-gray-700",children:[a.jsx("thead",{className:"bg-gray-50 dark:bg-gray-700",children:a.jsxs("tr",{children:[a.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-300 uppercase tracking-wider",children:"Lead ID"}),a.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-300 uppercase tracking-wider",children:"Current Step"}),a.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-300 uppercase tracking-wider",children:"Status"}),a.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-300 uppercase tracking-wider",children:"Enrolled"}),a.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-300 uppercase tracking-wider",children:"Last Activity"})]})}),a.jsx("tbody",{className:"bg-white dark:bg-gray-800 divide-y divide-gray-200 dark:divide-gray-700",children:l.map(Y=>a.jsxs("tr",{children:[a.jsxs("td",{className:"px-6 py-4 whitespace-nowrap text-sm font-medium text-gray-900 dark:text-white",children:["#",Y.lead_id]}),a.jsxs("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-600 dark:text-gray-400",children:["Step ",Y.current_step]}),a.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:a.jsx("span",{className:`px-2 py-1 rounded-full text-xs font-medium ${oe(Y.status)}`,children:Y.status})}),a.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-600 dark:text-gray-400",children:new Date(Y.enrolled_at).toLocaleDateString()}),a.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-600 dark:text-gray-400",children:Y.last_activity?new Date(Y.last_activity).toLocaleDateString():"Never"})]},Y.id))})]})}),l.length===0&&a.jsxs("div",{className:"text-center py-12",children:[a.jsx(kr,{className:"mx-auto h-12 w-12 text-gray-400"}),a.jsx("h3",{className:"mt-2 text-sm font-medium text-gray-900 dark:text-white",children:"No enrollments"}),a.jsx("p",{className:"mt-1 text-sm text-gray-500 dark:text-gray-400",children:"No leads have been enrolled in this campaign yet."})]})]}):a.jsxs("div",{className:"text-center py-12",children:[a.jsx(kr,{className:"mx-auto h-12 w-12 text-gray-400"}),a.jsx("h3",{className:"mt-2 text-sm font-medium text-gray-900 dark:text-white",children:"Select a Campaign"}),a.jsx("p",{className:"mt-1 text-sm text-gray-500 dark:text-gray-400",children:"Please select a campaign from the Campaigns tab to view its enrollments."}),a.jsx("div",{className:"mt-6",children:a.jsx("button",{onClick:()=>t("campaigns"),className:"inline-flex items-center px-4 py-2 border border-transparent shadow-sm text-sm font-medium rounded-md text-white bg-blue-600 hover:bg-blue-700",children:"Go to Campaigns"})})]})}),a.jsx($t,{open:h,onClose:()=>g(!1),title:"Create Lead Nurturing Campaign",animationType:"scale",size:"lg",children:a.jsxs("div",{className:"space-y-4",children:[a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:"Campaign Name"}),a.jsx("input",{type:"text",value:j.campaign_name,onChange:Y=>S({...j,campaign_name:Y.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent dark:bg-gray-800 dark:border-gray-600 dark:text-white",placeholder:"Enter campaign name"})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:"Description"}),a.jsx("textarea",{value:j.campaign_description,onChange:Y=>S({...j,campaign_description:Y.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent dark:bg-gray-800 dark:border-gray-600 dark:text-white",rows:3,placeholder:"Enter campaign description"})]}),a.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:"Campaign Type"}),a.jsxs("select",{value:j.campaign_type,onChange:Y=>S({...j,campaign_type:Y.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent dark:bg-gray-800 dark:border-gray-600 dark:text-white",children:[a.jsx("option",{value:"drip",children:"Drip Campaign"}),a.jsx("option",{value:"behavioral",children:"Behavioral"}),a.jsx("option",{value:"mixed",children:"Mixed"})]})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:"Target Segment"}),a.jsx("input",{type:"text",value:j.target_segment,onChange:Y=>S({...j,target_segment:Y.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent dark:bg-gray-800 dark:border-gray-600 dark:text-white",placeholder:"e.g., High-value leads"})]})]}),a.jsxs("div",{className:"flex items-center",children:[a.jsx("input",{type:"checkbox",id:"is_active",checked:j.is_active,onChange:Y=>S({...j,is_active:Y.target.checked}),className:"h-4 w-4 text-blue-600 focus:ring-blue-500 border-gray-300 rounded"}),a.jsx("label",{htmlFor:"is_active",className:"ml-2 block text-sm text-gray-700 dark:text-gray-300",children:"Active campaign"})]}),a.jsxs("div",{className:"flex justify-end space-x-3 pt-4",children:[a.jsx("button",{onClick:()=>g(!1),className:"px-4 py-2 text-gray-700 bg-gray-200 rounded-lg hover:bg-gray-300 transition-colors dark:bg-gray-700 dark:text-gray-300 dark:hover:bg-gray-600",children:"Cancel"}),a.jsx("button",{onClick:V,className:"px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors",children:"Create Campaign"})]})]})}),a.jsx($t,{open:p,onClose:()=>y(!1),title:"Add Campaign Step",animationType:"scale",size:"lg",children:a.jsxs("div",{className:"space-y-4",children:[a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:"Step Name"}),a.jsx("input",{type:"text",value:k.step_name,onChange:Y=>E({...k,step_name:Y.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent dark:bg-gray-800 dark:border-gray-600 dark:text-white",placeholder:"Enter step name"})]}),a.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:"Step Type"}),a.jsxs("select",{value:k.step_type,onChange:Y=>E({...k,step_type:Y.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent dark:bg-gray-800 dark:border-gray-600 dark:text-white",children:[a.jsx("option",{value:"email",children:"Email"}),a.jsx("option",{value:"call",children:"Call"}),a.jsx("option",{value:"task",children:"Task"}),a.jsx("option",{value:"wait",children:"Wait"})]})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:"Step Order"}),a.jsx("input",{type:"number",value:k.step_order,onChange:Y=>E({...k,step_order:parseInt(Y.target.value)}),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent dark:bg-gray-800 dark:border-gray-600 dark:text-white",min:"1"})]})]}),a.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:"Delay (Days)"}),a.jsx("input",{type:"number",value:k.delay_days,onChange:Y=>E({...k,delay_days:parseInt(Y.target.value)}),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent dark:bg-gray-800 dark:border-gray-600 dark:text-white",min:"0"})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:"Delay (Hours)"}),a.jsx("input",{type:"number",value:k.delay_hours,onChange:Y=>E({...k,delay_hours:parseInt(Y.target.value)}),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent dark:bg-gray-800 dark:border-gray-600 dark:text-white",min:"0",max:"23"})]})]}),a.jsxs("div",{className:"flex items-center",children:[a.jsx("input",{type:"checkbox",id:"step_active",checked:k.is_active,onChange:Y=>E({...k,is_active:Y.target.checked}),className:"h-4 w-4 text-blue-600 focus:ring-blue-500 border-gray-300 rounded"}),a.jsx("label",{htmlFor:"step_active",className:"ml-2 block text-sm text-gray-700 dark:text-gray-300",children:"Active step"})]}),a.jsxs("div",{className:"flex justify-end space-x-3 pt-4",children:[a.jsx("button",{onClick:()=>y(!1),className:"px-4 py-2 text-gray-700 bg-gray-200 rounded-lg hover:bg-gray-300 transition-colors dark:bg-gray-700 dark:text-gray-300 dark:hover:bg-gray-600",children:"Cancel"}),a.jsx("button",{onClick:W,className:"px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors",children:"Add Step"})]})]})}),a.jsx($t,{open:C,onClose:()=>T(!1),title:A.includes("Failed")||A.includes("Error")?"Error":"Success",animationType:"scale",size:"sm",children:a.jsxs("div",{className:"text-center space-y-4",children:[a.jsx("div",{className:`mx-auto flex items-center justify-center h-16 w-16 rounded-full ${A.includes("Failed")||A.includes("Error")?"bg-red-100 dark:bg-red-900":"bg-green-100 dark:bg-green-900"}`,children:A.includes("Failed")||A.includes("Error")?a.jsx(ha,{className:"h-8 w-8 text-red-600 dark:text-red-400"}):a.jsx(Cr,{className:"h-8 w-8 text-green-600 dark:text-green-400"})}),a.jsx("p",{className:"text-lg text-gray-900 dark:text-white",children:A}),a.jsx("button",{onClick:()=>T(!1),className:`w-full px-4 py-2 text-white rounded-lg transition-colors duration-200 ${A.includes("Failed")||A.includes("Error")?"bg-red-600 hover:bg-red-700":"bg-green-600 hover:bg-green-700"}`,children:"Close"})]})})]})},QAe=()=>{const{isAuthenticated:e}=va(),[t,r]=v.useState(!1);if(e)return a.jsx(UN,{to:"/dashboard",replace:!0});const n=[{icon:a.jsx(ia,{className:"w-8 h-8"}),title:"AI-Powered Analytics",description:"Get intelligent insights and predictions to boost your sales performance"},{icon:a.jsx(kr,{className:"w-8 h-8"}),title:"Lead Management",description:"Track and nurture leads with automated scoring and personalized follow-ups"},{icon:a.jsx(ha,{className:"w-8 h-8"}),title:"Pipeline Management",description:"Visualize your sales pipeline with drag-and-drop kanban boards"},{icon:a.jsx(Do,{className:"w-8 h-8"}),title:"Email Automation",description:"Send personalized emails at scale with smart templates and scheduling"},{icon:a.jsx(WN,{className:"w-8 h-8"}),title:"Secure & Reliable",description:"Enterprise-grade security with 99.9% uptime guarantee"}],s=[{name:"Sarah Johnson",role:"Sales Director",company:"TechCorp",content:"NeuraCRM increased our conversion rate by 40% in just 3 months. The AI insights are game-changing!",rating:5},{name:"Mike Chen",role:"CEO",company:"StartupXYZ",content:"Finally, a CRM that actually helps us close deals. The pipeline management is intuitive and powerful.",rating:5},{name:"Emily Rodriguez",role:"Sales Manager",company:"GrowthCo",content:"The email automation features saved us 10 hours per week. Our team loves the modern interface.",rating:5}],i=[{name:"Starter",price:"$29",period:"/month",description:"Perfect for small teams getting started",features:["Up to 1,000 contacts","Basic pipeline management","Email templates","Standard support"],cta:"Start Free Trial",popular:!1},{name:"Professional",price:"$79",period:"/month",description:"Ideal for growing sales teams",features:["Up to 10,000 contacts","Advanced analytics","AI-powered insights","Email automation","Priority support"],cta:"Start Free Trial",popular:!0},{name:"Enterprise",price:"$199",period:"/month",description:"For large organizations",features:["Unlimited contacts","Custom integrations","Advanced reporting","Dedicated support","Custom training"],cta:"Contact Sales",popular:!1}];return a.jsxs("div",{className:"min-h-screen bg-white",children:[a.jsxs("nav",{className:"fixed w-full bg-white/95 backdrop-blur-sm border-b border-gray-200 z-50",children:[a.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:a.jsxs("div",{className:"flex justify-between items-center h-16",children:[a.jsxs("div",{className:"flex items-center",children:[a.jsx("div",{className:"flex-shrink-0",children:a.jsx("img",{className:"h-8 w-auto",src:"/assets/NeuraCRM--QfIME8Q.png",alt:"NeuraCRM"})}),a.jsx("div",{className:"ml-2",children:a.jsx("span",{className:"text-xl font-bold bg-gradient-to-r from-blue-600 to-purple-600 bg-clip-text text-transparent",children:"NeuraCRM"})})]}),a.jsx("div",{className:"hidden md:block",children:a.jsxs("div",{className:"ml-10 flex items-baseline space-x-8",children:[a.jsx("a",{href:"#features",className:"text-gray-600 hover:text-gray-900 px-3 py-2 text-sm font-medium",children:"Features"}),a.jsx("a",{href:"#pricing",className:"text-gray-600 hover:text-gray-900 px-3 py-2 text-sm font-medium",children:"Pricing"}),a.jsx("a",{href:"#testimonials",className:"text-gray-600 hover:text-gray-900 px-3 py-2 text-sm font-medium",children:"Testimonials"})]})}),a.jsx("div",{className:"hidden md:block",children:a.jsxs("div",{className:"ml-4 flex items-center space-x-4",children:[a.jsx(Ja,{to:"/signin",className:"text-gray-600 hover:text-gray-900 px-3 py-2 text-sm font-medium",children:"Sign In"}),a.jsx(Ja,{to:"/signup",className:"bg-gradient-to-r from-blue-600 to-purple-600 text-white px-6 py-2 rounded-full text-sm font-medium hover:from-blue-700 hover:to-purple-700 transition-all duration-200 shadow-lg hover:shadow-xl",children:"Get Started"})]})}),a.jsx("div",{className:"md:hidden",children:a.jsx("button",{onClick:()=>r(!t),className:"text-gray-600 hover:text-gray-900",children:t?a.jsx(jr,{className:"w-6 h-6"}):a.jsx(iR,{className:"w-6 h-6"})})})]})}),t&&a.jsx("div",{className:"md:hidden bg-white border-t border-gray-200",children:a.jsxs("div",{className:"px-2 pt-2 pb-3 space-y-1",children:[a.jsx("a",{href:"#features",className:"block px-3 py-2 text-gray-600 hover:text-gray-900",children:"Features"}),a.jsx("a",{href:"#pricing",className:"block px-3 py-2 text-gray-600 hover:text-gray-900",children:"Pricing"}),a.jsx("a",{href:"#testimonials",className:"block px-3 py-2 text-gray-600 hover:text-gray-900",children:"Testimonials"}),a.jsx(Ja,{to:"/signin",className:"block px-3 py-2 text-gray-600 hover:text-gray-900",children:"Sign In"}),a.jsx(Ja,{to:"/signup",className:"block px-3 py-2 bg-gradient-to-r from-blue-600 to-purple-600 text-white rounded-lg mx-3 text-center",children:"Get Started"})]})})]}),a.jsx("section",{className:"pt-20 pb-16 bg-gradient-to-br from-blue-50 via-white to-purple-50",children:a.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:a.jsxs("div",{className:"text-center",children:[a.jsxs("h1",{className:"text-4xl md:text-6xl font-extrabold text-gray-900 mb-6",children:["The Future of",a.jsx("span",{className:"bg-gradient-to-r from-blue-600 to-purple-600 bg-clip-text text-transparent",children:" Sales CRM"})]}),a.jsx("p",{className:"text-xl text-gray-600 mb-8 max-w-3xl mx-auto",children:"Boost your sales with AI-powered insights, automated workflows, and intelligent lead scoring. Close more deals, faster."}),a.jsxs("div",{className:"flex flex-col sm:flex-row gap-4 justify-center items-center",children:[a.jsxs(Ja,{to:"/signup",className:"bg-gradient-to-r from-blue-600 to-purple-600 text-white px-8 py-4 rounded-full text-lg font-semibold hover:from-blue-700 hover:to-purple-700 transition-all duration-200 shadow-lg hover:shadow-xl flex items-center gap-2",children:["Start Free Trial",a.jsx(Oo,{className:"w-5 h-5"})]}),a.jsxs("button",{className:"flex items-center gap-2 text-gray-600 hover:text-gray-900 px-6 py-4 rounded-full border border-gray-300 hover:border-gray-400 transition-all duration-200",children:[a.jsx(Op,{className:"w-5 h-5"}),"Watch Demo"]})]}),a.jsx("p",{className:"text-sm text-gray-500 mt-4",children:"No credit card required • 14-day free trial • Cancel anytime"})]})})}),a.jsx("section",{id:"features",className:"py-20 bg-white",children:a.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:[a.jsxs("div",{className:"text-center mb-16",children:[a.jsx("h2",{className:"text-3xl md:text-4xl font-bold text-gray-900 mb-4",children:"Everything you need to grow your sales"}),a.jsx("p",{className:"text-xl text-gray-600 max-w-2xl mx-auto",children:"Powerful features designed to help you manage leads, close deals, and scale your business"})]}),a.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-8",children:n.map((l,c)=>a.jsxs("div",{className:"bg-white p-8 rounded-2xl border border-gray-200 hover:border-blue-300 hover:shadow-lg transition-all duration-200",children:[a.jsx("div",{className:"text-blue-600 mb-4",children:l.icon}),a.jsx("h3",{className:"text-xl font-semibold text-gray-900 mb-3",children:l.title}),a.jsx("p",{className:"text-gray-600",children:l.description})]},c))})]})}),a.jsx("section",{id:"testimonials",className:"py-20 bg-gray-50",children:a.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:[a.jsxs("div",{className:"text-center mb-16",children:[a.jsx("h2",{className:"text-3xl md:text-4xl font-bold text-gray-900 mb-4",children:"Loved by sales teams worldwide"}),a.jsx("p",{className:"text-xl text-gray-600",children:"See what our customers are saying about NeuraCRM"})]}),a.jsx("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-8",children:s.map((l,c)=>a.jsxs("div",{className:"bg-white p-8 rounded-2xl shadow-lg",children:[a.jsx("div",{className:"flex items-center mb-4",children:[...Array(l.rating)].map((d,f)=>a.jsx(X2,{className:"w-5 h-5 text-yellow-400 fill-current"},f))}),a.jsxs("p",{className:"text-gray-600 mb-6 italic",children:['"',l.content,'"']}),a.jsxs("div",{children:[a.jsx("p",{className:"font-semibold text-gray-900",children:l.name}),a.jsxs("p",{className:"text-gray-600",children:[l.role,", ",l.company]})]})]},c))})]})}),a.jsx("section",{id:"pricing",className:"py-20 bg-white",children:a.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:[a.jsxs("div",{className:"text-center mb-16",children:[a.jsx("h2",{className:"text-3xl md:text-4xl font-bold text-gray-900 mb-4",children:"Simple, transparent pricing"}),a.jsx("p",{className:"text-xl text-gray-600",children:"Choose the plan that's right for your team"})]}),a.jsx("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-8",children:i.map((l,c)=>a.jsxs("div",{className:`relative bg-white p-8 rounded-2xl border-2 transition-all duration-200 ${l.popular?"border-blue-500 shadow-xl scale-105":"border-gray-200 hover:border-gray-300 hover:shadow-lg"}`,children:[l.popular&&a.jsx("div",{className:"absolute -top-4 left-1/2 transform -translate-x-1/2",children:a.jsx("span",{className:"bg-gradient-to-r from-blue-600 to-purple-600 text-white px-4 py-1 rounded-full text-sm font-semibold",children:"Most Popular"})}),a.jsxs("div",{className:"text-center mb-8",children:[a.jsx("h3",{className:"text-2xl font-bold text-gray-900 mb-2",children:l.name}),a.jsxs("div",{className:"flex items-baseline justify-center",children:[a.jsx("span",{className:"text-4xl font-bold text-gray-900",children:l.price}),a.jsx("span",{className:"text-gray-600 ml-1",children:l.period})]}),a.jsx("p",{className:"text-gray-600 mt-2",children:l.description})]}),a.jsx("ul",{className:"space-y-4 mb-8",children:l.features.map((d,f)=>a.jsxs("li",{className:"flex items-center",children:[a.jsx(Tt,{className:"w-5 h-5 text-green-500 mr-3 flex-shrink-0"}),a.jsx("span",{className:"text-gray-600",children:d})]},f))}),a.jsx(Ja,{to:"/signup",className:`w-full block text-center py-3 px-6 rounded-full font-semibold transition-all duration-200 ${l.popular?"bg-gradient-to-r from-blue-600 to-purple-600 text-white hover:from-blue-700 hover:to-purple-700 shadow-lg hover:shadow-xl":"bg-gray-100 text-gray-900 hover:bg-gray-200"}`,children:l.cta})]},c))})]})}),a.jsx("section",{className:"py-20 bg-gradient-to-r from-blue-600 to-purple-600",children:a.jsxs("div",{className:"max-w-4xl mx-auto text-center px-4 sm:px-6 lg:px-8",children:[a.jsx("h2",{className:"text-3xl md:text-4xl font-bold text-white mb-4",children:"Ready to transform your sales process?"}),a.jsx("p",{className:"text-xl text-blue-100 mb-8",children:"Join thousands of sales teams already using NeuraCRM to close more deals"}),a.jsxs(Ja,{to:"/organization-signup",className:"bg-white text-blue-600 px-8 py-4 rounded-full text-lg font-semibold hover:bg-gray-100 transition-all duration-200 shadow-lg hover:shadow-xl inline-flex items-center gap-2",children:["Start Your Free Trial",a.jsx(Oo,{className:"w-5 h-5"})]})]})}),a.jsx("footer",{className:"bg-gray-900 text-white py-12",children:a.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:[a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-8",children:[a.jsxs("div",{children:[a.jsxs("div",{className:"flex items-center mb-4",children:[a.jsx("img",{className:"h-8 w-auto",src:"/assets/NeuraCRM--QfIME8Q.png",alt:"NeuraCRM"}),a.jsx("span",{className:"ml-2 text-xl font-bold",children:"NeuraCRM"})]}),a.jsx("p",{className:"text-gray-400",children:"The future of sales CRM, powered by AI and designed for modern teams."})]}),a.jsxs("div",{children:[a.jsx("h3",{className:"text-lg font-semibold mb-4",children:"Product"}),a.jsxs("ul",{className:"space-y-2",children:[a.jsx("li",{children:a.jsx("a",{href:"#features",className:"text-gray-400 hover:text-white",children:"Features"})}),a.jsx("li",{children:a.jsx("a",{href:"#pricing",className:"text-gray-400 hover:text-white",children:"Pricing"})}),a.jsx("li",{children:a.jsx("a",{href:"#",className:"text-gray-400 hover:text-white",children:"Integrations"})}),a.jsx("li",{children:a.jsx("a",{href:"#",className:"text-gray-400 hover:text-white",children:"API"})})]})]}),a.jsxs("div",{children:[a.jsx("h3",{className:"text-lg font-semibold mb-4",children:"Company"}),a.jsxs("ul",{className:"space-y-2",children:[a.jsx("li",{children:a.jsx("a",{href:"#",className:"text-gray-400 hover:text-white",children:"About"})}),a.jsx("li",{children:a.jsx("a",{href:"#",className:"text-gray-400 hover:text-white",children:"Blog"})}),a.jsx("li",{children:a.jsx("a",{href:"#",className:"text-gray-400 hover:text-white",children:"Careers"})}),a.jsx("li",{children:a.jsx("a",{href:"#",className:"text-gray-400 hover:text-white",children:"Contact"})})]})]}),a.jsxs("div",{children:[a.jsx("h3",{className:"text-lg font-semibold mb-4",children:"Support"}),a.jsxs("ul",{className:"space-y-2",children:[a.jsx("li",{children:a.jsx("a",{href:"#",className:"text-gray-400 hover:text-white",children:"Help Center"})}),a.jsx("li",{children:a.jsx("a",{href:"#",className:"text-gray-400 hover:text-white",children:"Documentation"})}),a.jsx("li",{children:a.jsx("a",{href:"#",className:"text-gray-400 hover:text-white",children:"Status"})}),a.jsx("li",{children:a.jsx("a",{href:"#",className:"text-gray-400 hover:text-white",children:"Security"})})]})]})]}),a.jsx("div",{className:"border-t border-gray-800 mt-8 pt-8 text-center",children:a.jsx("p",{className:"text-gray-400",children:"© 2024 NeuraCRM. All rights reserved."})})]})})]})},ZAe=()=>{const e=Wo(),{register:t}=va(),[r,n]=v.useState({name:"",email:"",password:"",confirmPassword:"",agreeToTerms:!1}),[s,i]=v.useState(!1),[l,c]=v.useState(!1),[d,f]=v.useState(!1),[h,g]=v.useState({}),[p,y]=v.useState(!1),b=()=>{const S={};return r.name.trim()?r.name.trim().length<2&&(S.name="Name must be at least 2 characters"):S.name="Name is required",r.email.trim()?/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(r.email)||(S.email="Please enter a valid email address"):S.email="Email is required",r.password?r.password.length<8?S.password="Password must be at least 8 characters":/(?=.*[a-z])(?=.*[A-Z])(?=.*\d)/.test(r.password)||(S.password="Password must contain at least one uppercase letter, one lowercase letter, and one number"):S.password="Password is required",r.confirmPassword?r.password!==r.confirmPassword&&(S.confirmPassword="Passwords do not match"):S.confirmPassword="Please confirm your password",r.agreeToTerms||(S.agreeToTerms=!0),g(S),Object.keys(S).length===0},w=async S=>{if(S.preventDefault(),!!b()){f(!0),g({});try{await t(r.name.trim(),r.email.trim(),r.password),y(!0),setTimeout(()=>{e("/dashboard")},2e3)}catch(k){k.message==="Email already registered"?g({email:"This email is already registered"}):g({email:k.message||"Registration failed. Please try again."})}finally{f(!1)}}},j=(S,k)=>{n(E=>({...E,[S]:k})),h[S]&&g(E=>({...E,[S]:void 0}))};return p?a.jsx("div",{className:"min-h-screen bg-gradient-to-br from-blue-50 via-white to-purple-50 flex items-center justify-center p-4",children:a.jsxs("div",{className:"max-w-md w-full bg-white rounded-2xl shadow-xl p-8 text-center",children:[a.jsx("div",{className:"w-16 h-16 bg-green-100 rounded-full flex items-center justify-center mx-auto mb-6",children:a.jsx(Tt,{className:"w-8 h-8 text-green-600"})}),a.jsx("h2",{className:"text-2xl font-bold text-gray-900 mb-4",children:"Account Created!"}),a.jsx("p",{className:"text-gray-600 mb-6",children:"Your account has been successfully created. You can now sign in to access your dashboard."}),a.jsx("div",{className:"animate-spin rounded-full h-6 w-6 border-b-2 border-blue-600 mx-auto"}),a.jsx("p",{className:"text-sm text-gray-500 mt-2",children:"Redirecting to sign in..."})]})}):a.jsx("div",{className:"min-h-screen bg-gradient-to-br from-blue-50 via-white to-purple-50 flex items-center justify-center p-4",children:a.jsxs("div",{className:"max-w-md w-full",children:[a.jsx("div",{className:"mb-6",children:a.jsxs(Ja,{to:"/",className:"inline-flex items-center text-gray-600 hover:text-gray-900 transition-colors",children:[a.jsx(JM,{className:"w-4 h-4 mr-2"}),"Back to home"]})}),a.jsxs("div",{className:"bg-white rounded-2xl shadow-xl p-8",children:[a.jsxs("div",{className:"text-center mb-8",children:[a.jsxs("div",{className:"flex items-center justify-center mb-4",children:[a.jsx("img",{className:"h-8 w-auto",src:"/assets/NeuraCRM--QfIME8Q.png",alt:"NeuraCRM"}),a.jsx("span",{className:"ml-2 text-xl font-bold bg-gradient-to-r from-blue-600 to-purple-600 bg-clip-text text-transparent",children:"NeuraCRM"})]}),a.jsx("h2",{className:"text-2xl font-bold text-gray-900 mb-2",children:"Create your account"}),a.jsx("p",{className:"text-gray-600",children:"Start your free trial today. No credit card required."})]}),a.jsxs("form",{onSubmit:w,className:"space-y-6",children:[a.jsxs("div",{children:[a.jsx("label",{htmlFor:"name",className:"block text-sm font-medium text-gray-700 mb-2",children:"Full Name"}),a.jsx("input",{type:"text",id:"name",value:r.name,onChange:S=>j("name",S.target.value),className:`w-full px-4 py-3 border rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent transition-all ${h.name?"border-red-300 bg-red-50":"border-gray-300"}`,placeholder:"Enter your full name"}),h.name&&a.jsxs("div",{className:"flex items-center mt-2 text-red-600 text-sm",children:[a.jsx(jr,{className:"w-4 h-4 mr-1"}),h.name]})]}),a.jsxs("div",{children:[a.jsx("label",{htmlFor:"email",className:"block text-sm font-medium text-gray-700 mb-2",children:"Email Address"}),a.jsx("input",{type:"email",id:"email",value:r.email,onChange:S=>j("email",S.target.value),className:`w-full px-4 py-3 border rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent transition-all ${h.email?"border-red-300 bg-red-50":"border-gray-300"}`,placeholder:"Enter your email address"}),h.email&&a.jsxs("div",{className:"flex items-center mt-2 text-red-600 text-sm",children:[a.jsx(jr,{className:"w-4 h-4 mr-1"}),h.email]})]}),a.jsxs("div",{children:[a.jsx("label",{htmlFor:"password",className:"block text-sm font-medium text-gray-700 mb-2",children:"Password"}),a.jsxs("div",{className:"relative",children:[a.jsx("input",{type:s?"text":"password",id:"password",value:r.password,onChange:S=>j("password",S.target.value),className:`w-full px-4 py-3 pr-12 border rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent transition-all ${h.password?"border-red-300 bg-red-50":"border-gray-300"}`,placeholder:"Create a strong password"}),a.jsx("button",{type:"button",onClick:()=>i(!s),className:"absolute right-3 top-1/2 transform -translate-y-1/2 text-gray-400 hover:text-gray-600",children:s?a.jsx(mh,{className:"w-5 h-5"}):a.jsx(gn,{className:"w-5 h-5"})})]}),h.password&&a.jsxs("div",{className:"flex items-center mt-2 text-red-600 text-sm",children:[a.jsx(jr,{className:"w-4 h-4 mr-1"}),h.password]})]}),a.jsxs("div",{children:[a.jsx("label",{htmlFor:"confirmPassword",className:"block text-sm font-medium text-gray-700 mb-2",children:"Confirm Password"}),a.jsxs("div",{className:"relative",children:[a.jsx("input",{type:l?"text":"password",id:"confirmPassword",value:r.confirmPassword,onChange:S=>j("confirmPassword",S.target.value),className:`w-full px-4 py-3 pr-12 border rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent transition-all ${h.confirmPassword?"border-red-300 bg-red-50":"border-gray-300"}`,placeholder:"Confirm your password"}),a.jsx("button",{type:"button",onClick:()=>c(!l),className:"absolute right-3 top-1/2 transform -translate-y-1/2 text-gray-400 hover:text-gray-600",children:l?a.jsx(mh,{className:"w-5 h-5"}):a.jsx(gn,{className:"w-5 h-5"})})]}),h.confirmPassword&&a.jsxs("div",{className:"flex items-center mt-2 text-red-600 text-sm",children:[a.jsx(jr,{className:"w-4 h-4 mr-1"}),h.confirmPassword]})]}),a.jsxs("div",{children:[a.jsxs("label",{className:"flex items-start",children:[a.jsx("input",{type:"checkbox",checked:r.agreeToTerms,onChange:S=>j("agreeToTerms",S.target.checked),className:"mt-1 h-4 w-4 text-blue-600 focus:ring-blue-500 border-gray-300 rounded"}),a.jsxs("span",{className:"ml-3 text-sm text-gray-600",children:["I agree to the"," ",a.jsx("a",{href:"#",className:"text-blue-600 hover:text-blue-500 font-medium",children:"Terms of Service"})," ","and"," ",a.jsx("a",{href:"#",className:"text-blue-600 hover:text-blue-500 font-medium",children:"Privacy Policy"})]})]}),h.agreeToTerms&&a.jsxs("div",{className:"flex items-center mt-2 text-red-600 text-sm",children:[a.jsx(jr,{className:"w-4 h-4 mr-1"}),h.agreeToTerms]})]}),a.jsx("button",{type:"submit",disabled:d,className:"w-full bg-gradient-to-r from-blue-600 to-purple-600 text-white py-3 px-4 rounded-lg font-semibold hover:from-blue-700 hover:to-purple-700 focus:ring-2 focus:ring-blue-500 focus:ring-offset-2 transition-all duration-200 disabled:opacity-50 disabled:cursor-not-allowed shadow-lg hover:shadow-xl",children:d?a.jsxs("div",{className:"flex items-center justify-center",children:[a.jsx("div",{className:"animate-spin rounded-full h-5 w-5 border-b-2 border-white mr-2"}),"Creating Account..."]}):"Create Account"})]}),a.jsx("div",{className:"mt-6 text-center",children:a.jsxs("p",{className:"text-gray-600",children:["Already have an account?"," ",a.jsx(Ja,{to:"/signin",className:"text-blue-600 hover:text-blue-500 font-medium",children:"Sign in"})]})})]}),a.jsx("div",{className:"mt-6 text-center",children:a.jsx("p",{className:"text-sm text-gray-500",children:"🔒 Your data is protected with enterprise-grade security"})})]})})},JAe=()=>{const e=Wo(),t=pi(),{login:r}=va(),[n,s]=v.useState({email:"",password:"",rememberMe:!1}),[i,l]=v.useState(!1),[c,d]=v.useState(!1),[f,h]=v.useState({}),[g,p]=v.useState(!1),y=t.state?.from?.pathname||"/dashboard",b=()=>{const S={};return n.email.trim()?/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(n.email)||(S.email="Please enter a valid email address"):S.email="Email is required",n.password||(S.password="Password is required"),h(S),Object.keys(S).length===0},w=async S=>{if(S.preventDefault(),!!b()){d(!0),h({});try{await r(n.email.trim(),n.password),p(!0),setTimeout(()=>{e(y,{replace:!0})},1500)}catch(k){k.message==="Incorrect email or password"?h({email:"Invalid email or password"}):h({email:k.message||"Login failed. Please try again."})}finally{d(!1)}}},j=(S,k)=>{s(E=>({...E,[S]:k})),f[S]&&h(E=>({...E,[S]:void 0}))};return g?a.jsx("div",{className:"min-h-screen bg-gradient-to-br from-blue-50 via-white to-purple-50 flex items-center justify-center p-4",children:a.jsxs("div",{className:"max-w-md w-full bg-white rounded-2xl shadow-xl p-8 text-center",children:[a.jsx("div",{className:"w-16 h-16 bg-green-100 rounded-full flex items-center justify-center mx-auto mb-6",children:a.jsx(Tt,{className:"w-8 h-8 text-green-600"})}),a.jsx("h2",{className:"text-2xl font-bold text-gray-900 mb-4",children:"Welcome back!"}),a.jsx("p",{className:"text-gray-600 mb-6",children:"You have successfully signed in. Redirecting to your dashboard..."}),a.jsx("div",{className:"animate-spin rounded-full h-6 w-6 border-b-2 border-blue-600 mx-auto"})]})}):a.jsx("div",{className:"min-h-screen bg-gradient-to-br from-blue-50 via-white to-purple-50 flex items-center justify-center p-4",children:a.jsxs("div",{className:"max-w-md w-full",children:[a.jsx("div",{className:"mb-6",children:a.jsxs(Ja,{to:"/",className:"inline-flex items-center text-gray-600 hover:text-gray-900 transition-colors",children:[a.jsx(JM,{className:"w-4 h-4 mr-2"}),"Back to home"]})}),a.jsxs("div",{className:"bg-white rounded-2xl shadow-xl p-8",children:[a.jsxs("div",{className:"text-center mb-8",children:[a.jsxs("div",{className:"flex items-center justify-center mb-4",children:[a.jsx("img",{className:"h-8 w-auto",src:"/assets/NeuraCRM.png",alt:"NeuraCRM"}),a.jsx("span",{className:"ml-2 text-xl font-bold bg-gradient-to-r from-blue-600 to-purple-600 bg-clip-text text-transparent",children:"NeuraCRM"})]}),a.jsx("h2",{className:"text-2xl font-bold text-gray-900 mb-2",children:"Welcome back"}),a.jsx("p",{className:"text-gray-600",children:"Sign in to your account to continue"})]}),a.jsxs("form",{onSubmit:w,className:"space-y-6",children:[a.jsxs("div",{children:[a.jsx("label",{htmlFor:"email",className:"block text-sm font-medium text-gray-700 mb-2",children:"Email Address"}),a.jsxs("div",{className:"relative",children:[a.jsx("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none",children:a.jsx(Kd,{className:"h-5 w-5 text-gray-400"})}),a.jsx("input",{type:"email",id:"email",value:n.email,onChange:S=>j("email",S.target.value),className:`w-full pl-10 pr-4 py-3 border rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent transition-all ${f.email?"border-red-300 bg-red-50":"border-gray-300"}`,placeholder:"Enter your email address"})]}),f.email&&a.jsxs("div",{className:"flex items-center mt-2 text-red-600 text-sm",children:[a.jsx(jr,{className:"w-4 h-4 mr-1"}),f.email]})]}),a.jsxs("div",{children:[a.jsx("label",{htmlFor:"password",className:"block text-sm font-medium text-gray-700 mb-2",children:"Password"}),a.jsxs("div",{className:"relative",children:[a.jsx("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none",children:a.jsx(sR,{className:"h-5 w-5 text-gray-400"})}),a.jsx("input",{type:i?"text":"password",id:"password",value:n.password,onChange:S=>j("password",S.target.value),className:`w-full pl-10 pr-12 py-3 border rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent transition-all ${f.password?"border-red-300 bg-red-50":"border-gray-300"}`,placeholder:"Enter your password"}),a.jsx("button",{type:"button",onClick:()=>l(!i),className:"absolute right-3 top-1/2 transform -translate-y-1/2 text-gray-400 hover:text-gray-600",children:i?a.jsx(mh,{className:"w-5 h-5"}):a.jsx(gn,{className:"w-5 h-5"})})]}),f.password&&a.jsxs("div",{className:"flex items-center mt-2 text-red-600 text-sm",children:[a.jsx(jr,{className:"w-4 h-4 mr-1"}),f.password]})]}),a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("label",{className:"flex items-center",children:[a.jsx("input",{type:"checkbox",checked:n.rememberMe,onChange:S=>j("rememberMe",S.target.checked),className:"h-4 w-4 text-blue-600 focus:ring-blue-500 border-gray-300 rounded"}),a.jsx("span",{className:"ml-2 text-sm text-gray-600",children:"Remember me"})]}),a.jsx("a",{href:"#",className:"text-sm text-blue-600 hover:text-blue-500 font-medium",children:"Forgot password?"})]}),a.jsx("button",{type:"submit",disabled:c,className:"w-full bg-gradient-to-r from-blue-600 to-purple-600 text-white py-3 px-4 rounded-lg font-semibold hover:from-blue-700 hover:to-purple-700 focus:ring-2 focus:ring-blue-500 focus:ring-offset-2 transition-all duration-200 disabled:opacity-50 disabled:cursor-not-allowed shadow-lg hover:shadow-xl",children:c?a.jsxs("div",{className:"flex items-center justify-center",children:[a.jsx("div",{className:"animate-spin rounded-full h-5 w-5 border-b-2 border-white mr-2"}),"Signing In..."]}):"Sign In"})]}),a.jsx("div",{className:"mt-6",children:a.jsxs("div",{className:"relative",children:[a.jsx("div",{className:"absolute inset-0 flex items-center",children:a.jsx("div",{className:"w-full border-t border-gray-300"})}),a.jsx("div",{className:"relative flex justify-center text-sm",children:a.jsx("span",{className:"px-2 bg-white text-gray-500",children:"Or continue with"})})]})}),a.jsxs("div",{className:"mt-6 grid grid-cols-2 gap-3",children:[a.jsxs("button",{className:"w-full inline-flex justify-center py-2 px-4 border border-gray-300 rounded-lg shadow-sm bg-white text-sm font-medium text-gray-500 hover:bg-gray-50 transition-colors",children:[a.jsxs("svg",{className:"w-5 h-5",viewBox:"0 0 24 24",children:[a.jsx("path",{fill:"currentColor",d:"M22.56 12.25c0-.78-.07-1.53-.2-2.25H12v4.26h5.92c-.26 1.37-1.04 2.53-2.21 3.31v2.77h3.57c2.08-1.92 3.28-4.74 3.28-8.09z"}),a.jsx("path",{fill:"currentColor",d:"M12 23c2.97 0 5.46-.98 7.28-2.66l-3.57-2.77c-.98.66-2.23 1.06-3.71 1.06-2.86 0-5.29-1.93-6.16-4.53H2.18v2.84C3.99 20.53 7.7 23 12 23z"}),a.jsx("path",{fill:"currentColor",d:"M5.84 14.09c-.22-.66-.35-1.36-.35-2.09s.13-1.43.35-2.09V7.07H2.18C1.43 8.55 1 10.22 1 12s.43 3.45 1.18 4.93l2.85-2.22.81-.62z"}),a.jsx("path",{fill:"currentColor",d:"M12 5.38c1.62 0 3.06.56 4.21 1.64l3.15-3.15C17.45 2.09 14.97 1 12 1 7.7 1 3.99 3.47 2.18 7.07l3.66 2.84c.87-2.6 3.3-4.53 6.16-4.53z"})]}),a.jsx("span",{className:"ml-2",children:"Google"})]}),a.jsxs("button",{className:"w-full inline-flex justify-center py-2 px-4 border border-gray-300 rounded-lg shadow-sm bg-white text-sm font-medium text-gray-500 hover:bg-gray-50 transition-colors",children:[a.jsx("svg",{className:"w-5 h-5",fill:"currentColor",viewBox:"0 0 24 24",children:a.jsx("path",{d:"M24 4.557c-.883.392-1.832.656-2.828.775 1.017-.609 1.798-1.574 2.165-2.724-.951.564-2.005.974-3.127 1.195-.897-.957-2.178-1.555-3.594-1.555-3.179 0-5.515 2.966-4.797 6.045-4.091-.205-7.719-2.165-10.148-5.144-1.29 2.213-.669 5.108 1.523 6.574-.806-.026-1.566-.247-2.229-.616-.054 2.281 1.581 4.415 3.949 4.89-.693.188-1.452.232-2.224.084.626 1.956 2.444 3.379 4.6 3.419-2.07 1.623-4.678 2.348-7.29 2.04 2.179 1.397 4.768 2.212 7.548 2.212 9.142 0 14.307-7.721 13.995-14.646.962-.695 1.797-1.562 2.457-2.549z"})}),a.jsx("span",{className:"ml-2",children:"Twitter"})]})]}),a.jsx("div",{className:"mt-6 text-center",children:a.jsxs("p",{className:"text-gray-600",children:["Don't have an account?"," ",a.jsx(Ja,{to:"/signup",className:"text-blue-600 hover:text-blue-500 font-medium",children:"Sign up"})]})})]}),a.jsx("div",{className:"mt-6 text-center",children:a.jsx("p",{className:"text-sm text-gray-500",children:"🔒 Your data is protected with enterprise-grade security"})})]})})},eCe=()=>{const{logout:e}=va(),t=Wo();return v.useEffect(()=>{e(),t("/",{replace:!0})},[e,t]),a.jsx("div",{className:"min-h-screen flex items-center justify-center bg-gray-50",children:a.jsxs("div",{className:"text-center",children:[a.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-600 mx-auto mb-4"}),a.jsx("p",{className:"text-gray-600",children:"Signing you out..."})]})})},SM={async getSubscriptionPlans(){return Ee("/api/subscription-plans")},async signupOrganization(e){return Ee("/api/organizations/signup",{method:"POST",body:JSON.stringify(e)})},async checkUserLimit(e){return Ee(`/api/organizations/${e}/user-limit`)}},tCe=()=>{const e=Wo(),[t,r]=v.useState(1),[n,s]=v.useState([]),[i,l]=v.useState("free"),[c,d]=v.useState(!1),[f,h]=v.useState(!1),[g,p]=v.useState({}),[y,b]=v.useState({organization_name:"",organization_domain:"",admin_name:"",admin_email:"",admin_password:"",plan:"free"});v.useEffect(()=>{w()},[]);const w=async()=>{try{const T=await SM.getSubscriptionPlans();s(T)}catch(T){console.error("Failed to load subscription plans:",T)}},j=()=>{const T={};return y.organization_name.trim()?y.organization_name.trim().length<2&&(T.organization_name="Organization name must be at least 2 characters"):T.organization_name="Organization name is required",y.admin_name.trim()?y.admin_name.trim().length<2&&(T.admin_name="Admin name must be at least 2 characters"):T.admin_name="Admin name is required",y.admin_email.trim()?/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(y.admin_email)||(T.admin_email="Please enter a valid email address"):T.admin_email="Admin email is required",y.admin_password?y.admin_password.length<8?T.admin_password="Password must be at least 8 characters":/(?=.*[a-z])(?=.*[A-Z])(?=.*\d)/.test(y.admin_password)||(T.admin_password="Password must contain at least one uppercase letter, one lowercase letter, and one number"):T.admin_password="Password is required",p(T),Object.keys(T).length===0},S=async T=>{if(T.preventDefault(),!!j()){h(!0),p({});try{const A={...y,plan:i},O=await SM.signupOrganization(A);localStorage.setItem("access_token",O.access_token),e("/dashboard")}catch(A){console.error("Organization signup failed:",A),p({general:A.message||"Failed to create organization. Please try again."})}finally{h(!1)}}},k=(T,A)=>{b(O=>({...O,[T]:A})),g[T]&&p(O=>({...O,[T]:void 0}))},E=()=>a.jsxs("div",{className:"space-y-6",children:[a.jsxs("div",{className:"text-center",children:[a.jsx("h2",{className:"text-2xl font-bold text-gray-900 mb-2",children:"Choose Your Plan"}),a.jsx("p",{className:"text-gray-600",children:"Select the perfect plan for your organization"})]}),a.jsx("div",{className:"grid md:grid-cols-3 gap-6",children:n.map(T=>a.jsxs("div",{className:`relative p-6 rounded-xl border-2 cursor-pointer transition-all ${i===T.name?"border-blue-500 bg-blue-50":"border-gray-200 hover:border-gray-300"}`,onClick:()=>l(T.name),children:[i===T.name&&a.jsx("div",{className:"absolute -top-3 left-1/2 transform -translate-x-1/2",children:a.jsx("div",{className:"bg-blue-500 text-white px-3 py-1 rounded-full text-sm font-medium",children:"Selected"})}),a.jsxs("div",{className:"text-center",children:[a.jsx("h3",{className:"text-xl font-bold text-gray-900 mb-2",children:T.display_name}),a.jsxs("div",{className:"mb-4",children:[a.jsxs("span",{className:"text-3xl font-bold text-gray-900",children:["$",T.price_monthly]}),a.jsx("span",{className:"text-gray-600",children:"/month"})]}),a.jsx("p",{className:"text-gray-600 text-sm mb-4",children:T.description}),a.jsx("div",{className:"space-y-2 text-sm",children:T.features.map((A,O)=>a.jsxs("div",{className:"flex items-center text-gray-700",children:[a.jsx(Tt,{className:"w-4 h-4 text-green-500 mr-2 flex-shrink-0"}),A]},O))})]})]},T.id))}),a.jsx("div",{className:"flex justify-center",children:a.jsx("button",{type:"button",onClick:()=>r(2),className:"bg-blue-600 text-white px-8 py-3 rounded-lg font-medium hover:bg-blue-700 transition-colors",children:"Continue to Organization Details"})})]}),C=()=>a.jsxs("div",{className:"space-y-6",children:[a.jsxs("div",{className:"text-center",children:[a.jsx("h2",{className:"text-2xl font-bold text-gray-900 mb-2",children:"Organization Details"}),a.jsx("p",{className:"text-gray-600",children:"Tell us about your organization"})]}),a.jsxs("form",{onSubmit:S,className:"space-y-6",children:[a.jsxs("div",{className:"grid md:grid-cols-2 gap-6",children:[a.jsxs("div",{children:[a.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:[a.jsx(od,{className:"w-4 h-4 inline mr-2"}),"Organization Name *"]}),a.jsx("input",{type:"text",value:y.organization_name,onChange:T=>k("organization_name",T.target.value),className:`w-full px-4 py-3 border rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent ${g.organization_name?"border-red-500":"border-gray-300"}`,placeholder:"Your Company Name"}),g.organization_name&&a.jsx("p",{className:"text-red-500 text-sm mt-1",children:g.organization_name})]}),a.jsxs("div",{children:[a.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:[a.jsx(nR,{className:"w-4 h-4 inline mr-2"}),"Organization Domain (Optional)"]}),a.jsx("input",{type:"text",value:y.organization_domain,onChange:T=>k("organization_domain",T.target.value),className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",placeholder:"yourcompany.com"})]})]}),a.jsxs("div",{className:"grid md:grid-cols-2 gap-6",children:[a.jsxs("div",{children:[a.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:[a.jsx(Yd,{className:"w-4 h-4 inline mr-2"}),"Admin Name *"]}),a.jsx("input",{type:"text",value:y.admin_name,onChange:T=>k("admin_name",T.target.value),className:`w-full px-4 py-3 border rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent ${g.admin_name?"border-red-500":"border-gray-300"}`,placeholder:"Your Full Name"}),g.admin_name&&a.jsx("p",{className:"text-red-500 text-sm mt-1",children:g.admin_name})]}),a.jsxs("div",{children:[a.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:[a.jsx(Kd,{className:"w-4 h-4 inline mr-2"}),"Admin Email *"]}),a.jsx("input",{type:"email",value:y.admin_email,onChange:T=>k("admin_email",T.target.value),className:`w-full px-4 py-3 border rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent ${g.admin_email?"border-red-500":"border-gray-300"}`,placeholder:"admin@yourcompany.com"}),g.admin_email&&a.jsx("p",{className:"text-red-500 text-sm mt-1",children:g.admin_email})]})]}),a.jsxs("div",{children:[a.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:[a.jsx(sR,{className:"w-4 h-4 inline mr-2"}),"Admin Password *"]}),a.jsxs("div",{className:"relative",children:[a.jsx("input",{type:c?"text":"password",value:y.admin_password,onChange:T=>k("admin_password",T.target.value),className:`w-full px-4 py-3 pr-12 border rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent ${g.admin_password?"border-red-500":"border-gray-300"}`,placeholder:"Create a strong password"}),a.jsx("button",{type:"button",onClick:()=>d(!c),className:"absolute right-3 top-1/2 transform -translate-y-1/2 text-gray-500 hover:text-gray-700",children:c?a.jsx(mh,{className:"w-5 h-5"}):a.jsx(gn,{className:"w-5 h-5"})})]}),g.admin_password&&a.jsx("p",{className:"text-red-500 text-sm mt-1",children:g.admin_password})]}),g.general&&a.jsx("div",{className:"bg-red-50 border border-red-200 rounded-lg p-4",children:a.jsx("p",{className:"text-red-600 text-sm",children:g.general})}),a.jsxs("div",{className:"flex justify-between",children:[a.jsx("button",{type:"button",onClick:()=>r(1),className:"px-6 py-3 border border-gray-300 text-gray-700 rounded-lg font-medium hover:bg-gray-50 transition-colors",children:"Back to Plans"}),a.jsx("button",{type:"submit",disabled:f,className:"bg-blue-600 text-white px-8 py-3 rounded-lg font-medium hover:bg-blue-700 transition-colors disabled:opacity-50 disabled:cursor-not-allowed flex items-center",children:f?a.jsxs(a.Fragment,{children:[a.jsx("div",{className:"animate-spin rounded-full h-4 w-4 border-b-2 border-white mr-2"}),"Creating Organization..."]}):a.jsxs(a.Fragment,{children:[a.jsx(sd,{className:"w-4 h-4 mr-2"}),"Create Organization"]})})]})]})]});return a.jsx("div",{className:"min-h-screen bg-gradient-to-br from-blue-50 via-white to-purple-50",children:a.jsx("div",{className:"container mx-auto px-4 py-12",children:a.jsxs("div",{className:"max-w-4xl mx-auto",children:[a.jsxs("div",{className:"text-center mb-12",children:[a.jsx("h1",{className:"text-4xl font-bold text-gray-900 mb-4",children:"Start Your CRM Journey"}),a.jsx("p",{className:"text-xl text-gray-600",children:"Create your organization and get started with NeuraCRM in minutes"})]}),a.jsx("div",{className:"flex justify-center mb-8",children:a.jsxs("div",{className:"flex items-center space-x-4",children:[a.jsxs("div",{className:`flex items-center ${t>=1?"text-blue-600":"text-gray-400"}`,children:[a.jsx("div",{className:`w-8 h-8 rounded-full flex items-center justify-center ${t>=1?"bg-blue-600 text-white":"bg-gray-200 text-gray-400"}`,children:"1"}),a.jsx("span",{className:"ml-2 font-medium",children:"Choose Plan"})]}),a.jsx("div",{className:"w-8 h-0.5 bg-gray-300"}),a.jsxs("div",{className:`flex items-center ${t>=2?"text-blue-600":"text-gray-400"}`,children:[a.jsx("div",{className:`w-8 h-8 rounded-full flex items-center justify-center ${t>=2?"bg-blue-600 text-white":"bg-gray-200 text-gray-400"}`,children:"2"}),a.jsx("span",{className:"ml-2 font-medium",children:"Organization Details"})]})]})}),a.jsxs("div",{className:"bg-white rounded-2xl shadow-xl p-8",children:[t===1&&E(),t===2&&C()]}),a.jsx("div",{className:"text-center mt-8",children:a.jsxs("p",{className:"text-gray-600",children:["Already have an account?"," ",a.jsx("button",{onClick:()=>e("/signin"),className:"text-blue-600 hover:text-blue-700 font-medium",children:"Sign in here"})]})})]})})})},Lr=({children:e})=>{const{isAuthenticated:t,isLoading:r}=va(),n=pi();return r?a.jsx("div",{className:"min-h-screen bg-gradient-to-br from-blue-50 via-white to-purple-50 flex items-center justify-center",children:a.jsxs("div",{className:"text-center",children:[a.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-600 mx-auto mb-4"}),a.jsx("p",{className:"text-gray-600",children:"Loading..."})]})}):t?a.jsx(a.Fragment,{children:e}):a.jsx(UN,{to:"/signin",state:{from:n},replace:!0})};function rCe(){return a.jsx(pJ,{children:a.jsx(fJ,{children:a.jsx(tW,{children:a.jsxs(Dq,{children:[a.jsx(Kt,{path:"/",element:a.jsx(QAe,{})}),a.jsx(Kt,{path:"/signup",element:a.jsx(ZAe,{})}),a.jsx(Kt,{path:"/organization-signup",element:a.jsx(tCe,{})}),a.jsx(Kt,{path:"/signin",element:a.jsx(JAe,{})}),a.jsx(Kt,{path:"/logout",element:a.jsx(eCe,{})}),a.jsx(Kt,{path:"/dashboard",element:a.jsx(Lr,{children:a.jsx(Fr,{children:a.jsx(spe,{})})})}),a.jsx(Kt,{path:"/leads",element:a.jsx(Lr,{children:a.jsx(Fr,{children:a.jsx(oSe,{})})})}),a.jsx(Kt,{path:"/lead-assignment-rules",element:a.jsx(Lr,{children:a.jsx(Fr,{children:a.jsx(KAe,{})})})}),a.jsx(Kt,{path:"/approval-workflows",element:a.jsx(Lr,{children:a.jsx(Fr,{children:a.jsx(YAe,{})})})}),a.jsx(Kt,{path:"/lead-nurturing",element:a.jsx(Lr,{children:a.jsx(Fr,{children:a.jsx(XAe,{})})})}),a.jsx(Kt,{path:"/contacts",element:a.jsx(Lr,{children:a.jsx(Fr,{children:a.jsx(hSe,{})})})}),a.jsx(Kt,{path:"/kanban",element:a.jsx(Lr,{children:a.jsx(Fr,{children:a.jsx(zEe,{})})})}),a.jsx(Kt,{path:"/chat",element:a.jsx(Lr,{children:a.jsx(Fr,{children:a.jsx(tAe,{})})})}),a.jsx(Kt,{path:"/ai",element:a.jsx(Lr,{children:a.jsx(Fr,{children:a.jsx(aAe,{})})})}),a.jsx(Kt,{path:"/ai-help",element:a.jsx(Lr,{children:a.jsx(Fr,{children:a.jsx(sAe,{})})})}),a.jsx(Kt,{path:"/email-automation",element:a.jsx(Lr,{children:a.jsx(Fr,{children:a.jsx(xAe,{})})})}),a.jsx(Kt,{path:"/predictive-analytics",element:a.jsx(Lr,{children:a.jsx(Fr,{children:a.jsx(bAe,{})})})}),a.jsx(Kt,{path:"/user-management",element:a.jsx(Lr,{children:a.jsx(Fr,{children:a.jsx(kAe,{})})})}),a.jsx(Kt,{path:"/customer-accounts",element:a.jsx(Lr,{children:a.jsx(Fr,{children:a.jsx(EAe,{})})})}),a.jsx(Kt,{path:"/financial-management",element:a.jsx(Lr,{children:a.jsx(Fr,{children:a.jsx(TAe,{})})})}),a.jsx(Kt,{path:"/customer-support",element:a.jsx(Lr,{children:a.jsx(Fr,{children:a.jsx(AAe,{})})})}),a.jsx(Kt,{path:"/sentiment-analysis",element:a.jsx(Lr,{children:a.jsx(Fr,{children:a.jsx(CAe,{})})})}),a.jsx(Kt,{path:"/customer-segmentation",element:a.jsx(Lr,{children:a.jsx(Fr,{children:a.jsx(OAe,{})})})}),a.jsx(Kt,{path:"/advanced-forecasting",element:a.jsx(Lr,{children:a.jsx(Fr,{children:a.jsx(DAe,{})})})}),a.jsx(Kt,{path:"/telephony",element:a.jsx(Lr,{children:a.jsx(Fr,{children:a.jsx(MAe,{})})})}),a.jsx(Kt,{path:"/conversational-ai",element:a.jsx(Lr,{children:a.jsx(Fr,{children:a.jsx(RAe,{})})})}),a.jsx(Kt,{path:"/mlops",element:a.jsx(Lr,{children:a.jsx(Fr,{children:a.jsx(IAe,{})})})}),a.jsx(Kt,{path:"/document-processing",element:a.jsx(Lr,{children:a.jsx(Fr,{children:a.jsx(UAe,{})})})}),a.jsx(Kt,{path:"*",element:a.jsx(UN,{to:"/",replace:!0})})]})})})})}const nCe=new EV({defaultOptions:{queries:{retry:1,refetchOnWindowFocus:!1}}});if(jP)try{jP(window.location.href,document.referrer||"")}catch(e){console.error("UTM capture failed:",e)}window.addEventListener("error",e=>{console.error("Global error:",e.error)});window.addEventListener("unhandledrejection",e=>{console.error("Unhandled promise rejection:",e.reason)});const F2=document.getElementById("root");if(F2)try{console.log("Starting React app..."),cV.createRoot(F2).render(a.jsx(v.StrictMode,{children:a.jsx(OV,{client:nCe,children:a.jsx(rCe,{})})})),console.log("React app rendered successfully")}catch(e){console.error("Failed to render React app:",e),F2.innerHTML="<h1>Application Error</h1><p>Please refresh the page or contact support.</p>"}else{console.error("Root element not found!");const e=document.createElement("div");e.innerHTML="<h1>NeuraCRM Loading...</h1><p>If this persists, please refresh the page.</p>",e.style.cssText="text-align: center; padding: 50px; font-family: Arial, sans-serif;",document.body.appendChild(e)}
